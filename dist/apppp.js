(()=>{var t={788:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(537),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([t.id,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',"",{version:3,sources:["webpack://./node_modules/ol/ol.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,oCAAoC;EACpC,uCAAuC;AACzC;;AAEA;EACE,QAAQ;EACR,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,8BAA8B;EAC9B,kBAAkB;EAClB,WAAW;EACX,SAAS;EACT,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,4BAA4B;EAC5B,qBAAqB;AACvB;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX;AACA;EACE,UAAU;EACV,YAAY;EACZ,yBAAyB;EACzB,YAAY;EACZ,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,WAAW;EACX,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;AACA;EACE,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,0CAA0C;AAC5C;AACA;EACE,UAAU;AACZ;AACA;EACE,8BAA8B;EAC9B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;EACjB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,uCAAuC;EACvC,kBAAkB;EAClB,YAAY;AACd;AACA;EACE,uCAAuC;AACzC;AACA;EACE,SAAS;EACT,UAAU;AACZ;AACA;EACE,SAAS;EACT,WAAW;EACX,qDAAqD;AACvD;AACA;EACE,UAAU;EACV,kBAAkB;EAClB,0DAA0D;AAC5D;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,WAAW;EACX,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,oCAAoC;EACpC,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,UAAU;AACZ;AACA;;EAEE,qBAAqB;EACrB,oCAAoC;AACtC;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,0BAA0B;AAC5B;;;AAGA;EACE,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,6BAA6B;EAC7B,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;AACA;EACE,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,SAAS;EACT,iBAAiB;EACjB,WAAW;EACX,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;AACA;EACE,eAAe;EACf,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,SAAS;EACT,QAAQ;EACR,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,UAAU;EACV,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,aAAa;AACf;AACA;EACE,SAAS;EACT,OAAO;EACP,wBAAwB;AAC1B;AACA;;EAEE,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,SAAS;EACT,kBAAkB;AACpB;AACA;;EAEE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,qCAAqC;AACvC;;AAEA;EACE,YAAY;AACd",sourcesContent:['.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n'],sourceRoot:""}]);const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);i&&s[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),o&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=o):h[4]="".concat(o)),e.push(h))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(o," */"),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(s).concat([r]).join("\n")}return[e].join("\n")}},582:function(t){t.exports=function(){"use strict";function t(t,i,o,r,s){!function t(n,i,o,r,s){for(;r>o;){if(r-o>600){var a=r-o+1,l=i-o+1,u=Math.log(a),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(a-h)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(o,Math.floor(i-l*h/a+c)),Math.min(r,Math.floor(i+(a-l)*h/a+c)),s)}var p=n[i],f=o,d=r;for(e(n,o,i),s(n[r],p)>0&&e(n,o,r);f<d;){for(e(n,f,d),f++,d--;s(n[f],p)<0;)f++;for(;s(n[d],p)>0;)d--}0===s(n[o],p)?e(n,o,d):e(n,++d,r),d<=i&&(o=d+1),i<=d&&(r=d-1)}}(t,i,o||0,r||t.length-1,s||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function r(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<n;r++){var s=t.children[r];a(o,t.leaf?i(s):s)}return o}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,o,r){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=o)){var a=n+Math.ceil((i-n)/o/2)*o;t(e,a,n,i,r),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var s=e.children[r],a=e.leaf?i(s):s;f(t,a)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):o.push(s))}e=o.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var o=e.children[i],r=e.leaf?this.toBBox(o):o;if(f(t,r)){if(e.leaf||p(t,r))return!0;n.push(o)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,r,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),r=!0),s.leaf){var h=o(t,s.children,e);if(-1!==h)return s.children.splice(h,1),l.push(s),this._condense(l),this}r||s.leaf||!p(s,a)?i?(n++,s=i.children[n],r=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var o,s=n-e+1,a=this._maxEntries;if(s<=a)return r(o=d(t.slice(e,n+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(o=d([])).leaf=!1,o.height=i;var l=Math.ceil(s/a),u=l*Math.ceil(Math.sqrt(a));g(t,e,n,u,this.compareMinX);for(var h=e;h<=n;h+=u){var c=Math.min(h+u-1,n);g(t,h,c,l,this.compareMinY);for(var p=h;p<=c;p+=l){var f=Math.min(p+l-1,c);o.children.push(this._build(t,p,f,i-1))}}return r(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var o=1/0,r=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],u=h(l),c=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u);c<r?(r=c,o=u<o?u:o,s=l):c===r&&u<o&&(o=u,s=l)}e=s||e.children[0]}var p,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),a(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);var s=this._chooseSplitIndex(n,o,i),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,r(n,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,o,r,a,l,u,c,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=s(t,0,d,this.toBBox),_=s(t,d,n,this.toBBox),y=(o=g,r=_,void 0,void 0,void 0,void 0,a=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),u=Math.min(o.maxX,r.maxX),c=Math.min(o.maxY,r.maxY),Math.max(0,u-a)*Math.max(0,c-l)),v=h(g)+h(_);y<p?(p=y,i=d,f=v<f?v:f):y===p&&v<f&&(f=v,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var o=this.toBBox,r=s(t,0,e,o),l=s(t,n-e,n,o),u=c(r)+c(l),h=e;h<n-e;h++){var p=t.children[h];a(r,t.leaf?o(p):p),u+=c(r)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];a(l,t.leaf?o(d):d),u+=c(l)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},i}()},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var r={},s=[],a=0;a<t.length;a++){var l=t[a],u=i.base?l[0]+i.base:l[0],h=r[u]||0,c="".concat(u," ").concat(h);r[u]=h+1;var p=n(c),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var d=o(f,i);i.byIndex=a,e.splice(a,0,{identifier:c,updater:d,references:1})}s.push(c)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var r=i(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=n(r[s]);e[a].references--}for(var l=i(t,o),u=0;u<r.length;u++){var h=n(r[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}r=l}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";var t=n(379),e=n.n(t),i=n(795),o=n.n(i),r=n(569),s=n.n(r),a=n(565),l=n.n(a),u=n(216),h=n.n(u),c=n(589),p=n.n(c),f=n(788),d={};d.styleTagTransform=p(),d.setAttributes=l(),d.insert=s().bind(null,"head"),d.domAPI=o(),d.insertStyleElement=h(),e()(f.Z,d),f.Z&&f.Z.locals&&f.Z.locals;const g=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function _(t,e){return t>e?1:t<e?-1:0}function y(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var o=void 0;if(n>0){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return"function"==typeof n?n(e,t[o-1],t[o])>0?o-1:o:t[o-1]-e<e-t[o]?o-1:o}return i-1}function v(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function m(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,o=0;o<i;o++)t[t.length]=n[o]}function x(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function C(){return!0}function w(){return!1}function A(){}function E(){return function(){throw new Error("Unimplemented abstract method.")}()}var b=0;function S(t){return t.ol_uid||(t.ol_uid=String(++b))}var T,O="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",R=-1!==O.indexOf("firefox"),I=(-1!==O.indexOf("safari")&&O.indexOf("chrom"),-1!==O.indexOf("webkit")&&-1==O.indexOf("edge")),P=-1!==O.indexOf("macintosh"),F="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,M="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,L="undefined"!=typeof Image&&Image.prototype.decode,k=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}(),j=(T=function(t,e){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},T(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const D=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/v"+"6.12.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return j(e,t),e}(Error);function B(t,e){if(!t)throw new D(e)}var z;function G(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function W(t,e,n,i,o,r,s,a){var l=Math.sin(r),u=Math.cos(r);return t[0]=i*u,t[1]=o*l,t[2]=-i*l,t[3]=o*u,t[4]=s*i*u-a*i*l+e,t[5]=s*o*l+a*o*u+n,t}function X(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];B(0!==i,32);var o=e[0],r=e[1],s=e[2],a=e[3],l=e[4],u=e[5];return t[0]=a/i,t[1]=-r/i,t[2]=-s/i,t[3]=o/i,t[4]=(s*u-a*l)/i,t[5]=-(o*u-r*l)/i,t}function Y(t){var e="matrix("+t.join(", ")+")";if(M)return e;var n=z||(z=document.createElement("div"));return n.style.transform=e,n.style.transform}new Array(6);const N="top-left";function Z(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)nt(e,t[n]);return e}function U(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function K(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function V(t,e,n){var i,o;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function q(t,e){return J(t,e[0],e[1])}function H(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function J(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Q(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],s=e[0],a=e[1],l=0;return s<n?l|=16:s>o&&(l|=4),a<i?l|=8:a>r&&(l|=2),0===l&&(l=1),l}function $(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function tt(t){return $(1/0,1/0,-1/0,-1/0,t)}function et(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function nt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function it(t,e,n,i,o){for(;n<i;n+=o)ot(t,e[n],e[n+1]);return t}function ot(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function rt(t,e){var n;return(n=e(at(t)))||(n=e(lt(t)))||(n=e(gt(t)))?n:(n=e(dt(t)))||!1}function st(t){var e=0;return vt(t)||(e=_t(t)*pt(t)),e}function at(t){return[t[0],t[1]]}function lt(t){return[t[2],t[1]]}function ut(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function ht(t,e){var n;return"bottom-left"===e?n=at(t):"bottom-right"===e?n=lt(t):e===N?n=dt(t):"top-right"===e?n=gt(t):B(!1,13),n}function ct(t,e,n,i,o){var r=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),l=Math.sin(n),u=r*a,h=r*l,c=s*a,p=s*l,f=t[0],d=t[1],g=f-u+p,_=f-u-p,y=f+u-p,v=f+u+p,m=d-h-c,x=d-h+c,C=d+h+c,w=d+h-c;return $(Math.min(g,_,y,v),Math.min(m,x,C,w),Math.max(g,_,y,v),Math.max(m,x,C,w),o)}function pt(t){return t[3]-t[1]}function ft(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return yt(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):tt(i),i}function dt(t){return[t[0],t[3]]}function gt(t){return[t[2],t[3]]}function _t(t){return t[2]-t[0]}function yt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function vt(t){return t[2]<t[0]||t[3]<t[1]}function mt(t,e,n){return Math.min(Math.max(t,e),n)}var xt="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Ct="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function wt(t,e,n,i,o,r){var s=o-n,a=r-i;if(0!==s||0!==a){var l=((t-n)*s+(e-i)*a)/(s*s+a*a);l>1?(n=o,i=r):l>0&&(n+=s*l,i+=a*l)}return At(t,e,n,i)}function At(t,e,n,i){var o=n-t,r=i-e;return o*o+r*r}function Et(t){return t*Math.PI/180}function bt(t,e){var n=t%e;return n*e<0?n+e:n}function St(t,e,n){return t+n*(e-t)}function Tt(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function Ot(t,e){return Math.round(Tt(t,e))}function Rt(t,e){return Math.floor(Tt(t,e))}function It(t,e){return Math.ceil(Tt(t,e))}var Pt=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Ft=/^([a-z]*)$|^hsla?\(.*\)$/i;function Mt(t){return"string"==typeof t?t:Dt(t)}var Lt=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var o=0;for(var r in t)0==(3&o++)&&(delete t[r],--e)}i=function(t){var e,n,i,o,r;if(Ft.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),Pt.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),o=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(o=(o<<4)+o)),r=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?jt(r=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((r=t.slice(4,-1).split(",").map(Number)).push(1),jt(r)):B(!1,14);return r}(n),t[n]=i,++e}return i}}();function kt(t){return Array.isArray(t)?t:Lt(t)}function jt(t){return t[0]=mt(t[0]+.5|0,0,255),t[1]=mt(t[1]+.5|0,0,255),t[2]=mt(t[2]+.5|0,0,255),t[3]=mt(t[3],0,1),t}function Dt(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}function Bt(t,e,n){return e+":"+t+":"+(n?Mt(n):"null")}var zt=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=Bt(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=Bt(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}());const Gt=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Wt="propertychange";var Xt="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(null!=r)for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])}return n};function Yt(t){for(var e in t)delete t[e]}var Nt="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function Zt(t){var e;for(e in t)return!1;return!e}var Ut=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Kt=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return Ut(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Gt(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,o=this.listeners_&&this.listeners_[n];if(o){var r=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in r||(r[n]=0,s[n]=0),++r[n];for(var a=0,l=o.length;a<l;++a)if(!1===(i="handleEvent"in o[a]?o[a].handleEvent(e):o[a].call(this,e))||e.propagationStopped){i=!1;break}if(--r[n],0===r[n]){var u=s[n];for(delete s[n];u--;)this.removeEventListener(n,A);delete r[n]}return i}},e.prototype.disposeInternal=function(){this.listeners_&&Yt(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=A,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(g),Vt="change",qt="contextmenu",Ht="click",Jt="keydown",Qt="keypress",$t="touchmove",te="wheel";function ee(t,e,n,i,o){if(i&&i!==t&&(n=n.bind(i)),o){var r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function ne(t,e,n,i){return ee(t,e,n,i,!0)}function ie(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Yt(t))}var oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),re=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return oe(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Vt)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=ee(this,t[o],e);return i}return ee(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var o=0;o<i;++o)n[o]=ne(this,t[o],e)}else n=ne(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)ie(t[e]);else ie(t)}(n);else if(Array.isArray(t))for(var i=0,o=t.length;i<o;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)},e}(Kt);re.prototype.on,re.prototype.once,re.prototype.un;const se=re;var ae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),le=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.key=n,o.oldValue=i,o}return ae(e,t),e}(Gt);const ue=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,S(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return ae(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Xt({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:"+t,this.dispatchEvent(new le(n,t,e)),n=Wt,this.dispatchEvent(new le(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var o=i[t];i[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Xt(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Zt(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(se),he="opacity",ce="visible",pe="extent",fe="zIndex",de="maxResolution",ge="minResolution",_e="maxZoom",ye="minZoom",ve="source";var me=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xe=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var i=Xt({},e);return"object"==typeof e.properties&&(delete i.properties,Xt(i,e.properties)),i.opacity=void 0!==e.opacity?e.opacity:1,B("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return me(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=mt(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return E()},e.prototype.getLayerStatesArray=function(t){return E()},e.prototype.getExtent=function(){return this.get(pe)},e.prototype.getMaxResolution=function(){return this.get(de)},e.prototype.getMinResolution=function(){return this.get(ge)},e.prototype.getMinZoom=function(){return this.get(ye)},e.prototype.getMaxZoom=function(){return this.get(_e)},e.prototype.getOpacity=function(){return this.get(he)},e.prototype.getSourceState=function(){return E()},e.prototype.getVisible=function(){return this.get(ce)},e.prototype.getZIndex=function(){return this.get(fe)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(pe,t)},e.prototype.setMaxResolution=function(t){this.set(de,t)},e.prototype.setMinResolution=function(t){this.set(ge,t)},e.prototype.setMaxZoom=function(t){this.set(_e,t)},e.prototype.setMinZoom=function(t){this.set(ye,t)},e.prototype.setOpacity=function(t){B("number"==typeof t,64),this.set(he,t)},e.prototype.setVisible=function(t){this.set(ce,t)},e.prototype.setZIndex=function(t){this.set(fe,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(ue);const Ce=xe,we="precompose",Ae="rendercomplete",Ee="undefined",be="ready";var Se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Te=function(t){function e(e){var n=this,i=Xt({},e);delete i.source,(n=t.call(this,i)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(ve,n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return Se(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(ve)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Ee},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ie(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=ee(t,Vt,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMapInternal=function(t){this.set("map",t)},e.prototype.getMapInternal=function(){return this.get("map")},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(ie(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(ie(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ee(t,we,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);B(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=ee(this,Vt,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ve,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Ce);function Oe(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const Re=Te;function Ie(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Pe(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}function Fe(t,e){if(e.canWrapX()){var n=_t(e.getExtent()),i=function(t,e,n){var i=e.getExtent(),o=0;if(e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])){var r=n||_t(i);o=Math.floor((t[0]-i[0])/r)}return o}(t,e,n);i&&(t[0]-=i*n)}return t}var Me=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Le=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Me(e,t),e.prototype.dispatchRenderEvent=function(t,e){E()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;W(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),X(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,s,a){var l,u=e.viewState;function h(t,e,n,i){return o.call(r,e,t?n:null,i)}var c=u.projection,p=Fe(t.slice(),c),f=[[0,0]];if(c.canWrapX()&&i){var d=_t(c.getExtent());f.push([-d,0],[d,0])}for(var g=e.layerStatesArray,_=g.length,y=[],v=[],m=0;m<f.length;m++)for(var x=_-1;x>=0;--x){var C=g[x],w=C.layer;if(w.hasRenderer()&&Oe(C,u)&&s.call(a,w)){var A=w.getRenderer(),E=w.getSource();if(A&&E){var b=E.getWrapX()?p:t,S=h.bind(null,C.managed);v[0]=b[0]+f[m][0],v[1]=b[1]+f[m][1],l=A.forEachFeatureAtCoordinate(v,e,n,S,y)}if(l)return l}}if(0!==y.length){var T=1/y.length;return y.forEach((function(t,e){return t.distanceSq+=e*T})),y.sort((function(t,e){return t.distanceSq-e.distanceSq})),y.some((function(t){return l=t.callback(t.feature,t.layer,t.geometry)})),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return E()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,C,this,o,r)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){E()},e.prototype.scheduleExpireIconCache=function(t){zt.canExpireCache()&&t.postRenderFunctions.push(ke)},e}(g);function ke(t,e){zt.expire()}const je=Le;var De=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Be=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=i,r.context=o,r}return De(e,t),e}(Gt);var ze="ol-hidden",Ge="ol-control",We=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Xe=["style","variant","weight","size","lineHeight","family"],Ye=function(t){var e=t.match(We);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,o=Xe.length;i<o;++i){var r=e[i+1];void 0!==r&&(n[Xe[i]]=r)}return n.families=n.family.split(/,\s?/),n};function Ne(t){return 1===t?"":String(Math.round(100*t)/100)}function Ze(t,e,n,i){var o;return o=n&&n.length?n.shift():M?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",i)}function Ue(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ke(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var Ve="10px sans-serif",qe="#000",He="round",Je=[],Qe="round",$e="#000",tn="center",en="middle",nn=[0,0,0,0],on=new ue;(new Kt).setSize=function(){console.warn("labelCache is deprecated.")};var rn,sn,an=null,ln={},un=function(){var t,e,n="32px ",i=["monospace","serif"],o=i.length,r="wmytzilWMYTZIL@#/&?$%10ï€“";function s(t,s,a){for(var l=!0,u=0;u<o;++u){var h=i[u];if(e=cn(t+" "+s+" "+n+h,r),a!=h){var c=cn(t+" "+s+" "+n+a+","+h,r);l=l&&c!=e}}return!!l}function a(){for(var e=!0,n=on.getKeys(),i=0,o=n.length;i<o;++i){var r=n[i];on.get(r)<100&&(s.apply(this,r.split("\n"))?(Yt(ln),an=null,rn=void 0,on.set(r,100)):(on.set(r,on.get(r)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Ye(e);if(n)for(var i=n.families,o=0,r=i.length;o<r;++o){var l=i[o],u=n.style+"\n"+n.weight+"\n"+l;void 0===on.get(u)&&(on.set(u,100,!0),s(n.style,n.weight,l)||(on.set(u,0,!0),void 0===t&&(t=setInterval(a,32))))}}}();function hn(t,e){return an||(an=Ze(1,1)),t!=rn&&(an.font=t,rn=an.font),an.measureText(e)}function cn(t,e){return hn(t,e).width}function pn(t,e,n){if(e in n)return n[e];var i=cn(t,e);return n[e]=i,i}var fn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const dn=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=ee(on,Wt,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className="ol-unselectable ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return fn(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new Be(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){ie(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(we,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var i=[],o=null,r=0,s=e.length;r<s;++r){var a=e[r];if(t.layerIndex=r,Oe(a,n)&&(a.sourceState==be||a.sourceState==Ee)){var l=a.layer,u=l.render(t,o);u&&(u!==o&&(this.children_.push(u),o=u),"getDeclutter"in l&&i.push(l))}}for(r=i.length-1;r>=0;--r)i[r].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,i=0;;++i){var o=n[i],r=e[i];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,s=e.layerStatesArray,a=s.length-1;a>=0;--a){var l=s[a],u=l.layer;if(u.hasRenderer()&&Oe(l,r)&&o(u)){var h=u.getRenderer().getDataAtPixel(t,e,n);if(h){var c=i(u,h);if(c)return c}}}},e}(je),gn="add",_n="remove";var yn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vn="length",mn=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.element=n,o.index=i,o}return yn(e,t),e}(Gt),xn=function(t){function e(e,n){var i=t.call(this)||this;i.on,i.once,i.un;var o=n||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var r=0,s=i.array_.length;r<s;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return yn(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(vn)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new mn(gn,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new mn(_n,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new mn(_n,i,t)),this.dispatchEvent(new mn(gn,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(vn,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new D(58)},e}(ue);const Cn=xn;var wn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),An=function(t){function e(e,n){var i=t.call(this,e)||this;return i.layer=n,i}return wn(e,t),e}(Gt),En="layers",bn=function(t){function e(e){var n=this,i=e||{},o=Xt({},i);delete o.layers;var r=i.layers;return(n=t.call(this,o)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(En,n.handleLayersChanged_),r?Array.isArray(r)?r=new Cn(r.slice(),{unique:!0}):B("function"==typeof r.getArray,43):r=new Cn(void 0,{unique:!0}),n.setLayers(r),n}return wn(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ie),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(ee(t,gn,this.handleLayersAdd_,this),ee(t,_n,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(ie);Yt(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new An("addlayer",r))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[ee(t,Wt,this.handleLayerChange_,this),ee(t,Vt,this.handleLayerChange_,this)];t instanceof e&&n.push(ee(t,"addlayer",this.handleLayerGroupAdd_,this),ee(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[S(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new An("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new An("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new An("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=S(e);this.listenerKeys_[n].forEach(ie),delete this.listenerKeys_[n],this.dispatchEvent(new An("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(En)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),i=0,o=n.length;i<o;++i)this.dispatchEvent(new An("removelayer",n[i]));this.set(En,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var i=this.getLayerState(),o=i.zIndex;t||void 0!==i.zIndex||(o=0);for(var r=n,s=e.length;r<s;r++){var a=e[r];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==a.extent?a.extent=ft(a.extent,i.extent):a.extent=i.extent),void 0===a.zIndex&&(a.zIndex=o)}return e},e.prototype.getSourceState=function(){return be},e}(Ce);const Sn=bn;var Tn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const On=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return Tn(e,t),e}(Gt);var Rn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const In=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,r)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==o&&o,s}return Rn(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(On),Pn={SINGLECLICK:"singleclick",CLICK:Ht,DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Fn="pointerdown";var Mn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Ln=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===n?1:n,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=ee(o,Fn,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=ee(o,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener($t,i.boundHandleTouchMove_,!!k&&{passive:!1}),i}return Mn(e,t),e.prototype.emulateClick_=function(t){var e=new In(Pn.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new In(Pn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new In(Pn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Pn.POINTERUP||e.type==Pn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Pn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new In(Pn.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ie),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new In(Pn.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var i=t[n];this.down_[n]="function"==typeof i?A:i}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ee(o,Pn.POINTERMOVE,this.handlePointerMove_,this),ee(o,Pn.POINTERUP,this.handlePointerUp_,this),ee(this.element_,Pn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(ee(this.element_.getRootNode(),Pn.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new In(Pn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new In(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ie(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener($t,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ie(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ie),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Kt),kn="postrender",jn="layergroup",Dn="size",Bn="target",zn="view";var Gn=1/0;const Wn=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Yt(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){B(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Gn&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[a]?l:a;e[t]=e[u],n[t]=n[u],t=u}e[t]=o,n[t]=r,this.siftDown_(s,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>r))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,s=0,a=o.length;for(e=0;e<a;++e)(n=i(t=o[e]))==Gn?delete this.queuedElements_[this.keyFunction_(t)]:(r[s]=n,o[s++]=t);o.length=s,r.length=s,this.heapify_()},t}();var Xn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Yn=function(t){function e(e,n){var i=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Xn(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(Vt,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener(Vt,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),0!==n.getState()||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,n.load())},e}(Wn),Nn="Point",Zn="LineString",Un="Polygon",Kn="MultiPoint",Vn="MultiLineString",qn="MultiPolygon",Hn="GeometryCollection",Jn="Circle";var Qn={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},$n={};$n[Qn.RADIANS]=6370997/(2*Math.PI),$n[Qn.DEGREES]=2*Math.PI*6370997/360,$n[Qn.FEET]=.3048,$n[Qn.METERS]=1,$n[Qn.USFEET]=1200/3937;const ti=Qn,ei={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var ni=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||$n[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();const ii=ni;var oi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ri=6378137,si=Math.PI*ri,ai=[-si,-si,si,si],li=[-180,-85,180,85],ui=ri*Math.log(Math.tan(Math.PI/2)),hi=function(t){function e(e){return t.call(this,{code:e,units:ti.METERS,extent:ai,global:!0,worldExtent:li,getPointResolution:function(t,e){return t/xt(e[1]/ri)}})||this}return oi(e,t),e}(ii),ci=[new hi("EPSG:3857"),new hi("EPSG:102100"),new hi("EPSG:102113"),new hi("EPSG:900913"),new hi("http://www.opengis.net/def/crs/EPSG/0/3857"),new hi("http://www.opengis.net/gml/srs/epsg.xml#3857")];var pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fi=[-180,-90,180,90],di=6378137*Math.PI/180,gi=function(t){function e(e,n){return t.call(this,{code:e,units:ti.DEGREES,extent:fi,axisOrientation:n,global:!0,metersPerUnit:di,worldExtent:fi})||this}return pi(e,t),e}(ii),_i=[new gi("CRS:84"),new gi("EPSG:4326","neu"),new gi("urn:ogc:def:crs:OGC:1.3:CRS84"),new gi("urn:ogc:def:crs:OGC:2:84"),new gi("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new gi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new gi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],yi={},vi={};function mi(t,e,n){var i=t.getCode(),o=e.getCode();i in vi||(vi[i]={}),vi[i][o]=n}function xi(t,e,n){var i=n||6371008.8,o=Et(t[1]),r=Et(e[1]),s=(r-o)/2,a=Et(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(o)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Ci(t,e,n){var i;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];i=e}else i=t.slice();return i}function wi(t,e,n){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function Ai(t){!function(t,e){yi[t]=e}(t.getCode(),t),mi(t,t,Ci)}function Ei(t){return"string"==typeof t?yi[e=t]||yi[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function bi(t,e,n,i){var o,r=(t=Ei(t)).getPointResolutionFunc();if(r)o=r(e,n),i&&i!==t.getUnits()&&(a=t.getMetersPerUnit())&&(o=o*a/$n[i]);else{var s=t.getUnits();if(s==ti.DEGREES&&!i||i==ti.DEGREES)o=e;else{var a,l=Ii(t,Ei("EPSG:4326"));if(l===wi&&s!==ti.DEGREES)o=e*t.getMetersPerUnit();else{var u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(xi((u=l(u,u,2)).slice(0,2),u.slice(2,4))+xi(u.slice(4,6),u.slice(6,8)))/2}void 0!==(a=i?$n[i]:t.getMetersPerUnit())&&(o/=a)}}return o}function Si(t){!function(t){t.forEach(Ai)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&mi(e,t,Ci)}))}))}function Ti(t,e){return t?"string"==typeof t?Ei(t):t:Ei(e)}function Oi(t,e){return Fi(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Ri(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Ii(t,e)===Ci)&&n}function Ii(t,e){var n=function(t,e){var n;return t in vi&&e in vi[t]&&(n=vi[t][e]),n}(t.getCode(),e.getCode());return n||(n=wi),n}function Pi(t,e){return Ii(Ei(t),Ei(e))}function Fi(t,e,n){return Pi(e,n)(t,void 0,t.length)}var Mi,Li,ki,ji=null;function Di(){return ji}function Bi(t,e){return t}function zi(t,e){return t}function Gi(t,e){return t}function Wi(t,e){return t}function Xi(t,e){return t}function Yi(t,e,n){return function(i,o,r,s,a){if(i){var l=e?0:r[0]*o,u=e?0:r[1]*o,h=a?a[0]:0,c=a?a[1]:0,p=t[0]+l/2+h,f=t[2]-l/2+h,d=t[1]+u/2+c,g=t[3]-u/2+c;p>f&&(f=p=(f+p)/2),d>g&&(g=d=(g+d)/2);var _=mt(i[0],p,f),y=mt(i[1],d,g),v=30*o;return s&&n&&(_+=-v*Math.log(1+Math.max(0,p-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-f)/v),y+=-v*Math.log(1+Math.max(0,d-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-g)/v)),[_,y]}}}function Ni(t){return t}function Zi(t,e,n,i){var o=_t(e)/n[0],r=pt(e)/n[1];return i?Math.min(t,Math.max(o,r)):Math.min(t,Math.min(o,r))}function Ui(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),mt(i,n/2,2*e)}function Ki(t,e,n,i,o){return function(r,s,a,l){if(void 0!==r){var u=i?Zi(t,i,a,o):t;return(void 0===n||n)&&l?Ui(r,u,e):mt(r,e,u)}}}function Vi(t){return void 0!==t?0:void 0}function qi(t){return void 0!==t?t:void 0}function Hi(t){return Math.pow(t,3)}function Ji(t){return 1-Hi(1-t)}function Qi(t){return 3*t*t-2*t*t*t}function $i(t){return t}Si(ci),Si(_i),Mi=ci,Li=function(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var s=0;s<i;s+=o){r[s]=si*t[s]/180;var a=ri*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>ui?a=ui:a<-ui&&(a=-ui),r[s+1]=a}return r},ki=function(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var s=0;s<i;s+=o)r[s]=180*t[s]/si,r[s+1]=360*Math.atan(Math.exp(t[s+1]/ri))/Math.PI-90;return r},_i.forEach((function(t){Mi.forEach((function(e){mi(t,e,Li),mi(e,t,ki)}))}));const to="XY",eo="XYZM";function no(t,e,n,i,o,r){for(var s=r||[],a=0,l=e;l<n;l+=i){var u=t[l],h=t[l+1];s[a++]=o[0]*u+o[2]*h+o[4],s[a++]=o[1]*u+o[3]*h+o[5]}return r&&s.length!=a&&(s.length=a),s}function io(t,e,n,i,o,r,s){for(var a=s||[],l=Math.cos(o),u=Math.sin(o),h=r[0],c=r[1],p=0,f=e;f<n;f+=i){var d=t[f]-h,g=t[f+1]-c;a[p++]=h+d*l-g*u,a[p++]=c+d*u+g*l;for(var _=f+2;_<f+i;++_)a[p++]=t[_]}return s&&a.length!=p&&(a.length=p),a}var oo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ro=[1,0,0,1,0,0],so=function(t){function e(){var e,n,i,o,r,s=t.call(this)||this;return s.extent_=[1/0,1/0,-1/0,-1/0],s.extentRevision_=-1,s.simplifiedGeometryMaxMinSquaredTolerance=0,s.simplifiedGeometryRevision=0,s.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},r=!1,function(){var t=Array.prototype.slice.call(arguments);return r&&this===o&&x(t,i)||(r=!0,o=this,i=t,n=e.apply(this,arguments)),n}),s}return oo(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return E()},e.prototype.closestPointXY=function(t,e,n,i){return E()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return E()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&tt(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){E()},e.prototype.scale=function(t,e,n){E()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return E()},e.prototype.getType=function(){return E()},e.prototype.applyTransform=function(t){E()},e.prototype.intersectsExtent=function(t){return E()},e.prototype.translate=function(t,e){E()},e.prototype.transform=function(t,e){var n=Ei(t),i=n.getUnits()==ti.TILE_PIXELS?function(t,i,o){var r=n.getExtent(),s=n.getWorldExtent(),a=pt(s)/pt(r);return W(ro,s[0],s[3],a,-a,0,0,0),no(t,0,t.length,o,ro,i),Pi(n,e)(t,i,o)}:Pi(n,e);return this.applyTransform(i),this},e}(ue);const ao=so;var lo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uo=function(t){function e(){var e=t.call(this)||this;return e.layout=to,e.stride=2,e.flatCoordinates=null,e}return lo(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=this.flatCoordinates.length,i=this.stride,it(tt(t),e,0,n,i);var e,n,i},e.prototype.getCoordinates=function(){return E()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=ho(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){E()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=ho(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=to,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=to:3==t?e="XYZ":4==t&&(e=eo),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();io(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=ut(this.getExtent()));var r=this.getFlatCoordinates();if(r){var s=this.getStride();!function(t,e,n,i,o,r,s,a){for(var l=a||[],u=s[0],h=s[1],c=0,p=0;p<n;p+=i){var f=t[p]-u,d=t[p+1]-h;l[c++]=u+o*f,l[c++]=h+r*d;for(var g=p+2;g<p+i;++g)l[c++]=t[g]}a&&l.length!=c&&(l.length=c)}(r,0,r.length,s,t,i,o,r),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,s){for(var a=s||[],l=0,u=0;u<n;u+=i){a[l++]=t[u]+o,a[l++]=t[u+1]+r;for(var h=u+2;h<u+i;++h)a[l++]=t[h]}s&&a.length!=l&&(a.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(ao);function ho(t){var e;return t==to?e=2:"XYZ"==t||"XYM"==t?e=3:t==eo&&(e=4),e}const co=uo;function po(t,e,n,i,o,r,s){var a,l=t[e],u=t[e+1],h=t[n]-l,c=t[n+1]-u;if(0===h&&0===c)a=e;else{var p=((o-l)*h+(r-u)*c)/(h*h+c*c);if(p>1)a=n;else{if(p>0){for(var f=0;f<i;++f)s[f]=St(t[e+f],t[n+f],p);return void(s.length=i)}a=e}}for(f=0;f<i;++f)s[f]=t[a+f];s.length=i}function fo(t,e,n,i,o){var r=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],l=t[e+1],u=At(r,s,a,l);u>o&&(o=u),r=a,s=l}return o}function go(t,e,n,i,o,r,s,a,l,u,h){if(e==n)return u;var c,p;if(0===o){if((p=At(s,a,t[e],t[e+1]))<u){for(c=0;c<i;++c)l[c]=t[e+c];return l.length=i,p}return u}for(var f=h||[NaN,NaN],d=e+i;d<n;)if(po(t,d-i,d,i,s,a,f),(p=At(s,a,f[0],f[1]))<u){for(u=p,c=0;c<i;++c)l[c]=f[c];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(u))/o|0,1);if(r&&(po(t,n-i,e,i,s,a,f),(p=At(s,a,f[0],f[1]))<u)){for(u=p,c=0;c<i;++c)l[c]=f[c];l.length=i}return u}function _o(t,e,n,i){for(var o=0,r=n.length;o<r;++o)for(var s=n[o],a=0;a<i;++a)t[e++]=s[a];return e}function yo(t,e){return e*Math.round(t/e)}function vo(t,e,n,i,o,r,s){if(e==n)return s;var a,l,u=yo(t[e],o),h=yo(t[e+1],o);e+=i,r[s++]=u,r[s++]=h;do{if(a=yo(t[e],o),l=yo(t[e+1],o),(e+=i)==n)return r[s++]=a,r[s++]=l,s}while(a==u&&l==h);for(;e<n;){var c=yo(t[e],o),p=yo(t[e+1],o);if(e+=i,c!=a||p!=l){var f=a-u,d=l-h,g=c-u,_=p-h;f*_==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&_<d||d==_||d>0&&_>d)?(a=c,l=p):(r[s++]=a,r[s++]=l,u=a,h=l,a=c,l=p)}}return r[s++]=a,r[s++]=l,s}function mo(t,e,n,i,o){for(var r=void 0!==o?o:[],s=0,a=e;a<n;a+=i)r[s++]=t.slice(a,a+i);return r.length=s,r}function xo(t,e,n,i,o){for(var r=void 0!==o?o:[],s=0,a=0,l=n.length;a<l;++a){var u=n[a];r[s++]=mo(t,e,u,i,r[s]),e=u}return r.length=s,r}function Co(t,e,n,i,o){for(var r=void 0!==o?o:[],s=0,a=0,l=n.length;a<l;++a){var u=n[a];r[s++]=xo(t,e,u,i,r[s]),e=u[u.length-1]}return r.length=s,r}function wo(t,e,n,i){for(var o=0,r=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];o+=s*a-r*l,r=a,s=l}return o/2}var Ao=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eo=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Ao(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<V(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),go(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return mo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=function(t,e,n,i,o,r,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)r[s++]=t[e],r[s++]=t[e+1];return s}var l=new Array(a);l[0]=1,l[a-1]=1;for(var u=[e,n-i],h=0;u.length>0;){for(var c=u.pop(),p=u.pop(),f=0,d=t[p],g=t[p+1],_=t[c],y=t[c+1],v=p+i;v<c;v+=i){var m=wt(t[v],t[v+1],d,g,_,y);m>f&&(h=v,f=m)}f>o&&(l[(h-e)/i]=1,p+i<h&&u.push(p,h),h+i<c&&u.push(h,c))}for(v=0;v<a;++v)l[v]&&(r[s++]=t[e+v*i],r[s++]=t[e+v*i+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,to)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_o(this.flatCoordinates,0,t,this.stride),this.changed()},e}(co);const bo=Eo;var So=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),To=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return So(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=At(t,e,o[0],o[1]);if(r<i){for(var s=this.stride,a=0;a<s;++a)n[a]=o[a];return n.length=s,r}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return n=t,$(i=(e=this.flatCoordinates)[0],o=e[1],i,o,n);var e,n,i,o},e.prototype.getType=function(){return Nn},e.prototype.intersectsExtent=function(t){return J(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(co);const Oo=To;function Ro(t,e,n,i,o){return!rt(o,(function(o){return!Io(t,e,n,i,o[0],o[1])}))}function Io(t,e,n,i,o,r){for(var s=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],h=t[e+1];l<=r?h>r&&(u-a)*(r-l)-(o-a)*(h-l)>0&&s++:h<=r&&(u-a)*(r-l)-(o-a)*(h-l)<0&&s--,a=u,l=h}return 0!==s}function Po(t,e,n,i,o,r){if(0===n.length)return!1;if(!Io(t,e,n[0],i,o,r))return!1;for(var s=1,a=n.length;s<a;++s)if(Io(t,n[s-1],n[s],i,o,r))return!1;return!0}function Fo(t,e,n,i,o){var r=it([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!yt(o,r)&&(!!H(o,r)||r[0]>=o[0]&&r[2]<=o[2]||r[1]>=o[1]&&r[3]<=o[3]||function(t,e,n,i,r){var s,a,l;for(e+=i;e<n;e+=i)if(a=t.slice(e-i,e),l=t.slice(e,e+i),s=function(t,e,n){var i=!1,o=Q(t,e),r=Q(t,n);if(1===o||1===r)i=!0;else{var s=t[0],a=t[1],l=t[2],u=t[3],h=e[0],c=e[1],p=n[0],f=n[1],d=(f-c)/(p-h),g=void 0,_=void 0;2&r&&!(2&o)&&(i=(g=p-(f-u)/d)>=s&&g<=l),i||!(4&r)||4&o||(i=(_=f-(p-l)*d)>=a&&_<=u),i||!(8&r)||8&o||(i=(g=p-(f-a)/d)>=s&&g<=l),i||!(16&r)||16&o||(i=(_=f-(p-s)*d)>=a&&_<=u)}return i}(o,a,l))return s;return!1}(t,e,n,i))}function Mo(t,e,n,i){for(;e<n-i;){for(var o=0;o<i;++o){var r=t[e+o];t[e+o]=t[n-i+o],t[n-i+o]=r}e+=i,n-=i}}function Lo(t,e,n,i){for(var o=0,r=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];o+=(a-r)*(l+s),r=a,s=l}return 0===o?void 0:o>0}function ko(t,e,n,i,o){for(var r=void 0!==o&&o,s=0,a=n.length;s<a;++s){var l=n[s],u=Lo(t,e,l,i);(0===s?r&&u||!r&&!u:r&&!u||!r&&u)&&Mo(t,e,l,i),e=l}return e}var jo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Do=function(t){function e(e,n,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&i?(o.setFlatCoordinates(n,e),o.ends_=i):o.setCoordinates(e,n),o}return jo(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?m(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<V(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,o){for(var r=0,s=n.length;r<s;++r){var a=n[r];o=fo(t,e,a,i,o),e=a}return o}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,o,r,s,a,l,u,h){for(var c=h||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];u=go(t,e,d,i,o,r,s,a,l,u,c),e=d}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Po(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var o=0,r=0,s=n.length;r<s;++r){var a=n[r];o+=wo(t,e,a,i),e=a}return o}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ko(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,xo(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ut(this.getExtent());this.flatInteriorPoint_=function(t,e,n,i,o,r,s){for(var a,l,u,h,c,p,f,d=o[r+1],g=[],y=0,v=n.length;y<v;++y){var m=n[y];for(h=t[m-i],p=t[m-i+1],a=e;a<m;a+=i)c=t[a],f=t[a+1],(d<=p&&f<=d||p<=d&&d<=f)&&(u=(d-p)/(f-p)*(c-h)+h,g.push(u)),h=c,p=f}var x=NaN,C=-1/0;for(g.sort(_),h=g[0],a=1,l=g.length;a<l;++a){c=g[a];var w=Math.abs(c-h);w>C&&Po(t,e,n,i,u=(h+c)/2,d)&&(x=u,C=w),h=c}return isNaN(x)&&(x=o[r]),s?(s.push(x,d,C),s):[x,d,C]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Oo(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new bo(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],o=0,r=0,s=n.length;r<s;++r){var a=n[r],l=new bo(e.slice(o,a),t);i.push(l),o=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,o){for(var r=void 0!==o&&o,s=0,a=n.length;s<a;++s){var l=n[s],u=Lo(t,e,l,i);if(0===s){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=l}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ko(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,o,r,s,a){for(var l=0,u=n.length;l<u;++l){var h=n[l];s=vo(t,e,h,i,o,r,s),a.push(s),e=h}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,to,i)},e.prototype.getType=function(){return Un},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,o){if(!function(t,e,n,i,o){return!!(Fo(t,e,n,i,o)||Io(t,e,n,i,o[0],o[1])||Io(t,e,n,i,o[0],o[3])||Io(t,e,n,i,o[2],o[1])||Io(t,e,n,i,o[2],o[3]))}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var r=1,s=n.length;r<s;++r)if(Ro(t,n[r-1],n[r],i,o)&&!Fo(t,n[r-1],n[r],i,o))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,o){for(var r=o||[],s=0,a=0,l=n.length;a<l;++a){var u=_o(t,e,n[a],i);r[s++]=u,e=u}return r.length=s,r}(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(co);const Bo=Do;function zo(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=[e,n,e,o,i,o,i,n,e,n];return new Do(r,to,[r.length])}var Go=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wo=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=Xt({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Ti(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.center&&(i.center=zi(i.center,n.projection_)),i.extent&&(i.extent=Wi(i.extent,n.projection_)),n.applyOptions_(i),n}return Go(e,t),e.prototype.applyOptions_=function(t){var e=Xt({},t);for(var n in ei)delete e[n];this.setProperties(e,!0);var i=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,h=Ti(t.projection,"EPSG:3857"),c=h.getExtent(),p=t.constrainOnlyCenter,f=t.extent;if(a||f||!h.isGlobal()||(p=!1,f=c),void 0!==t.resolutions){var d=t.resolutions;n=d[o],i=void 0!==d[r]?d[r]:d[d.length-1],e=t.constrainResolution?function(t,e,n,i){return function(o,r,s,a){if(void 0!==o){var l=t[0],u=t[t.length-1],h=n?Zi(l,n,s,i):l;if(a)return void 0===e||e?Ui(o,h,u):mt(o,u,h);var c=Math.min(h,o),p=Math.floor(y(t,c,r));return t[p]>h&&p<t.length-1?t[p+1]:t[p]}}}(d,l,!p&&f,u):Ki(n,i,l,!p&&f,u)}else{var g=(c?Math.max(_t(c),pt(c)):360*$n[ti.DEGREES]/h.getMetersPerUnit())/256/Math.pow(2,0),_=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?o=0:n=g/Math.pow(s,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,r):g/Math.pow(s,r):_),r=o+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,r-o),e=t.constrainResolution?function(t,e,n,i,o,r){return function(s,a,l,u){if(void 0!==s){var h=o?Zi(e,o,l,r):e,c=void 0!==n?n:0;if(u)return void 0===i||i?Ui(s,h,c):mt(s,c,h);var p=Math.ceil(Math.log(e/h)/Math.log(t)-1e-9),f=-a*(.5-1e-9)+.5,d=Math.min(h,s),g=Math.floor(Math.log(e/d)/Math.log(t)+f),_=Math.max(p,g);return mt(e/Math.pow(t,_),c,h)}}}(s,n,i,l,!p&&f,u):Ki(n,i,l,!p&&f,u)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:s}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var o=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Yi(t.extent,t.constrainOnlyCenter,e)}var n=Ti(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Yi(i,!1,!1)}return Ni}(t),r=i.constraint,s=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=Et(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?qi:"number"==typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):qi}return Vi;var n,i,o}(t);this.constraints_={center:o,resolution:r,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var i=t||[0,0,0,0];e=e||[0,0,0,0];var o=this.getResolution(),r=o/2*(i[3]-e[3]+e[1]-i[1]),s=o/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+r,n[1]-s])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Xt({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=Xt({},i)).center=zi(i.center,this.getProjection())),i.anchor&&((i=Xt({},i)).anchor=zi(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var o=arguments[i];o.center&&this.setCenterInternal(o.center),void 0!==o.zoom?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),void 0!==o.rotation&&this.setRotation(o.rotation)}if(i!==n){for(var r=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,u=[];i<n;++i){var h=arguments[i],c={start:r,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||Qi,callback:e};if(h.center&&(c.sourceCenter=s,c.targetCenter=h.center.slice(),s=c.targetCenter),void 0!==h.zoom?(c.sourceResolution=a,c.targetResolution=this.getResolutionForZoom(h.zoom),a=c.targetResolution):h.resolution&&(c.sourceResolution=a,c.targetResolution=h.resolution,a=c.targetResolution),void 0!==h.rotation){c.sourceRotation=l;var p=bt(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=l+p,l=c.targetRotation}Yo(c)?c.complete=!0:r+=c.duration,u.push(c)}this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()}else e&&Xo(e,!0)},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];if(i[0].callback&&Xo(i[0].callback,!1),!t)for(var o=0,r=i.length;o<r;++o){var s=i[o];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,s=i.length;r<s;++r){var a=i[r];if(!a.complete){var l=t-a.start,u=a.duration>0?l/a.duration:1;u>=1?(a.complete=!0,u=1):o=!1;var h=a.easing(u);if(a.sourceCenter){var c=a.sourceCenter[0],p=a.sourceCenter[1],f=a.targetCenter[0],d=a.targetCenter[1];this.nextCenter_=a.targetCenter;var g=c+h*(f-c),_=p+h*(d-p);this.targetCenter_=[g,_]}if(a.sourceResolution&&a.targetResolution){var y=1===h?a.targetResolution:a.sourceResolution+h*(a.targetResolution-a.sourceResolution);if(a.anchor){var v=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(y,0,v,!0);this.targetCenter_=this.calculateCenterZoom(m,a.anchor)}this.nextResolution_=a.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var x=1===h?bt(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+h*(a.targetRotation-a.sourceRotation);if(a.anchor){var C=this.constraints_.rotation(x,!0);this.targetCenter_=this.calculateCenterRotate(C,a.anchor)}this.nextRotation_=a.targetRotation,this.targetRotation_=x}if(this.applyTargetState_(!0),e=!0,!a.complete)break}}if(o){this.animations_[n]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=i[0].callback;w&&Xo(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenterInternal();return void 0!==r&&(Pe(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(i=n)[0]+=+o[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),o=this.getResolution();return void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Bi(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(ei.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Gi(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();B(n,1);var i=this.getResolution();B(void 0!==i,2);var o=this.getRotation();return B(void 0!==o,3),ct(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(ei.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Wi(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),i=_t(t)/n[0],o=pt(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(ei.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/o}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;if(o){var r=this.getViewportSizeMinusPadding_();i=No(i,this.getViewportSize_(),[r[0]/2+o[3],r[1]/2+o[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=y(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=mt(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,mt(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(B(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))B(!vt(t),25),n=zo(i=Wi(t,this.getProjection()));else if(t.getType()===Jn){var i;(n=zo(i=Wi(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),ut(i))}else{var o=Di();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),o=t.getFlatCoordinates(),r=t.getStride(),s=1/0,a=1/0,l=-1/0,u=-1/0,h=0,c=o.length;h<c;h+=r){var p=o[h]*n-o[h+1]*i,f=o[h]*i+o[h+1]*n;s=Math.min(s,p),a=Math.min(a,f),l=Math.max(l,p),u=Math.max(u,f)}return[s,a,l,u]},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var o,r=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var a=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);var u=this.getRotation(),h=Math.sin(u),c=Math.cos(u),p=ut(a);p[0]+=(r[1]-r[3])/2*l,p[1]+=(r[0]-r[2])/2*l;var f=p[0]*c-p[1]*h,d=p[1]*c+p[0]*h,g=this.getConstrainedCenter([f,d],l),_=n.callback?n.callback:A;void 0!==n.duration?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),Xo(_,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(zi(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(No(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,i){var o,r=this.padding_;if(r&&t){var s=this.getViewportSizeMinusPadding_(-n),a=No(t,i,[s[0]/2+r[3],s[1]/2+r[0]],e,n);o=[t[0]-a[0],t[1]-a[1]]}return o},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Bi(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&zi(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=zi(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(zi(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),s=this.constraints_.center(this.targetCenter_,r,o,n,this.calculateCenterShift(this.targetCenter_,r,i,o));this.get(ei.ROTATION)!==i&&this.set(ei.ROTATION,i),this.get(ei.RESOLUTION)!==r&&(this.set(ei.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),s&&this.get(ei.CENTER)&&Ie(this.get(ei.CENTER),s)||this.set(ei.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,o,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,r,s));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();var u=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&Ie(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:i,easing:Ji,anchor:u}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&zi(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(ue);function Xo(t,e){setTimeout((function(){t(e)}),0)}function Yo(t){return!(t.sourceCenter&&t.targetCenter&&!Ie(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function No(t,e,n,i,o){var r=Math.cos(-o),s=Math.sin(-o),a=t[0]*r-t[1]*s,l=t[1]*r+t[0]*s;return[(a+=(e[0]/2-n[0])*i)*r-(l+=(n[1]-e[1]/2)*i)*(s=-s),l*r+a*s]}const Zo=Wo;function Uo(t){return t[0]>0&&t[1]>0}function Ko(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Vo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function qo(t){t instanceof Re?t.setMapInternal(null):t instanceof Sn&&t.getLayers().forEach(qo)}function Ho(t,e){if(t instanceof Re)t.setMapInternal(e);else if(t instanceof Sn)for(var n=t.getLayers().getArray(),i=0,o=n.length;i<o;++i)Ho(n[i],e)}var Jo=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,r={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Sn({layers:t.layers});return r.layergroup=s,r.target=t.target,r.view=t.view instanceof Zo?t.view:new Zo,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Cn(t.controls.slice()):(B("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Cn(t.interactions.slice()):(B("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new Cn(t.overlays.slice()):(B("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Cn,{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:r}}(e);n.renderComplete_,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:F,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new Cn,n.interactions=i.interactions||new Cn,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Yn(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(jn,n.handleLayerGroupChanged_),n.addChangeListener(zn,n.handleViewChanged_),n.addChangeListener(Dn,n.handleSizeChanged_),n.addChangeListener(Bn,n.handleTargetChanged_),n.setProperties(i.values);var o=n;return!e.view||e.view instanceof Zo||e.view.then((function(t){o.setView(new Zo(t))})),n.controls.addEventListener(gn,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(_n,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(gn,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(_n,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(gn,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(_n,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return Vo(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){Ho(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,r=void 0!==n.layerFilter?n.layerFilter:C,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,s,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof Sn?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},o=void 0!==i.hitTolerance?i.hitTolerance:0,r=i.layerFilter||C;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:C,o=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Bn)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Bi(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?G(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(jn)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof Cn)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=zi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?G(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Dn)},e.prototype.getView=function(){return this.get(zn)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,i){return function(t,e,n,i,o){if(!t||!(n in t.wantedTiles))return Gn;if(!t.wantedTiles[n][e.getKey()])return Gn;var r=t.viewState.center,s=i[0]-r[0],a=i[1]-r[1];return 65536*Math.log(o)+Math.sqrt(s*s+a*a)/o}(this.frameState_,t,e,n,i)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new In(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===Fn||n===te||n===Jt){var i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,r=e.target;if(this.overlayContainerStopEvent_.contains(r)||!(o===i?i.documentElement:o).contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),a=s.length-1;a>=0;a--){var l=s[a];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[0]||o[1]){var r=Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.hasListener(Ae)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Ae,t);for(var s=this.postRenderFunctions_,a=0,l=s.length;a<l;++a)s[a](this,t);s.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)ie(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(qt,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(te,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Ke(this.viewport_)}var n=this.getTargetElement();if(n){for(var i in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Ln(this,this.moveTolerance_),Pn)this.mapBrowserEventHandler_.addEventListener(Pn[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(qt,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(te,this.boundHandleBrowserEvent_,!!k&&{passive:!1});var o=this.getOwnerDocument().defaultView,r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[ee(r,Jt,this.handleBrowserEvent,this),ee(r,Qt,this.handleBrowserEvent,this),ee(o,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ie(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ie(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ee(t,Wt,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ee(t,Vt,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ie),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new An("addlayer",t)),this.layerGroupPropertyListenerKeys_=[ee(t,Wt,this.render,this),ee(t,Vt,this.render,this),ee(t,"addlayer",this.handleLayerAdd_,this),ee(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){qo(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),i=this.getView(),o=this.frameState_,r=null;if(void 0!==n&&Uo(n)&&i&&i.isDef()){var s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:ct(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:S(this),renderTargets:{}},a.nextCenter&&a.nextResolution){var l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;r.nextExtent=ct(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),o&&(!this.previousExtent_||!vt(this.previousExtent_)&&!et(r.extent,this.previousExtent_))&&(this.dispatchEvent(new On("movestart",this,o)),this.previousExtent_=tt(this.previousExtent_)),this.previousExtent_&&!r.viewHints[0]&&!r.viewHints[1]&&!et(r.extent,this.previousExtent_)&&(this.dispatchEvent(new On("moveend",this,r)),K(r.extent,this.previousExtent_))),this.dispatchEvent(new On(kn,this,r)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new An("removelayer",e)),this.set(jn,t)},e.prototype.setSize=function(t){this.set(Dn,t)},e.prototype.setTarget=function(t){this.set(Bn,t)},e.prototype.setView=function(t){if(!t||t instanceof Zo)this.set(zn,t);else{this.set(zn,new Zo);var e=this;t.then((function(t){e.setView(new Zo(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(o)||!Uo(e=[i,o])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(ue);const Qo=Jo;var $o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tr=function(t){function e(e){var n=t.call(this)||this,i=e.element;return!i||e.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return $o(e,t),e.prototype.disposeInternal=function(){Ke(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Ke(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)ie(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==A&&this.listenerKeys.push(ee(t,kn,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(ue);const er=tr;var nr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ir=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:o+"-expand",a=void 0!==i.collapseLabel?i.collapseLabel:"â€º",l=void 0!==i.collapseClassName?i.collapseClassName:o+"-collpase";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a,n.collapseLabel_.className=l):n.collapseLabel_=a;var u=void 0!==i.label?i.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=s):n.label_=u;var h=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=r,n.toggleButton_.appendChild(h),n.toggleButton_.addEventListener(Ht,n.handleClick_.bind(n),!1);var c=o+" ol-unselectable "+Ge+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=c,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return nr(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=!0,o=t.layerStatesArray,r=0,s=o.length;r<s;++r){var a=o[r];if(Oe(a,t.viewState)){var l=a.layer.getSource();if(l){var u=l.getAttributions();if(u){var h=u(t);if(h)if(i=i&&!1!==l.getAttributionsCollapsible(),Array.isArray(h))for(var c=0,p=h.length;c<p;++c)h[c]in e||(n.push(h[c]),e[h[c]]=!0);else h in e||(n.push(h),e[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!x(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Ue(this.collapseLabel_,this.label_):Ue(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(er);const or=ir;var rr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"â‡§",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof r?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=r):(n.label_=r,n.label_.classList.add(s));var a=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(n.label_),l.addEventListener(Ht,n.handleClick_.bind(n),!1);var u=o+" ol-unselectable "+Ge,h=n.element;return h.className=u,h.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(ze),n}return rr(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:Ji}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(ze);o||0!==n?o&&0!==n&&this.element.classList.remove(ze):this.element.classList.add(ze)}this.label_.style.transform=i}this.rotation_=n}},e}(er);const ar=sr;var lr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ur=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:o+"-in",a=void 0!==i.zoomOutClassName?i.zoomOutClassName:o+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",u=void 0!==i.zoomOutLabel?i.zoomOutLabel:"â€“",h=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(Ht,n.handleClick_.bind(n,r),!1);var f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof u?document.createTextNode(u):u),f.addEventListener(Ht,n.handleClick_.bind(n,-r),!1);var d=o+" ol-unselectable "+Ge,g=n.element;return g.className=d,g.appendChild(p),g.appendChild(f),n.duration_=void 0!==i.duration?i.duration:250,n}return lr(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:Ji})):e.setZoom(i)}}},e}(er);const hr=ur,cr="active";var pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function fr(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),s=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==i?i:250,easing:Ji})}}const dr=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return pr(e,t),e.prototype.getActive=function(){return this.get(cr)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(cr,t)},e.prototype.setMap=function(t){this.map_=t},e}(ue);var gr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_r=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return gr(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Pn.DBLCLICK){var n=t.originalEvent,i=t.map,o=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;fr(i.getView(),r,o,this.duration_),n.preventDefault(),e=!0}return!e},e}(dr);const yr=_r;var vr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mr=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return vr(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Pn.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Pn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Pn.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==Pn.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Pn.POINTERDOWN||e===Pn.POINTERDRAG||e===Pn.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==Pn.POINTERUP?delete this.trackedPointers_[n]:(t.type==Pn.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Nt(this.trackedPointers_)}},e}(dr);function xr(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}const Cr=mr;function wr(t){var e=arguments;return function(t){for(var n=!0,i=0,o=e.length;i<o&&(n=n&&e[i](t));++i);return n}}var Ar=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Er=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},br=C,Sr=function(t){var e=t.originalEvent;return 0==e.button&&!(I&&P&&e.ctrlKey)},Tr=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Or=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Rr=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Ir=function(t){var e=t.originalEvent;return B(void 0!==e,56),"mouse"==e.pointerType},Pr=function(t){var e=t.originalEvent;return B(void 0!==e,56),e.isPrimary&&0===e.button},Fr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mr=function(t){function e(e){var n=t.call(this,{stopDown:w})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=i.condition?i.condition:wr(Tr,Pr);return n.condition_=i.onFocusOnly?wr(Er,o):o,n.noKinetic_=!1,n}return Fr(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,o=xr(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map.getView();e=r,n=s.getResolution(),e[0]*=n,e[1]*=n,Pe(r,s.getRotation()),s.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),a=e.getCoordinateFromPixelInternal([s[0]-i*Math.cos(o),s[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:Ji})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Cr);const Lr=Mr;var kr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jr=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:w})||this).condition_=i.condition?i.condition:Ar,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return kr(e,t),e.prototype.handleDragEvent=function(t){if(Ir(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Vi){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_;n.adjustRotationInternal(-s)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!Ir(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!Ir(t)||!Sr(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(Cr);const Dr=jr;var Br=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zr=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Br(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Bo([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(g);const Gr=zr;var Wr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xr=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return Wr(e,t),e}(Gt),Yr=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=e||{};return n.box_=new Gr(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:Sr,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return Wr(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Xr("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Xr(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Xr("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(Cr);const Nr=Yr;var Zr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ur=function(t){function e(e){var n=this,i=e||{},o=i.condition?i.condition:Or;return(n=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return Zr(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=e.rotatedExtentForGeometry(n),o=e.getResolutionForExtentInternal(i),r=e.getResolution()/o;(n=n.clone()).scale(r*r)}e.fitInternal(n,{duration:this.duration_,easing:Ji})},e}(Nr);const Kr=Ur;var Vr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qr=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(t){return Tr(t)&&Rr(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return Vr(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Jt){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){var o=t.map.getView(),r=o.getResolution()*this.pixelDelta_,s=0,a=0;40==i?a=-r:37==i?s=-r:39==i?s=r:a=r;var l=[s,a];Pe(l,o.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var o=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:$i,center:t.getConstrainedCenter(o)})}}(o,l,this.duration_),n.preventDefault(),e=!0}}return!e},e}(dr);const Hr=qr;var Jr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qr=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:Rr,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return Jr(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Jt||t.type==Qt){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var o=t.map,r=i=="+".charCodeAt(0)?this.delta_:-this.delta_;fr(o.getView(),r,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(dr);const $r=Qr,ts=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var es=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ns="trackpad",is=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var o=i.condition?i.condition:br;return n.condition_=i.onFocusOnly?wr(Er,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return es(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==te)return!0;var e,n=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==te&&(e=i.deltaY,R&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=F),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?ns:"wheel");var r=n.getView();if(this.mode_===ns&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-mt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),fr(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(dr);const os=is;var rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ss=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=w),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return rs(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Vi){var l=s.getViewport().getBoundingClientRect(),u=xr(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(u),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Cr);const as=ss;var ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),us=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=w),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return ls(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,s=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e);var u=a.getViewport().getBoundingClientRect(),h=xr(this.targetPointers);h[0]-=u.left,h[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(h),a.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Cr);const hs=us;var cs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ps=function(t){function e(e){return(e=Xt({},e)).controls||(e.controls=function(t){var e={},n=new Cn;return(void 0===e.zoom||e.zoom)&&n.push(new hr(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new ar(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new or(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},n=new Cn,i=new ts(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Dr),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new yr({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Lr({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new as),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new hs({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Hr),n.push(new $r({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new os({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Kr({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return cs(e,t),e.prototype.createRenderer=function(){return new dn(this)},e}(Qo);const fs=ps,ds="preload",gs="useInterimTilesOnError";var _s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ys=function(t){function e(e){var n=this,i=e||{},o=Xt({},i);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).on,n.once,n.un,n.setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return _s(e,t),e.prototype.getPreload=function(){return this.get(ds)},e.prototype.setPreload=function(t){this.set(ds,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(gs)},e.prototype.setUseInterimTilesOnError=function(t){this.set(gs,t)},e}(Re);const vs=ys;var ms=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xs=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return ms(e,t),e.prototype.getFeatures=function(t){return E()},e.prototype.prepareFrame=function(t){return E()},e.prototype.renderFrame=function(t,e){return E()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,o){var r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener(Vt,this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==be&&t.changed()},e}(se);const Cs=xs;var ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),As=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n}return ws(e,t),e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n,i){var o,r,s=this.getLayer().getClassName();if(t&&t.className===s&&""===t.style.opacity&&1===n&&(!i||t.style.backgroundColor&&x(kt(t.style.backgroundColor),kt(i)))&&(l=t.firstElementChild)instanceof HTMLCanvasElement&&(r=l.getContext("2d")),r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(o=document.createElement("div")).className=s;var a=o.style;a.position="absolute",a.width="100%",a.height="100%",i&&(a.backgroundColor=i);var l=(r=Ze()).canvas;o.appendChild(l),(a=l.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=r}},e.prototype.clipUnrotated=function(t,e,n){var i=dt(n),o=gt(n),r=lt(n),s=at(n);G(e.coordinateToPixelTransform,i),G(e.coordinateToPixelTransform,o),G(e.coordinateToPixelTransform,r),G(e.coordinateToPixelTransform,s);var a=this.inversePixelTransform;G(a,i),G(a,o),G(a,r),G(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var o=new Be(t,this.inversePixelTransform,n,e);i.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,i,o,r,s){var a=o/2,l=r/2,u=i/e,h=-u,c=-t[0]+s,p=-t[1];return W(this.tempTransform,a,l,u,h,-n,c,p)},e.prototype.getDataAtPixel=function(t,e,n){var i=G(this.inversePixelTransform,t.slice()),o=this.context,r=this.getLayer().getExtent();if(r&&!q(r,G(e.pixelToCoordinateTransform,t.slice())))return null;var s,a=Math.round(i[0]),l=Math.round(i[1]),u=this.pixelContext_;if(!u){var h=document.createElement("canvas");h.width=1,h.height=1,u=h.getContext("2d"),this.pixelContext_=u}u.clearRect(0,0,1,1);try{u.drawImage(o.canvas,a,l,1,1,0,0,1,1),s=u.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):s}return 0===s[3]?null:s},e}(Cs);const Es=As;var bs=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Ss(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new bs(t,e,n,i)}const Ts=bs;var Os={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Rs={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Is=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ps=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Ts(0,0,0,0),n}return Is(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!i},e.prototype.getTile=function(t,e,n,i){var o=i.pixelRatio,r=i.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,n,o,r);return 3==a.getState()&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(2)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,o=i.projection,r=i.resolution,s=i.center,a=i.rotation,l=t.pixelRatio,u=this.getLayer(),h=u.getSource(),c=h.getRevision(),p=h.getTileGridForProjection(o),f=p.getZForResolution(r,h.zDirection),d=p.getResolution(f),g=t.extent,y=n.extent&&Wi(n.extent);y&&(g=ft(g,Wi(n.extent)));var v=h.getTilePixelRatio(l),m=Math.round(t.size[0]*v),x=Math.round(t.size[1]*v);if(a){var C=Math.round(Math.sqrt(m*m+x*x));m=C,x=C}var w=d*m/2/v,A=d*x/2/v,E=[s[0]-w,s[1]-A,s[0]+w,s[1]+A],b=p.getTileRangeForExtentAndZ(g,f),T={};T[f]={};var O=this.createLoadedTileFinder(h,o,T),R=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var P=b.minX;P<=b.maxX;++P)for(var F=b.minY;F<=b.maxY;++F){var M=this.getTile(f,P,F,t);if(this.isDrawableTile(M)){var L=S(this);if(2==M.getState()){T[f][M.tileCoord.toString()]=M;var k=M.inTransition(L);this.newTiles_||!k&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(L,t.time))continue}var j=p.getTileCoordChildTileRange(M.tileCoord,I,R),D=!1;j&&(D=O(f+1,j)),D||p.forEachTileCoordParentTileRange(M.tileCoord,O,I,R)}var B=d/r;W(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/v,1/v,a,-m/2,-x/2);var z=Y(this.pixelTransform);this.useContainer(e,z,n.opacity,this.getBackground(t));var N=this.context,Z=N.canvas;X(this.inversePixelTransform,this.pixelTransform),W(this.tempTransform,m/2,x/2,B,B,0,-m/2,-x/2),Z.width!=m||Z.height!=x?(Z.width=m,Z.height=x):this.containerReused||N.clearRect(0,0,m,x),y&&this.clipUnrotated(N,t,y),h.getInterpolate()||Xt(N,Os),this.preRender(N,t),this.renderedTiles.length=0;var U,K,V,q=Object.keys(T).map(Number);q.sort(_),1!==n.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(U=[],K=[]):q=q.reverse();for(var H=q.length-1;H>=0;--H){var J=q[H],Q=h.getTilePixelSize(J,l,o),$=p.getResolution(J)/d,tt=Q[0]*$*B,nt=Q[1]*$*B,it=p.getTileCoordForCoordAndZ(dt(E),J),ot=p.getTileCoordExtent(it),rt=G(this.tempTransform,[v*(ot[0]-E[0])/d,v*(E[3]-ot[3])/d]),st=v*h.getGutterForProjection(o),at=T[J];for(var lt in at){var ut=(M=at[lt]).tileCoord,ht=it[1]-ut[1],ct=Math.round(rt[0]-(ht-1)*tt),pt=it[2]-ut[2],gt=Math.round(rt[1]-(pt-1)*nt),_t=ct-(P=Math.round(rt[0]-ht*tt)),yt=gt-(F=Math.round(rt[1]-pt*nt)),vt=f===J;if(!(k=vt&&1!==M.getAlpha(S(this),t.time)))if(U){N.save(),V=[P,F,P+_t,F,P+_t,F+yt,P,F+yt];for(var mt=0,xt=U.length;mt<xt;++mt)if(f!==J&&J<K[mt]){var Ct=U[mt];N.beginPath(),N.moveTo(V[0],V[1]),N.lineTo(V[2],V[3]),N.lineTo(V[4],V[5]),N.lineTo(V[6],V[7]),N.moveTo(Ct[6],Ct[7]),N.lineTo(Ct[4],Ct[5]),N.lineTo(Ct[2],Ct[3]),N.lineTo(Ct[0],Ct[1]),N.clip()}U.push(V),K.push(J)}else N.clearRect(P,F,_t,yt);this.drawTileImage(M,t,P,F,_t,yt,st,vt),U&&!k?(N.restore(),this.renderedTiles.unshift(M)):this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,h,M)}}this.renderedRevision=c,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!et(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(t,h,p,l,o,g,f,u.getPreload()),this.scheduleExpireCache(t,h),this.postRender(N,t),n.extent&&N.restore(),Xt(N,Rs),z!==Z.style.transform&&(Z.style.transform=z);var wt=Ne(n.opacity),At=this.container;return wt!==At.style.opacity&&(At.style.opacity=wt),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,r,s,a){var l=this.getTileImage(t);if(l){var u=S(this),h=a?t.getAlpha(u,e.time):1,c=h!==this.context.globalAlpha;c&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,o,r),c&&this.context.restore(),1!==h?e.animate=!0:a&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=S(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=S(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,i,o,r,s,a,l){var u=S(e);u in t.wantedTiles||(t.wantedTiles[u]={});var h,c,p,f,d,g,_=t.wantedTiles[u],y=t.tileQueue,v=0;for(g=n.getMinZoom();g<=s;++g)for(c=n.getTileRangeForExtentAndZ(r,g,c),p=n.getResolution(g),f=c.minX;f<=c.maxX;++f)for(d=c.minY;d<=c.maxY;++d)s-g<=a?(++v,0==(h=e.getTile(g,f,d,i,o)).getState()&&(_[h.getKey()]=!0,y.isKeyQueued(h.getKey())||y.enqueue([h,u,n.getTileCoordCenter(h.tileCoord),p])),void 0!==l&&l(h)):e.useTile(g,f,d,o);e.updateCacheSize(v,o)},e}(Es);Ps.prototype.getLayer;const Fs=Ps;var Ms=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Ls=function(t){function e(e){return t.call(this,e)||this}return Ms(e,t),e.prototype.createRenderer=function(){return new Fs(this)},e}(vs);var ks=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),js=function(t){function e(e,n,i){var o=t.call(this)||this,r=i||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o.interpolate=!!r.interpolate,o}return ks(e,t),e.prototype.changed=function(){this.dispatchEvent(Vt)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){E()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Hi(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Kt);const Ds=js;var Bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const zs=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=i,r.resolution=n,r.state=o,r}return Bs(e,t),e.prototype.changed=function(){this.dispatchEvent(Vt)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return E()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){E()},e}(Kt);var Gs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ws(t,e,n){var i=t,o=!0,r=!1,s=!1,a=[ne(i,"load",(function(){s=!0,r||e()}))];return i.src&&L?(r=!0,i.decode().then((function(){o&&e()})).catch((function(t){o&&(s?e():n())}))):a.push(ne(i,"error",n)),function(){o=!1,a.forEach(ie)}}const Xs=function(t){function e(e,n,i,o,r,s){var a=t.call(this,e,n,i,0)||this;return a.src_=o,a.image_=new Image,null!==r&&(a.image_.crossOrigin=r),a.unlisten_=null,a.state=0,a.imageLoadFunction_=s,a}return Gs(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=pt(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ws(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=pt(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(zs);var Ys=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Ns=function(t){function e(e,n,i,o,r,s){var a=t.call(this,e,n,s)||this;return a.crossOrigin_=o,a.src_=i,a.key=i,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.tileLoadFunction_=r,a}return Ys(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=Ze(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ws(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Ds),Zs=function(){function t(t,e,n,i,o,r){this.sourceProj_=t,this.targetProj_=e;var s={},a=Pi(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&_t(i)==_t(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?_t(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?_t(this.targetProj_.getExtent()):null;var l=dt(n),u=gt(n),h=lt(n),c=at(n),p=this.transformInv_(l),f=this.transformInv_(u),d=this.transformInv_(h),g=this.transformInv_(c),_=10+(r?Math.max(0,Math.ceil(Ct(st(n)/(r*r*256*256)))):0);if(this.addQuad_(l,u,h,c,p,f,d,g,_),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,n,i,o,r){this.triangles_.push({source:[i,o,r],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,o,r,s,a,l){var u=Z([o,r,s,a]),h=this.sourceWorldWidth_?_t(u)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,f=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=_t(Z([t,e,n,i]))/this.targetWorldWidth_>.25||f),!p&&this.sourceProj_.isGlobal()&&h&&(f=h>.25||f)),!(!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||yt(u,this.maxSourceExtent_)){var d=0;if(!(f||isFinite(o[0])&&isFinite(o[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)f=!0;else if(1!=(d=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=d&&4!=d&&8!=d)return;if(l>0){if(!f){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(g),y=void 0;y=p?(bt(o[0],c)+bt(s[0],c))/2-bt(_[0],c):(o[0]+s[0])/2-_[0];var v=(o[1]+s[1])/2-_[1];f=y*y+v*v>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(m),C=[(i[0]+t[0])/2,(i[1]+t[1])/2],w=this.transformInv_(C);this.addQuad_(t,e,m,C,o,r,x,w,l-1),this.addQuad_(C,m,n,i,w,x,s,a,l-1)}else{var A=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(A),b=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(b);this.addQuad_(t,A,b,i,o,E,S,a,l-1),this.addQuad_(A,e,n,b,E,r,s,S,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&d)&&this.addTriangle_(t,n,i,o,s,a),0==(14&d)&&this.addTriangle_(t,n,e,o,s,r),d&&(0==(13&d)&&this.addTriangle_(e,i,t,r,a,o),0==(7&d)&&this.addTriangle_(e,i,n,r,a,s))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,i){var o=e.source;nt(t,o[0]),nt(t,o[1]),nt(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var Us;function Ks(t,e,n,i,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,o)),t.restore()}function Vs(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function qs(t,e,n,i){var o=Fi(n,e,t),r=bi(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(r*=s);var a=t.getMetersPerUnit();void 0!==a&&(r/=a);var l=t.getExtent();if(!l||q(l,o)){var u=bi(t,r,o)/r;isFinite(u)&&u>0&&(r/=u)}return r}function Hs(t,e,n,i,o,r,s,a,l,u,h,c){var p=Ze(Math.round(n*t),Math.round(n*e));if(c||Xt(p,Os),0===l.length)return p.canvas;function f(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";var d=[1/0,1/0,-1/0,-1/0];l.forEach((function(t,e,n){var i,o;i=d,(o=t.extent)[0]<i[0]&&(i[0]=o[0]),o[2]>i[2]&&(i[2]=o[2]),o[1]<i[1]&&(i[1]=o[1]),o[3]>i[3]&&(i[3]=o[3])}));var g=_t(d),_=pt(d),y=Ze(Math.round(n*g/i),Math.round(n*_/i));c||Xt(y,Os);var v=n/i;l.forEach((function(t,e,n){var i=t.extent[0]-d[0],o=-(t.extent[3]-d[3]),r=_t(t.extent),s=pt(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*v,o*v,r*v,s*v)}));var m=dt(s);return a.getTriangles().forEach((function(t,e,o){var s=t.source,a=t.target,l=s[0][0],u=s[0][1],h=s[1][0],g=s[1][1],_=s[2][0],v=s[2][1],x=f((a[0][0]-m[0])/r),C=f(-(a[0][1]-m[1])/r),w=f((a[1][0]-m[0])/r),A=f(-(a[1][1]-m[1])/r),E=f((a[2][0]-m[0])/r),b=f(-(a[2][1]-m[1])/r),S=l,T=u;l=0,u=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,o=Math.abs(t[n][n]),r=n+1;r<e;r++){var s=Math.abs(t[r][n]);s>o&&(o=s,i=r)}if(0===o)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],h=n;h<e+1;h++)n==h?t[l][h]=0:t[l][h]+=u*t[n][h]}for(var c=new Array(e),p=e-1;p>=0;p--){c[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*c[p]}return c}([[h-=S,g-=T,0,0,w-x],[_-=S,v-=T,0,0,E-x],[0,0,h,g,A-C],[0,0,_,v,b-C]]);if(O){if(p.save(),p.beginPath(),function(){if(void 0===Us){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ks(t,4,5,4,0),Ks(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;Us=Vs(e,0)||Vs(e,4)||Vs(e,8)}return Us}()||!c){p.moveTo(w,A);for(var R=x-w,I=C-A,P=0;P<4;P++)p.lineTo(w+f((P+1)*R/4),A+f(P*I/3)),3!=P&&p.lineTo(w+f((P+1)*R/4),A+f((P+1)*I/3));p.lineTo(E,b)}else p.moveTo(w,A),p.lineTo(x,C),p.lineTo(E,b);p.clip(),p.transform(O[0],O[2],O[1],O[3],x,C),p.translate(d[0]-S,d[3]-T),p.scale(i/n,-i/n),p.drawImage(y.canvas,0,0),p.restore()}})),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(t,e,n){var i=t.target,o=(i[0][0]-m[0])/r,s=-(i[0][1]-m[1])/r,a=(i[1][0]-m[0])/r,l=-(i[1][1]-m[1])/r,u=(i[2][0]-m[0])/r,h=-(i[2][1]-m[1])/r;p.beginPath(),p.moveTo(a,l),p.lineTo(o,s),p.lineTo(u,h),p.closePath(),p.stroke()})),p.restore()),p.canvas}var Js=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qs=function(t){function e(e,n,i,o,r,s,a,l,u,h,c,p){var f=t.call(this,r,0,{interpolate:!!p})||this;f.renderEdges_=void 0!==c&&c,f.pixelRatio_=a,f.gutter_=l,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=o,f.wrappedTileCoord_=s||r,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var d=o.getTileCoordExtent(f.wrappedTileCoord_),g=f.targetTileGrid_.getExtent(),_=f.sourceTileGrid_.getExtent(),y=g?ft(d,g):d;if(0===st(y))return f.state=4,f;var v=e.getExtent();v&&(_=_?ft(_,v):v);var m=o.getResolution(f.wrappedTileCoord_[0]),x=function(t,e,n,i){var o=ut(n),r=qs(t,e,o,i);return(!isFinite(r)||r<=0)&&rt(n,(function(n){return r=qs(t,e,n,i),isFinite(r)&&r>0})),r}(e,i,y,m);if(!isFinite(x)||x<=0)return f.state=4,f;var C=void 0!==h?h:.5;if(f.triangulation_=new Zs(e,i,y,_,x*C,m),0===f.triangulation_.getTriangles().length)return f.state=4,f;f.sourceZ_=n.getZForResolution(x);var w=f.triangulation_.calculateSourceExtent();if(_&&(e.canWrapX()?(w[1]=mt(w[1],_[1],_[3]),w[3]=mt(w[3],_[1],_[3])):w=ft(w,_)),st(w)){for(var A=n.getTileRangeForExtentAndZ(w,f.sourceZ_),E=A.minX;E<=A.maxX;E++)for(var b=A.minY;b<=A.maxY;b++){var S=u(f.sourceZ_,E,b,a);S&&f.sourceTiles_.push(S)}0===f.sourceTiles_.length&&(f.state=4)}else f.state=4;return f}return Js(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],r=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Hs(i,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),r,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var o=e.getState();if(0==o||1==o){t++;var r=ee(e,Vt,(function(n){var i=e.getState();2!=i&&3!=i&&4!=i||(ie(r),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(r)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){0==t.getState()&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ie),this.sourcesListenerKeys_=null},e}(Ds);const $s=Qs;var ta=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return B(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return B(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){B(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();const ea=ta;function na(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function ia(t,e,n){return t+"/"+e+"/"+n}function oa(t){return ia(t[0],t[1],t[2])}var ra=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ra(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey().split("/").map(Number)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(oa(e.tileCoord)),e.release())}.bind(this))}},e}(ea);var aa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),la=function(t){function e(e){var n=t.call(this)||this;n.projection=Ei(e.projection),n.attributions_=ua(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:be,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise((function(t,e){i.viewResolver=t,i.viewRejector=e})),n}return aa(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return E()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=ua(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(ue);function ua(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const ha=la;var ca=[0,0,0],pa=function(){function t(t){var e,n,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,B((e=this.resolutions_,!0,n=function(t,e){return e-t}||_,e.every((function(t,i){if(0===i)return!0;var o=n(e[i-1],t);return!(o>0||0===o)}))),17),!t.origins)for(var o=0,r=this.resolutions_.length-1;o<r;++o)if(i){if(this.resolutions_[o]/this.resolutions_[o+1]!==i){i=void 0;break}}else i=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,B(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=dt(s)),B(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,B(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,B(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new Ts(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(s){var i=this.getTileRangeForExtentAndZ(s,e);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n}),this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),o=i.minX,r=i.maxX;o<=r;++o)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,o,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var o,r,s=null,a=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):s=this.getTileCoordExtent(t,i);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?Ss(o=Math.floor(o/2),o,r=Math.floor(r/2),r,n):this.getTileRangeForExtentAndZ(s,a,n)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],o=2*t[2];return Ss(i,i+1,o,o+1,e)}var r=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var i=t[0],o=t[1],r=t[2];if(e===i)return Ss(o,r,o,r,n);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,e-i),a=Math.floor(o*s),l=Math.floor(r*s);return e<i?Ss(a,a,l,l,n):Ss(a,Math.floor(s*(o+1))-1,l,Math.floor(s*(r+1))-1,n)}var u=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),o=this.getResolution(t),r=Ko(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*r[0]*o,a=i[0]+(e.maxX+1)*r[0]*o;return $(s,i[1]+e.minY*r[1]*o,a,i[1]+(e.maxY+1)*r[1]*o,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=ca;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var o=i[1],r=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),Ss(o,i[1],r,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Ko(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=Ko(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*o[0]*i,s=n[1]-(t[2]+1)*o[1]*i;return $(r,s,r+o[0]*i,s+o[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var r=this.getZForResolution(n),s=n/this.getResolution(r),a=this.getOrigin(r),l=Ko(this.getTileSize(r),this.tmpSize_),u=s*(t-a[0])/n/l[0],h=s*(a[1]-e)/n/l[1];return i?(u=It(u,5)-1,h=It(h,5)-1):(u=Rt(u,5),h=Rt(h,5)),na(r,u,h,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var r=this.getOrigin(n),s=this.getResolution(n),a=Ko(this.getTileSize(n),this.tmpSize_),l=(t-r[0])/s/a[0],u=(r[1]-e)/s/a[1];return i?(l=It(l,5)-1,u=It(u,5)-1):(l=Rt(l,5),u=Rt(u,5)),na(n,l,u,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return mt(y(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();const fa=pa;function da(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var o=ga(t,undefined,n);return new fa({extent:t,origin:ht(t,"top-left"),resolutions:o,tileSize:n})}(_a(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function ga(t,e,n,i){for(var o=void 0!==e?e:42,r=pt(t),s=_t(t),a=Ko(void 0!==n?n:256),l=i>0?i:Math.max(s/a[0],r/a[1]),u=o+1,h=new Array(u),c=0;c<u;++c)h[c]=l/Math.pow(2,c);return h}function _a(t){var e=(t=Ei(t)).getExtent();if(!e){var n=180*$n[ti.DEGREES]/t.getMetersPerUnit();e=$(-n,-n,n,n)}return e}var ya=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),va=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.tileGrid;return i&&Ko(i.getTileSize(i.getMinZoom()),[256,256]),n.tileCache=new sa(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return ya(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,s,a,l=!0,u=n.minX;u<=n.maxX;++u)for(var h=n.minY;h<=n.maxY;++h)s=ia(e,u,h),a=!1,o.containsKey(s)&&(a=2===(r=o.get(s)).getState())&&(a=!1!==i(r)),a||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return E()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:da(t)},e.prototype.getTileCacheForProjection=function(t){return B(Ri(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),o=this.getTilePixelRatio(e),r=Ko(i.getTileSize(t),this.tmpSize);return 1==o?r:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(r,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],o=t.getTileCoordCenter(e),r=_a(n);if(q(r,o))return e;var s=_t(r),a=Math.ceil((r[0]-o[0])/s);return o[0]+=s*a,t.getTileCoordForCoordAndZ(o,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var r=e.getFullTileRange(n);return!r||r.containsXY(i,o)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,i){},e}(ha),ma=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return ya(e,t),e}(Gt);const xa=va;function Ca(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s,a,l){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(r,(function(){var t=s[0],n=e.getFullTileRange(t);return B(n,55),(n.getHeight()-s[2]-1).toString()})):void 0}}function wa(t){return 1===t.length?t[0]:function(e,n,i){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),r=bt(o,t.length);return t[r](e,n,i)}}}function Aa(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),o=n[2].charCodeAt(0),r=void 0;for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}var Ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ba=function(t){function e(n){var i=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(i.tileUrlFunction=n.tileUrlFunction),i.urls=null,n.urls?i.setUrls(n.urls):n.url&&i.setUrl(n.url),i.tileLoadingKeys_={},i}return Ea(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=S(n),o=n.getState();1==o?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=3==o?"tileloaderror":2==o?"tileloadend":void 0),null!=e&&this.dispatchEvent(new ma(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=Aa(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Ca(t[o],e);return wa(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var i=ia(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(xa);const Sa=ba;var Ta=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oa=function(t){function e(e){var n=this,i=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(i=e.interpolate),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ra,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:i,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Ns,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Ta(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ri(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ri(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ri(e,t)){var n=S(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=da(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ri(e,t))return this.tileCache;var n=S(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new sa(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,o,r){var s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,o),l=a?this.tileUrlFunction(a,i,o):void 0,u=new this.tileClass(s,void 0!==l?0:4,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=r,u.addEventListener(Vt,this.handleTileChange.bind(this)),u},e.prototype.getTile=function(t,e,n,i,o){var r=this.getProjection();if(r&&o&&!Ri(r,o)){var s=this.getTileCacheForProjection(o),a=[t,e,n],l=void 0,u=oa(a);s.containsKey(u)&&(l=s.get(u));var h=this.getKey();if(l&&l.key==h)return l;var c=this.getTileGridForProjection(r),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(a,o),d=new $s(r,c,o,p,a,f,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return d.key=h,l?(d.interimTile=l,d.refreshInterimChain(),s.replace(u,d)):s.set(u,d),d}return this.getTileInternal(t,e,n,i,r||o)},e.prototype.getTileInternal=function(t,e,n,i,o){var r=null,s=ia(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if((r=this.tileCache.get(s)).key!=a){var l=r;r=this.createTile_(t,e,n,i,o,a),0==l.getState()?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(t,e,n,i,o,a),this.tileCache.set(s,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Ei(t);if(n){var i=S(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(Sa);function Ra(t,e){t.getImage().src=e}const Ia=Oa;var Pa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fa=function(t){function e(e){var n=e||{},i=void 0===n.imageSmoothing||n.imageSmoothing;void 0!==n.interpolate&&(i=n.interpolate);var o=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Ei("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:ga(n,e.maxZoom,e.tileSize,e.maxResolution)};return new fa(i)}({extent:_a(o),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:i,opaque:n.opaque,projection:o,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return Pa(e,t),e}(Ia);const Ma=Fa,La="KVP";function ka(t,e){var n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}var ja=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Da=function(t){function e(e){var n=this,i=void 0===e.imageSmoothing||e.imageSmoothing;void 0!==e.interpolate&&(i=e.interpolate);var o=void 0!==e.requestEncoding?e.requestEncoding:La,r=e.tileGrid,s=e.urls;return void 0===s&&void 0!==e.url&&(s=Aa(e.url)),(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:i,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:s,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection})||this).version_=void 0!==e.version?e.version:"1.0.0",n.format_=void 0!==e.format?e.format:"image/jpeg",n.dimensions_=void 0!==e.dimensions?e.dimensions:{},n.layer_=e.layer,n.matrixSet_=e.matrixSet,n.style_=e.style,n.requestEncoding_=o,n.setKey(n.getKeyForDimensions_()),s&&s.length>0&&(n.tileUrlFunction=wa(s.map(n.createFromWMTSTemplate.bind(n)))),n}return ja(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(wa(t.map(this.createFromWMTSTemplate.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){Xt(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==La&&Xt(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==La?ka(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}));var i=this.tileGrid,o=this.dimensions_;return function(n,r,s){if(n){var a={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Xt(a,o);var l=t;return e==La?ka(l,a):l.replace(/\{(\w+?)\}/g,(function(t,e){return a[e]}))}}},e}(Ia);const Ba=Da;var za="1.3.0",Ga=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Wa=function(t){function e(e,n,i,o,r,s,a){var l=this,u=e.getExtent(),h=n.getExtent(),c=h?ft(i,h):i,p=qs(e,n,ut(c),o),f=new Zs(e,n,c,u,.5*p,o),d=s(f.calculateSourceExtent(),p,r),g=d?0:4,_=d?d.getPixelRatio():1;return(l=t.call(this,i,o,_,g)||this).targetProj_=n,l.maxSourceExtent_=u,l.triangulation_=f,l.targetResolution_=o,l.targetExtent_=i,l.sourceImage_=d,l.sourcePixelRatio_=_,l.interpolate_=a,l.canvas_=null,l.sourceListenerKey_=null,l}return Ga(e,t),e.prototype.disposeInternal=function(){1==this.state&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(2==t){var e=_t(this.targetExtent_)/this.targetResolution_,n=pt(this.targetExtent_)/this.targetResolution_;this.canvas_=Hs(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=this.sourceImage_.getState();2==t||3==t?this.reproject_():(this.sourceListenerKey_=ee(this.sourceImage_,Vt,(function(t){var e=this.sourceImage_.getState();2!=e&&3!=e||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){ie(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(zs);var Xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ya=function(t){function e(e,n){var i=t.call(this,e)||this;return i.image=n,i}return Xa(e,t),e}(Gt),Na=function(t){function e(e){var n=this,i=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(i=e.interpolate),(n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:i})||this).on,n.once,n.un,n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return Xa(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=y(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,i){var o=this.getProjection();if(o&&i&&!Ri(o,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ri(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&et(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Wa(o,i,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,o)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(i=o),this.getImageInternal(t,e,n,i)},e.prototype.getImageInternal=function(t,e,n,i){return E()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case 1:this.loading=!0,this.dispatchEvent(new Ya("imageloadstart",e));break;case 2:this.loading=!1,this.dispatchEvent(new Ya("imageloadend",e));break;case 3:this.loading=!1,this.dispatchEvent(new Ya("imageloaderror",e))}},e}(ha);function Za(t,e){t.getImage().src=e}const Ua=Na;var Ka=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Va=[101,101],qa=function(t){function e(e){var n=this,i=e||{},o=void 0===i.imageSmoothing||i.imageSmoothing;return void 0!==i.interpolate&&(o=i.interpolate),(n=t.call(this,{attributions:i.attributions,interpolate:o,projection:i.projection,resolutions:i.resolutions})||this).crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,n.url_=i.url,n.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:Za,n.params_=i.params||{},n.v13_=!0,n.updateV13_(),n.serverType_=i.serverType,n.hidpi_=void 0===i.hidpi||i.hidpi,n.image_=null,n.imageSize_=[0,0],n.renderedRevision_=0,n.ratio_=void 0!==i.ratio?i.ratio:1.5,n}return Ka(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,i){if(void 0!==this.url_){var o=Ei(n),r=this.getProjection();r&&r!==o&&(e=qs(r,o,t,e),t=Fi(t,o,r));var s=ct(t,e,0,Va),a={SERVICE:"WMS",VERSION:za,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Xt(a,this.params_,i);var l=Rt((t[0]-s[0])/e,4),u=Rt((s[3]-t[1])/e,4);return a[this.v13_?"I":"X"]=l,a[this.v13_?"J":"Y"]=u,this.getRequestUrl_(s,Va,1,r||o,a)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.url_){var n={SERVICE:"WMS",VERSION:za,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;n.LAYER=i}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*o/28e-5}return Xt(n,e),ka(this.url_,n)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);var o=e/n,r=ut(t),s=ct(r,o,0,[It(_t(t)/o,4),It(pt(t)/o,4)]),a=ct(r,o,0,[It(this.ratio_*_t(t)/o,4),It(this.ratio_*pt(t)/o,4)]),l=this.image_;if(l&&this.renderedRevision_==this.getRevision()&&l.getResolution()==e&&l.getPixelRatio()==n&&H(l.getExtent(),s))return l;var u={SERVICE:"WMS",VERSION:za,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Xt(u,this.params_),this.imageSize_[0]=Ot(_t(a)/o,4),this.imageSize_[1]=Ot(pt(a)/o,4);var h=this.getRequestUrl_(a,this.imageSize_,n,i,u);return this.image_=new Xs(a,e,n,h,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(Vt,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,n,i,o){if(B(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=n)switch(this.serverType_){case"geoserver":var r=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+r:o.FORMAT_OPTIONS="dpi:"+r;break;case"mapserver":o.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":o.DPI=90*n;break;default:B(!1,8)}o.WIDTH=e[0],o.HEIGHT=e[1];var s,a=i.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,o.BBOX=s.join(","),ka(this.url_,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Xt(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||za;this.v13_=function(t,e){for(var n=(""+t).split("."),i="1.3".split("."),o=0;o<Math.max(n.length,i.length);o++){var r=parseInt(n[o]||"0",10),s=parseInt(i[o]||"0",10);if(r>s)return 1;if(s>r)return-1}return 0}(t)>=0},e}(Ua);const Ha=qa;var Ja=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qa=function(t){function e(e){var n=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return n.matrixIds_=e.matrixIds,n}return Ja(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(fa);const $a=Qa;var tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),el=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var i=e;n.setGeometry(i)}else{var o=e;n.setProperties(o)}return n}return tl(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ie(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=ee(t,Vt,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(B("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(ue);const nl=el;var il=n(582);const ol=function(){function t(t){this.rbush_=new il(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[S(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],s=e[i],a={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};n[i]=a,this.items_[S(s)]=a}this.rbush_.load(n)},t.prototype.remove=function(t){var e=S(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[S(e)];et([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return Zt(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return $(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),rl="addfeature",sl="removefeature";function al(t,e){return[[-1/0,-1/0,1/0,1/0]]}const ll="arraybuffer";function ul(t,e){return function(n,i,o,r,s){var a=this;!function(t,e,n,i,o,r,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,i,o):t,!0),e.getType()==ll&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var i=e.getType(),l=void 0;"json"==i||"text"==i?l=a.responseText:"xml"==i?(l=a.responseXML)||(l=(new DOMParser).parseFromString(a.responseText,"application/xml")):i==ll&&(l=a.response),l?r(e.readFeatures(l,{extent:n,featureProjection:o}),e.readProjection(l)):s()}else s()},a.onerror=s,a.send()}(t,e,n,i,o,(function(t,e){a.addFeatures(t),void 0!==r&&r(t)}),s||A)}}var hl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cl=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.feature=n,o.features=i,o}return hl(e,t),e}(Gt),pl=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:be,wrapX:void 0===i.wrapX||i.wrapX})||this).on,n.once,n.un,n.loader_=A,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(B(n.format_,7),n.loader_=ul(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:al;var o,r,s=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=s?new ol:null,n.loadedExtentsRtree_=new ol,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(o=i.features).getArray()),s||void 0!==o||(o=new Cn(r)),void 0!==r&&n.addFeaturesInternal(r),void 0!==o&&n.bindFeaturesCollection_(o),n}return hl(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=S(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new cl(rl,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[ee(e,Vt,this.handleFeatureChange_,this),ee(e,Wt,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(B(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,r=t.length;o<r;o++){var s=S(l=t[o]);this.addToIndex_(s,l)&&n.push(l)}o=0;for(var a=n.length;o<a;o++){var l;s=S(l=n[o]),this.setupChangeEvents_(s,l);var u=l.getGeometry();if(u){var h=u.getExtent();e.push(h),i.push(l)}else this.nullGeometryFeatures_[s]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i),o=0;for(var c=n.length;o<c;o++)this.dispatchEvent(new cl(rl,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(rl,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(sl,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(gn,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(_n,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(ie);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var i in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new cl("clear");this.dispatchEvent(o),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Zt(this.nullGeometryFeatures_)||m(t,Nt(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],o=null,r=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||C;return this.featuresRtree_.forEachInExtent(a,(function(t){if(l(t)){var e=t.getGeometry(),u=s;if((s=e.closestPointXY(n,i,r,s))<u){o=t;var h=Math.sqrt(s);a[0]=n-h,a[1]=i-h,a[2]=n+h,a[3]=i+h}}})),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=S(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var r=e.getId();if(void 0!==r){var s=r.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new cl("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:S(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Zt(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){for(var i=this.loadedExtentsRtree_,o=this.strategy_(t,e,n),r=function(t,r){var a=o[t];i.forEachInExtent(a,(function(t){return H(t.extent,a)}))||(++s.loadingExtentsCount_,s.dispatchEvent(new cl("featuresloadstart")),s.loader_.call(s,a,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new cl("featuresloadend",void 0,t))}.bind(s),function(){--this.loadingExtentsCount_,this.dispatchEvent(new cl("featuresloaderror"))}.bind(s)),i.insert(a,{extent:a.slice()}))},s=this,a=0,l=o.length;a<l;++a)r(a);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(et(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=S(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=S(t),n=this.featureChangeKeys_[e];if(n){n.forEach(ie),delete this.featureChangeKeys_[e];var i=t.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[e],this.dispatchEvent(new cl(sl,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){B(this.format_,7),this.url_=t,this.setLoader(ul(t,this.format_))},e}(ha);const fl=pl;var dl=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ko(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return E()},t.prototype.getImage=function(t){return E()},t.prototype.getHitDetectionImage=function(){return E()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return E()},t.prototype.getImageSize=function(){return E()},t.prototype.getOrigin=function(){return E()},t.prototype.getSize=function(){return E()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Ko(t)},t.prototype.listenImageChange=function(t){E()},t.prototype.load=function(){E()},t.prototype.unlistenImageChange=function(t){E()},t}();const gl=dl;function _l(t){return Array.isArray(t)?Dt(t):t}var yl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vl=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return yl(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,i=Ze(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var i=this.radius_,o=void 0===this.radius2_?i:this.radius2_;if(i<o){var r=i;i=o,o=r}var s=void 0===this.radius2_?this.points_:2*this.points_,a=2*Math.PI/s,l=o*Math.sin(a),u=i-Math.sqrt(o*o-l*l),h=Math.sqrt(l*l+u*u),c=h/l;if("miter"===t&&c<=n)return c*e;var p=e/2/c,f=e/2*(u/h),d=Math.sqrt((i+p)*(i+p)+f*f)-i;if(void 0===this.radius2_||"bevel"===t)return 2*d;var g=i*Math.sin(a),_=o-Math.sqrt(i*i-g*g),y=Math.sqrt(g*g+_*_)/g;if(y<=n){var v=y*e/2-o-i;return 2*Math.max(d,v)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=Qe,n=0,i=null,o=0,r=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=$e),t=_l(t),void 0===(r=this.stroke_.getWidth())&&(r=1),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=Qe),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var s=this.calculateLineJoinSize_(e,r,n),a=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:r,size:Math.ceil(2*a+s),lineDash:i,lineDashOffset:o,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var i=this.fill_.getColor();null===i&&(i=qe),e.fillStyle=_l(i),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=kt(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=Ze(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var o=this.angle_-Math.PI/2,r=2*Math.PI/e,s=0;s<e;s++){var a=o+s*r,l=s%2==0?n:i;t.lineTo(l*Math.cos(a),l*Math.sin(a))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=qe,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(gl);const ml=vl;var xl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cl=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return xl(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(ml);const wl=Cl;var Al=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();const El=Al;var bl=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();const Sl=bl;var Tl=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Il,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Il,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),Ol=null;function Rl(t,e){if(!Ol){var n=new El({color:"rgba(255,255,255,0.4)"}),i=new Sl({color:"#3399CC",width:1.25});Ol=[new Tl({image:new wl({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Ol}function Il(t){return t.getGeometry()}const Pl=Tl;var Fl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ml="renderOrder",Ll=function(t){function e(e){var n=this,i=e||{},o=Xt({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return Fl(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Ml)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new il(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(Ml,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:Rl,this.styleFunction_=null===t?void 0:function(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:(B("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}(this.style_),this.changed()},e}(Re);const kl=Ll;var jl={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Dl=[jl.FILL],Bl=[jl.STROKE],zl=[jl.BEGIN_PATH],Gl=[jl.CLOSE_PATH];const Wl=jl,Xl=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,i){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var Yl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nl=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=n,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Yl(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,o=this.coordinates,r=o.length,s=0,a=t.length;s<a;s+=e)i[0]=t[s],i[1]=t[s+1],q(n,i)&&(o[r++]=i[0],o[r++]=i[1]);return r},e.prototype.appendFlatLineCoordinates=function(t,e,n,i,o,r){var s=this.coordinates,a=s.length,l=this.getBufferedMaxExtent();r&&(e+=i);var u,h,c,p=t[e],f=t[e+1],d=this.tmpCoordinate_,g=!0;for(u=e+i;u<n;u+=i)d[0]=t[u],d[1]=t[u+1],(c=Q(l,d))!==h?(g&&(s[a++]=p,s[a++]=f,g=!1),s[a++]=d[0],s[a++]=d[1]):1===c?(s[a++]=d[0],s[a++]=d[1],g=!1):g=!0,p=d[0],f=d[1],h=c;return(o&&g||u===e+i)&&(s[a++]=p,s[a++]=f),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,o){for(var r=0,s=n.length;r<s;++r){var a=n[r],l=this.appendFlatLineCoordinates(t,e,a,i,!1,!1);o.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,n,i){this.beginGeometry(t,e);var o,r,s,a,l,u=t.getType(),h=t.getStride(),c=this.coordinates.length;switch(u){case qn:o=t.getOrientedFlatCoordinates(),a=[];var p=t.getEndss();l=0;for(var f=0,d=p.length;f<d;++f){var g=[];l=this.drawCustomCoordinates_(o,l,p[f],h,g),a.push(g)}this.instructions.push([Wl.CUSTOM,c,a,t,n,Co]),this.hitDetectionInstructions.push([Wl.CUSTOM,c,a,t,i||n,Co]);break;case Un:case Vn:s=[],o=u==Un?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(o,0,t.getEnds(),h,s),this.instructions.push([Wl.CUSTOM,c,s,t,n,xo]),this.hitDetectionInstructions.push([Wl.CUSTOM,c,s,t,i||n,xo]);break;case Zn:case Jn:o=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(o,0,o.length,h,!1,!1),this.instructions.push([Wl.CUSTOM,c,r,t,n,mo]),this.hitDetectionInstructions.push([Wl.CUSTOM,c,r,t,i||n,mo]);break;case Kn:o=t.getFlatCoordinates(),(r=this.appendFlatPointCoordinates(o,h))>c&&(this.instructions.push([Wl.CUSTOM,c,r,t,n,mo]),this.hitDetectionInstructions.push([Wl.CUSTOM,c,r,t,i||n,mo]));break;case Nn:o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),r=this.coordinates.length,this.instructions.push([Wl.CUSTOM,c,r,t,n]),this.hitDetectionInstructions.push([Wl.CUSTOM,c,r,t,i||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Wl.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Wl.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,r=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==Wl.END_GEOMETRY?r=t:i==Wl.BEGIN_GEOMETRY&&(n[2]=t,v(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=_l(i||qe)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=_l(o||$e);var r=e.getLineCap();n.lineCap=void 0!==r?r:He;var s=e.getLineDash();n.lineDash=s?s.slice():Je;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:Qe;var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var h=e.getMiterLimit();n.miterLimit=void 0!==h?h:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Wl.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Wl.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,r=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!x(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Wl.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=K(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;U(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Xl);const Zl=Nl;var Ul=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kl=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.hitDetectionImage_=null,r.image_=null,r.imagePixelRatio_=void 0,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r.declutterImageWithText_=void 0,r}return Ul(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(n,i);this.instructions.push([Wl.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Wl.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(n,i);this.instructions.push([Wl.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Wl.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),o=t.getHitDetectionImage(),r=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=o,this.image_=r,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0]*this.imagePixelRatio_,this.originY_=s[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},e}(Zl);const Vl=Kl;var ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hl=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return ql(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var o=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),s=[Wl.MOVE_TO_LINE_TO,o,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Je,0],zl);var r=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(Bl),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],zl);for(var r=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,u=0,h=r.length;u<h;++u)l=this.drawFlatCoordinates_(s,l,r[u],a);this.hitDetectionInstructions.push(Bl),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Bl),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Bl),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(zl)},e}(Zl);const Jl=Hl;var Ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$l=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Ql(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var o=this.state,r=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,a=n.length;this.instructions.push(zl),this.hitDetectionInstructions.push(zl);for(var l=0;l<a;++l){var u=n[l],h=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,u,i,!0,!s),p=[Wl.MOVE_TO_LINE_TO,h,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(Gl),this.hitDetectionInstructions.push(Gl)),e=u}return r&&(this.instructions.push(Dl),this.hitDetectionInstructions.push(Dl)),s&&(this.instructions.push(Bl),this.hitDetectionInstructions.push(Bl)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wl.SET_FILL_STYLE,qe]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,s,!1,!1);var l=[Wl.CIRCLE,a];this.instructions.push(zl,l),this.hitDetectionInstructions.push(zl,l),void 0!==n.fillStyle&&(this.instructions.push(Dl),this.hitDetectionInstructions.push(Dl)),void 0!==n.strokeStyle&&(this.instructions.push(Bl),this.hitDetectionInstructions.push(Bl)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wl.SET_FILL_STYLE,qe]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,r,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Wl.SET_FILL_STYLE,qe]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,u=0,h=r.length;u<h;++u)l=this.drawFlatCoordinatess_(s,l,r[u],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=yo(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Zl);const tu=$l;function eu(t,e,n,i,o){var r,s,a,l,u,h,c,p,f,d=n,g=n,_=0,y=0,v=n;for(r=n;r<i;r+=o){var m=e[r],x=e[r+1];void 0!==l&&(p=m-l,f=x-u,a=Math.sqrt(p*p+f*f),void 0!==h&&(y+=s,Math.acos((h*p+c*f)/(s*a))>t&&(y>_&&(_=y,d=v,g=r),y=0,v=r-o)),s=a,h=p,c=f),l=m,u=x}return(y+=a)>_?[v,r]:[d,g]}var nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iu={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ou=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",r.declutterImageWithText_=void 0,r}return nu(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||i)){var r=this.coordinates,s=r.length,a=t.getType(),l=null,u=t.getStride();if("line"!==o.placement||a!=Zn&&a!=Vn&&a!=Un&&a!=qn){var h=o.overflow?null:[];switch(a){case Nn:case Kn:l=t.getFlatCoordinates();break;case Zn:l=t.getFlatMidpoint();break;case Jn:l=t.getCenter();break;case Vn:l=t.getFlatMidpoints(),u=2;break;case Un:l=t.getFlatInteriorPoint(),o.overflow||h.push(l[2]/this.resolution),u=3;break;case qn:var c=t.getFlatInteriorPoints();for(l=[],w=0,A=c.length;w<A;w+=3)o.overflow||h.push(c[w+2]/this.resolution),l.push(c[w],c[w+1]);if(0===l.length)return;u=2}if((I=this.appendFlatPointCoordinates(l,u))===s)return;if(h&&(I-s)/2!=l.length/u){var p=s/2;h=h.filter((function(t,e){var n=r[2*(p+e)]===l[e*u]&&r[2*(p+e)+1]===l[e*u+1];return n||--p,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=o.padding;if(f!=nn&&(o.scale[0]<0||o.scale[1]<0)){var d=o.padding[0],g=o.padding[1],_=o.padding[2],y=o.padding[3];o.scale[0]<0&&(g=-g,y=-y),o.scale[1]<0&&(d=-d,_=-_),f=[d,g,_,y]}var v=this.pixelRatio;this.instructions.push([Wl.DRAW_IMAGE,s,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==nn?nn:f.map((function(t){return t*v})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);var m=1/v;this.hitDetectionInstructions.push([Wl.DRAW_IMAGE,s,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,f,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]),this.endGeometry(e)}else{if(!yt(this.getBufferedMaxExtent(),t.getExtent()))return;var x=void 0;if(l=t.getFlatCoordinates(),a==Zn)x=[l.length];else if(a==Vn)x=t.getEnds();else if(a==Un)x=t.getEnds().slice(0,1);else if(a==qn){var C=t.getEndss();x=[];for(var w=0,A=C.length;w<A;++w)x.push(C[w][0])}this.beginGeometry(t,e);for(var E=o.textAlign,b=0,S=void 0,T=0,O=x.length;T<O;++T){if(null==E){var R=eu(o.maxAngle,l,b,x[T],u);b=R[0],S=R[1]}else S=x[T];for(w=b;w<S;w+=u)r.push(l[w],l[w+1]);var I=r.length;b=x[T],this.drawChars_(s,I),s=I}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||tn,textBaseline:e.textBaseline||en,scale:e.scale});var r=this.fillKey_;n&&(r in this.fillStates||(this.fillStates[r]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,l=iu[i.textBaseline],u=this.textOffsetY_*a,h=this.text_,c=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Wl.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,a,u,o,c*a,h,r,1]),this.hitDetectionInstructions.push([Wl.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,1,u,o,c,h,r,1/a])},e.prototype.setTextStyle=function(t,e){var n,i,o;if(t){var r=t.getFill();r?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=_l(r.getColor()||qe)):(i=null,this.textFillState_=i);var s=t.getStroke();if(s){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var a=s.getLineDash(),l=s.getLineDashOffset(),u=s.getWidth(),h=s.getMiterLimit();o.lineCap=s.getLineCap()||He,o.lineDash=a?a.slice():Je,o.lineDashOffset=void 0===l?0:l,o.lineJoin=s.getLineJoin()||Qe,o.lineWidth=void 0===u?1:u,o.miterLimit=void 0===h?10:h,o.strokeStyle=_l(s.getColor()||$e)}else o=null,this.textStrokeState_=o;n=this.textState_;var c=t.getFont()||Ve;un(c);var p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||en,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||nn,n.scale=void 0===p?[1,1]:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:S(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+S(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Zl),ru={Circle:tu,Default:Zl,Image:Vl,LineString:Jl,Polygon:tu,Text:ou};const su=function(){function t(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var o=n[i].finish();t[e][i]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var o=i[e];return void 0===o&&(o=new(0,ru[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o),o},t}(),au="Circle",lu="Default",uu="Image",hu="LineString",cu="Polygon",pu="Text";function fu(t,e,n,i,o,r,s,a,l,u,h,c){var p=t[e],f=t[e+1],d=0,g=0,_=0,y=0;function v(){d=p,g=f,p=t[e+=i],f=t[e+1],y+=_,_=Math.sqrt((p-d)*(p-d)+(f-g)*(f-g))}do{v()}while(e<n-i&&y+_<r);for(var m=0===_?0:(r-y)/_,x=St(d,p,m),C=St(g,f,m),w=e-i,A=y,E=r+a*l(u,o,h);e<n-i&&y+_<E;)v();var b,S=St(d,p,m=0===_?0:(E-y)/_),T=St(g,f,m);if(c){var O=[x,C,S,T];io(O,0,4,2,c,O,O),b=O[0]>O[2]}else b=x>S;var R,I=Math.PI,P=[],F=w+i===e;if(_=0,y=A,p=t[e=w],f=t[e+1],F){v(),R=Math.atan2(f-g,p-d),b&&(R+=R>0?-I:I);var M=(S+x)/2,L=(T+C)/2;return P[0]=[M,L,(E-r)/2,R,o],P}for(var k=0,j=o.length;k<j;){v();var D=Math.atan2(f-g,p-d);if(b&&(D+=D>0?-I:I),void 0!==R){var B=D-R;if(B+=B>I?-2*I:B<-I?2*I:0,Math.abs(B)>s)return null}R=D;for(var z=k,G=0;k<j;++k){var W=a*l(u,o[b?j-k-1:k],h);if(e+i<n&&y+_<r+G+W/2)break;G+=W}if(k!==z){var X=b?o.substring(j-z,j-k):o.substring(z,k);M=St(d,p,m=0===_?0:(r+G/2-y)/_),L=St(g,f,m),P.push([M,L,G/2,D,X]),r+=G}}return P}function du(t,e,n,i){for(var o=t[e],r=t[e+1],s=0,a=e+i;a<n;a+=i){var l=t[a],u=t[a+1];s+=Math.sqrt((l-o)*(l-o)+(u-r)*(u-r)),o=l,r=u}return s}var gu=[1/0,1/0,-1/0,-1/0],_u=[],yu=[],vu=[],mu=[];function xu(t){return t[3].declutterBox}var Cu=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function wu(t,e){return"start"!==e&&"end"!==e||Cu.test(t)||(e="start"===e?"left":"right"),iu[e]}var Au=function(){function t(t,e,n,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,i){var o=t+e+n+i;if(this.labels_[o])return this.labels_[o];var r=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,u=[a.scale[0]*l,a.scale[1]*l],h=wu(t,a.textAlign||tn),c=i&&r.lineWidth?r.lineWidth:0,p=t.split("\n"),f=p.length,d=[],g=function(t,e,n){for(var i=e.length,o=0,r=0;r<i;++r){var s=cn(t,e[r]);o=Math.max(o,s),n.push(s)}return o}(a.font,p,d),_=function(t){var e=ln[t];if(null==e){if(M){var n=Ye(t),i=hn(t,"Å½g");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else sn||((sn=document.createElement("div")).innerHTML="M",sn.style.minHeight="0",sn.style.maxHeight="none",sn.style.height="auto",sn.style.padding="0",sn.style.border="none",sn.style.position="absolute",sn.style.display="block",sn.style.left="-99999px"),sn.style.font=t,document.body.appendChild(sn),e=sn.offsetHeight,document.body.removeChild(sn);ln[t]=e}return e}(a.font),y=g+c,v=[],m=(y+2)*u[0],x=(_*f+c)*u[1],C={width:m<0?Math.floor(m):Math.ceil(m),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};1==u[0]&&1==u[1]||v.push("scale",u),v.push("font",a.font),i&&(v.push("strokeStyle",r.strokeStyle),v.push("lineWidth",c),v.push("lineCap",r.lineCap),v.push("lineJoin",r.lineJoin),v.push("miterLimit",r.miterLimit),(M?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[r.lineDash]),v.push("lineDashOffset",r.lineDashOffset))),n&&v.push("fillStyle",s.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var w,A=.5-h,E=h*y+A*c;if(i)for(w=0;w<f;++w)v.push("strokeText",[p[w],E+A*d[w],.5*(c+_)+w*_]);if(n)for(w=0;w<f;++w)v.push("fillText",[p[w],E+A*d[w],.5*(c+_)+w*_]);return this.labels_[o]=C,C},t.prototype.replayTextBackground_=function(t,e,n,i,o,r,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,o,r,s,a,l,u,h,c,p,f,d,g){var _,y=n-(s*=c[0]),v=i-(a*=c[1]),m=o+l>t?t-l:o,x=r+u>e?e-u:r,C=f[3]+m*c[0]+f[1],w=f[0]+x*c[1]+f[2],A=y-f[3],E=v-f[0];return(d||0!==h)&&(_u[0]=A,mu[0]=A,_u[1]=E,yu[1]=E,yu[0]=A+C,vu[0]=yu[0],vu[1]=E+w,mu[1]=vu[1]),0!==h?(G(_=W([1,0,0,1,0,0],n,i,1,1,h,-n,-i),_u),G(_,yu),G(_,vu),G(_,mu),$(Math.min(_u[0],yu[0],vu[0],mu[0]),Math.min(_u[1],yu[1],vu[1],mu[1]),Math.max(_u[0],yu[0],vu[0],mu[0]),Math.max(_u[1],yu[1],vu[1],mu[1]),gu)):$(Math.min(A,A+C),Math.min(E,E+w),Math.max(A,A+C),Math.max(E,E+w),gu),p&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:m,drawImageH:x,originX:l,originY:u,declutterBox:{minX:gu[0],minY:gu[1],maxX:gu[2],maxY:gu[3],value:g},canvasTransform:_,scale:c}},t.prototype.replayImageOrLabel_=function(t,e,n,i,o,r,s){var a=!(!r&&!s),l=i.declutterBox,u=t.canvas,h=s?s[2]*i.scale[0]/2:0;return l.minX-h<=u.width/e&&l.maxX+h>=0&&l.minY-h<=u.height/e&&l.maxY+h>=0&&(a&&this.replayTextBackground_(t,_u,yu,vu,mu,r,s),function(t,e,n,i,o,r,s,a,l,u,h){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(h[0],h[1]),function(t,e){for(var n=t.contextInstructions,i=0,o=n.length;i<o;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):h[0]<0||h[1]<0?(t.translate(l,u),t.scale(h[0],h[1]),t.drawImage(i,o,r,s,a,0,0,s,a)):t.drawImage(i,o,r,s,a,l,u,s*h[0],a*h[1]),t.restore()}(t,i.canvasTransform,o,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=G(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var o=this.textStates[e],r=this.createLabel(t,e,i,n),s=this.strokeStates[n],a=this.pixelRatio,l=wu(t,o.textAlign||tn),u=iu[o.textBaseline||en],h=s&&s.lineWidth?s.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*o.scale[0])+2*(.5-l)*h,anchorY:u*r.height/a+2*(.5-u)*h}},t.prototype.execute_=function(t,e,n,i,o,r,s,a){var l,u,h;this.pixelCoordinates_&&x(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=no(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),h=n,(u=this.renderedTransform_)[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5]);for(var c,p,f,d,g,_,y,v,m,C,w,A,E,b,S,T,O=0,R=i.length,I=0,P=0,F=0,M=null,L=null,k=this.coordinateCache_,j=this.viewRotation_,D=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},z=this.instructions!=i||this.overlaps?0:200;O<R;){var G=i[O];switch(G[0]){case Wl.BEGIN_GEOMETRY:E=G[1],T=G[3],E.getGeometry()?void 0===s||yt(s,T.getExtent())?++O:O=G[2]+1:O=G[2];break;case Wl.BEGIN_PATH:P>z&&(this.fill_(t),P=0),F>z&&(t.stroke(),F=0),P||F||(t.beginPath(),d=NaN,g=NaN),++O;break;case Wl.CIRCLE:var W=l[I=G[1]],X=l[I+1],Y=l[I+2]-W,N=l[I+3]-X,Z=Math.sqrt(Y*Y+N*N);t.moveTo(W+Z,X),t.arc(W,X,Z,0,2*Math.PI,!0),++O;break;case Wl.CLOSE_PATH:t.closePath(),++O;break;case Wl.CUSTOM:I=G[1],c=G[2];var U=G[3],K=G[4],V=6==G.length?G[5]:void 0;B.geometry=U,B.feature=E,O in k||(k[O]=[]);var q=k[O];V?V(l,I,c,2,q):(q[0]=l[I],q[1]=l[I+1],q.length=2),K(q,B),++O;break;case Wl.DRAW_IMAGE:I=G[1],c=G[2],v=G[3],p=G[4],f=G[5];var H=G[6],J=G[7],Q=G[8],$=G[9],tt=G[10],et=G[11],nt=G[12],it=G[13],ot=G[14];if(!v&&G.length>=19){m=G[18],C=G[19],w=G[20],A=G[21];var rt=this.drawLabelWithPointPlacement_(m,C,w,A);v=rt.label,G[3]=v;var st=G[22];p=(rt.anchorX-st)*this.pixelRatio,G[4]=p;var at=G[23];f=(rt.anchorY-at)*this.pixelRatio,G[5]=f,H=v.height,G[6]=H,it=v.width,G[13]=it}var lt=void 0;G.length>24&&(lt=G[24]);var ut=void 0,ht=void 0,ct=void 0;G.length>16?(ut=G[15],ht=G[16],ct=G[17]):(ut=nn,ht=!1,ct=!1),tt&&D?et+=j:tt||D||(et-=j);for(var pt=0;I<c;I+=2)if(!(lt&&lt[pt++]<it/this.pixelRatio)){var ft=[t,e,v,Wt=this.calculateImageOrLabelDimensions_(v.width,v.height,l[I],l[I+1],it,H,p,f,Q,$,et,nt,o,ut,ht||ct,E),J,ht?M:null,ct?L:null],dt=void 0,gt=void 0;if(a&&ot){var _t=c-I;if(!ot[_t]){ot[_t]=ft;continue}if(dt=ot[_t],delete ot[_t],gt=xu(dt),a.collides(gt))continue}a&&a.collides(Wt.declutterBox)||(dt&&(a&&a.insert(gt),this.replayImageOrLabel_.apply(this,dt)),a&&a.insert(Wt.declutterBox),this.replayImageOrLabel_.apply(this,ft))}++O;break;case Wl.DRAW_CHARS:var vt=G[1],mt=G[2],xt=G[3],Ct=G[4];A=G[5];var wt=G[6],At=G[7],Et=G[8];w=G[9];var bt=G[10];m=G[11],C=G[12];var St=[G[13],G[13]],Tt=this.textStates[C],Ot=Tt.font,Rt=[Tt.scale[0]*At,Tt.scale[1]*At],It=void 0;Ot in this.widths_?It=this.widths_[Ot]:(It={},this.widths_[Ot]=It);var Pt=du(l,vt,mt,2),Ft=Math.abs(Rt[0])*pn(Ot,m,It);if(Ct||Ft<=Pt){var Mt=this.textStates[C].textAlign,Lt=fu(l,vt,mt,2,m,(Pt-Ft)*iu[Mt],wt,Math.abs(Rt[0]),pn,Ot,It,D?0:this.viewRotation_);t:if(Lt){var kt=[],jt=void 0,Dt=void 0,Bt=void 0,zt=void 0,Gt=void 0;if(w)for(jt=0,Dt=Lt.length;jt<Dt;++jt){Bt=(Gt=Lt[jt])[4],zt=this.createLabel(Bt,C,"",w),p=Gt[2]+(Rt[0]<0?-bt:bt),f=xt*zt.height+2*(.5-xt)*bt*Rt[1]/Rt[0]-Et;var Wt=this.calculateImageOrLabelDimensions_(zt.width,zt.height,Gt[0],Gt[1],zt.width,zt.height,p,f,0,0,Gt[3],St,!1,nn,!1,E);if(a&&a.collides(Wt.declutterBox))break t;kt.push([t,e,zt,Wt,1,null,null])}if(A)for(jt=0,Dt=Lt.length;jt<Dt;++jt){if(Bt=(Gt=Lt[jt])[4],zt=this.createLabel(Bt,C,A,""),p=Gt[2],f=xt*zt.height-Et,Wt=this.calculateImageOrLabelDimensions_(zt.width,zt.height,Gt[0],Gt[1],zt.width,zt.height,p,f,0,0,Gt[3],St,!1,nn,!1,E),a&&a.collides(Wt.declutterBox))break t;kt.push([t,e,zt,Wt,1,null,null])}a&&a.load(kt.map(xu));for(var Xt=0,Yt=kt.length;Xt<Yt;++Xt)this.replayImageOrLabel_.apply(this,kt[Xt])}}++O;break;case Wl.END_GEOMETRY:if(void 0!==r){var Nt=r(E=G[1],T);if(Nt)return Nt}++O;break;case Wl.FILL:z?P++:this.fill_(t),++O;break;case Wl.MOVE_TO_LINE_TO:for(I=G[1],c=G[2],b=l[I],y=(S=l[I+1])+.5|0,(_=b+.5|0)===d&&y===g||(t.moveTo(b,S),d=_,g=y),I+=2;I<c;I+=2)_=(b=l[I])+.5|0,y=(S=l[I+1])+.5|0,I!=c-2&&_===d&&y===g||(t.lineTo(b,S),d=_,g=y);++O;break;case Wl.SET_FILL_STYLE:M=G,this.alignFill_=G[2],P&&(this.fill_(t),P=0,F&&(t.stroke(),F=0)),t.fillStyle=G[1],++O;break;case Wl.SET_STROKE_STYLE:L=G,F&&(t.stroke(),F=0),this.setStrokeStyle_(t,G),++O;break;case Wl.STROKE:z?F++:t.stroke(),++O;break;default:++O}}P&&this.fill_(t),F&&t.stroke()},t.prototype.execute=function(t,e,n,i,o,r){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,o,void 0,void 0,r)},t.prototype.executeHitDetection=function(t,e,n,i,o){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,o)},t}();const Eu=Au;var bu=[cu,au,hu,uu,pu,lu],Su=function(){function t(t,e,n,i,o,r){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e];for(var o in i){var r=i[o];n[o]=new Eu(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,o=t.length;i<o;++i)if(t[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r){var s=2*(i=Math.round(i))+1,a=W(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Ze(s,s));var u,h=this.hitDetectionContext_;h.canvas.width!==s||h.canvas.height!==s?(h.canvas.width=s,h.canvas.height=s):l||h.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(nt(u=[1/0,1/0,-1/0,-1/0],t),U(u,e*(this.renderBuffer_+i),u));var c,p=function(t){if(void 0!==Tu[t])return Tu[t];for(var e=2*t+1,n=t*t,i=new Array(n+1),o=0;o<=t;++o)for(var r=0;r<=t;++r){var s=o*o+r*r;if(s>n)break;var a=i[s];a||(a=[],i[s]=a),a.push(4*((t+o)*e+(t+r))+3),o>0&&a.push(4*((t-o)*e+(t+r))+3),r>0&&(a.push(4*((t+o)*e+(t-r))+3),o>0&&a.push(4*((t-o)*e+(t-r))+3))}for(var l=[],u=(o=0,i.length);o<u;++o)i[o]&&l.push.apply(l,i[o]);return Tu[t]=l,l}(i);function f(t,e){for(var n=h.getImageData(0,0,s,s).data,a=0,l=p.length;a<l;a++)if(n[p[a]]>0){if(!r||c!==uu&&c!==pu||-1!==r.indexOf(t)){var u=(p[a]-3)/4,f=i-u%s,d=i-(u/s|0),g=o(t,e,f*f+d*d);if(g)return g}h.clearRect(0,0,s,s);break}}var d,g,y,v,m,x=Object.keys(this.executorsByZIndex_).map(Number);for(x.sort(_),d=x.length-1;d>=0;--d){var C=x[d].toString();for(y=this.executorsByZIndex_[C],g=bu.length-1;g>=0;--g)if(void 0!==(v=y[c=bu[g]])&&(m=v.executeHitDetection(h,a,n,f,u)))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],o=e[2],r=e[3],s=[n,i,n,r,o,r,o,i];return no(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return Zt(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,i,o,r,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(_),this.maxExtent_&&(t.save(),this.clip(t,n));var l,u,h,c,p,f,d=r||bu;for(s&&a.reverse(),l=0,u=a.length;l<u;++l){var g=a[l].toString();for(p=this.executorsByZIndex_[g],h=0,c=d.length;h<c;++h)void 0!==(f=p[d[h]])&&f.execute(t,e,n,i,o,s)}this.maxExtent_&&t.restore()},t}(),Tu={};const Ou=Su;var Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Iu=function(t){function e(e,n,i,o,r,s,a){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=o,l.viewRotation_=r,l.squaredTolerance_=s,l.userTransform_=a,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return Ru(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=no(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,h=o.length;u<h;u+=2){var c=o[u]-this.imageAnchorX_,p=o[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=c+this.imageAnchorX_,d=p+this.imageAnchorY_;W(s,f,d,1,1,l,-f,-d),r.setTransform.apply(r,s),r.translate(f,d),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=no(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=W(this.tmpLocalTransform_,a,l,1,1,s,-a,-l);r.setTransform.apply(r,u),r.translate(a,l),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&r.strokeText(this.text_,a,l),this.textFillState_&&r.fillText(this.text_,a,l)}}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,s=no(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);var a=s.length;o&&(a-=2);for(var l=2;l<a;l+=2)r.lineTo(s[l],s[l+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(yt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var o=t.getStride();return no(i,0,i.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case Nn:this.drawPoint(t);break;case Zn:this.drawLineString(t);break;case Un:this.drawPolygon(t);break;case Kn:this.drawMultiPoint(t);break;case Vn:this.drawMultiLineString(t);break;case qn:this.drawMultiPolygon(t);break;case Hn:this.drawGeometryCollection(t);break;case Jn:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&yt(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),yt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(yt(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,l=r.length;a<l;++a)o=this.moveToLineTo_(i,o,r[a],s,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),yt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),yt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var s=0,a=o.length;s<a;++s){var l=o[s];i=this.drawRings_(n,i,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(x(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:tn;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var i=t.getColor();this.fillState_={fillStyle:_l(i||qe)}}else this.fillState_=null;if(e){var o=e.getColor(),r=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),h=e.getMiterLimit(),c=s||Je;this.strokeState_={lineCap:void 0!==r?r:He,lineDash:1===this.pixelRatio_?c:c.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(a||0)*this.pixelRatio_,lineJoin:void 0!==l?l:Qe,lineWidth:(void 0!==u?u:1)*this.pixelRatio_,miterLimit:void 0!==h?h:10,strokeStyle:_l(o||$e)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:_l(n||qe)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),h=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:He,lineDash:s||Je,lineDashOffset:a||0,lineJoin:void 0!==l?l:Qe,lineWidth:void 0!==u?u:1,miterLimit:void 0!==h?h:10,strokeStyle:_l(o||$e)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),_=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:Ve,textAlign:void 0!==v?v:tn,textBaseline:void 0!==m?m:en},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},e}(Xl);const Pu=Iu,Fu="fraction",Mu="pixels",Lu="bottom-left",ku="bottom-right",ju="top-left",Du="top-right";var Bu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zu=null,Gu=function(t){function e(e,n,i,o,r,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==o&&(a.image_.crossOrigin=o),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=r,a.size_=i,a.src_=n,a.tainted_,a}return Bu(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){zu||(zu=Ze(1,1)),zu.drawImage(this.image_,0,0);try{zu.getImageData(0,0,1,1),this.tainted_=!1}catch(t){zu=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Vt)},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Ze(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ws(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&2===this.imageState_){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Mt(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,e.width,e.height),o=i.data,r=this.color_[0]/255,s=this.color_[1]/255,a=this.color_[2]/255,l=this.color_[3],u=0,h=o.length;u<h;u+=4)o[u]*=r,o[u+1]*=s,o[u+2]*=a,o[u+3]*=l;n.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Kt),Wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xu=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.opacity?i.opacity:1,r=void 0!==i.rotation?i.rotation:0,s=void 0!==i.scale?i.scale:1,a=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:o,rotation:r,scale:s,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:a})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:ju,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:Fu,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:Fu,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,u=void 0!==i.imgSize?i.imgSize:null,h=i.src;B(!(void 0!==h&&l),4),B(!l||l&&u,5),void 0!==h&&0!==h.length||!l||(h=l.src||S(l)),B(void 0!==h&&h.length>0,6);var c=void 0!==i.src?0:2;return n.color_=void 0!==i.color?kt(i.color):null,n.iconImage_=function(t,e,n,i,o,r){var s=zt.get(e,i,r);return s||(s=new Gu(t,e,n,i,o,r),zt.set(e,i,r,s)),s}(l,h,u,n.crossOrigin_,c,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:ju,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return Wu(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==Fu||this.anchorYUnits_==Fu){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Fu&&(t[0]*=e[0]),this.anchorYUnits_==Fu&&(t[1]*=e[1])}if(this.anchorOrigin_!=ju){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Du&&this.anchorOrigin_!=ku||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Lu&&this.anchorOrigin_!=ku||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=ju){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Du&&this.offsetOrigin_!=ku||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Lu&&this.offsetOrigin_!=ku||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Vt,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Vt,t)},e}(gl);const Yu=Xu;var Nu=.5,Zu={Point:function(t,e,n,i,o){var r,s=n.getImage(),a=n.getText();if(o&&(t=o,r=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var l=t.getBuilder(n.getZIndex(),uu);l.setImageStyle(s,r),l.drawPoint(e,i)}if(a&&a.getText()){var u=t.getBuilder(n.getZIndex(),pu);u.setTextStyle(a,r),u.drawText(e,i)}},LineString:function(t,e,n,i,o){var r=n.getStroke();if(r){var s=t.getBuilder(n.getZIndex(),hu);s.setFillStrokeStyle(null,r),s.drawLineString(e,i)}var a=n.getText();if(a&&a.getText()){var l=(o||t).getBuilder(n.getZIndex(),pu);l.setTextStyle(a),l.drawText(e,i)}},Polygon:function(t,e,n,i,o){var r=n.getFill(),s=n.getStroke();if(r||s){var a=t.getBuilder(n.getZIndex(),cu);a.setFillStrokeStyle(r,s),a.drawPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var u=(o||t).getBuilder(n.getZIndex(),pu);u.setTextStyle(l),u.drawText(e,i)}},MultiPoint:function(t,e,n,i,o){var r,s=n.getImage(),a=n.getText();if(o&&(t=o,r=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var l=t.getBuilder(n.getZIndex(),uu);l.setImageStyle(s,r),l.drawMultiPoint(e,i)}if(a&&a.getText()){var u=(o||t).getBuilder(n.getZIndex(),pu);u.setTextStyle(a,r),u.drawText(e,i)}},MultiLineString:function(t,e,n,i,o){var r=n.getStroke();if(r){var s=t.getBuilder(n.getZIndex(),hu);s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,i)}var a=n.getText();if(a&&a.getText()){var l=(o||t).getBuilder(n.getZIndex(),pu);l.setTextStyle(a),l.drawText(e,i)}},MultiPolygon:function(t,e,n,i,o){var r=n.getFill(),s=n.getStroke();if(s||r){var a=t.getBuilder(n.getZIndex(),cu);a.setFillStrokeStyle(r,s),a.drawMultiPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var u=(o||t).getBuilder(n.getZIndex(),pu);u.setTextStyle(l),u.drawText(e,i)}},GeometryCollection:function(t,e,n,i,o){var r,s,a=e.getGeometriesArray();for(r=0,s=a.length;r<s;++r)(0,Zu[a[r].getType()])(t,a[r],n,i,o)},Circle:function(t,e,n,i,o){var r=n.getFill(),s=n.getStroke();if(r||s){var a=t.getBuilder(n.getZIndex(),au);a.setFillStrokeStyle(r,s),a.drawCircle(e,i)}var l=n.getText();if(l&&l.getText()){var u=(o||t).getBuilder(n.getZIndex(),pu);u.setTextStyle(l),u.drawText(e,i)}}};function Uu(t,e){return parseInt(S(t),10)-parseInt(S(e),10)}function Ku(t,e){return.5*t/e}function Vu(t,e,n,i,o,r,s){var a=!1,l=n.getImage();if(l){var u=l.getImageState();2==u||3==u?l.unlistenImageChange(o):(0==u&&l.load(),u=l.getImageState(),l.listenImageChange(o),a=!0)}return function(t,e,n,i,o,r){var s=n.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(i,o);n.getRenderer()?qu(t,a,n,e):(0,Zu[a.getType()])(t,a,n,e,r)}}(t,e,n,i,r,s),a}function qu(t,e,n,i){if(e.getType()!=Hn)t.getBuilder(n.getZIndex(),lu).drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer());else for(var o=e.getGeometries(),r=0,s=o.length;r<s;++r)qu(t,o[r],n,i)}var Hu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ju=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return Hu(e,t),e.prototype.renderWorlds=function(t,e,n){var i=e.extent,o=e.viewState,r=o.center,s=o.resolution,a=o.projection,l=o.rotation,u=a.getExtent(),h=this.getLayer().getSource(),c=e.pixelRatio,p=e.viewHints,f=!(p[0]||p[1]),d=this.context,g=Math.round(e.size[0]*c),_=Math.round(e.size[1]*c),y=h.getWrapX()&&a.canWrapX(),v=y?_t(u):null,m=y?Math.ceil((i[2]-u[2])/v)+1:1,x=y?Math.floor((i[0]-u[0])/v):0;do{var C=this.getRenderTransform(r,s,l,c,g,_,x*v);t.execute(d,1,C,l,f,void 0,n)}while(++x<m)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){!function(t,e,n,i,o,r,s){t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=s}(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),X(this.inversePixelTransform,this.pixelTransform);var o=Y(this.pixelTransform);this.useContainer(e,o,i.opacity,this.getBackground(t));var r=this.context,s=r.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!l||l.isEmpty()))return null;var u=Math.round(t.size[0]*n),h=Math.round(t.size[1]*n);s.width!=u||s.height!=h?(s.width=u,s.height=h,s.style.transform!==o&&(s.style.transform=o)):this.containerReused||r.clearRect(0,0,u,h),this.preRender(r,t);var c=t.viewState,p=(c.projection,!1),f=!0;if(i.extent&&this.clipping){var d=Wi(i.extent);(p=(f=yt(d,t.extent))&&!H(d,t.extent))&&this.clipUnrotated(r,t,d)}f&&this.renderWorlds(a,t),p&&r.restore(),this.postRender(r,t);var g=Ne(i.opacity),_=this.container;return g!==_.style.opacity&&(_.style.opacity=g),this.renderedRotation_!==c.rotation&&(this.renderedRotation_=c.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];G(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,r=this.renderedRotation_,s=this.renderedProjection_,a=this.wrappedRenderedExtent_,l=this.getLayer(),u=[],h=n[0]*Nu,c=n[1]*Nu;u.push(this.getRenderTransform(i,o,r,Nu,h,c,0).slice());var p=l.getSource(),f=s.getExtent();if(p.getWrapX()&&s.canWrapX()&&!H(f,a)){for(var d=a[0],g=_t(f),y=0,v=void 0;d<f[0];)v=g*--y,u.push(this.getRenderTransform(i,o,r,Nu,h,c,v).slice()),d+=g;for(y=0,d=a[2];d>f[2];)v=g*++y,u.push(this.getRenderTransform(i,o,r,Nu,h,c,v).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,i,o,r,s){var a=Ze(t[0]*Nu,t[1]*Nu);a.imageSmoothingEnabled=!1;for(var l=a.canvas,u=new Pu(a,Nu,o,null,s),h=n.length,c=Math.floor(16777215/h),p={},f=1;f<=h;++f){var d=n[f-1],g=d.getStyleFunction()||i;if(i){var y=g(d,r);if(y){Array.isArray(y)||(y=[y]);for(var v="#"+("000000"+(f*c).toString(16)).slice(-6),m=0,x=y.length;m<x;++m){var C=y[m],w=C.getGeometryFunction()(d);if(w&&yt(o,w.getExtent())){var A=C.clone(),E=A.getFill();E&&E.setColor(v);var b=A.getStroke();b&&(b.setColor(v),b.setLineDash(null)),A.setText(void 0);var S=C.getImage();if(S&&0!==S.getOpacity()){var T=S.getImageSize();if(!T)continue;var O=Ze(T[0],T[1],void 0,{alpha:!1}),R=O.canvas;O.fillStyle=v,O.fillRect(0,0,R.width,R.height),A.setImage(new Yu({img:R,imgSize:T,anchor:S.getAnchor(),anchorXUnits:Mu,anchorYUnits:Mu,offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var I=A.getZIndex()||0;(M=p[I])||(M={},p[I]=M,M.Polygon=[],M.Circle=[],M.LineString=[],M.Point=[]),M[w.getType().replace("Multi","")].push(w,A)}}}}}for(var P=Object.keys(p).map(Number).sort(_),F=(f=0,P.length);f<F;++f){var M=p[P[f]];for(var L in M){var k=M[L];for(m=0,x=k.length;m<x;m+=2){u.setStyle(k[m+1]);for(var j=0,D=e.length;j<D;++j)u.setTransform(e[j]),u.drawGeometry(k[m])}}}return a.getImageData(0,0,l.width,l.height)}(n,u,this.renderedFeatures_,l.getStyleFunction(),a,o,r)}e(function(t,e,n){var i=[];if(n){var o=Math.floor(Math.round(t[0])*Nu),r=Math.floor(Math.round(t[1])*Nu),s=4*(mt(o,0,n.width-1)+mt(r,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*a),h=Math.floor(16777215/e.length);u&&u%h==0&&i.push(e[u/h-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){var r=this;if(this.replayGroup_){var s,a=e.viewState.resolution,l=e.viewState.rotation,u=this.getLayer(),h={},c=function(t,e,n){var r=S(t),s=h[r];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return h[r]=!0,o.splice(o.lastIndexOf(s),1),i(t,u,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return h[r]=!0,i(t,u,e);o.push(h[r]={feature:t,layer:u,geometry:e,distanceSq:n,callback:i})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(i){return s=i.forEachFeatureAtCoordinate(t,a,l,n,c,i===r.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var i=t.viewHints[0],o=t.viewHints[1],r=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(!this.dirty_&&!r&&i||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var a=t.extent,l=t.viewState,u=l.projection,h=l.resolution,c=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Uu);var g=l.center.slice(),_=U(a,f*h),y=_.slice(),v=[_.slice()],m=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!H(m,t.extent)){var C=_t(m),w=Math.max(_t(_)/2,C);_[0]=m[0]-w,_[2]=m[2]+w,Fe(g,u);var A=function(t,e){var n=e.getExtent(),i=ut(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var o=_t(n),r=Math.floor((i[0]-n[0])/o)*o;t[0]-=r,t[2]-=r}return t}(v[0],u);A[0]<m[0]&&A[2]<m[2]?v.push([A[0]+C,A[1],A[2]+C,A[3]]):A[0]>m[0]&&A[2]>m[2]&&v.push([A[0]-C,A[1],A[2]-C,A[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&H(this.wrappedRenderedExtent_,_))return x(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E,b=new su(Ku(h,c),_,h,c);this.getLayer().getDeclutter()&&(E=new su(Ku(h,c),_,h,c));var S,T=Di();if(T){for(var O=0,R=v.length;O<R;++O){var I=Gi(v[O]);n.loadFeatures(I,Xi(h),T)}S=Ii(T,u)}else for(O=0,R=v.length;O<R;++O)n.loadFeatures(v[O],h,u);var P=function(t,e){var n=Ku(t,e);return n*n}(h,c),F=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,h)),n){var o=this.renderFeature(t,P,n,b,S,E);this.dirty_=this.dirty_||o}}.bind(this),M=Gi(_),L=n.getFeaturesInExtent(M);for(d&&L.sort(d),O=0,R=L.length;O<R;++O)F(L[O]);this.renderedFeatures_=L;var k=b.finish(),j=new Ou(_,h,c,n.getOverlaps(),k,e.getRenderBuffer());return E&&(this.declutterExecutorGroup=new Ou(_,h,c,n.getOverlaps(),E.finish(),e.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=y,this.wrappedRenderedExtent_=_,this.renderedCenter_=g,this.renderedProjection_=u,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,o,r){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var a=0,l=n.length;a<l;++a)s=Vu(i,t,n[a],e,this.boundHandleStyleImageChange_,o,r)||s;else s=Vu(i,t,n,e,this.boundHandleStyleImageChange_,o,r);return s},e}(Es);const Qu=Ju;var $u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const th=function(t){function e(e){return t.call(this,e)||this}return $u(e,t),e.prototype.createRenderer=function(){return new Qu(this)},e}(kl),eh=n.p+"images/marker.png";var nh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const ih=function(t){function e(e,n,i,o,r){var s=this,a=void 0!==r?0:2;return(s=t.call(this,e,n,i,a)||this).loader_=void 0!==r?r:null,s.canvas_=o,s.error_=null,s}return nh(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=3):this.state=2,this.changed()},e.prototype.load=function(){0==this.state&&(this.state=1,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(zs);var oh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rh=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return oh(e,t),e}(Re);const sh=rh;var ah=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lh=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return ah(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,i=t.viewState,o=i.resolution,r=this.getLayer().getSource(),s=t.viewHints,a=t.extent;if(void 0!==e.extent&&(a=ft(a,Wi(e.extent,i.projection))),!s[0]&&!s[1]&&!vt(a))if(r){var l=i.projection,u=r.getImage(a,o,n,l);u&&this.loadImage(u)&&(this.image_=u)}else this.image_=null;return!!this.image_},e.prototype.renderFrame=function(t,e){var n=this.image_,i=n.getExtent(),o=n.getResolution(),r=n.getPixelRatio(),s=t.layerStatesArray[t.layerIndex],a=t.pixelRatio,l=t.viewState,u=l.center,h=l.resolution,c=t.size,p=a*o/(h*r),f=Math.round(c[0]*a),d=Math.round(c[1]*a),g=l.rotation;if(g){var _=Math.round(Math.sqrt(f*f+d*d));f=_,d=_}W(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/a,1/a,g,-f/2,-d/2),X(this.inversePixelTransform,this.pixelTransform);var y=Y(this.pixelTransform);this.useContainer(e,y,s.opacity,this.getBackground(t));var v=this.context,m=v.canvas;m.width!=f||m.height!=d?(m.width=f,m.height=d):this.containerReused||v.clearRect(0,0,f,d);var x=!1,C=!0;if(s.extent){var w=Wi(s.extent,l.projection);(x=(C=yt(w,t.extent))&&!H(w,t.extent))&&this.clipUnrotated(v,t,w)}var A=n.getImage(),E=W(this.tempTransform,f/2,d/2,p,p,0,r*(i[0]-u[0])/o,r*(u[1]-i[3])/o);this.renderedResolution=o*a/r;var b=A.width*E[0],S=A.height*E[3];if(this.getLayer().getSource().getInterpolate()||Xt(v,Os),this.preRender(v,t),C&&b>=.5&&S>=.5){var T=E[4],O=E[5],R=s.opacity,I=void 0;1!==R&&(I=v.globalAlpha,v.globalAlpha=R),v.drawImage(A,0,0,+A.width,+A.height,Math.round(T),Math.round(O),Math.round(b),Math.round(S)),1!==R&&(v.globalAlpha=I)}return this.postRender(v,t),x&&v.restore(),Xt(v,Rs),y!==m.style.transform&&(m.style.transform=y),this.container},e}(Es);const uh=lh;var hh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const ch=function(t){function e(e){return t.call(this,e)||this}return hh(e,t),e.prototype.createRenderer=function(){return new uh(this)},e}(sh);var ph,fh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dh=!0;try{new ImageData(10,10)}catch(t){dh=!1}function gh(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function n(t,n,i){return e?new ImageData(t,n,i):{data:t,width:n,height:i}}return function(e){var i=e.buffers,o=e.meta,r=e.imageOps,s=e.width,a=e.height,l=i.length,u=i[0].byteLength;if(r){for(var h=new Array(l),c=0;c<l;++c)h[c]=n(new Uint8ClampedArray(i[c]),s,a);return t(h,o).data.buffer}var p=new Uint8ClampedArray(u),f=new Array(l),d=new Array(l);for(c=0;c<l;++c)f[c]=new Uint8ClampedArray(i[c]),d[c]=[0,0,0,0];for(var g=0;g<u;g+=4){for(var _=0;_<l;++_){var y=f[_];d[_][0]=y[g],d[_][1]=y[g+1],d[_][2]=y[g+2],d[_][3]=y[g+3]}var v=t(d,o);p[g]=v[0],p[g+1]=v[1],p[g+2]=v[2],p[g+3]=v[3]}return p.buffer}}function _h(t,e){var n=Object.keys(t.lib||{}).map((function(e){return"var "+e+" = "+t.lib[e].toString()+";"})).concat(["var __minion__ = ("+gh.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Worker("undefined"==typeof Blob?"data:text/javascript;base64,"+Buffer.from(n.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(n,{type:"text/javascript"})));return i.addEventListener("message",e),i}var yh=function(t){function e(e){var n,i=t.call(this)||this;i._imageOps=!!e.imageOps,n=0===e.threads?0:i._imageOps?1:e.threads||1;var o=new Array(n);if(n)for(var r=0;r<n;++r)o[r]=_h(e,i._onWorkerMessage.bind(i,r));else o[0]=function(t,e){var n=gh(t.operation),i=!1;return{postMessage:function(t){setTimeout((function(){i||e({data:{buffer:n(t),meta:t.meta}})}),0)},terminate:function(){i=!0}}}(e,i._onWorkerMessage.bind(i,0));return i._workers=o,i._queue=[],i._maxQueueLength=e.queue||1/0,i._running=0,i._dataLookup={},i._job=null,i}return fh(e,t),e.prototype.process=function(t,e,n){this._enqueue({inputs:t,meta:e,callback:n}),this._dispatch()},e.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},e.prototype._dispatch=function(){if(!this._running&&0!==this._queue.length){var t=this._queue.shift();this._job=t;var e=t.inputs[0].width,n=t.inputs[0].height,i=t.inputs.map((function(t){return t.data.buffer})),o=this._workers.length;if(this._running=o,1!==o)for(var r=t.inputs[0].data.length,s=4*Math.ceil(r/4/o),a=0;a<o;++a){for(var l=a*s,u=[],h=0,c=i.length;h<c;++h)u.push(i[h].slice(l,l+s));this._workers[a].postMessage({buffers:u,meta:t.meta,imageOps:this._imageOps,width:e,height:n},u)}else this._workers[0].postMessage({buffers:i,meta:t.meta,imageOps:this._imageOps,width:e,height:n},i)}},e.prototype._onWorkerMessage=function(t,e){this.disposed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},e.prototype._resolveJob=function(){var t,e,n=this._job,i=this._workers.length;if(1===i)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=n.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(i);for(var r=4*Math.ceil(o/4/i),s=0;s<i;++s){var a=this._dataLookup[s].buffer,l=s*r;t.set(new Uint8ClampedArray(a),l),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},n.callback(null,function(t,e,n){if(dh)return new ImageData(t,e,n);ph||(ph=document.createElement("canvas").getContext("2d"));var i=ph.createImageData(e,n);return i.data.set(t),i}(t,n.inputs[0].width,n.inputs[0].height),e),this._dispatch()},e.prototype.disposeInternal=function(){for(var t=0;t<this._workers.length;++t)this._workers[t].terminate();this._workers.length=0},e}(g),vh=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.extent=n.extent,o.resolution=n.viewState.resolution/n.pixelRatio,o.data=i,o}return fh(e,t),e}(Gt),mh=function(t){function e(e){var n=t.call(this,{projection:null})||this;n.on,n.once,n.un,n.processor_=null,n.operationType_=void 0!==e.operationType?e.operationType:"pixel",n.threads_=void 0!==e.threads?e.threads:1,n.layers_=function(t){for(var e=t.length,n=new Array(e),i=0;i<e;++i)n[i]=(o=t[i],r=void 0,o instanceof ha?o instanceof xa?r=new Ls({source:o}):o instanceof Ua&&(r=new ch({source:o})):r=o,r);var o,r;return n}(e.sources);for(var i,o=n.changed.bind(n),r=0,s=n.layers_.length;r<s;++r)n.layers_[r].addEventListener(Vt,o);return n.tileQueue_=new Yn((function(){return 1}),n.changed.bind(n)),n.requestedFrameState_,n.renderedImageCanvas_=null,n.renderedRevision_,n.frameState_={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:(i=n.layers_,i.map((function(t){return t.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],tileQueue:n.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:S(n),renderTargets:{}},n.setAttributions((function(t){for(var n=[],i=0,o=e.sources.length;i<o;++i){var r=e.sources[i],s=(r instanceof ha?r:r.getSource()).getAttributions();if("function"==typeof s){var a=s(t);n.push.apply(n,a)}}return 0!==n.length?n:null})),void 0!==e.operation&&n.setOperation(e.operation,e.lib),n}return fh(e,t),e.prototype.setOperation=function(t,e){this.processor_&&this.processor_.dispose(),this.processor_=new yh({operation:t,imageOps:"image"===this.operationType_,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,n){var i=Xt({},this.frameState_);i.viewState=Xt({},i.viewState);var o=ut(t);i.extent=t.slice(),i.size[0]=Math.round(_t(t)/e),i.size[1]=Math.round(pt(t)/e),i.time=Date.now();var r=i.viewState;return r.center=o,r.projection=n,r.resolution=e,i},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,n=this.layers_.length;e<n;++e)if(this.layers_[e].getSource().getState()!==be){t=!1;break}return t},e.prototype.getImage=function(t,e,n,i){if(!this.allSourcesReady_())return null;var o=this.updateFrameState_(t,e,i);if(this.requestedFrameState_=o,this.renderedImageCanvas_){var r=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();e===r&&et(t,s)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),o.tileQueue.loadMoreTiles(16,16),o.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.layers_.length,n=new Array(e),i=0;i<e;++i){t.layerIndex=i;var o=Ch(this.layers_[i],t);if(!o)return;n[i]=o}var r={};this.dispatchEvent(new vh("beforeoperations",t,r)),this.processor_.process(n,r,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,n,i){if(!e&&n){var o,r=t.extent,s=t.viewState.resolution;if(s===this.requestedFrameState_.viewState.resolution&&et(r,this.requestedFrameState_.extent))this.renderedImageCanvas_?o=this.renderedImageCanvas_.getImage().getContext("2d"):(o=Ze(Math.round(_t(r)/s),Math.round(pt(r)/s)),this.renderedImageCanvas_=new ih(r,s,1,o.canvas)),o.putImageData(n,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new vh("afteroperations",t,i)),t.animate&&requestAnimationFrame(this.changed.bind(this))}},e.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),t.prototype.disposeInternal.call(this)},e}(Ua);mh.prototype.dispose;var xh=null;function Ch(t,e){var n=t.getRenderer();if(!n)throw new Error("Unsupported layer type: "+t);if(!n.prepareFrame(e))return null;var i=e.size[0],o=e.size[1];if(0===i||0===o)return null;var r,s=n.renderFrame(e,null);if(s&&(r=s.firstElementChild),!(r instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+r);if(r.width===i&&r.height===o)return r.getContext("2d").getImageData(0,0,i,o);if(xh){var a=xh.canvas;a.width!==i||a.height!==o?xh=Ze(i,o):xh.clearRect(0,0,i,o)}else xh=Ze(i,o);return xh.drawImage(r,0,0,i,o),xh.getImageData(0,0,i,o)}const wh=mh,Ah=Ei("EPSG:3857"),Eh=Ah.getExtent(),bh=_t(Eh)/256,Sh=new Array(19),Th=new Array(19);for(let t=0;t<=19;++t)Sh[t]=bh/Math.pow(2,t),Th[t]=t;let Oh=new Ls({name:"å¤©åœ°å›¾çŸ¢é‡å›¾å±‚",source:new Ma({url:"http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=1b5c70b0b006efdd020b4e374c73b1b9",wrapX:!0,crossOrigin:"anonymous"})}),Rh=new Ls({name:"å¤©åœ°å›¾çŸ¢é‡å›¾å±‚",source:new Ma({url:"http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=1b5c70b0b006efdd020b4e374c73b1b9",wrapX:!1,crossOrigin:"anonymous"})}),Ih=(new Ls({opacity:.7,source:new Ba({attributions:'Tiles Â© <a href="https://mrdata.usgs.gov/geology/state/" target="_blank">USGS</a>',url:"http://t0.tianditu.gov.cn/vec_w/wmts?tk=1b5c70b0b006efdd020b4e374c73b1b9",layer:"vec",matrixSet:"w",format:"tiles",projection:Ah,tileGrid:new $a({origin:dt(Eh),resolutions:Sh,matrixIds:Th}),style:"default",wrapX:!0})}),new ch({opacity:.7,source:new Ha({attributions:'Tiles Â© <a href="https://mrdata.usgs.gov/geology/state/" target="_blank">USGS</a>',url:"http://localhost:8888/geoserver/home/wms?service=WMS&version=1.1.0&request=GetMap&layers=home%3Ahome_point&bbox=102.659332591563%2C21.9760648097106%2C125.082701458203%2C43.846087444756&width=768&height=749&srs=EPSG%3A3857&styles=&format=application/openlayers",layer:"vec",matrixSet:"w",format:"tiles",projection:Ah,tileGrid:new $a({origin:dt(Eh),resolutions:Sh,matrixIds:Th}),style:"default",wrapX:!0})})),Ph=function(t){for(var e=0;e<t.length;e+=4){var n=.3*t[e]+.59*t[e+1]+.11*t[e+2];t[e]=n,t[e+1]=n,t[e+2]=n,t[e]=55-t[e],t[e+1]=255-t[e+1],t[e+2]=305-t[e+2]}};const Fh=new wh({sources:[Oh],operationType:"image",operation:function(t,e){return Ph(t[0].data),t[0]},threads:10,lib:{reverseFunc:Ph}});let Mh=new fs({target:"map",layers:[new ch({name:"ssss",source:Fh}),Rh],view:new Zo({projection:Ah,center:Oi([105,37]),zoom:5})});const Lh=new Pl({image:new Yu({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",color:"#ffffff",src:eh})});var kh=new nl({geometry:new Oo(Oi([113.457278740096,34.6734005]))});kh.setStyle(Lh);var jh=new th({source:new fl({features:[kh]})});Mh.addLayer(jh),Mh.addLayer(Ih)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEYsTUFDZm84RixFQUFPLElBR2xCYSxRQUFTLEdBRVRULElBQUssQ0FDRDRELFlBQWFBLE1BSXJCLElBTUlLLEdBQVcsSUFBSSxHQUFJLENBQ25CbjZGLE9BQVEsTUFDUjhpQixPQUFPLENBUkssSUFBSSxHQUFXLENBQzNCNWIsS0FBSyxPQUNMcE4sT0FBT21nRyxLQVFITCxJQUVKeHZELEtBQU0sSUFBSSxHQUFLLENBQ1hseEIsV0FBWUEsR0FDWmpPLE9BQVEra0IsR0FBVyxDQUFDLElBQUssS0FDekJuWCxLQUFNLE1BV2QsTUFBTXVoRixHQUFZLElBQUksR0FBTSxDQUN4QnY0QyxNQUFPLElBQUksR0FBSyxDQUNaMXVCLE9BQVEsQ0FBQyxHQUFLLElBQ2RtN0QsYUFBYyxXQUNkRyxhQUFjLFNBQ2RyaEYsTUFBTyxVQUNQbEssSUFBS20zRixPQUliLElBQUloZ0YsR0FBVSxJQUFJLEdBQVEsQ0FDdEJDLFNBQVUsSUFBSSxHQUFNMFYsR0FBVyxDQUFDLGlCQUFpQixnQkFNckQzVixHQUFRNHBELFNBQVNtMkIsSUFDakIsSUFJSSxHQUFRLElBQUksR0FBWSxDQUN4QnRnRyxPQUxTLElBQUl3Z0csR0FBYSxDQUMxQnJzRCxTQUFVLENBQUM1ekIsUUFNZjgvRSxHQUFTNXNELFNBQVMsSUFDbEI0c0QsR0FBUzVzRCxTQUFTc3NELEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvb2wuY3NzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL3JidXNoL3JidXNoLm1pbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL29sLmNzcz9lZTNjIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9EaXNwb3NhYmxlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9hcnJheS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZnVuY3Rpb25zLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC91dGlsLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9Bc3NlcnRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaGFzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9hc3NlcnRzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V4dGVudC9Db3JuZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V4dGVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbWF0aC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZUNhY2hlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL09iamVjdEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvb2JqLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvVGFyZ2V0LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvRXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL09iamVjdC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0Jhc2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9TdGF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2Nvb3JkaW5hdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL01hcC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0V2ZW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9jc3MuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2RvbS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvQ29tcG9zaXRlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9Db2xsZWN0aW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Hcm91cC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwRXZlbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL01hcEJyb3dzZXJFdmVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL01hcEJyb3dzZXJFdmVudEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL01hcEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVF1ZXVlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9UaWxlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnlUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL1VuaXRzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9WaWV3UHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcHJvai9Qcm9qZWN0aW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL2Vwc2czODU3LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL2Vwc2c0MzI2LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL3Byb2plY3Rpb25zLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL3RyYW5zZm9ybXMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NwaGVyZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcHJvai5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY2VudGVyY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JvdGF0aW9uY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZWFzaW5nLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0dlb21ldHJ5TGF5b3V0LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0dlb21ldHJ5LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY2xvc2VzdC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2RlZmxhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zaW1wbGlmeS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9hcmVhLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0xpbmVhclJpbmcuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vUG9pbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9jb250YWlucy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zZWdtZW50cy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3JldmVyc2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9vcmllbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vUG9seWdvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1ZpZXcuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1ZpZXdIaW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zaXplLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9QbHVnZ2FibGVNYXAuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvQ29udHJvbC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9BdHRyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9Sb3RhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvWm9vbS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb20uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BvaW50ZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9jb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdQYW4uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9Cb3guanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdCb3guanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdab29tLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0tleUNvZGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvS2luZXRpYy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9QaW5jaFpvb20uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL01hcC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1RpbGVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZVRpbGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0xheWVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVN0YXRlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVSYW5nZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVGlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvVGlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VCYXNlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VUaWxlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ovVHJpYW5ndWxhdGlvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ovVGlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9MUlVDYWNoZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWNvb3JkLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9UaWxlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkL1RpbGVHcmlkLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC90aWxlZ3JpZC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3RpbGV1cmxmdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1VybFRpbGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUltYWdlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvWFlaLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvV01UU1JlcXVlc3RFbmNvZGluZy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvdXJpLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvV01UUy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL0ltYWdlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9JbWFnZVdNUy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1dNU1NlcnZlclR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0cmluZy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvV01UUy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvRmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9SQnVzaC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1ZlY3RvckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbG9hZGluZ3N0cmF0ZWd5LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9mb3JtYXQvRm9ybWF0VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZmVhdHVyZWxvYWRlci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2NvbG9ybGlrZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvUmVndWxhclNoYXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ZpbGwuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL1N0cm9rZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3R5bGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0Jhc2VWZWN0b3IuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW5zdHJ1Y3Rpb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9WZWN0b3JDb250ZXh0LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0xpbmVTdHJpbmdCdWlsZGVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1BvbHlnb25CdWlsZGVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVuay5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9UZXh0QnVpbGRlci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvVGV4dFBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlclR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC90ZXh0cGF0aC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2xlbmd0aC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkFuY2hvclVuaXRzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uT3JpZ2luLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci92ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JMYXllci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVmVjdG9yLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL2ltYWdlcy9tYXJrZXIucG5nIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZUNhbnZhcy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZUltYWdlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvSW1hZ2VMYXllci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9SYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5vbC1ib3gge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJvcmRlcjogMS41cHggc29saWQgcmdiKDE3OSwxOTcsMjE5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTtcXG59XFxuXFxuLm9sLW1vdXNlLXBvc2l0aW9uIHtcXG4gIHRvcDogOHB4O1xcbiAgcmlnaHQ6IDhweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLm9sLXNjYWxlLWxpbmUge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDYwLDEzNiwwLjMpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxuICBwYWRkaW5nOiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1zY2FsZS1saW5lLWlubmVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XFxuICBib3JkZXItdG9wOiBub25lO1xcbiAgY29sb3I6ICNlZWU7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDFweDtcXG4gIHdpbGwtY2hhbmdlOiBjb250ZW50cywgd2lkdGg7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XFxufVxcbi5vbC1zY2FsZS1iYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxufVxcbi5vbC1zY2FsZS1zdGVwLW1hcmtlciB7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHotSW5kZXg6IDEwO1xcbn1cXG4ub2wtc2NhbGUtc3RlcC10ZXh0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogLTVweDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHotSW5kZXg6IDExO1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICB0ZXh0LXNoYWRvdzogLTJweCAwICNGRkZGRkYsIDAgMnB4ICNGRkZGRkYsIDJweCAwICNGRkZGRkYsIDAgLTJweCAjRkZGRkZGO1xcbn1cXG4ub2wtc2NhbGUtdGV4dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3R0b206IDI1cHg7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIHRleHQtc2hhZG93OiAtMnB4IDAgI0ZGRkZGRiwgMCAycHggI0ZGRkZGRiwgMnB4IDAgI0ZGRkZGRiwgMCAtMnB4ICNGRkZGRkY7XFxufVxcbi5vbC1zY2FsZS1zaW5nbGViYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbiAgei1JbmRleDogOTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLm9sLXVuc3VwcG9ydGVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC12aWV3cG9ydCwgLm9sLXVuc2VsZWN0YWJsZSB7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbn1cXG4ub2wtdmlld3BvcnQgY2FudmFzIHtcXG4gIGFsbDogdW5zZXQ7XFxufVxcbi5vbC1zZWxlY3RhYmxlIHtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogZGVmYXVsdDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgdXNlci1zZWxlY3Q6IHRleHQ7XFxufVxcbi5vbC1ncmFiYmluZyB7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICBjdXJzb3I6IC1tb3otZ3JhYmJpbmc7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbn1cXG4ub2wtZ3JhYiB7XFxuICBjdXJzb3I6IG1vdmU7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcXG4gIGN1cnNvcjogLW1vei1ncmFiO1xcbiAgY3Vyc29yOiBncmFiO1xcbn1cXG4ub2wtY29udHJvbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwYWRkaW5nOiAycHg7XFxufVxcbi5vbC1jb250cm9sOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcXG59XFxuLm9sLXpvb20ge1xcbiAgdG9wOiAuNWVtO1xcbiAgbGVmdDogLjVlbTtcXG59XFxuLm9sLXJvdGF0ZSB7XFxuICB0b3A6IC41ZW07XFxuICByaWdodDogLjVlbTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjI1cyBsaW5lYXIsIHZpc2liaWxpdHkgMHMgbGluZWFyO1xcbn1cXG4ub2wtcm90YXRlLm9sLWhpZGRlbiB7XFxuICBvcGFjaXR5OiAwO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMjVzIGxpbmVhciwgdmlzaWJpbGl0eSAwcyBsaW5lYXIgLjI1cztcXG59XFxuLm9sLXpvb20tZXh0ZW50IHtcXG4gIHRvcDogNC42NDNlbTtcXG4gIGxlZnQ6IC41ZW07XFxufVxcbi5vbC1mdWxsLXNjcmVlbiB7XFxuICByaWdodDogLjVlbTtcXG4gIHRvcDogLjVlbTtcXG59XFxuXFxuLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWFyZ2luOiAxcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBoZWlnaHQ6IDEuMzc1ZW07XFxuICB3aWR0aDogMS4zNzVlbTtcXG4gIGxpbmUtaGVpZ2h0OiAuNGVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDYwLDEzNiwwLjUpO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4ub2wtY29udHJvbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG59XFxuLm9sLXpvb20tZXh0ZW50IGJ1dHRvbiB7XFxuICBsaW5lLWhlaWdodDogMS40ZW07XFxufVxcbi5vbC1jb21wYXNzIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbn1cXG4ub2wtdG91Y2ggLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGZvbnQtc2l6ZTogMS41ZW07XFxufVxcbi5vbC10b3VjaCAub2wtem9vbS1leHRlbnQge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuLm9sLWNvbnRyb2wgYnV0dG9uOmhvdmVyLFxcbi5vbC1jb250cm9sIGJ1dHRvbjpmb2N1cyB7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxufVxcbi5vbC16b29tIC5vbC16b29tLWluIHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweCAycHggMCAwO1xcbn1cXG4ub2wtem9vbSAub2wtem9vbS1vdXQge1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDJweCAycHg7XFxufVxcblxcblxcbi5vbC1hdHRyaWJ1dGlvbiB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGJvdHRvbTogLjVlbTtcXG4gIHJpZ2h0OiAuNWVtO1xcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxLjNlbSk7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1mbG93OiByb3ctcmV2ZXJzZTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBhIHtcXG4gIGNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiB1bCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAxcHggLjVlbTtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgdGV4dC1zaGFkb3c6IDAgMCAycHggI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGxpIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBsaTpub3QoOmxhc3QtY2hpbGQpOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgXFxcIjtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGltZyB7XFxuICBtYXgtaGVpZ2h0OiAyZW07XFxuICBtYXgtd2lkdGg6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG4ub2wtYXR0cmlidXRpb24gYnV0dG9uIHtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtY29sbGFwc2VkIHVsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbjpub3QoLm9sLWNvbGxhcHNlZCkge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjgpO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSB7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweCAwIDA7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbi5vbC11bmNvbGxhcHNpYmxlIGltZyB7XFxuICBtYXJnaW4tdG9wOiAtLjJlbTtcXG4gIG1heC1oZWlnaHQ6IDEuNmVtO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA0LjVlbTtcXG4gIGxlZnQ6IC41ZW07XFxuICBoZWlnaHQ6IDIwMHB4O1xcbn1cXG4ub2wtem9vbXNsaWRlciBidXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbn1cXG5cXG4ub2wtdG91Y2ggLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIHtcXG4gIGxlZnQ6IDAuNWVtO1xcbiAgYm90dG9tOiAwLjVlbTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwLm9sLXVuY29sbGFwc2libGUge1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDAgNHB4IDAgMDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAsXFxuLm9sLW92ZXJ2aWV3bWFwIGJ1dHRvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzdiOThiYztcXG4gIGhlaWdodDogMTUwcHg7XFxuICBtYXJnaW46IDJweDtcXG4gIHdpZHRoOiAxNTBweDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSBidXR0b24ge1xcbiAgYm90dG9tOiAycHg7XFxuICBsZWZ0OiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1vdmVydmlld21hcC5vbC1jb2xsYXBzZWQgLm9sLW92ZXJ2aWV3bWFwLW1hcCxcXG4ub2wtb3ZlcnZpZXdtYXAub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7XFxufVxcbi5vbC1vdmVydmlld21hcC1ib3gge1xcbiAgYm9yZGVyOiAycHggZG90dGVkIHJnYmEoMCw2MCwxMzYsMC43KTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1ib3g6aG92ZXIge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvb2wvb2wuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0Usc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixvQ0FBb0M7RUFDcEMsdUNBQXVDO0FBQ3pDOztBQUVBO0VBQ0UsUUFBUTtFQUNSLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTO0VBQ1QsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNo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O0VBQ2pCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFVBQVU7RUFDVixhQUFhO0FBQ2Y7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtBQUNmO0FBQ0E7RUFDRSxTQUFTO0VBQ1QsT0FBTztFQUNQLHdCQUF3QjtBQUMxQjtBQUNBOztFQUVFLGNBQWM7QUFDaEI7QUFDQTtFQUNFLHlCQUF5QjtFQUN6QixhQUFhO0VBQ2IsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0UsV0FBVztFQUNYLFNBQVM7RUFDVCxrQkFBa0I7QUFDcEI7QUFDQTs7RUFFRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLGlDQUFpQztBQUNuQztBQUNBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsWUFBWTtBQUNkXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5vbC1ib3gge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJvcmRlcjogMS41cHggc29saWQgcmdiKDE3OSwxOTcsMjE5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTtcXG59XFxuXFxuLm9sLW1vdXNlLXBvc2l0aW9uIHtcXG4gIHRvcDogOHB4O1xcbiAgcmlnaHQ6IDhweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLm9sLXNjYWxlLWxpbmUge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDYwLDEzNiwwLjMpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxuICBwYWRkaW5nOiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1zY2FsZS1saW5lLWlubmVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XFxuICBib3JkZXItdG9wOiBub25lO1xcbiAgY29sb3I6ICNlZWU7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDFweDtcXG4gIHdpbGwtY2hhbmdlOiBjb250ZW50cywgd2lkdGg7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XFxufVxcbi5vbC1zY2FsZS1iYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxufVxcbi5vbC1zY2FsZS1zdGVwLW1hcmtlciB7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHotSW5kZXg6IDEwO1xcbn1cXG4ub2wtc2NhbGUtc3RlcC10ZXh0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogLTVweDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHotSW5kZXg6IDExO1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICB0ZXh0LXNoYWRvdzogLTJweCAwICNGRkZGRkYsIDAgMnB4ICNGRkZGRkYsIDJweCAwICNGRkZGRkYsIDAgLTJweCAjRkZGRkZGO1xcbn1cXG4ub2wtc2NhbGUtdGV4dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3R0b206IDI1cHg7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIHRleHQtc2hhZG93OiAtMnB4IDAgI0ZGRkZGRiwgMCAycHggI0ZGRkZGRiwgMnB4IDAgI0ZGRkZGRiwgMCAtMnB4ICNGRkZGRkY7XFxufVxcbi5vbC1zY2FsZS1zaW5nbGViYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbiAgei1JbmRleDogOTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLm9sLXVuc3VwcG9ydGVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC12aWV3cG9ydCwgLm9sLXVuc2VsZWN0YWJsZSB7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbn1cXG4ub2wtdmlld3BvcnQgY2FudmFzIHtcXG4gIGFsbDogdW5zZXQ7XFxufVxcbi5vbC1zZWxlY3RhYmxlIHtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogZGVmYXVsdDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgdXNlci1zZWxlY3Q6IHRleHQ7XFxufVxcbi5vbC1ncmFiYmluZyB7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICBjdXJzb3I6IC1tb3otZ3JhYmJpbmc7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbn1cXG4ub2wtZ3JhYiB7XFxuICBjdXJzb3I6IG1vdmU7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcXG4gIGN1cnNvcjogLW1vei1ncmFiO1xcbiAgY3Vyc29yOiBncmFiO1xcbn1cXG4ub2wtY29udHJvbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwYWRkaW5nOiAycHg7XFxufVxcbi5vbC1jb250cm9sOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcXG59XFxuLm9sLXpvb20ge1xcbiAgdG9wOiAuNWVtO1xcbiAgbGVmdDogLjVlbTtcXG59XFxuLm9sLXJvdGF0ZSB7XFxuICB0b3A6IC41ZW07XFxuICByaWdodDogLjVlbTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjI1cyBsaW5lYXIsIHZpc2liaWxpdHkgMHMgbGluZWFyO1xcbn1cXG4ub2wtcm90YXRlLm9sLWhpZGRlbiB7XFxuICBvcGFjaXR5OiAwO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMjVzIGxpbmVhciwgdmlzaWJpbGl0eSAwcyBsaW5lYXIgLjI1cztcXG59XFxuLm9sLXpvb20tZXh0ZW50IHtcXG4gIHRvcDogNC42NDNlbTtcXG4gIGxlZnQ6IC41ZW07XFxufVxcbi5vbC1mdWxsLXNjcmVlbiB7XFxuICByaWdodDogLjVlbTtcXG4gIHRvcDogLjVlbTtcXG59XFxuXFxuLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWFyZ2luOiAxcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBoZWlnaHQ6IDEuMzc1ZW07XFxuICB3aWR0aDogMS4zNzVlbTtcXG4gIGxpbmUtaGVpZ2h0OiAuNGVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDYwLDEzNiwwLjUpO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4ub2wtY29udHJvbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG59XFxuLm9sLXpvb20tZXh0ZW50IGJ1dHRvbiB7XFxuICBsaW5lLWhlaWdodDogMS40ZW07XFxufVxcbi5vbC1jb21wYXNzIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbn1cXG4ub2wtdG91Y2ggLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGZvbnQtc2l6ZTogMS41ZW07XFxufVxcbi5vbC10b3VjaCAub2wtem9vbS1leHRlbnQge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuLm9sLWNvbnRyb2wgYnV0dG9uOmhvdmVyLFxcbi5vbC1jb250cm9sIGJ1dHRvbjpmb2N1cyB7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxufVxcbi5vbC16b29tIC5vbC16b29tLWluIHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweCAycHggMCAwO1xcbn1cXG4ub2wtem9vbSAub2wtem9vbS1vdXQge1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDJweCAycHg7XFxufVxcblxcblxcbi5vbC1hdHRyaWJ1dGlvbiB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGJvdHRvbTogLjVlbTtcXG4gIHJpZ2h0OiAuNWVtO1xcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxLjNlbSk7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1mbG93OiByb3ctcmV2ZXJzZTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBhIHtcXG4gIGNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiB1bCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAxcHggLjVlbTtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgdGV4dC1zaGFkb3c6IDAgMCAycHggI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGxpIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBsaTpub3QoOmxhc3QtY2hpbGQpOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgXFxcIjtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGltZyB7XFxuICBtYXgtaGVpZ2h0OiAyZW07XFxuICBtYXgtd2lkdGg6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG4ub2wtYXR0cmlidXRpb24gYnV0dG9uIHtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtY29sbGFwc2VkIHVsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbjpub3QoLm9sLWNvbGxhcHNlZCkge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjgpO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSB7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweCAwIDA7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbi5vbC11bmNvbGxhcHNpYmxlIGltZyB7XFxuICBtYXJnaW4tdG9wOiAtLjJlbTtcXG4gIG1heC1oZWlnaHQ6IDEuNmVtO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA0LjVlbTtcXG4gIGxlZnQ6IC41ZW07XFxuICBoZWlnaHQ6IDIwMHB4O1xcbn1cXG4ub2wtem9vbXNsaWRlciBidXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbn1cXG5cXG4ub2wtdG91Y2ggLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIHtcXG4gIGxlZnQ6IDAuNWVtO1xcbiAgYm90dG9tOiAwLjVlbTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwLm9sLXVuY29sbGFwc2libGUge1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDAgNHB4IDAgMDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAsXFxuLm9sLW92ZXJ2aWV3bWFwIGJ1dHRvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzdiOThiYztcXG4gIGhlaWdodDogMTUwcHg7XFxuICBtYXJnaW46IDJweDtcXG4gIHdpZHRoOiAxNTBweDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSBidXR0b24ge1xcbiAgYm90dG9tOiAycHg7XFxuICBsZWZ0OiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1vdmVydmlld21hcC5vbC1jb2xsYXBzZWQgLm9sLW92ZXJ2aWV3bWFwLW1hcCxcXG4ub2wtb3ZlcnZpZXdtYXAub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7XFxufVxcbi5vbC1vdmVydmlld21hcC1ib3gge1xcbiAgYm9yZGVyOiAycHggZG90dGVkIHJnYmEoMCw2MCwxMzYsMC43KTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1ib3g6aG92ZXIge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiIWZ1bmN0aW9uKHQsaSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9aSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoaSk6KHQ9dHx8c2VsZikuUkJ1c2g9aSgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LHIsZSxhLGgpeyFmdW5jdGlvbiB0KG4scixlLGEsaCl7Zm9yKDthPmU7KXtpZihhLWU+NjAwKXt2YXIgbz1hLWUrMSxzPXItZSsxLGw9TWF0aC5sb2cobyksZj0uNSpNYXRoLmV4cCgyKmwvMyksdT0uNSpNYXRoLnNxcnQobCpmKihvLWYpL28pKihzLW8vMjwwPy0xOjEpLG09TWF0aC5tYXgoZSxNYXRoLmZsb29yKHItcypmL28rdSkpLGM9TWF0aC5taW4oYSxNYXRoLmZsb29yKHIrKG8tcykqZi9vK3UpKTt0KG4scixtLGMsaCl9dmFyIHA9bltyXSxkPWUseD1hO2ZvcihpKG4sZSxyKSxoKG5bYV0scCk+MCYmaShuLGUsYSk7ZDx4Oyl7Zm9yKGkobixkLHgpLGQrKyx4LS07aChuW2RdLHApPDA7KWQrKztmb3IoO2goblt4XSxwKT4wOyl4LS19MD09PWgobltlXSxwKT9pKG4sZSx4KTppKG4sKyt4LGEpLHg8PXImJihlPXgrMSkscjw9eCYmKGE9eC0xKX19KHQscixlfHwwLGF8fHQubGVuZ3RoLTEsaHx8bil9ZnVuY3Rpb24gaSh0LGksbil7dmFyIHI9dFtpXTt0W2ldPXRbbl0sdFtuXT1yfWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gdDxpPy0xOnQ+aT8xOjB9dmFyIHI9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9OSksdGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHQpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLHRoaXMuY2xlYXIoKX07ZnVuY3Rpb24gZSh0LGksbil7aWYoIW4pcmV0dXJuIGkuaW5kZXhPZih0KTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylpZihuKHQsaVtyXSkpcmV0dXJuIHI7cmV0dXJuLTF9ZnVuY3Rpb24gYSh0LGkpe2godCwwLHQuY2hpbGRyZW4ubGVuZ3RoLGksdCl9ZnVuY3Rpb24gaCh0LGksbixyLGUpe2V8fChlPXAobnVsbCkpLGUubWluWD0xLzAsZS5taW5ZPTEvMCxlLm1heFg9LTEvMCxlLm1heFk9LTEvMDtmb3IodmFyIGE9aTthPG47YSsrKXt2YXIgaD10LmNoaWxkcmVuW2FdO28oZSx0LmxlYWY/cihoKTpoKX1yZXR1cm4gZX1mdW5jdGlvbiBvKHQsaSl7cmV0dXJuIHQubWluWD1NYXRoLm1pbih0Lm1pblgsaS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGkubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxpLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksaS5tYXhZKSx0fWZ1bmN0aW9uIHModCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH1mdW5jdGlvbiBsKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9ZnVuY3Rpb24gZih0KXtyZXR1cm4odC5tYXhYLXQubWluWCkqKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubWF4WC10Lm1pblgrKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIG0odCxpKXtyZXR1cm4gdC5taW5YPD1pLm1pblgmJnQubWluWTw9aS5taW5ZJiZpLm1heFg8PXQubWF4WCYmaS5tYXhZPD10Lm1heFl9ZnVuY3Rpb24gYyh0LGkpe3JldHVybiBpLm1pblg8PXQubWF4WCYmaS5taW5ZPD10Lm1heFkmJmkubWF4WD49dC5taW5YJiZpLm1heFk+PXQubWluWX1mdW5jdGlvbiBwKHQpe3JldHVybntjaGlsZHJlbjp0LGhlaWdodDoxLGxlYWY6ITAsbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH19ZnVuY3Rpb24gZChpLG4scixlLGEpe2Zvcih2YXIgaD1bbixyXTtoLmxlbmd0aDspaWYoISgocj1oLnBvcCgpKS0obj1oLnBvcCgpKTw9ZSkpe3ZhciBvPW4rTWF0aC5jZWlsKChyLW4pL2UvMikqZTt0KGksbyxuLHIsYSksaC5wdXNoKG4sbyxvLHIpfX1yZXR1cm4gci5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsW10pfSxyLnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhLG49W107aWYoIWModCxpKSlyZXR1cm4gbjtmb3IodmFyIHI9dGhpcy50b0JCb3gsZT1bXTtpOyl7Zm9yKHZhciBhPTA7YTxpLmNoaWxkcmVuLmxlbmd0aDthKyspe3ZhciBoPWkuY2hpbGRyZW5bYV0sbz1pLmxlYWY/cihoKTpoO2ModCxvKSYmKGkubGVhZj9uLnB1c2goaCk6bSh0LG8pP3RoaXMuX2FsbChoLG4pOmUucHVzaChoKSl9aT1lLnBvcCgpfXJldHVybiBufSxyLnByb3RvdHlwZS5jb2xsaWRlcz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGE7aWYoIWModCxpKSlyZXR1cm4hMTtmb3IodmFyIG49W107aTspe2Zvcih2YXIgcj0wO3I8aS5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgZT1pLmNoaWxkcmVuW3JdLGE9aS5sZWFmP3RoaXMudG9CQm94KGUpOmU7aWYoYyh0LGEpKXtpZihpLmxlYWZ8fG0odCxhKSlyZXR1cm4hMDtuLnB1c2goZSl9fWk9bi5wb3AoKX1yZXR1cm4hMX0sci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiB0aGlzO2lmKHQubGVuZ3RoPHRoaXMuX21pbkVudHJpZXMpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW5zZXJ0KHRbaV0pO3JldHVybiB0aGlzfXZhciBuPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09bi5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxuKTtlbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8bi5oZWlnaHQpe3ZhciByPXRoaXMuZGF0YTt0aGlzLmRhdGE9bixuPXJ9dGhpcy5faW5zZXJ0KG4sdGhpcy5kYXRhLmhlaWdodC1uLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuZGF0YT1uO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuZGF0YS5oZWlnaHQtMSksdGhpc30sci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPXAoW10pLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiB0aGlzO2Zvcih2YXIgbixyLGEsaD10aGlzLmRhdGEsbz10aGlzLnRvQkJveCh0KSxzPVtdLGw9W107aHx8cy5sZW5ndGg7KXtpZihofHwoaD1zLnBvcCgpLHI9c1tzLmxlbmd0aC0xXSxuPWwucG9wKCksYT0hMCksaC5sZWFmKXt2YXIgZj1lKHQsaC5jaGlsZHJlbixpKTtpZigtMSE9PWYpcmV0dXJuIGguY2hpbGRyZW4uc3BsaWNlKGYsMSkscy5wdXNoKGgpLHRoaXMuX2NvbmRlbnNlKHMpLHRoaXN9YXx8aC5sZWFmfHwhbShoLG8pP3I/KG4rKyxoPXIuY2hpbGRyZW5bbl0sYT0hMSk6aD1udWxsOihzLnB1c2goaCksbC5wdXNoKG4pLG49MCxyPWgsaD1oLmNoaWxkcmVuWzBdKX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUudG9CQm94PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxyLnByb3RvdHlwZS5jb21wYXJlTWluWD1mdW5jdGlvbih0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfSxyLnByb3RvdHlwZS5jb21wYXJlTWluWT1mdW5jdGlvbih0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxyLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhPXQsdGhpc30sci5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1bXTt0Oyl0LmxlYWY/aS5wdXNoLmFwcGx5KGksdC5jaGlsZHJlbik6bi5wdXNoLmFwcGx5KG4sdC5jaGlsZHJlbiksdD1uLnBvcCgpO3JldHVybiBpfSxyLnByb3RvdHlwZS5fYnVpbGQ9ZnVuY3Rpb24odCxpLG4scil7dmFyIGUsaD1uLWkrMSxvPXRoaXMuX21heEVudHJpZXM7aWYoaDw9bylyZXR1cm4gYShlPXAodC5zbGljZShpLG4rMSkpLHRoaXMudG9CQm94KSxlO3J8fChyPU1hdGguY2VpbChNYXRoLmxvZyhoKS9NYXRoLmxvZyhvKSksbz1NYXRoLmNlaWwoaC9NYXRoLnBvdyhvLHItMSkpKSwoZT1wKFtdKSkubGVhZj0hMSxlLmhlaWdodD1yO3ZhciBzPU1hdGguY2VpbChoL28pLGw9cypNYXRoLmNlaWwoTWF0aC5zcXJ0KG8pKTtkKHQsaSxuLGwsdGhpcy5jb21wYXJlTWluWCk7Zm9yKHZhciBmPWk7Zjw9bjtmKz1sKXt2YXIgdT1NYXRoLm1pbihmK2wtMSxuKTtkKHQsZix1LHMsdGhpcy5jb21wYXJlTWluWSk7Zm9yKHZhciBtPWY7bTw9dTttKz1zKXt2YXIgYz1NYXRoLm1pbihtK3MtMSx1KTtlLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCxtLGMsci0xKSl9fXJldHVybiBhKGUsdGhpcy50b0JCb3gpLGV9LHIucHJvdG90eXBlLl9jaG9vc2VTdWJ0cmVlPWZ1bmN0aW9uKHQsaSxuLHIpe2Zvcig7ci5wdXNoKGkpLCFpLmxlYWYmJnIubGVuZ3RoLTEhPT1uOyl7Zm9yKHZhciBlPTEvMCxhPTEvMCxoPXZvaWQgMCxvPTA7bzxpLmNoaWxkcmVuLmxlbmd0aDtvKyspe3ZhciBzPWkuY2hpbGRyZW5bb10sbD1mKHMpLHU9KG09dCxjPXMsKE1hdGgubWF4KGMubWF4WCxtLm1heFgpLU1hdGgubWluKGMubWluWCxtLm1pblgpKSooTWF0aC5tYXgoYy5tYXhZLG0ubWF4WSktTWF0aC5taW4oYy5taW5ZLG0ubWluWSkpLWwpO3U8YT8oYT11LGU9bDxlP2w6ZSxoPXMpOnU9PT1hJiZsPGUmJihlPWwsaD1zKX1pPWh8fGkuY2hpbGRyZW5bMF19dmFyIG0sYztyZXR1cm4gaX0sci5wcm90b3R5cGUuX2luc2VydD1mdW5jdGlvbih0LGksbil7dmFyIHI9bj90OnRoaXMudG9CQm94KHQpLGU9W10sYT10aGlzLl9jaG9vc2VTdWJ0cmVlKHIsdGhpcy5kYXRhLGksZSk7Zm9yKGEuY2hpbGRyZW4ucHVzaCh0KSxvKGEscik7aT49MCYmZVtpXS5jaGlsZHJlbi5sZW5ndGg+dGhpcy5fbWF4RW50cmllczspdGhpcy5fc3BsaXQoZSxpKSxpLS07dGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKHIsZSxpKX0sci5wcm90b3R5cGUuX3NwbGl0PWZ1bmN0aW9uKHQsaSl7dmFyIG49dFtpXSxyPW4uY2hpbGRyZW4ubGVuZ3RoLGU9dGhpcy5fbWluRW50cmllczt0aGlzLl9jaG9vc2VTcGxpdEF4aXMobixlLHIpO3ZhciBoPXRoaXMuX2Nob29zZVNwbGl0SW5kZXgobixlLHIpLG89cChuLmNoaWxkcmVuLnNwbGljZShoLG4uY2hpbGRyZW4ubGVuZ3RoLWgpKTtvLmhlaWdodD1uLmhlaWdodCxvLmxlYWY9bi5sZWFmLGEobix0aGlzLnRvQkJveCksYShvLHRoaXMudG9CQm94KSxpP3RbaS0xXS5jaGlsZHJlbi5wdXNoKG8pOnRoaXMuX3NwbGl0Um9vdChuLG8pfSxyLnByb3RvdHlwZS5fc3BsaXRSb290PWZ1bmN0aW9uKHQsaSl7dGhpcy5kYXRhPXAoW3QsaV0pLHRoaXMuZGF0YS5oZWlnaHQ9dC5oZWlnaHQrMSx0aGlzLmRhdGEubGVhZj0hMSxhKHRoaXMuZGF0YSx0aGlzLnRvQkJveCl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEluZGV4PWZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIHIsZSxhLG8scyxsLHUsbT0xLzAsYz0xLzAscD1pO3A8PW4taTtwKyspe3ZhciBkPWgodCwwLHAsdGhpcy50b0JCb3gpLHg9aCh0LHAsbix0aGlzLnRvQkJveCksdj0oZT1kLGE9eCxvPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMCx1PXZvaWQgMCxvPU1hdGgubWF4KGUubWluWCxhLm1pblgpLHM9TWF0aC5tYXgoZS5taW5ZLGEubWluWSksbD1NYXRoLm1pbihlLm1heFgsYS5tYXhYKSx1PU1hdGgubWluKGUubWF4WSxhLm1heFkpLE1hdGgubWF4KDAsbC1vKSpNYXRoLm1heCgwLHUtcykpLE09ZihkKStmKHgpO3Y8bT8obT12LHI9cCxjPU08Yz9NOmMpOnY9PT1tJiZNPGMmJihjPU0scj1wKX1yZXR1cm4gcnx8bi1pfSxyLnByb3RvdHlwZS5fY2hvb3NlU3BsaXRBeGlzPWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj10LmxlYWY/dGhpcy5jb21wYXJlTWluWDpzLGU9dC5sZWFmP3RoaXMuY29tcGFyZU1pblk6bDt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLHIpPHRoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4sZSkmJnQuY2hpbGRyZW4uc29ydChyKX0sci5wcm90b3R5cGUuX2FsbERpc3RNYXJnaW49ZnVuY3Rpb24odCxpLG4scil7dC5jaGlsZHJlbi5zb3J0KHIpO2Zvcih2YXIgZT10aGlzLnRvQkJveCxhPWgodCwwLGksZSkscz1oKHQsbi1pLG4sZSksbD11KGEpK3UocyksZj1pO2Y8bi1pO2YrKyl7dmFyIG09dC5jaGlsZHJlbltmXTtvKGEsdC5sZWFmP2UobSk6bSksbCs9dShhKX1mb3IodmFyIGM9bi1pLTE7Yz49aTtjLS0pe3ZhciBwPXQuY2hpbGRyZW5bY107byhzLHQubGVhZj9lKHApOnApLGwrPXUocyl9cmV0dXJuIGx9LHIucHJvdG90eXBlLl9hZGp1c3RQYXJlbnRCQm94ZXM9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcj1uO3I+PTA7ci0tKW8oaVtyXSx0KX0sci5wcm90b3R5cGUuX2NvbmRlbnNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10Lmxlbmd0aC0xLG49dm9pZCAwO2k+PTA7aS0tKTA9PT10W2ldLmNoaWxkcmVuLmxlbmd0aD9pPjA/KG49dFtpLTFdLmNoaWxkcmVuKS5zcGxpY2Uobi5pbmRleE9mKHRbaV0pLDEpOnRoaXMuY2xlYXIoKTphKHRbaV0sdGhpcy50b0JCb3gpfSxyfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9vbC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vb2wuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0Rpc3Bvc2FibGVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBPYmplY3RzIHRoYXQgbmVlZCB0byBjbGVhbiB1cCBhZnRlciB0aGVtc2VsdmVzLlxuICovXG52YXIgRGlzcG9zYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEaXNwb3NhYmxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0ZW5zaW9uIHBvaW50IGZvciBkaXNwb3NhYmxlIG9iamVjdHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIERpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICByZXR1cm4gRGlzcG9zYWJsZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEaXNwb3NhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlzcG9zYWJsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvYXJyYXlcbiAqL1xuLyoqXG4gKiBQZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb24gdGhlIHByb3ZpZGVkIHNvcnRlZCBsaXN0IGFuZCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgaXRlbSBpZiBmb3VuZC4gSWYgaXQgY2FuJ3QgYmUgZm91bmQgaXQnbGwgcmV0dXJuIC0xLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvYmluYXJ5LXNlYXJjaFxuICpcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGhheXN0YWNrIEl0ZW1zIHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHsqfSBuZWVkbGUgVGhlIGl0ZW0gdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0X2NvbXBhcmF0b3JdIENvbXBhcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgaXRlbSBpZiBmb3VuZCwgLTEgaWYgbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGhheXN0YWNrLCBuZWVkbGUsIG9wdF9jb21wYXJhdG9yKSB7XG4gICAgdmFyIG1pZCwgY21wO1xuICAgIHZhciBjb21wYXJhdG9yID0gb3B0X2NvbXBhcmF0b3IgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgICB2YXIgbG93ID0gMDtcbiAgICB2YXIgaGlnaCA9IGhheXN0YWNrLmxlbmd0aDtcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAvKiBOb3RlIHRoYXQgXCIobG93ICsgaGlnaCkgPj4+IDFcIiBtYXkgb3ZlcmZsb3csIGFuZCByZXN1bHRzIGluIGEgdHlwZWNhc3RcbiAgICAgICAgICogdG8gZG91YmxlICh3aGljaCBnaXZlcyB0aGUgd3JvbmcgcmVzdWx0cykuICovXG4gICAgICAgIG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGNtcCA9ICtjb21wYXJhdG9yKGhheXN0YWNrW21pZF0sIG5lZWRsZSk7XG4gICAgICAgIGlmIChjbXAgPCAwLjApIHtcbiAgICAgICAgICAgIC8qIFRvbyBsb3cuICovXG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogS2V5IGZvdW5kIG9yIHRvbyBoaWdoICovXG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgICAgZm91bmQgPSAhY21wO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIEtleSBub3QgZm91bmQuICovXG4gICAgcmV0dXJuIGZvdW5kID8gbG93IDogfmxvdztcbn1cbi8qKlxuICogQ29tcGFyZSBmdW5jdGlvbiBmb3IgYXJyYXkgc29ydCB0aGF0IGlzIHNhZmUgZm9yIG51bWJlcnMuXG4gKiBAcGFyYW0geyp9IGEgVGhlIGZpcnN0IG9iamVjdCB0byBiZSBjb21wYXJlZC5cbiAqIEBwYXJhbSB7Kn0gYiBUaGUgc2Vjb25kIG9iamVjdCB0byBiZSBjb21wYXJlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gQSBuZWdhdGl2ZSBudW1iZXIsIHplcm8sIG9yIGEgcG9zaXRpdmUgbnVtYmVyIGFzIHRoZSBmaXJzdFxuICogICAgIGFyZ3VtZW50IGlzIGxlc3MgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuLyoqXG4gKiBXaGV0aGVyIHRoZSBhcnJheSBjb250YWlucyB0aGUgZ2l2ZW4gb2JqZWN0LlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byB0ZXN0IGZvciB0aGUgcHJlc2VuY2Ugb2YgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iaiBUaGUgb2JqZWN0IGZvciB3aGljaCB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBpbiB0aGUgYXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmNsdWRlcyhhcnIsIG9iaikge1xuICAgIHJldHVybiBhcnIuaW5kZXhPZihvYmopID49IDA7XG59XG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259IGNhbiB1c2UgYSBmdW5jdGlvblxuICogb2YgdGhpcyB0eXBlIHRvIGRldGVybWluZSB3aGljaCBuZWFyZXN0IHJlc29sdXRpb24gdG8gdXNlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyBhIHZhbHVlIGJldHdlZW4gdHdvIGFycmF5IGVudHJpZXMsXG4gKiBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBoaWdoZXIgZW50cnkgYW5kXG4gKiBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBsb3dlciBlbnRyeVxuICogYXMgYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgYHtudW1iZXJ9YC4gSWYgYSBuZWdhdGl2ZSBudW1iZXIgb3IgemVybyBpcyByZXR1cm5lZFxuICogdGhlIGxvd2VyIHZhbHVlIHdpbGwgYmUgdXNlZCwgaWYgYSBwb3NpdGl2ZSBudW1iZXIgaXMgcmV0dXJuZWQgdGhlIGhpZ2hlciB2YWx1ZVxuICogd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIpOiBudW1iZXJ9IE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYXJyIEFycmF5IGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IFRhcmdldC5cbiAqIEBwYXJhbSB7bnVtYmVyfE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gZGlyZWN0aW9uXG4gKiAgICAwIG1lYW5zIHJldHVybiB0aGUgbmVhcmVzdCxcbiAqICAgID4gMCBtZWFucyByZXR1cm4gdGhlIGxhcmdlc3QgbmVhcmVzdCxcbiAqICAgIDwgMCBtZWFucyByZXR1cm4gdGhlIHNtYWxsZXN0IG5lYXJlc3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyRmluZE5lYXJlc3QoYXJyLCB0YXJnZXQsIGRpcmVjdGlvbikge1xuICAgIHZhciBuID0gYXJyLmxlbmd0aDtcbiAgICBpZiAoYXJyWzBdIDw9IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0IDw9IGFycltuIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyW2ldIDw9IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpcmVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbih0YXJnZXQsIGFycltpIC0gMV0sIGFycltpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJyW2kgLSAxXSAtIHRhcmdldCA8IHRhcmdldCAtIGFycltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luIEJlZ2luIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlU3ViQXJyYXkoYXJyLCBiZWdpbiwgZW5kKSB7XG4gICAgd2hpbGUgKGJlZ2luIDwgZW5kKSB7XG4gICAgICAgIHZhciB0bXAgPSBhcnJbYmVnaW5dO1xuICAgICAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgICAgIGFycltlbmRdID0gdG1wO1xuICAgICAgICArK2JlZ2luO1xuICAgICAgICAtLWVuZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7IUFycmF5PFZBTFVFPnxWQUxVRX0gZGF0YSBUaGUgZWxlbWVudHMgb3IgYXJyYXlzIG9mIGVsZW1lbnRzIHRvIGFkZCB0byBhcnIuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhcnIsIGRhdGEpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gICAgdmFyIGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICAgIHZhciBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgICB2YXIgZm91bmQgPSBpID4gLTE7XG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbihWQUxVRSwgbnVtYmVyLCA/KSA6IGJvb2xlYW59IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbXBhcmUuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqIEByZXR1cm4ge1ZBTFVFfG51bGx9IFRoZSBlbGVtZW50IGZvdW5kIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFyciwgZnVuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoID4+PiAwO1xuICAgIHZhciB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gYXJyW2ldO1xuICAgICAgICBpZiAoZnVuYyh2YWx1ZSwgaSwgYXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIxIFRoZSBmaXJzdCBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMiBUaGUgc2Vjb25kIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB0d28gYXJyYXlzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhcnIxLCBhcnIyKSB7XG4gICAgdmFyIGxlbjEgPSBhcnIxLmxlbmd0aDtcbiAgICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjE7IGkrKykge1xuICAgICAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBTb3J0IHRoZSBwYXNzZWQgYXJyYXkgc3VjaCB0aGF0IHRoZSByZWxhdGl2ZSBvcmRlciBvZiBlcXVhbCBlbGVtZW50cyBpcyBwcmVzZXJ2ZWQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29ydGluZ19hbGdvcml0aG0jU3RhYmlsaXR5IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzb3J0IChtb2RpZmllcyBvcmlnaW5hbCkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigqLCAqKTogbnVtYmVyfSBjb21wYXJlRm5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFibGVTb3J0KGFyciwgY29tcGFyZUZuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG1wW2ldID0geyBpbmRleDogaSwgdmFsdWU6IGFycltpXSB9O1xuICAgIH1cbiAgICB0bXAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IHRtcFtpXS52YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBmdW5jKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIHZhciBmb3VuZCA9ICFhcnIuZXZlcnkoZnVuY3Rpb24gKGVsLCBpZHgpIHtcbiAgICAgICAgaW5kZXggPSBpZHg7XG4gICAgICAgIHJldHVybiAhZnVuYyhlbCwgaWR4LCBhcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZCA/IGluZGV4IDogLTE7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRfZnVuY10gQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zdHJpY3RdIFN0cmljdGx5IHNvcnRlZCAoZGVmYXVsdCBmYWxzZSkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NvcnRlZChhcnIsIG9wdF9mdW5jLCBvcHRfc3RyaWN0KSB7XG4gICAgdmFyIGNvbXBhcmUgPSBvcHRfZnVuYyB8fCBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uO1xuICAgIHJldHVybiBhcnIuZXZlcnkoZnVuY3Rpb24gKGN1cnJlbnRWYWwsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcyA9IGNvbXBhcmUoYXJyW2luZGV4IC0gMV0sIGN1cnJlbnRWYWwpO1xuICAgICAgICByZXR1cm4gIShyZXMgPiAwIHx8IChvcHRfc3RyaWN0ICYmIHJlcyA9PT0gMCkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Z1bmN0aW9uc1xuICovXG5pbXBvcnQgeyBlcXVhbHMgYXMgYXJyYXlFcXVhbHMgfSBmcm9tICcuL2FycmF5LmpzJztcbi8qKlxuICogQWx3YXlzIHJldHVybnMgdHJ1ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUUlVFKCkge1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyBmYWxzZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gRkFMU0UoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBBIHJldXNhYmxlIGZ1bmN0aW9uLCB1c2VkIGUuZy4gYXMgYSBkZWZhdWx0IGZvciBjYWxsYmFja3MuXG4gKlxuICogQHJldHVybiB7dm9pZH0gTm90aGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFZPSUQoKSB7IH1cbi8qKlxuICogV3JhcCBhIGZ1bmN0aW9uIGluIGFub3RoZXIgZnVuY3Rpb24gdGhhdCByZW1lbWJlcnMgdGhlIGxhc3QgcmV0dXJuLiAgSWYgdGhlXG4gKiByZXR1cm5lZCBmdW5jdGlvbiBpcyBjYWxsZWQgdHdpY2UgaW4gYSByb3cgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgYW5kIHRoZSBzYW1lXG4gKiB0aGlzIG9iamVjdCwgaXQgd2lsbCByZXR1cm4gdGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IGNhbGwgaW4gdGhlIHNlY29uZCBjYWxsLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uYW55KTogUmV0dXJuVHlwZX0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1lbW9pemUuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi5hbnkpOiBSZXR1cm5UeXBlfSBUaGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAdGVtcGxhdGUgUmV0dXJuVHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZU9uZShmbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge1JldHVyblR5cGV9ICovXG4gICAgdmFyIGxhc3RSZXN1bHQ7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxhbnk+fSAqL1xuICAgIHZhciBsYXN0QXJncztcbiAgICB2YXIgbGFzdFRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKCFjYWxsZWQgfHwgdGhpcyAhPT0gbGFzdFRoaXMgfHwgIWFycmF5RXF1YWxzKG5leHRBcmdzLCBsYXN0QXJncykpIHtcbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBsYXN0QXJncyA9IG5leHRBcmdzO1xuICAgICAgICAgICAgbGFzdFJlc3VsdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgfTtcbn1cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogKFQgfCBQcm9taXNlPFQ+KX0gZ2V0dGVyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWUgb3IgYSBwcm9taXNlIGZvciBhIHZhbHVlLlxuICogQHJldHVybiB7UHJvbWlzZTxUPn0gQSBwcm9taXNlIGZvciB0aGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1Byb21pc2UoZ2V0dGVyKSB7XG4gICAgZnVuY3Rpb24gcHJvbWlzZUdldHRlcigpIHtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBnZXR0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlR2V0dGVyKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5jdGlvbnMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3V0aWxcbiAqL1xuLyoqXG4gKiBAcmV0dXJuIHs/fSBBbnkgcmV0dXJuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWJzdHJhY3QoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7P30gKi8gKChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QuJyk7XG4gICAgfSkoKSk7XG59XG4vKipcbiAqIENvdW50ZXIgZm9yIGdldFVpZC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgdWlkQ291bnRlcl8gPSAwO1xuLyoqXG4gKiBHZXRzIGEgdW5pcXVlIElEIGZvciBhbiBvYmplY3QuIFRoaXMgbXV0YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgZnVydGhlciBjYWxsc1xuICogd2l0aCB0aGUgc2FtZSBvYmplY3QgYXMgYSBwYXJhbWV0ZXIgcmV0dXJucyB0aGUgc2FtZSB2YWx1ZS4gVW5pcXVlIElEcyBhcmUgZ2VuZXJhdGVkXG4gKiBhcyBhIHN0cmljdGx5IGluY3JlYXNpbmcgc2VxdWVuY2UuIEFkYXB0ZWQgZnJvbSBnb29nLmdldFVpZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZ2V0IHRoZSB1bmlxdWUgSUQgZm9yLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdW5pcXVlIElEIGZvciB0aGUgb2JqZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VWlkKG9iaikge1xuICAgIHJldHVybiBvYmoub2xfdWlkIHx8IChvYmoub2xfdWlkID0gU3RyaW5nKCsrdWlkQ291bnRlcl8pKTtcbn1cbi8qKlxuICogT3BlbkxheWVycyB2ZXJzaW9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBWRVJTSU9OID0gJzYuMTIuMCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvQXNzZXJ0aW9uRXJyb3JcbiAqL1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIEVycm9yIG9iamVjdCB0aHJvd24gd2hlbiBhbiBhc3NlcnRpb24gZmFpbGVkLiBUaGlzIGlzIGFuIEVDTUEtMjYyIEVycm9yLFxuICogZXh0ZW5kZWQgd2l0aCBhIGBjb2RlYCBwcm9wZXJ0eS5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvci5cbiAqL1xudmFyIEFzc2VydGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3NlcnRpb25FcnJvciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSBFcnJvciBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKGNvZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHBhdGggPSBWRVJTSU9OID09PSAnbGF0ZXN0JyA/IFZFUlNJT04gOiAndicgKyBWRVJTSU9OLnNwbGl0KCctJylbMF07XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0Fzc2VydGlvbiBmYWlsZWQuIFNlZSBodHRwczovL29wZW5sYXllcnMub3JnL2VuLycgK1xuICAgICAgICAgICAgcGF0aCArXG4gICAgICAgICAgICAnL2RvYy9lcnJvcnMvIycgK1xuICAgICAgICAgICAgY29kZSArXG4gICAgICAgICAgICAnIGZvciBkZXRhaWxzLic7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIGNvZGUuIFRoZSBtZWFuaW5nIG9mIHRoZSBjb2RlIGNhbiBiZSBmb3VuZCBvblxuICAgICAgICAgKiBodHRwczovL29wZW5sYXllcnMub3JnL2VuL2xhdGVzdC9kb2MvZXJyb3JzLyAocmVwbGFjZSBgbGF0ZXN0YCB3aXRoXG4gICAgICAgICAqIHRoZSB2ZXJzaW9uIGZvdW5kIGluIHRoZSBPcGVuTGF5ZXJzIHNjcmlwdCdzIGhlYWRlciBjb21tZW50IGlmIGEgdmVyc2lvblxuICAgICAgICAgKiBvdGhlciB0aGFuIHRoZSBsYXRlc3QgaXMgdXNlZCkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICAgICAgICAvLyBSZS1hc3NpZ24gbWVzc2FnZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SaWNoLUhhcnJpcy9idWJsZS9pc3N1ZXMvNDBcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEFzc2VydGlvbkVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IGRlZmF1bHQgQXNzZXJ0aW9uRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3NlcnRpb25FcnJvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaGFzXG4gKi9cbnZhciB1YSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpXG4gICAgOiAnJztcbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIEZpcmVmb3ggYXMgYnJvd3Nlci5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIEZJUkVGT1ggPSB1YS5pbmRleE9mKCdmaXJlZm94JykgIT09IC0xO1xuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggU2FmYXJpIGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBTQUZBUkkgPSB1YS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignY2hyb20nKSA9PSAtMTtcbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgV2ViS2l0IGVuZ2luZS5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIFdFQktJVCA9IHVhLmluZGV4T2YoJ3dlYmtpdCcpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdlZGdlJykgPT0gLTE7XG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBhIE1hYyBhcyBwbGF0Zm9ybS5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIE1BQyA9IHVhLmluZGV4T2YoJ21hY2ludG9zaCcpICE9PSAtMTtcbi8qKlxuICogVGhlIHJhdGlvIGJldHdlZW4gcGh5c2ljYWwgcGl4ZWxzIGFuZCBkZXZpY2UtaW5kZXBlbmRlbnQgcGl4ZWxzXG4gKiAoZGlwcykgb24gdGhlIGRldmljZSAoYHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvYCkuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgREVWSUNFX1BJWEVMX1JBVElPID0gdHlwZW9mIGRldmljZVBpeGVsUmF0aW8gIT09ICd1bmRlZmluZWQnID8gZGV2aWNlUGl4ZWxSYXRpbyA6IDE7XG4vKipcbiAqIFRoZSBleGVjdXRpb24gY29udGV4dCBpcyBhIHdvcmtlciB3aXRoIE9mZnNjcmVlbkNhbnZhcyBhdmFpbGFibGUuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTID0gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBPZmZzY3JlZW5DYW52YXMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlOyAvL2VzbGludC1kaXNhYmxlLWxpbmVcbi8qKlxuICogSW1hZ2UucHJvdG90eXBlLmRlY29kZSgpIGlzIHN1cHBvcnRlZC5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIElNQUdFX0RFQ09ERSA9IHR5cGVvZiBJbWFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSW1hZ2UucHJvdG90eXBlLmRlY29kZTtcbi8qKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXNzaXZlID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZSA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ18nLCBudWxsLCBvcHRpb25zKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ18nLCBudWxsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIHBhc3NpdmUgbm90IHN1cHBvcnRlZFxuICAgIH1cbiAgICByZXR1cm4gcGFzc2l2ZTtcbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Fzc2VydHNcbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuLyoqXG4gKiBAcGFyYW0geyp9IGFzc2VydGlvbiBBc3NlcnRpb24gd2UgZXhwZWN0ZWQgdG8gYmUgdHJ1dGh5LlxuICogQHBhcmFtIHtudW1iZXJ9IGVycm9yQ29kZSBFcnJvciBjb2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGFzc2VydGlvbiwgZXJyb3JDb2RlKSB7XG4gICAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKGVycm9yQ29kZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdHJhbnNmb3JtXG4gKi9cbmltcG9ydCB7IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIH0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQW4gYXJyYXkgcmVwcmVzZW50aW5nIGFuIGFmZmluZSAyZCB0cmFuc2Zvcm1hdGlvbiBmb3IgdXNlIHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvdHJhbnNmb3JtfSBmdW5jdGlvbnMuIFRoZSBhcnJheSBoYXMgNiBlbGVtZW50cy5cbiAqIEB0eXBlZGVmIHshQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhZmZpbmUgMmQgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLiBUaGUgZnVuY3Rpb25zIHdvcmsgb24gYW5cbiAqIGFycmF5IG9mIDYgZWxlbWVudHMuIFRoZSBlbGVtZW50IG9yZGVyIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgW1NWR01hdHJpeFxuICogaW50ZXJmYWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU1ZHTWF0cml4KSBhbmQgaXNcbiAqIGEgc3Vic2V0IChlbGVtZW50cyBhIHRvIGYpIG9mIGEgM8OXMyBtYXRyaXg6XG4gKiBgYGBcbiAqIFsgYSBjIGUgXVxuICogWyBiIGQgZiBdXG4gKiBbIDAgMCAxIF1cbiAqIGBgYFxuICovXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7VHJhbnNmb3JtfVxuICovXG52YXIgdG1wXyA9IG5ldyBBcnJheSg2KTtcbi8qKlxuICogQ3JlYXRlIGFuIGlkZW50aXR5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IElkZW50aXR5IHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gWzEsIDAsIDAsIDEsIDAsIDBdO1xufVxuLyoqXG4gKiBSZXNldHMgdGhlIGdpdmVuIHRyYW5zZm9ybSB0byBhbiBpZGVudGl0eSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUcmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldCh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gc2V0KHRyYW5zZm9ybSwgMSwgMCwgMCwgMSwgMCwgMCk7XG59XG4vKipcbiAqIE11bHRpcGx5IHRoZSB1bmRlcmx5aW5nIG1hdHJpY2VzIG9mIHR3byB0cmFuc2Zvcm1zIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBpblxuICogdGhlIGZpcnN0IHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBUcmFuc2Zvcm0gcGFyYW1ldGVycyBvZiBtYXRyaXggMS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMiBUcmFuc2Zvcm0gcGFyYW1ldGVycyBvZiBtYXRyaXggMi5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgbXVsdGlwbGllZCB3aXRoIHRyYW5zZm9ybTIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseSh0cmFuc2Zvcm0xLCB0cmFuc2Zvcm0yKSB7XG4gICAgdmFyIGExID0gdHJhbnNmb3JtMVswXTtcbiAgICB2YXIgYjEgPSB0cmFuc2Zvcm0xWzFdO1xuICAgIHZhciBjMSA9IHRyYW5zZm9ybTFbMl07XG4gICAgdmFyIGQxID0gdHJhbnNmb3JtMVszXTtcbiAgICB2YXIgZTEgPSB0cmFuc2Zvcm0xWzRdO1xuICAgIHZhciBmMSA9IHRyYW5zZm9ybTFbNV07XG4gICAgdmFyIGEyID0gdHJhbnNmb3JtMlswXTtcbiAgICB2YXIgYjIgPSB0cmFuc2Zvcm0yWzFdO1xuICAgIHZhciBjMiA9IHRyYW5zZm9ybTJbMl07XG4gICAgdmFyIGQyID0gdHJhbnNmb3JtMlszXTtcbiAgICB2YXIgZTIgPSB0cmFuc2Zvcm0yWzRdO1xuICAgIHZhciBmMiA9IHRyYW5zZm9ybTJbNV07XG4gICAgdHJhbnNmb3JtMVswXSA9IGExICogYTIgKyBjMSAqIGIyO1xuICAgIHRyYW5zZm9ybTFbMV0gPSBiMSAqIGEyICsgZDEgKiBiMjtcbiAgICB0cmFuc2Zvcm0xWzJdID0gYTEgKiBjMiArIGMxICogZDI7XG4gICAgdHJhbnNmb3JtMVszXSA9IGIxICogYzIgKyBkMSAqIGQyO1xuICAgIHRyYW5zZm9ybTFbNF0gPSBhMSAqIGUyICsgYzEgKiBmMiArIGUxO1xuICAgIHRyYW5zZm9ybTFbNV0gPSBiMSAqIGUyICsgZDEgKiBmMiArIGYxO1xuICAgIHJldHVybiB0cmFuc2Zvcm0xO1xufVxuLyoqXG4gKiBTZXQgdGhlIHRyYW5zZm9ybSBjb21wb25lbnRzIGEtZiBvbiBhIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBhIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIGIgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYyBUaGUgYyBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkIFRoZSBkIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGUgVGhlIGUgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZiBUaGUgZiBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IE1hdHJpeCB3aXRoIHRyYW5zZm9ybSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KHRyYW5zZm9ybSwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIHRyYW5zZm9ybVswXSA9IGE7XG4gICAgdHJhbnNmb3JtWzFdID0gYjtcbiAgICB0cmFuc2Zvcm1bMl0gPSBjO1xuICAgIHRyYW5zZm9ybVszXSA9IGQ7XG4gICAgdHJhbnNmb3JtWzRdID0gZTtcbiAgICB0cmFuc2Zvcm1bNV0gPSBmO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vKipcbiAqIFNldCB0cmFuc2Zvcm0gb24gb25lIG1hdHJpeCBmcm9tIGFub3RoZXIgbWF0cml4LlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIE1hdHJpeCB0byBzZXQgdHJhbnNmb3JtIHRvLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0yIE1hdHJpeCB0byBzZXQgdHJhbnNmb3JtIGZyb20uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIHdpdGggdHJhbnNmb3JtIGZyb20gdHJhbnNmb3JtMiBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RnJvbUFycmF5KHRyYW5zZm9ybTEsIHRyYW5zZm9ybTIpIHtcbiAgICB0cmFuc2Zvcm0xWzBdID0gdHJhbnNmb3JtMlswXTtcbiAgICB0cmFuc2Zvcm0xWzFdID0gdHJhbnNmb3JtMlsxXTtcbiAgICB0cmFuc2Zvcm0xWzJdID0gdHJhbnNmb3JtMlsyXTtcbiAgICB0cmFuc2Zvcm0xWzNdID0gdHJhbnNmb3JtMlszXTtcbiAgICB0cmFuc2Zvcm0xWzRdID0gdHJhbnNmb3JtMls0XTtcbiAgICB0cmFuc2Zvcm0xWzVdID0gdHJhbnNmb3JtMls1XTtcbiAgICByZXR1cm4gdHJhbnNmb3JtMTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4gY29vcmRpbmF0ZSB3aXRoIHRoZSBnaXZlbiB0cmFuc2Zvcm0gcmV0dXJuaW5nIHRoZVxuICogcmVzdWx0aW5nLCB0cmFuc2Zvcm1lZCBjb29yZGluYXRlLiBUaGUgY29vcmRpbmF0ZSB3aWxsIGJlIG1vZGlmaWVkIGluLXBsYWNlLlxuICpcbiAqIEBwYXJhbSB7VHJhbnNmb3JtfSB0cmFuc2Zvcm0gVGhlIHRyYW5zZm9ybWF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlIHRvIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfGltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHJldHVybiBjb29yZGluYXRlIHNvIHRoYXQgb3BlcmF0aW9ucyBjYW4gYmVcbiAqICAgICBjaGFpbmVkIHRvZ2V0aGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHkodHJhbnNmb3JtLCBjb29yZGluYXRlKSB7XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgICBjb29yZGluYXRlWzBdID0gdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF07XG4gICAgY29vcmRpbmF0ZVsxXSA9IHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdO1xuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBBcHBsaWVzIHJvdGF0aW9uIHRvIHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFucy5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSByb3RhdGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZSh0cmFuc2Zvcm0sIGFuZ2xlKSB7XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCBjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwKSk7XG59XG4vKipcbiAqIEFwcGxpZXMgc2NhbGUgdG8gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0geCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFNjYWxlIGZhY3RvciB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHNjYWxlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZSh0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgeCwgMCwgMCwgeSwgMCwgMCkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgc2NhbGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0YXJnZXQgVHJhbnNmb3JtIHRvIG92ZXJ3cml0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHkgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgc2NhbGUgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVNjYWxlKHRhcmdldCwgeCwgeSkge1xuICAgIHJldHVybiBzZXQodGFyZ2V0LCB4LCAwLCAwLCB5LCAwLCAwKTtcbn1cbi8qKlxuICogQXBwbGllcyB0cmFuc2xhdGlvbiB0byB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4IFRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkgVHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSB0cmFuc2xhdGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0cmFuc2Zvcm0sIGR4LCBkeSkge1xuICAgIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCAxLCAwLCAwLCAxLCBkeCwgZHkpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB0cmFuc2Zvcm0gZ2l2ZW4gYW4gaW5pdGlhbCB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCBhbmRcbiAqIGZpbmFsIHRyYW5zbGF0aW9uIChpbiB0aGF0IG9yZGVyIG9ubHksIG5vdCBjb21tdXRhdGl2ZSkuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUaGUgdHJhbnNmb3JtICh3aWxsIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDEgSW5pdGlhbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MSBJbml0aWFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gKGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MiBGaW5hbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MiBGaW5hbCB0cmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGNvbXBvc2l0ZSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlKHRyYW5zZm9ybSwgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSB7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHRyYW5zZm9ybVswXSA9IHN4ICogY29zO1xuICAgIHRyYW5zZm9ybVsxXSA9IHN5ICogc2luO1xuICAgIHRyYW5zZm9ybVsyXSA9IC1zeCAqIHNpbjtcbiAgICB0cmFuc2Zvcm1bM10gPSBzeSAqIGNvcztcbiAgICB0cmFuc2Zvcm1bNF0gPSBkeDIgKiBzeCAqIGNvcyAtIGR5MiAqIHN4ICogc2luICsgZHgxO1xuICAgIHRyYW5zZm9ybVs1XSA9IGR4MiAqIHN5ICogc2luICsgZHkyICogc3kgKiBjb3MgKyBkeTE7XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB0cmFuc2Zvcm0gZ2l2ZW4gYW4gaW5pdGlhbCB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCBhbmRcbiAqIGZpbmFsIHRyYW5zbGF0aW9uIChpbiB0aGF0IG9yZGVyIG9ubHksIG5vdCBjb21tdXRhdGl2ZSkuIFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtXG4gKiBzdHJpbmcgY2FuIGJlIGFwcGxpZWQgYXMgYHRyYW5zZm9ybWAgcHJvcGVydHkgb2YgYW4gSFRNTEVsZW1lbnQncyBzdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDEgSW5pdGlhbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MSBJbml0aWFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gKGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MiBGaW5hbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MiBGaW5hbCB0cmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29tcG9zaXRlIGNzcyB0cmFuc2Zvcm0uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlQ3NzVHJhbnNmb3JtKGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5Mikge1xuICAgIHJldHVybiB0b1N0cmluZyhjb21wb3NlKGNyZWF0ZSgpLCBkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpKTtcbn1cbi8qKlxuICogSW52ZXJ0IHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHNvdXJjZSBUaGUgc291cmNlIHRyYW5zZm9ybSB0byBpbnZlcnQuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgaW52ZXJ0ZWQgKHNvdXJjZSkgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KHNvdXJjZSkge1xuICAgIHJldHVybiBtYWtlSW52ZXJzZShzb3VyY2UsIHNvdXJjZSk7XG59XG4vKipcbiAqIEludmVydCB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0YXJnZXQgVHJhbnNmb3JtIHRvIGJlIHNldCBhcyB0aGUgaW52ZXJzZSBvZlxuICogICAgIHRoZSBzb3VyY2UgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBzb3VyY2UgVGhlIHNvdXJjZSB0cmFuc2Zvcm0gdG8gaW52ZXJ0LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGludmVydGVkICh0YXJnZXQpIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbnZlcnNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgdmFyIGRldCA9IGRldGVybWluYW50KHNvdXJjZSk7XG4gICAgYXNzZXJ0KGRldCAhPT0gMCwgMzIpOyAvLyBUcmFuc2Zvcm1hdGlvbiBtYXRyaXggY2Fubm90IGJlIGludmVydGVkXG4gICAgdmFyIGEgPSBzb3VyY2VbMF07XG4gICAgdmFyIGIgPSBzb3VyY2VbMV07XG4gICAgdmFyIGMgPSBzb3VyY2VbMl07XG4gICAgdmFyIGQgPSBzb3VyY2VbM107XG4gICAgdmFyIGUgPSBzb3VyY2VbNF07XG4gICAgdmFyIGYgPSBzb3VyY2VbNV07XG4gICAgdGFyZ2V0WzBdID0gZCAvIGRldDtcbiAgICB0YXJnZXRbMV0gPSAtYiAvIGRldDtcbiAgICB0YXJnZXRbMl0gPSAtYyAvIGRldDtcbiAgICB0YXJnZXRbM10gPSBhIC8gZGV0O1xuICAgIHRhcmdldFs0XSA9IChjICogZiAtIGQgKiBlKSAvIGRldDtcbiAgICB0YXJnZXRbNV0gPSAtKGEgKiBmIC0gYiAqIGUpIC8gZGV0O1xuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRldGVybWluYW50IG9mIHRoZSBnaXZlbiBtYXRyaXguXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IG1hdCBNYXRyaXguXG4gKiBAcmV0dXJuIHtudW1iZXJ9IERldGVybWluYW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQobWF0KSB7XG4gICAgcmV0dXJuIG1hdFswXSAqIG1hdFszXSAtIG1hdFsxXSAqIG1hdFsyXTtcbn1cbi8qKlxuICogQHR5cGUge0hUTUxFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xudmFyIHRyYW5zZm9ybVN0cmluZ0Rpdjtcbi8qKlxuICogQSByb3VuZGVkIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSB0cmFuc2Zvcm0uICBUaGlzIGNhbiBiZSB1c2VkXG4gKiBmb3IgQ1NTIHRyYW5zZm9ybXMuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IG1hdCBNYXRyaXguXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0cmFuc2Zvcm0gYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhtYXQpIHtcbiAgICB2YXIgdHJhbnNmb3JtU3RyaW5nID0gJ21hdHJpeCgnICsgbWF0LmpvaW4oJywgJykgKyAnKSc7XG4gICAgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1TdHJpbmc7XG4gICAgfVxuICAgIHZhciBub2RlID0gdHJhbnNmb3JtU3RyaW5nRGl2IHx8ICh0cmFuc2Zvcm1TdHJpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1TdHJpbmc7XG4gICAgcmV0dXJuIG5vZGUuc3R5bGUudHJhbnNmb3JtO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnQvQ29ybmVyXG4gKi9cbi8qKlxuICogRXh0ZW50IGNvcm5lci5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBCT1RUT01fTEVGVDogJ2JvdHRvbS1sZWZ0JyxcbiAgICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICAgIFRPUF9MRUZUOiAndG9wLWxlZnQnLFxuICAgIFRPUF9SSUdIVDogJ3RvcC1yaWdodCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ybmVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnRcbiAqL1xuaW1wb3J0IENvcm5lciBmcm9tICcuL2V4dGVudC9Db3JuZXIuanMnO1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuL2V4dGVudC9SZWxhdGlvbnNoaXAuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYW4gZXh0ZW50OiBgW21pbngsIG1pbnksIG1heHgsIG1heHldYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBFeHRlbnRcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBCdWlsZCBhbiBleHRlbnQgdGhhdCBpbmNsdWRlcyBhbGwgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBCb3VuZGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZGluZ0V4dGVudChjb29yZGluYXRlcykge1xuICAgIHZhciBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4cyBYcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geXMgWXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW29wdF9leHRlbnRdIERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZnVuY3Rpb24gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCkge1xuICAgIHZhciBtaW5YID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtaW5ZID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeXMpO1xuICAgIHZhciBtYXhYID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtYXhZID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeXMpO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogUmV0dXJuIGV4dGVudCBpbmNyZWFzZWQgYnkgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGFtb3VudCBieSB3aGljaCB0aGUgZXh0ZW50IHNob3VsZCBiZSBidWZmZXJlZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIoZXh0ZW50LCB2YWx1ZSwgb3B0X2V4dGVudCkge1xuICAgIGlmIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIG9wdF9leHRlbnRbMF0gPSBleHRlbnRbMF0gLSB2YWx1ZTtcbiAgICAgICAgb3B0X2V4dGVudFsxXSA9IGV4dGVudFsxXSAtIHZhbHVlO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdICsgdmFsdWU7XG4gICAgICAgIG9wdF9leHRlbnRbM10gPSBleHRlbnRbM10gKyB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG9wdF9leHRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZXh0ZW50WzBdIC0gdmFsdWUsXG4gICAgICAgICAgICBleHRlbnRbMV0gLSB2YWx1ZSxcbiAgICAgICAgICAgIGV4dGVudFsyXSArIHZhbHVlLFxuICAgICAgICAgICAgZXh0ZW50WzNdICsgdmFsdWUsXG4gICAgICAgIF07XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYW4gZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50IHRvIGNsb25lLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IFRoZSBjbG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGV4dGVudCwgb3B0X2V4dGVudCkge1xuICAgIGlmIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIG9wdF9leHRlbnRbMF0gPSBleHRlbnRbMF07XG4gICAgICAgIG9wdF9leHRlbnRbMV0gPSBleHRlbnRbMV07XG4gICAgICAgIG9wdF9leHRlbnRbMl0gPSBleHRlbnRbMl07XG4gICAgICAgIG9wdF9leHRlbnRbM10gPSBleHRlbnRbM107XG4gICAgICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudC5zbGljZSgpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge251bWJlcn0gQ2xvc2VzdCBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKGV4dGVudCwgeCwgeSkge1xuICAgIHZhciBkeCwgZHk7XG4gICAgaWYgKHggPCBleHRlbnRbMF0pIHtcbiAgICAgICAgZHggPSBleHRlbnRbMF0gLSB4O1xuICAgIH1cbiAgICBlbHNlIGlmIChleHRlbnRbMl0gPCB4KSB7XG4gICAgICAgIGR4ID0geCAtIGV4dGVudFsyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGR4ID0gMDtcbiAgICB9XG4gICAgaWYgKHkgPCBleHRlbnRbMV0pIHtcbiAgICAgICAgZHkgPSBleHRlbnRbMV0gLSB5O1xuICAgIH1cbiAgICBlbHNlIGlmIChleHRlbnRbM10gPCB5KSB7XG4gICAgICAgIGR5ID0geSAtIGV4dGVudFszXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGR5ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgaW4gdGhlIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gY29udGFpbnNYWShleHRlbnQsIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xufVxuLyoqXG4gKiBDaGVjayBpZiBvbmUgZXh0ZW50IGNvbnRhaW5zIGFub3RoZXIuXG4gKlxuICogQW4gZXh0ZW50IGlzIGRlZW1lZCBjb250YWluZWQgaWYgaXQgbGllcyBjb21wbGV0ZWx5IHdpdGhpbiB0aGUgb3RoZXIgZXh0ZW50LFxuICogaW5jbHVkaW5nIGlmIHRoZXkgc2hhcmUgb25lIG9yIG1vcmUgZWRnZXMuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWNvbmQgZXh0ZW50IGlzIGNvbnRhaW5lZCBieSBvciBvbiB0aGUgZWRnZSBvZiB0aGVcbiAqICAgICBmaXJzdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zRXh0ZW50KGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICByZXR1cm4gKGV4dGVudDFbMF0gPD0gZXh0ZW50MlswXSAmJlxuICAgICAgICBleHRlbnQyWzJdIDw9IGV4dGVudDFbMl0gJiZcbiAgICAgICAgZXh0ZW50MVsxXSA8PSBleHRlbnQyWzFdICYmXG4gICAgICAgIGV4dGVudDJbM10gPD0gZXh0ZW50MVszXSk7XG59XG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB4LCB5IHZhbHVlcyBhcmUgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1hZKGV4dGVudCwgeCwgeSkge1xuICAgIHJldHVybiBleHRlbnRbMF0gPD0geCAmJiB4IDw9IGV4dGVudFsyXSAmJiBleHRlbnRbMV0gPD0geSAmJiB5IDw9IGV4dGVudFszXTtcbn1cbi8qKlxuICogR2V0IHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhIGNvb3JkaW5hdGUgYW5kIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuZGVmYXVsdH0gVGhlIHJlbGF0aW9uc2hpcCAoYml0d2lzZSBjb21wYXJlIHdpdGhcbiAqICAgICBpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuUmVsYXRpb25zaGlwKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gICAgdmFyIG1pblggPSBleHRlbnRbMF07XG4gICAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gICAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gICAgdmFyIG1heFkgPSBleHRlbnRbM107XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgICB2YXIgcmVsYXRpb25zaGlwID0gUmVsYXRpb25zaGlwLlVOS05PV047XG4gICAgaWYgKHggPCBtaW5YKSB7XG4gICAgICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5MRUZUO1xuICAgIH1cbiAgICBlbHNlIGlmICh4ID4gbWF4WCkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuUklHSFQ7XG4gICAgfVxuICAgIGlmICh5IDwgbWluWSkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQkVMT1c7XG4gICAgfVxuICAgIGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5BQk9WRTtcbiAgICB9XG4gICAgaWYgKHJlbGF0aW9uc2hpcCA9PT0gUmVsYXRpb25zaGlwLlVOS05PV04pIHtcbiAgICAgICAgcmVsYXRpb25zaGlwID0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORztcbiAgICB9XG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGVtcHR5IGV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRW1wdHkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1wdHkoKSB7XG4gICAgcmV0dXJuIFtJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5XTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGV4dGVudCBvciB1cGRhdGUgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IG1pblg7XG4gICAgICAgIG9wdF9leHRlbnRbMV0gPSBtaW5ZO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gbWF4WDtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IG1heFk7XG4gICAgICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlbXB0eSBleHRlbnQgb3IgbWFrZSB0aGUgcHJvdmlkZWQgb25lIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCkge1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5LCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgb3B0X2V4dGVudCkge1xuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKHgsIHksIHgsIHksIG9wdF9leHRlbnQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW29wdF9leHRlbnRdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIG9wdF9leHRlbnQpIHtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KTtcbiAgICByZXR1cm4gZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCBjb29yZGluYXRlcyk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0V4dGVudH0gW29wdF9leHRlbnRdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgb3B0X2V4dGVudCkge1xuICAgIHZhciBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KG9wdF9leHRlbnQpO1xuICAgIHJldHVybiBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IHJpbmdzIFJpbmdzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbVJpbmdzKHJpbmdzLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCk7XG4gICAgcmV0dXJuIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGV4dGVudHMgYXJlIGVxdWl2YWxlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICByZXR1cm4gKGV4dGVudDFbMF0gPT0gZXh0ZW50MlswXSAmJlxuICAgICAgICBleHRlbnQxWzJdID09IGV4dGVudDJbMl0gJiZcbiAgICAgICAgZXh0ZW50MVsxXSA9PSBleHRlbnQyWzFdICYmXG4gICAgICAgIGV4dGVudDFbM10gPT0gZXh0ZW50MlszXSk7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0d28gZXh0ZW50cyBhcmUgYXBwcm94aW1hdGVseSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlIGluIGV4dGVudCBjb29yZGluYXRlIHVuaXRzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGRpZmZlciBieSBsZXNzIHRoYW4gdGhlIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcHJveGltYXRlbHlFcXVhbHMoZXh0ZW50MSwgZXh0ZW50MiwgdG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIChNYXRoLmFicyhleHRlbnQxWzBdIC0gZXh0ZW50MlswXSkgPCB0b2xlcmFuY2UgJiZcbiAgICAgICAgTWF0aC5hYnMoZXh0ZW50MVsyXSAtIGV4dGVudDJbMl0pIDwgdG9sZXJhbmNlICYmXG4gICAgICAgIE1hdGguYWJzKGV4dGVudDFbMV0gLSBleHRlbnQyWzFdKSA8IHRvbGVyYW5jZSAmJlxuICAgICAgICBNYXRoLmFicyhleHRlbnQxWzNdIC0gZXh0ZW50MlszXSkgPCB0b2xlcmFuY2UpO1xufVxuLyoqXG4gKiBNb2RpZnkgYW4gZXh0ZW50IHRvIGluY2x1ZGUgYW5vdGhlciBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBUaGUgZXh0ZW50IHRvIGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgVGhlIGV4dGVudCB0aGF0IHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIGZpcnN0LlxuICogQHJldHVybiB7RXh0ZW50fSBBIHJlZmVyZW5jZSB0byB0aGUgZmlyc3QgKGV4dGVuZGVkKSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIGlmIChleHRlbnQyWzBdIDwgZXh0ZW50MVswXSkge1xuICAgICAgICBleHRlbnQxWzBdID0gZXh0ZW50MlswXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDJbMl0gPiBleHRlbnQxWzJdKSB7XG4gICAgICAgIGV4dGVudDFbMl0gPSBleHRlbnQyWzJdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MlsxXSA8IGV4dGVudDFbMV0pIHtcbiAgICAgICAgZXh0ZW50MVsxXSA9IGV4dGVudDJbMV07XG4gICAgfVxuICAgIGlmIChleHRlbnQyWzNdID4gZXh0ZW50MVszXSkge1xuICAgICAgICBleHRlbnQxWzNdID0gZXh0ZW50MlszXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDE7XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgICBpZiAoY29vcmRpbmF0ZVswXSA8IGV4dGVudFswXSkge1xuICAgICAgICBleHRlbnRbMF0gPSBjb29yZGluYXRlWzBdO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZVswXSA+IGV4dGVudFsyXSkge1xuICAgICAgICBleHRlbnRbMl0gPSBjb29yZGluYXRlWzBdO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZVsxXSA8IGV4dGVudFsxXSkge1xuICAgICAgICBleHRlbnRbMV0gPSBjb29yZGluYXRlWzFdO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZVsxXSA+IGV4dGVudFszXSkge1xuICAgICAgICBleHRlbnRbM10gPSBjb29yZGluYXRlWzFdO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgY29vcmRpbmF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQ7XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKGV4dGVudCwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICBleHRlbmRYWShleHRlbnQsIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByaW5ncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgcmluZ3NbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kWFkoZXh0ZW50LCB4LCB5KSB7XG4gICAgZXh0ZW50WzBdID0gTWF0aC5taW4oZXh0ZW50WzBdLCB4KTtcbiAgICBleHRlbnRbMV0gPSBNYXRoLm1pbihleHRlbnRbMV0sIHkpO1xuICAgIGV4dGVudFsyXSA9IE1hdGgubWF4KGV4dGVudFsyXSwgeCk7XG4gICAgZXh0ZW50WzNdID0gTWF0aC5tYXgoZXh0ZW50WzNdLCB5KTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIGNvcm5lciBvZiB0aGUgZXh0ZW50LiBJZiB0aGVcbiAqIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdCB2YWx1ZVxuICogaW1tZWRpYXRlbHkuIE90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogU30gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcmV0dXJuIHtTfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hDb3JuZXIoZXh0ZW50LCBjYWxsYmFjaykge1xuICAgIHZhciB2YWw7XG4gICAgdmFsID0gY2FsbGJhY2soZ2V0Qm90dG9tTGVmdChleHRlbnQpKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHZhbCA9IGNhbGxiYWNrKGdldEJvdHRvbVJpZ2h0KGV4dGVudCkpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgdmFsID0gY2FsbGJhY2soZ2V0VG9wUmlnaHQoZXh0ZW50KSk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB2YWwgPSBjYWxsYmFjayhnZXRUb3BMZWZ0KGV4dGVudCkpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBHZXQgdGhlIHNpemUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmVhKGV4dGVudCkge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICBpZiAoIWlzRW1wdHkoZXh0ZW50KSkge1xuICAgICAgICBhcmVhID0gZ2V0V2lkdGgoZXh0ZW50KSAqIGdldEhlaWdodChleHRlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8qKlxuICogR2V0IHRoZSBib3R0b20gbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEJvdHRvbSBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3R0b21MZWZ0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbMV1dO1xufVxuLyoqXG4gKiBHZXQgdGhlIGJvdHRvbSByaWdodCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEJvdHRvbSByaWdodCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFsxXV07XG59XG4vKipcbiAqIEdldCB0aGUgY2VudGVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2VudGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyKGV4dGVudCkge1xuICAgIHJldHVybiBbKGV4dGVudFswXSArIGV4dGVudFsyXSkgLyAyLCAoZXh0ZW50WzFdICsgZXh0ZW50WzNdKSAvIDJdO1xufVxuLyoqXG4gKiBHZXQgYSBjb3JuZXIgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQvQ29ybmVyLmpzXCIpLmRlZmF1bHR9IGNvcm5lciBDb3JuZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29ybmVyIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JuZXIoZXh0ZW50LCBjb3JuZXIpIHtcbiAgICB2YXIgY29vcmRpbmF0ZTtcbiAgICBpZiAoY29ybmVyID09PSBDb3JuZXIuQk9UVE9NX0xFRlQpIHtcbiAgICAgICAgY29vcmRpbmF0ZSA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21SaWdodChleHRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb3JuZXIgPT09IENvcm5lci5UT1BfTEVGVCkge1xuICAgICAgICBjb29yZGluYXRlID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb3JuZXIgPT09IENvcm5lci5UT1BfUklHSFQpIHtcbiAgICAgICAgY29vcmRpbmF0ZSA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIDEzKTsgLy8gSW52YWxpZCBjb3JuZXJcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVubGFyZ2VkIGFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmxhcmdlZEFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHZhciBtaW5YID0gTWF0aC5taW4oZXh0ZW50MVswXSwgZXh0ZW50MlswXSk7XG4gICAgdmFyIG1pblkgPSBNYXRoLm1pbihleHRlbnQxWzFdLCBleHRlbnQyWzFdKTtcbiAgICB2YXIgbWF4WCA9IE1hdGgubWF4KGV4dGVudDFbMl0sIGV4dGVudDJbMl0pO1xuICAgIHZhciBtYXhZID0gTWF0aC5tYXgoZXh0ZW50MVszXSwgZXh0ZW50MlszXSk7XG4gICAgcmV0dXJuIChtYXhYIC0gbWluWCkgKiAobWF4WSAtIG1pblkpO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGR4ID0gKHJlc29sdXRpb24gKiBzaXplWzBdKSAvIDI7XG4gICAgdmFyIGR5ID0gKHJlc29sdXRpb24gKiBzaXplWzFdKSAvIDI7XG4gICAgdmFyIGNvc1JvdGF0aW9uID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIHZhciBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICB2YXIgeENvcyA9IGR4ICogY29zUm90YXRpb247XG4gICAgdmFyIHhTaW4gPSBkeCAqIHNpblJvdGF0aW9uO1xuICAgIHZhciB5Q29zID0gZHkgKiBjb3NSb3RhdGlvbjtcbiAgICB2YXIgeVNpbiA9IGR5ICogc2luUm90YXRpb247XG4gICAgdmFyIHggPSBjZW50ZXJbMF07XG4gICAgdmFyIHkgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgwID0geCAtIHhDb3MgKyB5U2luO1xuICAgIHZhciB4MSA9IHggLSB4Q29zIC0geVNpbjtcbiAgICB2YXIgeDIgPSB4ICsgeENvcyAtIHlTaW47XG4gICAgdmFyIHgzID0geCArIHhDb3MgKyB5U2luO1xuICAgIHZhciB5MCA9IHkgLSB4U2luIC0geUNvcztcbiAgICB2YXIgeTEgPSB5IC0geFNpbiArIHlDb3M7XG4gICAgdmFyIHkyID0geSArIHhTaW4gKyB5Q29zO1xuICAgIHZhciB5MyA9IHkgKyB4U2luIC0geUNvcztcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4oeDAsIHgxLCB4MiwgeDMpLCBNYXRoLm1pbih5MCwgeTEsIHkyLCB5MyksIE1hdGgubWF4KHgwLCB4MSwgeDIsIHgzKSwgTWF0aC5tYXgoeTAsIHkxLCB5MiwgeTMpLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlaWdodChleHRlbnQpIHtcbiAgICByZXR1cm4gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBJbnRlcnNlY3Rpb24gYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Mik7XG4gICAgcmV0dXJuIGdldEFyZWEoaW50ZXJzZWN0aW9uKTtcbn1cbi8qKlxuICogR2V0IHRoZSBpbnRlcnNlY3Rpb24gb2YgdHdvIGV4dGVudHMuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBPcHRpb25hbCBleHRlbnQgdG8gcG9wdWxhdGUgd2l0aCBpbnRlcnNlY3Rpb24uXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEludGVyc2VjdGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Miwgb3B0X2V4dGVudCkge1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBvcHRfZXh0ZW50ID8gb3B0X2V4dGVudCA6IGNyZWF0ZUVtcHR5KCk7XG4gICAgaWYgKGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50MikpIHtcbiAgICAgICAgaWYgKGV4dGVudDFbMF0gPiBleHRlbnQyWzBdKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMF0gPSBleHRlbnQxWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzBdID0gZXh0ZW50MlswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW50MVsxXSA+IGV4dGVudDJbMV0pIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblsxXSA9IGV4dGVudDFbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMV0gPSBleHRlbnQyWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbnQxWzJdIDwgZXh0ZW50MlsyXSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzJdID0gZXh0ZW50MVsyXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblsyXSA9IGV4dGVudDJbMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dGVudDFbM10gPCBleHRlbnQyWzNdKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bM10gPSBleHRlbnQxWzNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzNdID0gZXh0ZW50MlszXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY3JlYXRlT3JVcGRhdGVFbXB0eShpbnRlcnNlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWFyZ2luLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFyZ2luKGV4dGVudCkge1xuICAgIHJldHVybiBnZXRXaWR0aChleHRlbnQpICsgZ2V0SGVpZ2h0KGV4dGVudCk7XG59XG4vKipcbiAqIEdldCB0aGUgc2l6ZSAod2lkdGgsIGhlaWdodCkgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFRoZSBleHRlbnQgc2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFtleHRlbnRbMl0gLSBleHRlbnRbMF0sIGV4dGVudFszXSAtIGV4dGVudFsxXV07XG59XG4vKipcbiAqIEdldCB0aGUgdG9wIGxlZnQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUb3AgbGVmdCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wTGVmdChleHRlbnQpIHtcbiAgICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzNdXTtcbn1cbi8qKlxuICogR2V0IHRoZSB0b3AgcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUb3AgcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcFJpZ2h0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzJdLCBleHRlbnRbM11dO1xufVxuLyoqXG4gKiBHZXQgdGhlIHdpZHRoIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpZHRoKGV4dGVudCkge1xuICAgIHJldHVybiBleHRlbnRbMl0gLSBleHRlbnRbMF07XG59XG4vKipcbiAqIERldGVybWluZSBpZiBvbmUgZXh0ZW50IGludGVyc2VjdHMgYW5vdGhlci5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGludGVyc2VjdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHJldHVybiAoZXh0ZW50MVswXSA8PSBleHRlbnQyWzJdICYmXG4gICAgICAgIGV4dGVudDFbMl0gPj0gZXh0ZW50MlswXSAmJlxuICAgICAgICBleHRlbnQxWzFdIDw9IGV4dGVudDJbM10gJiZcbiAgICAgICAgZXh0ZW50MVszXSA+PSBleHRlbnQyWzFdKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIGV4dGVudCBpcyBlbXB0eS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KGV4dGVudCkge1xuICAgIHJldHVybiBleHRlbnRbMl0gPCBleHRlbnRbMF0gfHwgZXh0ZW50WzNdIDwgZXh0ZW50WzFdO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5PclVwZGF0ZShleHRlbnQsIG9wdF9leHRlbnQpIHtcbiAgICBpZiAob3B0X2V4dGVudCkge1xuICAgICAgICBvcHRfZXh0ZW50WzBdID0gZXh0ZW50WzBdO1xuICAgICAgICBvcHRfZXh0ZW50WzFdID0gZXh0ZW50WzFdO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdO1xuICAgICAgICBvcHRfZXh0ZW50WzNdID0gZXh0ZW50WzNdO1xuICAgICAgICByZXR1cm4gb3B0X2V4dGVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlRnJvbUNlbnRlcihleHRlbnQsIHZhbHVlKSB7XG4gICAgdmFyIGRlbHRhWCA9ICgoZXh0ZW50WzJdIC0gZXh0ZW50WzBdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gICAgdmFyIGRlbHRhWSA9ICgoZXh0ZW50WzNdIC0gZXh0ZW50WzFdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gICAgZXh0ZW50WzBdIC09IGRlbHRhWDtcbiAgICBleHRlbnRbMl0gKz0gZGVsdGFYO1xuICAgIGV4dGVudFsxXSAtPSBkZWx0YVk7XG4gICAgZXh0ZW50WzNdICs9IGRlbHRhWTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBzZWdtZW50IGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzIGludGVyc2VjdHMgKGNyb3NzZXMsXG4gKiB0b3VjaGVzLCBvciBpcyBjb250YWluZWQgYnkpIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBzdGFydCBTZWdtZW50IHN0YXJ0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBlbmQgU2VnbWVudCBlbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWdtZW50IGludGVyc2VjdHMgdGhlIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgc3RhcnQsIGVuZCkge1xuICAgIHZhciBpbnRlcnNlY3RzID0gZmFsc2U7XG4gICAgdmFyIHN0YXJ0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIHN0YXJ0KTtcbiAgICB2YXIgZW5kUmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIGVuZCk7XG4gICAgaWYgKHN0YXJ0UmVsID09PSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HIHx8XG4gICAgICAgIGVuZFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORykge1xuICAgICAgICBpbnRlcnNlY3RzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgICAgICB2YXIgbWluWSA9IGV4dGVudFsxXTtcbiAgICAgICAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gICAgICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgICAgICB2YXIgc3RhcnRYID0gc3RhcnRbMF07XG4gICAgICAgIHZhciBzdGFydFkgPSBzdGFydFsxXTtcbiAgICAgICAgdmFyIGVuZFggPSBlbmRbMF07XG4gICAgICAgIHZhciBlbmRZID0gZW5kWzFdO1xuICAgICAgICB2YXIgc2xvcGUgPSAoZW5kWSAtIHN0YXJ0WSkgLyAoZW5kWCAtIHN0YXJ0WCk7XG4gICAgICAgIHZhciB4ID0gdm9pZCAwLCB5ID0gdm9pZCAwO1xuICAgICAgICBpZiAoISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLkFCT1ZFKSAmJiAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkFCT1ZFKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyB0b3BcbiAgICAgICAgICAgIHggPSBlbmRYIC0gKGVuZFkgLSBtYXhZKSAvIHNsb3BlO1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzICYmXG4gICAgICAgICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuUklHSFQpICYmXG4gICAgICAgICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLlJJR0hUKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyByaWdodFxuICAgICAgICAgICAgeSA9IGVuZFkgLSAoZW5kWCAtIG1heFgpICogc2xvcGU7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0geSA+PSBtaW5ZICYmIHkgPD0gbWF4WTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHMgJiZcbiAgICAgICAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5CRUxPVykgJiZcbiAgICAgICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpKSB7XG4gICAgICAgICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIGJvdHRvbVxuICAgICAgICAgICAgeCA9IGVuZFggLSAoZW5kWSAtIG1pblkpIC8gc2xvcGU7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0geCA+PSBtaW5YICYmIHggPD0gbWF4WDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHMgJiZcbiAgICAgICAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5MRUZUKSAmJlxuICAgICAgICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5MRUZUKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyBsZWZ0XG4gICAgICAgICAgICB5ID0gZW5kWSAtIChlbmRYIC0gbWluWCkgKiBzbG9wZTtcbiAgICAgICAgICAgIGludGVyc2VjdHMgPSB5ID49IG1pblkgJiYgeSA8PSBtYXhZO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnRlcnNlY3RzO1xufVxuLyoqXG4gKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICogQ2FsbGVkIHdpdGggYFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXWAgZXh0ZW50IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zdG9wc10gTnVtYmVyIG9mIHN0b3BzIHBlciBzaWRlIHVzZWQgZm9yIHRoZSB0cmFuc2Zvcm0uXG4gKiBCeSBkZWZhdWx0IG9ubHkgdGhlIGNvcm5lcnMgYXJlIHVzZWQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5VHJhbnNmb3JtKGV4dGVudCwgdHJhbnNmb3JtRm4sIG9wdF9leHRlbnQsIG9wdF9zdG9wcykge1xuICAgIHZhciBjb29yZGluYXRlcyA9IFtdO1xuICAgIGlmIChvcHRfc3RvcHMgPiAxKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGV4dGVudFsyXSAtIGV4dGVudFswXTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGV4dGVudFszXSAtIGV4dGVudFsxXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRfc3RvcHM7ICsraSkge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChleHRlbnRbMF0gKyAod2lkdGggKiBpKSAvIG9wdF9zdG9wcywgZXh0ZW50WzFdLCBleHRlbnRbMl0sIGV4dGVudFsxXSArIChoZWlnaHQgKiBpKSAvIG9wdF9zdG9wcywgZXh0ZW50WzJdIC0gKHdpZHRoICogaSkgLyBvcHRfc3RvcHMsIGV4dGVudFszXSwgZXh0ZW50WzBdLCBleHRlbnRbM10gLSAoaGVpZ2h0ICogaSkgLyBvcHRfc3RvcHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb29yZGluYXRlcyA9IFtcbiAgICAgICAgICAgIGV4dGVudFswXSxcbiAgICAgICAgICAgIGV4dGVudFsxXSxcbiAgICAgICAgICAgIGV4dGVudFsyXSxcbiAgICAgICAgICAgIGV4dGVudFsxXSxcbiAgICAgICAgICAgIGV4dGVudFsyXSxcbiAgICAgICAgICAgIGV4dGVudFszXSxcbiAgICAgICAgICAgIGV4dGVudFswXSxcbiAgICAgICAgICAgIGV4dGVudFszXSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgdHJhbnNmb3JtRm4oY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzLCAyKTtcbiAgICB2YXIgeHMgPSBbXTtcbiAgICB2YXIgeXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICB4cy5wdXNoKGNvb3JkaW5hdGVzW2ldKTtcbiAgICAgICAgeXMucHVzaChjb29yZGluYXRlc1tpICsgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCk7XG59XG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBleHRlbnQgaW4tcGxhY2UgdG8gYmUgd2l0aGluIHRoZSByZWFsIHdvcmxkXG4gKiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvblxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgZXh0ZW50IHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChleHRlbnQsIHByb2plY3Rpb24pIHtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGNlbnRlciA9IGdldENlbnRlcihleHRlbnQpO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgKGNlbnRlclswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgY2VudGVyWzBdID49IHByb2plY3Rpb25FeHRlbnRbMl0pKSB7XG4gICAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgIHZhciB3b3JsZHNBd2F5ID0gTWF0aC5mbG9vcigoY2VudGVyWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyB3b3JsZFdpZHRoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgICAgICBleHRlbnRbMF0gLT0gb2Zmc2V0O1xuICAgICAgICBleHRlbnRbMl0gLT0gb2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnQvUmVsYXRpb25zaGlwXG4gKi9cbi8qKlxuICogUmVsYXRpb25zaGlwIHRvIGFuIGV4dGVudC5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIElOVEVSU0VDVElORzogMSxcbiAgICBBQk9WRTogMixcbiAgICBSSUdIVDogNCxcbiAgICBCRUxPVzogOCxcbiAgICBMRUZUOiAxNixcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWxhdGlvbnNoaXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL21hdGhcbiAqL1xuLyoqXG4gKiBUYWtlcyBhIG51bWJlciBhbmQgY2xhbXBzIGl0IHRvIHdpdGhpbiB0aGUgcHJvdmlkZWQgYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRvIHJldHVybi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5wdXQgbnVtYmVyIGlmIGl0IGlzIHdpdGhpbiBib3VuZHMsIG9yIHRoZSBuZWFyZXN0XG4gKiAgICAgbnVtYmVyIHdpdGhpbiB0aGUgYm91bmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgZ2l2ZW4gbnVtYmVyLiBUaGUgbWV0aG9kIHdpbGwgdXNlIHRoZVxuICogbmF0aXZlIGBNYXRoLmNvc2hgIGZ1bmN0aW9uIGlmIGl0IGlzIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHRoZSBoeXBlcmJvbGljXG4gKiBjb3NpbmUgd2lsbCBiZSBjYWxjdWxhdGVkIHZpYSB0aGUgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBNb3ppbGxhXG4gKiBkZXZlbG9wZXIgbmV0d29yay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHJldHVybiB7bnVtYmVyfSBIeXBlcmJvbGljIGNvc2luZSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGNvc2ggPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGNvc2g7XG4gICAgaWYgKCdjb3NoJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGguY29zaCBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGNvc2ggPSBNYXRoLmNvc2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBjb3NoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHZhciB5ID0gLyoqIEB0eXBlIHtNYXRofSAqLyAoTWF0aCkuZXhwKHgpO1xuICAgICAgICAgICAgcmV0dXJuICh5ICsgMSAvIHkpIC8gMjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvc2g7XG59KSgpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYSBnaXZlbiBudW1iZXIuIFRoZSBtZXRob2Qgd2lsbCB1c2UgdGhlXG4gKiBuYXRpdmUgYE1hdGgubG9nMmAgZnVuY3Rpb24gaWYgaXQgaXMgYXZhaWxhYmxlLCBvdGhlcndpc2UgdGhlIGJhc2UgMlxuICogbG9nYXJpdGhtIHdpbGwgYmUgY2FsY3VsYXRlZCB2aWEgdGhlIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAqIE1vemlsbGEgZGV2ZWxvcGVyIG5ldHdvcmsuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEByZXR1cm4ge251bWJlcn0gQmFzZSAyIGxvZ2FyaXRobSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGxvZzIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGxvZzI7XG4gICAgaWYgKCdsb2cyJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGgubG9nMiBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGxvZzIgPSBNYXRoLmxvZzI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBsb2cyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMkU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsb2cyO1xufSkoKTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3F1YXJlIG9mIHRoZSBjbG9zZXN0IGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50ICh4LCB5KSBhbmQgdGhlXG4gKiBsaW5lIHNlZ21lbnQgKHgxLCB5MSkgdG8gKHgyLCB5MikuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRTZWdtZW50RGlzdGFuY2UoeCwgeSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICB2YXIgZHggPSB4MiAtIHgxO1xuICAgIHZhciBkeSA9IHkyIC0geTE7XG4gICAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgICAgIHkxID0geTI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA+IDApIHtcbiAgICAgICAgICAgIHgxICs9IGR4ICogdDtcbiAgICAgICAgICAgIHkxICs9IGR5ICogdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKHgsIHksIHgxLCB5MSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnRzICh4MSwgeTEpIGFuZCAoeDIsIHkyKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5Mikge1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG4vKipcbiAqIFNvbHZlcyBzeXN0ZW0gb2YgbGluZWFyIGVxdWF0aW9ucyB1c2luZyBHYXVzc2lhbiBlbGltaW5hdGlvbiBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gbWF0IEF1Z21lbnRlZCBtYXRyaXggKG4geCBuICsgMSBjb2x1bW4pXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiByb3ctbWFqb3Igb3JkZXIuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgcmVzdWx0aW5nIHZlY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlTGluZWFyU3lzdGVtKG1hdCkge1xuICAgIHZhciBuID0gbWF0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBGaW5kIG1heCBpbiB0aGUgaS10aCBjb2x1bW4gKGlnbm9yaW5nIGkgLSAxIGZpcnN0IHJvd3MpXG4gICAgICAgIHZhciBtYXhSb3cgPSBpO1xuICAgICAgICB2YXIgbWF4RWwgPSBNYXRoLmFicyhtYXRbaV1baV0pO1xuICAgICAgICBmb3IgKHZhciByID0gaSArIDE7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICAgIHZhciBhYnNWYWx1ZSA9IE1hdGguYWJzKG1hdFtyXVtpXSk7XG4gICAgICAgICAgICBpZiAoYWJzVmFsdWUgPiBtYXhFbCkge1xuICAgICAgICAgICAgICAgIG1heEVsID0gYWJzVmFsdWU7XG4gICAgICAgICAgICAgICAgbWF4Um93ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RWwgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBtYXRyaXggaXMgc2luZ3VsYXJcbiAgICAgICAgfVxuICAgICAgICAvLyBTd2FwIG1heCByb3cgd2l0aCBpLXRoIChjdXJyZW50KSByb3dcbiAgICAgICAgdmFyIHRtcCA9IG1hdFttYXhSb3ddO1xuICAgICAgICBtYXRbbWF4Um93XSA9IG1hdFtpXTtcbiAgICAgICAgbWF0W2ldID0gdG1wO1xuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgaS10aCByb3cgdG8gbWFrZSBhbGwgdGhlIHJlbWFpbmluZyByb3dzIDAgaW4gdGhlIGktdGggY29sdW1uXG4gICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG47IGorKykge1xuICAgICAgICAgICAgdmFyIGNvZWYgPSAtbWF0W2pdW2ldIC8gbWF0W2ldW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPCBuICsgMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gaykge1xuICAgICAgICAgICAgICAgICAgICBtYXRbal1ba10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0W2pdW2tdICs9IGNvZWYgKiBtYXRbaV1ba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNvbHZlIEF4PWIgZm9yIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4IEEgKG1hdClcbiAgICB2YXIgeCA9IG5ldyBBcnJheShuKTtcbiAgICBmb3IgKHZhciBsID0gbiAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICAgIHhbbF0gPSBtYXRbbF1bbl0gLyBtYXRbbF1bbF07XG4gICAgICAgIGZvciAodmFyIG0gPSBsIC0gMTsgbSA+PSAwOyBtLS0pIHtcbiAgICAgICAgICAgIG1hdFttXVtuXSAtPSBtYXRbbV1bbF0gKiB4W2xdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIGRlZ3JlZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMoYW5nbGVJblJhZGlhbnMpIHtcbiAgICByZXR1cm4gKGFuZ2xlSW5SYWRpYW5zICogMTgwKSAvIE1hdGguUEk7XG59XG4vKipcbiAqIENvbnZlcnRzIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgQW5nbGUgaW4gZGVncmVlcy5cbiAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZUluRGVncmVlcykge1xuICAgIHJldHVybiAoYW5nbGVJbkRlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbW9kdWxvIG9mIGEgLyBiLCBkZXBlbmRpbmcgb24gdGhlIHNpZ24gb2YgYi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSBEaXZpZGVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIERpdmlzb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1vZHVsby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhhLCBiKSB7XG4gICAgdmFyIHIgPSBhICUgYjtcbiAgICByZXR1cm4gciAqIGIgPCAwID8gciArIGIgOiByO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgeCBiZXR3ZWVuIGEgYW5kIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFZhbHVlIHRvIGJlIGludGVycG9sYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJwb2xhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB4KSB7XG4gICAgcmV0dXJuIGEgKyB4ICogKGIgLSBhKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5wdXQgbnVtYmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGlucHV0IG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKG4sIGRlY2ltYWxzKSB7XG4gICAgdmFyIGZhY3RvciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobiAqIGZhY3RvcikgLyBmYWN0b3I7XG59XG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIHZhbHVlIGNvbnNpZGVyaW5nIG9ubHkgdGhlIGdpdmVuIG51bWJlclxuICogb2YgZGVjaW1hbCBkaWdpdHMgKHdpdGggcm91bmRpbmcgb24gdGhlIGZpbmFsIGRpZ2l0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobiwgZGVjaW1hbHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0b0ZpeGVkKG4sIGRlY2ltYWxzKSk7XG59XG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmV4dCBzbWFsbGVyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHNtYWxsZXIgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG4sIGRlY2ltYWxzKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodG9GaXhlZChuLCBkZWNpbWFscykpO1xufVxuLyoqXG4gKiBSb3VuZHMgYSBudW1iZXIgdG8gdGhlIG5leHQgYmlnZ2VyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IGJpZ2dlciBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChuLCBkZWNpbWFscykge1xuICAgIHJldHVybiBNYXRoLmNlaWwodG9GaXhlZChuLCBkZWNpbWFscykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JcbiAqL1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogQSBjb2xvciByZXByZXNlbnRlZCBhcyBhIHNob3J0IGFycmF5IFtyZWQsIGdyZWVuLCBibHVlLCBhbHBoYV0uXG4gKiByZWQsIGdyZWVuLCBhbmQgYmx1ZSBzaG91bGQgYmUgaW50ZWdlcnMgaW4gdGhlIHJhbmdlIDAuLjI1NSBpbmNsdXNpdmUuXG4gKiBhbHBoYSBzaG91bGQgYmUgYSBmbG9hdCBpbiB0aGUgcmFuZ2UgMC4uMSBpbmNsdXNpdmUuIElmIG5vIGFscGhhIHZhbHVlIGlzXG4gKiBnaXZlbiB0aGVuIGAxYCB3aWxsIGJlIHVzZWQuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gQ29sb3JcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBUaGlzIFJlZ0V4cCBtYXRjaGVzICMgZm9sbG93ZWQgYnkgMywgNCwgNiwgb3IgOCBoZXggZGlnaXRzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xudmFyIEhFWF9DT0xPUl9SRV8gPSAvXiMoW2EtZjAtOV17M318W2EtZjAtOV17NH0oPzpbYS1mMC05XXsyfSl7MCwyfSkkL2k7XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgbWF0Y2hpbmcgcG90ZW50aWFsIG5hbWVkIGNvbG9yIHN0eWxlIHN0cmluZ3MuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfQ09MT1JfUkVfID0gL14oW2Etel0qKSR8XmhzbGE/XFwoLipcXCkkL2k7XG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYmEgc3RyaW5nLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcoY29sb3IpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIG5hbWVkIGNvbG9yIGFzIGFuIHJnYmEgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIE5hbWVkIGNvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBSZ2Igc3RyaW5nLlxuICovXG5mdW5jdGlvbiBmcm9tTmFtZWQoY29sb3IpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgIGlmIChlbC5zdHlsZS5jb2xvciAhPT0gJycpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZ2IgPSBnZXRDb21wdXRlZFN0eWxlKGVsKS5jb2xvcjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIHJldHVybiByZ2I7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmV4cG9ydCB2YXIgZnJvbVN0cmluZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gV2UgbWFpbnRhaW4gYSBzbWFsbCBjYWNoZSBvZiBwYXJzZWQgc3RyaW5ncy4gIFRvIHByb3ZpZGUgY2hlYXAgTFJVLWxpa2VcbiAgICAvLyBzZW1hbnRpY3MsIHdoZW5ldmVyIHRoZSBjYWNoZSBncm93cyB0b28gbGFyZ2Ugd2Ugc2ltcGx5IGRlbGV0ZSBhblxuICAgIC8vIGFyYml0cmFyeSAyNSUgb2YgdGhlIGVudHJpZXMuXG4gICAgLyoqXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB2YXIgTUFYX0NBQ0hFX1NJWkUgPSAxMDI0O1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBDb2xvcj59XG4gICAgICovXG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB2YXIgY2FjaGVTaXplID0gMDtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGNvbG9yO1xuICAgICAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkocykpIHtcbiAgICAgICAgICAgIGNvbG9yID0gY2FjaGVbc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2FjaGVTaXplID49IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGkrKyAmIDMpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC0tY2FjaGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sb3IgPSBmcm9tU3RyaW5nSW50ZXJuYWxfKHMpO1xuICAgICAgICAgICAgY2FjaGVbc10gPSBjb2xvcjtcbiAgICAgICAgICAgICsrY2FjaGVTaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9KTtcbn0pKCk7XG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gYXJyYXkuIFRoaXMgZnVuY3Rpb24gbWFpbnRhaW5zIGEgY2FjaGUgb2YgY2FsY3VsYXRlZFxuICogYXJyYXlzIHdoaWNoIG1lYW5zIHRoZSByZXN1bHQgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7Q29sb3J8c3RyaW5nfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQXJyYXkoY29sb3IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcoY29sb3IpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqL1xuZnVuY3Rpb24gZnJvbVN0cmluZ0ludGVybmFsXyhzKSB7XG4gICAgdmFyIHIsIGcsIGIsIGEsIGNvbG9yO1xuICAgIGlmIChOQU1FRF9DT0xPUl9SRV8uZXhlYyhzKSkge1xuICAgICAgICBzID0gZnJvbU5hbWVkKHMpO1xuICAgIH1cbiAgICBpZiAoSEVYX0NPTE9SX1JFXy5leGVjKHMpKSB7XG4gICAgICAgIC8vIGhleFxuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoIC0gMTsgLy8gbnVtYmVyIG9mIGhleCBkaWdpdHNcbiAgICAgICAgdmFyIGQgPSAvLyBudW1iZXIgb2YgZGlnaXRzIHBlciBjaGFubmVsXG4gICAgICAgICB2b2lkIDA7IC8vIG51bWJlciBvZiBkaWdpdHMgcGVyIGNoYW5uZWxcbiAgICAgICAgaWYgKG4gPD0gNCkge1xuICAgICAgICAgICAgZCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkID0gMjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzQWxwaGEgPSBuID09PSA0IHx8IG4gPT09IDg7XG4gICAgICAgIHIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMCAqIGQsIGQpLCAxNik7XG4gICAgICAgIGcgPSBwYXJzZUludChzLnN1YnN0cigxICsgMSAqIGQsIGQpLCAxNik7XG4gICAgICAgIGIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMiAqIGQsIGQpLCAxNik7XG4gICAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICAgICAgYSA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAzICogZCwgZCksIDE2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGEgPSAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQgPT0gMSkge1xuICAgICAgICAgICAgciA9IChyIDw8IDQpICsgcjtcbiAgICAgICAgICAgIGcgPSAoZyA8PCA0KSArIGc7XG4gICAgICAgICAgICBiID0gKGIgPDwgNCkgKyBiO1xuICAgICAgICAgICAgaWYgKGhhc0FscGhhKSB7XG4gICAgICAgICAgICAgICAgYSA9IChhIDw8IDQpICsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IFtyLCBnLCBiLCBhIC8gMjU1XTtcbiAgICB9XG4gICAgZWxzZSBpZiAocy5pbmRleE9mKCdyZ2JhKCcpID09IDApIHtcbiAgICAgICAgLy8gcmdiYSgpXG4gICAgICAgIGNvbG9yID0gcy5zbGljZSg1LCAtMSkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgbm9ybWFsaXplKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocy5pbmRleE9mKCdyZ2IoJykgPT0gMCkge1xuICAgICAgICAvLyByZ2IoKVxuICAgICAgICBjb2xvciA9IHMuc2xpY2UoNCwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIGNvbG9yLnB1c2goMSk7XG4gICAgICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIDE0KTsgLy8gSW52YWxpZCBjb2xvclxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG4vKipcbiAqIFRPRE8gdGhpcyBmdW5jdGlvbiBpcyBvbmx5IHVzZWQgaW4gdGhlIHRlc3QsIHdlIHByb2JhYmx5IHNob3VsZG4ndCBleHBvcnQgaXRcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3J9IENsYW1wZWQgY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoY29sb3IpIHtcbiAgICBjb2xvclswXSA9IGNsYW1wKChjb2xvclswXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICAgIGNvbG9yWzFdID0gY2xhbXAoKGNvbG9yWzFdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gICAgY29sb3JbMl0gPSBjbGFtcCgoY29sb3JbMl0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgICBjb2xvclszXSA9IGNsYW1wKGNvbG9yWzNdLCAwLCAxKTtcbiAgICByZXR1cm4gY29sb3I7XG59XG4vKipcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhjb2xvcikge1xuICAgIHZhciByID0gY29sb3JbMF07XG4gICAgaWYgKHIgIT0gKHIgfCAwKSkge1xuICAgICAgICByID0gKHIgKyAwLjUpIHwgMDtcbiAgICB9XG4gICAgdmFyIGcgPSBjb2xvclsxXTtcbiAgICBpZiAoZyAhPSAoZyB8IDApKSB7XG4gICAgICAgIGcgPSAoZyArIDAuNSkgfCAwO1xuICAgIH1cbiAgICB2YXIgYiA9IGNvbG9yWzJdO1xuICAgIGlmIChiICE9IChiIHwgMCkpIHtcbiAgICAgICAgYiA9IChiICsgMC41KSB8IDA7XG4gICAgfVxuICAgIHZhciBhID0gY29sb3JbM10gPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLnJvdW5kKGNvbG9yWzNdICogMTAwKSAvIDEwMDtcbiAgICByZXR1cm4gJ3JnYmEoJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICcsJyArIGEgKyAnKSc7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHN0cmluZyBpcyBhY3R1YWxseSBhIHZhbGlkIGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZ0NvbG9yKHMpIHtcbiAgICBpZiAoTkFNRURfQ09MT1JfUkVfLnRlc3QocykpIHtcbiAgICAgICAgcyA9IGZyb21OYW1lZChzKTtcbiAgICB9XG4gICAgcmV0dXJuIChIRVhfQ09MT1JfUkVfLnRlc3QocykgfHwgcy5pbmRleE9mKCdyZ2JhKCcpID09PSAwIHx8IHMuaW5kZXhPZigncmdiKCcpID09PSAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZVxuICovXG5pbXBvcnQgeyBhc1N0cmluZyB9IGZyb20gJy4uL2NvbG9yLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2luZ2xldG9uIGNsYXNzLiBBdmFpbGFibGUgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfnNoYXJlZH0uXG4gKi9cbnZhciBJY29uSW1hZ2VDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJY29uSW1hZ2VDYWNoZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVTaXplXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhDYWNoZVNpemVfID0gMzI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWNoZV8gPSB7fTtcbiAgICAgICAgdGhpcy5jYWNoZVNpemVfID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVNpemVfID4gdGhpcy5tYXhDYWNoZVNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmV4cGlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGVfKSB7XG4gICAgICAgICAgICAgICAgdmFyIGljb25JbWFnZSA9IHRoaXMuY2FjaGVfW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCAmJiAhaWNvbkltYWdlLmhhc0xpc3RlbmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVfW2tleV07XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jYWNoZVNpemVfO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH0gSWNvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gICAgICAgIHZhciBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMuY2FjaGVfID8gdGhpcy5jYWNoZV9ba2V5XSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IGljb25JbWFnZSBJY29uIGltYWdlLlxuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IsIGljb25JbWFnZSkge1xuICAgICAgICB2YXIga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICAgICAgdGhpcy5jYWNoZV9ba2V5XSA9IGljb25JbWFnZTtcbiAgICAgICAgKyt0aGlzLmNhY2hlU2l6ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNhY2hlIHNpemUgb2YgdGhlIGljb24gY2FjaGUuIERlZmF1bHQgaXMgYDMyYC4gQ2hhbmdlIHRoaXMgdmFsdWUgd2hlblxuICAgICAqIHlvdXIgbWFwIHVzZXMgbW9yZSB0aGFuIDMyIGRpZmZlcmVudCBpY29uIGltYWdlcyBhbmQgeW91IGFyZSBub3QgY2FjaGluZyBpY29uXG4gICAgICogc3R5bGVzIG9uIHRoZSBhcHBsaWNhdGlvbiBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Q2FjaGVTaXplIENhY2hlIG1heCBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChtYXhDYWNoZVNpemUpIHtcbiAgICAgICAgdGhpcy5tYXhDYWNoZVNpemVfID0gbWF4Q2FjaGVTaXplO1xuICAgICAgICB0aGlzLmV4cGlyZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEljb25JbWFnZUNhY2hlO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBDYWNoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIGdldEtleShzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcikge1xuICAgIHZhciBjb2xvclN0cmluZyA9IGNvbG9yID8gYXNTdHJpbmcoY29sb3IpIDogJ251bGwnO1xuICAgIHJldHVybiBjcm9zc09yaWdpbiArICc6JyArIHNyYyArICc6JyArIGNvbG9yU3RyaW5nO1xufVxuZXhwb3J0IGRlZmF1bHQgSWNvbkltYWdlQ2FjaGU7XG4vKipcbiAqIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfkljb25JbWFnZUNhY2hlfSBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSBpbWFnZXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2hhcmVkID0gbmV3IEljb25JbWFnZUNhY2hlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uSW1hZ2VDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU3RyaXBwZWQgZG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItRXZlbnRzL2V2ZW50cy5odG1sI0V2ZW50cy1pbnRlcmZhY2UuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IHByb3ZpZGVzIGB0eXBlYCBhbmQgYHRhcmdldGAgcHJvcGVydGllcywgYW5kXG4gKiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBtZXRob2RzLiBJdCBpcyBtZWFudCBhcyBiYXNlIGNsYXNzXG4gKiBmb3IgaGlnaGVyIGxldmVsIGV2ZW50cyBkZWZpbmVkIGluIHRoZSBsaWJyYXJ5LCBhbmQgd29ya3Mgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvVGFyZ2V0flRhcmdldH0uXG4gKi9cbnZhciBCYXNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlRXZlbnQodHlwZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXZlbnQgdGFyZ2V0LlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgZGVmYXVsdC4gVGhpcyBtZWFucyB0aGF0IG5vIGVtdWxhdGVkIGBjbGlja2AsIGBzaW5nbGVjbGlja2Agb3IgYGRvdWJsZWNsaWNrYCBldmVudHNcbiAgICAgKiB3aWxsIGJlIGZpcmVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlRXZlbnQ7XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdH0gZXZ0IEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZXZ0KSB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdH0gZXZ0IEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IEJhc2VFdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9PYmplY3RFdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBwcm9wZXJ0eSBpcyBjaGFuZ2VkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvT2JqZWN0Lk9iamVjdEV2ZW50I3Byb3BlcnR5Y2hhbmdlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBST1BFUlRZQ0hBTkdFOiAncHJvcGVydHljaGFuZ2UnLFxufTtcbi8qKlxuICogQHR5cGVkZWYgeydwcm9wZXJ0eWNoYW5nZSd9IFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdEV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvb2JqXG4gKi9cbi8qKlxuICogUG9seWZpbGwgZm9yIE9iamVjdC5hc3NpZ24oKS4gIEFzc2lnbnMgZW51bWVyYWJsZSBhbmQgb3duIHByb3BlcnRpZXMgZnJvbVxuICogb25lIG9yIG1vcmUgc291cmNlIG9iamVjdHMgdG8gYSB0YXJnZXQgb2JqZWN0LlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24uXG4gKlxuICogQHBhcmFtIHshT2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gdmFyX3NvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3QocykuXG4gKiBAcmV0dXJuIHshT2JqZWN0fSBUaGUgbW9kaWZpZWQgdGFyZ2V0IG9iamVjdC5cbiAqL1xuZXhwb3J0IHZhciBhc3NpZ24gPSB0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gT2JqZWN0LmFzc2lnblxuICAgIDogZnVuY3Rpb24gKHRhcmdldCwgdmFyX3NvdXJjZXMpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4vKipcbiAqIFJlbW92ZXMgYWxsIHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xlYXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihvYmplY3QpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfVxufVxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgT2JqZWN0LnZhbHVlcygpLiAgR2V0IGFuIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcyBmcm9tIGFuIG9iamVjdC5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvdmFsdWVzXG4gKlxuICogQHBhcmFtIHshT2JqZWN0PEssVj59IG9iamVjdCBUaGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSB2YWx1ZXMuXG4gKiBAcmV0dXJuIHshQXJyYXk8Vj59IFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiBAdGVtcGxhdGUgSyxWXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VmFsdWVzID0gdHlwZW9mIE9iamVjdC52YWx1ZXMgPT09ICdmdW5jdGlvbidcbiAgICA/IE9iamVjdC52YWx1ZXNcbiAgICA6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKG9iamVjdFtwcm9wZXJ0eV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBoYXMgYW55IHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgb2JqZWN0IGlzIGVtcHR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eShvYmplY3QpIHtcbiAgICB2YXIgcHJvcGVydHk7XG4gICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIXByb3BlcnR5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL1RhcmdldFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuL0V2ZW50LmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7RXZlbnRUYXJnZXR8VGFyZ2V0fSBFdmVudFRhcmdldExpa2VcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHNpbXBsaWZpZWQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFczQyBET00gTGV2ZWwgMiBFdmVudFRhcmdldCBpbnRlcmZhY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDAvUkVDLURPTS1MZXZlbC0yLUV2ZW50cy0yMDAwMTExMy9ldmVudHMuaHRtbCNFdmVudHMtRXZlbnRUYXJnZXQuXG4gKlxuICogVGhlcmUgYXJlIHR3byBpbXBvcnRhbnQgc2ltcGxpZmljYXRpb25zIGNvbXBhcmVkIHRvIHRoZSBzcGVjaWZpY2F0aW9uOlxuICpcbiAqIDEuIFRoZSBoYW5kbGluZyBvZiBgdXNlQ2FwdHVyZWAgaW4gYGFkZEV2ZW50TGlzdGVuZXJgIGFuZFxuICogICAgYHJlbW92ZUV2ZW50TGlzdGVuZXJgLiBUaGVyZSBpcyBubyByZWFsIGNhcHR1cmUgbW9kZWwuXG4gKiAyLiBUaGUgaGFuZGxpbmcgb2YgYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBwcmV2ZW50RGVmYXVsdGAgb24gYGRpc3BhdGNoRXZlbnRgLlxuICogICAgVGhlcmUgaXMgbm8gZXZlbnQgdGFyZ2V0IGhpZXJhcmNoeS4gV2hlbiBhIGxpc3RlbmVyIGNhbGxzXG4gKiAgICBgc3RvcFByb3BhZ2F0aW9uYCBvciBgcHJldmVudERlZmF1bHRgIG9uIGFuIGV2ZW50IG9iamVjdCwgaXQgbWVhbnMgdGhhdCBub1xuICogICAgbW9yZSBsaXN0ZW5lcnMgYWZ0ZXIgdGhpcyBvbmUgd2lsbCBiZSBjYWxsZWQuIFNhbWUgYXMgd2hlbiB0aGUgbGlzdGVuZXJcbiAqICAgIHJldHVybnMgZmFsc2UuXG4gKi9cbnZhciBUYXJnZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRhcmdldCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRfdGFyZ2V0XSBEZWZhdWx0IGV2ZW50IHRhcmdldCBmb3IgZGlzcGF0Y2hlZCBldmVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGFyZ2V0KG9wdF90YXJnZXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnRUYXJnZXRfID0gb3B0X3RhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGVuZGluZ1JlbW92YWxzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpc3BhdGNoaW5nXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyPj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saXN0ZW5lcnNfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0eXBlIHx8ICFsaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gfHwgKHRoaXMubGlzdGVuZXJzXyA9IHt9KTtcbiAgICAgICAgdmFyIGxpc3RlbmVyc0ZvclR5cGUgPSBsaXN0ZW5lcnNbdHlwZV0gfHwgKGxpc3RlbmVyc1t0eXBlXSA9IFtdKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyc0ZvclR5cGUuaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNGb3JUeXBlLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCBjYWxscyBhbGwgbGlzdGVuZXJzIGxpc3RlbmluZyBmb3IgZXZlbnRzXG4gICAgICogb2YgdGhpcyB0eXBlLiBUaGUgZXZlbnQgcGFyYW1ldGVyIGNhbiBlaXRoZXIgYmUgYSBzdHJpbmcgb3IgYW5cbiAgICAgKiBPYmplY3Qgd2l0aCBhIGB0eXBlYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gZXZlbnQgRXZlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBgZmFsc2VgIGlmIGFueW9uZSBjYWxsZWQgcHJldmVudERlZmF1bHQgb24gdGhlXG4gICAgICogICAgIGV2ZW50IG9iamVjdCBvciBpZiBhbnkgb2YgdGhlIGxpc3RlbmVycyByZXR1cm5lZCBmYWxzZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fEV2ZW50fSAqL1xuICAgICAgICB2YXIgZXZ0ID0gdHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJyA/IG5ldyBFdmVudChldmVudCkgOiBldmVudDtcbiAgICAgICAgdmFyIHR5cGUgPSBldnQudHlwZTtcbiAgICAgICAgaWYgKCFldnQudGFyZ2V0KSB7XG4gICAgICAgICAgICBldnQudGFyZ2V0ID0gdGhpcy5ldmVudFRhcmdldF8gfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXTtcbiAgICAgICAgdmFyIHByb3BhZ2F0ZTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgdmFyIGRpc3BhdGNoaW5nID0gdGhpcy5kaXNwYXRjaGluZ18gfHwgKHRoaXMuZGlzcGF0Y2hpbmdfID0ge30pO1xuICAgICAgICAgICAgdmFyIHBlbmRpbmdSZW1vdmFscyA9IHRoaXMucGVuZGluZ1JlbW92YWxzXyB8fCAodGhpcy5wZW5kaW5nUmVtb3ZhbHNfID0ge30pO1xuICAgICAgICAgICAgaWYgKCEodHlwZSBpbiBkaXNwYXRjaGluZykpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaGluZ1t0eXBlXSA9IDA7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1JlbW92YWxzW3R5cGVdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsrZGlzcGF0Y2hpbmdbdHlwZV07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICgnaGFuZGxlRXZlbnQnIGluIGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lck9iamVjdH0gKi8gKGxpc3RlbmVyc1tpXSkuaGFuZGxlRXZlbnQoZXZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyRnVuY3Rpb259ICovIChsaXN0ZW5lcnNbaV0pLmNhbGwodGhpcywgZXZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByb3BhZ2F0ZSA9PT0gZmFsc2UgfHwgZXZ0LnByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLS1kaXNwYXRjaGluZ1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChkaXNwYXRjaGluZ1t0eXBlXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwciA9IHBlbmRpbmdSZW1vdmFsc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGVuZGluZ1JlbW92YWxzW3R5cGVdO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBWT0lEKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BhdGNoaW5nW3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzXyAmJiBjbGVhcih0aGlzLmxpc3RlbmVyc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaXN0ZW5lcnMgZm9yIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUuIExpc3RlbmVycyBhcmUgcmV0dXJuZWQgaW4gdGhlXG4gICAgICogb3JkZXIgdGhhdCB0aGV5IHdpbGwgYmUgY2FsbGVkIGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXI+fHVuZGVmaW5lZH0gTGlzdGVuZXJzLlxuICAgICAqL1xuICAgIFRhcmdldC5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdKSB8fCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdF90eXBlXSBUeXBlLiBJZiBub3QgcHJvdmlkZWQsXG4gICAgICogICAgIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZXZlbnQgdGFyZ2V0IGhhcyBhbnkgbGlzdGVuZXJzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uIChvcHRfdHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzXykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRfdHlwZVxuICAgICAgICAgICAgPyBvcHRfdHlwZSBpbiB0aGlzLmxpc3RlbmVyc19cbiAgICAgICAgICAgIDogT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNfKS5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlbW92YWxzXyAmJiB0eXBlIGluIHRoaXMucGVuZGluZ1JlbW92YWxzXykge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGxpc3RlbmVyIGEgbm8tb3AsIGFuZCByZW1vdmUgbGF0ZXIgaW4gI2Rpc3BhdGNoRXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaW5kZXhdID0gVk9JRDtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnBlbmRpbmdSZW1vdmFsc19bdHlwZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUYXJnZXQ7XG59KERpc3Bvc2FibGUpKTtcbmV4cG9ydCBkZWZhdWx0IFRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRhcmdldC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgY2hhbmdlIGV2ZW50LiBUcmlnZ2VyZWQgd2hlbiB0aGUgcmV2aXNpb24gY291bnRlciBpcyBpbmNyZWFzZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2NoYW5nZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDSEFOR0U6ICdjaGFuZ2UnLFxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgZXJyb3IgZXZlbnQuIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjZXJyb3JcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgQkxVUjogJ2JsdXInLFxuICAgIENMRUFSOiAnY2xlYXInLFxuICAgIENPTlRFWFRNRU5VOiAnY29udGV4dG1lbnUnLFxuICAgIENMSUNLOiAnY2xpY2snLFxuICAgIERCTENMSUNLOiAnZGJsY2xpY2snLFxuICAgIERSQUdFTlRFUjogJ2RyYWdlbnRlcicsXG4gICAgRFJBR09WRVI6ICdkcmFnb3ZlcicsXG4gICAgRFJPUDogJ2Ryb3AnLFxuICAgIEZPQ1VTOiAnZm9jdXMnLFxuICAgIEtFWURPV046ICdrZXlkb3duJyxcbiAgICBLRVlQUkVTUzogJ2tleXByZXNzJyxcbiAgICBMT0FEOiAnbG9hZCcsXG4gICAgUkVTSVpFOiAncmVzaXplJyxcbiAgICBUT1VDSE1PVkU6ICd0b3VjaG1vdmUnLFxuICAgIFdIRUVMOiAnd2hlZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzXG4gKi9cbmltcG9ydCB7IGNsZWFyIH0gZnJvbSAnLi9vYmouanMnO1xuLyoqXG4gKiBLZXkgdG8gdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfk9ic2VydmFibGUjdW5CeUtleX0uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFdmVudHNLZXlcbiAqIEBwcm9wZXJ0eSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBUYXJnZXQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUeXBlLlxuICogQGFwaVxuICovXG4vKipcbiAqIExpc3RlbmVyIGZ1bmN0aW9uLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFuIGV2ZW50IG9iamVjdCBhcyBhcmd1bWVudC5cbiAqIFdoZW4gdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCwgZXZlbnQgcHJvcGFnYXRpb24gd2lsbCBzdG9wLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCkpOiAodm9pZHxib29sZWFuKX0gTGlzdGVuZXJGdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpc3RlbmVyT2JqZWN0XG4gKiBAcHJvcGVydHkge0xpc3RlbmVyRnVuY3Rpb259IGhhbmRsZUV2ZW50IEhhbmRsZUV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtMaXN0ZW5lckZ1bmN0aW9ufExpc3RlbmVyT2JqZWN0fSBMaXN0ZW5lclxuICovXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zXG4gKiBhIGtleSBmb3IgdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMudW5saXN0ZW5CeUtleX0uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdF90aGlzXSBPYmplY3QgcmVmZXJlbmNlZCBieSB0aGUgYHRoaXNgIGtleXdvcmQgaW4gdGhlXG4gKiAgICAgbGlzdGVuZXIuIERlZmF1bHQgaXMgdGhlIGB0YXJnZXRgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0X29uY2VdIElmIHRydWUsIGFkZCB0aGUgbGlzdGVuZXIgYXMgb25lLW9mZiBsaXN0ZW5lci5cbiAqIEByZXR1cm4ge0V2ZW50c0tleX0gVW5pcXVlIGtleSBmb3IgdGhlIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdF90aGlzLCBvcHRfb25jZSkge1xuICAgIGlmIChvcHRfdGhpcyAmJiBvcHRfdGhpcyAhPT0gdGFyZ2V0KSB7XG4gICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuYmluZChvcHRfdGhpcyk7XG4gICAgfVxuICAgIGlmIChvcHRfb25jZSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxMaXN0ZW5lcl8xID0gbGlzdGVuZXI7XG4gICAgICAgIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lcl8xLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBldmVudHNLZXkgPSB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gICAgfTtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGV2ZW50c0tleTtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIGEgb25lLW9mZiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCBhcyBzZWxmLXVucmVnaXN0ZXJpbmcgbGlzdGVuZXJcbiAqIHRvIGEgYHRoaXNgIG9iamVjdCwgYW5kIHJldHVybnMgYSBrZXkgZm9yIHVzZSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy51bmxpc3RlbkJ5S2V5fSBpbiBjYXNlIHRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZVxuICogdW5yZWdpc3RlcmVkIGJlZm9yZSBpdCBpcyBjYWxsZWQuXG4gKlxuICogV2hlbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy5saXN0ZW59IGlzIGNhbGxlZCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cyBhZnRlciB0aGlzXG4gKiBmdW5jdGlvbiwgdGhlIHNlbGYtdW5yZWdpc3RlcmluZyBsaXN0ZW5lciB3aWxsIGJlIHR1cm5lZCBpbnRvIGEgcGVybWFuZW50XG4gKiBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBFdmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFdmVudCB0eXBlLlxuICogQHBhcmFtIHtMaXN0ZW5lckZ1bmN0aW9ufSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0X3RoaXNdIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IEtleSBmb3IgdW5saXN0ZW5CeUtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0X3RoaXMpIHtcbiAgICByZXR1cm4gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdF90aGlzLCB0cnVlKTtcbn1cbi8qKlxuICogVW5yZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBpcyB0aGUga2V5IHJldHVybmVkIGZyb21cbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLmxpc3Rlbn0gb3Ige0BsaW5rIG1vZHVsZTpvbC9ldmVudHMubGlzdGVuT25jZX0uXG4gKlxuICogQHBhcmFtIHtFdmVudHNLZXl9IGtleSBUaGUga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5saXN0ZW5CeUtleShrZXkpIHtcbiAgICBpZiAoa2V5ICYmIGtleS50YXJnZXQpIHtcbiAgICAgICAga2V5LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS50eXBlLCBrZXkubGlzdGVuZXIpO1xuICAgICAgICBjbGVhcihrZXkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL09ic2VydmFibGVcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIGxpc3Rlbk9uY2UsIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG4vKioqXG4gKiBAdGVtcGxhdGUge3N0cmluZ30gVHlwZVxuICogQHRlbXBsYXRlIHtFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBFdmVudENsYXNzXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7KHR5cGU6IFR5cGUsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50Q2xhc3MpID0+ID8pID0+IFJldHVybn0gT25TaWduYXR1cmVcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIHtzdHJpbmd9IFR5cGVcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHsodHlwZTogVHlwZVtdLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSA9PiA/KSA9PiBSZXR1cm4gZXh0ZW5kcyB2b2lkID8gdm9pZCA6IFJldHVybltdfSBDb21iaW5lZE9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgeydjaGFuZ2UnfCdlcnJvcid9IEV2ZW50VHlwZXNcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge09uU2lnbmF0dXJlPEV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJiBDb21iaW5lZE9uU2lnbmF0dXJlPEV2ZW50VHlwZXMsIFJldHVybj59IE9ic2VydmFibGVPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEFuIGV2ZW50IHRhcmdldCBwcm92aWRpbmcgY29udmVuaWVudCBtZXRob2RzIGZvciBsaXN0ZW5lciByZWdpc3RyYXRpb25cbiAqIGFuZCB1bnJlZ2lzdHJhdGlvbi4gQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIGFsd2F5cyBhdmFpbGFibGUgdGhyb3VnaFxuICoge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfk9ic2VydmFibGUjY2hhbmdlZH0uXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHRcbiAqIEBhcGlcbiAqL1xudmFyIE9ic2VydmFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub24gPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtPYnNlcnZhYmxlT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn0gKi8gKF90aGlzLm9uSW50ZXJuYWwpO1xuICAgICAgICBfdGhpcy5vbmNlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59ICovIChfdGhpcy5vbmNlSW50ZXJuYWwpO1xuICAgICAgICBfdGhpcy51biA9IC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPHZvaWQ+fSAqLyAoX3RoaXMudW5JbnRlcm5hbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmV2aXNpb25fID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIHJldmlzaW9uIGNvdW50ZXIgYW5kIGRpc3BhdGNoZXMgYSAnY2hhbmdlJyBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgKyt0aGlzLnJldmlzaW9uXztcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2ZXJzaW9uIG51bWJlciBmb3IgdGhpcyBvYmplY3QuICBFYWNoIHRpbWUgdGhlIG9iamVjdCBpcyBtb2RpZmllZCxcbiAgICAgKiBpdHMgdmVyc2lvbiBudW1iZXIgd2lsbCBiZSBpbmNyZW1lbnRlZC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldmlzaW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5nZXRSZXZpc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2aXNpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IEV2ZW50IGtleS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25JbnRlcm5hbCA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBrZXlzW2ldID0gbGlzdGVuKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Rlbih0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBFdmVudCBrZXkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLm9uY2VJbnRlcm5hbCA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAga2V5W2ldID0gbGlzdGVuT25jZSh0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBsaXN0ZW5PbmNlKHRoaXMsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXkgPSBrZXk7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnVuSW50ZXJuYWwgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGtleSA9IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAobGlzdGVuZXIpLm9sX2tleTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgdW5CeUtleShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHR5cGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oRXZlbnRUYXJnZXQpKTtcbi8qKlxuICogTGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAqICAgICBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZiBldmVudCB0eXBlcyBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSByZXR1cm5cbiAqICAgICB3aWxsIGJlIGFuIGFycmF5IG9mIGtleXMuXG4gKiBAYXBpXG4gKi9cbk9ic2VydmFibGUucHJvdG90eXBlLm9uO1xuLyoqXG4gKiBMaXN0ZW4gb25jZSBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gKiAgICAgd2lsbCBiZSBhbiBhcnJheSBvZiBrZXlzLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5vbmNlO1xuLyoqXG4gKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBhcGlcbiAqL1xuT2JzZXJ2YWJsZS5wcm90b3R5cGUudW47XG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIGtleSByZXR1cm5lZCBieSBgb24oKWAgb3IgYG9uY2UoKWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBrZXkgVGhlIGtleSByZXR1cm5lZCBieSBgb24oKWBcbiAqICAgICBvciBgb25jZSgpYCAob3IgYW4gYXJyYXkgb2Yga2V5cykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bkJ5S2V5KGtleSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0ga2V5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoa2V5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSgvKiogQHR5cGUge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX0gKi8gKGtleSkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvT2JqZWN0XG4gKi9cbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYnNlcnZhYmxlIGZyb20gJy4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgeyBhc3NpZ24sIGlzRW1wdHkgfSBmcm9tICcuL29iai5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuL3V0aWwuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKi9cbnZhciBPYmplY3RFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JqZWN0RXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9iamVjdEV2ZW50KHR5cGUsIGtleSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3aG9zZSB2YWx1ZSBpcyBjaGFuZ2luZy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9sZCB2YWx1ZS4gVG8gZ2V0IHRoZSBuZXcgdmFsdWUgdXNlIGBlLnRhcmdldC5nZXQoZS5rZXkpYCB3aGVyZVxuICAgICAgICAgKiBgZWAgaXMgdGhlIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgT2JqZWN0RXZlbnQgfTtcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBPYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlcywgUmV0dXJuPn0gT2JqZWN0T25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBNb3N0IG5vbi10cml2aWFsIGNsYXNzZXMgaW5oZXJpdCBmcm9tIHRoaXMuXG4gKlxuICogVGhpcyBleHRlbmRzIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX0gd2l0aCBvYnNlcnZhYmxlXG4gKiBwcm9wZXJ0aWVzLCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIG9ic2VydmFibGUgYXMgd2VsbCBhcyB0aGUgb2JqZWN0IGFzIGFcbiAqIHdob2xlLlxuICpcbiAqIENsYXNzZXMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyBoYXZlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMsIHRvIHdoaWNoIHlvdSBjYW5cbiAqIGFkZCB5b3VyIG93bnMuIFRoZSBwcmUtZGVmaW5lZCBwcm9wZXJ0aWVzIGFyZSBsaXN0ZWQgaW4gdGhpcyBkb2N1bWVudGF0aW9uIGFzXG4gKiAnT2JzZXJ2YWJsZSBQcm9wZXJ0aWVzJywgYW5kIGhhdmUgdGhlaXIgb3duIGFjY2Vzc29yczsgZm9yIGV4YW1wbGUsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9IGhhcyBhIGB0YXJnZXRgIHByb3BlcnR5LCBhY2Nlc3NlZCB3aXRoXG4gKiBgZ2V0VGFyZ2V0KClgIGFuZCBjaGFuZ2VkIHdpdGggYHNldFRhcmdldCgpYC4gTm90IGFsbCBwcm9wZXJ0aWVzIGFyZSBob3dldmVyXG4gKiBzZXR0YWJsZS4gVGhlcmUgYXJlIGFsc28gZ2VuZXJhbC1wdXJwb3NlIGFjY2Vzc29ycyBgZ2V0KClgIGFuZCBgc2V0KClgLiBGb3JcbiAqIGV4YW1wbGUsIGBnZXQoJ3RhcmdldCcpYCBpcyBlcXVpdmFsZW50IHRvIGBnZXRUYXJnZXQoKWAuXG4gKlxuICogVGhlIGBzZXRgIGFjY2Vzc29ycyB0cmlnZ2VyIGEgY2hhbmdlIGV2ZW50LCBhbmQgeW91IGNhbiBtb25pdG9yIHRoaXMgYnlcbiAqIHJlZ2lzdGVyaW5nIGEgbGlzdGVuZXIuIEZvciBleGFtcGxlLCB7QGxpbmsgbW9kdWxlOm9sL1ZpZXd+Vmlld30gaGFzIGFcbiAqIGBjZW50ZXJgIHByb3BlcnR5LCBzbyBgdmlldy5vbignY2hhbmdlOmNlbnRlcicsIGZ1bmN0aW9uKGV2dCkgey4uLn0pO2Agd291bGRcbiAqIGNhbGwgdGhlIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSB2YWx1ZSBvZiB0aGUgY2VudGVyIHByb3BlcnR5IGNoYW5nZXMuIFdpdGhpblxuICogdGhlIGZ1bmN0aW9uLCBgZXZ0LnRhcmdldGAgd291bGQgYmUgdGhlIHZpZXcsIHNvIGBldnQudGFyZ2V0LmdldENlbnRlcigpYFxuICogd291bGQgcmV0dXJuIHRoZSBuZXcgY2VudGVyLlxuICpcbiAqIFlvdSBjYW4gYWRkIHlvdXIgb3duIG9ic2VydmFibGUgcHJvcGVydGllcyB3aXRoXG4gKiBgb2JqZWN0LnNldCgncHJvcCcsICd2YWx1ZScpYCwgYW5kIHJldHJpZXZlIHRoYXQgd2l0aCBgb2JqZWN0LmdldCgncHJvcCcpYC5cbiAqIFlvdSBjYW4gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoYXQgcHJvcGVydHkgdmFsdWUgd2l0aFxuICogYG9iamVjdC5vbignY2hhbmdlOnByb3AnLCBsaXN0ZW5lcilgLiBZb3UgY2FuIGdldCBhIGxpc3Qgb2YgYWxsXG4gKiBwcm9wZXJ0aWVzIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdCNnZXRQcm9wZXJ0aWVzfS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIG9ic2VydmFibGUgcHJvcGVydGllcyBhcmUgc2VwYXJhdGUgZnJvbSBzdGFuZGFyZCBKUyBwcm9wZXJ0aWVzLlxuICogWW91IGNhbiwgZm9yIGV4YW1wbGUsIGdpdmUgeW91ciBtYXAgb2JqZWN0IGEgdGl0bGUgd2l0aFxuICogYG1hcC50aXRsZT0nTmV3IHRpdGxlJ2AgYW5kIHdpdGggYG1hcC5zZXQoJ3RpdGxlJywgJ0Fub3RoZXIgdGl0bGUnKWAuIFRoZVxuICogZmlyc3Qgd2lsbCBiZSBhIGBoYXNPd25Qcm9wZXJ0eWA7IHRoZSBzZWNvbmQgd2lsbCBhcHBlYXIgaW5cbiAqIGBnZXRQcm9wZXJ0aWVzKClgLiBPbmx5IHRoZSBzZWNvbmQgaXMgb2JzZXJ2YWJsZS5cbiAqXG4gKiBQcm9wZXJ0aWVzIGNhbiBiZSBkZWxldGVkIGJ5IHVzaW5nIHRoZSB1bnNldCBtZXRob2QuIEUuZy5cbiAqIG9iamVjdC51bnNldCgnZm9vJykuXG4gKlxuICogQGZpcmVzIE9iamVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBCYXNlT2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlT2JqZWN0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IFtvcHRfdmFsdWVzXSBBbiBvYmplY3Qgd2l0aCBrZXktdmFsdWUgcGFpcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZU9iamVjdChvcHRfdmFsdWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIC8vIENhbGwge0BsaW5rIG1vZHVsZTpvbC91dGlsLmdldFVpZH0gdG8gZW5zdXJlIHRoYXQgdGhlIG9yZGVyIG9mIG9iamVjdHMnIGlkcyBpc1xuICAgICAgICAvLyB0aGUgc2FtZSBhcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGNyZWF0ZWQuICBUaGlzIGFsc28gaGVscHMgdG9cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBhZGRlZCBpbiB0aGUgc2FtZSBvcmRlciwgd2hpY2hcbiAgICAgICAgLy8gaGVscHMgbWFueSBKYXZhU2NyaXB0IGVuZ2luZXMgZ2VuZXJhdGUgZmFzdGVyIGNvZGUuXG4gICAgICAgIGdldFVpZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWx1ZXNfID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdF92YWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhvcHRfdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgICAqIEByZXR1cm4geyp9IFZhbHVlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzXyAmJiB0aGlzLnZhbHVlc18uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIG9iamVjdCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBMaXN0IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMudmFsdWVzXyAmJiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlc18pKSB8fCBbXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbiBvYmplY3Qgb2YgYWxsIHByb3BlcnR5IG5hbWVzIGFuZCB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgKj59IE9iamVjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlc18gJiYgYXNzaWduKHt9LCB0aGlzLnZhbHVlc18pKSB8fCB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaGFzIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuaGFzUHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy52YWx1ZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIE9sZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoa2V5LCBvbGRWYWx1ZSkge1xuICAgICAgICB2YXIgZXZlbnRUeXBlO1xuICAgICAgICBldmVudFR5cGUgPSBcImNoYW5nZTpcIiArIGtleTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICAgICAgZXZlbnRUeXBlID0gT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE9iamVjdEV2ZW50KGV2ZW50VHlwZSwga2V5LCBvbGRWYWx1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5hZGRDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChrZXksIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZTpcIiArIGtleSwgbGlzdGVuZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChrZXksIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZTpcIiArIGtleSwgbGlzdGVuZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2lsZW50XSBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgb3B0X3NpbGVudCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXNfIHx8ICh0aGlzLnZhbHVlc18gPSB7fSk7XG4gICAgICAgIGlmIChvcHRfc2lsZW50KSB7XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY29sbGVjdGlvbiBvZiBrZXktdmFsdWUgcGFpcnMuICBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIGFueSBleGlzdGluZ1xuICAgICAqIHByb3BlcnRpZXMgYW5kIGFkZHMgbmV3IG9uZXMgKGl0IGRvZXMgbm90IHJlbW92ZSBhbnkgZXhpc3RpbmcgcHJvcGVydGllcykuXG4gICAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2lsZW50XSBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHZhbHVlcywgb3B0X3NpbGVudCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIHZhbHVlc1trZXldLCBvcHRfc2lsZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYW55IHByb3BlcnRpZXMgZnJvbSBhbm90aGVyIG9iamVjdCB3aXRob3V0IHRyaWdnZXJpbmcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7QmFzZU9iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5hcHBseVByb3BlcnRpZXMgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmICghc291cmNlLnZhbHVlc18pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24odGhpcy52YWx1ZXNfIHx8ICh0aGlzLnZhbHVlc18gPSB7fSksIHNvdXJjZS52YWx1ZXNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0cyBhIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X3NpbGVudF0gVW5zZXQgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS51bnNldCA9IGZ1bmN0aW9uIChrZXksIG9wdF9zaWxlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzXyAmJiBrZXkgaW4gdGhpcy52YWx1ZXNfKSB7XG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHRoaXMudmFsdWVzXykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc18gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvcHRfc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoa2V5LCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCYXNlT2JqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlT2JqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Qcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBPUEFDSVRZOiAnb3BhY2l0eScsXG4gICAgVklTSUJMRTogJ3Zpc2libGUnLFxuICAgIEVYVEVOVDogJ2V4dGVudCcsXG4gICAgWl9JTkRFWDogJ3pJbmRleCcsXG4gICAgTUFYX1JFU09MVVRJT046ICdtYXhSZXNvbHV0aW9uJyxcbiAgICBNSU5fUkVTT0xVVElPTjogJ21pblJlc29sdXRpb24nLFxuICAgIE1BWF9aT09NOiAnbWF4Wm9vbScsXG4gICAgTUlOX1pPT006ICdtaW5ab29tJyxcbiAgICBTT1VSQ0U6ICdzb3VyY2UnLFxuICAgIE1BUDogJ21hcCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvcGVydHkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgTGF5ZXJQcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBBIGNzcyBjb2xvciwgb3IgYSBmdW5jdGlvbiBjYWxsZWQgd2l0aCBhIHZpZXcgcmVzb2x1dGlvbiByZXR1cm5pbmcgYSBjc3MgY29sb3IuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xmdW5jdGlvbihudW1iZXIpOnN0cmluZ30gQmFja2dyb3VuZENvbG9yXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmV4dGVudCd8J2NoYW5nZTptYXhSZXNvbHV0aW9uJ3wnY2hhbmdlOm1heFpvb20nfFxuICogICAgJ2NoYW5nZTptaW5SZXNvbHV0aW9uJ3wnY2hhbmdlOm1pblpvb20nfCdjaGFuZ2U6b3BhY2l0eSd8J2NoYW5nZTp2aXNpYmxlJ3wnY2hhbmdlOnpJbmRleCd9IEJhc2VMYXllck9iamVjdEV2ZW50VHlwZXNcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8QmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xCYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzLCBSZXR1cm4+fSBCYXNlTGF5ZXJPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge0JhY2tncm91bmRDb2xvcn0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm8gYmFja2dyb3VuZFxuICogd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTm90ZSB0aGF0IHdpdGgge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfSBhbmQgYWxsIGl0cyBzdWJjbGFzc2VzLCBhbnkgcHJvcGVydHkgc2V0IGluXG4gKiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH0gcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdCwgc29cbiAqIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG52YXIgQmFzZUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUxheWVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0JhY2tncm91bmRDb2xvcnxmYWxzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhY2tncm91bmRfID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICBhc3NpZ24ocHJvcGVydGllcywgb3B0aW9ucy5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuT1BBQ0lUWV0gPVxuICAgICAgICAgICAgb3B0aW9ucy5vcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYWNpdHkgOiAxO1xuICAgICAgICBhc3NlcnQodHlwZW9mIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZXSA9PT0gJ251bWJlcicsIDY0KTsgLy8gTGF5ZXIgb3BhY2l0eSBtdXN0IGJlIGEgbnVtYmVyXG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFXSA9XG4gICAgICAgICAgICBvcHRpb25zLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmlzaWJsZSA6IHRydWU7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5aX0lOREVYXSA9IG9wdGlvbnMuekluZGV4O1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT05dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhSZXNvbHV0aW9uIDogSW5maW5pdHk7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTl0gPVxuICAgICAgICAgICAgb3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblJlc29sdXRpb24gOiAwO1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUlOX1pPT01dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogLUluZmluaXR5O1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1pPT01dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xhc3NOYW1lXyA9XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtbGF5ZXInO1xuICAgICAgICBkZWxldGUgcHJvcGVydGllcy5jbGFzc05hbWU7XG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlXyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBiYWNrZ3JvdW5kIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge0JhY2tncm91bmRDb2xvcnxmYWxzZX0gTGF5ZXIgYmFja2dyb3VuZC5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldEJhY2tncm91bmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBDU1MgY2xhc3MgbmFtZS5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldENsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NOYW1lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBtZWFudCB0byBiZSBjYWxsZWQgYnkgbGF5ZXJzIG9yIGxheWVyIHJlbmRlcmVycyBiZWNhdXNlIHRoZSBzdGF0ZVxuICAgICAqIGlzIGluY29ycmVjdCBpZiB0aGUgbGF5ZXIgaXMgaW5jbHVkZWQgaW4gYSBsYXllciBncm91cC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9tYW5hZ2VkXSBMYXllciBpcyBtYW5hZ2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9IExheWVyIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZSA9IGZ1bmN0aW9uIChvcHRfbWFuYWdlZCkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9ICovXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVfIHx8XG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovICh7XG4gICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgbWFuYWdlZDogb3B0X21hbmFnZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRfbWFuYWdlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB2YXIgekluZGV4ID0gdGhpcy5nZXRaSW5kZXgoKTtcbiAgICAgICAgc3RhdGUub3BhY2l0eSA9IGNsYW1wKE1hdGgucm91bmQodGhpcy5nZXRPcGFjaXR5KCkgKiAxMDApIC8gMTAwLCAwLCAxKTtcbiAgICAgICAgc3RhdGUuc291cmNlU3RhdGUgPSB0aGlzLmdldFNvdXJjZVN0YXRlKCk7XG4gICAgICAgIHN0YXRlLnZpc2libGUgPSB0aGlzLmdldFZpc2libGUoKTtcbiAgICAgICAgc3RhdGUuZXh0ZW50ID0gdGhpcy5nZXRFeHRlbnQoKTtcbiAgICAgICAgc3RhdGUuekluZGV4ID0gekluZGV4ID09PSB1bmRlZmluZWQgJiYgIXN0YXRlLm1hbmFnZWQgPyBJbmZpbml0eSA6IHpJbmRleDtcbiAgICAgICAgc3RhdGUubWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0TWF4UmVzb2x1dGlvbigpO1xuICAgICAgICBzdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgodGhpcy5nZXRNaW5SZXNvbHV0aW9uKCksIDApO1xuICAgICAgICBzdGF0ZS5taW5ab29tID0gdGhpcy5nZXRNaW5ab29tKCk7XG4gICAgICAgIHN0YXRlLm1heFpvb20gPSB0aGlzLmdldE1heFpvb20oKTtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBbb3B0X2FycmF5XSBBcnJheSBvZiBsYXllcnMgKHRvIGJlXG4gICAgICogICAgIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBbb3B0X3N0YXRlc10gT3B0aW9uYWwgbGlzdCBvZiBsYXllclxuICAgICAqICAgICBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlc0FycmF5ID0gZnVuY3Rpb24gKG9wdF9zdGF0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudCBleHRlbnR9IG9mIHRoZSBsYXllciBvciBgdW5kZWZpbmVkYCBpZiBpdFxuICAgICAqIHdpbGwgYmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIGV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gVGhlIGxheWVyIGV4dGVudC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LkVYVEVOVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldE1pblJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TWluWm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9aT09NKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyIChiZXR3ZWVuIDAgYW5kIDEpLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlZJU0lCTEUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZVxuICAgICAqIHJlbmRlcmluZy4gVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIFotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0WkluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlpfSU5ERVgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJhY2tncmxvdW5kIGNvbG9yLlxuICAgICAqIEBwYXJhbSB7QmFja2dyb3VuZENvbG9yfSBbb3B0X2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKG9wdF9iYWNrZ3JvdW5kKSB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZF8gPSBvcHRfYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGV4dGVudCBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS4gIElmIGB1bmRlZmluZWRgLCB0aGUgbGF5ZXJcbiAgICAgKiB3aWxsIGJlIHZpc2libGUgYXQgYWxsIGV4dGVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gZXh0ZW50IFRoZSBleHRlbnQgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0RXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5LkVYVEVOVCwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF4aW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0TWF4UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChtYXhSZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT04sIG1heFJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtaW5pbXVtIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKG1pblJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTiwgbWluUmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1heGltdW0gem9vbSAoZXhjbHVzaXZlKSBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIHpvb20gbGV2ZWxzIGZvciBsYXllciB2aXNpYmlsaXR5IGFyZSBiYXNlZCBvbiB0aGVcbiAgICAgKiB2aWV3IHpvb20gbGV2ZWwsIHdoaWNoIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBhIHRpbGUgc291cmNlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFpvb20gVGhlIG1heGltdW0gem9vbSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNYXhab29tID0gZnVuY3Rpb24gKG1heFpvb20pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfWk9PTSwgbWF4Wm9vbSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1pbmltdW0gem9vbSAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIHpvb20gbGV2ZWxzIGZvciBsYXllciB2aXNpYmlsaXR5IGFyZSBiYXNlZCBvbiB0aGVcbiAgICAgKiB2aWV3IHpvb20gbGV2ZWwsIHdoaWNoIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBhIHRpbGUgc291cmNlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblpvb20gVGhlIG1pbmltdW0gem9vbSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNaW5ab29tID0gZnVuY3Rpb24gKG1pblpvb20pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSwgbWluWm9vbSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLCBhbGxvd2VkIHZhbHVlcyByYW5nZSBmcm9tIDAgdG8gMS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBUaGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRPcGFjaXR5ID0gZnVuY3Rpb24gKG9wYWNpdHkpIHtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiBvcGFjaXR5ID09PSAnbnVtYmVyJywgNjQpOyAvLyBMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXJcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZLCBvcGFjaXR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIgKGB0cnVlYCBvciBgZmFsc2VgKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZpc2libGUgVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuVklTSUJMRSwgdmlzaWJsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6aW5kZXggVGhlIHotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0WkluZGV4ID0gZnVuY3Rpb24gKHppbmRleCkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5LlpfSU5ERVgsIHppbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVfKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlXy5sYXllciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN0YXRlXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlTGF5ZXI7XG59KEJhc2VPYmplY3QpKTtcbmV4cG9ydCBkZWZhdWx0IEJhc2VMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3ByZXJlbmRlclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQUkVSRU5ERVI6ICdwcmVyZW5kZXInLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3RyZW5kZXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUE9TVFJFTkRFUjogJ3Bvc3RyZW5kZXInLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgbGF5ZXJzIGFyZSBjb21wb3NlZC4gIFdoZW4gZGlzcGF0Y2hlZCBieSB0aGUgbWFwLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmVcbiAgICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgICAqIFdlYkdMIGxheWVycyBjdXJyZW50bHkgZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVjb21wb3NlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBSRUNPTVBPU0U6ICdwcmVjb21wb3NlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgbGF5ZXJzIGFyZSBjb21wb3NlZC4gIFdoZW4gZGlzcGF0Y2hlZCBieSB0aGUgbWFwLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmVcbiAgICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgICAqIFdlYkdMIGxheWVycyBjdXJyZW50bHkgZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0Y29tcG9zZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT1NUQ09NUE9TRTogJ3Bvc3Rjb21wb3NlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUsIGkuZS4gYWxsIHNvdXJjZXMgYW5kIHRpbGVzIGhhdmVcbiAgICAgKiBmaW5pc2hlZCBsb2FkaW5nIGZvciB0aGUgY3VycmVudCB2aWV3cG9ydCwgYW5kIGFsbCB0aWxlcyBhcmUgZmFkZWQgaW4uXG4gICAgICogVGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlIGEgYGNvbnRleHRgIHNldC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSRU5ERVJDT01QTEVURTogJ3JlbmRlcmNvbXBsZXRlJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHsncG9zdHJlbmRlcid8J3ByZWNvbXBvc2UnfCdwb3N0Y29tcG9zZSd8J3JlbmRlcmNvbXBsZXRlJ30gTWFwUmVuZGVyRXZlbnRUeXBlc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHsncG9zdHJlbmRlcid8J3ByZXJlbmRlcid9IExheWVyUmVuZGVyRXZlbnRUeXBlc1xuICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9TdGF0ZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBTdGF0ZSBvZiB0aGUgc291cmNlLCBvbmUgb2YgJ3VuZGVmaW5lZCcsICdsb2FkaW5nJywgJ3JlYWR5JyBvciAnZXJyb3InLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgVU5ERUZJTkVEOiAndW5kZWZpbmVkJyxcbiAgICBMT0FESU5HOiAnbG9hZGluZycsXG4gICAgUkVBRFk6ICdyZWFkeScsXG4gICAgRVJST1I6ICdlcnJvcicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9MYXllclxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGUpOkhUTUxFbGVtZW50fSBSZW5kZXJGdW5jdGlvblxuICovXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICAnY2hhbmdlOnNvdXJjZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3wnY2hhbmdlOnNvdXJjZSd8XG4gKiAgICAgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IExheWVyT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdH0gU291cmNlVHlwZVxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7U291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLiAgSWYgbm90IHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3RvcixcbiAqIHRoZSBzb3VyY2UgY2FuIGJlIHNldCBieSBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0U291cmNlIGxheWVyLnNldFNvdXJjZShzb3VyY2UpfSBhZnRlclxuICogY29uc3RydWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gTWFwLlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW3JlbmRlcl0gUmVuZGVyIGZ1bmN0aW9uLiBUYWtlcyB0aGUgZnJhbWUgc3RhdGUgYXMgaW5wdXQgYW5kIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhblxuICogSFRNTCBlbGVtZW50LiBXaWxsIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCByZW5kZXJpbmcgZm9yIHRoZSBsYXllci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHksIHRoZSB2YWx1ZSBpcyByb3VuZGVkIHRvIHR3byBkaWdpdHMgdG8gYXBwZWFyIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gc291cmNlU3RhdGUgU291cmNlU3RhdGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHZpc2libGUgVmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbWFuYWdlZCBNYW5hZ2VkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gekluZGV4IFpJbmRleC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ab29tIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhab29tIE1heGltdW0gem9vbS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZyb20gd2hpY2ggYWxsIGxheWVyIHR5cGVzIGFyZSBkZXJpdmVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZFxuICogaW4gdGhlIGNhc2Ugd2hlcmUgYSBjdXN0b20gbGF5ZXIgaXMgYmUgYWRkZWQgdG8gdGhlIG1hcCB3aXRoIGEgY3VzdG9tIGByZW5kZXJgIGZ1bmN0aW9uLlxuICogU3VjaCBhIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIGBvcHRpb25zYCBvYmplY3QsIGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYW4gSFRNTCBlbGVtZW50LlxuICpcbiAqIEEgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9mIHJhc3RlciBvciB2ZWN0b3IgbWFwIGRhdGEuXG4gKiBMYXllcnMgZ3JvdXAgdG9nZXRoZXIgdGhvc2UgcHJvcGVydGllcyB0aGF0IHBlcnRhaW4gdG8gaG93IHRoZSBkYXRhIGlzIHRvIGJlXG4gKiBkaXNwbGF5ZWQsIGlycmVzcGVjdGl2ZSBvZiB0aGUgc291cmNlIG9mIHRoYXQgZGF0YS5cbiAqXG4gKiBMYXllcnMgYXJlIHVzdWFsbHkgYWRkZWQgdG8gYSBtYXAgd2l0aCB7QGxpbmsgaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXIgbWFwLmFkZExheWVyKCl9LiBDb21wb25lbnRzXG4gKiBsaWtlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhd35EcmF3fSB1c2UgdW5tYW5hZ2VkIGxheWVyc1xuICogaW50ZXJuYWxseS4gVGhlc2UgdW5tYW5hZ2VkIGxheWVycyBhcmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAgdXNpbmdcbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0TWFwfSBpbnN0ZWFkLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBzZXZlcmFsIGxheWVycyBtaWdodCBnZXQgcmVuZGVyZWQgdG9cbiAqIHRoZSBzYW1lIEhUTUwgZWxlbWVudCwgd2hpY2ggd2lsbCBjYXVzZSB7QGxpbmsgaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHQjZm9yRWFjaExheWVyQXRQaXhlbCBtYXAuZm9yRWFjaExheWVyQXRQaXhlbCgpfSB0b1xuICogZ2l2ZSBmYWxzZSBwb3NpdGl2ZXMuIFRvIGF2b2lkIHRoaXMsIGFwcGx5IGRpZmZlcmVudCBgY2xhc3NOYW1lYCBwcm9wZXJ0aWVzIHRvIHRoZVxuICogbGF5ZXJzIGF0IGNyZWF0aW9uIHRpbWUuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnQjcG9zdHJlbmRlclxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2VUeXBlXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyVHlwZVxuICogQGFwaVxuICovXG52YXIgTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uczxTb3VyY2VUeXBlPn0gb3B0aW9ucyBMYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExheWVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGJhc2VPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnNvdXJjZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwUHJlY29tcG9zZUtleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwUmVuZGVyS2V5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJlclR5cGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuICAgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCByZW5kZXIgbWV0aG9kIHdpdGggYSBjdXN0b20gb25lXG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWFwKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRNYXAob3B0aW9ucy5tYXApO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFkZENoYW5nZUxpc3RlbmVyKExheWVyUHJvcGVydHkuU09VUkNFLCBfdGhpcy5oYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8pO1xuICAgICAgICB2YXIgc291cmNlID0gb3B0aW9ucy5zb3VyY2VcbiAgICAgICAgICAgID8gLyoqIEB0eXBlIHtTb3VyY2VUeXBlfSAqLyAob3B0aW9ucy5zb3VyY2UpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIF90aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gW29wdF9hcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gb3B0X2FycmF5ID8gb3B0X2FycmF5IDogW107XG4gICAgICAgIGFycmF5LnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IFtvcHRfc3RhdGVzXSBPcHRpb25hbCBsaXN0IG9mIGxheWVyIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIChvcHRfc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzID8gb3B0X3N0YXRlcyA6IFtdO1xuICAgICAgICBzdGF0ZXMucHVzaCh0aGlzLmdldExheWVyU3RhdGUoKSk7XG4gICAgICAgIHJldHVybiBzdGF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtTb3VyY2VUeXBlfSBUaGUgbGF5ZXIgc291cmNlIChvciBgbnVsbGAgaWYgbm90IHlldCBzZXQpLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge1NvdXJjZVR5cGV9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlNPVVJDRSkpIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICAgIHJldHVybiAhc291cmNlID8gU291cmNlU3RhdGUuVU5ERUZJTkVEIDogc291cmNlLmdldFN0YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5oYW5kbGVTb3VyY2VDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnNvdXJjZUNoYW5nZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbGlzdGVuKHNvdXJjZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVTb3VyY2VDaGFuZ2VfLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5kZWZhdWx0Pj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoXG4gICAgICogYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXR1cm4gcmVzb2x2ZShbXSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbiBjaGFyZ2UgdG8gbWFuYWdlIHRoZSByZW5kZXJpbmcgb2YgdGhlIGxheWVyLiBPbmUgbGF5ZXIgdHlwZSBpc1xuICAgICAqIGJvdW5kZWQgd2l0aCBvbmUgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB3aGljaCB0aGUgcmVuZGVyZXIgbWF5IChidXQgbmVlZCBub3QpIHVzZVxuICAgICAqIGZvciByZW5kZXJpbmcgaXRzIGNvbnRlbnQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gdGhpcy5nZXRSZW5kZXJlcigpO1xuICAgICAgICBpZiAobGF5ZXJSZW5kZXJlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllclJlbmRlcmVyLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvciB1c2UgaW5zaWRlIHRoZSBsaWJyYXJ5IG9ubHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuc2V0TWFwSW50ZXJuYWwgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFQLCBtYXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yIHVzZSBpbnNpZGUgdGhlIGxpYnJhcnkgb25seS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRNYXBJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFQKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxheWVyIHRvIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBsYXllcnMgb24gYSBtYXAuIFRoZSBtYXAgd2lsbFxuICAgICAqIG5vdCBtYW5hZ2UgdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgY2FsbGJhY2sgaW5cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjZm9yRWFjaExheWVyQXRQaXhlbH0gd2lsbCByZWNlaXZlIGBudWxsYCBhcyBsYXllci4gVGhpc1xuICAgICAqIGlzIHVzZWZ1bCBmb3IgdGVtcG9yYXJ5IGxheWVycy4gVG8gcmVtb3ZlIGFuIHVubWFuYWdlZCBsYXllciBmcm9tIHRoZSBtYXAsXG4gICAgICogdXNlIGAjc2V0TWFwKG51bGwpYC5cbiAgICAgKlxuICAgICAqIFRvIGFkZCB0aGUgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwLCB1c2VcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjYWRkTGF5ZXJ9IGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwUHJlY29tcG9zZUtleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQcmVjb21wb3NlS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFwUmVuZGVyS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLm1hcFJlbmRlcktleV8pO1xuICAgICAgICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbGlzdGVuKG1hcCwgUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyRXZlbnQgPSBcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0KTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IHJlbmRlckV2ZW50LmZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gQSBsYXllciBjYW4gb25seSBiZSBhZGRlZCB0byB0aGUgbWFwIG9uY2UuIFVzZSBlaXRoZXIgYGxheWVyLnNldE1hcCgpYCBvciBgbWFwLmFkZExheWVyKClgLCBub3QgYm90aC5cbiAgICAgICAgICAgICAgICBhc3NlcnQoIWxheWVyU3RhdGVzQXJyYXkuc29tZShmdW5jdGlvbiAoYXJyYXlMYXllclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheUxheWVyU3RhdGUubGF5ZXIgPT09IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICAgICAgfSksIDY3KTtcbiAgICAgICAgICAgICAgICBsYXllclN0YXRlc0FycmF5LnB1c2gobGF5ZXJTdGF0ZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IGxpc3Rlbih0aGlzLCBFdmVudFR5cGUuQ0hBTkdFLCBtYXAucmVuZGVyLCBtYXApO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U291cmNlVHlwZX0gc291cmNlIFRoZSBsYXllciBzb3VyY2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNldFNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UsIHNvdXJjZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge1JlbmRlcmVyVHlwZX0gVGhlIGxheWVyIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGhhcyBhIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5oYXNSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5yZW5kZXJlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSByZW5kZXJlciBmb3IgdGhpcyBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtSZW5kZXJlclR5cGV9IEEgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXJfLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlbmRlcmVyXztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFNvdXJjZShudWxsKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBMYXllcjtcbn0oQmFzZUxheWVyKSk7XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGxheWVyIGlzIHZpc2libGUgYW5kIGlmIHRoZSBwcm92aWRlZCB2aWV3IHN0YXRlXG4gKiBoYXMgcmVzb2x1dGlvbiBhbmQgem9vbSBsZXZlbHMgdGhhdCBhcmUgaW4gcmFuZ2Ugb2YgdGhlIGxheWVyJ3MgbWluL21heC5cbiAqIEBwYXJhbSB7U3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuU3RhdGV9IHZpZXdTdGF0ZSBWaWV3IHN0YXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGlzIHZpc2libGUgYXQgdGhlIGdpdmVuIHZpZXcgc3RhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSB7XG4gICAgaWYgKCFsYXllclN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGlmIChyZXNvbHV0aW9uIDwgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uIHx8XG4gICAgICAgIHJlc29sdXRpb24gPj0gbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHpvb20gPSB2aWV3U3RhdGUuem9vbTtcbiAgICByZXR1cm4gem9vbSA+IGxheWVyU3RhdGUubWluWm9vbSAmJiB6b29tIDw9IGxheWVyU3RhdGUubWF4Wm9vbTtcbn1cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nvb3JkaW5hdGVcbiAqL1xuaW1wb3J0IHsgZ2V0V2lkdGggfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHsgcGFkTnVtYmVyIH0gZnJvbSAnLi9zdHJpbmcuanMnO1xuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhbiB4eSBjb29yZGluYXRlLiBFeGFtcGxlOiBgWzE2LCA0OF1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvb3JkaW5hdGVcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYW5kXG4gKiB0cmFuc2Zvcm1zIGl0IGludG8gYSBge3N0cmluZ31gLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogc3RyaW5nfSBDb29yZGluYXRlRm9ybWF0XG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQWRkIGBkZWx0YWAgdG8gYGNvb3JkaW5hdGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHthZGR9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBhZGQoY29vcmQsIFstMiwgNF0pO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbNS44NSwgNTEuOTgzMzMzXVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBpbnB1dCBjb29yZGluYXRlIGFkanVzdGVkIGJ5XG4gKiB0aGUgZ2l2ZW4gZGVsdGEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29vcmRpbmF0ZSwgZGVsdGEpIHtcbiAgICBjb29yZGluYXRlWzBdICs9ICtkZWx0YVswXTtcbiAgICBjb29yZGluYXRlWzFdICs9ICtkZWx0YVsxXTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludCBvbiB0aGUgY2lyY3VtZmVyZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPbkNpcmNsZShjb29yZGluYXRlLCBjaXJjbGUpIHtcbiAgICB2YXIgciA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgICB2YXIgY2VudGVyID0gY2lyY2xlLmdldENlbnRlcigpO1xuICAgIHZhciB4MCA9IGNlbnRlclswXTtcbiAgICB2YXIgeTAgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgxID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeTEgPSBjb29yZGluYXRlWzFdO1xuICAgIHZhciBkeCA9IHgxIC0geDA7XG4gICAgdmFyIGR5ID0geTEgLSB5MDtcbiAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgZHggPSAxO1xuICAgIH1cbiAgICB2YXIgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgdmFyIHggPSB4MCArIChyICogZHgpIC8gZDtcbiAgICB2YXIgeSA9IHkwICsgKHIgKiBkeSkgLyBkO1xuICAgIHJldHVybiBbeCwgeV07XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHBhc3NlZCBjb29yZGluYXRlIG9uIHRoZSBwYXNzZWQgc2VnbWVudC5cbiAqIFRoaXMgaXMgdGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2YgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQgd2hlblxuICogdGhlIGZvb3QgaXMgb24gdGhlIHNlZ21lbnQsIG9yIHRoZSBjbG9zZXN0IHNlZ21lbnQgY29vcmRpbmF0ZSB3aGVuIHRoZSBmb290XG4gKiBpcyBvdXRzaWRlIHRoZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgVGhlIHR3byBjb29yZGluYXRlc1xuICogb2YgdGhlIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZlxuICogdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgICB2YXIgeDAgPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5MCA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIHN0YXJ0ID0gc2VnbWVudFswXTtcbiAgICB2YXIgZW5kID0gc2VnbWVudFsxXTtcbiAgICB2YXIgeDEgPSBzdGFydFswXTtcbiAgICB2YXIgeTEgPSBzdGFydFsxXTtcbiAgICB2YXIgeDIgPSBlbmRbMF07XG4gICAgdmFyIHkyID0gZW5kWzFdO1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICB2YXIgYWxvbmcgPSBkeCA9PT0gMCAmJiBkeSA9PT0gMFxuICAgICAgICA/IDBcbiAgICAgICAgOiAoZHggKiAoeDAgLSB4MSkgKyBkeSAqICh5MCAtIHkxKSkgLyAoZHggKiBkeCArIGR5ICogZHkgfHwgMCk7XG4gICAgdmFyIHgsIHk7XG4gICAgaWYgKGFsb25nIDw9IDApIHtcbiAgICAgICAgeCA9IHgxO1xuICAgICAgICB5ID0geTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFsb25nID49IDEpIHtcbiAgICAgICAgeCA9IHgyO1xuICAgICAgICB5ID0geTI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB4ID0geDEgKyBhbG9uZyAqIGR4O1xuICAgICAgICB5ID0geTEgKyBhbG9uZyAqIGR5O1xuICAgIH1cbiAgICByZXR1cm4gW3gsIHldO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGVGb3JtYXR9IGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gKiB1c2VkIHRvIGZvcm1hdFxuICogYSB7Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIHdpdGggZXhwbGljaXRseSBzcGVjaWZ5aW5nIDIgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKDIpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3Ljg1LCA0Ny45OCdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9mcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZUZvcm1hdH0gQ29vcmRpbmF0ZSBmb3JtYXQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJpbmdYWShvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIFhZLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZ1hZKGNvb3JkaW5hdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZW1pc3BoZXJlcyBIZW1pc3BoZXJlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9mcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzVG9TdHJpbmdIRE1TKGhlbWlzcGhlcmVzLCBkZWdyZWVzLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICB2YXIgbm9ybWFsaXplZERlZ3JlZXMgPSBtb2R1bG8oZGVncmVlcyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgICB2YXIgeCA9IE1hdGguYWJzKDM2MDAgKiBub3JtYWxpemVkRGVncmVlcyk7XG4gICAgdmFyIGRmbFByZWNpc2lvbiA9IG9wdF9mcmFjdGlvbkRpZ2l0cyB8fCAwO1xuICAgIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgZGZsUHJlY2lzaW9uKTtcbiAgICB2YXIgZGVnID0gTWF0aC5mbG9vcih4IC8gMzYwMCk7XG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKHggLSBkZWcgKiAzNjAwKSAvIDYwKTtcbiAgICB2YXIgc2VjID0geCAtIGRlZyAqIDM2MDAgLSBtaW4gKiA2MDtcbiAgICBzZWMgPSBNYXRoLmNlaWwoc2VjICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcbiAgICBpZiAoc2VjID49IDYwKSB7XG4gICAgICAgIHNlYyA9IDA7XG4gICAgICAgIG1pbiArPSAxO1xuICAgIH1cbiAgICBpZiAobWluID49IDYwKSB7XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICAgIGRlZyArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gKGRlZyArXG4gICAgICAgICdcXHUwMGIwICcgK1xuICAgICAgICBwYWROdW1iZXIobWluLCAyKSArXG4gICAgICAgICdcXHUyMDMyICcgK1xuICAgICAgICBwYWROdW1iZXIoc2VjLCAyLCBkZmxQcmVjaXNpb24pICtcbiAgICAgICAgJ1xcdTIwMzMnICtcbiAgICAgICAgKG5vcm1hbGl6ZWREZWdyZWVzID09IDBcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogJyAnICsgaGVtaXNwaGVyZXMuY2hhckF0KG5vcm1hbGl6ZWREZWdyZWVzIDwgMCA/IDEgOiAwKSkpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmdcbiAqIHVzaW5nIHRoZSBnaXZlbiBzdHJpbmcgdGVtcGxhdGUuIFRoZSBzdHJpbmdzIGB7eH1gIGFuZCBge3l9YCBpbiB0aGUgdGVtcGxhdGVcbiAqIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcyByZXNwZWN0aXZlbHkuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg4fDQ4KS4nXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlLCAyKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg3Ljg1fDQ3Ljk4KS4nXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgQSB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCBge3h9YCBhbmQgYHt5fWAgcGxhY2Vob2xkZXJzXG4gKiAgICAgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9mcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBGb3JtYXR0ZWQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChjb29yZGluYXRlLCB0ZW1wbGF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne3h9JywgY29vcmRpbmF0ZVswXS50b0ZpeGVkKG9wdF9mcmFjdGlvbkRpZ2l0cykpXG4gICAgICAgICAgICAucmVwbGFjZSgne3l9JywgY29vcmRpbmF0ZVsxXS50b0ZpeGVkKG9wdF9mcmFjdGlvbkRpZ2l0cykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gY29vcmRpbmF0ZXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGNvb3JkaW5hdGUxLCBjb29yZGluYXRlMikge1xuICAgIHZhciBlcXVhbHMgPSB0cnVlO1xuICAgIGZvciAodmFyIGkgPSBjb29yZGluYXRlMS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAoY29vcmRpbmF0ZTFbaV0gIT0gY29vcmRpbmF0ZTJbaV0pIHtcbiAgICAgICAgICAgIGVxdWFscyA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVxdWFscztcbn1cbi8qKlxuICogUm90YXRlIGBjb29yZGluYXRlYCBieSBgYW5nbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kXG4gKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtyb3RhdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgcm90YXRlUmFkaWFucyA9IE1hdGguUEkgLyAyOyAvLyA5MCBkZWdyZWVzXG4gKiAgICAgcm90YXRlKGNvb3JkLCByb3RhdGVSYWRpYW5zKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWy00Ny45ODMzMzMsIDcuODVdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFuLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShjb29yZGluYXRlLCBhbmdsZSkge1xuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gICAgdmFyIHkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gICAgY29vcmRpbmF0ZVswXSA9IHg7XG4gICAgY29vcmRpbmF0ZVsxXSA9IHk7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG4vKipcbiAqIFNjYWxlIGBjb29yZGluYXRlYCBieSBgc2NhbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc2NhbGUgPSAxLjI7XG4gKiAgICAgc2NhbGVDb29yZGluYXRlKGNvb3JkLCBzY2FsZSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs5LjQyLCA1Ny41Nzk5OTk2XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFNjYWxlIGZhY3Rvci5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShjb29yZGluYXRlLCBzY2FsZSkge1xuICAgIGNvb3JkaW5hdGVbMF0gKj0gc2NhbGU7XG4gICAgY29vcmRpbmF0ZVsxXSAqPSBzY2FsZTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICB2YXIgZHggPSBjb29yZDFbMF0gLSBjb29yZDJbMF07XG4gICAgdmFyIGR5ID0gY29vcmQxWzFdIC0gY29vcmQyWzFdO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNxdWFyZWQgZGlzdGFuY2UgZnJvbSBhIGNvb3JkaW5hdGUgdG8gYSBsaW5lIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxDb29yZGluYXRlPn0gc2VnbWVudCBMaW5lIHNlZ21lbnQgKDJcbiAqIGNvb3JkaW5hdGVzKS5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZSBmcm9tIHRoZSBwb2ludCB0byB0aGUgbGluZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKGNvb3JkaW5hdGUsIGNsb3Nlc3RPblNlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkpO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBnZW9ncmFwaGljIGNvb3JkaW5hdGUgd2l0aCB0aGUgaGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcywgYW5kXG4gKiBzZWNvbmRzLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjDigLMgTiA3wrAgNTDigLIgNjDigLMgRSdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MC4w4oCzIE4gN8KwIDUw4oCyIDYwLjDigLMgRSdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEhlbWlzcGhlcmUsIGRlZ3JlZXMsIG1pbnV0ZXMgYW5kIHNlY29uZHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZ0hETVMoY29vcmRpbmF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIChkZWdyZWVzVG9TdHJpbmdIRE1TKCdOUycsIGNvb3JkaW5hdGVbMV0sIG9wdF9mcmFjdGlvbkRpZ2l0cykgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGRlZ3JlZXNUb1N0cmluZ0hETVMoJ0VXJywgY29vcmRpbmF0ZVswXSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuLyoqXG4gKiBGb3JtYXQgYSBjb29yZGluYXRlIGFzIGEgY29tbWEgZGVsaW1pdGVkIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nWFkoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzgsIDQ4J1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nWFkoY29vcmQsIDEpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzcuOCwgNDguMCdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFhZLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICByZXR1cm4gZm9ybWF0KGNvb3JkaW5hdGUsICd7eH0sIHt5fScsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG59XG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBjb29yZGluYXRlIGluLXBsYWNlIHRvIGJlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZFxuICogZXh0ZW50LiBUaGUgbG93ZXIgcHJvamVjdGlvbiBleHRlbnQgYm91bmRhcnkgaXMgaW5jbHVzaXZlLCB0aGUgdXBwZXIgb25lXG4gKiBleGNsdXNpdmUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChjb29yZGluYXRlLCBwcm9qZWN0aW9uKSB7XG4gICAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSkge1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb24uZ2V0RXh0ZW50KCkpO1xuICAgICAgICB2YXIgd29ybGRzQXdheSA9IGdldFdvcmxkc0F3YXkoY29vcmRpbmF0ZSwgcHJvamVjdGlvbiwgd29ybGRXaWR0aCk7XG4gICAgICAgIGlmICh3b3JsZHNBd2F5KSB7XG4gICAgICAgICAgICBjb29yZGluYXRlWzBdIC09IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfc291cmNlRXh0ZW50V2lkdGhdIFdpZHRoIG9mIHRoZSBzb3VyY2UgZXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQgaW4gd29ybGQgd2lkdGhzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ybGRzQXdheShjb29yZGluYXRlLCBwcm9qZWN0aW9uLCBvcHRfc291cmNlRXh0ZW50V2lkdGgpIHtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIHdvcmxkc0F3YXkgPSAwO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgKGNvb3JkaW5hdGVbMF0gPCBwcm9qZWN0aW9uRXh0ZW50WzBdIHx8IGNvb3JkaW5hdGVbMF0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSkge1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50V2lkdGggPSBvcHRfc291cmNlRXh0ZW50V2lkdGggfHwgZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgIHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKChjb29yZGluYXRlWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyBzb3VyY2VFeHRlbnRXaWR0aCk7XG4gICAgfVxuICAgIHJldHVybiB3b3JsZHNBd2F5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29vcmRpbmF0ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCB7IFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UgfSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZ2V0V2lkdGggfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgc2hhcmVkIGFzIGljb25JbWFnZUNhY2hlIH0gZnJvbSAnLi4vc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMnO1xuaW1wb3J0IHsgaW5WaWV3IH0gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHsgd3JhcFggfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYgSGl0TWF0Y2hcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXN0YW5jZVNxIFNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAdGVtcGxhdGUgVFxuICovXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgTWFwUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwUmVuZGVyZXIobWFwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBfID0gbWFwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5jYWxjdWxhdGVNYXRyaWNlczJEID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtO1xuICAgICAgICBjb21wb3NlVHJhbnNmb3JtKGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLnNpemVbMF0gLyAyLCBmcmFtZVN0YXRlLnNpemVbMV0gLyAyLCAxIC8gdmlld1N0YXRlLnJlc29sdXRpb24sIC0xIC8gdmlld1N0YXRlLnJlc29sdXRpb24sIC12aWV3U3RhdGUucm90YXRpb24sIC12aWV3U3RhdGUuY2VudGVyWzBdLCAtdmlld1N0YXRlLmNlbnRlclsxXSk7XG4gICAgICAgIG1ha2VJbnZlcnNlKHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtTfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGNhbGxiYWNrYC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgICAqICAgICByZXR1cm5zIGB0cnVlYCB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuICBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZVxuICAgICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAgICogQHBhcmFtIHtVfSB0aGlzQXJnMiBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGNhbGxiYWNrLCB0aGlzQXJnLCBsYXllckZpbHRlciwgdGhpc0FyZzIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBtYW5hZ2VkIE1hbmFnZWQgbGF5ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShtYW5hZ2VkLCBmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIG1hbmFnZWQgPyBsYXllciA6IG51bGwsIGdlb21ldHJ5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSB3cmFwWChjb29yZGluYXRlLnNsaWNlKCksIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgb2Zmc2V0cyA9IFtbMCwgMF1dO1xuICAgICAgICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpICYmIGNoZWNrV3JhcHBlZCkge1xuICAgICAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgIG9mZnNldHMucHVzaChbLXdvcmxkV2lkdGgsIDBdLCBbd29ybGRXaWR0aCwgMF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgdmFyIG51bUxheWVycyA9IGxheWVyU3RhdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAvKiogQHR5cGUge0FycmF5PEhpdE1hdGNoPFQ+Pn0gKi8gKFtdKTtcbiAgICAgICAgdmFyIHRtcENvb3JkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2Zmc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG51bUxheWVycyAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc1tqXTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5oYXNSZW5kZXJlcigpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyLmNhbGwodGhpc0FyZzIsIGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IGxheWVyLmdldFJlbmRlcmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyUmVuZGVyZXIgJiYgc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBzb3VyY2UuZ2V0V3JhcFgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJhbnNsYXRlZENvb3JkaW5hdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvb3JkaW5hdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tfMSA9IGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlLmJpbmQobnVsbCwgbGF5ZXJTdGF0ZS5tYW5hZ2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcENvb3JkWzBdID0gY29vcmRpbmF0ZXNbMF0gKyBvZmZzZXRzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wQ29vcmRbMV0gPSBjb29yZGluYXRlc1sxXSArIG9mZnNldHNbaV1bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKHRtcENvb3JkLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrXzEsIG1hdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcmRlciA9IDEgLyBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChtLCBpKSB7IHJldHVybiAobS5kaXN0YW5jZVNxICs9IGkgKiBvcmRlcik7IH0pO1xuICAgICAgICBtYXRjaGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuZGlzdGFuY2VTcSAtIGIuZGlzdGFuY2VTcTsgfSk7XG4gICAgICAgIG1hdGNoZXMuc29tZShmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBtLmNhbGxiYWNrKG0uZmVhdHVyZSwgbS5sYXllciwgbS5nZW9tZXRyeSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgICAqICAgICBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0Pik6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIGxheWVyRmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrV3JhcHBlZCBDaGVjayBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcGFyYW0ge1V9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZT9cbiAgICAgKiBAdGVtcGxhdGUgVVxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2hlY2tXcmFwcGVkLCBsYXllckZpbHRlciwgdGhpc0FyZykge1xuICAgICAgICB2YXIgaGFzRmVhdHVyZSA9IHRoaXMuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIFRSVUUsIHRoaXMsIGxheWVyRmlsdGVyLCB0aGlzQXJnKTtcbiAgICAgICAgcmV0dXJuIGhhc0ZlYXR1cmUgIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBNYXAuXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKGljb25JbWFnZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGV4cGlyZUljb25DYWNoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYXBSZW5kZXJlcjtcbn0oRGlzcG9zYWJsZSkpO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqL1xuZnVuY3Rpb24gZXhwaXJlSWNvbkNhY2hlKG1hcCwgZnJhbWVTdGF0ZSkge1xuICAgIGljb25JbWFnZUNhY2hlLmV4cGlyZSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgTWFwUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG52YXIgUmVuZGVyRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlckV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gW29wdF9pbnZlcnNlUGl4ZWxUcmFuc2Zvcm1dIFRyYW5zZm9ybSBmb3JcbiAgICAgKiAgICAgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gW29wdF9mcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gez8oQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfFdlYkdMUmVuZGVyaW5nQ29udGV4dCl9IFtvcHRfY29udGV4dF0gQ29udGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJFdmVudCh0eXBlLCBvcHRfaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCBvcHRfZnJhbWVTdGF0ZSwgb3B0X2NvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zZm9ybSBmcm9tIENTUyBwaXhlbHMgKHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIG1hcCB2aWV3cG9ydClcbiAgICAgICAgICogdG8gcmVuZGVyZWQgcGl4ZWxzIG9uIHRoaXMgZXZlbnQncyBgY29udGV4dGAuIE9ubHkgYXZhaWxhYmxlIHdoZW4gYSBDYW52YXMgcmVuZGVyZXIgaXMgdXNlZCwgbnVsbCBvdGhlcndpc2UuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtID0gb3B0X2ludmVyc2VQaXhlbFRyYW5zZm9ybTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcmVuZGVyIGZyYW1lIHN0YXRlLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZVN0YXRlID0gb3B0X2ZyYW1lU3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgY29udGV4dC4gTm90IGF2YWlsYWJsZSB3aGVuIHRoZSBldmVudCBpcyBkaXNwYXRjaGVkIGJ5IHRoZSBtYXAuIEZvciBDYW52YXMgMkQgbGF5ZXJzLFxuICAgICAgICAgKiB0aGUgY29udGV4dCB3aWxsIGJlIHRoZSAyRCByZW5kZXJpbmcgY29udGV4dC4gIEZvciBXZWJHTCBsYXllcnMsIHRoZSBjb250ZXh0IHdpbGwgYmUgdGhlIFdlYkdMXG4gICAgICAgICAqIGNvbnRleHQuXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8V2ViR0xSZW5kZXJpbmdDb250ZXh0fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IG9wdF9jb250ZXh0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZW5kZXJFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbmRlckV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbnRQYXJhbWV0ZXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3R5bGUgU3R5bGUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdmFyaWFudCBWYXJpYW50LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHdlaWdodCBXZWlnaHQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVIZWlnaHQgTGluZUhlaWdodC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmYW1pbHkgRmFtaWx5LlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBmYW1pbGllcyBGYW1pbGllcy5cbiAqL1xuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHNlbGVjdGFibGUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1NFTEVDVEFCTEUgPSAnb2wtc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHVuc2VsZWN0YWJsZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfVU5TRUxFQ1RBQkxFID0gJ29sLXVuc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgY29udHJvbHMuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX0NPTlRST0wgPSAnb2wtY29udHJvbCc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdGhhdCBhcmUgY29sbGFwc2VkLCBpLmUuXG4gKiB0byB0aG9zZSBlbGVtZW50cyB3aGljaCB1c3VhbGx5IGNhbiBiZSBleHBhbmRlZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfQ09MTEFQU0VEID0gJ29sLWNvbGxhcHNlZCc7XG4vKipcbiAqIEZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAxMzU2OTcvcmVnZXgtdG8tcGFyc2UtYW55LWNzcy1mb250XG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG52YXIgZm9udFJlZ0V4ID0gbmV3IFJlZ0V4cChbXG4gICAgJ15cXFxccyooPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KGl0YWxpY3xvYmxpcXVlKSk/KScsXG4gICAgJyg/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oc21hbGwtY2FwcykpPyknLFxuICAgICcoPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KGJvbGQoPzplcik/fGxpZ2h0ZXJ8WzEtOV0wMCApKT8pJyxcbiAgICAnKD86KD86bm9ybWFsfFxcXFwxfFxcXFwyfFxcXFwzKVxcXFxzKil7MCwzfSgoPzp4eD8tKT8nLFxuICAgICcoPzpzbWFsbHxsYXJnZSl8bWVkaXVtfHNtYWxsZXJ8bGFyZ2VyfFtcXFxcLlxcXFxkXSsoPzpcXFxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSknLFxuICAgICcoPzpcXFxccypcXFxcL1xcXFxzKihub3JtYWx8W1xcXFwuXFxcXGRdKyg/OlxcXFwlfGlufFtjZW1dbXxleHxwW2N0eF0pPykpJyxcbiAgICAnP1xcXFxzKihbLSxcXFxcXCJcXFxcXFwnXFxcXHNhLXpdKz8pXFxcXHMqJCcsXG5dLmpvaW4oJycpLCAnaScpO1xudmFyIGZvbnRSZWdFeE1hdGNoSW5kZXggPSBbXG4gICAgJ3N0eWxlJyxcbiAgICAndmFyaWFudCcsXG4gICAgJ3dlaWdodCcsXG4gICAgJ3NpemUnLFxuICAgICdsaW5lSGVpZ2h0JyxcbiAgICAnZmFtaWx5Jyxcbl07XG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiBmb250IGZhbWlsaWVzIGZyb20gYSBmb250IHNwZWMuICBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IHdvcmtcbiAqIGZvciBmb250IGZhbWlsaWVzIHRoYXQgaGF2ZSBjb21tYXMgaW4gdGhlbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBUaGUgQ1NTIGZvbnQgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtGb250UGFyYW1ldGVyc30gVGhlIGZvbnQgcGFyYW1ldGVycyAob3IgbnVsbCBpZiB0aGUgaW5wdXQgc3BlYyBpcyBpbnZhbGlkKS5cbiAqL1xuZXhwb3J0IHZhciBnZXRGb250UGFyYW1ldGVycyA9IGZ1bmN0aW9uIChmb250U3BlYykge1xuICAgIHZhciBtYXRjaCA9IGZvbnRTcGVjLm1hdGNoKGZvbnRSZWdFeCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHN0eWxlID0gLyoqIEB0eXBlIHtGb250UGFyYW1ldGVyc30gKi8gKHtcbiAgICAgICAgbGluZUhlaWdodDogJ25vcm1hbCcsXG4gICAgICAgIHNpemU6ICcxLjJlbScsXG4gICAgICAgIHN0eWxlOiAnbm9ybWFsJyxcbiAgICAgICAgd2VpZ2h0OiAnbm9ybWFsJyxcbiAgICAgICAgdmFyaWFudDogJ25vcm1hbCcsXG4gICAgfSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udFJlZ0V4TWF0Y2hJbmRleC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoW2kgKyAxXTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0eWxlW2ZvbnRSZWdFeE1hdGNoSW5kZXhbaV1dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3R5bGUuZmFtaWxpZXMgPSBzdHlsZS5mYW1pbHkuc3BsaXQoLyxcXHM/Lyk7XG4gICAgcmV0dXJuIHN0eWxlO1xufTtcbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eSAoMC4uMSkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENTUyBvcGFjaXR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzT3BhY2l0eShvcGFjaXR5KSB7XG4gICAgcmV0dXJuIG9wYWNpdHkgPT09IDEgPyAnJyA6IFN0cmluZyhNYXRoLnJvdW5kKG9wYWNpdHkgKiAxMDApIC8gMTAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy5qcy5tYXAiLCJpbXBvcnQgeyBXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUyB9IGZyb20gJy4vaGFzLmpzJztcbi8qKlxuICogQG1vZHVsZSBvbC9kb21cbiAqL1xuLy9GSVhNRSBNb3ZlIHRoaXMgZnVuY3Rpb24gdG8gdGhlIGNhbnZhcyBtb2R1bGVcbi8qKlxuICogQ3JlYXRlIGFuIGh0bWwgY2FudmFzIGVsZW1lbnQgYW5kIHJldHVybnMgaXRzIDJkIGNvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF93aWR0aF0gQ2FudmFzIHdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfaGVpZ2h0XSBDYW52YXMgaGVpZ2h0LlxuICogQHBhcmFtIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59IFtvcHRfY2FudmFzUG9vbF0gQ2FudmFzIHBvb2wgdG8gdGFrZSBleGlzdGluZyBjYW52YXMgZnJvbS5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEU2V0dGluZ3N9IFtvcHRfQ29udGV4dDJEU2V0dGluZ3NdIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFNldHRpbmdzXG4gKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FudmFzQ29udGV4dDJEKG9wdF93aWR0aCwgb3B0X2hlaWdodCwgb3B0X2NhbnZhc1Bvb2wsIG9wdF9Db250ZXh0MkRTZXR0aW5ncykge1xuICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSAqL1xuICAgIHZhciBjYW52YXM7XG4gICAgaWYgKG9wdF9jYW52YXNQb29sICYmIG9wdF9jYW52YXNQb29sLmxlbmd0aCkge1xuICAgICAgICBjYW52YXMgPSBvcHRfY2FudmFzUG9vbC5zaGlmdCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUykge1xuICAgICAgICBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKG9wdF93aWR0aCB8fCAzMDAsIG9wdF9oZWlnaHQgfHwgMzAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBpZiAob3B0X3dpZHRoKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9wdF93aWR0aDtcbiAgICB9XG4gICAgaWYgKG9wdF9oZWlnaHQpIHtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdF9oZWlnaHQ7XG4gICAgfVxuICAgIC8vRklYTUUgQWxsb3cgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIGFzIHJldHVybiB0eXBlXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqLyAoY2FudmFzLmdldENvbnRleHQoJzJkJywgb3B0X0NvbnRleHQyRFNldHRpbmdzKSk7XG59XG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBjb21wdXRlZCB3aWR0aCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgaW5jbHVkaW5nIG1hcmdpbixcbiAqIHBhZGRpbmcgYW5kIGJvcmRlci5cbiAqIEVxdWl2YWxlbnQgdG8galF1ZXJ5J3MgYCQoZWwpLm91dGVyV2lkdGgodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHdpZHRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3V0ZXJXaWR0aChlbGVtZW50KSB7XG4gICAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIHdpZHRoICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQsIDEwKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0LCAxMCk7XG4gICAgcmV0dXJuIHdpZHRoO1xufVxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgaGVpZ2h0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBpbmNsdWRpbmcgbWFyZ2luLFxuICogcGFkZGluZyBhbmQgYm9yZGVyLlxuICogRXF1aXZhbGVudCB0byBqUXVlcnkncyBgJChlbCkub3V0ZXJIZWlnaHQodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGhlaWdodC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVySGVpZ2h0KGVsZW1lbnQpIHtcbiAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBoZWlnaHQgKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wLCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKTtcbiAgICByZXR1cm4gaGVpZ2h0O1xufVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgTm9kZSB0byByZXBsYWNlIG9sZCBub2RlXG4gKiBAcGFyYW0ge05vZGV9IG9sZE5vZGUgVGhlIG5vZGUgdG8gYmUgcmVwbGFjZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VOb2RlKG5ld05vZGUsIG9sZE5vZGUpIHtcbiAgICB2YXIgcGFyZW50ID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUuXG4gKiBAcmV0dXJuIHtOb2RlfSBUaGUgbm9kZSB0aGF0IHdhcyByZW1vdmVkIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBjaGlsZHJlbiBmcm9tLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4obm9kZSkge1xuICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgICB9XG59XG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgY2hpbGRyZW4gb2YgYSBwYXJlbnQgbm9kZSBzbyB0aGV5IG1hdGNoIHRoZVxuICogcHJvdmlkZWQgbGlzdCBvZiBjaGlsZHJlbi4gIFRoaXMgZnVuY3Rpb24gYWltcyB0byBlZmZpY2llbnRseVxuICogcmVtb3ZlLCBhZGQsIGFuZCByZW9yZGVyIGNoaWxkIG5vZGVzIHdoaWxlIG1haW50YWluaW5nIGEgc2ltcGxlXG4gKiBpbXBsZW1lbnRhdGlvbiAoaXQgaXMgbm90IGd1YXJhbnRlZWQgdG8gbWluaW1pemUgRE9NIG9wZXJhdGlvbnMpLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBwYXJlbnQgbm9kZSB3aG9zZSBjaGlsZHJlbiBuZWVkIHJld29ya2luZy5cbiAqIEBwYXJhbSB7QXJyYXk8Tm9kZT59IGNoaWxkcmVuIFRoZSBkZXNpcmVkIGNoaWxkcmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUNoaWxkcmVuKG5vZGUsIGNoaWxkcmVuKSB7XG4gICAgdmFyIG9sZENoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgIGZvciAodmFyIGkgPSAwOyB0cnVlOyArK2kpIHtcbiAgICAgICAgdmFyIG9sZENoaWxkID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICAgIHZhciBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAvLyBjaGVjayBpZiBvdXIgd29yayBpcyBkb25lXG4gICAgICAgIGlmICghb2xkQ2hpbGQgJiYgIW5ld0NoaWxkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBjaGlsZHJlbiBtYXRjaFxuICAgICAgICBpZiAob2xkQ2hpbGQgPT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBhIG5ldyBjaGlsZCBuZWVkcyB0byBiZSBhZGRlZFxuICAgICAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGFuIG9sZCBjaGlsZCBuZWVkcyB0byBiZSByZW1vdmVkXG4gICAgICAgIGlmICghbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGQpO1xuICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVvcmRlclxuICAgICAgICBub2RlLmluc2VydEJlZm9yZShuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhc1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IHsgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7IGdldEZvbnRQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vY3NzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZSBGaWxsU3R5bGUuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgTGFiZWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCBXaWR0aC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmd8bnVtYmVyPn0gY29udGV4dEluc3RydWN0aW9ucyBDb250ZXh0SW5zdHJ1Y3Rpb25zLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpbGxTdHJva2VTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY3VycmVudEZpbGxTdHlsZV0gQ3VycmVudCBGaWxsU3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjdXJyZW50U3Ryb2tlU3R5bGVdIEN1cnJlbnQgU3Ryb2tlU3R5bGUuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtjdXJyZW50TGluZUNhcF0gQ3VycmVudCBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBjdXJyZW50TGluZURhc2ggQ3VycmVudCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudExpbmVEYXNoT2Zmc2V0XSBDdXJyZW50IExpbmVEYXNoT2Zmc2V0LlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW2N1cnJlbnRMaW5lSm9pbl0gQ3VycmVudCBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudExpbmVXaWR0aF0gQ3VycmVudCBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRNaXRlckxpbWl0XSBDdXJyZW50IE1pdGVyTGltaXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xhc3RTdHJva2VdIExhc3Qgc3Ryb2tlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbFN0eWxlXSBGaWxsU3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2VTdHlsZV0gU3Ryb2tlU3R5bGUuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtsaW5lQ2FwXSBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZURhc2hPZmZzZXRdIExpbmVEYXNoT2Zmc2V0LlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW2xpbmVKb2luXSBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZVdpZHRoXSBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXRdIE1pdGVyTGltaXQuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gbGluZUNhcCBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVXaWR0aCBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlckxpbWl0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBzdHJva2VTdHlsZSBTdHJva2VTdHlsZS5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0U3RhdGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RleHRBbGlnbl0gVGV4dEFsaWduLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRleHRCYXNlbGluZSBUZXh0QmFzZWxpbmUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BsYWNlbWVudF0gUGxhY2VtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhBbmdsZV0gTWF4QW5nbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvd10gT3ZlcmZsb3cuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRGaWxsXSBCYWNrZ3JvdW5kRmlsbC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBCYWNrZ3JvdW5kU3Ryb2tlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nXSBQYWRkaW5nLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcmlhbGl6YWJsZUluc3RydWN0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaW5zdHJ1Y3Rpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIFRoZSBhcnJheSBvZiBhbGwgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBUZXh0U3RhdGU+fSBbdGV4dFN0YXRlc10gVGhlIHRleHQgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgRmlsbFN0YXRlPn0gW2ZpbGxTdGF0ZXNdIFRoZSBmaWxsIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFN0cm9rZVN0YXRlPn0gW3N0cm9rZVN0YXRlc10gVGhlIHN0cm9rZSBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdDxudW1iZXIsIGltcG9ydChcIi4vY2FudmFzL0V4ZWN1dG9yLmpzXCIpLlJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSBEZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XG4gKi9cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRGb250ID0gJzEwcHggc2Fucy1zZXJpZic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdEZpbGxTdHlsZSA9ICcjMDAwJztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzTGluZUNhcH1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUNhcCA9ICdyb3VuZCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVEYXNoID0gW107XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZURhc2hPZmZzZXQgPSAwO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUpvaW4gPSAncm91bmQnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdE1pdGVyTGltaXQgPSAxMDtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0U3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEFsaWduID0gJ2NlbnRlcic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZVdpZHRoID0gMTtcbi8qKlxuICogQHR5cGUge0Jhc2VPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgY2hlY2tlZEZvbnRzID0gbmV3IEJhc2VPYmplY3QoKTtcbi8qKlxuICogVGhlIGxhYmVsIGNhY2hlIGZvciB0ZXh0IHJlbmRlcmluZy4gVG8gY2hhbmdlIHRoZSBkZWZhdWx0IGNhY2hlIHNpemUgb2YgMjA0OFxuICogZW50cmllcywgdXNlIHtAbGluayBtb2R1bGU6b2wvc3RydWN0cy9MUlVDYWNoZX5MUlVDYWNoZSNzZXRTaXplIGNhY2hlLnNldFNpemUoKX0uXG4gKiBEZXByZWNhdGVkIC0gdGhlcmUgaXMgbm8gbGFiZWwgY2FjaGUgYW55IG1vcmUuXG4gKiBAdHlwZSB7P31cbiAqIEBhcGlcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCB2YXIgbGFiZWxDYWNoZSA9IG5ldyBFdmVudFRhcmdldCgpO1xubGFiZWxDYWNoZS5zZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUud2FybignbGFiZWxDYWNoZSBpcyBkZXByZWNhdGVkLicpOyAvL2VzbGludC1kaXNhYmxlLWxpbmVcbn07XG4vKipcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKi9cbnZhciBtZWFzdXJlQ29udGV4dCA9IG51bGw7XG4vKipcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBtZWFzdXJlRm9udDtcbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICovXG5leHBvcnQgdmFyIHRleHRIZWlnaHRzID0ge307XG4vKipcbiAqIENsZWFycyB0aGUgbGFiZWwgY2FjaGUgd2hlbiBhIGZvbnQgYmVjb21lcyBhdmFpbGFibGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udFNwZWMgQ1NTIGZvbnQgc3BlYy5cbiAqL1xuZXhwb3J0IHZhciByZWdpc3RlckZvbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXRyaWVzID0gMTAwO1xuICAgIHZhciBzaXplID0gJzMycHggJztcbiAgICB2YXIgcmVmZXJlbmNlRm9udHMgPSBbJ21vbm9zcGFjZScsICdzZXJpZiddO1xuICAgIHZhciBsZW4gPSByZWZlcmVuY2VGb250cy5sZW5ndGg7XG4gICAgdmFyIHRleHQgPSAnd215dHppbFdNWVRaSUxAIy8mPyQlMTBcXHVGMDEzJztcbiAgICB2YXIgaW50ZXJ2YWwsIHJlZmVyZW5jZVdpZHRoO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgQ3NzIGZvbnQtc3R5bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udFdlaWdodCBDc3MgZm9udC13ZWlnaHRcbiAgICAgKiBAcGFyYW0geyp9IGZvbnRGYW1pbHkgQ3NzIGZvbnQtZmFtaWx5XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRm9udCB3aXRoIHN0eWxlIGFuZCB3ZWlnaHQgaXMgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdmFpbGFibGUoZm9udFN0eWxlLCBmb250V2VpZ2h0LCBmb250RmFtaWx5KSB7XG4gICAgICAgIHZhciBhdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlRm9udCA9IHJlZmVyZW5jZUZvbnRzW2ldO1xuICAgICAgICAgICAgcmVmZXJlbmNlV2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnRTdHlsZSArICcgJyArIGZvbnRXZWlnaHQgKyAnICcgKyBzaXplICsgcmVmZXJlbmNlRm9udCwgdGV4dCk7XG4gICAgICAgICAgICBpZiAoZm9udEZhbWlseSAhPSByZWZlcmVuY2VGb250KSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250U3R5bGUgK1xuICAgICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSArXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgK1xuICAgICAgICAgICAgICAgICAgICAnLCcgK1xuICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VGb250LCB0ZXh0KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3aWR0aCBhbmQgcmVmZXJlbmNlV2lkdGggYXJlIHRoZSBzYW1lLCB0aGVuIHRoZSBmYWxsYmFjayB3YXMgdXNlZFxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgdGhlIGZvbnQgd2Ugd2FudGVkLCBzbyB0aGUgZm9udCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZSA9IGF2YWlsYWJsZSAmJiB3aWR0aCAhPSByZWZlcmVuY2VXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXZhaWxhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgICAgICB2YXIgZG9uZSA9IHRydWU7XG4gICAgICAgIHZhciBmb250cyA9IGNoZWNrZWRGb250cy5nZXRLZXlzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZvbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBmb250ID0gZm9udHNbaV07XG4gICAgICAgICAgICBpZiAoY2hlY2tlZEZvbnRzLmdldChmb250KSA8IHJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBdmFpbGFibGUuYXBwbHkodGhpcywgZm9udC5zcGxpdCgnXFxuJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKHRleHRIZWlnaHRzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbG9hZGVkIGZvbnRzIGFyZSBwaWNrZWQgdXAgYnkgU2FmYXJpXG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUZvbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgcmV0cmllcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkRm9udHMuc2V0KGZvbnQsIGNoZWNrZWRGb250cy5nZXQoZm9udCkgKyAxLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICBpbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgICAgIHZhciBmb250ID0gZ2V0Rm9udFBhcmFtZXRlcnMoZm9udFNwZWMpO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmFtaWxpZXMgPSBmb250LmZhbWlsaWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmYW1pbGllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gZmFtaWxpZXNbaV07XG4gICAgICAgICAgICB2YXIga2V5ID0gZm9udC5zdHlsZSArICdcXG4nICsgZm9udC53ZWlnaHQgKyAnXFxuJyArIGZhbWlseTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkRm9udHMuZ2V0KGtleSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCByZXRyaWVzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXZhaWxhYmxlKGZvbnQuc3R5bGUsIGZvbnQud2VpZ2h0LCBmYW1pbHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVydmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoY2hlY2ssIDMyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250IHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBNZWFzdXJlbWVudC5cbiAqL1xuZXhwb3J0IHZhciBtZWFzdXJlVGV4dEhlaWdodCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAqL1xuICAgIHZhciBtZWFzdXJlRWxlbWVudDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0SGVpZ2h0c1tmb250U3BlY107XG4gICAgICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICAgICAgICAgICAgICB2YXIgbWV0cmljcyA9IG1lYXN1cmVUZXh0KGZvbnRTcGVjLCAnxb1nJyk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBpc05hTihOdW1iZXIoZm9udC5saW5lSGVpZ2h0KSlcbiAgICAgICAgICAgICAgICAgICAgPyAxLjJcbiAgICAgICAgICAgICAgICAgICAgOiBOdW1iZXIoZm9udC5saW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtZWFzdXJlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudC5pbm5lckhUTUwgPSAnTSc7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUubGVmdCA9ICctOTk5OTlweCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnQgPSBmb250U3BlYztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lYXN1cmVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBtZWFzdXJlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtZWFzdXJlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0c1tmb250U3BlY10gPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gKiBAcmV0dXJuIHtUZXh0TWV0cmljc30gVGV4dCBtZXRyaWNzLlxuICovXG5mdW5jdGlvbiBtZWFzdXJlVGV4dChmb250LCB0ZXh0KSB7XG4gICAgaWYgKCFtZWFzdXJlQ29udGV4dCkge1xuICAgICAgICBtZWFzdXJlQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICB9XG4gICAgaWYgKGZvbnQgIT0gbWVhc3VyZUZvbnQpIHtcbiAgICAgICAgbWVhc3VyZUNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIG1lYXN1cmVGb250ID0gbWVhc3VyZUNvbnRleHQuZm9udDtcbiAgICB9XG4gICAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpIHtcbiAgICByZXR1cm4gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkud2lkdGg7XG59XG4vKipcbiAqIE1lYXN1cmUgdGV4dCB3aWR0aCB1c2luZyBhIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGxvb2t1cCBvZiBjYWNoZWQgd2lkdGhzIGJ5IHRleHQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB0ZXh0IHdpZHRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlKSB7XG4gICAgaWYgKHRleHQgaW4gY2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW3RleHRdO1xuICAgIH1cbiAgICB2YXIgd2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpO1xuICAgIGNhY2hlW3RleHRdID0gd2lkdGg7XG4gICAgcmV0dXJuIHdpZHRoO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250IHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBsaW5lcyBMaW5lcyB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB3aWR0aHMgQXJyYXkgd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCB0aGUgd2lkdGhzIG9mXG4gKiBlYWNoIGxpbmUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoIG9mIHRoZSB3aG9sZSB0ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZVRleHRXaWR0aHMoZm9udCwgbGluZXMsIHdpZHRocykge1xuICAgIHZhciBudW1MaW5lcyA9IGxpbmVzLmxlbmd0aDtcbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250LCBsaW5lc1tpXSk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGN1cnJlbnRXaWR0aCk7XG4gICAgICAgIHdpZHRocy5wdXNoKGN1cnJlbnRXaWR0aCk7XG4gICAgfVxuICAgIHJldHVybiB3aWR0aDtcbn1cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIFggb2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFkgWSBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUocm90YXRpb24pO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybXxudWxsfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBwYXJhbSB7TGFiZWx8SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBsYWJlbE9ySW1hZ2UgTGFiZWwuXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGguXG4gKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdJbWFnZU9yTGFiZWwoY29udGV4dCwgdHJhbnNmb3JtLCBvcGFjaXR5LCBsYWJlbE9ySW1hZ2UsIG9yaWdpblgsIG9yaWdpblksIHcsIGgsIHgsIHksIHNjYWxlKSB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgaWYgKG9wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSAqPSBvcGFjaXR5O1xuICAgIH1cbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIHRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGlmICggLyoqIEB0eXBlIHsqfSAqLyhsYWJlbE9ySW1hZ2UpLmNvbnRleHRJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdKTtcbiAgICAgICAgZXhlY3V0ZUxhYmVsSW5zdHJ1Y3Rpb25zKC8qKiBAdHlwZSB7TGFiZWx9ICovIChsYWJlbE9ySW1hZ2UpLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NhbGVbMF0gPCAwIHx8IHNjYWxlWzFdIDwgMCkge1xuICAgICAgICAvLyBmbGlwcGVkIGltYWdlXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKGxhYmVsT3JJbWFnZSksIG9yaWdpblgsIG9yaWdpblksIHcsIGgsIDAsIDAsIHcsIGgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaWYgaW1hZ2Ugbm90IGZsaXBwZWQgdHJhbnNsYXRlIGFuZCBzY2FsZSBjYW4gYmUgYXZvaWRlZFxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChsYWJlbE9ySW1hZ2UpLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCB3ICogc2NhbGVbMF0sIGggKiBzY2FsZVsxXSk7XG4gICAgfVxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0xhYmVsfSBsYWJlbCBMYWJlbC5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucyhsYWJlbCwgY29udGV4dCkge1xuICAgIHZhciBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gbGFiZWwuY29udGV4dEluc3RydWN0aW9ucztcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb250ZXh0SW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dEluc3RydWN0aW9uc1tpICsgMV0pKSB7XG4gICAgICAgICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dLmFwcGx5KGNvbnRleHQsIGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHRbY29udGV4dEluc3RydWN0aW9uc1tpXV0gPSBjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL0NvbXBvc2l0ZVxuICovXG5pbXBvcnQgTWFwUmVuZGVyZXIgZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgY2hlY2tlZEZvbnRzIH0gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVwbGFjZUNoaWxkcmVuIH0gZnJvbSAnLi4vZG9tLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIG1hcCByZW5kZXJlci5cbiAqIEBhcGlcbiAqL1xudmFyIENvbXBvc2l0ZU1hcFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21wb3NpdGVNYXBSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvc2l0ZU1hcFJlbmRlcmVyKG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtYXApIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4oY2hlY2tlZEZvbnRzLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIG1hcC5yZWRyYXdUZXh0LmJpbmQobWFwKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgc3R5bGUgPSBfdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICAgICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBzdHlsZS56SW5kZXggPSAnMCc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9IENMQVNTX1VOU0VMRUNUQUJMRSArICcgb2wtbGF5ZXJzJztcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IG1hcC5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKF90aGlzLmVsZW1lbnRfLCBjb250YWluZXIuZmlyc3RDaGlsZCB8fCBudWxsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGlsZHJlbl8gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZU1hcFJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaFJlbmRlckV2ZW50ID0gZnVuY3Rpb24gKHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmIChtYXAuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHVuZGVmaW5lZCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgICAgICBtYXAuZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlTWF0cmljZXMyRChmcmFtZVN0YXRlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5fLmxlbmd0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWNsdXR0ZXJMYXllcnMgPSBbXTtcbiAgICAgICAgdmFyIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5sYXllckluZGV4ID0gaTtcbiAgICAgICAgICAgIGlmICghaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAobGF5ZXJTdGF0ZS5zb3VyY2VTdGF0ZSAhPSBTb3VyY2VTdGF0ZS5SRUFEWSAmJlxuICAgICAgICAgICAgICAgICAgICBsYXllclN0YXRlLnNvdXJjZVN0YXRlICE9IFNvdXJjZVN0YXRlLlVOREVGSU5FRCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGxheWVyLnJlbmRlcihmcmFtZVN0YXRlLCBwcmV2aW91c0VsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gcHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbl8ucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdnZXREZWNsdXR0ZXInIGluIGxheWVyKSB7XG4gICAgICAgICAgICAgICAgZGVjbHV0dGVyTGF5ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9CYXNlVmVjdG9yLmpzXCIpLmRlZmF1bHR9ICovIChsYXllcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWNsdXR0ZXJMYXllcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGRlY2x1dHRlckxheWVyc1tpXS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZUNoaWxkcmVuKHRoaXMuZWxlbWVudF8sIHRoaXMuY2hpbGRyZW5fKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QT1NUQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgICAqICAgICBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0Pik6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIGxheWVyRmlsdGVyKSB7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgICAgICB2YXIgbnVtTGF5ZXJzID0gbGF5ZXJTdGF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gbnVtTGF5ZXJzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNbaV07XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgaWYgKGxheWVyLmhhc1JlbmRlcmVyKCkgJiZcbiAgICAgICAgICAgICAgICBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSAmJlxuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGxheWVyUmVuZGVyZXIuZ2V0RGF0YUF0UGl4ZWwocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGxheWVyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBvc2l0ZU1hcFJlbmRlcmVyO1xufShNYXBSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ29tcG9zaXRlTWFwUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21wb3NpdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbi5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL0NvbGxlY3Rpb24uQ29sbGVjdGlvbkV2ZW50I2FkZFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBREQ6ICdhZGQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjcmVtb3ZlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJFTU9WRTogJ3JlbW92ZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbkV2ZW50VHlwZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25cbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gICAgTEVOR1RIOiAnbGVuZ3RoJyxcbn07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG52YXIgQ29sbGVjdGlvbkV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xsZWN0aW9uRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb25FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdF9lbGVtZW50XSBFbGVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2luZGV4XSBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uRXZlbnQodHlwZSwgb3B0X2VsZW1lbnQsIG9wdF9pbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gb3B0X2VsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kZXggPSBvcHRfaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbGxlY3Rpb25FdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IENvbGxlY3Rpb25FdmVudCB9O1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmxlbmd0aCcsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPCdhZGQnfCdyZW1vdmUnLCBDb2xsZWN0aW9uRXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmxlbmd0aCd8J2FkZCd8J3JlbW92ZScsUmV0dXJuPn0gQ29sbGVjdGlvbk9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbdW5pcXVlPWZhbHNlXSBEaXNhbGxvdyB0aGUgc2FtZSBpdGVtIGZyb20gYmVpbmcgYWRkZWQgdG9cbiAqIHRoZSBjb2xsZWN0aW9uIHR3aWNlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFuIGV4cGFuZGVkIHZlcnNpb24gb2Ygc3RhbmRhcmQgSlMgQXJyYXksIGFkZGluZyBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogbWFuaXB1bGF0aW9uLiBBZGQgYW5kIHJlbW92ZSBjaGFuZ2VzIHRvIHRoZSBDb2xsZWN0aW9uIHRyaWdnZXIgYSBDb2xsZWN0aW9uXG4gKiBldmVudC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY292ZXIgY2hhbmdlcyB0byB0aGUgb2JqZWN0cyBfd2l0aGluXyB0aGVcbiAqIENvbGxlY3Rpb247IHRoZXkgdHJpZ2dlciBldmVudHMgb24gdGhlIGFwcHJvcHJpYXRlIG9iamVjdCwgbm90IG9uIHRoZVxuICogQ29sbGVjdGlvbiBhcyBhIHdob2xlLlxuICpcbiAqIEBmaXJlcyBDb2xsZWN0aW9uRXZlbnRcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQGFwaVxuICovXG52YXIgQ29sbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29sbGVjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PFQ+fSBbb3B0X2FycmF5XSBBcnJheS5cbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gQ29sbGVjdGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24ob3B0X2FycmF5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0NvbGxlY3Rpb25PblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmlxdWVfID0gISFvcHRpb25zLnVuaXF1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8VD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hcnJheV8gPSBvcHRfYXJyYXkgPyBvcHRfYXJyYXkgOiBbXTtcbiAgICAgICAgaWYgKF90aGlzLnVuaXF1ZV8pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IF90aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXNzZXJ0VW5pcXVlXyhfdGhpcy5hcnJheV9baV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5nZXRMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50cyB0byB0aGUgY29sbGVjdGlvbi4gIFRoaXMgcHVzaGVzIGVhY2ggaXRlbSBpbiB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgICAgKiB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxUPn0gVGhpcyBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goYXJyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCBBcnJheTxUPik6ICp9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGxcbiAgICAgKiAgICAgZm9yIGV2ZXJ5IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHRoZSBlbGVtZW50LCB0aGVcbiAgICAgKiAgICAgaW5kZXggYW5kIHRoZSBhcnJheSkuIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXlfO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBBcnJheSBvYmplY3QuIFdhcm5pbmc6IGlmIHRoZSBhcnJheVxuICAgICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICAgKiBjb2xsZWN0aW9uJ3MgXCJsZW5ndGhcIiBwcm9wZXJ0eSB3b24ndCBiZSBpbiBzeW5jIHdpdGggdGhlIGFjdHVhbCBsZW5ndGhcbiAgICAgKiBvZiB0aGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFByb3BlcnR5LkxFTkdUSCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYW4gZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIChpbmRleCwgZWxlbSkge1xuICAgICAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICAgICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IHRoZSBwcm92aWRlZCBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgdGhpcy5pbnNlcnRBdChuLCBlbGVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBlbGVtZW50IG9yIHVuZGVmaW5lZCBpZiBub25lIGZvdW5kLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgYXJyID0gdGhpcy5hcnJheV87XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXggYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVmFsdWUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgICAgICB0aGlzLmFycmF5Xy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDb2xsZWN0aW9uRXZlbnQoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHByZXYsIGluZGV4KSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNldEF0ID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbikge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldiA9IHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICAgICAgICAgIHRoaXMuYXJyYXlfW2luZGV4XSA9IGVsZW07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG47IGogPCBpbmRleDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChqLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChpbmRleCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudXBkYXRlTGVuZ3RoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9leGNlcHRdIE9wdGlvbmFsIGluZGV4IHRvIGlnbm9yZS5cbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5hc3NlcnRVbmlxdWVfID0gZnVuY3Rpb24gKGVsZW0sIG9wdF9leGNlcHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJyYXlfW2ldID09PSBlbGVtICYmIGkgIT09IG9wdF9leGNlcHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoNTgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29sbGVjdGlvbjtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29sbGVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbGxlY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Hcm91cFxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiwgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgZ2V0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYgeydhZGRsYXllcid8J3JlbW92ZWxheWVyJ30gRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBsYXllciBncm91cCB0cmlnZ2VycyAnYWRkbGF5ZXInIGFuZCAncmVtb3ZlbGF5ZXInIGV2ZW50cyB3aGVuIGxheWVycyBhcmUgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tXG4gKiB0aGUgZ3JvdXAgb3Igb25lIG9mIGl0cyBjaGlsZCBncm91cHMuICBXaGVuIGEgbGF5ZXIgZ3JvdXAgaXMgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tIGFub3RoZXIgbGF5ZXIgZ3JvdXAsXG4gKiBhIHNpbmdsZSBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCAoaW5zdGVhZCBvZiBvbmUgcGVyIGxheWVyIGluIHRoZSBncm91cCBhZGRlZCBvciByZW1vdmVkKS5cbiAqL1xudmFyIEdyb3VwRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdyb3VwRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFdmVudFR5cGV9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtCYXNlTGF5ZXJ9IGxheWVyIFRoZSBsYXllci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcm91cEV2ZW50KHR5cGUsIGxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWRkZWQgb3IgcmVtb3ZlZCBsYXllci5cbiAgICAgICAgICogQHR5cGUge0Jhc2VMYXllcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gR3JvdXBFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IEdyb3VwRXZlbnQgfTtcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAgICdjaGFuZ2U6bGF5ZXJzJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3wnY2hhbmdlOmxheWVycycsIFJldHVybj59IEdyb3VwT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fGltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IFtsYXllcnNdIENoaWxkIGxheWVycy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQcm9wZXJ0eSA9IHtcbiAgICBMQVlFUlM6ICdsYXllcnMnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0gb2YgbGF5ZXJzIHRoYXQgYXJlIGhhbmRsZWQgdG9nZXRoZXIuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBncm91cC9Db2xsZWN0aW9uIGNoYW5nZXMuXG4gKlxuICogQGFwaVxuICovXG52YXIgTGF5ZXJHcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGF5ZXJHcm91cCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gTGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllckdyb3VwKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKGFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMubGF5ZXJzO1xuICAgICAgICB2YXIgbGF5ZXJzID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7R3JvdXBPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyc0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saXN0ZW5lcktleXNfID0ge307XG4gICAgICAgIF90aGlzLmFkZENoYW5nZUxpc3RlbmVyKFByb3BlcnR5LkxBWUVSUywgX3RoaXMuaGFuZGxlTGF5ZXJzQ2hhbmdlZF8pO1xuICAgICAgICBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24obGF5ZXJzLnNsaWNlKCksIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8obGF5ZXJzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsIDQzKTsgLy8gRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxheWVycyA9IG5ldyBDb2xsZWN0aW9uKHVuZGVmaW5lZCwgeyB1bmlxdWU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2V0TGF5ZXJzKGxheWVycyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllckNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLnB1c2gobGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuaGFuZGxlTGF5ZXJzQWRkXywgdGhpcyksIGxpc3RlbihsYXllcnMsIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCB0aGlzLmhhbmRsZUxheWVyc1JlbW92ZV8sIHRoaXMpKTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5saXN0ZW5lcktleXNfKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyS2V5c19baWRdLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXIodGhpcy5saXN0ZW5lcktleXNfKTtcbiAgICAgICAgdmFyIGxheWVyc0FycmF5ID0gbGF5ZXJzLmdldEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyc0FycmF5W2ldO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckxheWVyTGlzdGVuZXJzXyhsYXllcik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QmFzZUxheWVyfSBsYXllciBUaGUgbGF5ZXIuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUucmVnaXN0ZXJMYXllckxpc3RlbmVyc18gPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyS2V5cyA9IFtcbiAgICAgICAgICAgIGxpc3RlbihsYXllciwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcyksXG4gICAgICAgICAgICBsaXN0ZW4obGF5ZXIsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgbGlzdGVuZXJLZXlzLnB1c2gobGlzdGVuKGxheWVyLCAnYWRkbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBBZGRfLCB0aGlzKSwgbGlzdGVuKGxheWVyLCAncmVtb3ZlbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBSZW1vdmVfLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2dldFVpZChsYXllcildID0gbGlzdGVuZXJLZXlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtHcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgZ3JvdXAgZXZlbnQuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuaGFuZGxlTGF5ZXJHcm91cEFkZF8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdhZGRsYXllcicsIGV2ZW50LmxheWVyKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0dyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciBncm91cCBldmVudC5cbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllckdyb3VwUmVtb3ZlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgZXZlbnQubGF5ZXIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGNvbGxlY3Rpb25FdmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNBZGRfID0gZnVuY3Rpb24gKGNvbGxlY3Rpb25FdmVudCkge1xuICAgICAgICB2YXIgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0fSAqLyAoY29sbGVjdGlvbkV2ZW50LmVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdhZGRsYXllcicsIGxheWVyKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmhhbmRsZUxheWVyc1JlbW92ZV8gPSBmdW5jdGlvbiAoY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHR9ICovIChjb2xsZWN0aW9uRXZlbnQuZWxlbWVudCk7XG4gICAgICAgIHZhciBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyS2V5c19ba2V5XS5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcktleXNfW2tleV07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgncmVtb3ZlbGF5ZXInLCBsYXllcikpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbiBjb2xsZWN0aW9ufSBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyc31cbiAgICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBDb2xsZWN0aW9uIG9mXG4gICAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2UgbGF5ZXJzfSB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgZ3JvdXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LkxBWUVSUykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb24gY29sbGVjdGlvbn0gb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcnN9XG4gICAgICogaW4gdGhpcyBncm91cC5cbiAgICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgQ29sbGVjdGlvbiBvZlxuICAgICAqICAge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLnNldExheWVycyA9IGZ1bmN0aW9uIChsYXllcnMpIHtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLmdldExheWVycygpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRMYXllcnMgPSBjb2xsZWN0aW9uLmdldEFycmF5KCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjdXJyZW50TGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgY3VycmVudExheWVyc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LkxBWUVSUywgbGF5ZXJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gW29wdF9hcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmdldExheWVyc0FycmF5ID0gZnVuY3Rpb24gKG9wdF9hcnJheSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBvcHRfYXJyYXkgIT09IHVuZGVmaW5lZCA/IG9wdF9hcnJheSA6IFtdO1xuICAgICAgICB0aGlzLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBsYXllci5nZXRMYXllcnNBcnJheShhcnJheSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxheWVyIHN0YXRlcyBsaXN0IGFuZCB1c2UgdGhpcyBncm91cHMgei1pbmRleCBhcyB0aGUgZGVmYXVsdFxuICAgICAqIGZvciBhbGwgbGF5ZXJzIGluIHRoaXMgYW5kIG5lc3RlZCBncm91cHMsIGlmIGl0IGlzIHVuc2V0IGF0IHRoaXMgcG9pbnQuXG4gICAgICogSWYgb3B0X3N0YXRlcyBpcyBub3QgcHJvdmlkZWQgYW5kIHRoaXMgZ3JvdXAncyB6LWluZGV4IGlzIHVuZGVmaW5lZFxuICAgICAqIDAgaXMgdXNlZCBhIHRoZSBkZWZhdWx0IHotaW5kZXguXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gW29wdF9zdGF0ZXNdIE9wdGlvbmFsIGxpc3RcbiAgICAgKiBvZiBsYXllciBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIChvcHRfc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzICE9PSB1bmRlZmluZWQgPyBvcHRfc3RhdGVzIDogW107XG4gICAgICAgIHZhciBwb3MgPSBzdGF0ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBsYXllci5nZXRMYXllclN0YXRlc0FycmF5KHN0YXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb3duTGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgZGVmYXVsdFpJbmRleCA9IG93bkxheWVyU3RhdGUuekluZGV4O1xuICAgICAgICBpZiAoIW9wdF9zdGF0ZXMgJiYgb3duTGF5ZXJTdGF0ZS56SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVmYXVsdFpJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHBvcywgaWkgPSBzdGF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBzdGF0ZXNbaV07XG4gICAgICAgICAgICBsYXllclN0YXRlLm9wYWNpdHkgKj0gb3duTGF5ZXJTdGF0ZS5vcGFjaXR5O1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS52aXNpYmxlID0gbGF5ZXJTdGF0ZS52aXNpYmxlICYmIG93bkxheWVyU3RhdGUudmlzaWJsZTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbiA9IE1hdGgubWluKGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiA9IE1hdGgubWF4KGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWluWm9vbSA9IE1hdGgubWF4KGxheWVyU3RhdGUubWluWm9vbSwgb3duTGF5ZXJTdGF0ZS5taW5ab29tKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWF4Wm9vbSA9IE1hdGgubWluKGxheWVyU3RhdGUubWF4Wm9vbSwgb3duTGF5ZXJTdGF0ZS5tYXhab29tKTtcbiAgICAgICAgICAgIGlmIChvd25MYXllclN0YXRlLmV4dGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obGF5ZXJTdGF0ZS5leHRlbnQsIG93bkxheWVyU3RhdGUuZXh0ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50ID0gb3duTGF5ZXJTdGF0ZS5leHRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxheWVyU3RhdGUuekluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsYXllclN0YXRlLnpJbmRleCA9IGRlZmF1bHRaSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2Ugc3RhdGUuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTb3VyY2VTdGF0ZS5SRUFEWTtcbiAgICB9O1xuICAgIHJldHVybiBMYXllckdyb3VwO1xufShCYXNlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IExheWVyR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hcm91cC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL01hcEV2ZW50XG4gKi9cbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9QbHVnZ2FibGVNYXB+UGx1Z2dhYmxlTWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgZXZlbnQuXG4gKi9cbnZhciBNYXBFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gW29wdF9mcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBFdmVudCh0eXBlLCBtYXAsIG9wdF9mcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZSBzdGF0ZSBhdCB0aGUgdGltZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZnJhbWVTdGF0ZSA9IG9wdF9mcmFtZVN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRfZnJhbWVTdGF0ZSA6IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE1hcEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFwRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBFdmVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudFxuICovXG5pbXBvcnQgTWFwRXZlbnQgZnJvbSAnLi9NYXBFdmVudC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBicm93c2VyIGV2ZW50cyBhcmUgaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL1BsdWdnYWJsZU1hcH5QbHVnZ2FibGVNYXB9IGZvciB3aGljaCBldmVudHMgdHJpZ2dlciBhIG1hcCBicm93c2VyIGV2ZW50LlxuICogQHRlbXBsYXRlIHtVSUV2ZW50fSBFVkVOVFxuICovXG52YXIgTWFwQnJvd3NlckV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXBCcm93c2VyRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQHBhcmFtIHtFVkVOVH0gb3JpZ2luYWxFdmVudCBPcmlnaW5hbCBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfZHJhZ2dpbmddIElzIHRoZSBtYXAgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQ/XG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gW29wdF9mcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnQodHlwZSwgbWFwLCBvcmlnaW5hbEV2ZW50LCBvcHRfZHJhZ2dpbmcsIG9wdF9mcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUsIG1hcCwgb3B0X2ZyYW1lU3RhdGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtFVkVOVH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29vcmRpbmF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBtYXAgaXMgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQuIE9ubHkgc2V0IGZvclxuICAgICAgICAgKiBgUE9JTlRFUkRSQUdgIGFuZCBgUE9JTlRFUk1PVkVgIGV2ZW50cy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhZ2dpbmcgPSBvcHRfZHJhZ2dpbmcgIT09IHVuZGVmaW5lZCA/IG9wdF9kcmFnZ2luZyA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLCBcInBpeGVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgcGl4ZWwgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGl4ZWxfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbF8gPSB0aGlzLm1hcC5nZXRFdmVudFBpeGVsKHRoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXhlbF87XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgICAgICB0aGlzLnBpeGVsXyA9IHBpeGVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUsIFwiY29vcmRpbmF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LiAgVGhpcyB3aWxsIGJlIGluIHRoZSB1c2VyXG4gICAgICAgICAqIHByb2plY3Rpb24gaWYgb25lIGlzIHNldC4gIE90aGVyd2lzZSBpdCB3aWxsIGJlIGluIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29vcmRpbmF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVfID0gdGhpcy5tYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCh0aGlzLnBpeGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVfO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVfID0gY29vcmRpbmF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJyb3dzZXIgYWN0aW9uLlxuICAgICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQucHJldmVudERlZmF1bHQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKCdwcmV2ZW50RGVmYXVsdCcgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGZ1cnRoZXIgcHJvcGFnYXRpb24gb2YgdGhlIGN1cnJlbnQgZXZlbnQuXG4gICAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ldmVudC5zdG9wUHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoJ3N0b3BQcm9wYWdhdGlvbicgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWFwQnJvd3NlckV2ZW50O1xufShNYXBFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFwQnJvd3NlckV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwQnJvd3NlckV2ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRUeXBlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICAgKiBldmVudCBpcyBkZWxheWVkIGJ5IDI1MCBtcyB0byBlbnN1cmUgdGhhdCBpdCBpcyBub3QgYSBkb3VibGUgY2xpY2suXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3NpbmdsZWNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNJTkdMRUNMSUNLOiAnc2luZ2xlY2xpY2snLFxuICAgIC8qKlxuICAgICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNjbGlja1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDTElDSzogRXZlbnRUeXBlLkNMSUNLLFxuICAgIC8qKlxuICAgICAqIEEgdHJ1ZSBkb3VibGUgY2xpY2ssIHdpdGggbm8gZHJhZ2dpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBwb2ludGVyIGlzIGRyYWdnZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPSU5URVJEUkFHOiAncG9pbnRlcmRyYWcnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgICAqIHRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgaXMgcGFubmVkLCBzbyBpcyBub3QgdGhlIHNhbWUgYXMgbW91c2Vtb3ZlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNwb2ludGVybW92ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8qKipcbiAqIEB0eXBlZGVmIHsnc2luZ2xlY2xpY2snfCdjbGljayd8J2RibGNsaWNrJ3wncG9pbnRlcmRyYWcnfCdwb2ludGVybW92ZSd9IFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlclxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IFBvaW50ZXJFdmVudFR5cGUgZnJvbSAnLi9wb2ludGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgeyBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyB9IGZyb20gJy4vaGFzLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG52YXIgTWFwQnJvd3NlckV2ZW50SGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwQnJvd3NlckV2ZW50SGFuZGxlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBUaGUgbWFwIHdpdGggdGhlIHZpZXdwb3J0IHRvIGxpc3RlbiB0byBldmVudHMgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttb3ZlVG9sZXJhbmNlXSBUaGUgbWluaW1hbCBkaXN0YW5jZSB0aGUgcG9pbnRlciBtdXN0IHRyYXZlbCB0byB0cmlnZ2VyIGEgbW92ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnRIYW5kbGVyKG1hcCwgbW92ZVRvbGVyYW5jZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtYXApIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBlbGVtZW50IHRoYXQgd2Ugd2lsbCBsaXN0ZW4gdG8gdGhlIHJlYWwgZXZlbnRzIG9uLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBtYXA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7YW55fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xpY2tUaW1lb3V0SWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW11bGF0ZSBkYmxjbGljayBhbmQgc2luZ2xlY2xpY2suIFdpbGwgYmUgdHJ1ZSB3aGVuIG9ubHkgb25lIHBvaW50ZXIgaXMgYWN0aXZlLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtdWxhdGVDbGlja3NfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhZ0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlVG9sZXJhbmNlXyA9IG1vdmVUb2xlcmFuY2UgPT09IHVuZGVmaW5lZCA/IDEgOiBtb3ZlVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50IFwiZG93blwiIHR5cGUgZXZlbnQgKG9yIG51bGwgaWYgbm9uZSBoYXZlIG9jY3VycmVkKS5cbiAgICAgICAgICogU2V0IG9uIHBvaW50ZXJkb3duLlxuICAgICAgICAgKiBAdHlwZSB7UG9pbnRlckV2ZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZG93bl8gPSBudWxsO1xuICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLm1hcF8uZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVQb2ludGVyc18gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLCBib29sZWFuPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYWNrZWRUb3VjaGVzXyA9IHt9O1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbGlzdGVuKGVsZW1lbnQsIFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sIF90aGlzLmhhbmRsZVBvaW50ZXJEb3duXywgX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BvaW50ZXJFdmVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBsaXN0ZW4oZWxlbWVudCwgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgX3RoaXMucmVsYXlFdmVudF8sIF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8gPSBfdGhpcy5oYW5kbGVUb3VjaE1vdmVfLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UT1VDSE1PVkUsIF90aGlzLmJvdW5kSGFuZGxlVG91Y2hNb3ZlXywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5lbXVsYXRlQ2xpY2tfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tUaW1lb3V0SWRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGRvdWJsZS1jbGlja1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lb3V0SWRfKTtcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjbGlja1xuICAgICAgICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgLyoqIEB0aGlzIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfSAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDI1MCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRyYWNrIG9uIGhvdyBtYW55IHBvaW50ZXJzIGFyZSBjdXJyZW50bHkgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVBY3RpdmVQb2ludGVyc18gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAgfHxcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50cmFja2VkVG91Y2hlc19bZXZlbnQucG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tlZFRvdWNoZXNfW2V2ZW50LnBvaW50ZXJJZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkVG91Y2hlc18pLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlclVwXyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAvLyBXZSBlbXVsYXRlIGNsaWNrIGV2ZW50cyBvbiBsZWZ0IG1vdXNlIGJ1dHRvbiBjbGljaywgdG91Y2ggY29udGFjdCwgYW5kIHBlblxuICAgICAgICAvLyBjb250YWN0LiBpc01vdXNlQWN0aW9uQnV0dG9uIHJldHVybnMgdHJ1ZSBpbiB0aGVzZSBjYXNlcyAoZXZ0LmJ1dHRvbiBpcyBzZXRcbiAgICAgICAgLy8gdG8gMCkuXG4gICAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyNidXR0b24tc3RhdGVzXG4gICAgICAgIC8vIFdlIG9ubHkgZmlyZSBjbGljaywgc2luZ2xlY2xpY2ssIGFuZCBkb3VibGVjbGljayBpZiBub2JvZHkgaGFzIGNhbGxlZFxuICAgICAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLlxuICAgICAgICBpZiAodGhpcy5lbXVsYXRlQ2xpY2tzXyAmJlxuICAgICAgICAgICAgIW5ld0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiZcbiAgICAgICAgICAgICF0aGlzLmRyYWdnaW5nXyAmJlxuICAgICAgICAgICAgdGhpcy5pc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVtdWxhdGVDbGlja18odGhpcy5kb3duXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG9pbnRlcnNfID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kb3duXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiB3YXMgcHJlc3NlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmlzTW91c2VBY3Rpb25CdXR0b25fID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlckRvd25fID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLmVtdWxhdGVDbGlja3NfID0gdGhpcy5hY3RpdmVQb2ludGVyc18gPT09IDA7XG4gICAgICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAvLyBTdG9yZSBhIGNvcHkgb2YgdGhlIGRvd24gZXZlbnRcbiAgICAgICAgdGhpcy5kb3duXyA9IC8qKiBAdHlwZSB7UG9pbnRlckV2ZW50fSAqLyAoe30pO1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBvaW50ZXJFdmVudFtwcm9wZXJ0eV07XG4gICAgICAgICAgICB0aGlzLmRvd25fW3Byb3BlcnR5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IFZPSUQgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLm1hcF8uZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKGxpc3Rlbihkb2MsIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmVfLCB0aGlzKSwgbGlzdGVuKGRvYywgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAsIHRoaXMuaGFuZGxlUG9pbnRlclVwXywgdGhpcyksIFxuICAgICAgICAgICAgLyogTm90ZSB0aGF0IHRoZSBsaXN0ZW5lciBmb3IgYHBvaW50ZXJjYW5jZWwgaXMgc2V0IHVwIG9uXG4gICAgICAgICAgICAgKiBgcG9pbnRlckV2ZW50SGFuZGxlcl9gIGFuZCBub3QgYGRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl9gIGxpa2VcbiAgICAgICAgICAgICAqIHRoZSBgcG9pbnRlcnVwYCBhbmQgYHBvaW50ZXJtb3ZlYCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGUgZm9sbG93aW5nOiBgVG91Y2hTb3VyY2UudmFjdXVtVG91Y2hlc18oKWBcbiAgICAgICAgICAgICAqIGlzc3VlcyBgcG9pbnRlcmNhbmNlbGAgZXZlbnRzLCB3aGVuIHRoZXJlIHdhcyBubyBgdG91Y2hlbmRgIGZvciBhXG4gICAgICAgICAgICAgKiBgdG91Y2hzdGFydGAuIE5vdywgbGV0J3Mgc2F5IGEgZmlyc3QgYHRvdWNoc3RhcnRgIGlzIHJlZ2lzdGVyZWQgb25cbiAgICAgICAgICAgICAqIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AuIFRoZSBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgaXMgc2V0IHVwLlxuICAgICAgICAgICAgICogQnV0IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBkb2Vzbid0IGtub3cgYWJvdXQgdGhlIGZpcnN0XG4gICAgICAgICAgICAgKiBgdG91Y2hzdGFydGAuIElmIHRoZXJlIGlzIG5vIGB0b3VjaGVuZGAgZm9yIHRoZSBgdG91Y2hzdGFydGAsIHdlIGNhblxuICAgICAgICAgICAgICogb25seSByZWNlaXZlIGEgYHRvdWNoY2FuY2VsYCBmcm9tIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AsIGJlY2F1c2UgaXQgaXNcbiAgICAgICAgICAgICAqIG9ubHkgcmVnaXN0ZXJlZCB0aGVyZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGlzdGVuKHRoaXMuZWxlbWVudF8sIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSAmJiB0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlKCkgIT09IGRvYykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ucHVzaChsaXN0ZW4odGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSgpLCBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlck1vdmVfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICAvLyBCZXR3ZWVuIHBvaW50ZXJkb3duIGFuZCBwb2ludGVydXAsIHBvaW50ZXJtb3ZlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLlxuICAgICAgICAvLyBUbyBhdm9pZCBhICdmYWxzZScgdG91Y2htb3ZlIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQsIHdlIHRlc3QgaWYgdGhlIHBvaW50ZXJcbiAgICAgICAgLy8gbW92ZWQgYSBzaWduaWZpY2FudCBkaXN0YW5jZS5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQsIHRoaXMuZHJhZ2dpbmdfKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyYXAgYW5kIHJlbGF5IGEgcG9pbnRlciBldmVudC4gIE5vdGUgdGhhdCB0aGlzIHJlcXVpcmVzIHRoYXQgdGhlIHR5cGVcbiAgICAgKiBzdHJpbmcgZm9yIHRoZSBNYXBCcm93c2VyRXZlbnQgbWF0Y2hlcyB0aGUgUG9pbnRlckV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZWxheUV2ZW50XyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfID0gcG9pbnRlckV2ZW50O1xuICAgICAgICB2YXIgZHJhZ2dpbmcgPSAhISh0aGlzLmRvd25fICYmIHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEJyb3dzZXJFdmVudChwb2ludGVyRXZlbnQudHlwZSwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQsIGRyYWdnaW5nKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbGV4aWJsZSBoYW5kbGluZyBvZiBhIGB0b3VjaC1hY3Rpb246IG5vbmVgIGNzcyBlcXVpdmFsZW50OiBiZWNhdXNlIGNhbGxpbmdcbiAgICAgKiBgcHJldmVudERlZmF1bHQoKWAgb24gYSBgcG9pbnRlcm1vdmVgIGV2ZW50IGRvZXMgbm90IHN0b3AgbmF0aXZlIHBhZ2Ugc2Nyb2xsaW5nXG4gICAgICogYW5kIHpvb21pbmcsIHdlIGFsc28gbGlzdGVuIGZvciBgdG91Y2htb3ZlYCBhbmQgY2FsbCBgcHJldmVudERlZmF1bHQoKWAgb24gaXRcbiAgICAgKiB3aGVuIGFuIGludGVyYWN0aW9uIChjdXJyZW50bHkgYERyYWdQYW5gIGhhbmRsZXMgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVUb3VjaE1vdmVfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIER1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbXBpemVuYmVyZy9lbG0tcGVwL2lzc3Vlcy8yLCBgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfYFxuICAgICAgICAvLyBtYXkgbm90IGJlIGluaXRpYWxpemVkIHlldCB3aGVuIHdlIGdldCBoZXJlIG9uIGEgcGxhdGZvcm0gd2l0aG91dCBuYXRpdmUgcG9pbnRlciBldmVudHMuXG4gICAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfO1xuICAgICAgICBpZiAoKCFvcmlnaW5hbEV2ZW50IHx8IG9yaWdpbmFsRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgJiZcbiAgICAgICAgICAgICh0eXBlb2YgZXZlbnQuY2FuY2VsYWJsZSAhPT0gJ2Jvb2xlYW4nIHx8IGV2ZW50LmNhbmNlbGFibGUgPT09IHRydWUpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICAgKiBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBtb3ZpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5pc01vdmluZ18gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kcmFnZ2luZ18gfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXJFdmVudC5jbGllbnRYIC0gdGhpcy5kb3duXy5jbGllbnRYKSA+XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyB8fFxuICAgICAgICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFkgLSB0aGlzLmRvd25fLmNsaWVudFkpID4gdGhpcy5tb3ZlVG9sZXJhbmNlXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMucmVsYXllZExpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UT1VDSE1PVkUsIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfKTtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5lbGVtZW50XyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwQnJvd3NlckV2ZW50SGFuZGxlcjtcbn0oVGFyZ2V0KSk7XG5leHBvcnQgZGVmYXVsdCBNYXBCcm93c2VyRXZlbnRIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBhIG1hcCBmcmFtZSBpcyByZW5kZXJlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I3Bvc3RyZW5kZXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUE9TVFJFTkRFUjogJ3Bvc3RyZW5kZXInLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIG1vdmluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I21vdmVzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNT1ZFU1RBUlQ6ICdtb3Zlc3RhcnQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgbWFwIGlzIG1vdmVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbW92ZWVuZFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNT1ZFRU5EOiAnbW92ZWVuZCcsXG59O1xuLyoqKlxuICogQHR5cGVkZWYgeydwb3N0cmVuZGVyJ3wnbW92ZXN0YXJ0J3wnbW92ZWVuZCd9IFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgTEFZRVJHUk9VUDogJ2xheWVyZ3JvdXAnLFxuICAgIFNJWkU6ICdzaXplJyxcbiAgICBUQVJHRVQ6ICd0YXJnZXQnLFxuICAgIFZJRVc6ICd2aWV3Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERST1AgPSBJbmZpbml0eTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJpb3JpdHkgcXVldWUuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGlzIGluc3BpcmVkIGZyb20gdGhlIENsb3N1cmUgTGlicmFyeSdzIEhlYXAgY2xhc3MgYW5kXG4gKiBQeXRob24ncyBoZWFwcSBtb2R1bGUuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9zdHJ1Y3RzL2hlYXAuanNcbiAqIGFuZCBodHRwczovL2hnLnB5dGhvbi5vcmcvY3B5dGhvbi9maWxlLzIuNy9MaWIvaGVhcHEucHkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIFByaW9yaXR5UXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogbnVtYmVyfSBwcmlvcml0eUZ1bmN0aW9uIFByaW9yaXR5IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6IHN0cmluZ30ga2V5RnVuY3Rpb24gS2V5IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByaW9yaXR5UXVldWUocHJpb3JpdHlGdW5jdGlvbiwga2V5RnVuY3Rpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihUKTogbnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eUZ1bmN0aW9uXyA9IHByaW9yaXR5RnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IHN0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2V5RnVuY3Rpb25fID0ga2V5RnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8VD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsZW1lbnRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXRpZXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZWRFbGVtZW50c18gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucHJpb3JpdGllc18ubGVuZ3RoID0gMDtcbiAgICAgICAgY2xlYXIodGhpcy5xdWV1ZWRFbGVtZW50c18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuZCByZXR1cm4gdGhlIGhpZ2hlc3QtcHJpb3JpdHkgZWxlbWVudC4gTyhsb2cgTikuXG4gICAgICogQHJldHVybiB7VH0gRWxlbWVudC5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzWzBdO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBwcmlvcml0aWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50c1swXSA9IGVsZW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgcHJpb3JpdGllc1swXSA9IHByaW9yaXRpZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcF8oMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRLZXkgPSB0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KTtcbiAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW2VsZW1lbnRLZXldO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVucXVldWUgYW4gZWxlbWVudC4gTyhsb2cgTikuXG4gICAgICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0KCEodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkgaW4gdGhpcy5xdWV1ZWRFbGVtZW50c18pLCAzMSk7IC8vIFRyaWVkIHRvIGVucXVldWUgYW4gYGVsZW1lbnRgIHRoYXQgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHF1ZXVlXG4gICAgICAgIHZhciBwcmlvcml0eSA9IHRoaXMucHJpb3JpdHlGdW5jdGlvbl8oZWxlbWVudCk7XG4gICAgICAgIGlmIChwcmlvcml0eSAhPSBEUk9QKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzXy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5wcmlvcml0aWVzXy5wdXNoKHByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNpZnREb3duXygwLCB0aGlzLmVsZW1lbnRzXy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIGxlZnQgY2hpbGQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0TGVmdENoaWxkSW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCAqIDIgKyAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIHJpZ2h0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcmlnaHQgY2hpbGQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldFJpZ2h0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMiArIDI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcGFyZW50IGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcGFyZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0UGFyZW50SW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiAoaW5kZXggLSAxKSA+PiAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSB0aGlzIGEgaGVhcC4gTyhOKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmhlYXBpZnlfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gKHRoaXMuZWxlbWVudHNfLmxlbmd0aCA+PiAxKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcF8oaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBrZXkgcXVldWVkLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzS2V5UXVldWVkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMucXVldWVkRWxlbWVudHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcXVldWVkLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzUXVldWVkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNLZXlRdWV1ZWQodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBtb3ZlIGRvd24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5zaWZ0VXBfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgICAgICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgICAgIHZhciBjb3VudCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgIHZhciBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBjb3VudCA+PiAxKSB7XG4gICAgICAgICAgICB2YXIgbEluZGV4ID0gdGhpcy5nZXRMZWZ0Q2hpbGRJbmRleF8oaW5kZXgpO1xuICAgICAgICAgICAgdmFyIHJJbmRleCA9IHRoaXMuZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCk7XG4gICAgICAgICAgICB2YXIgc21hbGxlckNoaWxkSW5kZXggPSBySW5kZXggPCBjb3VudCAmJiBwcmlvcml0aWVzW3JJbmRleF0gPCBwcmlvcml0aWVzW2xJbmRleF1cbiAgICAgICAgICAgICAgICA/IHJJbmRleFxuICAgICAgICAgICAgICAgIDogbEluZGV4O1xuICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgICAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0aWVzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgICAgICAgIGluZGV4ID0gc21hbGxlckNoaWxkSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudDtcbiAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgdGhpcy5zaWZ0RG93bl8oc3RhcnRJbmRleCwgaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggVGhlIGluZGV4IG9mIHRoZSByb290LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSB1cC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnNpZnREb3duXyA9IGZ1bmN0aW9uIChzdGFydEluZGV4LCBpbmRleCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gcHJpb3JpdGllc1tpbmRleF07XG4gICAgICAgIHdoaWxlIChpbmRleCA+IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IHRoaXMuZ2V0UGFyZW50SW5kZXhfKGluZGV4KTtcbiAgICAgICAgICAgIGlmIChwcmlvcml0aWVzW3BhcmVudEluZGV4XSA+IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbcGFyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1twYXJlbnRJbmRleF07XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5yZXByaW9yaXRpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmlvcml0eUZ1bmN0aW9uID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgICAgIHZhciBwcmlvcml0aWVzID0gdGhpcy5wcmlvcml0aWVzXztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG4gPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBlbGVtZW50LCBpLCBwcmlvcml0eTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHByaW9yaXR5ID09IERST1ApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5xdWV1ZWRFbGVtZW50c19bdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1tpbmRleCsrXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIHByaW9yaXRpZXMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIHRoaXMuaGVhcGlmeV8oKTtcbiAgICB9O1xuICAgIHJldHVybiBQcmlvcml0eVF1ZXVlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFByaW9yaXR5UXVldWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcmlvcml0eVF1ZXVlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVGlsZVF1ZXVlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQcmlvcml0eVF1ZXVlLCB7IERST1AgfSBmcm9tICcuL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0LCBzdHJpbmcsIGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBudW1iZXIpOiBudW1iZXJ9IFByaW9yaXR5RnVuY3Rpb25cbiAqL1xudmFyIFRpbGVRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVF1ZXVlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UHJpb3JpdHlGdW5jdGlvbn0gdGlsZVByaW9yaXR5RnVuY3Rpb24gVGlsZSBwcmlvcml0eSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6ID99IHRpbGVDaGFuZ2VDYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgb24gZWFjaCB0aWxlIGNoYW5nZSBldmVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlUXVldWUodGlsZVByaW9yaXR5RnVuY3Rpb24sIHRpbGVDaGFuZ2VDYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSBQcmlvcml0eS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVByaW9yaXR5RnVuY3Rpb24uYXBwbHkobnVsbCwgZWxlbWVudCk7XG4gICAgICAgIH0sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGVsZW1lbnRbMF0pLmdldEtleSgpO1xuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKiogQHByaXZhdGUgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyA9IF90aGlzLmhhbmRsZVRpbGVDaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZXNMb2FkaW5nXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsYm9vbGVhbj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlc0xvYWRpbmdLZXlzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZWxlbWVudCB3YXMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIFRpbGVRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBhZGRlZCA9IF9zdXBlci5wcm90b3R5cGUuZW5xdWV1ZS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgICBpZiAoYWRkZWQpIHtcbiAgICAgICAgICAgIHZhciB0aWxlID0gZWxlbWVudFswXTtcbiAgICAgICAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZGRlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHRpbGVzIGxvYWRpbmcuXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5nZXRUaWxlc0xvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlUXVldWUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IgfHxcbiAgICAgICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFkpIHtcbiAgICAgICAgICAgIHRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgICAgICAgdmFyIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgICAgICAgaWYgKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgIC0tdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb3RhbExvYWRpbmcgTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZCBzaW11bHRhbmVvdXNseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TmV3TG9hZHMgTWF4aW11bSBudW1iZXIgb2YgbmV3IHRpbGVzIHRvIGxvYWQuXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5sb2FkTW9yZVRpbGVzID0gZnVuY3Rpb24gKG1heFRvdGFsTG9hZGluZywgbWF4TmV3TG9hZHMpIHtcbiAgICAgICAgdmFyIG5ld0xvYWRzID0gMDtcbiAgICAgICAgdmFyIHN0YXRlLCB0aWxlLCB0aWxlS2V5O1xuICAgICAgICB3aGlsZSAodGhpcy50aWxlc0xvYWRpbmdfIDwgbWF4VG90YWxMb2FkaW5nICYmXG4gICAgICAgICAgICBuZXdMb2FkcyA8IG1heE5ld0xvYWRzICYmXG4gICAgICAgICAgICB0aGlzLmdldENvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZGVxdWV1ZSgpWzBdKTtcbiAgICAgICAgICAgIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgICAgICAgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5JRExFICYmICEodGlsZUtleSBpbiB0aGlzLnRpbGVzTG9hZGluZ0tleXNfKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c19bdGlsZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICAgICAgICAgICsrbmV3TG9hZHM7XG4gICAgICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWxlUXVldWU7XG59KFByaW9yaXR5UXVldWUpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVRdWV1ZTtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vUGx1Z2dhYmxlTWFwLmpzJykuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlU291cmNlS2V5IFRpbGUgc291cmNlIGtleS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGlsZVJlc29sdXRpb24gVGlsZSByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHByaW9yaXR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGlsZVByaW9yaXR5KGZyYW1lU3RhdGUsIHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKSB7XG4gICAgLy8gRmlsdGVyIG91dCB0aWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgdGhhbiB0aGUgY3VycmVudCB6b29tIGxldmVsLCBvciB0aGF0XG4gICAgLy8gYXJlIG91dHNpZGUgdGhlIHZpc2libGUgZXh0ZW50LlxuICAgIGlmICghZnJhbWVTdGF0ZSB8fCAhKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgICAgcmV0dXJuIERST1A7XG4gICAgfVxuICAgIGlmICghZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSkge1xuICAgICAgICByZXR1cm4gRFJPUDtcbiAgICB9XG4gICAgLy8gUHJpb3JpdGl6ZSB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRpbGVzIGNsb3Nlc3QgdG8gdGhlIGZvY3VzLlxuICAgIC8vIFRpbGVzIGF0IGhpZ2hlciB6b29tIGxldmVscyBhcmUgcHJpb3JpdGl6ZWQgdXNpbmcgTWF0aC5sb2codGlsZVJlc29sdXRpb24pLlxuICAgIC8vIFdpdGhpbiBhIHpvb20gbGV2ZWwsIHRpbGVzIGFyZSBwcmlvcml0aXplZCBieSB0aGUgZGlzdGFuY2UgaW4gcGl4ZWxzIGJldHdlZW5cbiAgICAvLyB0aGUgY2VudGVyIG9mIHRoZSB0aWxlIGFuZCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC4gIFRoZSBmYWN0b3Igb2YgNjU1MzZcbiAgICAvLyBtZWFucyB0aGF0IHRoZSBwcmlvcml0aXphdGlvbiBzaG91bGQgYmVoYXZlIGFzIGRlc2lyZWQgZm9yIHRpbGVzIHVwIHRvXG4gICAgLy8gNjU1MzYgKiBNYXRoLmxvZygyKSA9IDQ1NDI2IHBpeGVscyBmcm9tIHRoZSBmb2N1cy5cbiAgICB2YXIgY2VudGVyID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUuY2VudGVyO1xuICAgIHZhciBkZWx0YVggPSB0aWxlQ2VudGVyWzBdIC0gY2VudGVyWzBdO1xuICAgIHZhciBkZWx0YVkgPSB0aWxlQ2VudGVyWzFdIC0gY2VudGVyWzFdO1xuICAgIHJldHVybiAoNjU1MzYgKiBNYXRoLmxvZyh0aWxlUmVzb2x1dGlvbikgK1xuICAgICAgICBNYXRoLnNxcnQoZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZKSAvIHRpbGVSZXNvbHV0aW9uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVRdWV1ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVN0YXRlXG4gKi9cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIElETEU6IDAsXG4gICAgTE9BRElORzogMSxcbiAgICBMT0FERUQ6IDIsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGlsZSBsb2FkaW5nIGZhaWxlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgRVJST1I6IDMsXG4gICAgRU1QVFk6IDQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0dlb21ldHJ5VHlwZVxuICovXG4vKipcbiAqIFRoZSBnZW9tZXRyeSB0eXBlLiBPbmUgb2YgYCdQb2ludCdgLCBgJ0xpbmVTdHJpbmcnYCwgYCdMaW5lYXJSaW5nJ2AsXG4gKiBgJ1BvbHlnb24nYCwgYCdNdWx0aVBvaW50J2AsIGAnTXVsdGlMaW5lU3RyaW5nJ2AsIGAnTXVsdGlQb2x5Z29uJ2AsXG4gKiBgJ0dlb21ldHJ5Q29sbGVjdGlvbidgLCBgJ0NpcmNsZSdgLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFBPSU5UOiAnUG9pbnQnLFxuICAgIExJTkVfU1RSSU5HOiAnTGluZVN0cmluZycsXG4gICAgTElORUFSX1JJTkc6ICdMaW5lYXJSaW5nJyxcbiAgICBQT0xZR09OOiAnUG9seWdvbicsXG4gICAgTVVMVElfUE9JTlQ6ICdNdWx0aVBvaW50JyxcbiAgICBNVUxUSV9MSU5FX1NUUklORzogJ011bHRpTGluZVN0cmluZycsXG4gICAgTVVMVElfUE9MWUdPTjogJ011bHRpUG9seWdvbicsXG4gICAgR0VPTUVUUllfQ09MTEVDVElPTjogJ0dlb21ldHJ5Q29sbGVjdGlvbicsXG4gICAgQ0lSQ0xFOiAnQ2lyY2xlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW9tZXRyeVR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovVW5pdHNcbiAqL1xuLyoqXG4gKiBQcm9qZWN0aW9uIHVuaXRzOiBgJ2RlZ3JlZXMnYCwgYCdmdCdgLCBgJ20nYCwgYCdwaXhlbHMnYCwgYCd0aWxlLXBpeGVscydgIG9yXG4gKiBgJ3VzLWZ0J2AuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgVW5pdHMgPSB7XG4gICAgLyoqXG4gICAgICogUmFkaWFuc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSQURJQU5TOiAncmFkaWFucycsXG4gICAgLyoqXG4gICAgICogRGVncmVlc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBERUdSRUVTOiAnZGVncmVlcycsXG4gICAgLyoqXG4gICAgICogRmVldFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUVUOiAnZnQnLFxuICAgIC8qKlxuICAgICAqIE1ldGVyc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNRVRFUlM6ICdtJyxcbiAgICAvKipcbiAgICAgKiBQaXhlbHNcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUElYRUxTOiAncGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBUaWxlIFBpeGVsc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFX1BJWEVMUzogJ3RpbGUtcGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBVUyBGZWV0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVTRkVFVDogJ3VzLWZ0Jyxcbn07XG4vKipcbiAqIFNlZSBodHRwOi8vZHVmZi5lc3Mud2FzaGluZ3Rvbi5lZHUvZGF0YS9yYXN0ZXIvZHJnL2RvY3MvZ2VvdGlmZi50eHRcbiAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBVbml0cz59XG4gKi9cbnZhciB1bml0QnlDb2RlID0ge1xuICAgICc5MDAxJzogVW5pdHMuTUVURVJTLFxuICAgICc5MDAyJzogVW5pdHMuRkVFVCxcbiAgICAnOTAwMyc6IFVuaXRzLlVTRkVFVCxcbiAgICAnOTEwMSc6IFVuaXRzLlJBRElBTlMsXG4gICAgJzkxMDInOiBVbml0cy5ERUdSRUVTLFxufTtcbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGUgVW5pdCBjb2RlLlxuICogQHJldHVybiB7VW5pdHN9IFVuaXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUNvZGUoY29kZSkge1xuICAgIHJldHVybiB1bml0QnlDb2RlW2NvZGVdO1xufVxuLyoqXG4gKiBNZXRlcnMgcGVyIHVuaXQgbG9va3VwIHRhYmxlLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0PFVuaXRzLCBudW1iZXI+fVxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIE1FVEVSU19QRVJfVU5JVCA9IHt9O1xuLy8gdXNlIHRoZSByYWRpdXMgb2YgdGhlIE5vcm1hbCBzcGhlcmVcbk1FVEVSU19QRVJfVU5JVFtVbml0cy5SQURJQU5TXSA9IDYzNzA5OTcgLyAoMiAqIE1hdGguUEkpO1xuTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdID0gKDIgKiBNYXRoLlBJICogNjM3MDk5NykgLyAzNjA7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuRkVFVF0gPSAwLjMwNDg7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuTUVURVJTXSA9IDE7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuVVNGRUVUXSA9IDEyMDAgLyAzOTM3O1xuZXhwb3J0IGRlZmF1bHQgVW5pdHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbml0cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1Byb3BlcnR5XG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIENFTlRFUjogJ2NlbnRlcicsXG4gICAgUkVTT0xVVElPTjogJ3Jlc29sdXRpb24nLFxuICAgIFJPVEFUSU9OOiAncm90YXRpb24nLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvY29tbW9uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIHpvb20gZm9yIGRlZmF1bHQgdGlsZSBncmlkcy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9NQVhfWk9PTSA9IDQyO1xuLyoqXG4gKiBEZWZhdWx0IHRpbGUgc2l6ZS5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9USUxFX1NJWkUgPSAyNTY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovUHJvamVjdGlvblxuICovXG5pbXBvcnQgeyBNRVRFUlNfUEVSX1VOSVQgfSBmcm9tICcuL1VuaXRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGUgVGhlIFNSUyBpZGVudGlmaWVyIGNvZGUsIGUuZy4gYEVQU0c6NDMyNmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVW5pdHMuanNcIikuZGVmYXVsdHxzdHJpbmd9IFt1bml0c10gVW5pdHMuIFJlcXVpcmVkIHVubGVzcyBhXG4gKiBwcm9qNCBwcm9qZWN0aW9uIGlzIGRlZmluZWQgZm9yIGBjb2RlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhlIFNSUy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXhpc09yaWVudGF0aW9uPSdlbnUnXSBUaGUgYXhpcyBvcmllbnRhdGlvbiBhcyBzcGVjaWZpZWQgaW4gUHJvajQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtnbG9iYWw9ZmFsc2VdIFdoZXRoZXIgdGhlIHByb2plY3Rpb24gaXMgdmFsaWQgZm9yIHRoZSB3aG9sZSBnbG9iZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWV0ZXJzUGVyVW5pdF0gVGhlIG1ldGVycyBwZXIgdW5pdCBmb3IgdGhlIFNSUy5cbiAqIElmIG5vdCBwcm92aWRlZCwgdGhlIGB1bml0c2AgYXJlIHVzZWQgdG8gZ2V0IHRoZSBtZXRlcnMgcGVyIHVuaXQgZnJvbSB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1VuaXRzfk1FVEVSU19QRVJfVU5JVH1cbiAqIGxvb2t1cCB0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3dvcmxkRXh0ZW50XSBUaGUgd29ybGQgZXh0ZW50IGZvciB0aGUgU1JTLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfSBbZ2V0UG9pbnRSZXNvbHV0aW9uXVxuICogRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHJlc29sdXRpb24gYXQgYSBwb2ludC4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcbiAqIGBudW1iZXJgIHZpZXcgcmVzb2x1dGlvbiBhbmQgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZSBDb29yZGluYXRlfSBhcyBhcmd1bWVudHMsIGFuZCByZXR1cm5zXG4gKiB0aGUgYG51bWJlcmAgcmVzb2x1dGlvbiBpbiBwcm9qZWN0aW9uIHVuaXRzIGF0IHRoZSBwYXNzZWQgY29vcmRpbmF0ZS4gSWYgdGhpcyBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoZSBkZWZhdWx0IHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXRQb2ludFJlc29sdXRpb24gZ2V0UG9pbnRSZXNvbHV0aW9uKCl9IGZ1bmN0aW9uIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIGRlZmluaXRpb24gY2xhc3MuIE9uZSBvZiB0aGVzZSBpcyBjcmVhdGVkIGZvciBlYWNoIHByb2plY3Rpb25cbiAqIHN1cHBvcnRlZCBpbiB0aGUgYXBwbGljYXRpb24gYW5kIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qfSBuYW1lc3BhY2UuXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBpbiBhcHBsaWNhdGlvbnMsIGJ1dCB0aGlzIGlzIG5vdCByZXF1aXJlZCwgYXMgQVBJIHBhcmFtc1xuICogYW5kIG9wdGlvbnMgdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5Qcm9qZWN0aW9uTGlrZX0gd2hpY2ggbWVhbnMgdGhlIHNpbXBsZSBzdHJpbmdcbiAqIGNvZGUgd2lsbCBzdWZmaWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXR9IHRvIHJldHJpZXZlIHRoZSBvYmplY3QgZm9yIGEgcGFydGljdWxhclxuICogcHJvamVjdGlvbi5cbiAqXG4gKiBUaGUgbGlicmFyeSBpbmNsdWRlcyBkZWZpbml0aW9ucyBmb3IgYEVQU0c6NDMyNmAgYW5kIGBFUFNHOjM4NTdgLCB0b2dldGhlclxuICogd2l0aCB0aGUgZm9sbG93aW5nIGFsaWFzZXM6XG4gKiAqIGBFUFNHOjQzMjZgOiBDUlM6ODQsIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuNjo0MzI2LFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0LCB1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQsXG4gKiAgICAgaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYsXG4gKiAgICAgdXJuOngtb2djOmRlZjpjcnM6RVBTRzo0MzI2XG4gKiAqIGBFUFNHOjM4NTdgOiBFUFNHOjEwMjEwMCwgRVBTRzoxMDIxMTMsIEVQU0c6OTAwOTEzLFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XG4gKlxuICogSWYgeW91IHVzZSBbcHJvajRqc10oaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyksIGFsaWFzZXMgY2FuXG4gKiBiZSBhZGRlZCB1c2luZyBgcHJvajQuZGVmcygpYC4gQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlXG4gKiBhZGRlZCwgY2FsbCB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL3Byb2o0LnJlZ2lzdGVyfSBmdW5jdGlvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBQcm9qZWN0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvamVjdGlvbihvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2RlXyA9IG9wdGlvbnMuY29kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXRzIG9mIHByb2plY3RlZCBjb29yZGluYXRlcy4gV2hlbiBzZXQgdG8gYFRJTEVfUElYRUxTYCwgYVxuICAgICAgICAgKiBgdGhpcy5leHRlbnRfYCBhbmQgYHRoaXMud29ybGRFeHRlbnRfYCBtdXN0IGJlIGNvbmZpZ3VyZWQgcHJvcGVybHkgZm9yIGVhY2hcbiAgICAgICAgICogdGlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vVW5pdHMuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pdHNfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1VuaXRzLmpzXCIpLmRlZmF1bHR9ICovIChvcHRpb25zLnVuaXRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkaXR5IGV4dGVudCBvZiB0aGUgcHJvamVjdGlvbiBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuIEZvciBwcm9qZWN0aW9uc1xuICAgICAgICAgKiB3aXRoIGBUSUxFX1BJWEVMU2AgdW5pdHMsIHRoaXMgaXMgdGhlIGV4dGVudCBvZiB0aGUgdGlsZSBpblxuICAgICAgICAgKiB0aWxlIHBpeGVsIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmV4dGVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnQgb2YgdGhlIHdvcmxkIGluIEVQU0c6NDMyNi4gRm9yIHByb2plY3Rpb25zIHdpdGhcbiAgICAgICAgICogYFRJTEVfUElYRUxTYCB1bml0cywgdGhpcyBpcyB0aGUgZXh0ZW50IG9mIHRoZSB0aWxlIGluXG4gICAgICAgICAqIHByb2plY3RlZCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID1cbiAgICAgICAgICAgIG9wdGlvbnMud29ybGRFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud29ybGRFeHRlbnQgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXhpc09yaWVudGF0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5heGlzT3JpZW50YXRpb24gOiAnZW51JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxfID0gb3B0aW9ucy5nbG9iYWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ2xvYmFsIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIHRoaXMuZXh0ZW50Xyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gb3B0aW9ucy5nZXRQb2ludFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFRpbGVHcmlkXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0ZXJzUGVyVW5pdF8gPSBvcHRpb25zLm1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBwcm9qZWN0aW9uIGlzIHN1aXRhYmxlIGZvciB3cmFwcGluZyB0aGUgeC1heGlzXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuY2FuV3JhcFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbldyYXBYXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29kZSBmb3IgdGhpcyBwcm9qZWN0aW9uLCBlLmcuICdFUFNHOjQzMjYnLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQ29kZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1bml0cyBvZiB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5kZWZhdWx0fSBVbml0cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0VW5pdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW1vdW50IG9mIG1ldGVycyBwZXIgdW5pdCBvZiB0aGlzIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBpc1xuICAgICAqIG5vdCBjb25maWd1cmVkIHdpdGggYG1ldGVyc1BlclVuaXRgIG9yIGEgdW5pdHMgaWRlbnRpZmllciwgdGhlIHJldHVybiBpc1xuICAgICAqIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1ldGVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0TWV0ZXJzUGVyVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0ZXJzUGVyVW5pdF8gfHwgTUVURVJTX1BFUl9VTklUW3RoaXMudW5pdHNfXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRXb3JsZEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRFeHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBheGlzIG9yaWVudGF0aW9uIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBFeGFtcGxlIHZhbHVlcyBhcmU6XG4gICAgICogZW51IC0gdGhlIGRlZmF1bHQgZWFzdGluZywgbm9ydGhpbmcsIGVsZXZhdGlvbi5cbiAgICAgKiBuZXUgLSBub3J0aGluZywgZWFzdGluZywgdXAgLSB1c2VmdWwgZm9yIFwibGF0L2xvbmdcIiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLFxuICAgICAqICAgICBvciBzb3V0aCBvcmllbnRhdGVkIHRyYW5zdmVyc2UgbWVyY2F0b3IuXG4gICAgICogd251IC0gd2VzdGluZywgbm9ydGhpbmcsIHVwIC0gc29tZSBwbGFuZXRhcnkgY29vcmRpbmF0ZSBzeXN0ZW1zIGhhdmVcbiAgICAgKiAgICAgXCJ3ZXN0IHBvc2l0aXZlXCIgY29vcmRpbmF0ZSBzeXN0ZW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBeGlzIG9yaWVudGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRBeGlzT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF4aXNPcmllbnRhdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHByb2plY3Rpb24gYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGQ/XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmlzR2xvYmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGlmIHRoZSBwcm9qZWN0aW9uIGlzIGEgZ2xvYmFsIHByb2plY3Rpb24gd2hpY2ggc3BhbnMgdGhlIHdob2xlIHdvcmxkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBnbG9iYWwgV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldEdsb2JhbCA9IGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxfID0gZ2xvYmFsO1xuICAgICAgICB0aGlzLmNhbldyYXBYXyA9ICEhKGdsb2JhbCAmJiB0aGlzLmV4dGVudF8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRpbGVHcmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICh0aWxlR3JpZCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRUaWxlR3JpZF8gPSB0aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgdGhpcy5jYW5XcmFwWF8gPSAhISh0aGlzLmdsb2JhbF8gJiYgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSB3b3JsZEV4dGVudCBXb3JsZCBleHRlbnRcbiAgICAgKiAgICAgW21pbmxvbiwgbWlubGF0LCBtYXhsb24sIG1heGxhdF0uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldFdvcmxkRXh0ZW50ID0gZnVuY3Rpb24gKHdvcmxkRXh0ZW50KSB7XG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID0gd29ybGRFeHRlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdldFBvaW50UmVzb2x1dGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXRQb2ludFJlc29sdXRpb259XG4gICAgICogZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IGZ1bmMgRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuc2V0R2V0UG9pbnRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5nZXRQb2ludFJlc29sdXRpb25GdW5jXyA9IGZ1bmM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSBwb2ludCByZXNvbHV0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIHByb2plY3Rpb24gKGlmIHNldCkuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9IFRoZSBjdXN0b20gcG9pbnRcbiAgICAgKiByZXNvbHV0aW9uIGZ1bmN0aW9uIChpZiBzZXQpLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldFBvaW50UmVzb2x1dGlvbkZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2plY3Rpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUHJvamVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb2plY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2czODU3XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9Vbml0cy5qcyc7XG5pbXBvcnQgeyBjb3NoIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIFJhZGl1cyBvZiBXR1M4NCBzcGhlcmVcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgUkFESVVTID0gNjM3ODEzNztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIEhBTEZfU0laRSA9IE1hdGguUEkgKiBSQURJVVM7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbmV4cG9ydCB2YXIgRVhURU5UID0gWy1IQUxGX1NJWkUsIC1IQUxGX1NJWkUsIEhBTEZfU0laRSwgSEFMRl9TSVpFXTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IHZhciBXT1JMRF9FWFRFTlQgPSBbLTE4MCwgLTg1LCAxODAsIDg1XTtcbi8qKlxuICogTWF4aW11bSBzYWZlIHZhbHVlIGluIHkgZGlyZWN0aW9uXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgTUFYX1NBRkVfWSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyAyKSk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciB3ZWIvc3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICovXG52YXIgRVBTRzM4NTdQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFUFNHMzg1N1Byb2plY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFUFNHMzg1N1Byb2plY3Rpb24oY29kZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIHVuaXRzOiBVbml0cy5NRVRFUlMsXG4gICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdvcmxkRXh0ZW50OiBXT1JMRF9FWFRFTlQsXG4gICAgICAgICAgICBnZXRQb2ludFJlc29sdXRpb246IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uIC8gY29zaChwb2ludFsxXSAvIFJBRElVUyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRVBTRzM4NTdQcm9qZWN0aW9uO1xufShQcm9qZWN0aW9uKSk7XG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgUFJPSkVDVElPTlMgPSBbXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzozODU3JyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzoxMDIxMDAnKSxcbiAgICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjEwMjExMycpLFxuICAgIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6OTAwOTEzJyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvY3JzL0VQU0cvMC8zODU3JyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzM4NTcnKSxcbl07XG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZyb20gRVBTRzo0MzI2IHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZGltZW5zaW9uXSBEaW1lbnNpb24gKGRlZmF1bHQgaXMgYDJgKS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FUFNHNDMyNihpbnB1dCwgb3B0X291dHB1dCwgb3B0X2RpbWVuc2lvbikge1xuICAgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgdmFyIGRpbWVuc2lvbiA9IG9wdF9kaW1lbnNpb24gPiAxID8gb3B0X2RpbWVuc2lvbiA6IDI7XG4gICAgdmFyIG91dHB1dCA9IG9wdF9vdXRwdXQ7XG4gICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChkaW1lbnNpb24gPiAyKSB7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSB2YWx1ZXMgYmV5b25kIHNlY29uZCBkaW1lbnNpb25cbiAgICAgICAgICAgIG91dHB1dCA9IGlucHV0LnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSBkaW1lbnNpb24pIHtcbiAgICAgICAgb3V0cHV0W2ldID0gKEhBTEZfU0laRSAqIGlucHV0W2ldKSAvIDE4MDtcbiAgICAgICAgdmFyIHkgPSBSQURJVVMgKiBNYXRoLmxvZyhNYXRoLnRhbigoTWF0aC5QSSAqICgraW5wdXRbaSArIDFdICsgOTApKSAvIDM2MCkpO1xuICAgICAgICBpZiAoeSA+IE1BWF9TQUZFX1kpIHtcbiAgICAgICAgICAgIHkgPSBNQVhfU0FGRV9ZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHkgPCAtTUFYX1NBRkVfWSkge1xuICAgICAgICAgICAgeSA9IC1NQVhfU0FGRV9ZO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dFtpICsgMV0gPSB5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1hdGlvbiBmcm9tIEVQU0c6Mzg1NyB0byBFUFNHOjQzMjYuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9vdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2RpbWVuc2lvbl0gRGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYCkuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0VQU0c0MzI2KGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICB2YXIgZGltZW5zaW9uID0gb3B0X2RpbWVuc2lvbiA+IDEgPyBvcHRfZGltZW5zaW9uIDogMjtcbiAgICB2YXIgb3V0cHV0ID0gb3B0X291dHB1dDtcbiAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGRpbWVuc2lvbiA+IDIpIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIHZhbHVlcyBiZXlvbmQgc2Vjb25kIGRpbWVuc2lvblxuICAgICAgICAgICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgICAgICBvdXRwdXRbaV0gPSAoMTgwICogaW5wdXRbaV0pIC8gSEFMRl9TSVpFO1xuICAgICAgICBvdXRwdXRbaSArIDFdID1cbiAgICAgICAgICAgICgzNjAgKiBNYXRoLmF0YW4oTWF0aC5leHAoaW5wdXRbaSArIDFdIC8gUkFESVVTKSkpIC8gTWF0aC5QSSAtIDkwO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXBzZzM4NTcuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2c0MzI2XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9Vbml0cy5qcyc7XG4vKipcbiAqIFNlbWktbWFqb3IgcmFkaXVzIG9mIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIFJBRElVUyA9IDYzNzgxMzc7XG4vKipcbiAqIEV4dGVudCBvZiB0aGUgRVBTRzo0MzI2IHByb2plY3Rpb24gd2hpY2ggaXMgdGhlIHdob2xlIHdvcmxkLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbmV4cG9ydCB2YXIgRVhURU5UID0gWy0xODAsIC05MCwgMTgwLCA5MF07XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBNRVRFUlNfUEVSX1VOSVQgPSAoTWF0aC5QSSAqIFJBRElVUykgLyAxODA7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciBXR1M4NCBnZW9ncmFwaGljIGNvb3JkaW5hdGVzIChFUFNHOjQzMjYpLlxuICpcbiAqIE5vdGUgdGhhdCBPcGVuTGF5ZXJzIGRvZXMgbm90IHN0cmljdGx5IGNvbXBseSB3aXRoIHRoZSBFUFNHIGRlZmluaXRpb24uXG4gKiBUaGUgRVBTRyByZWdpc3RyeSBkZWZpbmVzIDQzMjYgYXMgYSBDUlMgZm9yIExhdGl0dWRlLExvbmdpdHVkZSAoeSx4KS5cbiAqIE9wZW5MYXllcnMgdHJlYXRzIEVQU0c6NDMyNiBhcyBhIHBzZXVkby1wcm9qZWN0aW9uLCB3aXRoIHgseSBjb29yZGluYXRlcy5cbiAqL1xudmFyIEVQU0c0MzI2UHJvamVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRVBTRzQzMjZQcm9qZWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIENvZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRfYXhpc09yaWVudGF0aW9uXSBBeGlzIG9yaWVudGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEVQU0c0MzI2UHJvamVjdGlvbihjb2RlLCBvcHRfYXhpc09yaWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgdW5pdHM6IFVuaXRzLkRFR1JFRVMsXG4gICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgIGF4aXNPcmllbnRhdGlvbjogb3B0X2F4aXNPcmllbnRhdGlvbixcbiAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgIG1ldGVyc1BlclVuaXQ6IE1FVEVSU19QRVJfVU5JVCxcbiAgICAgICAgICAgIHdvcmxkRXh0ZW50OiBFWFRFTlQsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBFUFNHNDMyNlByb2plY3Rpb247XG59KFByb2plY3Rpb24pKTtcbi8qKlxuICogUHJvamVjdGlvbnMgZXF1YWwgdG8gRVBTRzo0MzI2LlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xuZXhwb3J0IHZhciBQUk9KRUNUSU9OUyA9IFtcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdDUlM6ODQnKSxcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdFUFNHOjQzMjYnLCAnbmV1JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbigndXJuOm9nYzpkZWY6Y3JzOk9HQzoxLjM6Q1JTODQnKSxcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCd1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQnKSxcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9jcnMvT0dDLzEuMy9DUlM4NCcpLFxuICAgIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCM0MzI2JywgJ25ldScpLFxuICAgIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2Nycy9FUFNHLzAvNDMyNicsICduZXUnKSxcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcHNnNDMyNi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9wcm9qZWN0aW9uc1xuICovXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbnZhciBjYWNoZSA9IHt9O1xuLyoqXG4gKiBDbGVhciB0aGUgcHJvamVjdGlvbnMgY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBjYWNoZSA9IHt9O1xufVxuLyoqXG4gKiBHZXQgYSBjYWNoZWQgcHJvamVjdGlvbiBieSBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIGNvZGUgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIChpZiBjYWNoZWQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGNvZGUpIHtcbiAgICByZXR1cm4gKGNhY2hlW2NvZGVdIHx8XG4gICAgICAgIGNhY2hlW2NvZGUucmVwbGFjZSgvdXJuOih4LSk/b2djOmRlZjpjcnM6RVBTRzooLio6KT8oXFx3KykkLywgJ0VQU0c6JDMnKV0gfHxcbiAgICAgICAgbnVsbCk7XG59XG4vKipcbiAqIEFkZCBhIHByb2plY3Rpb24gdG8gdGhlIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIHByb2plY3Rpb24gY29kZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24gdG8gY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29kZSwgcHJvamVjdGlvbikge1xuICAgIGNhY2hlW2NvZGVdID0gcHJvamVjdGlvbjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2plY3Rpb25zLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL3RyYW5zZm9ybXNcbiAqL1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb24+Pn1cbiAqL1xudmFyIHRyYW5zZm9ybXMgPSB7fTtcbi8qKlxuICogQ2xlYXIgdGhlIHRyYW5zZm9ybSBjYWNoZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRyYW5zZm9ybXMgPSB7fTtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIGEgY29udmVyc2lvbiBmdW5jdGlvbiB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZVxuICogcHJvamVjdGlvbiB0byB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChzb3VyY2UsIGRlc3RpbmF0aW9uLCB0cmFuc2Zvcm1Gbikge1xuICAgIHZhciBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgICB2YXIgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICAgIGlmICghKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcykpIHtcbiAgICAgICAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSA9IHt9O1xuICAgIH1cbiAgICB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV0gPSB0cmFuc2Zvcm1Gbjtcbn1cbi8qKlxuICogVW5yZWdpc3RlcnMgdGhlIGNvbnZlcnNpb24gZnVuY3Rpb24gdG8gY29udmVydCBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2VcbiAqIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNsZWFuIHVwXG4gKiBjYWNoZWQgdHJhbnNmb3JtcyBkdXJpbmcgdGVzdGluZy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVGhlIHVucmVnaXN0ZXJlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgICB2YXIgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICAgIHZhciB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gICAgZGVsZXRlIHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXTtcbiAgICBpZiAoaXNFbXB0eSh0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdKSkge1xuICAgICAgICBkZWxldGUgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbi8qKlxuICogR2V0IGEgdHJhbnNmb3JtIGdpdmVuIGEgc291cmNlIGNvZGUgYW5kIGEgZGVzdGluYXRpb24gY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VDb2RlIFRoZSBjb2RlIGZvciB0aGUgc291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVzdGluYXRpb25Db2RlIFRoZSBjb2RlIGZvciB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb258dW5kZWZpbmVkfSBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIChpZiBmb3VuZCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoc291cmNlQ29kZSwgZGVzdGluYXRpb25Db2RlKSB7XG4gICAgdmFyIHRyYW5zZm9ybTtcbiAgICBpZiAoc291cmNlQ29kZSBpbiB0cmFuc2Zvcm1zICYmIGRlc3RpbmF0aW9uQ29kZSBpbiB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdKSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybXMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NwaGVyZVxuICovXG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IHsgdG9EZWdyZWVzLCB0b1JhZGlhbnMgfSBmcm9tICcuL21hdGguanMnO1xuLyoqXG4gKiBPYmplY3QgbGl0ZXJhbCB3aXRoIG9wdGlvbnMgZm9yIHRoZSB7QGxpbmsgZ2V0TGVuZ3RofSBvciB7QGxpbmsgZ2V0QXJlYX1cbiAqIGZ1bmN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNwaGVyZU1ldHJpY09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J11cbiAqIFByb2plY3Rpb24gb2YgdGhlICBnZW9tZXRyeS4gIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSBpcyBhc3N1bWVkIHRvIGJlIGluXG4gKiBXZWIgTWVyY2F0b3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1cz02MzcxMDA4LjhdIFNwaGVyZSByYWRpdXMuICBCeSBkZWZhdWx0LCB0aGVcbiAqIFttZWFuIEVhcnRoIHJhZGl1c10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRWFydGhfcmFkaXVzI01lYW5fcmFkaXVzKVxuICogZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQgaXMgdXNlZC5cbiAqL1xuLyoqXG4gKiBUaGUgbWVhbiBFYXJ0aCByYWRpdXMgKDEvMyAqICgyYSArIGIpKSBmb3IgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VhcnRoX3JhZGl1cyNNZWFuX3JhZGl1c1xuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1JBRElVUyA9IDYzNzEwMDguODtcbi8qKlxuICogR2V0IHRoZSBncmVhdCBjaXJjbGUgZGlzdGFuY2UgKGluIG1ldGVycykgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpYyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXl9IGMxIFN0YXJ0aW5nIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0FycmF5fSBjMiBFbmRpbmcgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3JhZGl1c10gVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLiAgRGVmYXVsdHMgdG8gdGhlIEVhcnRoJ3NcbiAqICAgICBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50cyAoaW4gbWV0ZXJzKS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlKGMxLCBjMiwgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbGF0MiA9IHRvUmFkaWFucyhjMlsxXSk7XG4gICAgdmFyIGRlbHRhTGF0QnkyID0gKGxhdDIgLSBsYXQxKSAvIDI7XG4gICAgdmFyIGRlbHRhTG9uQnkyID0gdG9SYWRpYW5zKGMyWzBdIC0gYzFbMF0pIC8gMjtcbiAgICB2YXIgYSA9IE1hdGguc2luKGRlbHRhTGF0QnkyKSAqIE1hdGguc2luKGRlbHRhTGF0QnkyKSArXG4gICAgICAgIE1hdGguc2luKGRlbHRhTG9uQnkyKSAqXG4gICAgICAgICAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0MSkgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0Mik7XG4gICAgcmV0dXJuIDIgKiByYWRpdXMgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG59XG4vKipcbiAqIEdldCB0aGUgY3VtdWxhdGl2ZSBncmVhdCBjaXJjbGUgbGVuZ3RoIG9mIGxpbmVzdHJpbmcgY29vcmRpbmF0ZXMgKGdlb2dyYXBoaWMpLlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRpbmF0ZXMgTGluZXN0cmluZyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKSB7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWkgLSAxOyArK2kpIHtcbiAgICAgICAgbGVuZ3RoICs9IGdldERpc3RhbmNlKGNvb3JkaW5hdGVzW2ldLCBjb29yZGluYXRlc1tpICsgMV0sIHJhZGl1cyk7XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGxlbmd0aCBvZiBhIGdlb21ldHJ5LiAgVGhpcyBsZW5ndGggaXMgdGhlIHN1bSBvZiB0aGVcbiAqIGdyZWF0IGNpcmNsZSBkaXN0YW5jZXMgYmV0d2VlbiBjb29yZGluYXRlcy4gIEZvciBwb2x5Z29ucywgdGhlIGxlbmd0aCBpc1xuICogdGhlIHN1bSBvZiBhbGwgcmluZ3MuICBGb3IgcG9pbnRzLCB0aGUgbGVuZ3RoIGlzIHplcm8uICBGb3IgbXVsdGktcGFydFxuICogZ2VvbWV0cmllcywgdGhlIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZSBsZW5ndGggb2YgZWFjaCBwYXJ0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7U3BoZXJlTWV0cmljT3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zIGZvciB0aGVcbiAqIGxlbmd0aCBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiBZb3UgY2FuIGNoYW5nZSB0aGlzIGJ5IHByb3ZpZGluZyBhIGBwcm9qZWN0aW9uYCBvcHRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzcGhlcmljYWwgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGVuZ3RoKGdlb21ldHJ5LCBvcHRfb3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgdmFyIHJhZGl1cyA9IG9wdGlvbnMucmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uIHx8ICdFUFNHOjM4NTcnO1xuICAgIHZhciB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIGlmICh0eXBlICE9PSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTikge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCkudHJhbnNmb3JtKHByb2plY3Rpb24sICdFUFNHOjQzMjYnKTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgdmFyIGNvb3JkaW5hdGVzLCBjb29yZHMsIGksIGlpLCBqLCBqajtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc6IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgbGVuZ3RoID0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXNbaV0sIHJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OOiB7XG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvb3JkcyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gY29vcmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoICs9IGdldExlbmd0aEludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OOiB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cmllcyA9IFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoKGdlb21ldHJpZXNbaV0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNwaGVyaWNhbCBhcmVhIGZvciBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMuXG4gKlxuICogW1JlZmVyZW5jZV0oaHR0cHM6Ly90cnMuanBsLm5hc2EuZ292L2hhbmRsZS8yMDE0LzQwNDA5KVxuICogUm9iZXJ0LiBHLiBDaGFtYmVybGFpbiBhbmQgV2lsbGlhbSBILiBEdXF1ZXR0ZSwgXCJTb21lIEFsZ29yaXRobXMgZm9yXG4gKiBQb2x5Z29ucyBvbiBhIFNwaGVyZVwiLCBKUEwgUHVibGljYXRpb24gMDctMDMsIEpldCBQcm9wdWxzaW9uXG4gKiBMYWJvcmF0b3J5LCBQYXNhZGVuYSwgQ0EsIEp1bmUgMjAwN1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBMaXN0IG9mIGNvb3JkaW5hdGVzIG9mIGEgbGluZWFyXG4gKiByaW5nLiBJZiB0aGUgcmluZyBpcyBvcmllbnRlZCBjbG9ja3dpc2UsIHRoZSBhcmVhIHdpbGwgYmUgcG9zaXRpdmUsXG4gKiBvdGhlcndpc2UgaXQgd2lsbCBiZSBuZWdhdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cykge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICB2YXIgbGVuID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIHZhciB4MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzBdO1xuICAgIHZhciB5MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzFdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHgyID0gY29vcmRpbmF0ZXNbaV1bMF07XG4gICAgICAgIHZhciB5MiA9IGNvb3JkaW5hdGVzW2ldWzFdO1xuICAgICAgICBhcmVhICs9XG4gICAgICAgICAgICB0b1JhZGlhbnMoeDIgLSB4MSkgKlxuICAgICAgICAgICAgICAgICgyICsgTWF0aC5zaW4odG9SYWRpYW5zKHkxKSkgKyBNYXRoLnNpbih0b1JhZGlhbnMoeTIpKSk7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiAoYXJlYSAqIHJhZGl1cyAqIHJhZGl1cykgLyAyLjA7XG59XG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGFyZWEgb2YgYSBnZW9tZXRyeS4gIFRoaXMgaXMgdGhlIGFyZWEgKGluIG1ldGVycykgYXNzdW1pbmdcbiAqIHRoYXQgcG9seWdvbiBlZGdlcyBhcmUgc2VnbWVudHMgb2YgZ3JlYXQgY2lyY2xlcyBvbiBhIHNwaGVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEEgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge1NwaGVyZU1ldHJpY09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlIGFyZWFcbiAqICAgICBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiAgICAgWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShnZW9tZXRyeSwgb3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgIHZhciByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgICB2YXIgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiB8fCAnRVBTRzozODU3JztcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBpZiAodHlwZSAhPT0gR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT04pIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpLnRyYW5zZm9ybShwcm9qZWN0aW9uLCAnRVBTRzo0MzI2Jyk7XG4gICAgfVxuICAgIHZhciBhcmVhID0gMDtcbiAgICB2YXIgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBhcmVhID0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzW2ldLCByYWRpdXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICAgICAgYXJlYSArPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjoge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJpZXMgPSBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEdlb21ldHJpZXMoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgYXJlYSArPSBnZXRBcmVhKGdlb21ldHJpZXNbaV0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcmVhO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGF0IHRoZSBnaXZlbiBkaXN0YW5jZSBhbmQgYmVhcmluZyBmcm9tIGBjMWAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYzEgVGhlIG9yaWdpbiBwb2ludCAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIFRoZSBncmVhdC1jaXJjbGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgb3JpZ2luXG4gKiAgICAgcG9pbnQgYW5kIHRoZSB0YXJnZXQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBUaGUgYmVhcmluZyAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9yYWRpdXNdIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgdGFyZ2V0IHBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGMxLCBkaXN0YW5jZSwgYmVhcmluZywgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbG9uMSA9IHRvUmFkaWFucyhjMVswXSk7XG4gICAgdmFyIGRCeVIgPSBkaXN0YW5jZSAvIHJhZGl1cztcbiAgICB2YXIgbGF0ID0gTWF0aC5hc2luKE1hdGguc2luKGxhdDEpICogTWF0aC5jb3MoZEJ5UikgK1xuICAgICAgICBNYXRoLmNvcyhsYXQxKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MoYmVhcmluZykpO1xuICAgIHZhciBsb24gPSBsb24xICtcbiAgICAgICAgTWF0aC5hdGFuMihNYXRoLnNpbihiZWFyaW5nKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MobGF0MSksIE1hdGguY29zKGRCeVIpIC0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQpKTtcbiAgICByZXR1cm4gW3RvRGVncmVlcyhsb24pLCB0b0RlZ3JlZXMobGF0KV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGhlcmUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2pcbiAqL1xuLyoqXG4gKiBUaGUgb2wvcHJvaiBtb2R1bGUgc3RvcmVzOlxuICogKiBhIGxpc3Qgb2Yge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259XG4gKiBvYmplY3RzLCBvbmUgZm9yIGVhY2ggcHJvamVjdGlvbiBzdXBwb3J0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uXG4gKiAqIGEgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIG5lZWRlZCB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGluIG9uZSBwcm9qZWN0aW9uXG4gKiBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIHN0YXRpYyBmdW5jdGlvbnMgYXJlIHRoZSBtZXRob2RzIHVzZWQgdG8gbWFpbnRhaW4gdGhlc2UuXG4gKiBFYWNoIHRyYW5zZm9ybSBmdW5jdGlvbiBjYW4gaGFuZGxlIG5vdCBvbmx5IHNpbXBsZSBjb29yZGluYXRlIHBhaXJzLCBidXQgYWxzb1xuICogbGFyZ2UgYXJyYXlzIG9mIGNvb3JkaW5hdGVzIHN1Y2ggYXMgdmVjdG9yIGdlb21ldHJpZXMuXG4gKlxuICogV2hlbiBsb2FkZWQsIHRoZSBsaWJyYXJ5IGFkZHMgcHJvamVjdGlvbiBvYmplY3RzIGZvciBFUFNHOjQzMjYgKFdHUzg0XG4gKiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzKSBhbmQgRVBTRzozODU3IChXZWIgb3IgU3BoZXJpY2FsIE1lcmNhdG9yLCBhcyB1c2VkXG4gKiBmb3IgZXhhbXBsZSBieSBCaW5nIE1hcHMgb3IgT3BlblN0cmVldE1hcCksIHRvZ2V0aGVyIHdpdGggdGhlIHJlbGV2YW50XG4gKiB0cmFuc2Zvcm0gZnVuY3Rpb25zLlxuICpcbiAqIEFkZGl0aW9uYWwgdHJhbnNmb3JtcyBtYXkgYmUgYWRkZWQgYnkgdXNpbmcgdGhlIGh0dHA6Ly9wcm9qNGpzLm9yZy9cbiAqIGxpYnJhcnkgKHZlcnNpb24gMi4yIG9yIGxhdGVyKS4gWW91IGNhbiB1c2UgdGhlIGZ1bGwgYnVpbGQgc3VwcGxpZWQgYnlcbiAqIFByb2o0anMsIG9yIGNyZWF0ZSBhIGN1c3RvbSBidWlsZCB0byBzdXBwb3J0IHRob3NlIHByb2plY3Rpb25zIHlvdSBuZWVkOyBzZWVcbiAqIHRoZSBQcm9qNGpzIHdlYnNpdGUgZm9yIGhvdyB0byBkbyB0aGlzLiBZb3UgYWxzbyBuZWVkIHRoZSBQcm9qNGpzIGRlZmluaXRpb25zXG4gKiBmb3IgdGhlIHJlcXVpcmVkIHByb2plY3Rpb25zLiBUaGVzZSBkZWZpbml0aW9ucyBjYW4gYmUgb2J0YWluZWQgZnJvbVxuICogaHR0cHM6Ly9lcHNnLmlvLywgYW5kIGFyZSBhIEpTIGZ1bmN0aW9uLCBzbyBjYW4gYmUgbG9hZGVkIGluIGEgc2NyaXB0XG4gKiB0YWcgKGFzIGluIHRoZSBleGFtcGxlcykgb3IgcGFzdGVkIGludG8geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBBZnRlciBhbGwgcmVxdWlyZWQgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBhcmUgYWRkZWQgdG8gcHJvajQncyByZWdpc3RyeSAoYnlcbiAqIHVzaW5nIGBwcm9qNC5kZWZzKClgKSwgc2ltcGx5IGNhbGwgYHJlZ2lzdGVyKHByb2o0KWAgZnJvbSB0aGUgYG9sL3Byb2ovcHJvajRgXG4gKiBwYWNrYWdlLiBFeGlzdGluZyB0cmFuc2Zvcm1zIGFyZSBub3QgY2hhbmdlZCBieSB0aGlzIGZ1bmN0aW9uLiBTZWVcbiAqIGV4YW1wbGVzL3dtcy1pbWFnZS1jdXN0b20tcHJvaiBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxuICpcbiAqIEFkZGl0aW9uYWwgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBjYW4gYmUgcmVnaXN0ZXJlZCB3aXRoIGBwcm9qNC5kZWZzKClgIGFueVxuICogdGltZS4gSnVzdCBtYWtlIHN1cmUgdG8gY2FsbCBgcmVnaXN0ZXIocHJvajQpYCBhZ2FpbjsgZm9yIGV4YW1wbGUsIHdpdGggdXNlci1zdXBwbGllZCBkYXRhIHdoZXJlIHlvdSBkb24ndFxuICoga25vdyBpbiBhZHZhbmNlIHdoYXQgcHJvamVjdGlvbnMgYXJlIG5lZWRlZCwgeW91IGNhbiBpbml0aWFsbHkgbG9hZCBtaW5pbWFsXG4gKiBzdXBwb3J0IGFuZCB0aGVuIGxvYWQgd2hpY2hldmVyIGFyZSByZXF1ZXN0ZWQuXG4gKlxuICogTm90ZSB0aGF0IFByb2o0anMgZG9lcyBub3Qgc3VwcG9ydCBwcm9qZWN0aW9uIGV4dGVudHMuIElmIHlvdSB3YW50IHRvIGFkZFxuICogb25lIGZvciBjcmVhdGluZyBkZWZhdWx0IHRpbGUgZ3JpZHMsIHlvdSBjYW4gYWRkIGl0IGFmdGVyIHRoZSBQcm9qZWN0aW9uXG4gKiBvYmplY3QgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGBzZXRFeHRlbnRgLCBmb3IgZXhhbXBsZSxcbiAqIGBnZXQoJ0VQU0c6MTIzNCcpLnNldEV4dGVudChleHRlbnQpYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBQcm9qNGpzIHN1cHBvcnQsIGFueSB0cmFuc2Zvcm0gZnVuY3Rpb25zIGNhbiBiZSBhZGRlZCB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouYWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXN9LiBUbyB1c2UgdGhpcywgeW91IG11c3QgZmlyc3QgY3JlYXRlXG4gKiBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBvYmplY3QgZm9yIHRoZSBuZXcgcHJvamVjdGlvbiBhbmQgYWRkIGl0IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gWW91IGNhbiB0aGVuIGFkZCB0aGUgZm9yd2FyZCBhbmQgaW52ZXJzZVxuICogZnVuY3Rpb25zIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gU2VlXG4gKiBleGFtcGxlcy93bXMtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgbm8gdHJhbnNmb3JtcyBhcmUgbmVlZGVkIGFuZCB5b3Ugb25seSBuZWVkIHRvIGRlZmluZSB0aGVcbiAqIHByb2plY3Rpb24sIGp1c3QgYWRkIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gU2VlIGV4YW1wbGVzL3dtcy1uby1wcm9qIGZvciBhbiBleGFtcGxlIG9mXG4gKiB0aGlzLlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL3Byb2ovUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMsIHsgTUVURVJTX1BFUl9VTklUIH0gZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0czODU3X1BST0pFQ1RJT05TLCBmcm9tRVBTRzQzMjYsIHRvRVBTRzQzMjYsIH0gZnJvbSAnLi9wcm9qL2Vwc2czODU3LmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0c0MzI2X1BST0pFQ1RJT05TIH0gZnJvbSAnLi9wcm9qL2Vwc2c0MzI2LmpzJztcbmltcG9ydCB7IGFkZCBhcyBhZGRQcm9qLCBjbGVhciBhcyBjbGVhclByb2osIGdldCBhcyBnZXRQcm9qLCB9IGZyb20gJy4vcHJvai9wcm9qZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhZGQgYXMgYWRkVHJhbnNmb3JtRnVuYywgY2xlYXIgYXMgY2xlYXJUcmFuc2Zvcm1GdW5jcywgZ2V0IGFzIGdldFRyYW5zZm9ybUZ1bmMsIH0gZnJvbSAnLi9wcm9qL3RyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHsgYXBwbHlUcmFuc2Zvcm0sIGdldFdpZHRoIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXREaXN0YW5jZSB9IGZyb20gJy4vc3BoZXJlLmpzJztcbmltcG9ydCB7IGdldFdvcmxkc0F3YXkgfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBBIHByb2plY3Rpb24gYXMge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259LCBTUlMgaWRlbnRpZmllclxuICogc3RyaW5nIG9yIHVuZGVmaW5lZC5cbiAqIEB0eXBlZGVmIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IFByb2plY3Rpb25MaWtlXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQSB0cmFuc2Zvcm0gZnVuY3Rpb24gYWNjZXB0cyBhbiBhcnJheSBvZiBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgYW4gb3B0aW9uYWxcbiAqIG91dHB1dCBhcnJheSwgYW5kIGFuIG9wdGlvbmFsIGRpbWVuc2lvbiAoZGVmYXVsdCBzaG91bGQgYmUgMikuICBUaGUgZnVuY3Rpb25cbiAqIHRyYW5zZm9ybXMgdGhlIGlucHV0IGNvb3JkaW5hdGUgdmFsdWVzLCBwb3B1bGF0ZXMgdGhlIG91dHB1dCBhcnJheSwgYW5kXG4gKiByZXR1cm5zIHRoZSBvdXRwdXQgYXJyYXkuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEFycmF5PG51bWJlcj4sIEFycmF5PG51bWJlcj49LCBudW1iZXI9KTogQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHsgTUVURVJTX1BFUl9VTklUIH07XG5leHBvcnQgeyBQcm9qZWN0aW9uIH07XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9vdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2RpbWVuc2lvbl0gRGltZW5zaW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0IGNvb3JkaW5hdGUgYXJyYXkgKG5ldyBhcnJheSwgc2FtZSBjb29yZGluYXRlXG4gKiAgICAgdmFsdWVzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lVHJhbnNmb3JtKGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgdmFyIG91dHB1dDtcbiAgICBpZiAob3B0X291dHB1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9wdF9vdXRwdXRbaV0gPSBpbnB1dFtpXTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQgPSBvcHRfb3V0cHV0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBjb29yZGluYXRlIGFycmF5LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZGltZW5zaW9uXSBEaW1lbnNpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnB1dCBjb29yZGluYXRlIGFycmF5IChzYW1lIGFycmF5IGFzIGlucHV0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5VHJhbnNmb3JtKGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgaWYgKG9wdF9vdXRwdXQgIT09IHVuZGVmaW5lZCAmJiBpbnB1dCAhPT0gb3B0X291dHB1dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvcHRfb3V0cHV0W2ldID0gaW5wdXRbaV07XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBvcHRfb3V0cHV0O1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQ7XG59XG4vKipcbiAqIEFkZCBhIFByb2plY3Rpb24gb2JqZWN0IHRvIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBwcm9qZWN0aW9ucyB0aGF0IGNhbiBiZVxuICogbG9va2VkIHVwIGJ5IHRoZWlyIGNvZGUuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uIFByb2plY3Rpb24gaW5zdGFuY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBhZGRQcm9qKHByb2plY3Rpb24uZ2V0Q29kZSgpLCBwcm9qZWN0aW9uKTtcbiAgICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24sIHByb2plY3Rpb24sIGNsb25lVHJhbnNmb3JtKTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMgUHJvamVjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICAgIHByb2plY3Rpb25zLmZvckVhY2goYWRkUHJvamVjdGlvbik7XG59XG4vKipcbiAqIEZldGNoZXMgYSBQcm9qZWN0aW9uIG9iamVjdCBmb3IgdGhlIGNvZGUgc3BlY2lmaWVkLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb25MaWtlIEVpdGhlciBhIGNvZGUgc3RyaW5nIHdoaWNoIGlzXG4gKiAgICAgYSBjb21iaW5hdGlvbiBvZiBhdXRob3JpdHkgYW5kIGlkZW50aWZpZXIgc3VjaCBhcyBcIkVQU0c6NDMyNlwiLCBvciBhblxuICogICAgIGV4aXN0aW5nIHByb2plY3Rpb24gb2JqZWN0LCBvciB1bmRlZmluZWQuXG4gKiBAcmV0dXJuIHtQcm9qZWN0aW9ufSBQcm9qZWN0aW9uIG9iamVjdCwgb3IgbnVsbCBpZiBub3QgaW4gbGlzdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChwcm9qZWN0aW9uTGlrZSkge1xuICAgIHJldHVybiB0eXBlb2YgcHJvamVjdGlvbkxpa2UgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZ2V0UHJvaigvKiogQHR5cGUge3N0cmluZ30gKi8gKHByb2plY3Rpb25MaWtlKSlcbiAgICAgICAgOiAvKiogQHR5cGUge1Byb2plY3Rpb259ICovIChwcm9qZWN0aW9uTGlrZSkgfHwgbnVsbDtcbn1cbi8qKlxuICogR2V0IHRoZSByZXNvbHV0aW9uIG9mIHRoZSBwb2ludCBpbiBkZWdyZWVzIG9yIGRpc3RhbmNlIHVuaXRzLlxuICogRm9yIHByb2plY3Rpb25zIHdpdGggZGVncmVlcyBhcyB0aGUgdW5pdCB0aGlzIHdpbGwgc2ltcGx5IHJldHVybiB0aGVcbiAqIHByb3ZpZGVkIHJlc29sdXRpb24uIEZvciBvdGhlciBwcm9qZWN0aW9ucyB0aGUgcG9pbnQgcmVzb2x1dGlvbiBpc1xuICogYnkgZGVmYXVsdCBlc3RpbWF0ZWQgYnkgdHJhbnNmb3JtaW5nIHRoZSAncG9pbnQnIHBpeGVsIHRvIEVQU0c6NDMyNixcbiAqIG1lYXN1cmluZyBpdHMgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbm9ybWFsIHNwaGVyZSxcbiAqIGFuZCB0YWtpbmcgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gKiBBIGN1c3RvbSBmdW5jdGlvbiBjYW4gYmUgcHJvdmlkZWQgZm9yIGEgc3BlY2lmaWMgcHJvamVjdGlvbiwgZWl0aGVyXG4gKiBieSBzZXR0aW5nIHRoZSBgZ2V0UG9pbnRSZXNvbHV0aW9uYCBvcHRpb24gaW4gdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBjb25zdHJ1Y3RvciBvciBieSB1c2luZ1xuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbiNzZXRHZXRQb2ludFJlc29sdXRpb259IHRvIGNoYW5nZSBhbiBleGlzdGluZ1xuICogcHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gTm9taW5hbCByZXNvbHV0aW9uIGluIHByb2plY3Rpb24gdW5pdHMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludCBQb2ludCB0byBmaW5kIGFkanVzdGVkIHJlc29sdXRpb24gYXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Vbml0cy5qc1wiKS5kZWZhdWx0fSBbb3B0X3VuaXRzXSBVbml0cyB0byBnZXQgdGhlIHBvaW50IHJlc29sdXRpb24gaW4uXG4gKiBEZWZhdWx0IGlzIHRoZSBwcm9qZWN0aW9uJ3MgdW5pdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBvaW50IHJlc29sdXRpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludFJlc29sdXRpb24ocHJvamVjdGlvbiwgcmVzb2x1dGlvbiwgcG9pbnQsIG9wdF91bml0cykge1xuICAgIHByb2plY3Rpb24gPSBnZXQocHJvamVjdGlvbik7XG4gICAgdmFyIHBvaW50UmVzb2x1dGlvbjtcbiAgICB2YXIgZ2V0dGVyID0gcHJvamVjdGlvbi5nZXRQb2ludFJlc29sdXRpb25GdW5jKCk7XG4gICAgaWYgKGdldHRlcikge1xuICAgICAgICBwb2ludFJlc29sdXRpb24gPSBnZXR0ZXIocmVzb2x1dGlvbiwgcG9pbnQpO1xuICAgICAgICBpZiAob3B0X3VuaXRzICYmIG9wdF91bml0cyAhPT0gcHJvamVjdGlvbi5nZXRVbml0cygpKSB7XG4gICAgICAgICAgICB2YXIgbWV0ZXJzUGVyVW5pdCA9IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICAgICAgaWYgKG1ldGVyc1BlclVuaXQpIHtcbiAgICAgICAgICAgICAgICBwb2ludFJlc29sdXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAocG9pbnRSZXNvbHV0aW9uICogbWV0ZXJzUGVyVW5pdCkgLyBNRVRFUlNfUEVSX1VOSVRbb3B0X3VuaXRzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHVuaXRzID0gcHJvamVjdGlvbi5nZXRVbml0cygpO1xuICAgICAgICBpZiAoKHVuaXRzID09IFVuaXRzLkRFR1JFRVMgJiYgIW9wdF91bml0cykgfHwgb3B0X3VuaXRzID09IFVuaXRzLkRFR1JFRVMpIHtcbiAgICAgICAgICAgIHBvaW50UmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFc3RpbWF0ZSBwb2ludCByZXNvbHV0aW9uIGJ5IHRyYW5zZm9ybWluZyB0aGUgY2VudGVyIHBpeGVsIHRvIEVQU0c6NDMyNixcbiAgICAgICAgICAgIC8vIG1lYXN1cmluZyBpdHMgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbm9ybWFsIHNwaGVyZSwgYW5kIHRha2luZyB0aGVcbiAgICAgICAgICAgIC8vIGF2ZXJhZ2Ugb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICAgICAgICB2YXIgdG9FUFNHNDMyNl8xID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKHByb2plY3Rpb24sIGdldCgnRVBTRzo0MzI2JykpO1xuICAgICAgICAgICAgaWYgKHRvRVBTRzQzMjZfMSA9PT0gaWRlbnRpdHlUcmFuc2Zvcm0gJiYgdW5pdHMgIT09IFVuaXRzLkRFR1JFRVMpIHtcbiAgICAgICAgICAgICAgICAvLyBubyB0cmFuc2Zvcm0gaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gcmVzb2x1dGlvbiAqIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBwb2ludFswXSAtIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFsxXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMF0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzBdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFsxXSAtIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gdG9FUFNHNDMyNl8xKHZlcnRpY2VzLCB2ZXJ0aWNlcywgMik7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoMCwgMiksIHZlcnRpY2VzLnNsaWNlKDIsIDQpKTtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoNCwgNiksIHZlcnRpY2VzLnNsaWNlKDYsIDgpKTtcbiAgICAgICAgICAgICAgICBwb2ludFJlc29sdXRpb24gPSAod2lkdGggKyBoZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZXRlcnNQZXJVbml0ID0gb3B0X3VuaXRzXG4gICAgICAgICAgICAgICAgPyBNRVRFUlNfUEVSX1VOSVRbb3B0X3VuaXRzXVxuICAgICAgICAgICAgICAgIDogcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICAgICAgICBpZiAobWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uIC89IG1ldGVyc1BlclVuaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvaW50UmVzb2x1dGlvbjtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0aGF0IGRvbid0IGFsdGVyIGNvb3JkaW5hdGVzLiBUaG9zZSBhbGxvd1xuICogdG8gdHJhbnNmb3JtIGJldHdlZW4gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8UHJvamVjdGlvbj59IHByb2plY3Rpb25zIFByb2plY3Rpb25zLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKHByb2plY3Rpb25zKSB7XG4gICAgYWRkUHJvamVjdGlvbnMocHJvamVjdGlvbnMpO1xuICAgIHByb2plY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBwcm9qZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZXN0aW5hdGlvbikge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHNvdXJjZSwgZGVzdGluYXRpb24sIGNsb25lVHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBpbiBhbnkgcHJvamVjdGlvblxuICogaW4gcHJvamVjdGlvbjEgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMxIFByb2plY3Rpb25zIHdpdGggZXF1YWxcbiAqICAgICBtZWFuaW5nLlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMyIFByb2plY3Rpb25zIHdpdGggZXF1YWxcbiAqICAgICBtZWFuaW5nLlxuICogQHBhcmFtIHtUcmFuc2Zvcm1GdW5jdGlvbn0gZm9yd2FyZFRyYW5zZm9ybSBUcmFuc2Zvcm1hdGlvbiBmcm9tIGFueVxuICogICBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24xIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24yLlxuICogQHBhcmFtIHtUcmFuc2Zvcm1GdW5jdGlvbn0gaW52ZXJzZVRyYW5zZm9ybSBUcmFuc2Zvcm0gZnJvbSBhbnkgcHJvamVjdGlvblxuICogICBpbiBwcm9qZWN0aW9uMiB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMS4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFcXVpdmFsZW50VHJhbnNmb3Jtcyhwcm9qZWN0aW9uczEsIHByb2plY3Rpb25zMiwgZm9yd2FyZFRyYW5zZm9ybSwgaW52ZXJzZVRyYW5zZm9ybSkge1xuICAgIHByb2plY3Rpb25zMS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9qZWN0aW9uMSkge1xuICAgICAgICBwcm9qZWN0aW9uczIuZm9yRWFjaChmdW5jdGlvbiAocHJvamVjdGlvbjIpIHtcbiAgICAgICAgICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yLCBmb3J3YXJkVHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbjIsIHByb2plY3Rpb24xLCBpbnZlcnNlVHJhbnNmb3JtKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIENsZWFyIGFsbCBjYWNoZWQgcHJvamVjdGlvbnMgYW5kIHRyYW5zZm9ybXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbFByb2plY3Rpb25zKCkge1xuICAgIGNsZWFyUHJvaigpO1xuICAgIGNsZWFyVHJhbnNmb3JtRnVuY3MoKTtcbn1cbi8qKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0Q29kZSBEZWZhdWx0IGNvZGUuXG4gKiBAcmV0dXJuIHtQcm9qZWN0aW9ufSBQcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdGlvbihwcm9qZWN0aW9uLCBkZWZhdWx0Q29kZSkge1xuICAgIGlmICghcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0KGRlZmF1bHRDb2RlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHByb2plY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBnZXQocHJvamVjdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtQcm9qZWN0aW9ufSAqLyAocHJvamVjdGlvbik7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qflRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tIGEgc2ltcGxlIDJEIGNvb3JkaW5hdGUgdHJhbnNmb3JtXG4gKiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRUcmFuc2Zvcm0gQ29vcmRpbmF0ZVxuICogICAgIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShjb29yZFRyYW5zZm9ybSkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfb3V0cHV0XSBPdXRwdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZGltZW5zaW9uXSBEaW1lbnNpb24uXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChpbnB1dCwgb3B0X291dHB1dCwgb3B0X2RpbWVuc2lvbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICB2YXIgZGltZW5zaW9uID0gb3B0X2RpbWVuc2lvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2RpbWVuc2lvbiA6IDI7XG4gICAgICAgIHZhciBvdXRwdXQgPSBvcHRfb3V0cHV0ICE9PSB1bmRlZmluZWQgPyBvcHRfb3V0cHV0IDogbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gY29vcmRUcmFuc2Zvcm0oW2lucHV0W2ldLCBpbnB1dFtpICsgMV1dKTtcbiAgICAgICAgICAgIG91dHB1dFtpXSA9IHBvaW50WzBdO1xuICAgICAgICAgICAgb3V0cHV0W2kgKyAxXSA9IHBvaW50WzFdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDE7IGogPj0gMjsgLS1qKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W2kgKyBqXSA9IGlucHV0W2kgKyBqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgYmV0d2VlbiB0aGVcbiAqIHNvdXJjZSBwcm9qZWN0aW9uIGFuZCB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIFRoZSBmb3J3YXJkIGFuZCBpbnZlcnNlIGZ1bmN0aW9ucyBjb252ZXJ0IGNvb3JkaW5hdGUgcGFpcnM7IHRoaXMgZnVuY3Rpb25cbiAqIGNvbnZlcnRzIHRoZXNlIGludG8gdGhlIGZ1bmN0aW9ucyB1c2VkIGludGVybmFsbHkgd2hpY2ggYWxzbyBoYW5kbGVcbiAqIGV4dGVudHMgYW5kIGNvb3JkaW5hdGUgYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGZvcndhcmQgVGhlIGZvcndhcmQgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvblxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBpbnZlcnNlIFRoZSBpbnZlcnNlIHRyYW5zZm9ybVxuICogICAgIGZ1bmN0aW9uICh0aGF0IGlzLCBmcm9tIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uIHRvIHRoZSBzb3VyY2VcbiAqICAgICBwcm9qZWN0aW9uKSB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zXG4gKiAgICAgdGhlIHRyYW5zZm9ybWVkIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zKHNvdXJjZSwgZGVzdGluYXRpb24sIGZvcndhcmQsIGludmVyc2UpIHtcbiAgICB2YXIgc291cmNlUHJvaiA9IGdldChzb3VyY2UpO1xuICAgIHZhciBkZXN0UHJvaiA9IGdldChkZXN0aW5hdGlvbik7XG4gICAgYWRkVHJhbnNmb3JtRnVuYyhzb3VyY2VQcm9qLCBkZXN0UHJvaiwgY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oZm9yd2FyZCkpO1xuICAgIGFkZFRyYW5zZm9ybUZ1bmMoZGVzdFByb2osIHNvdXJjZVByb2osIGNyZWF0ZVRyYW5zZm9ybUZyb21Db29yZGluYXRlVHJhbnNmb3JtKGludmVyc2UpKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhIGNvb3JkaW5hdGUgZnJvbSBsb25naXR1ZGUvbGF0aXR1ZGUgdG8gYSBkaWZmZXJlbnQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZSBhcyBsb25naXR1ZGUgYW5kIGxhdGl0dWRlLCBpLmUuXG4gKiAgICAgYW4gYXJyYXkgd2l0aCBsb25naXR1ZGUgYXMgMXN0IGFuZCBsYXRpdHVkZSBhcyAybmQgZWxlbWVudC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IFtvcHRfcHJvamVjdGlvbl0gVGFyZ2V0IHByb2plY3Rpb24uIFRoZVxuICogICAgIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgcHJvamVjdGVkIHRvIHRoZSB0YXJnZXQgcHJvamVjdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Mb25MYXQoY29vcmRpbmF0ZSwgb3B0X3Byb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtKGNvb3JkaW5hdGUsICdFUFNHOjQzMjYnLCBvcHRfcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X3Byb2plY3Rpb24gOiAnRVBTRzozODU3Jyk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSBjb29yZGluYXRlIHRvIGxvbmdpdHVkZS9sYXRpdHVkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgUHJvamVjdGVkIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBbb3B0X3Byb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGNvb3JkaW5hdGUuXG4gKiAgICAgVGhlIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLiBhbiBhcnJheVxuICogICAgIHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0xvbkxhdChjb29yZGluYXRlLCBvcHRfcHJvamVjdGlvbikge1xuICAgIHZhciBsb25MYXQgPSB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcbiAgICB2YXIgbG9uID0gbG9uTGF0WzBdO1xuICAgIGlmIChsb24gPCAtMTgwIHx8IGxvbiA+IDE4MCkge1xuICAgICAgICBsb25MYXRbMF0gPSBtb2R1bG8obG9uICsgMTgwLCAzNjApIC0gMTgwO1xuICAgIH1cbiAgICByZXR1cm4gbG9uTGF0O1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIHByb2plY3Rpb25zIGFyZSB0aGUgc2FtZSwgdGhhdCBpcyBldmVyeSBjb29yZGluYXRlIGluIG9uZVxuICogcHJvamVjdGlvbiBkb2VzIHJlcHJlc2VudCB0aGUgc2FtZSBnZW9ncmFwaGljIHBvaW50IGFzIHRoZSBzYW1lIGNvb3JkaW5hdGUgaW5cbiAqIHRoZSBvdGhlciBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbjEgUHJvamVjdGlvbiAxLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMiBQcm9qZWN0aW9uIDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBFcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudChwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIpIHtcbiAgICBpZiAocHJvamVjdGlvbjEgPT09IHByb2plY3Rpb24yKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgZXF1YWxVbml0cyA9IHByb2plY3Rpb24xLmdldFVuaXRzKCkgPT09IHByb2plY3Rpb24yLmdldFVuaXRzKCk7XG4gICAgaWYgKHByb2plY3Rpb24xLmdldENvZGUoKSA9PT0gcHJvamVjdGlvbjIuZ2V0Q29kZSgpKSB7XG4gICAgICAgIHJldHVybiBlcXVhbFVuaXRzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMgPT09IGNsb25lVHJhbnNmb3JtICYmIGVxdWFsVW5pdHM7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyBpbiB0aGUgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIGZvciB0aGUgZnVuY3Rpb24gZm9yIGNvbnZlcnRpbmdcbiAqIGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvamVjdGlvbiBTb3VyY2UgUHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RpbmF0aW9uUHJvamVjdGlvbiBEZXN0aW5hdGlvbiBQcm9qZWN0aW9uXG4gKiAgICAgb2JqZWN0LlxuICogQHJldHVybiB7VHJhbnNmb3JtRnVuY3Rpb259IFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZVByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciBkZXN0aW5hdGlvbkNvZGUgPSBkZXN0aW5hdGlvblByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnVuYyhzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpO1xuICAgIGlmICghdHJhbnNmb3JtRnVuYykge1xuICAgICAgICB0cmFuc2Zvcm1GdW5jID0gaWRlbnRpdHlUcmFuc2Zvcm07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jO1xufVxuLyoqXG4gKiBHaXZlbiB0aGUgcHJvamVjdGlvbi1saWtlIG9iamVjdHMsIHNlYXJjaGVzIGZvciBhIHRyYW5zZm9ybWF0aW9uXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IGEgY29vcmRpbmF0ZXMgYXJyYXkgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gZ2V0KHNvdXJjZSk7XG4gICAgdmFyIGRlc3RpbmF0aW9uUHJvamVjdGlvbiA9IGdldChkZXN0aW5hdGlvbik7XG4gICAgcmV0dXJuIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIHNvdXJjZSBwcm9qZWN0aW9uIHRvIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBUaGlzIHJldHVybnMgYSBuZXcgY29vcmRpbmF0ZSAoYW5kIGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwpLlxuICpcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2oudHJhbnNmb3JtRXh0ZW50fSBmb3IgZXh0ZW50IHRyYW5zZm9ybWF0aW9uLlxuICogU2VlIHRoZSB0cmFuc2Zvcm0gbWV0aG9kIG9mIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gYW5kIGl0c1xuICogc3ViY2xhc3NlcyBmb3IgZ2VvbWV0cnkgdHJhbnNmb3Jtcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24tbGlrZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24tbGlrZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtRnVuYyhjb29yZGluYXRlLCB1bmRlZmluZWQsIGNvb3JkaW5hdGUubGVuZ3RoKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBleHRlbnQgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpc1xuICogcmV0dXJucyBhIG5ldyBleHRlbnQgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zdG9wc10gTnVtYmVyIG9mIHN0b3BzIHBlciBzaWRlIHVzZWQgZm9yIHRoZSB0cmFuc2Zvcm0uXG4gKiBCeSBkZWZhdWx0IG9ubHkgdGhlIGNvcm5lcnMgYXJlIHVzZWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSB0cmFuc2Zvcm1lZCBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCBzb3VyY2UsIGRlc3RpbmF0aW9uLCBvcHRfc3RvcHMpIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gYXBwbHlUcmFuc2Zvcm0oZXh0ZW50LCB0cmFuc2Zvcm1GdW5jLCB1bmRlZmluZWQsIG9wdF9zdG9wcyk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qZWN0aW9uIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0aW5hdGlvblByb2plY3Rpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBQb2ludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVdpdGhQcm9qZWN0aW9ucyhwb2ludCwgc291cmNlUHJvamVjdGlvbiwgZGVzdGluYXRpb25Qcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoc291cmNlUHJvamVjdGlvbiwgZGVzdGluYXRpb25Qcm9qZWN0aW9uKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtRnVuYyhwb2ludCk7XG59XG4vKipcbiAqIEB0eXBlIHs/UHJvamVjdGlvbn1cbiAqL1xudmFyIHVzZXJQcm9qZWN0aW9uID0gbnVsbDtcbi8qKlxuICogU2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZiB0aGUgc3RhYmxlIEFQSS4gIFN1cHBvcnQgZm9yIHVzZXJcbiAqIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZCBiZSBjb25zaWRlcmVkIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFVzZXJQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICB1c2VyUHJvamVjdGlvbiA9IGdldChwcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogQ2xlYXIgdGhlIHVzZXIgcHJvamVjdGlvbiBpZiBzZXQuICBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgbm90IHlldCBhIHBhcnQgb2ZcbiAqIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlciBwcm9qZWN0aW9ucyBpcyBub3QgeWV0IGNvbXBsZXRlIGFuZCBzaG91bGRcbiAqIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJVc2VyUHJvamVjdGlvbigpIHtcbiAgICB1c2VyUHJvamVjdGlvbiA9IG51bGw7XG59XG4vKipcbiAqIEdldCB0aGUgcHJvamVjdGlvbiBmb3IgY29vcmRpbmF0ZXMgc3VwcGxpZWQgZnJvbSBhbmQgcmV0dXJuZWQgYnkgQVBJIG1ldGhvZHMuXG4gKiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgbm90IHlldCBhIHBhcnQgb2YgdGhlIHN0YWJsZSBBUEkuICBTdXBwb3J0IGZvciB1c2VyXG4gKiBwcm9qZWN0aW9ucyBpcyBub3QgeWV0IGNvbXBsZXRlIGFuZCBzaG91bGQgYmUgY29uc2lkZXJlZCBleHBlcmltZW50YWwuXG4gKiBAcmV0dXJuIHs/UHJvamVjdGlvbn0gVGhlIHVzZXIgcHJvamVjdGlvbiAob3IgbnVsbCBpZiBub3Qgc2V0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJQcm9qZWN0aW9uKCkge1xuICAgIHJldHVybiB1c2VyUHJvamVjdGlvbjtcbn1cbi8qKlxuICogVXNlIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKFdHUy04NCBkYXR1bSkgaW4gQVBJIG1ldGhvZHMuICBOb3RlIHRoYXQgdGhpc1xuICogbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlciBwcm9qZWN0aW9ucyBpc1xuICogbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlR2VvZ3JhcGhpYygpIHtcbiAgICBzZXRVc2VyUHJvamVjdGlvbignRVBTRzo0MzI2Jyk7XG59XG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2VQcm9qZWN0aW9uIFRoZSBpbnB1dCBjb29yZGluYXRlIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgaW5wdXQgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyQ29vcmRpbmF0ZShjb29yZGluYXRlLCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCBzb3VyY2VQcm9qZWN0aW9uLCB1c2VyUHJvamVjdGlvbik7XG59XG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgZnJvbSB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRoZSBpbnB1dCBjb29yZGluYXRlIHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVVzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIGRlc3RQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCB1c2VyUHJvamVjdGlvbiwgZGVzdFByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBSZXR1cm4gYW4gZXh0ZW50IHRyYW5zZm9ybWVkIGludG8gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgZXh0ZW50IGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBJbnB1dCBleHRlbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2VQcm9qZWN0aW9uIFRoZSBpbnB1dCBleHRlbnQgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGlucHV0IGV4dGVudCBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyRXh0ZW50KGV4dGVudCwgc291cmNlUHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24sIHVzZXJQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBpbnB1dCBleHRlbnQgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckV4dGVudChleHRlbnQsIGRlc3RQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtRXh0ZW50KGV4dGVudCwgdXNlclByb2plY3Rpb24sIGRlc3RQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSByZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCBvciBzb3VyY2Ugb3IgdXNlciBwcm9qZWN0aW9uIGFyZSBtaXNzaW5nIHVuaXRzLCB0aGUgb3JpZ2luYWwgcmVzb2x1dGlvblxuICogaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIGluIGlucHV0IHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9XG4gICAgdmFyIHNvdXJjZVVuaXRzID0gZ2V0KHNvdXJjZVByb2plY3Rpb24pLmdldFVuaXRzKCk7XG4gICAgdmFyIHVzZXJVbml0cyA9IHVzZXJQcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gICAgcmV0dXJuIHNvdXJjZVVuaXRzICYmIHVzZXJVbml0c1xuICAgICAgICA/IChyZXNvbHV0aW9uICogTUVURVJTX1BFUl9VTklUW3NvdXJjZVVuaXRzXSkgLyBNRVRFUlNfUEVSX1VOSVRbdXNlclVuaXRzXVxuICAgICAgICA6IHJlc29sdXRpb247XG59XG4vKipcbiAqIFJldHVybiB0aGUgcmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLiBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgb3Igc291cmNlIG9yIHVzZXIgcHJvamVjdGlvbiBhcmUgbWlzc2luZyB1bml0cywgdGhlIG9yaWdpbmFsIHJlc29sdXRpb25cbiAqIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gaW4gZGVzdGluYXRpb24gcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlclJlc29sdXRpb24ocmVzb2x1dGlvbiwgZGVzdFByb2plY3Rpb24pIHtcbiAgICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH1cbiAgICB2YXIgc291cmNlVW5pdHMgPSBnZXQoZGVzdFByb2plY3Rpb24pLmdldFVuaXRzKCk7XG4gICAgdmFyIHVzZXJVbml0cyA9IHVzZXJQcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gICAgcmV0dXJuIHNvdXJjZVVuaXRzICYmIHVzZXJVbml0c1xuICAgICAgICA/IChyZXNvbHV0aW9uICogTUVURVJTX1BFUl9VTklUW3VzZXJVbml0c10pIC8gTUVURVJTX1BFUl9VTklUW3NvdXJjZVVuaXRzXVxuICAgICAgICA6IHJlc29sdXRpb247XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzYWZlIGNvb3JkaW5hdGUgdHJhbnNmb3JtIGZ1bmN0aW9uIGZyb20gYSBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIFwiU2FmZVwiIG1lYW5zIHRoYXQgaXQgY2FuIGhhbmRsZSB3cmFwcGluZyBvZiB4LWNvb3JkaW5hdGVzIGZvciBnbG9iYWwgcHJvamVjdGlvbnMsXG4gKiBhbmQgdGhhdCBjb29yZGluYXRlcyBleGNlZWRpbmcgdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHZhbGlkaXR5IGV4dGVudCdzIHJhbmdlIHdpbGwgYmVcbiAqIGNsYW1wZWQgdG8gdGhlIHZhbGlkaXR5IHJhbmdlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0UHJvaiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0cmFuc2Zvcm0gVHJhbnNmb3JtIGZ1bmN0aW9uIChzb3VyY2UgdG8gZGVzdGlhdGlvbikuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBTYWZlIHRyYW5zZm9ybSBmdW5jdGlvbiAoc291cmNlIHRvIGRlc3RpYXRpb24pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2FmZUNvb3JkaW5hdGVUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdFByb2osIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgdmFyIHNvdXJjZVggPSBjb29yZFswXTtcbiAgICAgICAgdmFyIHNvdXJjZVkgPSBjb29yZFsxXTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkLCB3b3JsZHNBd2F5O1xuICAgICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VFeHRlbnRXaWR0aCA9IGdldFdpZHRoKHNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB3b3JsZHNBd2F5ID0gZ2V0V29ybGRzQXdheShjb29yZCwgc291cmNlUHJvaiwgc291cmNlRXh0ZW50V2lkdGgpO1xuICAgICAgICAgICAgaWYgKHdvcmxkc0F3YXkpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHggdG8gdGhlIHJlYWwgd29ybGRcbiAgICAgICAgICAgICAgICBzb3VyY2VYID0gc291cmNlWCAtIHdvcmxkc0F3YXkgKiBzb3VyY2VFeHRlbnRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZVggPSBjbGFtcChzb3VyY2VYLCBzb3VyY2VFeHRlbnRbMF0sIHNvdXJjZUV4dGVudFsyXSk7XG4gICAgICAgICAgICBzb3VyY2VZID0gY2xhbXAoc291cmNlWSwgc291cmNlRXh0ZW50WzFdLCBzb3VyY2VFeHRlbnRbM10pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm0oW3NvdXJjZVgsIHNvdXJjZVldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ybGRzQXdheSAmJiBkZXN0UHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUgYmFjayB0byB0aGUgb2Zmc2V0IHdvcmxkXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZFswXSArPSB3b3JsZHNBd2F5ICogZ2V0V2lkdGgoZGVzdFByb2ouZ2V0RXh0ZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZDtcbiAgICB9O1xufVxuLyoqXG4gKiBBZGQgdHJhbnNmb3JtcyB0byBhbmQgZnJvbSBFUFNHOjQzMjYgYW5kIEVQU0c6Mzg1Ny4gIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiBieSB3aGVuIHRoaXMgbW9kdWxlIGlzIGV4ZWN1dGVkIGFuZCBzaG91bGQgb25seSBuZWVkIHRvIGJlIGNhbGxlZCBhZ2FpbiBhZnRlclxuICogYGNsZWFyQWxsUHJvamVjdGlvbnMoKWAgaXMgY2FsbGVkIChlLmcuIGluIHRlc3RzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1vbigpIHtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRoYXQgZG9uJ3QgYWx0ZXIgY29vcmRpbmF0ZXMgdG8gY29udmVydCB3aXRoaW4gc2V0IG9mXG4gICAgLy8gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICAgIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhFUFNHMzg1N19QUk9KRUNUSU9OUyk7XG4gICAgYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKEVQU0c0MzI2X1BST0pFQ1RJT05TKTtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRvIGNvbnZlcnQgRVBTRzo0MzI2IGxpa2UgY29vcmRpbmF0ZXMgdG8gRVBTRzozODU3IGxpa2VcbiAgICAvLyBjb29yZGluYXRlcyBhbmQgYmFjay5cbiAgICBhZGRFcXVpdmFsZW50VHJhbnNmb3JtcyhFUFNHNDMyNl9QUk9KRUNUSU9OUywgRVBTRzM4NTdfUFJPSkVDVElPTlMsIGZyb21FUFNHNDMyNiwgdG9FUFNHNDMyNik7XG59XG5hZGRDb21tb24oKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NlbnRlcmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL21hdGguanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCksIG51bWJlciwgaW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemUsIGJvb2xlYW49LCBBcnJheTxudW1iZXI+PSk6IChpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWQpfSBUeXBlXG4gKi9cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9ubHlDZW50ZXIgSWYgdHJ1ZSwgdGhlIGNvbnN0cmFpbnQgd2lsbCBvbmx5IGFwcGx5IHRvIHRoZSB2aWV3IGNlbnRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc21vb3RoIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBnbyBzbGlnaHRseSBvdXQgb2YgdGhlIGdpdmVuIGV4dGVudFxuICogKG9ubHkgZHVyaW5nIGludGVyYWN0aW9uIGFuZCBhbmltYXRpb24pLlxuICogQHJldHVybiB7VHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFeHRlbnQoZXh0ZW50LCBvbmx5Q2VudGVyLCBzbW9vdGgpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplOyB1bnVzZWQgaWYgYG9ubHlDZW50ZXJgIHdhcyBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfY2VudGVyU2hpZnRdIFNoaWZ0IGJldHdlZW4gbWFwIGNlbnRlciBhbmQgdmlld3BvcnQgY2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHNpemUsIG9wdF9pc01vdmluZywgb3B0X2NlbnRlclNoaWZ0KSB7XG4gICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciB2aWV3V2lkdGggPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHZpZXdIZWlnaHQgPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHNoaWZ0WCA9IG9wdF9jZW50ZXJTaGlmdCA/IG9wdF9jZW50ZXJTaGlmdFswXSA6IDA7XG4gICAgICAgICAgICB2YXIgc2hpZnRZID0gb3B0X2NlbnRlclNoaWZ0ID8gb3B0X2NlbnRlclNoaWZ0WzFdIDogMDtcbiAgICAgICAgICAgIHZhciBtaW5YID0gZXh0ZW50WzBdICsgdmlld1dpZHRoIC8gMiArIHNoaWZ0WDtcbiAgICAgICAgICAgIHZhciBtYXhYID0gZXh0ZW50WzJdIC0gdmlld1dpZHRoIC8gMiArIHNoaWZ0WDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdICsgdmlld0hlaWdodCAvIDIgKyBzaGlmdFk7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IGV4dGVudFszXSAtIHZpZXdIZWlnaHQgLyAyICsgc2hpZnRZO1xuICAgICAgICAgICAgLy8gbm90ZTogd2hlbiB6b29taW5nIG91dCBvZiBib3VuZHMsIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgeCBhbmQgeSBtYXlcbiAgICAgICAgICAgIC8vIGVuZCB1cCBpbnZlcnRlZCAobWluID4gbWF4KTsgdGhpcyBoYXMgdG8gYmUgYWNjb3VudGVkIGZvclxuICAgICAgICAgICAgaWYgKG1pblggPiBtYXhYKSB7XG4gICAgICAgICAgICAgICAgbWluWCA9IChtYXhYICsgbWluWCkgLyAyO1xuICAgICAgICAgICAgICAgIG1heFggPSBtaW5YO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pblkgPiBtYXhZKSB7XG4gICAgICAgICAgICAgICAgbWluWSA9IChtYXhZICsgbWluWSkgLyAyO1xuICAgICAgICAgICAgICAgIG1heFkgPSBtaW5ZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHggPSBjbGFtcChjZW50ZXJbMF0sIG1pblgsIG1heFgpO1xuICAgICAgICAgICAgdmFyIHkgPSBjbGFtcChjZW50ZXJbMV0sIG1pblksIG1heFkpO1xuICAgICAgICAgICAgdmFyIHJhdGlvID0gMzAgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGFuIGludGVyYWN0aW9uLCBhbGxvdyBzb21lIG92ZXJzY3JvbGxcbiAgICAgICAgICAgIGlmIChvcHRfaXNNb3ZpbmcgJiYgc21vb3RoKSB7XG4gICAgICAgICAgICAgICAgeCArPVxuICAgICAgICAgICAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWCAtIGNlbnRlclswXSkgLyByYXRpbykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzBdIC0gbWF4WCkgLyByYXRpbyk7XG4gICAgICAgICAgICAgICAgeSArPVxuICAgICAgICAgICAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWSAtIGNlbnRlclsxXSkgLyByYXRpbykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzFdIC0gbWF4WSkgLyByYXRpbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBDZW50ZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoY2VudGVyKSB7XG4gICAgcmV0dXJuIGNlbnRlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNlbnRlcmNvbnN0cmFpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Jlc29sdXRpb25jb25zdHJhaW50XG4gKi9cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7IGdldEhlaWdodCwgZ2V0V2lkdGggfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBsaW5lYXJGaW5kTmVhcmVzdCB9IGZyb20gJy4vYXJyYXkuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBudW1iZXIsIGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplLCBib29sZWFuPSk6IChudW1iZXJ8dW5kZWZpbmVkKX0gVHlwZVxuICovXG4vKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCByZXNvbHV0aW9uIHRha2luZyBpbnRvIGFjY291bnQgdGhlIHZpZXdwb3J0IHNpemUgYW5kIG1heGltdW1cbiAqIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvblxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gdmlld3BvcnRTaXplIFZpZXdwb3J0IHNpemUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dGdWxsRXh0ZW50IFdoZXRoZXIgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENhcHBlZCByZXNvbHV0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG1heEV4dGVudCwgdmlld3BvcnRTaXplLCBzaG93RnVsbEV4dGVudCkge1xuICAgIHZhciB4UmVzb2x1dGlvbiA9IGdldFdpZHRoKG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMF07XG4gICAgdmFyIHlSZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMV07XG4gICAgaWYgKHNob3dGdWxsRXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihyZXNvbHV0aW9uLCBNYXRoLm1heCh4UmVzb2x1dGlvbiwgeVJlc29sdXRpb24pKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKHJlc29sdXRpb24sIE1hdGgubWluKHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbikpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgcmVzb2x1dGlvbiB0byBiZSBiZXR3ZWVuIG1heFJlc29sdXRpb24gYW5kIG1pblJlc29sdXRpb24gd2hpbGVcbiAqIHN0aWxsIGFsbG93aW5nIHRoZSB2YWx1ZSB0byBiZSBzbGlnaHRseSBvdXQgb2YgYm91bmRzLlxuICogTm90ZTogdGhlIGNvbXB1dGF0aW9uIGlzIGJhc2VkIG9uIHRoZSBsb2dhcml0aG0gZnVuY3Rpb24gKGxuKTpcbiAqICAtIGF0IDEsIGxuKHgpIGlzIDBcbiAqICAtIGFib3ZlIDEsIGxuKHgpIGtlZXBzIGluY3JlYXNpbmcgYnV0IGF0IGEgbXVjaCBzbG93ZXIgcGFjZSB0aGFuIHhcbiAqIFRoZSBmaW5hbCByZXN1bHQgaXMgY2xhbXBlZCB0byBwcmV2ZW50IGdldHRpbmcgdG9vIGZhciBhd2F5IGZyb20gYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNtb290aGVkIHJlc29sdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24sIG1pblJlc29sdXRpb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgbWF4UmVzb2x1dGlvbik7XG4gICAgdmFyIHJhdGlvID0gNTA7XG4gICAgcmVzdWx0ICo9XG4gICAgICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIHJlc29sdXRpb24gLyBtYXhSZXNvbHV0aW9uIC0gMSkpIC8gcmF0aW8gK1xuICAgICAgICAgICAgMTtcbiAgICBpZiAobWluUmVzb2x1dGlvbikge1xuICAgICAgICByZXN1bHQgPSBNYXRoLm1heChyZXN1bHQsIG1pblJlc29sdXRpb24pO1xuICAgICAgICByZXN1bHQgLz1cbiAgICAgICAgICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIG1pblJlc29sdXRpb24gLyByZXNvbHV0aW9uIC0gMSkpIC9cbiAgICAgICAgICAgICAgICByYXRpbyArXG4gICAgICAgICAgICAgICAgMTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYW1wKHJlc3VsdCwgbWluUmVzb2x1dGlvbiAvIDIsIG1heFJlc29sdXRpb24gKiAyKTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9tYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMocmVzb2x1dGlvbnMsIG9wdF9zbW9vdGgsIG9wdF9tYXhFeHRlbnQsIG9wdF9zaG93RnVsbEV4dGVudCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9pc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1swXTtcbiAgICAgICAgICAgIHZhciBtaW5SZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbcmVzb2x1dGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgY2FwcGVkTWF4UmVzID0gb3B0X21heEV4dGVudFxuICAgICAgICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBvcHRfbWF4RXh0ZW50LCBzaXplLCBvcHRfc2hvd0Z1bGxFeHRlbnQpXG4gICAgICAgICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbW9vdGggPSBvcHRfc21vb3RoICE9PSB1bmRlZmluZWQgPyBvcHRfc21vb3RoIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhbXAocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIGNhcHBlZE1heFJlcywgbWluUmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FwcGVkID0gTWF0aC5taW4oY2FwcGVkTWF4UmVzLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHZhciB6ID0gTWF0aC5mbG9vcihsaW5lYXJGaW5kTmVhcmVzdChyZXNvbHV0aW9ucywgY2FwcGVkLCBkaXJlY3Rpb24pKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uc1t6XSA+IGNhcHBlZE1heFJlcyAmJiB6IDwgcmVzb2x1dGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uc1t6ICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbel07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3dlciBQb3dlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21pblJlc29sdXRpb25dIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9tYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUG93ZXIocG93ZXIsIG1heFJlc29sdXRpb24sIG9wdF9taW5SZXNvbHV0aW9uLCBvcHRfc21vb3RoLCBvcHRfbWF4RXh0ZW50LCBvcHRfc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBjYXBwZWRNYXhSZXMgPSBvcHRfbWF4RXh0ZW50XG4gICAgICAgICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKG1heFJlc29sdXRpb24sIG9wdF9tYXhFeHRlbnQsIHNpemUsIG9wdF9zaG93RnVsbEV4dGVudClcbiAgICAgICAgICAgICAgICA6IG1heFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IG9wdF9taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRfbWluUmVzb2x1dGlvbiA6IDA7XG4gICAgICAgICAgICAvLyBkdXJpbmcgaW50ZXJhY3Rpbmcgb3IgYW5pbWF0aW5nLCBhbGxvdyBpbnRlcm1lZGlhcnkgdmFsdWVzXG4gICAgICAgICAgICBpZiAob3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNtb290aCA9IG9wdF9zbW9vdGggIT09IHVuZGVmaW5lZCA/IG9wdF9zbW9vdGggOiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghc21vb3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFtcChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzLCBtaW5SZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0b2xlcmFuY2UgPSAxZS05O1xuICAgICAgICAgICAgdmFyIG1pblpvb21MZXZlbCA9IE1hdGguY2VpbChNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkTWF4UmVzKSAvIE1hdGgubG9nKHBvd2VyKSAtIHRvbGVyYW5jZSk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gLWRpcmVjdGlvbiAqICgwLjUgLSB0b2xlcmFuY2UpICsgMC41O1xuICAgICAgICAgICAgdmFyIGNhcHBlZCA9IE1hdGgubWluKGNhcHBlZE1heFJlcywgcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB2YXIgY2FwcGVkWm9vbUxldmVsID0gTWF0aC5mbG9vcihNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkKSAvIE1hdGgubG9nKHBvd2VyKSArIG9mZnNldCk7XG4gICAgICAgICAgICB2YXIgem9vbUxldmVsID0gTWF0aC5tYXgobWluWm9vbUxldmVsLCBjYXBwZWRab29tTGV2ZWwpO1xuICAgICAgICAgICAgdmFyIG5ld1Jlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICByZXR1cm4gY2xhbXAobmV3UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4IHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBNaW4gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9tYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBvcHRfc21vb3RoLCBvcHRfbWF4RXh0ZW50LCBvcHRfc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBjYXBwZWRNYXhSZXMgPSBvcHRfbWF4RXh0ZW50XG4gICAgICAgICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKG1heFJlc29sdXRpb24sIG9wdF9tYXhFeHRlbnQsIHNpemUsIG9wdF9zaG93RnVsbEV4dGVudClcbiAgICAgICAgICAgICAgICA6IG1heFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgc21vb3RoID0gb3B0X3Ntb290aCAhPT0gdW5kZWZpbmVkID8gb3B0X3Ntb290aCA6IHRydWU7XG4gICAgICAgICAgICBpZiAoIXNtb290aCB8fCAhb3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzLCBtaW5SZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdXRpb25jb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yb3RhdGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHsgdG9SYWRpYW5zIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlKHJvdGF0aW9uKSB7XG4gICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShyb3RhdGlvbikge1xuICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbiBOLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb04obikge1xuICAgIHZhciB0aGV0YSA9ICgyICogTWF0aC5QSSkgLyBuO1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyb3RhdGlvbiwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcm90YXRpb24gPSBNYXRoLmZsb29yKHJvdGF0aW9uIC8gdGhldGEgKyAwLjUpICogdGhldGE7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3RvbGVyYW5jZV0gVG9sZXJhbmNlLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1plcm8ob3B0X3RvbGVyYW5jZSkge1xuICAgIHZhciB0b2xlcmFuY2UgPSBvcHRfdG9sZXJhbmNlIHx8IHRvUmFkaWFucyg1KTtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocm90YXRpb24sIG9wdF9pc01vdmluZykge1xuICAgICAgICBpZiAob3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGlvbikgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3RhdGlvbmNvbnN0cmFpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Vhc2luZ1xuICovXG4vKipcbiAqIFN0YXJ0IHNsb3cgYW5kIHNwZWVkIHVwLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3codCwgMyk7XG59XG4vKipcbiAqIFN0YXJ0IGZhc3QgYW5kIHNsb3cgZG93bi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXQodCkge1xuICAgIHJldHVybiAxIC0gZWFzZUluKDEgLSB0KTtcbn1cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCB0aGVuIHNsb3cgZG93biBhZ2Fpbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluQW5kT3V0KHQpIHtcbiAgICByZXR1cm4gMyAqIHQgKiB0IC0gMiAqIHQgKiB0ICogdDtcbn1cbi8qKlxuICogTWFpbnRhaW4gYSBjb25zdGFudCBzcGVlZCBvdmVyIHRpbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXIodCkge1xuICAgIHJldHVybiB0O1xufVxuLyoqXG4gKiBTdGFydCBzbG93LCBzcGVlZCB1cCwgYW5kIGF0IHRoZSB2ZXJ5IGVuZCBzbG93IGRvd24gYWdhaW4uICBUaGlzIGhhcyB0aGVcbiAqIHNhbWUgZ2VuZXJhbCBiZWhhdmlvciBhcyB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZy5pbkFuZE91dH0sIGJ1dCB0aGUgZmluYWxcbiAqIHNsb3dkb3duIGlzIGRlbGF5ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cEFuZERvd24odCkge1xuICAgIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiBpbkFuZE91dCgyICogdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMSAtIGluQW5kT3V0KDIgKiAodCAtIDAuNSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVhc2luZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9HZW9tZXRyeUxheW91dFxuICovXG4vKipcbiAqIFRoZSBjb29yZGluYXRlIGxheW91dCBmb3IgZ2VvbWV0cmllcywgaW5kaWNhdGluZyB3aGV0aGVyIGEgM3JkIG9yIDR0aCB6ICgnWicpXG4gKiBvciBtZWFzdXJlICgnTScpIGNvb3JkaW5hdGUgaXMgYXZhaWxhYmxlLiBTdXBwb3J0ZWQgdmFsdWVzIGFyZSBgJ1hZJ2AsXG4gKiBgJ1hZWidgLCBgJ1hZTSdgLCBgJ1hZWk0nYC5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBYWTogJ1hZJyxcbiAgICBYWVo6ICdYWVonLFxuICAgIFhZTTogJ1hZTScsXG4gICAgWFlaTTogJ1hZWk0nLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlb21ldHJ5TGF5b3V0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdHJhbnNmb3JtXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9kZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0cmFuc2Zvcm0sIG9wdF9kZXN0KSB7XG4gICAgdmFyIGRlc3QgPSBvcHRfZGVzdCA/IG9wdF9kZXN0IDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4ID0gZmxhdENvb3JkaW5hdGVzW2pdO1xuICAgICAgICB2YXIgeSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV07XG4gICAgICAgIGRlc3RbaSsrXSA9IHRyYW5zZm9ybVswXSAqIHggKyB0cmFuc2Zvcm1bMl0gKiB5ICsgdHJhbnNmb3JtWzRdO1xuICAgICAgICBkZXN0W2krK10gPSB0cmFuc2Zvcm1bMV0gKiB4ICsgdHJhbnNmb3JtWzNdICogeSArIHRyYW5zZm9ybVs1XTtcbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIFJvdGF0aW9uIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9kZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgYW5nbGUsIGFuY2hvciwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgZGVzdCA9IG9wdF9kZXN0ID8gb3B0X2Rlc3QgOiBbXTtcbiAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIGFuY2hvclggPSBhbmNob3JbMF07XG4gICAgdmFyIGFuY2hvclkgPSBhbmNob3JbMV07XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBmbGF0Q29vcmRpbmF0ZXNbal0gLSBhbmNob3JYO1xuICAgICAgICB2YXIgZGVsdGFZID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSAtIGFuY2hvclk7XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclggKyBkZWx0YVggKiBjb3MgLSBkZWx0YVkgKiBzaW47XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBkZWx0YVggKiBzaW4gKyBkZWx0YVkgKiBjb3M7XG4gICAgICAgIGZvciAodmFyIGsgPSBqICsgMjsgayA8IGogKyBzdHJpZGU7ICsraykge1xuICAgICAgICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2tdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRfZGVzdCAmJiBkZXN0Lmxlbmd0aCAhPSBpKSB7XG4gICAgICAgIGRlc3QubGVuZ3RoID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59XG4vKipcbiAqIFNjYWxlIHRoZSBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSBTY2FsZSBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgU2NhbGUgYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHN4LCBzeSwgYW5jaG9yLCBvcHRfZGVzdCkge1xuICAgIHZhciBkZXN0ID0gb3B0X2Rlc3QgPyBvcHRfZGVzdCA6IFtdO1xuICAgIHZhciBhbmNob3JYID0gYW5jaG9yWzBdO1xuICAgIHZhciBhbmNob3JZID0gYW5jaG9yWzFdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JYICsgc3ggKiBkZWx0YVg7XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBzeSAqIGRlbHRhWTtcbiAgICAgICAgZm9yICh2YXIgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9kZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZGVsdGFYLCBkZWx0YVksIG9wdF9kZXN0KSB7XG4gICAgdmFyIGRlc3QgPSBvcHRfZGVzdCA/IG9wdF9kZXN0IDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1tqXSArIGRlbHRhWDtcbiAgICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSArIGRlbHRhWTtcbiAgICAgICAgZm9yICh2YXIgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBnZXRIZWlnaHQsIHJldHVybk9yVXBkYXRlLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBtZW1vaXplT25lIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG52YXIgdG1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFRvIGdldCBub3RpZmllZCBvZiBjaGFuZ2VzIHRvIHRoZSBnZW9tZXRyeSwgcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgdGhlXG4gKiBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IG9uIHlvdXIgZ2VvbWV0cnkgaW5zdGFuY2UuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudFJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICogQGFic3RyYWN0XG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXZpc2lvbiBUaGUgZ2VvbWV0cnkgcmV2aXNpb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFtvcHRfdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAocmV2aXNpb24sIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmICghb3B0X3RyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgIGNsb25lLmFwcGx5VHJhbnNmb3JtKG9wdF90cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zaW1wbGlmeVRyYW5zZm9ybWVkID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsKHRoaXMuZ2V0UmV2aXNpb24oKSwgc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7IUdlb21ldHJ5fSBDbG9uZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGNvb3JkID0gdGhpcy5nZXRDbG9zZXN0UG9pbnQoW3gsIHldKTtcbiAgICAgICAgcmV0dXJuIGNvb3JkWzBdID09PSB4ICYmIGNvb3JkWzFdID09PSB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjbG9zZXN0IHBvaW50IG9mIHRoZSBnZW9tZXRyeSB0byB0aGUgcGFzc2VkIHBvaW50IGFzXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGUgY29vcmRpbmF0ZX0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3B0X2Nsb3Nlc3RQb2ludF0gQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENsb3Nlc3QgcG9pbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIG9wdF9jbG9zZXN0UG9pbnQpIHtcbiAgICAgICAgdmFyIGNsb3Nlc3RQb2ludCA9IG9wdF9jbG9zZXN0UG9pbnQgPyBvcHRfY2xvc2VzdFBvaW50IDogW05hTiwgTmFOXTtcbiAgICAgICAgdGhpcy5jbG9zZXN0UG9pbnRYWShwb2ludFswXSwgcG9pbnRbMV0sIGNsb3Nlc3RQb2ludCwgSW5maW5pdHkpO1xuICAgICAgICByZXR1cm4gY2xvc2VzdFBvaW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZ2VvbWV0cnkgaW5jbHVkZXMgdGhlIHNwZWNpZmllZCBjb29yZGluYXRlLiBJZiB0aGVcbiAgICAgKiBjb29yZGluYXRlIGlzIG9uIHRoZSBib3VuZGFyeSBvZiB0aGUgZ2VvbWV0cnksIHJldHVybnMgZmFsc2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc1hZKGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jb21wdXRlRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmV4dGVudFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmNvbXB1dGVFeHRlbnQodGhpcy5leHRlbnRfKTtcbiAgICAgICAgICAgIGlmIChpc05hTihleHRlbnRbMF0pIHx8IGlzTmFOKGV4dGVudFsxXSkpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KGV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV4dGVudFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuT3JVcGRhdGUodGhpcy5leHRlbnRfLCBvcHRfZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgZ2VvbWV0cnkgYXJvdW5kIGEgZ2l2ZW4gY29vcmRpbmF0ZS4gVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUsIGFuY2hvcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2NhbGUgdGhlIGdlb21ldHJ5ICh3aXRoIGFuIG9wdGlvbmFsIG9yaWdpbikuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzeCBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHgtZGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3N5XSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uIChkZWZhdWx0cyB0byBzeCkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgc2NhbGUgb3JpZ2luIChkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAgICogICAgIG9mIHRoZSBnZW9tZXRyeSBleHRlbnQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoc3gsIG9wdF9zeSwgb3B0X2FuY2hvcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkuICBGb3IgbGluZXN0cmluZ3MsIHRoaXMgdXNlc1xuICAgICAqIHRoZSBbRG91Z2xhcyBQZXVja2VyXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtKVxuICAgICAqIGFsZ29yaXRobS4gIEZvciBwb2x5Z29ucywgYSBxdWFudGl6YXRpb24tYmFzZWRcbiAgICAgKiBzaW1wbGlmaWNhdGlvbiBpcyB1c2VkIHRvIHByZXNlcnZlIHRvcG9sb2d5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVGhlIHRvbGVyYW5jZSBkaXN0YW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAgICogQHJldHVybiB7R2VvbWV0cnl9IEEgbmV3LCBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhlIG9yaWdpbmFsIGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuc2ltcGxpZnkgPSBmdW5jdGlvbiAodG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeSh0b2xlcmFuY2UgKiB0b2xlcmFuY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkgdXNpbmcgdGhlIERvdWdsYXMgUGV1Y2tlclxuICAgICAqIGFsZ29yaXRobS5cbiAgICAgKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5ID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHRvIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICAgKiBDYWxsZWQgd2l0aCBhIGZsYXQgYXJyYXkgb2YgZ2VvbWV0cnkgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFwcGx5VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybUZuKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGUgdGhlIGdlb21ldHJ5LiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgaW4gcGxhY2UuICBJZlxuICAgICAqIGluc3RlYWQgeW91IHdhbnQgYSBuZXcgZ2VvbWV0cnksIGZpcnN0IGBjbG9uZSgpYCB0aGlzIGdlb21ldHJ5LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGdlb21ldHJ5IGZyb20gb25lIGNvb3JkaW5hdGUgcmVmZXJlbmNlXG4gICAgICogc3lzdGVtIHRvIGFub3RoZXIuIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICAgKiBGb3IgZXhhbXBsZSwgYSBsaW5lIHdpbGwgYmUgdHJhbnNmb3JtZWQgdG8gYSBsaW5lIGFuZCBhIGNpcmNsZSB0byBhIGNpcmNsZS5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHNvdXJjZSBUaGUgY3VycmVudCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAgICAgKiAgICAgc3RyaW5nIGlkZW50aWZpZXIgb3IgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBUaGUgZGVzaXJlZCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAgICAgKiAgICAgc3RyaW5nIGlkZW50aWZpZXIgb3IgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QuXG4gICAgICogQHJldHVybiB7R2VvbWV0cnl9IFRoaXMgZ2VvbWV0cnkuICBOb3RlIHRoYXQgb3JpZ2luYWwgZ2VvbWV0cnkgaXNcbiAgICAgKiAgICAgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqL1xuICAgICAgICB2YXIgc291cmNlUHJvaiA9IGdldFByb2plY3Rpb24oc291cmNlKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUZuID0gc291cmNlUHJvai5nZXRVbml0cygpID09IFVuaXRzLlRJTEVfUElYRUxTXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChpbkNvb3JkaW5hdGVzLCBvdXRDb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvamVjdGVkRXh0ZW50ID0gc291cmNlUHJvai5nZXRXb3JsZEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IGdldEhlaWdodChwcm9qZWN0ZWRFeHRlbnQpIC8gZ2V0SGVpZ2h0KHBpeGVsRXh0ZW50KTtcbiAgICAgICAgICAgICAgICBjb21wb3NlVHJhbnNmb3JtKHRtcFRyYW5zZm9ybSwgcHJvamVjdGVkRXh0ZW50WzBdLCBwcm9qZWN0ZWRFeHRlbnRbM10sIHNjYWxlLCAtc2NhbGUsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTJEKGluQ29vcmRpbmF0ZXMsIDAsIGluQ29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIHRtcFRyYW5zZm9ybSwgb3V0Q29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdGluYXRpb24pKGluQ29vcmRpbmF0ZXMsIG91dENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBnZXRUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybUZuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gR2VvbWV0cnk7XG59KEJhc2VPYmplY3QpKTtcbmV4cG9ydCBkZWZhdWx0IEdlb21ldHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VvbWV0cnkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL1NpbXBsZUdlb21ldHJ5XG4gKi9cbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuL0dlb21ldHJ5LmpzJztcbmltcG9ydCBHZW9tZXRyeUxheW91dCBmcm9tICcuL0dlb21ldHJ5TGF5b3V0LmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMsIGdldENlbnRlciB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyByb3RhdGUsIHNjYWxlLCB0cmFuc2Zvcm0yRCwgdHJhbnNsYXRlIH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlczsgZG8gbm90IGluc3RhbnRpYXRlXG4gKiBpbiBhcHBzLCBhcyBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBTaW1wbGVHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXlvdXQgPSBHZW9tZXRyeUxheW91dC5YWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cmlkZSA9IDI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmxhdENvb3JkaW5hdGVzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmNvbXB1dGVFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXModGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIGV4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gQ29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZmlyc3QgY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBGaXJzdCBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0Rmlyc3RDb29yZGluYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoMCwgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0RmxhdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxhc3QgY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBMYXN0IHBvaW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0TGFzdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSh0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggLSB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeUxheW91dCBsYXlvdXR9IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IExheW91dC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldExheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkgdXNpbmcgdGhlIERvdWdsYXMgUGV1Y2tlciBhbGdvcml0aG0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7U2ltcGxlR2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldFNpbXBsaWZpZWRHZW9tZXRyeSA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIGlmICh0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uICE9PSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICAgICAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHNxdWFyZWRUb2xlcmFuY2UgaXMgbmVnYXRpdmUgb3IgaWYgd2Uga25vdyB0aGF0IHNpbXBsaWZpY2F0aW9uIHdpbGwgbm90XG4gICAgICAgIC8vIGhhdmUgYW55IGVmZmVjdCB0aGVuIGp1c3QgcmV0dXJuIHRoaXMuXG4gICAgICAgIGlmIChzcXVhcmVkVG9sZXJhbmNlIDwgMCB8fFxuICAgICAgICAgICAgKHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSAhPT0gMCAmJlxuICAgICAgICAgICAgICAgIHNxdWFyZWRUb2xlcmFuY2UgPD0gdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpbXBsaWZpZWRHZW9tZXRyeSA9IHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwoc3F1YXJlZFRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaW1wbGlmaWVkR2VvbWV0cnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTaW1wbGlmaWNhdGlvbiBkaWQgbm90IGFjdHVhbGx5IHJlbW92ZSBhbnkgY29vcmRpbmF0ZXMuICBXZSBub3cga25vd1xuICAgICAgICAgICAgLy8gdGhhdCBhbnkgY2FsbHMgdG8gZ2V0U2ltcGxpZmllZEdlb21ldHJ5IHdpdGggYSBzcXVhcmVkVG9sZXJhbmNlIGxlc3NcbiAgICAgICAgICAgIC8vIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGN1cnJlbnQgc3F1YXJlZFRvbGVyYW5jZSB3aWxsIGFsc28gbm90IGhhdmUgYW55XG4gICAgICAgICAgICAvLyBlZmZlY3QuICBUaGlzIGFsbG93cyB1cyB0byBzaG9ydCBjaXJjdWl0IHNpbXBsaWZpY2F0aW9uIChzYXZpbmcgQ1BVXG4gICAgICAgICAgICAvLyBjeWNsZXMpIGFuZCBwcmV2ZW50cyB0aGUgY2FjaGUgb2Ygc2ltcGxpZmllZCBnZW9tZXRyaWVzIGZyb20gZmlsbGluZ1xuICAgICAgICAgICAgLy8gdXAgd2l0aCB1c2VsZXNzIGlkZW50aWNhbCBjb3BpZXMgb2YgdGhpcyBnZW9tZXRyeSAoc2F2aW5nIG1lbW9yeSkuXG4gICAgICAgICAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UgPSBzcXVhcmVkVG9sZXJhbmNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm4ge1NpbXBsZUdlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgPSBmdW5jdGlvbiAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gU3RyaWRlLlxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRTdHJpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlkZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBsYXlvdXQgTGF5b3V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNldEZsYXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChsYXlvdXQsIGZsYXRDb29yZGluYXRlcykge1xuICAgICAgICB0aGlzLnN0cmlkZSA9IGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpO1xuICAgICAgICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0geyFBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IFtvcHRfbGF5b3V0XSBMYXlvdXQuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IGxheW91dCBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5lc3RpbmcgTmVzdGluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNldExheW91dCA9IGZ1bmN0aW9uIChsYXlvdXQsIGNvb3JkaW5hdGVzLCBuZXN0aW5nKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgICAgICB2YXIgc3RyaWRlO1xuICAgICAgICBpZiAobGF5b3V0KSB7XG4gICAgICAgICAgICBzdHJpZGUgPSBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVzdGluZzsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlkZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtBcnJheX0gKi8gKGNvb3JkaW5hdGVzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJpZGUgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBsYXlvdXQgPSBnZXRMYXlvdXRGb3JTdHJpZGUoc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICogQ2FsbGVkIHdpdGggYSBmbGF0IGFycmF5IG9mIGdlb21ldHJ5IGNvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtRm4pIHtcbiAgICAgICAgaWYgKHRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1Gbih0aGlzLmZsYXRDb29yZGluYXRlcywgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGdlb21ldHJ5IGFyb3VuZCBhIGdpdmVuIGNvb3JkaW5hdGUuIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIGFuZ2xlIGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlLCBhbmNob3IpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgICAgICAgcm90YXRlKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBhbmdsZSwgYW5jaG9yLCBmbGF0Q29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBnZW9tZXRyeSAod2l0aCBhbiBvcHRpb25hbCBvcmlnaW4pLiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3ggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9zeV0gVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbiAoZGVmYXVsdHMgdG8gc3gpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3B0X2FuY2hvcl0gVGhlIHNjYWxlIG9yaWdpbiAoZGVmYXVsdHMgdG8gdGhlIGNlbnRlclxuICAgICAqICAgICBvZiB0aGUgZ2VvbWV0cnkgZXh0ZW50KS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHN4LCBvcHRfc3ksIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIHN5ID0gb3B0X3N5O1xuICAgICAgICBpZiAoc3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3kgPSBzeDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvcjtcbiAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IGdldENlbnRlcih0aGlzLmdldEV4dGVudCgpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgaWYgKGZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IHRoaXMuZ2V0U3RyaWRlKCk7XG4gICAgICAgICAgICBzY2FsZShmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgc3gsIHN5LCBhbmNob3IsIGZsYXRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIHRoZSBnZW9tZXRyeS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5IGNvb3JkaW5hdGVzIGluIHBsYWNlLiAgSWZcbiAgICAgKiBpbnN0ZWFkIHlvdSB3YW50IGEgbmV3IGdlb21ldHJ5LCBmaXJzdCBgY2xvbmUoKWAgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFYIERlbHRhIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWSBEZWx0YSBZLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZShmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgZGVsdGFYLCBkZWx0YVksIGZsYXRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZUdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gbGF5b3V0IExheW91dC5cbiAqL1xuZnVuY3Rpb24gZ2V0TGF5b3V0Rm9yU3RyaWRlKHN0cmlkZSkge1xuICAgIHZhciBsYXlvdXQ7XG4gICAgaWYgKHN0cmlkZSA9PSAyKSB7XG4gICAgICAgIGxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdHJpZGUgPT0gMykge1xuICAgICAgICBsYXlvdXQgPSBHZW9tZXRyeUxheW91dC5YWVo7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0cmlkZSA9PSA0KSB7XG4gICAgICAgIGxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZWk07XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gKi8gKGxheW91dCk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBsYXlvdXQgTGF5b3V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KSB7XG4gICAgdmFyIHN0cmlkZTtcbiAgICBpZiAobGF5b3V0ID09IEdlb21ldHJ5TGF5b3V0LlhZKSB7XG4gICAgICAgIHN0cmlkZSA9IDI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheW91dCA9PSBHZW9tZXRyeUxheW91dC5YWVogfHwgbGF5b3V0ID09IEdlb21ldHJ5TGF5b3V0LlhZTSkge1xuICAgICAgICBzdHJpZGUgPSAzO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXlvdXQgPT0gR2VvbWV0cnlMYXlvdXQuWFlaTSkge1xuICAgICAgICBzdHJpZGUgPSA0O1xuICAgIH1cbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChzdHJpZGUpO1xufVxuLyoqXG4gKiBAcGFyYW0ge1NpbXBsZUdlb21ldHJ5fSBzaW1wbGVHZW9tZXRyeSBTaW1wbGUgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBmbGF0IGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtR2VvbTJEKHNpbXBsZUdlb21ldHJ5LCB0cmFuc2Zvcm0sIG9wdF9kZXN0KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHNpbXBsZUdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGlmICghZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHN0cmlkZSA9IHNpbXBsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIHRyYW5zZm9ybSwgb3B0X2Rlc3QpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZUdlb21ldHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ltcGxlR2VvbWV0cnkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jbG9zZXN0XG4gKi9cbmltcG9ydCB7IGxlcnAsIHNxdWFyZWREaXN0YW5jZSBhcyBzcXVhcmVkRHggfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbi8qKlxuICogUmV0dXJucyB0aGUgcG9pbnQgb24gdGhlIDJEIGxpbmUgc2VnbWVudCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV0gdG9cbiAqIGZsYXRDb29yZGluYXRlc1tvZmZzZXQyXSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIHBvaW50ICh4LCB5KS4gIEV4dHJhXG4gKiBkaW1lbnNpb25zIGFyZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDEgT2Zmc2V0IDEuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0MiBPZmZzZXQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICovXG5mdW5jdGlvbiBhc3NpZ25DbG9zZXN0KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0MSwgb2Zmc2V0Miwgc3RyaWRlLCB4LCB5LCBjbG9zZXN0UG9pbnQpIHtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyAxXTtcbiAgICB2YXIgZHggPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gLSB4MTtcbiAgICB2YXIgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIDFdIC0geTE7XG4gICAgdmFyIG9mZnNldDtcbiAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGxlcnAoZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyBpXSwgZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyBpXSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgICB9XG4gICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBzcXVhcmVkIG9mIHRoZSBsYXJnZXN0IGRpc3RhbmNlIGJldHdlZW4gYW55IHBhaXIgb2YgY29uc2VjdXRpdmVcbiAqIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KSB7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGZvciAob2Zmc2V0ICs9IHN0cmlkZTsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIHZhciBzcXVhcmVkRGVsdGEgPSBzcXVhcmVkRHgoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICBpZiAoc3F1YXJlZERlbHRhID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSBzcXVhcmVkRGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBtYXggPSBtYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBtYXg7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpQXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG1heCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgbWF4ID0gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gbWF4O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF90bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdFBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIG9wdF90bXBQb2ludCkge1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIHZhciBpLCBzcXVhcmVkRGlzdGFuY2U7XG4gICAgaWYgKG1heERlbHRhID09PSAwKSB7XG4gICAgICAgIC8vIEFsbCBwb2ludHMgYXJlIGlkZW50aWNhbCwgc28ganVzdCB0ZXN0IHRoZSBmaXJzdCBwb2ludC5cbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICB2YXIgaW5kZXggPSBvZmZzZXQgKyBzdHJpZGU7XG4gICAgd2hpbGUgKGluZGV4IDwgZW5kKSB7XG4gICAgICAgIGFzc2lnbkNsb3Nlc3QoZmxhdENvb3JkaW5hdGVzLCBpbmRleCAtIHN0cmlkZSwgaW5kZXgsIHN0cmlkZSwgeCwgeSwgdG1wUG9pbnQpO1xuICAgICAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgaW5kZXggKz0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU2tpcCBhaGVhZCBtdWx0aXBsZSBwb2ludHMsIGJlY2F1c2Ugd2Uga25vdyB0aGF0IGFsbCB0aGUgc2tpcHBlZFxuICAgICAgICAgICAgLy8gcG9pbnRzIGNhbm5vdCBiZSBhbnkgY2xvc2VyIHRoYW4gdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzb1xuICAgICAgICAgICAgLy8gZmFyLiAgV2Uga25vdyB0aGlzIGJlY2F1c2Ugd2Uga25vdyBob3cgY2xvc2UgdGhlIGN1cnJlbnQgcG9pbnQgaXMsIGhvd1xuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzbyBmYXIgaXMsIGFuZCB0aGUgbWF4aW11bVxuICAgICAgICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiBjb25zZWN1dGl2ZSBwb2ludHMuICBGb3IgZXhhbXBsZSwgaWYgd2UncmUgY3VycmVudGx5XG4gICAgICAgICAgICAvLyBhdCBkaXN0YW5jZSAxMCwgdGhlIGJlc3Qgd2UndmUgZm91bmQgc28gZmFyIGlzIDMsIGFuZCB0aGF0IHRoZSBtYXhpbXVtXG4gICAgICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cyBpcyAyLCB0aGVuIHdlJ2xsIG5lZWQgdG8gc2tpcCBhdFxuICAgICAgICAgICAgLy8gbGVhc3QgKDEwIC0gMykgLyAyID09IDMgKHJvdW5kZWQgZG93bikgcG9pbnRzIHRvIGhhdmUgYW55IGNoYW5jZSBvZlxuICAgICAgICAgICAgLy8gZmluZGluZyBhIGNsb3NlciBwb2ludC4gIFdlIHVzZSBNYXRoLm1heCguLi4sIDEpIHRvIGVuc3VyZSB0aGF0IHdlXG4gICAgICAgICAgICAvLyBhbHdheXMgYWR2YW5jZSBhdCBsZWFzdCBvbmUgcG9pbnQsIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAgICAgICBpbmRleCArPVxuICAgICAgICAgICAgICAgIHN0cmlkZSAqXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KCgoTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSkgLSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RGVsdGEpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JpbmcpIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhlIGNsb3Npbmcgc2VnbWVudC5cbiAgICAgICAgYXNzaWduQ2xvc2VzdChmbGF0Q29vcmRpbmF0ZXMsIGVuZCAtIHN0cmlkZSwgb2Zmc2V0LCBzdHJpZGUsIHgsIHksIHRtcFBvaW50KTtcbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIHRtcFBvaW50WzBdLCB0bXBQb2ludFsxXSk7XG4gICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IHRtcFBvaW50W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF90bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIG9wdF90bXBQb2ludCkge1xuICAgIHZhciB0bXBQb2ludCA9IG9wdF90bXBQb2ludCA/IG9wdF90bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgdG1wUG9pbnQpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X3RtcFBvaW50XSBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgb3B0X3RtcFBvaW50KSB7XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLCB0bXBQb2ludCk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsb3Nlc3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9kZWZsYXRlXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGUsIHN0cmlkZSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gY29vcmRpbmF0ZVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgY29vcmRpbmF0ZSA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0cmlkZTsgKytqKSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gY29vcmRpbmF0ZVtqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBjb29yZGluYXRlc3MgQ29vcmRpbmF0ZXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfZW5kc10gRW5kcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEVuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXNzLCBzdHJpZGUsIG9wdF9lbmRzKSB7XG4gICAgdmFyIGVuZHMgPSBvcHRfZW5kcyA/IG9wdF9lbmRzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBlbmQgPSBkZWZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGVzc1tqXSwgc3RyaWRlKTtcbiAgICAgICAgZW5kc1tpKytdID0gZW5kO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGVuZHMubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gZW5kcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IGNvb3JkaW5hdGVzc3MgQ29vcmRpbmF0ZXNzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gW29wdF9lbmRzc10gRW5kc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gRW5kc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlc3NzLCBzdHJpZGUsIG9wdF9lbmRzcykge1xuICAgIHZhciBlbmRzcyA9IG9wdF9lbmRzcyA/IG9wdF9lbmRzcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBjb29yZGluYXRlc3NzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXNzc1tqXSwgc3RyaWRlLCBlbmRzc1tpXSk7XG4gICAgICAgIGVuZHNzW2krK10gPSBlbmRzO1xuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGVuZHNzLmxlbmd0aCA9IGk7XG4gICAgcmV0dXJuIGVuZHNzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5XG4gKi9cbi8vIEJhc2VkIG9uIHNpbXBsaWZ5LWpzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3NpbXBsaWZ5LWpzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTIsIFZsYWRpbWlyIEFnYWZvbmtpblxuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuLy9cbi8vICAgIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbi8vICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gICAgMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbi8vICAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbi8vIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbi8vIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4vLyBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4vLyBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4vLyBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuLy8gU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4vLyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuLy8gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbi8vIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4vLyBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbmltcG9ydCB7IHNxdWFyZWREaXN0YW5jZSwgc3F1YXJlZFNlZ21lbnREaXN0YW5jZSB9IGZyb20gJy4uLy4uL21hdGguanMnO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhpZ2hRdWFsaXR5IEhpZ2hlc3QgcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzXSBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNpbXBsaWZpZWQgbGluZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeUxpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBoaWdoUXVhbGl0eSwgb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IG9wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1xuICAgICAgICA6IFtdO1xuICAgIGlmICghaGlnaFF1YWxpdHkpIHtcbiAgICAgICAgZW5kID0gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgc3RyaWRlID0gMjtcbiAgICB9XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgIHJldHVybiBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgICB2YXIgbiA9IChlbmQgLSBvZmZzZXQpIC8gc3RyaWRlO1xuICAgIGlmIChuIDwgMykge1xuICAgICAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICAgIH1cbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgdmFyIG1hcmtlcnMgPSBuZXcgQXJyYXkobik7XG4gICAgbWFya2Vyc1swXSA9IDE7XG4gICAgbWFya2Vyc1tuIC0gMV0gPSAxO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICB2YXIgc3RhY2sgPSBbb2Zmc2V0LCBlbmQgLSBzdHJpZGVdO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGxhc3QgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpcnN0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBtYXhTcXVhcmVkRGlzdGFuY2UgPSAwO1xuICAgICAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3RdO1xuICAgICAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3QgKyAxXTtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2xhc3RdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbbGFzdCArIDFdO1xuICAgICAgICBmb3IgKHZhciBpID0gZmlyc3QgKyBzdHJpZGU7IGkgPCBsYXN0OyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdmFyIHggPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgc3F1YXJlZERpc3RhbmNlXzEgPSBzcXVhcmVkU2VnbWVudERpc3RhbmNlKHgsIHksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2VfMSA+IG1heFNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBtYXhTcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2VfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4U3F1YXJlZERpc3RhbmNlID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgbWFya2Vyc1soaW5kZXggLSBvZmZzZXQpIC8gc3RyaWRlXSA9IDE7XG4gICAgICAgICAgICBpZiAoZmlyc3QgKyBzdHJpZGUgPCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goZmlyc3QsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCArIHN0cmlkZSA8IGxhc3QpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGluZGV4LCBsYXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAobWFya2Vyc1tpXSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSAqIHN0cmlkZV07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpICogc3RyaWRlICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kc3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgICAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gICAgaWYgKGVuZCA8PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAgICAgLy8gemVybyBvciBvbmUgcG9pbnQsIG5vIHNpbXBsaWZpY2F0aW9uIHBvc3NpYmxlLCBzbyBjb3B5IGFuZCByZXR1cm5cbiAgICAgICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICB9XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIC8vIGNvcHkgZmlyc3QgcG9pbnRcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgICB2YXIgeDIgPSB4MTtcbiAgICB2YXIgeTIgPSB5MTtcbiAgICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5MikgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAvLyBjb3B5IHBvaW50IGF0IG9mZnNldFxuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgICB5MSA9IHkyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh4MiAhPSB4MSB8fCB5MiAhPSB5MSkge1xuICAgICAgICAvLyBjb3B5IGxhc3QgcG9pbnRcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJvdW5kZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmFwKHZhbHVlLCB0b2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdG9sZXJhbmNlICogTWF0aC5yb3VuZCh2YWx1ZSAvIHRvbGVyYW5jZSk7XG59XG4vKipcbiAqIFNpbXBsaWZpZXMgYSBsaW5lIHN0cmluZyB1c2luZyBhbiBhbGdvcml0aG0gZGVzaWduZWQgYnkgVGltIFNjaGF1Yi5cbiAqIENvb3JkaW5hdGVzIGFyZSBzbmFwcGVkIHRvIHRoZSBuZWFyZXN0IHZhbHVlIGluIGEgdmlydHVhbCBncmlkIGFuZFxuICogY29uc2VjdXRpdmUgZHVwbGljYXRlIGNvb3JkaW5hdGVzIGFyZSBkaXNjYXJkZWQuICBUaGlzIGVmZmVjdGl2ZWx5IHByZXNlcnZlc1xuICogdG9wb2xvZ3kgYXMgdGhlIHNpbXBsaWZpY2F0aW9uIG9mIGFueSBzdWJzZWN0aW9uIG9mIGEgbGluZSBzdHJpbmcgaXNcbiAqIGluZGVwZW5kZW50IG9mIHRoZSByZXN0IG9mIHRoZSBsaW5lIHN0cmluZy4gIFRoaXMgbWVhbnMgdGhhdCwgZm9yIGV4YW1wbGVzLFxuICogdGhlIGNvbW1vbiBlZGdlIGJldHdlZW4gdHdvIHBvbHlnb25zIHdpbGwgYmUgc2ltcGxpZmllZCB0byB0aGUgc2FtZSBsaW5lXG4gKiBzdHJpbmcgaW5kZXBlbmRlbnRseSBpbiBib3RoIHBvbHlnb25zLiAgVGhpcyBpbXBsZW1lbnRhdGlvbiB1c2VzIGEgc2luZ2xlXG4gKiBwYXNzIG92ZXIgdGhlIGNvb3JkaW5hdGVzIGFuZCBlbGltaW5hdGVzIGludGVybWVkaWF0ZSBjb2xsaW5lYXIgcG9pbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0b2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBsaW5lIGlzIGVtcHR5XG4gICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgfVxuICAgIC8vIHNuYXAgdGhlIGZpcnN0IGNvb3JkaW5hdGUgKFAxKVxuICAgIHZhciB4MSA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgdmFyIHkxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAvLyBhZGQgdGhlIGZpcnN0IGNvb3JkaW5hdGUgdG8gdGhlIG91dHB1dFxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkxO1xuICAgIC8vIGZpbmQgdGhlIG5leHQgY29vcmRpbmF0ZSB0aGF0IGRvZXMgbm90IHNuYXAgdG8gdGhlIHNhbWUgdmFsdWUgYXMgdGhlIGZpcnN0XG4gICAgLy8gY29vcmRpbmF0ZSAoUDIpXG4gICAgdmFyIHgyLCB5MjtcbiAgICBkbyB7XG4gICAgICAgIHgyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICAgICAgeTIgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgICAgIC8vIGFsbCBjb29yZGluYXRlcyBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlLCB0aGUgbGluZSBjb2xsYXBzZXMgdG8gYSBwb2ludFxuICAgICAgICAgICAgLy8gcHVzaCB0aGUgbGFzdCBzbmFwcGVkIHZhbHVlIGFueXdheSB0byBlbnN1cmUgdGhhdCB0aGUgb3V0cHV0IGNvbnRhaW5zXG4gICAgICAgICAgICAvLyBhdCBsZWFzdCB0d28gcG9pbnRzXG4gICAgICAgICAgICAvLyBGSVhNRSBzaG91bGQgd2UgcmVhbGx5IHJldHVybiBhdCBsZWFzdCB0d28gcG9pbnRzIGFueXdheT9cbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKHgyID09IHgxICYmIHkyID09IHkxKTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kKSB7XG4gICAgICAgIC8vIHNuYXAgdGhlIG5leHQgY29vcmRpbmF0ZSAoUDMpXG4gICAgICAgIHZhciB4MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgICAgIHZhciB5MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgICAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgICAgICAvLyBza2lwIFAzIGlmIGl0IGlzIGVxdWFsIHRvIFAyXG4gICAgICAgIGlmICh4MyA9PSB4MiAmJiB5MyA9PSB5Mikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAxIGFuZCBQMlxuICAgICAgICB2YXIgZHgxID0geDIgLSB4MTtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMyBhbmQgUDFcbiAgICAgICAgdmFyIGR4MiA9IHgzIC0geDE7XG4gICAgICAgIHZhciBkeTIgPSB5MyAtIHkxO1xuICAgICAgICAvLyBpZiBQMSwgUDIsIGFuZCBQMyBhcmUgY29saW5lYXIgYW5kIFAzIGlzIGZ1cnRoZXIgZnJvbSBQMSB0aGFuIFAyIGlzIGZyb21cbiAgICAgICAgLy8gUDEgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIHRoZW4gUDIgaXMgb24gdGhlIHN0cmFpZ2h0IGxpbmUgYmV0d2VlbiBQMSBhbmRcbiAgICAgICAgLy8gUDNcbiAgICAgICAgaWYgKGR4MSAqIGR5MiA9PSBkeTEgKiBkeDIgJiZcbiAgICAgICAgICAgICgoZHgxIDwgMCAmJiBkeDIgPCBkeDEpIHx8IGR4MSA9PSBkeDIgfHwgKGR4MSA+IDAgJiYgZHgyID4gZHgxKSkgJiZcbiAgICAgICAgICAgICgoZHkxIDwgMCAmJiBkeTIgPCBkeTEpIHx8IGR5MSA9PSBkeTIgfHwgKGR5MSA+IDAgJiYgZHkyID4gZHkxKSkpIHtcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgUDIgYW5kIHNldCBQMiA9IFAzXG4gICAgICAgICAgICB4MiA9IHgzO1xuICAgICAgICAgICAgeTIgPSB5MztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVpdGhlciBQMSwgUDIsIGFuZCBQMyBhcmUgbm90IGNvbGluZWFyLCBvciB0aGV5IGFyZSBjb2xpbmVhciBidXQgUDMgaXNcbiAgICAgICAgLy8gYmV0d2VlbiBQMyBhbmQgUDEgb3Igb24gdGhlIG9wcG9zaXRlIGhhbGYgb2YgdGhlIGxpbmUgdG8gUDIuICBhZGQgUDIsXG4gICAgICAgIC8vIGFuZCBjb250aW51ZSB3aXRoIFAxID0gUDIgYW5kIFAyID0gUDNcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgICAgICB4MiA9IHgzO1xuICAgICAgICB5MiA9IHkzO1xuICAgIH1cbiAgICAvLyBhZGQgdGhlIGxhc3QgcG9pbnQgKFAyKVxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICAgICAgc2ltcGxpZmllZEVuZHMucHVzaChzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBzaW1wbGlmaWVkRW5kc3MgU2ltcGxpZmllZCBlbmRzcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZU11bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIHRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHNzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbXBsaWZ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW5mbGF0ZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IFtvcHRfY29vcmRpbmF0ZXNdIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBvcHRfY29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICBjb29yZGluYXRlc1tpKytdID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGosIGogKyBzdHJpZGUpO1xuICAgIH1cbiAgICBjb29yZGluYXRlcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IFtvcHRfY29vcmRpbmF0ZXNzXSBDb29yZGluYXRlc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gQ29vcmRpbmF0ZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzcykge1xuICAgIHZhciBjb29yZGluYXRlc3MgPSBvcHRfY29vcmRpbmF0ZXNzICE9PSB1bmRlZmluZWQgPyBvcHRfY29vcmRpbmF0ZXNzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tqXTtcbiAgICAgICAgY29vcmRpbmF0ZXNzW2krK10gPSBpbmZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjb29yZGluYXRlc3NbaV0pO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGNvb3JkaW5hdGVzcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlc3M7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gW29wdF9jb29yZGluYXRlc3NzXVxuICogICAgIENvb3JkaW5hdGVzc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IENvb3JkaW5hdGVzc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXNzcykge1xuICAgIHZhciBjb29yZGluYXRlc3NzID0gb3B0X2Nvb3JkaW5hdGVzc3MgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlc3NzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHNzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tqXTtcbiAgICAgICAgY29vcmRpbmF0ZXNzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgY29vcmRpbmF0ZXNzc1tpXSk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZXNzcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlc3NzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2FyZWFcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgdHdpY2VBcmVhID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB0d2ljZUFyZWEgKz0geTEgKiB4MiAtIHgxICogeTI7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiB0d2ljZUFyZWEgLyAyO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIGFyZWEgKz0gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBhcmVhO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlKSB7XG4gICAgdmFyIGFyZWEgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgYXJlYSArPSBsaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZWEuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0xpbmVhclJpbmdcbiAqL1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQgeyBhc3NpZ25DbG9zZXN0UG9pbnQsIG1heFNxdWFyZWREZWx0YSB9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZsYXRlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBkb3VnbGFzUGV1Y2tlciB9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5pbXBvcnQgeyBpbmZsYXRlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nIGFzIGxpbmVhclJpbmdBcmVhIH0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMaW5lYXIgcmluZyBnZW9tZXRyeS4gT25seSB1c2VkIGFzIHBhcnQgb2YgcG9seWdvbjsgY2Fubm90IGJlIHJlbmRlcmVkXG4gKiBvbiBpdHMgb3duLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIExpbmVhclJpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpbmVhclJpbmcsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqICAgICBGb3IgaW50ZXJuYWwgdXNlLCBmbGF0IGNvb3JkaW5hdGVzIGluIGNvbWJpbmF0aW9uIHdpdGggYG9wdF9sYXlvdXRgIGFyZSBhbHNvIGFjY2VwdGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBbb3B0X2xheW91dF0gTGF5b3V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpbmVhclJpbmcoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YV8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuICAgICAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldENvb3JkaW5hdGVzKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqLyAoY29vcmRpbmF0ZXMpLCBvcHRfbGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHshTGluZWFyUmluZ30gQ2xvbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQobWF4U3F1YXJlZERlbHRhKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHRoaXMuc3RyaWRlLCAwKSk7XG4gICAgICAgICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NpZ25DbG9zZXN0UG9pbnQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIHRoaXMubWF4RGVsdGFfLCB0cnVlLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIGxpbmVhciByaW5nIG9uIHByb2plY3RlZCBwbGFuZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5nQXJlYSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXModGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7TGluZWFyUmluZ30gU2ltcGxpZmllZCBMaW5lYXJSaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5MSU5FQVJfUklORztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICAgKiBAcGFyYW0geyFBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gW29wdF9sYXlvdXRdIExheW91dC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdGhpcy5zZXRMYXlvdXQob3B0X2xheW91dCwgY29vcmRpbmF0ZXMsIDEpO1xuICAgICAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRlZmxhdGVDb29yZGluYXRlcyh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGluZWFyUmluZztcbn0oU2ltcGxlR2VvbWV0cnkpKTtcbmV4cG9ydCBkZWZhdWx0IExpbmVhclJpbmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lYXJSaW5nLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2ludFxuICovXG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7IGNvbnRhaW5zWFksIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmbGF0ZUNvb3JkaW5hdGUgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4IH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvaW50IGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb2ludCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IFtvcHRfbGF5b3V0XSBMYXlvdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHshUG9pbnR9IENsb25lLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludCA9IG5ldyBQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gICAgICAgIHBvaW50LmFwcGx5UHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgICAgICB2YXIgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIGZsYXRDb29yZGluYXRlc1swXSwgZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IHRoaXMuc3RyaWRlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICAgICAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPyBbXSA6IHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNvbXB1dGVFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBleHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBHZW9tZXRyeVR5cGUuUE9JTlQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBjb250YWluc1hZKGV4dGVudCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMF0sIHRoaXMuZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUFycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gW29wdF9sYXlvdXRdIExheW91dC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgICAgIHRoaXMuc2V0TGF5b3V0KG9wdF9sYXlvdXQsIGNvb3JkaW5hdGVzLCAwKTtcbiAgICAgICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkZWZsYXRlQ29vcmRpbmF0ZSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnQ7XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5leHBvcnQgZGVmYXVsdCBQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY29udGFpbnNcbiAqL1xuaW1wb3J0IHsgZm9yRWFjaENvcm5lciB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgICB2YXIgb3V0c2lkZSA9IGZvckVhY2hDb3JuZXIoZXh0ZW50LCBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gIWxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICFvdXRzaWRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHgsIHkpIHtcbiAgICAvLyBodHRwczovL2dlb21hbGdvcml0aG1zLmNvbS9hMDMtX2luY2x1c2lvbi5odG1sXG4gICAgLy8gQ29weXJpZ2h0IDIwMDAgc29mdFN1cmZlciwgMjAxMiBEYW4gU3VuZGF5XG4gICAgLy8gVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gICAgLy8gcHJvdmlkaW5nIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIGlzIGluY2x1ZGVkIHdpdGggaXQuXG4gICAgLy8gU29mdFN1cmZlciBtYWtlcyBubyB3YXJyYW50eSBmb3IgdGhpcyBjb2RlLCBhbmQgY2Fubm90IGJlIGhlbGRcbiAgICAvLyBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICAgIC8vIFVzZXJzIG9mIHRoaXMgY29kZSBtdXN0IHZlcmlmeSBjb3JyZWN0bmVzcyBmb3IgdGhlaXIgYXBwbGljYXRpb24uXG4gICAgdmFyIHduID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICBpZiAoeTEgPD0geSkge1xuICAgICAgICAgICAgaWYgKHkyID4geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpID4gMCkge1xuICAgICAgICAgICAgICAgIHduKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeTIgPD0geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpIDwgMCkge1xuICAgICAgICAgICAgd24tLTtcbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gd24gIT09IDA7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSB7XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAxLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCB4LCB5KSB7XG4gICAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250YWlucy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnRcbiAqL1xuaW1wb3J0IHsgY29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRGbGF0Q29vcmRpbmF0ZXMsIGludGVyc2VjdHMsIGludGVyc2VjdHNTZWdtZW50LCB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoIGFzIGZvckVhY2hTZWdtZW50IH0gZnJvbSAnLi9zZWdtZW50cy5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQsIGxpbmVhclJpbmdDb250YWluc1hZIH0gZnJvbSAnLi9jb250YWlucy5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIHZhciBjb29yZGluYXRlc0V4dGVudCA9IGV4dGVuZEZsYXRDb29yZGluYXRlcyhjcmVhdGVFbXB0eSgpLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIGlmICghaW50ZXJzZWN0cyhleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjb250YWluc0V4dGVudChleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVzRXh0ZW50WzBdID49IGV4dGVudFswXSAmJiBjb29yZGluYXRlc0V4dGVudFsyXSA8PSBleHRlbnRbMl0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlc0V4dGVudFsxXSA+PSBleHRlbnRbMV0gJiYgY29vcmRpbmF0ZXNFeHRlbnRbM10gPD0gZXh0ZW50WzNdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm9yRWFjaFNlZ21lbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQxIFN0YXJ0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludDIgRW5kIHBvaW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgc2VnbWVudCBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QsXG4gICAgICogICAgIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChwb2ludDEsIHBvaW50Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0c1NlZ21lbnQoZXh0ZW50LCBwb2ludDEsIHBvaW50Mik7XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbaV0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMF0sIGV4dGVudFsxXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFswXSwgZXh0ZW50WzNdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzJdLCBleHRlbnRbMV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMl0sIGV4dGVudFszXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZXh0ZW50KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdDb250YWluc0V4dGVudChmbGF0Q29vcmRpbmF0ZXMsIGVuZHNbaSAtIDFdLCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIGlmICghaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmdNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIGlmIChpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0c2V4dGVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NlZ21lbnRzXG4gKi9cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIHNlZ21lbnQgb2YgdGhlIGZsYXQgY29vcmRpbmF0ZXNcbiAqIGFycmF5LiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0XG4gKiB2YWx1ZSBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFR9IGNhbGxiYWNrIEZ1bmN0aW9uXG4gKiAgICAgY2FsbGVkIGZvciBlYWNoIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtUfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjYWxsYmFjaykge1xuICAgIHZhciByZXQ7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgIHJldCA9IGNhbGxiYWNrKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQgLSBzdHJpZGUsIG9mZnNldCksIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIG9mZnNldCArIHN0cmlkZSkpO1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlZ21lbnRzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvcmV2ZXJzZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV0gPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV07XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV0gPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgZW5kIC09IHN0cmlkZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXZlcnNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvb3JpZW50XG4gKi9cbmltcG9ydCB7IGNvb3JkaW5hdGVzIGFzIHJldmVyc2VDb29yZGluYXRlcyB9IGZyb20gJy4vcmV2ZXJzZS5qcyc7XG4vKipcbiAqIElzIHRoZSBsaW5lYXIgcmluZyBvcmllbnRlZCBjbG9ja3dpc2UgaW4gYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgYm90dG9tLWxlZnRcbiAqIGNvb3JkaW5hdGUgb3JpZ2luPyBGb3IgYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgdG9wLWxlZnQgY29vcmRpbmF0ZSBvcmlnaW4sXG4gKiB0aGUgcmluZydzIG9yaWVudGF0aW9uIGlzIGNsb2Nrd2lzZSB3aGVuIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBmYWxzZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBjbG9ja3dpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzExNjU2NDcvY2xvY2t3aXNlLW1ldGhvZCMxMTY1OTQzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL09TR2VvL2dkYWwvYmxvYi9tYXN0ZXIvZ2RhbC9vZ3Ivb2dybGluZWFycmluZy5jcHBcbiAgICB2YXIgZWRnZSA9IDA7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgZWRnZSArPSAoeDIgLSB4MSkgKiAoeTIgKyB5MSk7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiBlZGdlID09PSAwID8gdW5kZWZpbmVkIDogZWRnZSA+IDA7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgQXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yaWdodF0gVGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvblxuICogICAgIChjb3VudGVyLWNsb2Nrd2lzZSBleHRlcmlvciByaW5nIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmluZ3MgYXJlIGNvcnJlY3RseSBvcmllbnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgdmFyIHJpZ2h0ID0gb3B0X3JpZ2h0ICE9PSB1bmRlZmluZWQgPyBvcHRfcmlnaHQgOiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIHZhciBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0X3JpZ2h0XSBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaWYgKCFsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0X3JpZ2h0XSBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIHZhciByaWdodCA9IG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkID8gb3B0X3JpZ2h0IDogZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICB2YXIgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICAgICAgdmFyIHJldmVyc2UgPSBpID09PSAwXG4gICAgICAgICAgICA/IChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpXG4gICAgICAgICAgICA6IChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpO1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgcmV2ZXJzZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xufVxuLyoqXG4gKiBPcmllbnQgY29vcmRpbmF0ZXMgaW4gYSBmbGF0IGFycmF5IG9mIGxpbmVhciByaW5ncy4gIEJ5IGRlZmF1bHQsIHJpbmdzXG4gKiBhcmUgb3JpZW50ZWQgZm9sbG93aW5nIHRoZSBsZWZ0LWhhbmQgcnVsZSAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmRcbiAqIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBUbyBvcmllbnQgYWNjb3JkaW5nIHRvIHRoZVxuICogcmlnaHQtaGFuZCBydWxlLCB1c2UgdGhlIGBvcHRfcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEFycmF5IG9mIGFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfcmlnaHRdIEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3NBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBvZmZzZXQgPSBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgb3B0X3JpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9yaWVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vUG9seWdvblxuICovXG5pbXBvcnQgR2VvbWV0cnlMYXlvdXQgZnJvbSAnLi9HZW9tZXRyeUxheW91dC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBMaW5lYXJSaW5nIGZyb20gJy4vTGluZWFyUmluZy5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludC5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQgeyBhcnJheU1heFNxdWFyZWREZWx0YSwgYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQgfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFksIGdldENlbnRlciB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSB9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGdldEludGVyaW9yUG9pbnRPZkFycmF5IH0gZnJvbSAnLi9mbGF0L2ludGVyaW9ycG9pbnQuanMnO1xuaW1wb3J0IHsgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkgfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5IH0gZnJvbSAnLi9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMnO1xuaW1wb3J0IHsgbGluZWFyUmluZ3NBcmVPcmllbnRlZCwgb3JpZW50TGluZWFyUmluZ3MgfSBmcm9tICcuL2ZsYXQvb3JpZW50LmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzIGFzIGxpbmVhclJpbmdzQXJlYSB9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzQ29udGFpbnNYWSB9IGZyb20gJy4vZmxhdC9jb250YWlucy5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7IHF1YW50aXplQXJyYXkgfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHsgb2Zmc2V0IGFzIHNwaGVyZU9mZnNldCB9IGZyb20gJy4uL3NwaGVyZS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvbHlnb24gZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG52YXIgUG9seWdvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9seWdvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PnwhQXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXNcbiAgICAgKiAgICAgQXJyYXkgb2YgbGluZWFyIHJpbmdzIHRoYXQgZGVmaW5lIHRoZSBwb2x5Z29uLiBUaGUgZmlyc3QgbGluZWFyIHJpbmcgb2YgdGhlXG4gICAgICogICAgIGFycmF5IGRlZmluZXMgdGhlIG91dGVyLWJvdW5kYXJ5IG9yIHN1cmZhY2Ugb2YgdGhlIHBvbHlnb24uIEVhY2ggc3Vic2VxdWVudFxuICAgICAqICAgICBsaW5lYXIgcmluZyBkZWZpbmVzIGEgaG9sZSBpbiB0aGUgc3VyZmFjZSBvZiB0aGUgcG9seWdvbi4gQSBsaW5lYXIgcmluZyBpc1xuICAgICAqICAgICBhbiBhcnJheSBvZiB2ZXJ0aWNlcycgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIGZpcnN0IGNvb3JkaW5hdGUgYW5kIHRoZSBsYXN0IGFyZVxuICAgICAqICAgICBlcXVpdmFsZW50LiAoRm9yIGludGVybmFsIHVzZSwgZmxhdCBjb29yZGluYXRlcyBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAgICogICAgIGBvcHRfbGF5b3V0YCBhbmQgYG9wdF9lbmRzYCBhcmUgYWxzbyBhY2NlcHRlZC4pXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IFtvcHRfbGF5b3V0XSBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X2VuZHNdIEVuZHMgKGZvciBpbnRlcm5hbCB1c2Ugd2l0aCBmbGF0IGNvb3JkaW5hdGVzKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2x5Z29uKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0LCBvcHRfZW5kcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmxhdEludGVyaW9yUG9pbnRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YV8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWVudGVkUmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRfbGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgb3B0X2VuZHMpIHtcbiAgICAgICAgICAgIF90aGlzLnNldEZsYXRDb29yZGluYXRlcyhvcHRfbGF5b3V0LCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgICAgICAgICBfdGhpcy5lbmRzXyA9IG9wdF9lbmRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuc2V0Q29vcmRpbmF0ZXMoXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSAqLyAoY29vcmRpbmF0ZXMpLCBvcHRfbGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCB0aGUgcGFzc2VkIGxpbmVhciByaW5nIHRvIHRoaXMgcG9seWdvbi5cbiAgICAgKiBAcGFyYW0ge0xpbmVhclJpbmd9IGxpbmVhclJpbmcgTGluZWFyIHJpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmFwcGVuZExpbmVhclJpbmcgPSBmdW5jdGlvbiAobGluZWFyUmluZykge1xuICAgICAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGxpbmVhclJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLmZsYXRDb29yZGluYXRlcywgbGluZWFyUmluZy5nZXRGbGF0Q29vcmRpbmF0ZXMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRzXy5wdXNoKHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4geyFQb2x5Z29ufSBDbG9uZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2x5Z29uID0gbmV3IFBvbHlnb24odGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQsIHRoaXMuZW5kc18uc2xpY2UoKSk7XG4gICAgICAgIHBvbHlnb24uYXBwbHlQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSh0aGlzLmdldEV4dGVudCgpLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KGFycmF5TWF4U3F1YXJlZERlbHRhKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgMCkpO1xuICAgICAgICAgICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCB0aGlzLm1heERlbHRhXywgdHJ1ZSwgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVhclJpbmdzQ29udGFpbnNYWSh0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCB4LCB5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgcG9seWdvbiBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChvbiBwcm9qZWN0ZWQgcGxhbmUpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRBcmVhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbGluZWFyUmluZ3NBcmVhKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb29yZGluYXRlIGFycmF5IGZvciB0aGlzIGdlb21ldHJ5LiAgVGhpcyBhcnJheSBoYXMgdGhlIHN0cnVjdHVyZVxuICAgICAqIG9mIGEgR2VvSlNPTiBjb29yZGluYXRlIGFycmF5IGZvciBwb2x5Z29ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yaWdodF0gT3JpZW50IGNvb3JkaW5hdGVzIGFjY29yZGluZyB0byB0aGUgcmlnaHQtaGFuZFxuICAgICAqICAgICBydWxlIChjb3VudGVyLWNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgICAqICAgICBJZiBgZmFsc2VgLCBjb29yZGluYXRlcyB3aWxsIGJlIG9yaWVudGVkIGFjY29yZGluZyB0byB0aGUgbGVmdC1oYW5kIHJ1bGVcbiAgICAgKiAgICAgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAgICogICAgIEJ5IGRlZmF1bHQsIGNvb3JkaW5hdGUgb3JpZW50YXRpb24gd2lsbCBkZXBlbmQgb24gaG93IHRoZSBnZW9tZXRyeSB3YXNcbiAgICAgKiAgICAgY29uc3RydWN0ZWQuXG4gICAgICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChvcHRfcmlnaHQpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcztcbiAgICAgICAgaWYgKG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgICAgICAgIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIG9wdF9yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEVuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnQuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0RmxhdEludGVyaW9yUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdmFyIGZsYXRDZW50ZXIgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgICAgICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIGZsYXRDZW50ZXIsIDApO1xuICAgICAgICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW50ZXJpb3IgcG9pbnQgb2YgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UG9pbnR9IEludGVyaW9yIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICAgICAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0SW50ZXJpb3JQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLmdldEZsYXRJbnRlcmlvclBvaW50KCksIEdlb21ldHJ5TGF5b3V0LlhZTSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiByaW5ncyBvZiB0aGUgcG9seWdvbiwgIHRoaXMgaW5jbHVkZXMgdGhlIGV4dGVyaW9yXG4gICAgICogcmluZyBhbmQgYW55IGludGVyaW9yIHJpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgcmluZ3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kc18ubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBOdGggbGluZWFyIHJpbmcgb2YgdGhlIHBvbHlnb24gZ2VvbWV0cnkuIFJldHVybiBgbnVsbGAgaWYgdGhlXG4gICAgICogZ2l2ZW4gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICAgICAqIFRoZSBleHRlcmlvciBsaW5lYXIgcmluZyBpcyBhdmFpbGFibGUgYXQgaW5kZXggYDBgIGFuZCB0aGUgaW50ZXJpb3IgcmluZ3NcbiAgICAgKiBhdCBpbmRleCBgMWAgYW5kIGJleW9uZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfSBMaW5lYXIgcmluZy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0TGluZWFyUmluZyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuZW5kc18ubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoaW5kZXggPT09IDAgPyAwIDogdGhpcy5lbmRzX1tpbmRleCAtIDFdLCB0aGlzLmVuZHNfW2luZGV4XSksIHRoaXMubGF5b3V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGluZWFyIHJpbmdzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PExpbmVhclJpbmc+fSBMaW5lYXIgcmluZ3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgdmFyIGVuZHMgPSB0aGlzLmVuZHNfO1xuICAgICAgICB2YXIgbGluZWFyUmluZ3MgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgbGluZWFyUmluZyA9IG5ldyBMaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIGVuZCksIGxheW91dCk7XG4gICAgICAgICAgICBsaW5lYXJSaW5ncy5wdXNoKGxpbmVhclJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5ncztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWVudGVkIGZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWVudGVkUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgICAgICAgICAgaWYgKGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18ubGVuZ3RoID0gb3JpZW50TGluZWFyUmluZ3ModGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18sIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7UG9seWdvbn0gU2ltcGxpZmllZCBQb2x5Z29uLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IHF1YW50aXplQXJyYXkodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBNYXRoLnNxcnQoc3F1YXJlZFRvbGVyYW5jZSksIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDAsIHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gR2VvbWV0cnlUeXBlLlBPTFlHT047XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24uXG4gICAgICogQHBhcmFtIHshQXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBbb3B0X2xheW91dF0gTGF5b3V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMik7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlLCB0aGlzLmVuZHNfKTtcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZW5kcy5sZW5ndGggPT09IDAgPyAwIDogZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBQb2x5Z29uO1xufShTaW1wbGVHZW9tZXRyeSkpO1xuZXhwb3J0IGRlZmF1bHQgUG9seWdvbjtcbi8qKlxuICogQ3JlYXRlIGFuIGFwcHJveGltYXRpb24gb2YgYSBjaXJjbGUgb24gdGhlIHN1cmZhY2Ugb2YgYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlciAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciB0b1xuICogICAgIHRoZSBwb2x5Z29uIHZlcnRpY2VzIGluIG1ldGVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X25dIE9wdGlvbmFsIG51bWJlciBvZiB2ZXJ0aWNlcyBmb3IgdGhlIHJlc3VsdGluZ1xuICogICAgIHBvbHlnb24uIERlZmF1bHQgaXMgYDMyYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3NwaGVyZVJhZGl1c10gT3B0aW9uYWwgcmFkaXVzIGZvciB0aGUgc3BoZXJlIChkZWZhdWx0cyB0b1xuICogICAgIHRoZSBFYXJ0aCdzIG1lYW4gcmFkaXVzIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQpLlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIFwiY2lyY3VsYXJcIiBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY3VsYXIoY2VudGVyLCByYWRpdXMsIG9wdF9uLCBvcHRfc3BoZXJlUmFkaXVzKSB7XG4gICAgdmFyIG4gPSBvcHRfbiA/IG9wdF9uIDogMzI7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBleHRlbmQoZmxhdENvb3JkaW5hdGVzLCBzcGhlcmVPZmZzZXQoY2VudGVyLCByYWRpdXMsICgyICogTWF0aC5QSSAqIGkpIC8gbiwgb3B0X3NwaGVyZVJhZGl1cykpO1xuICAgIH1cbiAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFksIFtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICBdKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgcG9seWdvbiBmcm9tIGFuIGV4dGVudC4gVGhlIGxheW91dCB1c2VkIGlzIGBYWWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXh0ZW50KGV4dGVudCkge1xuICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdO1xuICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1pblksXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1heFksXG4gICAgICAgIG1heFgsXG4gICAgICAgIG1heFksXG4gICAgICAgIG1heFgsXG4gICAgICAgIG1pblksXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1pblksXG4gICAgXTtcbiAgICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgW1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgIF0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZWd1bGFyIHBvbHlnb24gZnJvbSBhIGNpcmNsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIENpcmNsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3NpZGVzXSBOdW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHBvbHlnb24uIERlZmF1bHQgaXMgMzIuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9hbmdsZV0gU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ2lyY2xlKGNpcmNsZSwgb3B0X3NpZGVzLCBvcHRfYW5nbGUpIHtcbiAgICB2YXIgc2lkZXMgPSBvcHRfc2lkZXMgPyBvcHRfc2lkZXMgOiAzMjtcbiAgICB2YXIgc3RyaWRlID0gY2lyY2xlLmdldFN0cmlkZSgpO1xuICAgIHZhciBsYXlvdXQgPSBjaXJjbGUuZ2V0TGF5b3V0KCk7XG4gICAgdmFyIGNlbnRlciA9IGNpcmNsZS5nZXRDZW50ZXIoKTtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSBzdHJpZGUgKiAoc2lkZXMgKyAxKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbmV3IEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpICs9IHN0cmlkZSkge1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbaV0gPSAwO1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdID0gMDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDI7IGogPCBzdHJpZGU7IGorKykge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW2kgKyBqXSA9IGNlbnRlcltqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgbGF5b3V0LCBlbmRzKTtcbiAgICBtYWtlUmVndWxhcihwb2x5Z29uLCBjZW50ZXIsIGNpcmNsZS5nZXRSYWRpdXMoKSwgb3B0X2FuZ2xlKTtcbiAgICByZXR1cm4gcG9seWdvbjtcbn1cbi8qKlxuICogTW9kaWZ5IHRoZSBjb29yZGluYXRlcyBvZiBhIHBvbHlnb24gdG8gbWFrZSBpdCBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBQb2x5Z29uIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9hbmdsZV0gU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgcmFkaXVzLCBvcHRfYW5nbGUpIHtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbi5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gcG9seWdvbi5nZXRTdHJpZGUoKTtcbiAgICB2YXIgc2lkZXMgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlIC0gMTtcbiAgICB2YXIgc3RhcnRBbmdsZSA9IG9wdF9hbmdsZSA/IG9wdF9hbmdsZSA6IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2lkZXM7ICsraSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gaSAqIHN0cmlkZTtcbiAgICAgICAgdmFyIGFuZ2xlID0gc3RhcnRBbmdsZSArIChtb2R1bG8oaSwgc2lkZXMpICogMiAqIE1hdGguUEkpIC8gc2lkZXM7XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdID0gY2VudGVyWzBdICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gPSBjZW50ZXJbMV0gKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgfVxuICAgIHBvbHlnb24uY2hhbmdlZCgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnRcbiAqL1xuaW1wb3J0IHsgbGluZWFyUmluZ3NDb250YWluc1hZIH0gZnJvbSAnLi9jb250YWlucy5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuLyoqXG4gKiBDYWxjdWxhdGVzIGEgcG9pbnQgdGhhdCBpcyBsaWtlbHkgdG8gbGllIGluIHRoZSBpbnRlcmlvciBvZiB0aGUgbGluZWFyIHJpbmdzLlxuICogSW5zcGlyZWQgYnkgSlRTJ3MgY29tLnZpdmlkc29sdXRpb25zLmp0cy5nZW9tLkdlb21ldHJ5I2dldEludGVyaW9yUG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhdENlbnRlcnNPZmZzZXQgRmxhdCBjZW50ZXIgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGVzdGluYXRpb24gcG9pbnQgYXMgWFlNIGNvb3JkaW5hdGUsIHdoZXJlIE0gaXMgdGhlXG4gKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBmbGF0Q2VudGVycywgZmxhdENlbnRlcnNPZmZzZXQsIG9wdF9kZXN0KSB7XG4gICAgdmFyIGksIGlpLCB4LCB4MSwgeDIsIHkxLCB5MjtcbiAgICB2YXIgeSA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0ICsgMV07XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25zID0gW107XG4gICAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbnMgd2l0aCB0aGUgaG9yaXpvbnRhbCBsaW5lXG4gICAgZm9yICh2YXIgciA9IDAsIHJyID0gZW5kcy5sZW5ndGg7IHIgPCBycjsgKytyKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW3JdO1xuICAgICAgICB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICAgICAgICB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgICAgICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoKHkgPD0geTEgJiYgeTIgPD0geSkgfHwgKHkxIDw9IHkgJiYgeSA8PSB5MikpIHtcbiAgICAgICAgICAgICAgICB4ID0gKCh5IC0geTEpIC8gKHkyIC0geTEpKSAqICh4MiAtIHgxKSArIHgxO1xuICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgICB5MSA9IHkyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGxvbmdlc3Qgc2VnbWVudCBvZiB0aGUgaG9yaXpvbnRhbCBsaW5lIHRoYXQgaGFzIGl0cyBjZW50ZXIgcG9pbnRcbiAgICAvLyBpbnNpZGUgdGhlIGxpbmVhciByaW5nLlxuICAgIHZhciBwb2ludFggPSBOYU47XG4gICAgdmFyIG1heFNlZ21lbnRMZW5ndGggPSAtSW5maW5pdHk7XG4gICAgaW50ZXJzZWN0aW9ucy5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICAgIHgxID0gaW50ZXJzZWN0aW9uc1swXTtcbiAgICBmb3IgKGkgPSAxLCBpaSA9IGludGVyc2VjdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB4MiA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgICAgIHZhciBzZWdtZW50TGVuZ3RoID0gTWF0aC5hYnMoeDIgLSB4MSk7XG4gICAgICAgIGlmIChzZWdtZW50TGVuZ3RoID4gbWF4U2VnbWVudExlbmd0aCkge1xuICAgICAgICAgICAgeCA9ICh4MSArIHgyKSAvIDI7XG4gICAgICAgICAgICBpZiAobGluZWFyUmluZ3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRYID0geDtcbiAgICAgICAgICAgICAgICBtYXhTZWdtZW50TGVuZ3RoID0gc2VnbWVudExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgIH1cbiAgICBpZiAoaXNOYU4ocG9pbnRYKSkge1xuICAgICAgICAvLyBUaGVyZSBpcyBubyBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludCBpbnNpZGUgdGhlIGxpbmVhclxuICAgICAgICAvLyByaW5nLiAgVXNlIHRoZSBjZW50ZXIgb2YgdGhlIHRoZSBsaW5lYXIgcmluZydzIGV4dGVudC5cbiAgICAgICAgcG9pbnRYID0gZmxhdENlbnRlcnNbZmxhdENlbnRlcnNPZmZzZXRdO1xuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QpIHtcbiAgICAgICAgb3B0X2Rlc3QucHVzaChwb2ludFgsIHksIG1heFNlZ21lbnRMZW5ndGgpO1xuICAgICAgICByZXR1cm4gb3B0X2Rlc3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW3BvaW50WCwgeSwgbWF4U2VnbWVudExlbmd0aF07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnRlcmlvciBwb2ludHMgYXMgWFlNIGNvb3JkaW5hdGVzLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIGZsYXRDZW50ZXJzKSB7XG4gICAgdmFyIGludGVyaW9yUG9pbnRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBpbnRlcmlvclBvaW50cyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGZsYXRDZW50ZXJzLCAyICogaSwgaW50ZXJpb3JQb2ludHMpO1xuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBpbnRlcmlvclBvaW50cztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyaW9ycG9pbnQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9WaWV3XG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCBWaWV3UHJvcGVydHkgZnJvbSAnLi9WaWV3UHJvcGVydHkuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9USUxFX1NJWkUgfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBNRVRFUlNfUEVSX1VOSVQsIGNyZWF0ZVByb2plY3Rpb24sIGZyb21Vc2VyQ29vcmRpbmF0ZSwgZnJvbVVzZXJFeHRlbnQsIGdldFVzZXJQcm9qZWN0aW9uLCB0b1VzZXJDb29yZGluYXRlLCB0b1VzZXJFeHRlbnQsIH0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhZGQgYXMgYWRkQ29vcmRpbmF0ZSwgZXF1YWxzIGFzIGNvb3JkaW5hdGVzRXF1YWwsIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLCB9IGZyb20gJy4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgbm9uZSBhcyBjZW50ZXJOb25lLCBjcmVhdGVFeHRlbnQgfSBmcm9tICcuL2NlbnRlcmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNaW5NYXhSZXNvbHV0aW9uIH0gZnJvbSAnLi9yZXNvbHV0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTbmFwVG9OLCBjcmVhdGVTbmFwVG9aZXJvLCBkaXNhYmxlLCBub25lIGFzIHJvdGF0aW9uTm9uZSwgfSBmcm9tICcuL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTbmFwVG9Qb3dlciwgY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMsIH0gZnJvbSAnLi9yZXNvbHV0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi9lYXNpbmcuanMnO1xuaW1wb3J0IHsgZXF1YWxzIH0gZnJvbSAnLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7IGdldENlbnRlciwgZ2V0Rm9yVmlld0FuZFNpemUsIGdldEhlaWdodCwgZ2V0V2lkdGgsIGlzRW1wdHksIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgaW5BbmRPdXQgfSBmcm9tICcuL2Vhc2luZy5qcyc7XG5pbXBvcnQgeyBsaW5lYXJGaW5kTmVhcmVzdCB9IGZyb20gJy4vYXJyYXkuanMnO1xuaW1wb3J0IHsgZnJvbUV4dGVudCBhcyBwb2x5Z29uRnJvbUV4dGVudCB9IGZyb20gJy4vZ2VvbS9Qb2x5Z29uLmpzJztcbi8qKlxuICogQW4gYW5pbWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtzb3VyY2VDZW50ZXJdIFNvdXJjZSBjZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbdGFyZ2V0Q2VudGVyXSBUYXJnZXQgY2VudGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzb3VyY2VSZXNvbHV0aW9uXSBTb3VyY2UgcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFyZ2V0UmVzb2x1dGlvbl0gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJvdGF0aW9uXSBTb3VyY2Ugcm90YXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJvdGF0aW9uXSBUYXJnZXQgcm90YXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBBbmNob3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnQgU3RhcnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvbXBsZXRlIENvbXBsZXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gZWFzaW5nIEVhc2luZy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6dm9pZH0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29uc3RyYWludHNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jZW50ZXJjb25zdHJhaW50LmpzXCIpLlR5cGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaXRPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBib3ggdG8gZml0XG4gKiB0aGUgZXh0ZW50IGludG8uIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgZmlyc3QgbWFwIGluIHRoZSBET00gdGhhdFxuICogdXNlcyB0aGlzIHZpZXcsIG9yIGBbMTAwLCAxMDBdYCBpZiBubyBzdWNoIG1hcCBpcyBmb3VuZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gcGl4ZWxzKSB0byBiZVxuICogY2xlYXJlZCBpbnNpZGUgdGhlIHZpZXcuIFZhbHVlcyBpbiB0aGUgYXJyYXkgYXJlIHRvcCwgcmlnaHQsIGJvdHRvbSBhbmQgbGVmdFxuICogcGFkZGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25lYXJlc3Q9ZmFsc2VdIElmIHRoZSB2aWV3IGBjb25zdHJhaW5SZXNvbHV0aW9uYCBvcHRpb24gaXMgYHRydWVgLFxuICogZ2V0IHRoZSBuZWFyZXN0IGV4dGVudCBpbnN0ZWFkIG9mIHRoZSBjbG9zZXN0IHRoYXQgYWN0dWFsbHkgZml0cyB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbj0wXSBNaW5pbXVtIHJlc29sdXRpb24gdGhhdCB3ZSB6b29tIHRvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgdGhhdCB3ZSB6b29tIHRvLiBJZlxuICogYG1pblJlc29sdXRpb25gIGlzIGdpdmVuLCB0aGlzIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBCeSBkZWZhdWx0LCB0aGVyZSBpcyBubyBhbmltYXRpb24gdG8gdGhlIHRhcmdldCBleHRlbnQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBbZWFzaW5nXSBUaGUgZWFzaW5nIGZ1bmN0aW9uIHVzZWQgZHVyaW5nXG4gKiB0aGUgYW5pbWF0aW9uIChkZWZhdWx0cyB0byB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZy5pbkFuZE91dH0pLlxuICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGZyYW1lIHdpdGggYSBudW1iZXIgcmVwcmVzZW50aW5nIGFcbiAqIGZyYWN0aW9uIG9mIHRoZSBhbmltYXRpb24ncyBkdXJhdGlvbi4gIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgbnVtYmVyXG4gKiBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyB0b3dhcmQgdGhlIGRlc3RpbmF0aW9uIHN0YXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKTp2b2lkfSBbY2FsbGJhY2tdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIGluXG4gKiBpdHMgZmluYWwgcG9zaXRpb24uIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGB0cnVlYCBpZiB0aGUgYW5pbWF0aW9uXG4gKiBzZXJpZXMgY29tcGxldGVkIG9uIGl0cyBvd24gb3IgYGZhbHNlYCBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZpZXdPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgaW5pdGlhbCBjZW50ZXIgZm9yXG4gKiB0aGUgdmlldy4gSWYgYSB1c2VyIHByb2plY3Rpb24gaXMgbm90IHNldCwgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGZvciB0aGUgY2VudGVyIGlzXG4gKiBzcGVjaWZpZWQgd2l0aCB0aGUgYHByb2plY3Rpb25gIG9wdGlvbi4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZSBmZXRjaGVkIGlmIHRoaXNcbiAqIGlzIG5vdCBzZXQsIGJ1dCB0aGUgY2VudGVyIGNhbiBiZSBzZXQgbGF0ZXIgd2l0aCB7QGxpbmsgI3NldENlbnRlcn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58bnVtYmVyfSBbY29uc3RyYWluUm90YXRpb249dHJ1ZV0gUm90YXRpb24gY29uc3RyYWludC5cbiAqIGBmYWxzZWAgbWVhbnMgbm8gY29uc3RyYWludC4gYHRydWVgIG1lYW5zIG5vIGNvbnN0cmFpbnQsIGJ1dCBzbmFwIHRvIHplcm9cbiAqIG5lYXIgemVyby4gQSBudW1iZXIgY29uc3RyYWlucyB0aGUgcm90YXRpb24gdG8gdGhhdCBudW1iZXIgb2YgdmFsdWVzLiBGb3JcbiAqIGV4YW1wbGUsIGA0YCB3aWxsIGNvbnN0cmFpbiB0aGUgcm90YXRpb24gdG8gMCwgOTAsIDE4MCwgYW5kIDI3MCBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZW5hYmxlUm90YXRpb249dHJ1ZV0gRW5hYmxlIHJvdGF0aW9uLlxuICogSWYgYGZhbHNlYCwgYSByb3RhdGlvbiBjb25zdHJhaW50IHRoYXQgYWx3YXlzIHNldHMgdGhlIHJvdGF0aW9uIHRvIHplcm8gaXNcbiAqIHVzZWQuIFRoZSBgY29uc3RyYWluUm90YXRpb25gIG9wdGlvbiBoYXMgbm8gZWZmZWN0IGlmIGBlbmFibGVSb3RhdGlvbmAgaXNcbiAqIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGV4dGVudCB0aGF0IGNvbnN0cmFpbnMgdGhlXG4gKiB2aWV3LCBpbiBvdGhlciB3b3Jkcywgbm90aGluZyBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50IGNhbiBiZSB2aXNpYmxlIG9uIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5Pbmx5Q2VudGVyPWZhbHNlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgb25seSBhcHBseSB0byB0aGUgdmlldyBjZW50ZXIgYW5kIG5vdCB0aGUgd2hvbGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc21vb3RoRXh0ZW50Q29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgYmUgYXBwbGllZCBzbW9vdGhseSwgaS5lLiBhbGxvdyB0aGUgdmlldyB0byBnbyBzbGlnaHRseSBvdXRzaWRlXG4gKiBvZiB0aGUgZ2l2ZW4gYGV4dGVudGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluUmVzb2x1dGlvbmAgKG9yXG4gKiBgbWF4Wm9vbWApIGFuZCBgem9vbUZhY3RvcmAuIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgaW4gc3VjaCBhIHdheVxuICogdGhhdCB0aGUgcHJvamVjdGlvbidzIHZhbGlkaXR5IGV4dGVudCBmaXRzIGluIGEgMjU2eDI1NiBweCB0aWxlLiBJZiB0aGVcbiAqIHByb2plY3Rpb24gaXMgU3BoZXJpY2FsIE1lcmNhdG9yICh0aGUgZGVmYXVsdCkgdGhlbiBgbWF4UmVzb2x1dGlvbmAgZGVmYXVsdHNcbiAqIHRvIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiA9IDE1NjU0My4wMzM5MjgwNDA5N2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuICBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1heFJlc29sdXRpb25gIChvclxuICogYG1pblpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiAgSWYgdW5zcGVjaWZpZWQgaXQgaXMgY2FsY3VsYXRlZCBhc3N1bWluZyAyOVxuICogem9vbSBsZXZlbHMgKHdpdGggYSBmYWN0b3Igb2YgMikuIElmIHRoZSBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvclxuICogKHRoZSBkZWZhdWx0KSB0aGVuIGBtaW5SZXNvbHV0aW9uYCBkZWZhdWx0cyB0b1xuICogYDQwMDc1MDE2LjY4NTU3ODQ5IC8gMjU2IC8gTWF0aC5wb3coMiwgMjgpID0gMC4wMDA1ODMxNjgyNDU1ODM5MjUzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yOF0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtaW5ab29tYCAob3JcbiAqIGBtYXhSZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWluUmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWF4Wm9vbWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhab29tYCAob3JcbiAqIGBtaW5SZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWF4UmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWluWm9vbWAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aVdvcmxkPWZhbHNlXSBJZiBgZmFsc2VgIHRoZSB2aWV3IGlzIGNvbnN0cmFpbmVkIHNvXG4gKiBvbmx5IG9uZSB3b3JsZCBpcyB2aXNpYmxlLCBhbmQgeW91IGNhbm5vdCBwYW4gb2ZmIHRoZSBlZGdlLiAgSWYgYHRydWVgIHRoZSBtYXBcbiAqIG1heSBzaG93IG11bHRpcGxlIHdvcmxkcyBhdCBsb3cgem9vbSBsZXZlbHMuICBPbmx5IHVzZWQgaWYgdGhlIGBwcm9qZWN0aW9uYCBpc1xuICogZ2xvYmFsLiAgTm90ZSB0aGF0IGlmIGBleHRlbnRgIGlzIGFsc28gcHJvdmlkZWQgaXQgaXMgZ2l2ZW4gcHJlY2VkZW5jZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYWx3YXlzXG4gKiBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247IGZhbHNlIG1lYW5zXG4gKiBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgcmVzb2x1dGlvblxuICogbWluL21heCB2YWx1ZXMgd2lsbCBiZSBhcHBsaWVkIHNtb290aGx5LCBpLiBlLiBhbGxvdyB0aGUgdmlldyB0byBleGNlZWQgc2xpZ2h0bHlcbiAqIHRoZSBnaXZlbiByZXNvbHV0aW9uIG9yIHpvb20gYm91bmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnQ9ZmFsc2VdIEFsbG93IHRoZSB2aWV3IHRvIGJlIHpvb21lZCBvdXQgdG9cbiAqIHNob3cgdGhlIGZ1bGwgY29uZmlndXJlZCBleHRlbnQuIEJ5IGRlZmF1bHQsIHdoZW4gYSB2aWV3IGlzIGNvbmZpZ3VyZWQgd2l0aCBhblxuICogZXh0ZW50LCB1c2VycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoZSB2aWV3cG9ydCBleGNlZWRzIHRoZSBleHRlbnQgaW5cbiAqIGVpdGhlciBkaW1lbnNpb24uIFRoaXMgbWVhbnMgdGhlIGZ1bGwgZXh0ZW50IG1heSBub3QgYmUgdmlzaWJsZSBpZiB0aGUgdmlld3BvcnRcbiAqIGlzIHRhbGxlciBvciB3aWRlciB0aGFuIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LiBJZlxuICogc2hvd0Z1bGxFeHRlbnQgaXMgdHJ1ZSwgdGhlIHVzZXIgd2lsbCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoYXQgdGhlIHZpZXdwb3J0XG4gKiBleGNlZWRzIHRoZSBoZWlnaHQgb3Igd2lkdGggb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LCBidXQgbm90IGJvdGgsIGFsbG93aW5nIHRoZVxuICogZnVsbCBleHRlbnQgdG8gYmUgc2hvd24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFRoZVxuICogcHJvamVjdGlvbi4gVGhlIGRlZmF1bHQgaXMgU3BoZXJpY2FsIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy4gVGhlXG4gKiB1bml0cyBhcmUgYHByb2plY3Rpb25gIHVuaXRzIHBlciBwaXhlbCAoZS5nLiBtZXRlcnMgcGVyIHBpeGVsKS4gQW5cbiAqIGFsdGVybmF0aXZlIHRvIHNldHRpbmcgdGhpcyBpcyB0byBzZXQgYHpvb21gLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlXG4gKiBmZXRjaGVkIGlmIG5laXRoZXIgdGhpcyBub3IgYHpvb21gIGFyZSBkZWZpbmVkLCBidXQgdGhleSBjYW4gYmUgc2V0IGxhdGVyXG4gKiB3aXRoIHtAbGluayAjc2V0Wm9vbX0gb3Ige0BsaW5rICNzZXRSZXNvbHV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucyB0aGF0IGRldGVybWluZSB0aGVcbiAqIHpvb20gbGV2ZWxzIGlmIHNwZWNpZmllZC4gVGhlIGluZGV4IGluIHRoZSBhcnJheSBjb3JyZXNwb25kcyB0byB0aGUgem9vbSBsZXZlbCxcbiAqIHRoZXJlZm9yZSB0aGUgcmVzb2x1dGlvbiB2YWx1ZXMgaGF2ZSB0byBiZSBpbiBkZXNjZW5kaW5nIG9yZGVyLiBJdCBhbHNvIGNvbnN0cmFpbnNcbiAqIHRoZSByZXNvbHV0aW9uIGJ5IHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLiBJZiBzZXQgdGhlIGBtYXhSZXNvbHV0aW9uYCxcbiAqIGBtaW5SZXNvbHV0aW9uYCwgYG1pblpvb21gLCBgbWF4Wm9vbWAsIGFuZCBgem9vbUZhY3RvcmAgb3B0aW9ucyBhcmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gVGhlIGluaXRpYWwgcm90YXRpb24gZm9yIHRoZSB2aWV3IGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIDAgbWVhbnMgTm9ydGgpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tXSBPbmx5IHVzZWQgaWYgYHJlc29sdXRpb25gIGlzIG5vdCBkZWZpbmVkLiBab29tXG4gKiBsZXZlbCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUZhY3Rvcj0yXSBUaGUgem9vbSBmYWN0b3IgdXNlZCB0byBjb21wdXRlIHRoZVxuICogY29ycmVzcG9uZGluZyByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBjc3MgcGl4ZWxzKS5cbiAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAqIGl0cyBlZGdlcywgdGhpcyBzZXR0aW5nIGFsbG93cyB0byBzaGlmdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydCBhd2F5IGZyb21cbiAqIHRoYXQgY29udGVudC4gVGhlIG9yZGVyIG9mIHRoZSB2YWx1ZXMgaXMgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZiB0aGVcbiAqIGFuaW1hdGlvbi4gVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYHJlc29sdXRpb25gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kXG4gKiBvZiB0aGUgYW5pbWF0aW9uLiAgSWYgYHpvb21gIGlzIGFsc28gcHJvdmlkZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb25dIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gT3B0aW9uYWwgYW5jaG9yIHRvIHJlbWFpbiBmaXhlZFxuICogZHVyaW5nIGEgcm90YXRpb24gb3IgcmVzb2x1dGlvbiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMDBdIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZFxuICogZHVyaW5nIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbbmV4dENlbnRlcl0gVGhlIG5leHQgY2VudGVyIGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtuZXh0UmVzb2x1dGlvbl0gVGhlIG5leHQgcmVzb2x1dGlvbiBkdXJpbmcgYW4gYW5pbWF0aW9uIHNlcmllcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbmV4dFJvdGF0aW9uXSBUaGUgbmV4dCByb3RhdGlvbiBkdXJpbmcgYW4gYW5pbWF0aW9uIHNlcmllcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tIFpvb20uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtaW4gem9vbSBsZXZlbCBmb3IgdGhlIG1hcCB2aWV3LlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFRkFVTFRfTUlOX1pPT00gPSAwO1xuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8J2NoYW5nZTpjZW50ZXInfCdjaGFuZ2U6cmVzb2x1dGlvbid8J2NoYW5nZTpyb3RhdGlvbid9IFZpZXdPYmplY3RFdmVudFR5cGVzXG4gKi9cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8Vmlld09iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8Vmlld09iamVjdEV2ZW50VHlwZXMsIFJldHVybj59IFZpZXdPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgVmlldyBvYmplY3QgcmVwcmVzZW50cyBhIHNpbXBsZSAyRCB2aWV3IG9mIHRoZSBtYXAuXG4gKlxuICogVGhpcyBpcyB0aGUgb2JqZWN0IHRvIGFjdCB1cG9uIHRvIGNoYW5nZSB0aGUgY2VudGVyLCByZXNvbHV0aW9uLFxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBtYXAuXG4gKlxuICogQSBWaWV3IGhhcyBhIGBwcm9qZWN0aW9uYC4gVGhlIHByb2plY3Rpb24gZGV0ZXJtaW5lcyB0aGVcbiAqIGNvb3JkaW5hdGUgc3lzdGVtIG9mIHRoZSBjZW50ZXIsIGFuZCBpdHMgdW5pdHMgZGV0ZXJtaW5lIHRoZSB1bml0cyBvZiB0aGVcbiAqIHJlc29sdXRpb24gKHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsKS4gVGhlIGRlZmF1bHQgcHJvamVjdGlvbiBpc1xuICogU3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICpcbiAqICMjIyBUaGUgdmlldyBzdGF0ZXNcbiAqXG4gKiBBIFZpZXcgaXMgZGV0ZXJtaW5lZCBieSB0aHJlZSBzdGF0ZXM6IGBjZW50ZXJgLCBgcmVzb2x1dGlvbmAsXG4gKiBhbmQgYHJvdGF0aW9uYC4gRWFjaCBzdGF0ZSBoYXMgYSBjb3JyZXNwb25kaW5nIGdldHRlciBhbmQgc2V0dGVyLCBlLmcuXG4gKiBgZ2V0Q2VudGVyYCBhbmQgYHNldENlbnRlcmAgZm9yIHRoZSBgY2VudGVyYCBzdGF0ZS5cbiAqXG4gKiBUaGUgYHpvb21gIHN0YXRlIGlzIGFjdHVhbGx5IG5vdCBzYXZlZCBvbiB0aGUgdmlldzogYWxsIGNvbXB1dGF0aW9uc1xuICogaW50ZXJuYWxseSB1c2UgdGhlIGByZXNvbHV0aW9uYCBzdGF0ZS4gU3RpbGwsIHRoZSBgc2V0Wm9vbWAgYW5kIGBnZXRab29tYFxuICogbWV0aG9kcyBhcmUgYXZhaWxhYmxlLCBhcyB3ZWxsIGFzIGBnZXRSZXNvbHV0aW9uRm9yWm9vbWAgYW5kXG4gKiBgZ2V0Wm9vbUZvclJlc29sdXRpb25gIHRvIHN3aXRjaCBmcm9tIG9uZSBzeXN0ZW0gdG8gdGhlIG90aGVyLlxuICpcbiAqICMjIyBUaGUgY29uc3RyYWludHNcbiAqXG4gKiBgc2V0Q2VudGVyYCwgYHNldFJlc29sdXRpb25gIGFuZCBgc2V0Um90YXRpb25gIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGVcbiAqIHN0YXRlcyBvZiB0aGUgdmlldywgYnV0IGFueSBjb25zdHJhaW50IGRlZmluZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGJlIGFwcGxpZWQgYWxvbmcgdGhlIHdheS5cbiAqXG4gKiBBIFZpZXcgb2JqZWN0IGNhbiBoYXZlIGEgKnJlc29sdXRpb24gY29uc3RyYWludCosIGEgKnJvdGF0aW9uIGNvbnN0cmFpbnQqXG4gKiBhbmQgYSAqY2VudGVyIGNvbnN0cmFpbnQqLlxuICpcbiAqIFRoZSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiB0eXBpY2FsbHkgcmVzdHJpY3RzIG1pbi9tYXggdmFsdWVzIGFuZFxuICogc25hcHMgdG8gc3BlY2lmaWMgcmVzb2x1dGlvbnMuIEl0IGlzIGRldGVybWluZWQgYnkgdGhlIGZvbGxvd2luZ1xuICogb3B0aW9uczogYHJlc29sdXRpb25zYCwgYG1heFJlc29sdXRpb25gLCBgbWF4Wm9vbWAgYW5kIGB6b29tRmFjdG9yYC5cbiAqIElmIGByZXNvbHV0aW9uc2AgaXMgc2V0LCB0aGUgb3RoZXIgdGhyZWUgb3B0aW9ucyBhcmUgaWdub3JlZC4gU2VlXG4gKiBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9wdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQnkgZGVmYXVsdCwgdGhlIHZpZXdcbiAqIG9ubHkgaGFzIGEgbWluL21heCByZXN0cmljdGlvbiBhbmQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIHdoZW5cbiAqIHBpbmNoLXpvb21pbmcgZm9yIGV4YW1wbGUuXG4gKlxuICogVGhlICpyb3RhdGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyBhbmdsZXMuIEl0IGlzIGRldGVybWluZWRcbiAqIGJ5IHRoZSBmb2xsb3dpbmcgb3B0aW9uczogYGVuYWJsZVJvdGF0aW9uYCBhbmQgYGNvbnN0cmFpblJvdGF0aW9uYC5cbiAqIEJ5IGRlZmF1bHQgcm90YXRpb24gaXMgYWxsb3dlZCBhbmQgaXRzIHZhbHVlIGlzIHNuYXBwZWQgdG8gemVybyB3aGVuIGFwcHJvYWNoaW5nIHRoZVxuICogaG9yaXpvbnRhbC5cbiAqXG4gKiBUaGUgKmNlbnRlciBjb25zdHJhaW50KiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgZXh0ZW50YCBvcHRpb24uIEJ5XG4gKiBkZWZhdWx0IHRoZSB2aWV3IGNlbnRlciBpcyBub3QgY29uc3RyYWluZWQgYXQgYWxsLlxuICpcbiAqICMjIyBDaGFuZ2luZyB0aGUgdmlldyBzdGF0ZVxuICpcbiAqIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgYHNldFpvb21gLCBgc2V0UmVzb2x1dGlvbmAsIGBzZXRDZW50ZXJgIGFuZFxuICogYHNldFJvdGF0aW9uYCBhcmUgc3ViamVjdCB0byB0aGUgYWJvdmUgbWVudGlvbmVkIGNvbnN0cmFpbnRzLiBBcyBzdWNoLCBpdFxuICogbWF5IHNvbWV0aW1lcyBub3QgYmUgcG9zc2libGUgdG8ga25vdyBpbiBhZHZhbmNlIHRoZSByZXN1bHRpbmcgc3RhdGUgb2YgdGhlXG4gKiBWaWV3LiBGb3IgZXhhbXBsZSwgY2FsbGluZyBgc2V0UmVzb2x1dGlvbigxMClgIGRvZXMgbm90IGd1YXJhbnRlZSB0aGF0XG4gKiBgZ2V0UmVzb2x1dGlvbigpYCB3aWxsIHJldHVybiBgMTBgLlxuICpcbiAqIEEgY29uc2VxdWVuY2Ugb2YgdGhpcyBpcyB0aGF0LCB3aGVuIGFwcGx5aW5nIGEgZGVsdGEgb24gdGhlIHZpZXcgc3RhdGUsIG9uZVxuICogc2hvdWxkIHVzZSBgYWRqdXN0Q2VudGVyYCwgYGFkanVzdFJvdGF0aW9uYCwgYGFkanVzdFpvb21gIGFuZCBgYWRqdXN0UmVzb2x1dGlvbmBcbiAqIHJhdGhlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIHNldHRlcnMuIFRoaXMgd2lsbCBsZXQgdmlldyBkbyBpdHMgaW50ZXJuYWxcbiAqIGNvbXB1dGF0aW9ucy4gQmVzaWRlcywgdGhlIGBhZGp1c3QqYCBtZXRob2RzIGFsc28gdGFrZSBhbiBgb3B0X2FuY2hvcmBcbiAqIGFyZ3VtZW50IHdoaWNoIGFsbG93cyBzcGVjaWZ5aW5nIGFuIG9yaWdpbiBmb3IgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICpcbiAqICMjIyBJbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3XG4gKlxuICogVmlldyBjb25zdHJhaW50cyBhcmUgdXN1YWxseSBvbmx5IGFwcGxpZWQgd2hlbiB0aGUgdmlldyBpcyAqYXQgcmVzdCosIG1lYW5pbmcgdGhhdFxuICogbm8gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIG9uZ29pbmcuIEFzIHN1Y2gsIGlmIHRoZSB1c2VyIHB1dHMgdGhlIHZpZXcgaW4gYVxuICogc3RhdGUgdGhhdCBpcyBub3QgZXF1aXZhbGVudCB0byBhIGNvbnN0cmFpbmVkIG9uZSAoZS5nLiByb3RhdGluZyB0aGUgdmlldyB3aGVuXG4gKiB0aGUgc25hcCBhbmdsZSBpcyAwKSwgYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGF0IHRoZSBpbnRlcmFjdGlvbiBlbmQgdG9cbiAqIHB1dCBiYWNrIHRoZSB2aWV3IHRvIGEgc3RhYmxlIHN0YXRlO1xuICpcbiAqIEBhcGlcbiAqL1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZXcsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gW29wdF9vcHRpb25zXSBWaWV3IG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlldyhvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWaWV3T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWaWV3T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge1ZpZXdPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0X29wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaW50c18gPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8QW5pbWF0aW9uPj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVBbmltYXRpb25LZXlfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJvamVjdGlvbl8gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld3BvcnRTaXplXyA9IFsxMDAsIDEwMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0Q2VudGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRSb3RhdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uZXh0Q2VudGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmV4dFJlc29sdXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5leHRSb3RhdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNlbnRlciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRpb25zLmNlbnRlciwgX3RoaXMucHJvamVjdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmV4dGVudCkge1xuICAgICAgICAgICAgb3B0aW9ucy5leHRlbnQgPSBmcm9tVXNlckV4dGVudChvcHRpb25zLmV4dGVudCwgX3RoaXMucHJvamVjdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFwcGx5T3B0aW9uc18ob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHVwIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYXBwbHlPcHRpb25zXyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIFZpZXdQcm9wZXJ0eSkge1xuICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcywgdHJ1ZSk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludEluZm8gPSBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1heFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5SZXNvbHV0aW9uXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5SZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuem9vbUZhY3Rvcl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8uem9vbUZhY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFkZGluZ18gPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ab29tXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5ab29tO1xuICAgICAgICB2YXIgY2VudGVyQ29uc3RyYWludCA9IGNyZWF0ZUNlbnRlckNvbnN0cmFpbnQob3B0aW9ucyk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludCA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5jb25zdHJhaW50O1xuICAgICAgICB2YXIgcm90YXRpb25Db25zdHJhaW50ID0gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NvbnN0cmFpbnRzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25zdHJhaW50c18gPSB7XG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlckNvbnN0cmFpbnQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbkNvbnN0cmFpbnQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24ob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDApO1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKG9wdGlvbnMuY2VudGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNlbnRlciA6IG51bGwpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihvcHRpb25zLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFpvb20ob3B0aW9ucy56b29tKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXcucHJvdG90eXBlLCBcInBhZGRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gICAgICAgICAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAgICAgICAgICogaXRzIGVkZ2VzLCB0aGlzIHNldHRpbmcgYWxsb3dzIHRvIHNoaWZ0IHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0IGF3YXkgZnJvbSB0aGF0XG4gICAgICAgICAqIGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBpcyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIG5vIHBhZGRpbmcsIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gYFswLCAwLCAwLCAwXWAuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYWRkaW5nXztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICAgICAgdmFyIG9sZFBhZGRpbmcgPSB0aGlzLnBhZGRpbmdfO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nXyA9IHBhZGRpbmc7XG4gICAgICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3UGFkZGluZyA9IHBhZGRpbmcgfHwgWzAsIDAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIG9sZFBhZGRpbmcgPSBvbGRQYWRkaW5nIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gKHJlc29sdXRpb24gLyAyKSAqXG4gICAgICAgICAgICAgICAgICAgIChuZXdQYWRkaW5nWzNdIC0gb2xkUGFkZGluZ1szXSArIG9sZFBhZGRpbmdbMV0gLSBuZXdQYWRkaW5nWzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IChyZXNvbHV0aW9uIC8gMikgKlxuICAgICAgICAgICAgICAgICAgICAobmV3UGFkZGluZ1swXSAtIG9sZFBhZGRpbmdbMF0gKyBvbGRQYWRkaW5nWzJdIC0gbmV3UGFkZGluZ1syXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbY2VudGVyWzBdICsgb2Zmc2V0WCwgY2VudGVyWzFdIC0gb2Zmc2V0WV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2V0IGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgdmlldyBvcHRpb25zIHVzZWQgdG8gY29uc3RydWN0IHRoZSB2aWV3LiAgVGhlXG4gICAgICogY3VycmVudCByZXNvbHV0aW9uIChvciB6b29tKSwgY2VudGVyLCBhbmQgcm90YXRpb24gYXJlIGFwcGxpZWQgdG8gYW55IHN0b3JlZFxuICAgICAqIG9wdGlvbnMuICBUaGUgcHJvdmlkZWQgb3B0aW9ucyBjYW4gYmUgdXNlZCB0byBhcHBseSBuZXcgbWluL21heCB6b29tIG9yXG4gICAgICogcmVzb2x1dGlvbiBsaW1pdHMuXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gbmV3T3B0aW9ucyBOZXcgb3B0aW9ucyB0byBiZSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm4ge1ZpZXdPcHRpb25zfSBOZXcgb3B0aW9ucyB1cGRhdGVkIHdpdGggdGhlIGN1cnJlbnQgdmlldyBzdGF0ZS5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRVcGRhdGVkT3B0aW9uc18gPSBmdW5jdGlvbiAobmV3T3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0UHJvcGVydGllcygpO1xuICAgICAgICAvLyBwcmVzZXJ2ZSByZXNvbHV0aW9uIChvciB6b29tKVxuICAgICAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy56b29tID0gdGhpcy5nZXRab29tKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJlc2VydmUgY2VudGVyXG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgICAgICAvLyBwcmVzZXJ2ZSByb3RhdGlvblxuICAgICAgICBvcHRpb25zLnJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgICAgICByZXR1cm4gYXNzaWduKHt9LCBvcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFuaW1hdGUgdGhlIHZpZXcuICBUaGUgdmlldydzIGNlbnRlciwgem9vbSAob3IgcmVzb2x1dGlvbiksIGFuZCByb3RhdGlvblxuICAgICAqIGNhbiBiZSBhbmltYXRlZCBmb3Igc21vb3RoIHRyYW5zaXRpb25zIGJldHdlZW4gdmlldyBzdGF0ZXMuICBGb3IgZXhhbXBsZSxcbiAgICAgKiB0byBhbmltYXRlIHRoZSB2aWV3IHRvIGEgbmV3IHpvb20gbGV2ZWw6XG4gICAgICpcbiAgICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiB2aWV3LmdldFpvb20oKSArIDF9KTtcbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBhbmltYXRpb24gbGFzdHMgb25lIHNlY29uZCBhbmQgdXNlcyBpbi1hbmQtb3V0IGVhc2luZy4gIFlvdVxuICAgICAqIGNhbiBjdXN0b21pemUgdGhpcyBiZWhhdmlvciBieSBpbmNsdWRpbmcgYGR1cmF0aW9uYCAoaW4gbWlsbGlzZWNvbmRzKSBhbmRcbiAgICAgKiBgZWFzaW5nYCBvcHRpb25zIChzZWUge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd9KS5cbiAgICAgKlxuICAgICAqIFRvIGNoYWluIHRvZ2V0aGVyIG11bHRpcGxlIGFuaW1hdGlvbnMsIGNhbGwgdGhlIG1ldGhvZCB3aXRoIG11bHRpcGxlXG4gICAgICogYW5pbWF0aW9uIG9iamVjdHMuICBGb3IgZXhhbXBsZSwgdG8gZmlyc3Qgem9vbSBhbmQgdGhlbiBwYW46XG4gICAgICpcbiAgICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiAxMH0sIHtjZW50ZXI6IFswLCAwXX0pO1xuICAgICAqXG4gICAgICogSWYgeW91IHByb3ZpZGUgYSBmdW5jdGlvbiBhcyB0aGUgbGFzdCBhcmd1bWVudCB0byB0aGUgYW5pbWF0ZSBtZXRob2QsIGl0XG4gICAgICogd2lsbCBnZXQgY2FsbGVkIGF0IHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uIHNlcmllcy4gIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAgICogY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb24gc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWBcbiAgICAgKiBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICAgICAqXG4gICAgICogQW5pbWF0aW9ucyBhcmUgY2FuY2VsbGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIChlLmcuIGRyYWdnaW5nIHRoZSBtYXApIG9yIGJ5XG4gICAgICogY2FsbGluZyBgdmlldy5zZXRDZW50ZXIoKWAsIGB2aWV3LnNldFJlc29sdXRpb24oKWAsIG9yIGB2aWV3LnNldFJvdGF0aW9uKClgXG4gICAgICogKG9yIGFub3RoZXIgbWV0aG9kIHRoYXQgY2FsbHMgb25lIG9mIHRoZXNlKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb25cbiAgICAgKiAgICAgb3B0aW9ucy4gIE11bHRpcGxlIGFuaW1hdGlvbnMgY2FuIGJlIHJ1biBpbiBzZXJpZXMgYnkgcGFzc2luZyBtdWx0aXBsZVxuICAgICAqICAgICBvcHRpb25zIG9iamVjdHMuICBUbyBydW4gbXVsdGlwbGUgYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCwgY2FsbCB0aGUgbWV0aG9kXG4gICAgICogICAgIG11bHRpcGxlIHRpbWVzLiAgQW4gb3B0aW9uYWwgY2FsbGJhY2sgY2FuIGJlIHByb3ZpZGVkIGFzIGEgZmluYWxcbiAgICAgKiAgICAgYXJndW1lbnQuICBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyXG4gICAgICogICAgIHRoZSBhbmltYXRpb24gY29tcGxldGVkIHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKHZhcl9hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGVmKCkgJiYgIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSBmcm9tVXNlckNvb3JkaW5hdGUob3B0aW9ucy5jZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuY2hvcikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKG9wdGlvbnMuYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzW2ldID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hbmltYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAodmFyX2FyZ3MpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICBpZiAoYW5pbWF0aW9uQ291bnQgPiAxICYmXG4gICAgICAgICAgICB0eXBlb2YgYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV07XG4gICAgICAgICAgICAtLWFuaW1hdGlvbkNvdW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudCAmJiAhdGhpcy5pc0RlZigpOyArK2kpIHtcbiAgICAgICAgICAgIC8vIGlmIHZpZXcgcHJvcGVydGllcyBhcmUgbm90IHlldCBzZXQsIHNob3J0Y3V0IHRvIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNlbnRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoc3RhdGUuY2VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFpvb20oc3RhdGUuem9vbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKHN0YXRlLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKHN0YXRlLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gYW5pbWF0aW9uQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy50YXJnZXRDZW50ZXJfLnNsaWNlKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy50YXJnZXRSZXNvbHV0aW9uXztcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy50YXJnZXRSb3RhdGlvbl87XG4gICAgICAgIHZhciBzZXJpZXMgPSBbXTtcbiAgICAgICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uT3B0aW9uc30gKi8gKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBvcHRpb25zLmFuY2hvcixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDEwMDAsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyB8fCBpbkFuZE91dCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZUNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Q2VudGVyID0gb3B0aW9ucy5jZW50ZXIuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShvcHRpb25zLnpvb20pO1xuICAgICAgICAgICAgICAgIHJlc29sdXRpb24gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gbW9kdWxvKG9wdGlvbnMucm90YXRpb24gLSByb3RhdGlvbiArIE1hdGguUEksIDIgKiBNYXRoLlBJKSAtIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uID0gcm90YXRpb24gKyBkZWx0YTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFuaW1hdGlvbiBpcyBhIG5vLW9wXG4gICAgICAgICAgICBpZiAoaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIHdlIHN0aWxsIHB1c2ggaXQgb250byB0aGUgc2VyaWVzIGZvciBjYWxsYmFjayBoYW5kbGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgKz0gYW5pbWF0aW9uLmR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VyaWVzLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnNfLnB1c2goc2VyaWVzKTtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgMSk7XG4gICAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uc18oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiB0aGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0QW5pbWF0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSA+IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdmlldywgc3VjaCBhcyBwYW5uaW5nIG9yIHpvb21pbmcuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgaW50ZXJhY3RlZCB3aXRoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRJbnRlcmFjdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGludHNfW1ZpZXdIaW50LklOVEVSQUNUSU5HXSA+IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYW55IG9uZ29pbmcgYW5pbWF0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuY2FuY2VsQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgLXRoaXMuaGludHNfW1ZpZXdIaW50LkFOSU1BVElOR10pO1xuICAgICAgICB2YXIgYW5jaG9yO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmFuaW1hdGlvbnNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzZXJpZXMgPSB0aGlzLmFuaW1hdGlvbnNfW2ldO1xuICAgICAgICAgICAgaWYgKHNlcmllc1swXS5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKHNlcmllc1swXS5jYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBzZXJpZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gYW5pbWF0aW9uLmFuY2hvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jYW5jZWxBbmNob3JfID0gYW5jaG9yO1xuICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0UmVzb2x1dGlvbl8gPSBOYU47XG4gICAgICAgIHRoaXMubmV4dFJvdGF0aW9uXyA9IE5hTjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhbGwgYW5pbWF0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS51cGRhdGVBbmltYXRpb25zXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbW9yZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICAgICAgICB2YXIgc2VyaWVzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gYW5pbWF0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgICAgIHZhciBmcmFjdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbiA+IDAgPyBlbGFwc2VkIC8gYW5pbWF0aW9uLmR1cmF0aW9uIDogMTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhY3Rpb24gPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmcmFjdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJpZXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBhbmltYXRpb24uZWFzaW5nKGZyYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gYW5pbWF0aW9uLnRhcmdldENlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB4MCArIHByb2dyZXNzICogKHgxIC0geDApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHkwICsgcHJvZ3Jlc3MgKiAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IFt4LCB5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICYmIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gcHJvZ3Jlc3MgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lZFJlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKHJlc29sdXRpb24sIDAsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJab29tKGNvbnN0cmFpbmVkUmVzb2x1dGlvbiwgYW5pbWF0aW9uLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UmVzb2x1dGlvbl8gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Um90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2R1bG8oYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5hbmNob3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lZFJvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24ocm90YXRpb24sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUoY29uc3RyYWluZWRSb3RhdGlvbiwgYW5pbWF0aW9uLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Um90YXRpb25fID0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKHRydWUpO1xuICAgICAgICAgICAgICAgIG1vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXJpZXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc19baV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC0xKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uXyA9IE5hTjtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRSb3RhdGlvbl8gPSBOYU47XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gc2VyaWVzWzBdLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHBydW5lIGNvbXBsZXRlZCBzZXJpZXNcbiAgICAgICAgdGhpcy5hbmltYXRpb25zXyA9IHRoaXMuYW5pbWF0aW9uc18uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBpZiAobW9yZSAmJiB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQW5pbWF0aW9uc18uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBUYXJnZXQgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFJvdGF0aW9uIGFuY2hvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3Igcm90YXRpb24gYW5kIGFuY2hvci5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJSb3RhdGUgPSBmdW5jdGlvbiAocm90YXRpb24sIGFuY2hvcikge1xuICAgICAgICB2YXIgY2VudGVyO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRDZW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2VudGVyID0gW2N1cnJlbnRDZW50ZXJbMF0gLSBhbmNob3JbMF0sIGN1cnJlbnRDZW50ZXJbMV0gLSBhbmNob3JbMV1dO1xuICAgICAgICAgICAgcm90YXRlQ29vcmRpbmF0ZShjZW50ZXIsIHJvdGF0aW9uIC0gdGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgIGFkZENvb3JkaW5hdGUoY2VudGVyLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgWm9vbSBhbmNob3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIgZm9yIHJlc29sdXRpb24gYW5kIGFuY2hvci5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJab29tID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIGFuY2hvcikge1xuICAgICAgICB2YXIgY2VudGVyO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHggPSBhbmNob3JbMF0gLVxuICAgICAgICAgICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclswXSAtIGN1cnJlbnRDZW50ZXJbMF0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHkgPSBhbmNob3JbMV0gLVxuICAgICAgICAgICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclsxXSAtIGN1cnJlbnRDZW50ZXJbMV0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgY2VudGVyID0gW3gsIHldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpZXdwb3J0IHNpemUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9yb3RhdGlvbl0gVGFrZSBpbnRvIGFjY291bnQgdGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3cG9ydCB3aGVuIGdpdmluZyB0aGUgc2l6ZVxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBWaWV3cG9ydCBzaXplIG9yIGBbMTAwLCAxMDBdYCB3aGVuIG5vIHZpZXdwb3J0IGlzIGZvdW5kLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFZpZXdwb3J0U2l6ZV8gPSBmdW5jdGlvbiAob3B0X3JvdGF0aW9uKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy52aWV3cG9ydFNpemVfO1xuICAgICAgICBpZiAob3B0X3JvdGF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdyA9IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgaCA9IHNpemVbMV07XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIE1hdGguYWJzKHcgKiBNYXRoLmNvcyhvcHRfcm90YXRpb24pKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGggKiBNYXRoLnNpbihvcHRfcm90YXRpb24pKSxcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5zaW4ob3B0X3JvdGF0aW9uKSkgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhoICogTWF0aC5jb3Mob3B0X3JvdGF0aW9uKSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyB0aGUgdmlld3BvcnQgc2l6ZSBvbiB0aGUgdmlldy4gVGhlIHZpZXdwb3J0IHNpemUgaXMgbm90IHJlYWQgZXZlcnkgdGltZSBmcm9tIHRoZSBET01cbiAgICAgKiB0byBhdm9pZCBwZXJmb3JtYW5jZSBoaXQgYW5kIGxheW91dCByZWZsb3cuXG4gICAgICogVGhpcyBzaG91bGQgYmUgZG9uZSBvbiBtYXAgc2l6ZSBjaGFuZ2UuXG4gICAgICogTm90ZTogdGhlIGNvbnN0cmFpbnRzIGFyZSBub3QgcmVzb2x2ZWQgZHVyaW5nIGFuIGFuaW1hdGlvbiB0byBhdm9pZCBzdG9wcGluZyBpdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtvcHRfc2l6ZV0gVmlld3BvcnQgc2l6ZTsgaWYgdW5kZWZpbmVkLCBbMTAwLCAxMDBdIGlzIGFzc3VtZWRcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRWaWV3cG9ydFNpemUgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydFNpemVfID0gQXJyYXkuaXNBcnJheShvcHRfc2l6ZSlcbiAgICAgICAgICAgID8gb3B0X3NpemUuc2xpY2UoKVxuICAgICAgICAgICAgOiBbMTAwLCAxMDBdO1xuICAgICAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgY2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgIGlmICghY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKGNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IGNlbnRlciB3aXRob3V0IHRyYW5zZm9ybWluZyB0byB1c2VyIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtDb25zdHJhaW50c30gQ29uc3RyYWludHMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJlc29sdXRpb24gY29uc3RyYWludCBpcyBzZXRcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbnN0cmFpblJlc29sdXRpb24nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9oaW50c10gRGVzdGluYXRpb24gYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSGludC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRIaW50cyA9IGZ1bmN0aW9uIChvcHRfaGludHMpIHtcbiAgICAgICAgaWYgKG9wdF9oaW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRfaGludHNbMF0gPSB0aGlzLmhpbnRzX1swXTtcbiAgICAgICAgICAgIG9wdF9oaW50c1sxXSA9IHRoaXMuaGludHNfWzFdO1xuICAgICAgICAgICAgcmV0dXJuIG9wdF9oaW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpbnRzXy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGV4dGVudCBmb3IgdGhlIGN1cnJlbnQgdmlldyBzdGF0ZSBhbmQgdGhlIHBhc3NlZCBzaXplLlxuICAgICAqIFRoZSBzaXplIGlzIHRoZSBwaXhlbCBkaW1lbnNpb25zIG9mIHRoZSBib3ggaW50byB3aGljaCB0aGUgY2FsY3VsYXRlZCBleHRlbnRcbiAgICAgKiBzaG91bGQgZml0LiBJbiBtb3N0IGNhc2VzIHlvdSB3YW50IHRvIGdldCB0aGUgZXh0ZW50IG9mIHRoZSBlbnRpcmUgbWFwLFxuICAgICAqIHRoYXQgaXMgYG1hcC5nZXRTaXplKClgLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtvcHRfc2l6ZV0gQm94IHBpeGVsIHNpemUuIElmIG5vdCBwcm92aWRlZCwgdGhlIHNpemVcbiAgICAgKiBvZiB0aGUgbWFwIHRoYXQgdXNlcyB0aGlzIHZpZXcgd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVFeHRlbnQgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwob3B0X3NpemUpO1xuICAgICAgICByZXR1cm4gdG9Vc2VyRXh0ZW50KGV4dGVudCwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF9zaXplXSBCb3ggcGl4ZWwgc2l6ZS4gSWYgbm90IHByb3ZpZGVkLFxuICAgICAqIHRoZSBtYXAncyBsYXN0IGtub3duIHZpZXdwb3J0IHNpemUgd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUV4dGVudEludGVybmFsID0gZnVuY3Rpb24gKG9wdF9zaXplKSB7XG4gICAgICAgIHZhciBzaXplID0gb3B0X3NpemUgfHwgdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSk7XG4gICAgICAgIGFzc2VydChjZW50ZXIsIDEpOyAvLyBUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSAvKiogQHR5cGUgeyFudW1iZXJ9ICovICh0aGlzLmdldFJlc29sdXRpb24oKSk7XG4gICAgICAgIGFzc2VydChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQsIDIpOyAvLyBUaGUgdmlldyByZXNvbHV0aW9uIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgIHZhciByb3RhdGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIGFzc2VydChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkLCAzKTsgLy8gVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWRcbiAgICAgICAgcmV0dXJuIGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSB6b29tIGxldmVsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWluUmVzb2x1dGlvbl8pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIG5ldyBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldE1heFpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oeyBtYXhab29tOiB6b29tIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldE1pblpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0TWluWm9vbSA9IGZ1bmN0aW9uICh6b29tKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7IG1pblpvb206IHpvb20gfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIHZpZXcgc2hvdWxkIGFsbG93IGludGVybWVkaWFyeSB6b29tIGxldmVscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgV2hldGhlciB0aGUgcmVzb2x1dGlvbiBpcyBjb25zdHJhaW5lZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Q29uc3RyYWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7IGNvbnN0cmFpblJlc29sdXRpb246IGVuYWJsZWQgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gVGhlIHByb2plY3Rpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFByb2plY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlc29sdXRpb25zIGZvciB0aGUgdmlldy4gVGhpcyByZXR1cm5zIHRoZSBhcnJheSBvZiByZXNvbHV0aW9uc1xuICAgICAqIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3Igb2YgdGhlIFZpZXcsIG9yIHVuZGVmaW5lZCBpZiBub25lIHdlcmUgZ2l2ZW4uXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IFRoZSByZXNvbHV0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF9zaXplXSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3JFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50LCBvcHRfc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSksIG9wdF9zaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF9zaXplXSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsID0gZnVuY3Rpb24gKGV4dGVudCwgb3B0X3NpemUpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvcHRfc2l6ZSB8fCB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgICAgdmFyIHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHNpemVbMF07XG4gICAgICAgIHZhciB5UmVzb2x1dGlvbiA9IGdldEhlaWdodChleHRlbnQpIC8gc2l6ZVsxXTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgZm9yIGFcbiAgICAgKiByZXNvbHV0aW9uLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfcG93ZXJdIFBvd2VyLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gUmVzb2x1dGlvbiBmb3IgdmFsdWUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvclZhbHVlRnVuY3Rpb24gPSBmdW5jdGlvbiAob3B0X3Bvd2VyKSB7XG4gICAgICAgIHZhciBwb3dlciA9IG9wdF9wb3dlciB8fCAyO1xuICAgICAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgICAgIHZhciBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBNYXRoLmxvZyhwb3dlcik7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHZhbHVlICogbWF4KTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmlldyByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBpbiByYWRpYW5zLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuUk9UQVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlc29sdXRpb24gZm9yIGEgdmFsdWUgYmV0d2VlblxuICAgICAqIDAgYW5kIDEuIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9wb3dlcl0gUG93ZXIuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBWYWx1ZSBmb3IgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWYWx1ZUZvclJlc29sdXRpb25GdW5jdGlvbiA9IGZ1bmN0aW9uIChvcHRfcG93ZXIpIHtcbiAgICAgICAgdmFyIGxvZ1Bvd2VyID0gTWF0aC5sb2cob3B0X3Bvd2VyIHx8IDIpO1xuICAgICAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgICAgIHZhciBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBsb2dQb3dlcjtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gVmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIHJlc29sdXRpb24pIC8gbG9nUG93ZXIgLyBtYXg7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQgbWludXMgcGFkZGluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3JvdGF0aW9uXSBUYWtlIGludG8gYWNjb3VudCB0aGUgcm90YXRpb24gb2YgdGhlIHZpZXdwb3J0IHdoZW4gZ2l2aW5nIHRoZSBzaXplXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgcmVkdWNlZCBieSB0aGUgcGFkZGluZy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfID0gZnVuY3Rpb24gKG9wdF9yb3RhdGlvbikge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhvcHRfcm90YXRpb24pO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgICAgICBzaXplID0gW1xuICAgICAgICAgICAgICAgIHNpemVbMF0gLSBwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSxcbiAgICAgICAgICAgICAgICBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7U3RhdGV9IFZpZXcgc3RhdGUuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovICh0aGlzLmdldENlbnRlckludGVybmFsKCkpO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcmVkdWNlZFNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgICAgICAgIGNlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKGNlbnRlciwgdGhpcy5nZXRWaWV3cG9ydFNpemVfKCksIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlci5zbGljZSgwKSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiBudWxsLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIG5leHRDZW50ZXI6IHRoaXMubmV4dENlbnRlcl8sXG4gICAgICAgICAgICBuZXh0UmVzb2x1dGlvbjogdGhpcy5uZXh0UmVzb2x1dGlvbl8sXG4gICAgICAgICAgICBuZXh0Um90YXRpb246IHRoaXMubmV4dFJvdGF0aW9uXyxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgIHpvb206IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuIFRoaXMgbWV0aG9kIG1heSByZXR1cm4gbm9uLWludGVnZXIgem9vbSBsZXZlbHNcbiAgICAgKiBpZiB0aGUgdmlldyBkb2VzIG5vdCBjb25zdHJhaW4gdGhlIHJlc29sdXRpb24sIG9yIGlmIGFuIGludGVyYWN0aW9uIG9yXG4gICAgICogYW5pbWF0aW9uIGlzIHVuZGVyd2F5LlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB6b29tO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB6b29tID0gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgem9vbSBsZXZlbCBmb3IgYSByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRoZSByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFRoZSB6b29tIGxldmVsIGZvciB0aGUgcHJvdmlkZWQgcmVzb2x1dGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Wm9vbUZvclJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5taW5ab29tXyB8fCAwO1xuICAgICAgICB2YXIgbWF4LCB6b29tRmFjdG9yO1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgICAgICAgIHZhciBuZWFyZXN0ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIDEpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbmVhcmVzdDtcbiAgICAgICAgICAgIG1heCA9IHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3RdO1xuICAgICAgICAgICAgaWYgKG5lYXJlc3QgPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IG1heCAvIHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3QgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1heCA9IHRoaXMubWF4UmVzb2x1dGlvbl87XG4gICAgICAgICAgICB6b29tRmFjdG9yID0gdGhpcy56b29tRmFjdG9yXztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgTWF0aC5sb2cobWF4IC8gcmVzb2x1dGlvbikgLyBNYXRoLmxvZyh6b29tRmFjdG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgdmlldyByZXNvbHV0aW9uIGZvciB0aGUgcHJvdmlkZWQgem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvclpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJhc2VMZXZlbCA9IGNsYW1wKE1hdGguZmxvb3Ioem9vbSksIDAsIHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgdmFyIHpvb21GYWN0b3IgPSB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC8gdGhpcy5yZXNvbHV0aW9uc19bYmFzZUxldmVsICsgMV07XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucmVzb2x1dGlvbnNfW2Jhc2VMZXZlbF0gL1xuICAgICAgICAgICAgICAgIE1hdGgucG93KHpvb21GYWN0b3IsIGNsYW1wKHpvb20gLSBiYXNlTGV2ZWwsIDAsIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubWF4UmVzb2x1dGlvbl8gLyBNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCB6b29tIC0gdGhpcy5taW5ab29tXykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXQgdGhlIGdpdmVuIGdlb21ldHJ5IG9yIGV4dGVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gbWFwIHNpemUgYW5kIGJvcmRlci5cbiAgICAgKiBUaGUgc2l6ZSBpcyBwaXhlbCBkaW1lbnNpb25zIG9mIHRoZSBib3ggdG8gZml0IHRoZSBleHRlbnQgaW50by5cbiAgICAgKiBJbiBtb3N0IGNhc2VzIHlvdSB3aWxsIHdhbnQgdG8gdXNlIHRoZSBtYXAgc2l6ZSwgdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAgICogVGFrZXMgY2FyZSBvZiB0aGUgbWFwIGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBnZW9tZXRyeU9yRXh0ZW50IFRoZSBnZW9tZXRyeSBvclxuICAgICAqICAgICBleHRlbnQgdG8gZml0IHRoZSB2aWV3IHRvLlxuICAgICAqIEBwYXJhbSB7Rml0T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAoZ2VvbWV0cnlPckV4dGVudCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi9cbiAgICAgICAgdmFyIGdlb21ldHJ5O1xuICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSB8fFxuICAgICAgICAgICAgdHlwZW9mICggLyoqIEB0eXBlIHs/fSAqLyhnZW9tZXRyeU9yRXh0ZW50KS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkpID09PVxuICAgICAgICAgICAgICAgICdmdW5jdGlvbicsIDI0KTsgLy8gSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSkge1xuICAgICAgICAgICAgYXNzZXJ0KCFpc0VtcHR5KGdlb21ldHJ5T3JFeHRlbnQpLCAyNSk7IC8vIENhbm5vdCBmaXQgZW1wdHkgZXh0ZW50IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBmcm9tVXNlckV4dGVudChnZW9tZXRyeU9yRXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlPckV4dGVudC5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBmcm9tVXNlckV4dGVudChnZW9tZXRyeU9yRXh0ZW50LmdldEV4dGVudCgpLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICAgICAgICBnZW9tZXRyeS5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbigpLCBnZXRDZW50ZXIoZXh0ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdXNlclByb2plY3Rpb24gPSBnZXRVc2VyUHJvamVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnlPckV4dGVudFxuICAgICAgICAgICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNmb3JtKHVzZXJQcm9qZWN0aW9uLCB0aGlzLmdldFByb2plY3Rpb24oKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeU9yRXh0ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZml0SW50ZXJuYWwoZ2VvbWV0cnksIG9wdF9vcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSByb3RhdGVkIGV4dGVudFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudFwiKS5FeHRlbnR9IFRoZSByb3RhdGVkIGV4dGVudCBmb3IgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICAgICAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBtaW5Sb3RYID0gK0luZmluaXR5O1xuICAgICAgICB2YXIgbWluUm90WSA9ICtJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFJvdFggPSAtSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhSb3RZID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB2YXIgcm90WCA9IGNvb3Jkc1tpXSAqIGNvc0FuZ2xlIC0gY29vcmRzW2kgKyAxXSAqIHNpbkFuZ2xlO1xuICAgICAgICAgICAgdmFyIHJvdFkgPSBjb29yZHNbaV0gKiBzaW5BbmdsZSArIGNvb3Jkc1tpICsgMV0gKiBjb3NBbmdsZTtcbiAgICAgICAgICAgIG1pblJvdFggPSBNYXRoLm1pbihtaW5Sb3RYLCByb3RYKTtcbiAgICAgICAgICAgIG1pblJvdFkgPSBNYXRoLm1pbihtaW5Sb3RZLCByb3RZKTtcbiAgICAgICAgICAgIG1heFJvdFggPSBNYXRoLm1heChtYXhSb3RYLCByb3RYKTtcbiAgICAgICAgICAgIG1heFJvdFkgPSBNYXRoLm1heChtYXhSb3RZLCByb3RZKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW21pblJvdFgsIG1pblJvdFksIG1heFJvdFgsIG1heFJvdFldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7Rml0T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmZpdEludGVybmFsID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgc2l6ZSA9IG9wdGlvbnMuc2l6ZTtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IFswLCAwLCAwLCAwXTtcbiAgICAgICAgdmFyIG5lYXJlc3QgPSBvcHRpb25zLm5lYXJlc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubmVhcmVzdCA6IGZhbHNlO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShvcHRpb25zLm1heFpvb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWluUmVzb2x1dGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdGF0ZWRFeHRlbnQgPSB0aGlzLnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSByZXNvbHV0aW9uXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwocm90YXRlZEV4dGVudCwgW1xuICAgICAgICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgICAgICAgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdLFxuICAgICAgICBdKTtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGlzTmFOKHJlc29sdXRpb24pXG4gICAgICAgICAgICA/IG1pblJlc29sdXRpb25cbiAgICAgICAgICAgIDogTWF0aC5tYXgocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbik7XG4gICAgICAgIHJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBuZWFyZXN0ID8gMCA6IDEpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgY2VudGVyXG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgY29zQW5nbGUgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBjZW50ZXJSb3QgPSBnZXRDZW50ZXIocm90YXRlZEV4dGVudCk7XG4gICAgICAgIGNlbnRlclJvdFswXSArPSAoKHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdKSAvIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgY2VudGVyUm90WzFdICs9ICgocGFkZGluZ1swXSAtIHBhZGRpbmdbMl0pIC8gMikgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgY2VudGVyWCA9IGNlbnRlclJvdFswXSAqIGNvc0FuZ2xlIC0gY2VudGVyUm90WzFdICogc2luQW5nbGU7XG4gICAgICAgIHZhciBjZW50ZXJZID0gY2VudGVyUm90WzFdICogY29zQW5nbGUgKyBjZW50ZXJSb3RbMF0gKiBzaW5BbmdsZTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q29uc3RyYWluZWRDZW50ZXIoW2NlbnRlclgsIGNlbnRlclldLCByZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayA/IG9wdGlvbnMuY2FsbGJhY2sgOiBWT0lEO1xuICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2VudGVyIG9uIGNvb3JkaW5hdGUgYW5kIHZpZXcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNlbnRlck9uID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuY2VudGVyT25JbnRlcm5hbChmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpLCBzaXplLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jZW50ZXJPbkludGVybmFsID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoY2FsY3VsYXRlQ2VudGVyT24oY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24sIHRoaXMuZ2V0UmVzb2x1dGlvbigpLCB0aGlzLmdldFJvdGF0aW9uKCkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNoaWZ0IGJldHdlZW4gbWFwIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IENlbnRlciBzaGlmdC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJTaGlmdCA9IGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKSB7XG4gICAgICAgIHZhciBjZW50ZXJTaGlmdDtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmdfO1xuICAgICAgICBpZiAocGFkZGluZyAmJiBjZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWR1Y2VkU2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygtcm90YXRpb24pO1xuICAgICAgICAgICAgdmFyIHNoaWZ0ZWRDZW50ZXIgPSBjYWxjdWxhdGVDZW50ZXJPbihjZW50ZXIsIHNpemUsIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICAgICAgY2VudGVyU2hpZnQgPSBbXG4gICAgICAgICAgICAgICAgY2VudGVyWzBdIC0gc2hpZnRlZENlbnRlclswXSxcbiAgICAgICAgICAgICAgICBjZW50ZXJbMV0gLSBzaGlmdGVkQ2VudGVyWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2VudGVyU2hpZnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBkZWZpbmVkLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmlzRGVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldENlbnRlckludGVybmFsKCkgJiYgdGhpcy5nZXRSZXNvbHV0aW9uKCkgIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldy4gQW55IGV4dGVudCBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGFDb29yZGluYXRlcyBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdENlbnRlciA9IGZ1bmN0aW9uIChkZWx0YUNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0b1VzZXJDb29yZGluYXRlKHRoaXMudGFyZ2V0Q2VudGVyXywgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICB0aGlzLnNldENlbnRlcihbXG4gICAgICAgICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGRlbHRhQ29vcmRpbmF0ZXMgUmVsYXRpdmUgdmFsdWUgdG8gYWRkLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMudGFyZ2V0Q2VudGVyXztcbiAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbXG4gICAgICAgICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gVGhlIHJhdGlvIHRvIGFwcGx5IG9uIHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29wdF9hbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJhdGlvLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHZhciBhbmNob3IgPSBvcHRfYW5jaG9yICYmIGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRfYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIHRoaXMuYWRqdXN0UmVzb2x1dGlvbkludGVybmFsKHJhdGlvLCBhbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhlIHZpZXcgcmVzb2x1dGlvbiBieSBhIHJhdGlvLCBvcHRpb25hbGx5IHVzaW5nIGFuIGFuY2hvci4gQW55IHJlc29sdXRpb25cbiAgICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFRoZSByYXRpbyB0byBhcHBseSBvbiB0aGUgdmlldyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAocmF0aW8sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHZhciBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0aGlzLnRhcmdldFJlc29sdXRpb25fICogcmF0aW8sIDAsIHNpemUsIGlzTW92aW5nKTtcbiAgICAgICAgaWYgKG9wdF9hbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyWm9vbShuZXdSZXNvbHV0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fICo9IHJhdGlvO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhlIHZpZXcgem9vbSBsZXZlbCwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29wdF9hbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3Rab29tID0gZnVuY3Rpb24gKGRlbHRhLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuYWRqdXN0UmVzb2x1dGlvbihNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCAtZGVsdGEpLCBvcHRfYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSB2YWx1ZSB0byB0aGUgdmlldyByb3RhdGlvbiwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByb3RhdGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSb3RhdGlvbiA9IGZ1bmN0aW9uIChkZWx0YSwgb3B0X2FuY2hvcikge1xuICAgICAgICBpZiAob3B0X2FuY2hvcikge1xuICAgICAgICAgICAgb3B0X2FuY2hvciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRfYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGp1c3RSb3RhdGlvbkludGVybmFsKGRlbHRhLCBvcHRfYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gcm90YXRpb24sIGluIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29wdF9hbmNob3JdIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0Um90YXRpb25JbnRlcm5hbCA9IGZ1bmN0aW9uIChkZWx0YSwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgaXNNb3ZpbmcgPSB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKTtcbiAgICAgICAgdmFyIG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8gKyBkZWx0YSwgaXNNb3ZpbmcpO1xuICAgICAgICBpZiAob3B0X2FuY2hvcikge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUobmV3Um90YXRpb24sIG9wdF9hbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICs9IGRlbHRhO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRlciBvZiB0aGUgY3VycmVudCB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKGZyb21Vc2VyQ29vcmRpbmF0ZShjZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRlciB1c2luZyB0aGUgdmlldyBwcm9qZWN0aW9uIChub3QgdGhlIHVzZXIgcHJvamVjdGlvbikuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9WaWV3SGludC5qc1wiKS5kZWZhdWx0fSBoaW50IEhpbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IHZhbHVlLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldEhpbnQgPSBmdW5jdGlvbiAoaGludCwgZGVsdGEpIHtcbiAgICAgICAgdGhpcy5oaW50c19baGludF0gKz0gZGVsdGE7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5oaW50c19baGludF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlc29sdXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJlc29sdXRpb24gY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcm90YXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJvdGF0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogWm9vbSB0byBhIHNwZWNpZmljIHpvb20gbGV2ZWwuIEFueSByZXNvbHV0aW9uIGNvbnN0cmFpbiB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldFpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICB0aGlzLnNldFJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvbXB1dGUgcm90YXRpb24vcmVzb2x1dGlvbi9jZW50ZXIgYmFzZWQgb24gdGFyZ2V0IHZhbHVlcy5cbiAgICAgKiBOb3RlOiB3ZSBoYXZlIHRvIGNvbXB1dGUgcm90YXRpb24gZmlyc3QsIHRoZW4gcmVzb2x1dGlvbiBhbmQgY2VudGVyIGNvbnNpZGVyaW5nIHRoYXRcbiAgICAgKiBwYXJhbWV0ZXJzIGNhbiBpbmZsdWVuY2Ugb25lIGFub3RoZXIgaW4gY2FzZSBhIHZpZXcgZXh0ZW50IGNvbnN0cmFpbnQgaXMgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfZG9Ob3RDYW5jZWxBbmltc10gRG8gbm90IGNhbmNlbCBhbmltYXRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9mb3JjZU1vdmluZ10gQXBwbHkgY29uc3RyYWludHMgYXMgaWYgdGhlIHZpZXcgaXMgbW92aW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYXBwbHlUYXJnZXRTdGF0ZV8gPSBmdW5jdGlvbiAob3B0X2RvTm90Q2FuY2VsQW5pbXMsIG9wdF9mb3JjZU1vdmluZykge1xuICAgICAgICB2YXIgaXNNb3ZpbmcgPSB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKSB8fCBvcHRfZm9yY2VNb3Zpbmc7XG4gICAgICAgIC8vIGNvbXB1dGUgcm90YXRpb25cbiAgICAgICAgdmFyIG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8sIGlzTW92aW5nKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGhpcy50YXJnZXRSZXNvbHV0aW9uXywgMCwgc2l6ZSwgaXNNb3ZpbmcpO1xuICAgICAgICB2YXIgbmV3Q2VudGVyID0gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgc2l6ZSwgaXNNb3ZpbmcsIHRoaXMuY2FsY3VsYXRlQ2VudGVyU2hpZnQodGhpcy50YXJnZXRDZW50ZXJfLCBuZXdSZXNvbHV0aW9uLCBuZXdSb3RhdGlvbiwgc2l6ZSkpO1xuICAgICAgICBpZiAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OKSAhPT0gbmV3Um90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTiwgbmV3Um90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTikgIT09IG5ld1Jlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OLCBuZXdSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuc2V0KCd6b29tJywgdGhpcy5nZXRab29tKCksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3Q2VudGVyIHx8XG4gICAgICAgICAgICAhdGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikgfHxcbiAgICAgICAgICAgICFlcXVhbHModGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUiksIG5ld0NlbnRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIG5ld0NlbnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkgJiYgIW9wdF9kb05vdENhbmNlbEFuaW1zKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBhbnkgY29uc3RyYWludHMgbmVlZCB0byBiZSBhcHBsaWVkLCBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAgICogVGhpcyBpcyB0eXBpY2FsbHkgZG9uZSBvbiBpbnRlcmFjdGlvbiBlbmQuXG4gICAgICogTm90ZTogY2FsbGluZyB0aGlzIHdpdGggYSBkdXJhdGlvbiBvZiAwIHdpbGwgYXBwbHkgdGhlIGNvbnN0cmFpbmVkIHZhbHVlcyBzdHJhaWdodCBhd2F5LFxuICAgICAqIHdpdGhvdXQgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2R1cmF0aW9uXSBUaGUgYW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5yZXNvbHZlQ29uc3RyYWludHMgPSBmdW5jdGlvbiAob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBvcHRfZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9kdXJhdGlvbiA6IDIwMDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uIHx8IDA7XG4gICAgICAgIHZhciBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKHRoaXMudGFyZ2V0Um90YXRpb25fKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGhpcy50YXJnZXRSZXNvbHV0aW9uXywgZGlyZWN0aW9uLCBzaXplKTtcbiAgICAgICAgdmFyIG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcih0aGlzLnRhcmdldENlbnRlcl8sIG5ld1Jlc29sdXRpb24sIHNpemUsIGZhbHNlLCB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgbmV3Um90YXRpb24sIHNpemUpKTtcbiAgICAgICAgaWYgKGR1cmF0aW9uID09PSAwICYmICF0aGlzLmNhbmNlbEFuY2hvcl8pIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSBuZXdSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSBuZXdSb3RhdGlvbjtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IG5ld0NlbnRlcjtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvciB8fCAoZHVyYXRpb24gPT09IDAgPyB0aGlzLmNhbmNlbEFuY2hvcl8gOiB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmdldFJlc29sdXRpb24oKSAhPT0gbmV3UmVzb2x1dGlvbiB8fFxuICAgICAgICAgICAgdGhpcy5nZXRSb3RhdGlvbigpICE9PSBuZXdSb3RhdGlvbiB8fFxuICAgICAgICAgICAgIXRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSB8fFxuICAgICAgICAgICAgIWVxdWFscyh0aGlzLmdldENlbnRlckludGVybmFsKCksIG5ld0NlbnRlcikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgcm90YXRpb246IG5ld1JvdGF0aW9uLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3Q2VudGVyLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgc3RhcnRlZC5cbiAgICAgKiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkIHRvIGEgc3RhYmxlIG9uZSBpZiBuZWVkZWRcbiAgICAgKiAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmJlZ2luSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIGVuZGVkLiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkXG4gICAgICogdG8gYSBzdGFibGUgb25lIGlmIG5lZWRlZCAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZHVyYXRpb25dIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9yZXNvbHV0aW9uRGlyZWN0aW9uXSBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3B0X2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmVuZEludGVyYWN0aW9uID0gZnVuY3Rpb24gKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IG9wdF9hbmNob3IgJiYgZnJvbVVzZXJDb29yZGluYXRlKG9wdF9hbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgdGhpcy5lbmRJbnRlcmFjdGlvbkludGVybmFsKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgZW5kZWQuIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWRcbiAgICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9kdXJhdGlvbl0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5lbmRJbnRlcmFjdGlvbkludGVybmFsID0gZnVuY3Rpb24gKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAtMSk7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsaWQgcG9zaXRpb24gZm9yIHRoZSB2aWV3IGNlbnRlciBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3RhcmdldFJlc29sdXRpb25dIFRhcmdldCByZXNvbHV0aW9uLiBJZiBub3Qgc3VwcGxpZWQsIHRoZSBjdXJyZW50IG9uZSB3aWxsIGJlIHVzZWQuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gZ3Vlc3MgYSB2YWxpZCBjZW50ZXIgcG9zaXRpb24gYXQgYSBkaWZmZXJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFZhbGlkIGNlbnRlciBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZENlbnRlciA9IGZ1bmN0aW9uICh0YXJnZXRDZW50ZXIsIG9wdF90YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5jZW50ZXIodGFyZ2V0Q2VudGVyLCBvcHRfdGFyZ2V0UmVzb2x1dGlvbiB8fCB0aGlzLmdldFJlc29sdXRpb24oKSwgc2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWxpZCB6b29tIGxldmVsIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2aWV3IGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0Wm9vbSBUYXJnZXQgem9vbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9kaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgem9vbSBsZXZlbC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZFpvb20gPSBmdW5jdGlvbiAodGFyZ2V0Wm9vbSwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgdGFyZ2V0UmVzID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh0YXJnZXRab29tKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGFyZ2V0UmVzLCBvcHRfZGlyZWN0aW9uKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWxpZCByZXNvbHV0aW9uIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2aWV3IGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9kaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgcmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24gPSBmdW5jdGlvbiAodGFyZ2V0UmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gb3B0X2RpcmVjdGlvbiB8fCAwO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXc7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcGFyYW0geyp9IHJldHVyblZhbHVlIFJldHVybiB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHJldHVyblZhbHVlKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJldHVyblZhbHVlKTtcbiAgICB9LCAwKTtcbn1cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc21vb3RoID0gb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50XG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHRlbnQob3B0aW9ucy5leHRlbnQsIG9wdGlvbnMuY29uc3RyYWluT25seUNlbnRlciwgc21vb3RoKTtcbiAgICB9XG4gICAgdmFyIHByb2plY3Rpb24gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICAgIGlmIChvcHRpb25zLm11bHRpV29ybGQgIT09IHRydWUgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpLnNsaWNlKCk7XG4gICAgICAgIGV4dGVudFswXSA9IC1JbmZpbml0eTtcbiAgICAgICAgZXh0ZW50WzJdID0gSW5maW5pdHk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHRlbnQoZXh0ZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gY2VudGVyTm9uZTtcbn1cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHt7Y29uc3RyYWludDogaW1wb3J0KFwiLi9yZXNvbHV0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlLCBtYXhSZXNvbHV0aW9uOiBudW1iZXIsXG4gKiAgICAgbWluUmVzb2x1dGlvbjogbnVtYmVyLCBtaW5ab29tOiBudW1iZXIsIHpvb21GYWN0b3I6IG51bWJlcn19IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQob3B0aW9ucykge1xuICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludDtcbiAgICB2YXIgbWF4UmVzb2x1dGlvbjtcbiAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICAvLyBUT0RPOiBtb3ZlIHRoZXNlIHRvIGJlIG9sIGNvbnN0YW50c1xuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmxheWVycy9vcGVubGF5ZXJzL2lzc3Vlcy8yMDc2XG4gICAgdmFyIGRlZmF1bHRNYXhab29tID0gMjg7XG4gICAgdmFyIGRlZmF1bHRab29tRmFjdG9yID0gMjtcbiAgICB2YXIgbWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogREVGQVVMVF9NSU5fWk9PTTtcbiAgICB2YXIgbWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogZGVmYXVsdE1heFpvb207XG4gICAgdmFyIHpvb21GYWN0b3IgPSBvcHRpb25zLnpvb21GYWN0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUZhY3RvciA6IGRlZmF1bHRab29tRmFjdG9yO1xuICAgIHZhciBtdWx0aVdvcmxkID0gb3B0aW9ucy5tdWx0aVdvcmxkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpV29ybGQgOiBmYWxzZTtcbiAgICB2YXIgc21vb3RoID0gb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludFxuICAgICAgICA6IHRydWU7XG4gICAgdmFyIHNob3dGdWxsRXh0ZW50ID0gb3B0aW9ucy5zaG93RnVsbEV4dGVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaG93RnVsbEV4dGVudCA6IGZhbHNlO1xuICAgIHZhciBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgICB2YXIgcHJvakV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGNvbnN0cmFpbk9ubHlDZW50ZXIgPSBvcHRpb25zLmNvbnN0cmFpbk9ubHlDZW50ZXI7XG4gICAgdmFyIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50O1xuICAgIGlmICghbXVsdGlXb3JsZCAmJiAhZXh0ZW50ICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgICBjb25zdHJhaW5Pbmx5Q2VudGVyID0gZmFsc2U7XG4gICAgICAgIGV4dGVudCA9IHByb2pFeHRlbnQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJlc29sdXRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb25zID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgbWF4UmVzb2x1dGlvbiA9IHJlc29sdXRpb25zW21pblpvb21dO1xuICAgICAgICBtaW5SZXNvbHV0aW9uID1cbiAgICAgICAgICAgIHJlc29sdXRpb25zW21heFpvb21dICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHJlc29sdXRpb25zW21heFpvb21dXG4gICAgICAgICAgICAgICAgOiByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhyZXNvbHV0aW9ucywgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBzbW9vdGgsICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCwgc2hvd0Z1bGxFeHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGRlZmF1bHQgbWluIGFuZCBtYXggcmVzb2x1dGlvblxuICAgICAgICB2YXIgc2l6ZSA9ICFwcm9qRXh0ZW50XG4gICAgICAgICAgICA/IC8vIHVzZSBhbiBleHRlbnQgdGhhdCBjYW4gZml0IHRoZSB3aG9sZSB3b3JsZCBpZiBuZWVkIGJlXG4gICAgICAgICAgICAgICAgKDM2MCAqIE1FVEVSU19QRVJfVU5JVFtVbml0cy5ERUdSRUVTXSkgLyBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKVxuICAgICAgICAgICAgOiBNYXRoLm1heChnZXRXaWR0aChwcm9qRXh0ZW50KSwgZ2V0SGVpZ2h0KHByb2pFeHRlbnQpKTtcbiAgICAgICAgdmFyIGRlZmF1bHRNYXhSZXNvbHV0aW9uID0gc2l6ZSAvIERFRkFVTFRfVElMRV9TSVpFIC8gTWF0aC5wb3coZGVmYXVsdFpvb21GYWN0b3IsIERFRkFVTFRfTUlOX1pPT00pO1xuICAgICAgICB2YXIgZGVmYXVsdE1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvXG4gICAgICAgICAgICBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgZGVmYXVsdE1heFpvb20gLSBERUZBVUxUX01JTl9aT09NKTtcbiAgICAgICAgLy8gdXNlciBwcm92aWRlZCBtYXhSZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgbWF4UmVzb2x1dGlvbiA9IG9wdGlvbnMubWF4UmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWluWm9vbSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhSZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtaW5ab29tKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1c2VyIHByb3ZpZGVkIG1pblJlc29sdXRpb24gdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgICAgICBpZiAobWluUmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWluUmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBnaXZlbiBkaXNjcmV0ZSB6b29tIGxldmVscywgbWluUmVzb2x1dGlvbiBtYXkgYmUgZGlmZmVyZW50IHRoYW4gcHJvdmlkZWRcbiAgICAgICAgbWF4Wm9vbSA9XG4gICAgICAgICAgICBtaW5ab29tICtcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpKTtcbiAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tIC0gbWluWm9vbSk7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUG93ZXIoem9vbUZhY3RvciwgbWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBzbW9vdGgsICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCwgc2hvd0Z1bGxFeHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnN0cmFpbnQ6IHJlc29sdXRpb25Db25zdHJhaW50LFxuICAgICAgICBtYXhSZXNvbHV0aW9uOiBtYXhSZXNvbHV0aW9uLFxuICAgICAgICBtaW5SZXNvbHV0aW9uOiBtaW5SZXNvbHV0aW9uLFxuICAgICAgICBtaW5ab29tOiBtaW5ab29tLFxuICAgICAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gICAgdmFyIGVuYWJsZVJvdGF0aW9uID0gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiA6IHRydWU7XG4gICAgaWYgKGVuYWJsZVJvdGF0aW9uKSB7XG4gICAgICAgIHZhciBjb25zdHJhaW5Sb3RhdGlvbiA9IG9wdGlvbnMuY29uc3RyYWluUm90YXRpb247XG4gICAgICAgIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGNvbnN0cmFpblJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU25hcFRvWmVybygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnN0cmFpblJvdGF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uTm9uZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWluUm90YXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU25hcFRvTihjb25zdHJhaW5Sb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZGlzYWJsZTtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKiBAcGFyYW0ge0FuaW1hdGlvbn0gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikge1xuICAgIGlmIChhbmltYXRpb24uc291cmNlQ2VudGVyICYmIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpIHtcbiAgICAgICAgaWYgKCFjb29yZGluYXRlc0VxdWFsKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIsIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICE9PSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFNoaWZ0ZWQgY2VudGVyLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDZW50ZXJPbihjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbiwgcmVzb2x1dGlvbiwgcm90YXRpb24pIHtcbiAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBwb3NpdGlvblxuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICB2YXIgcm90WCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgICB2YXIgcm90WSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgICByb3RYICs9IChzaXplWzBdIC8gMiAtIHBvc2l0aW9uWzBdKSAqIHJlc29sdXRpb247XG4gICAgcm90WSArPSAocG9zaXRpb25bMV0gLSBzaXplWzFdIC8gMikgKiByZXNvbHV0aW9uO1xuICAgIC8vIGdvIGJhY2sgdG8gb3JpZ2luYWwgYW5nbGVcbiAgICBzaW5BbmdsZSA9IC1zaW5BbmdsZTsgLy8gZ28gYmFjayB0byBvcmlnaW5hbCByb3RhdGlvblxuICAgIHZhciBjZW50ZXJYID0gcm90WCAqIGNvc0FuZ2xlIC0gcm90WSAqIHNpbkFuZ2xlO1xuICAgIHZhciBjZW50ZXJZID0gcm90WSAqIGNvc0FuZ2xlICsgcm90WCAqIHNpbkFuZ2xlO1xuICAgIHJldHVybiBbY2VudGVyWCwgY2VudGVyWV07XG59XG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld0hpbnRcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQU5JTUFUSU5HOiAwLFxuICAgIElOVEVSQUNUSU5HOiAxLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdIaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zaXplXG4gKi9cbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYSBzaXplOiBgW3dpZHRoLCBoZWlnaHRdYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBTaXplXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIGJ1ZmZlcmVkIHNpemUuXG4gKiBAcGFyYW0ge1NpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIGFtb3VudCBieSB3aGljaCB0byBidWZmZXIuXG4gKiBAcGFyYW0ge1NpemV9IFtvcHRfc2l6ZV0gT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBidWZmZXJlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKHNpemUsIG51bSwgb3B0X3NpemUpIHtcbiAgICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfc2l6ZSA9IFswLCAwXTtcbiAgICB9XG4gICAgb3B0X3NpemVbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgICBvcHRfc2l6ZVsxXSA9IHNpemVbMV0gKyAyICogbnVtO1xuICAgIHJldHVybiBvcHRfc2l6ZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBUaGUgc2l6ZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZWEoc2l6ZSkge1xuICAgIHJldHVybiBzaXplWzBdID4gMCAmJiBzaXplWzFdID4gMDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHNpemUgc2NhbGVkIGJ5IGEgcmF0aW8uIFRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFJhdGlvLlxuICogQHBhcmFtIHtTaXplfSBbb3B0X3NpemVdIE9wdGlvbmFsIHJldXNhYmxlIHNpemUgYXJyYXkuXG4gKiBAcmV0dXJuIHtTaXplfSBUaGUgc2NhbGVkIHNpemUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShzaXplLCByYXRpbywgb3B0X3NpemUpIHtcbiAgICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfc2l6ZSA9IFswLCAwXTtcbiAgICB9XG4gICAgb3B0X3NpemVbMF0gPSAoc2l6ZVswXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gICAgb3B0X3NpemVbMV0gPSAoc2l6ZVsxXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gICAgcmV0dXJuIG9wdF9zaXplO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGBTaXplYCBhcnJheSBmb3IgdGhlIHBhc3NlZCBpbiBudW1iZXIgKG1lYW5pbmc6IHNxdWFyZSkgb3JcbiAqIGBTaXplYCBhcnJheS5cbiAqIChtZWFuaW5nOiBub24tc3F1YXJlKSxcbiAqIEBwYXJhbSB7bnVtYmVyfFNpemV9IHNpemUgV2lkdGggYW5kIGhlaWdodC5cbiAqIEBwYXJhbSB7U2l6ZX0gW29wdF9zaXplXSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gU2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2l6ZShzaXplLCBvcHRfc2l6ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKG9wdF9zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdF9zaXplID0gW3NpemUsIHNpemVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0X3NpemVbMF0gPSBzaXplO1xuICAgICAgICAgICAgb3B0X3NpemVbMV0gPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRfc2l6ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvUGx1Z2dhYmxlTWFwXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyIGZyb20gJy4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IExheWVyR3JvdXAsIHsgR3JvdXBFdmVudCB9IGZyb20gJy4vbGF5ZXIvR3JvdXAuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50SGFuZGxlciBmcm9tICcuL01hcEJyb3dzZXJFdmVudEhhbmRsZXIuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBFdmVudCBmcm9tICcuL01hcEV2ZW50LmpzJztcbmltcG9ydCBNYXBFdmVudFR5cGUgZnJvbSAnLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcFByb3BlcnR5IGZyb20gJy4vTWFwUHJvcGVydHkuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL3BvaW50ZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlUXVldWUsIHsgZ2V0VGlsZVByaW9yaXR5IH0gZnJvbSAnLi9UaWxlUXVldWUuanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQgeyBUUlVFIH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNsb25lLCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBlcXVhbHMsIGdldEZvclZpZXdBbmRTaXplLCBpc0VtcHR5LCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGZyb21Vc2VyQ29vcmRpbmF0ZSwgdG9Vc2VyQ29vcmRpbmF0ZSB9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgaGFzQXJlYSB9IGZyb20gJy4vc2l6ZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlIH0gZnJvbSAnLi9kb20uanMnO1xuLyoqXG4gKiBTdGF0ZSBvZiB0aGUgY3VycmVudCBmcmFtZS4gT25seSBgcGl4ZWxSYXRpb2AsIGB0aW1lYCBhbmQgYHZpZXdTdGF0ZWAgc2hvdWxkXG4gKiBiZSB1c2VkIGluIGFwcGxpY2F0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZyYW1lU3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwaXhlbFJhdGlvIFRoZSBwaXhlbCByYXRpbyBvZiB0aGUgZnJhbWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSBUaGUgdGltZSB3aGVuIHJlbmRlcmluZyBvZiB0aGUgZnJhbWUgd2FzIHJlcXVlc3RlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlN0YXRlfSB2aWV3U3RhdGUgVGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgQW5pbWF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSBDb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gZGVjbHV0dGVyVHJlZSBEZWNsdXR0ZXJUcmVlLlxuICogQHByb3BlcnR5IHtudWxsfGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbmV4dEV4dGVudF0gTmV4dCBleHRlbnQgZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXggSW5kZXguXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGU+fSBsYXllclN0YXRlc0FycmF5IExheWVyU3RhdGVzQXJyYXkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGF5ZXJJbmRleCBMYXllckluZGV4LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtIFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLlxuICogQHByb3BlcnR5IHtBcnJheTxQb3N0UmVuZGVyRnVuY3Rpb24+fSBwb3N0UmVuZGVyRnVuY3Rpb25zIFBvc3RSZW5kZXJGdW5jdGlvbnMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcHJvcGVydHkge1RpbGVRdWV1ZX0gdGlsZVF1ZXVlIFRpbGVRdWV1ZS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gdXNlZFRpbGVzIFVzZWRUaWxlcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gdmlld0hpbnRzIFZpZXdIaW50cy5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gd2FudGVkVGlsZXMgV2FudGVkVGlsZXMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWFwSWQgVGhlIGlkIG9mIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSByZW5kZXJUYXJnZXRzIElkZW50aWZpZXJzIG9mIHByZXZpb3VzbHkgcmVuZGVyZWQgZWxlbWVudHMuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKFBsdWdnYWJsZU1hcCwgP0ZyYW1lU3RhdGUpOiBhbnl9IFBvc3RSZW5kZXJGdW5jdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEF0UGl4ZWxPcHRpb25zXG4gKiBAcHJvcGVydHkge3VuZGVmaW5lZHxmdW5jdGlvbihpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+KTogYm9vbGVhbn0gW2xheWVyRmlsdGVyXSBMYXllciBmaWx0ZXJcbiAqIGZ1bmN0aW9uLiBUaGUgZmlsdGVyIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSBvbmUgYXJndW1lbnQsIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllci1jYW5kaWRhdGV9IGFuZCBpdCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbiB2YWx1ZS5cbiAqIE9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYFxuICogd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZSBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2hpdFRvbGVyYW5jZT0wXSBIaXQtZGV0ZWN0aW9uIHRvbGVyYW5jZSBpbiBjc3MgcGl4ZWxzLiBQaXhlbHNcbiAqIGluc2lkZSB0aGUgcmFkaXVzIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24gd2lsbCBiZSBjaGVja2VkIGZvciBmZWF0dXJlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NoZWNrV3JhcHBlZD10cnVlXSBDaGVjay1XcmFwcGVkIFdpbGwgY2hlY2sgZm9yIGZvciB3cmFwcGVkIGdlb21ldHJpZXMgaW5zaWRlIHRoZSByYW5nZSBvZlxuICogICArLy0gMSB3b3JsZCB3aWR0aC4gV29ya3Mgb25seSBpZiBhIHByb2plY3Rpb24gaXMgdXNlZCB0aGF0IGNhbiBiZSB3cmFwcGVkLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNJbnRlcm5hbFxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdIENvbnRyb2xzLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdIEludGVyYWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9IGtleWJvYXJkRXZlbnRUYXJnZXQgS2V5Ym9hcmRFdmVudFRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IG92ZXJsYXlzIE92ZXJsYXlzLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8J2NoYW5nZTpsYXllcmdyb3VwJ3wnY2hhbmdlOnNpemUnfCdjaGFuZ2U6dGFyZ2V0J3wnY2hhbmdlOnZpZXcnfSBNYXBPYmplY3RFdmVudFR5cGVzXG4gKi9cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPE1hcE9iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFR5cGVcIikuVHlwZXMsIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vTWFwRXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuL01hcEV2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5NYXBSZW5kZXJFdmVudFR5cGVzLCBpbXBvcnQoXCIuL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfE1hcE9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50VHlwZVwiKS5UeXBlc3xpbXBvcnQoXCIuL01hcEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnRUeXBlXCIpLk1hcFJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IFBsdWdnYWJsZU1hcE9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBjb25maWcgb3B0aW9ucyBmb3IgdGhlIG1hcC5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gW2NvbnRyb2xzXVxuICogQ29udHJvbHMgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wuZGVmYXVsdHN9IGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW9dIFRoZSByYXRpbyBiZXR3ZWVuXG4gKiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHMgKGRpcHMpIG9uIHRoZSBkZXZpY2UuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBbaW50ZXJhY3Rpb25zXVxuICogSW50ZXJhY3Rpb25zIHRoYXQgYXJlIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBJZiBub3Qgc3BlY2lmaWVkLFxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi5kZWZhdWx0c30gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR8c3RyaW5nfSBba2V5Ym9hcmRFdmVudFRhcmdldF0gVGhlIGVsZW1lbnQgdG9cbiAqIGxpc3RlbiB0byBrZXlib2FyZCBldmVudHMgb24uIFRoaXMgZGV0ZXJtaW5lcyB3aGVuIHRoZSBgS2V5Ym9hcmRQYW5gIGFuZFxuICogYEtleWJvYXJkWm9vbWAgaW50ZXJhY3Rpb25zIHRyaWdnZXIuIEZvciBleGFtcGxlLCBpZiB0aGlzIG9wdGlvbiBpcyBzZXQgdG9cbiAqIGBkb2N1bWVudGAgdGhlIGtleWJvYXJkIGludGVyYWN0aW9ucyB3aWxsIGFsd2F5cyB0cmlnZ2VyLiBJZiB0aGlzIG9wdGlvbiBpc1xuICogbm90IHNwZWNpZmllZCwgdGhlIGVsZW1lbnQgdGhlIGxpYnJhcnkgbGlzdGVucyB0byBrZXlib2FyZCBldmVudHMgb24gaXMgdGhlXG4gKiBtYXAgdGFyZ2V0IChpLmUuIHRoZSB1c2VyLXByb3ZpZGVkIGRpdiBmb3IgdGhlIG1hcCkuIElmIHRoaXMgaXMgbm90XG4gKiBgZG9jdW1lbnRgLCB0aGUgdGFyZ2V0IGVsZW1lbnQgbmVlZHMgdG8gYmUgZm9jdXNlZCBmb3Iga2V5IGV2ZW50cyB0byBiZVxuICogZW1pdHRlZCwgcmVxdWlyaW5nIHRoYXQgdGhlIHRhcmdldCBlbGVtZW50IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58TGF5ZXJHcm91cH0gW2xheWVyc11cbiAqIExheWVycy4gSWYgdGhpcyBpcyBub3QgZGVmaW5lZCwgYSBtYXAgd2l0aCBubyBsYXllcnMgd2lsbCBiZSByZW5kZXJlZC4gTm90ZVxuICogdGhhdCBsYXllcnMgYXJlIHJlbmRlcmVkIGluIHRoZSBvcmRlciBzdXBwbGllZCwgc28gaWYgeW91IHdhbnQsIGZvciBleGFtcGxlLFxuICogYSB2ZWN0b3IgbGF5ZXIgdG8gYXBwZWFyIG9uIHRvcCBvZiBhIHRpbGUgbGF5ZXIsIGl0IG11c3QgY29tZSBhZnRlciB0aGUgdGlsZVxuICogbGF5ZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFRpbGVzTG9hZGluZz0xNl0gTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZFxuICogc2ltdWx0YW5lb3VzbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21vdmVUb2xlcmFuY2U9MV0gVGhlIG1pbmltdW0gZGlzdGFuY2UgaW4gcGl4ZWxzIHRoZVxuICogY3Vyc29yIG11c3QgbW92ZSB0byBiZSBkZXRlY3RlZCBhcyBhIG1hcCBtb3ZlIGV2ZW50IGluc3RlYWQgb2YgYSBjbGljay5cbiAqIEluY3JlYXNpbmcgdGhpcyB2YWx1ZSBjYW4gbWFrZSBpdCBlYXNpZXIgdG8gY2xpY2sgb24gdGhlIG1hcC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBbb3ZlcmxheXNdXG4gKiBPdmVybGF5cyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gQnkgZGVmYXVsdCwgbm8gb3ZlcmxheXMgYXJlIGFkZGVkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFRoZSBjb250YWluZXIgZm9yIHRoZSBtYXAsIGVpdGhlciB0aGVcbiAqIGVsZW1lbnQgaXRzZWxmIG9yIHRoZSBgaWRgIG9mIHRoZSBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvblxuICogdGltZSwge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI3NldFRhcmdldH0gbXVzdCBiZSBjYWxsZWQgZm9yIHRoZSBtYXAgdG8gYmVcbiAqIHJlbmRlcmVkLiBJZiBwYXNzZWQgYnkgZWxlbWVudCwgdGhlIGNvbnRhaW5lciBjYW4gYmUgaW4gYSBzZWNvbmRhcnkgZG9jdW1lbnQuXG4gKiBAcHJvcGVydHkge1ZpZXd8UHJvbWlzZTxpbXBvcnQoXCIuL1ZpZXcuanNcIikuVmlld09wdGlvbnM+fSBbdmlld10gVGhlIG1hcCdzIHZpZXcuICBObyBsYXllciBzb3VyY2VzIHdpbGwgYmVcbiAqIGZldGNoZWQgdW5sZXNzIHRoaXMgaXMgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIG9yIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNzZXRWaWV3fS5cbiAqL1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTGF5ZXJNYXBQcm9wZXJ0eShsYXllcikge1xuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgICAgIGxheWVyLnNldE1hcEludGVybmFsKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyR3JvdXApIHtcbiAgICAgICAgbGF5ZXIuZ2V0TGF5ZXJzKCkuZm9yRWFjaChyZW1vdmVMYXllck1hcFByb3BlcnR5KTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICogQHBhcmFtIHtQbHVnZ2FibGVNYXB9IG1hcCBNYXAuXG4gKi9cbmZ1bmN0aW9uIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXIsIG1hcCkge1xuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgICAgIGxheWVyLnNldE1hcEludGVybmFsKG1hcCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgICAgICB2YXIgbGF5ZXJzID0gbGF5ZXIuZ2V0TGF5ZXJzKCkuZ2V0QXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXJzW2ldLCBtYXApO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9NYXBCcm93c2VyRXZlbnQuanNcIikuTWFwQnJvd3NlckV2ZW50XG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9NYXBFdmVudC5qc1wiKS5NYXBFdmVudFxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcHJlY29tcG9zZVxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcG9zdGNvbXBvc2VcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0I3JlbmRlcmNvbXBsZXRlXG4gKiBAYXBpXG4gKi9cbnZhciBQbHVnZ2FibGVNYXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsdWdnYWJsZU1hcCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcE9wdGlvbnN9IG9wdGlvbnMgTWFwIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGx1Z2dhYmxlTWFwKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7UGx1Z2dhYmxlTWFwT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtQbHVnZ2FibGVNYXBPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7UGx1Z2dhYmxlTWFwT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgdmFyIG9wdGlvbnNJbnRlcm5hbCA9IGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyQ29tcGxldGVfO1xuICAgICAgICAvKiogQHByaXZhdGUgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfID0gX3RoaXMuaGFuZGxlQnJvd3NlckV2ZW50LmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heFRpbGVzTG9hZGluZ18gPVxuICAgICAgICAgICAgb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4VGlsZXNMb2FkaW5nIDogMTY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxSYXRpb18gPVxuICAgICAgICAgICAgb3B0aW9ucy5waXhlbFJhdGlvICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIDogREVWSUNFX1BJWEVMX1JBVElPO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvbkRlbGF5S2V5XztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25EZWxheV8gPSAvKiogQHRoaXMge1BsdWdnYWJsZU1hcH0gKi8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckZyYW1lXyhEYXRlLm5vdygpKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZUluZGV4XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P0ZyYW1lU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXh0ZW50IGF0IHRoZSBwcmV2aW91cyAnbW92ZWVuZCcgZXZlbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmV2aW91c0V4dGVudF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdwb3J0XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uY2xhc3NOYW1lID1cbiAgICAgICAgICAgICdvbC12aWV3cG9ydCcgKyAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93ID8gJyBvbC10b3VjaCcgOiAnJyk7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS56SW5kZXggPSAnMCc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLmNsYXNzTmFtZSA9ICdvbC1vdmVybGF5Y29udGFpbmVyJztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlDb250YWluZXJfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLnpJbmRleCA9ICcwJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50JztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdmVUb2xlcmFuY2VfID0gb3B0aW9ucy5tb3ZlVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fERvY3VtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5Ym9hcmRFdmVudFRhcmdldF8gPSBvcHRpb25zSW50ZXJuYWwua2V5Ym9hcmRFdmVudFRhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udHJvbHMgPSBvcHRpb25zSW50ZXJuYWwuY29udHJvbHMgfHwgbmV3IENvbGxlY3Rpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9ucyA9IG9wdGlvbnNJbnRlcm5hbC5pbnRlcmFjdGlvbnMgfHwgbmV3IENvbGxlY3Rpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJsYXlzXyA9IG9wdGlvbnNJbnRlcm5hbC5vdmVybGF5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbG9va3VwIG9mIG92ZXJsYXlzIGJ5IGlkLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheUlkSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PFBvc3RSZW5kZXJGdW5jdGlvbj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpbGVRdWV1ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVRdWV1ZV8gPSBuZXcgVGlsZVF1ZXVlKF90aGlzLmdldFRpbGVQcmlvcml0eS5iaW5kKF90aGlzKSwgX3RoaXMuaGFuZGxlVGlsZUNoYW5nZV8uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLCBfdGhpcy5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5WSUVXLCBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5TSVpFLCBfdGhpcy5oYW5kbGVTaXplQ2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5UQVJHRVQsIF90aGlzLmhhbmRsZVRhcmdldENoYW5nZWRfKTtcbiAgICAgICAgLy8gc2V0UHJvcGVydGllcyB3aWxsIHRyaWdnZXIgdGhlIHJlbmRlcmluZyBvZiB0aGUgbWFwIGlmIHRoZSBtYXBcbiAgICAgICAgLy8gaXMgXCJkZWZpbmVkXCIgYWxyZWFkeS5cbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhvcHRpb25zSW50ZXJuYWwudmFsdWVzKTtcbiAgICAgICAgdmFyIG1hcCA9IF90aGlzO1xuICAgICAgICBpZiAob3B0aW9ucy52aWV3ICYmICEob3B0aW9ucy52aWV3IGluc3RhbmNlb2YgVmlldykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudmlldy50aGVuKGZ1bmN0aW9uICh2aWV3T3B0aW9ucykge1xuICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KG5ldyBWaWV3KHZpZXdPcHRpb25zKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5jb250cm9scy5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcCh0aGlzKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheXNfLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3ZlcmxheUludGVybmFsXyhcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9ICovIChldmVudC5lbGVtZW50KSk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5vdmVybGF5c18uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIG92ZXJsYXkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQuZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuY29udHJvbHMuZm9yRWFjaChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgICAgICAgKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIGNvbnRyb2wuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmZvckVhY2goXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24uXG4gICAgICAgICAqIEB0aGlzIHtQbHVnZ2FibGVNYXB9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uLnNldE1hcCh0aGlzKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLm92ZXJsYXlzXy5mb3JFYWNoKF90aGlzLmFkZE92ZXJsYXlJbnRlcm5hbF8uYmluZChfdGhpcykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcmVuZGVyZXIvTWFwLmpzXCIpLmRlZmF1bHR9IFRoZSBtYXAgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZSBhIG1hcCB0eXBlIHRoYXQgaGFzIGEgY3JlYXRlUmVuZGVyZXIgbWV0aG9kJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIGNvbnRyb2wgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5hZGRDb250cm9sID0gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5nZXRDb250cm9scygpLnB1c2goY29udHJvbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIGludGVyYWN0aW9uIHRvIHRoZSBtYXAuIElmIHlvdSB3YW50IHRvIGFkZCBhbiBpbnRlcmFjdGlvblxuICAgICAqIGF0IGFub3RoZXIgcG9pbnQgb2YgdGhlIGNvbGxlY3Rpb24gdXNlIGBnZXRJbnRlcmFjdGlvbigpYCBhbmQgdGhlIG1ldGhvZHNcbiAgICAgKiBhdmFpbGFibGUgb24ge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LiBUaGlzIGNhbiBiZSB1c2VkIHRvXG4gICAgICogc3RvcCB0aGUgZXZlbnQgcHJvcGFnYXRpb24gZnJvbSB0aGUgaGFuZGxlRXZlbnQgZnVuY3Rpb24uIFRoZSBpbnRlcmFjdGlvbnNcbiAgICAgKiBnZXQgdG8gaGFuZGxlIHRoZSBldmVudHMgaW4gdGhlIHJldmVyc2Ugb3JkZXIgb2YgdGhpcyBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5wdXNoKGludGVyYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGdpdmVuIGxheWVyIHRvIHRoZSB0b3Agb2YgdGhpcyBtYXAuIElmIHlvdSB3YW50IHRvIGFkZCBhIGxheWVyXG4gICAgICogZWxzZXdoZXJlIGluIHRoZSBzdGFjaywgdXNlIGBnZXRMYXllcnMoKWAgYW5kIHRoZSBtZXRob2RzIGF2YWlsYWJsZSBvblxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5hZGRMYXllciA9IGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJzKCk7XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9Hcm91cC5qc1wiKS5Hcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgYWRkIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVMYXllckFkZF8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgc2V0TGF5ZXJNYXBQcm9wZXJ0eShldmVudC5sYXllciwgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIG92ZXJsYXkgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheSA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHRoaXMuZ2V0T3ZlcmxheXMoKS5wdXNoKG92ZXJsYXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBkZWFscyB3aXRoIG1hcCdzIG92ZXJsYXkgY29sbGVjdGlvbiBjaGFuZ2VzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheUludGVybmFsXyA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHZhciBpZCA9IG92ZXJsYXkuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gb3ZlcmxheTtcbiAgICAgICAgfVxuICAgICAgICBvdmVybGF5LnNldE1hcCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0KG51bGwpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmQgZXhlY3V0ZSBhXG4gICAgICogY2FsbGJhY2sgd2l0aCBlYWNoIGludGVyc2VjdGluZyBmZWF0dXJlLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlIGRldGVjdGlvbiBjYW5cbiAgICAgKiBiZSBjb25maWd1cmVkIHRocm91Z2ggdGhlIGBsYXllckZpbHRlcmAgb3B0aW9uIGluIGBvcHRfb3B0aW9uc2AuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZVxuICAgICAqICAgICBjYWxsZWQgd2l0aCB0d28gYXJndW1lbnRzLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgb25lXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZSBmZWF0dXJlfSBvclxuICAgICAqICAgICB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlIHJlbmRlciBmZWF0dXJlfSBhdCB0aGUgcGl4ZWwsIHRoZSBzZWNvbmQgaXNcbiAgICAgKiAgICAgdGhlIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9IG9mIHRoZSBmZWF0dXJlIGFuZCB3aWxsIGJlIG51bGwgZm9yXG4gICAgICogICAgIHVubWFuYWdlZCBsYXllcnMuIFRvIHN0b3AgZGV0ZWN0aW9uLCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIHJldHVybiBhXG4gICAgICogICAgIHRydXRoeSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdCwgaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGxhc3RcbiAgICAgKiBjYWxsYmFjayBleGVjdXRpb24sIG9yIHRoZSBmaXJzdCB0cnV0aHkgY2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgICAgIG9wdF9vcHRpb25zID0gb3B0X29wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgICAgIHZhciBjaGVja1dyYXBwZWQgPSBvcHRfb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5mcmFtZVN0YXRlXywgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGNhbGxiYWNrLCBudWxsLCBsYXllckZpbHRlciwgbnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25hbCBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IFRoZSBkZXRlY3RlZCBmZWF0dXJlcyBvclxuICAgICAqIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgd2VyZSBmb3VuZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRQaXhlbChwaXhlbCwgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgIH0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBsYXllcnMgZnJvbSBhbGwgbGF5ZXIgZ3JvdXBzLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEFsbExheWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheWVycyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGRMYXllcnNGcm9tKGxheWVyR3JvdXApIHtcbiAgICAgICAgICAgIGxheWVyR3JvdXAuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZExheWVyc0Zyb20obGF5ZXIuZ2V0TGF5ZXJzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFkZExheWVyc0Zyb20odGhpcy5nZXRMYXllcnMoKSk7XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgbGF5ZXJzIHRoYXQgaGF2ZSBhIGNvbG9yIHZhbHVlIGF0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmRcbiAgICAgKiBleGVjdXRlIGEgY2FsbGJhY2sgd2l0aCBlYWNoIG1hdGNoaW5nIGxheWVyLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggYG9wdF9sYXllckZpbHRlcmAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBJbiBtYXBzIHdpdGggbW9yZSB0aGFuIG9uZSBsYXllciwgdGhpcyBtZXRob2Qgd2lsbCB0eXBpY2FsbHkgcmV0dXJuIHBpeGVsIGRhdGFcbiAgICAgKiByZXByZXNlbnRpbmcgdGhlIGNvbXBvc2VkIGltYWdlIG9mIGFsbCBsYXllcnMgdmlzaWJsZSBhdCB0aGUgZ2l2ZW4gcGl4ZWwg4oCTIGJlY2F1c2UgbGF5ZXJzXG4gICAgICogd2lsbCBnZW5lcmFsbHkgc2hhcmUgdGhlIHNhbWUgcmVuZGVyaW5nIGNvbnRleHQuICBUbyBmb3JjZSBsYXllcnMgdG8gcmVuZGVyIHNlcGFyYXRlbHksIGFuZFxuICAgICAqIHRvIGdldCBwaXhlbCBkYXRhIHJlcHJlc2VudGluZyBvbmx5IG9uZSBsYXllciBhdCBhIHRpbWUsIHlvdSBjYW4gYXNzaWduIGVhY2ggbGF5ZXIgYSB1bmlxdWVcbiAgICAgKiBgY2xhc3NOYW1lYCBpbiBpdHMgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFja1xuICAgICAqICAgICBMYXllciBjYWxsYmFjay4gVGhpcyBjYWxsYmFjayB3aWxsIHJlY2VpdmUgdHdvIGFyZ3VtZW50czogZmlyc3QgaXMgdGhlXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9LCBzZWNvbmQgYXJndW1lbnQgaXMgYW4gYXJyYXkgcmVwcmVzZW50aW5nXG4gICAgICogICAgIFtSLCBHLCBCLCBBXSBwaXhlbCB2YWx1ZXMgKDAgLSAyNTUpIGFuZCB3aWxsIGJlIGBudWxsYCBmb3IgbGF5ZXIgdHlwZXNcbiAgICAgKiAgICAgdGhhdCBkbyBub3QgY3VycmVudGx5IHN1cHBvcnQgdGhpcyBhcmd1bWVudC4gVG8gc3RvcCBkZXRlY3Rpb24sIGNhbGxiYWNrXG4gICAgICogICAgIGZ1bmN0aW9ucyBjYW4gcmV0dXJuIGEgdHJ1dGh5IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnN9IFtvcHRfb3B0aW9uc10gQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQsIGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZiBsYXN0XG4gICAgICogY2FsbGJhY2sgZXhlY3V0aW9uLCBvciB0aGUgZmlyc3QgdHJ1dGh5IGNhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKiBAdGVtcGxhdGUgUyxUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgY2FsbGJhY2ssIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRpb25zLmhpdFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oaXRUb2xlcmFuY2UgOiAwO1xuICAgICAgICB2YXIgbGF5ZXJGaWx0ZXIgPSBvcHRpb25zLmxheWVyRmlsdGVyIHx8IFRSVUU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5mb3JFYWNoTGF5ZXJBdFBpeGVsKHBpeGVsLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBsYXllckZpbHRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgZmVhdHVyZXMgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggYG9wdF9sYXllckZpbHRlcmAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBwaXhlbD9cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgICAgIG9wdF9vcHRpb25zID0gb3B0X29wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgICAgIHZhciBjaGVja1dyYXBwZWQgPSBvcHRfb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNoZWNrV3JhcHBlZCwgbGF5ZXJGaWx0ZXIsIG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB1c2VyIHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEV2ZW50Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB2aWV3IHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwIHBpeGVsIHBvc2l0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7VUlFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gUGl4ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRQaXhlbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdmlld3BvcnRQb3NpdGlvbiA9IHRoaXMudmlld3BvcnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZXZlbnRQb3NpdGlvbiA9IFxuICAgICAgICAvL0ZJWE1FIEFyZSB3ZSByZWFsbHkgY2FsbGluZyB0aGlzIHdpdGggYSBUb3VjaEV2ZW50IGFueXdoZXJlP1xuICAgICAgICAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50XG4gICAgICAgICAgICA/IC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8gKGV2ZW50KS5jaGFuZ2VkVG91Y2hlc1swXVxuICAgICAgICAgICAgOiAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChldmVudCk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBldmVudFBvc2l0aW9uLmNsaWVudFggLSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQsXG4gICAgICAgICAgICBldmVudFBvc2l0aW9uLmNsaWVudFkgLSB2aWV3cG9ydFBvc2l0aW9uLnRvcCxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGFyZ2V0IGluIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgd2hhdCBpcyBlbnRlcmVkIGFzIGFuIG9wdGlvbiBvciBpbiBzZXRUYXJnZXQ6XG4gICAgICogaWYgdGhhdCB3YXMgYW4gZWxlbWVudCwgaXQgcmV0dXJucyBhbiBlbGVtZW50OyBpZiBhIHN0cmluZywgaXQgcmV0dXJucyB0aGF0LlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IFRoZSBFbGVtZW50IG9yIGlkIG9mIHRoZSBFbGVtZW50IHRoYXQgdGhlXG4gICAgICogICAgIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR8c3RyaW5nfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlRBUkdFVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBET00gZWxlbWVudCBpbnRvIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLiBJbiBjb250cmFzdCB0b1xuICAgICAqIGBnZXRUYXJnZXRgIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm4gYW4gYEVsZW1lbnRgLCBvciBgbnVsbGAgaWYgdGhlXG4gICAgICogbWFwIGhhcyBubyB0YXJnZXQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBlbGVtZW50IHRoYXQgdGhlIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoKTtcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldClcbiAgICAgICAgICAgICAgICA6IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgICAqIHVzZXIgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIGZvciB0aGUgcGl4ZWwgcG9zaXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gdG9Vc2VyQ29vcmRpbmF0ZSh0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCksIHRoaXMuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgICAqIG1hcCB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSBmb3IgdGhlIHBpeGVsIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHZhciBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgY29udHJvbHMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgY29udHJvbHNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBDb250cm9scy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBvdmVybGF5cy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBvdmVybGF5c1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBPdmVybGF5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFuIG92ZXJsYXkgYnkgaXRzIGlkZW50aWZpZXIgKHRoZSB2YWx1ZSByZXR1cm5lZCBieSBvdmVybGF5LmdldElkKCkpLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgaW5kZXggdHJlYXRzIHN0cmluZyBhbmQgbnVtZXJpYyBpZGVudGlmaWVycyBhcyB0aGUgc2FtZS4gU29cbiAgICAgKiBgbWFwLmdldE92ZXJsYXlCeUlkKDIpYCB3aWxsIHJldHVybiBhbiBvdmVybGF5IHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgT3ZlcmxheSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBPdmVybGF5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBvdmVybGF5ID0gdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIHJldHVybiBvdmVybGF5ICE9PSB1bmRlZmluZWQgPyBvdmVybGF5IDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFwIGludGVyYWN0aW9ucy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBpbnRlcmFjdGlvbnNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEludGVyYWN0aW9ucyBhcmUgdXNlZCBmb3IgZS5nLiBwYW4sIHpvb20gYW5kIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IEludGVyYWN0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyYWN0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGF5ZXJncm91cCBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAgICogQHJldHVybiB7TGF5ZXJHcm91cH0gQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllckdyb3VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuTEFZRVJHUk9VUCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYW55IGV4aXN0aW5nIGxheWVycyBhbmQgYWRkIGxheWVycyB0byB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgVGhlIGxheWVycyB0byBiZSBhZGRlZCB0byB0aGUgbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldExheWVycyA9IGZ1bmN0aW9uIChsYXllcnMpIHtcbiAgICAgICAgdmFyIGdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgICAgIGlmIChsYXllcnMgaW5zdGFuY2VvZiBDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBncm91cC5zZXRMYXllcnMobGF5ZXJzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGdyb3VwLmdldExheWVycygpO1xuICAgICAgICBjb2xsZWN0aW9uLmNsZWFyKCk7XG4gICAgICAgIGNvbGxlY3Rpb24uZXh0ZW5kKGxheWVycyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbGxlY3Rpb24gb2YgbGF5ZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgcmV0dXJuIGxheWVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVycyBoYXZlIHNvdXJjZXMgdGhhdCBhcmUgc3RpbGwgbG9hZGluZy5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldExvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlc0FycmF5ID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGVzQXJyYXlbaV0ubGF5ZXI7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9ICovIChsYXllcikuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXJcbiAgICAgKiBwcm9qZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQSBtYXAgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHZhciB2aWV3Q29vcmRpbmF0ZSA9IGZyb21Vc2VyQ29vcmRpbmF0ZShjb29yZGluYXRlLCB0aGlzLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwodmlld0Nvb3JkaW5hdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIG1hcCB2aWV3XG4gICAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIEEgbWFwIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gQSBwaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGNvb3JkaW5hdGUuc2xpY2UoMCwgMikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5TSVpFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLiBBIHZpZXcgbWFuYWdlcyBwcm9wZXJ0aWVzIHN1Y2ggYXNcbiAgICAgKiBjZW50ZXIgYW5kIHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7Vmlld30gVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge1ZpZXd9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5WSUVXKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCB0aGF0IHNlcnZlcyBhcyB0aGUgY29udGFpbmVyIGZvciBvdmVybGF5cy4gIEVsZW1lbnRzIGFkZGVkIHRvXG4gICAgICogdGhpcyBjb250YWluZXIgd2lsbCBsZXQgbW91c2Vkb3duIGFuZCB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsXG4gICAgICogc28gY2xpY2tzIGFuZCBnZXN0dXJlcyBvbiBhbiBvdmVybGF5IHdpbGwgdHJpZ2dlciB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9XG4gICAgICogZXZlbnRzLlxuICAgICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheUNvbnRhaW5lcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgYSBjb250YWluZXIgZm9yIG92ZXJsYXlzIHRoYXQgZG9uJ3QgYWxsb3dcbiAgICAgKiBldmVudCBwcm9wYWdhdGlvbi4gRWxlbWVudHMgYWRkZWQgdG8gdGhpcyBjb250YWluZXIgd29uJ3QgbGV0IG1vdXNlZG93biBhbmRcbiAgICAgKiB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheVxuICAgICAqIGRvbid0IHRyaWdnZXIgYW55IHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0uXG4gICAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fSBUaGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIgdGhhdCBzdG9wcyBldmVudHMuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFEb2N1bWVudH0gVGhlIGRvY3VtZW50IHdoZXJlIHRoZSBtYXAgaXMgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3duZXJEb2N1bWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldEVsZW1lbnQgPyB0YXJnZXRFbGVtZW50Lm93bmVyRG9jdW1lbnQgOiBkb2N1bWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdGlsZUNlbnRlciBUaWxlIGNlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGlsZVJlc29sdXRpb24gVGlsZSByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRpbGVQcmlvcml0eSA9IGZ1bmN0aW9uICh0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0VGlsZVByaW9yaXR5KHRoaXMuZnJhbWVTdGF0ZV8sIHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VUlFdmVudH0gYnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRfdHlwZV0gVHlwZS5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUJyb3dzZXJFdmVudCA9IGZ1bmN0aW9uIChicm93c2VyRXZlbnQsIG9wdF90eXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gb3B0X3R5cGUgfHwgYnJvd3NlckV2ZW50LnR5cGU7XG4gICAgICAgIHZhciBtYXBCcm93c2VyRXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KHR5cGUsIHRoaXMsIGJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcEJyb3dzZXJFdmVudH0gbWFwQnJvd3NlckV2ZW50IFRoZSBldmVudCB0byBoYW5kbGUuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVNYXBCcm93c2VyRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgLy8gV2l0aCBubyB2aWV3IGRlZmluZWQsIHdlIGNhbm5vdCB0cmFuc2xhdGUgcGl4ZWxzIGludG8gZ2VvZ3JhcGhpY2FsXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBzbyBpbnRlcmFjdGlvbnMgY2Fubm90IGJlIHVzZWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge1BvaW50ZXJFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IG9yaWdpbmFsRXZlbnQudHlwZTtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgICAgICAgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuV0hFRUwgfHxcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLktFWURPV04pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLmdldE93bmVyRG9jdW1lbnQoKTtcbiAgICAgICAgICAgIHZhciByb290Tm9kZSA9IHRoaXMudmlld3BvcnRfLmdldFJvb3ROb2RlXG4gICAgICAgICAgICAgICAgPyB0aGlzLnZpZXdwb3J0Xy5nZXRSb290Tm9kZSgpXG4gICAgICAgICAgICAgICAgOiBkb2M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gLyoqIEB0eXBlIHtOb2RlfSAqLyAob3JpZ2luYWxFdmVudC50YXJnZXQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhlIHRhcmdldCBpcyBhIGNoaWxkIG9mIHRoZSBjb250YWluZXIgZm9yIGVsZW1lbnRzIHdob3NlIGV2ZW50cyBhcmUgbm90IG1lYW50XG4gICAgICAgICAgICAvLyB0byBiZSBoYW5kbGVkIGJ5IG1hcCBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLmNvbnRhaW5zKHRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIGNvbnRhaW5lciB0aGF0IGlzIG5vIGxvbmdlciBpbiB0aGUgcGFnZS5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIGZvciB0aGUgdGFyZ2V0IHRvIG5vIGxvbmdlciBiZSBpbiB0aGUgcGFnZSBpZiBpdCBoYXMgYmVlbiByZW1vdmVkIGluIGFuXG4gICAgICAgICAgICAgICAgLy8gZXZlbnQgbGlzdGVuZXIsIHRoaXMgbWlnaHQgaGFwcGVuIGluIGEgQ29udHJvbCB0aGF0IHJlY3JlYXRlcyBpdCdzIGNvbnRlbnQgYmFzZWQgb25cbiAgICAgICAgICAgICAgICAvLyB1c2VyIGludGVyYWN0aW9uIGVpdGhlciBtYW51YWxseSBvciB2aWEgYSByZW5kZXIgaW4gc29tZXRoaW5nIGxpa2UgaHR0cHM6Ly9yZWFjdGpzLm9yZy9cbiAgICAgICAgICAgICAgICAhKHJvb3ROb2RlID09PSBkb2MgPyBkb2MuZG9jdW1lbnRFbGVtZW50IDogcm9vdE5vZGUpLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWFwQnJvd3NlckV2ZW50LmZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KG1hcEJyb3dzZXJFdmVudCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25zQXJyYXkgPSB0aGlzLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCkuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbnRlcmFjdGlvbnNBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc0FycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5nZXRNYXAoKSAhPT0gdGhpcyB8fFxuICAgICAgICAgICAgICAgICAgICAhaW50ZXJhY3Rpb24uZ2V0QWN0aXZlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29udCA9IGludGVyYWN0aW9uLmhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250IHx8IG1hcEJyb3dzZXJFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVQb3N0UmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgICAgIC8vIE1hbmFnZSB0aGUgdGlsZSBxdWV1ZVxuICAgICAgICAvLyBJbWFnZSBsb2FkcyBhcmUgZXhwZW5zaXZlIGFuZCBhIGxpbWl0ZWQgcmVzb3VyY2UsIHNvIHRyeSB0byB1c2UgdGhlbVxuICAgICAgICAvLyBlZmZpY2llbnRseTpcbiAgICAgICAgLy8gKiBXaGVuIHRoZSB2aWV3IGlzIHN0YXRpYyB3ZSBhbGxvdyBhIGxhcmdlIG51bWJlciBvZiBwYXJhbGxlbCB0aWxlIGxvYWRzXG4gICAgICAgIC8vICAgdG8gY29tcGxldGUgdGhlIGZyYW1lIGFzIHF1aWNrbHkgYXMgcG9zc2libGUuXG4gICAgICAgIC8vICogV2hlbiBhbmltYXRpbmcgb3IgaW50ZXJhY3RpbmcsIGltYWdlIGxvYWRzIGNhbiBjYXVzZSBqYW5rcywgc28gd2UgcmVkdWNlXG4gICAgICAgIC8vICAgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxvYWRzIHBlciBmcmFtZSBhbmQgbGltaXQgdGhlIG51bWJlciBvZiBwYXJhbGxlbFxuICAgICAgICAvLyAgIHRpbGUgbG9hZHMgdG8gcmVtYWluIHJlYWN0aXZlIHRvIHZpZXcgY2hhbmdlcyBhbmQgdG8gcmVkdWNlIHRoZSBjaGFuY2Ugb2ZcbiAgICAgICAgLy8gICBsb2FkaW5nIHRpbGVzIHRoYXQgd2lsbCBxdWlja2x5IGRpc2FwcGVhciBmcm9tIHZpZXcuXG4gICAgICAgIHZhciB0aWxlUXVldWUgPSB0aGlzLnRpbGVRdWV1ZV87XG4gICAgICAgIGlmICghdGlsZVF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIG1heFRvdGFsTG9hZGluZyA9IHRoaXMubWF4VGlsZXNMb2FkaW5nXztcbiAgICAgICAgICAgIHZhciBtYXhOZXdMb2FkcyA9IG1heFRvdGFsTG9hZGluZztcbiAgICAgICAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgICAgICAgICAgICAgaWYgKGhpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgaGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3dPbkZyYW1lQnVkZ2V0ID0gRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDg7XG4gICAgICAgICAgICAgICAgICAgIG1heFRvdGFsTG9hZGluZyA9IGxvd09uRnJhbWVCdWRnZXQgPyAwIDogODtcbiAgICAgICAgICAgICAgICAgICAgbWF4TmV3TG9hZHMgPSBsb3dPbkZyYW1lQnVkZ2V0ID8gMCA6IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVRdWV1ZS5nZXRUaWxlc0xvYWRpbmcoKSA8IG1heFRvdGFsTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5yZXByaW9yaXRpemUoKTsgLy8gRklYTUUgb25seSBjYWxsIGlmIHZpZXcgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICB0aWxlUXVldWUubG9hZE1vcmVUaWxlcyhtYXhUb3RhbExvYWRpbmcsIG1heE5ld0xvYWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVTdGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy5oYXNMaXN0ZW5lcihSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUpICYmXG4gICAgICAgICAgICAhZnJhbWVTdGF0ZS5hbmltYXRlICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBsZXRlXykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3N0UmVuZGVyRnVuY3Rpb25zID0gdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcG9zdFJlbmRlckZ1bmN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zW2ldKHRoaXMsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVTaXplQ2hhbmdlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldFZpZXcoKSAmJiAhdGhpcy5nZXRWaWV3KCkuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpLnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRhcmdldENoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c19baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ09OVEVYVE1FTlUsIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfKTtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLldIRUVMLCB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50Xyk7XG4gICAgICAgICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGFyZ2V0IG1heSBiZSB1bmRlZmluZWQsIG51bGwsIGEgc3RyaW5nIG9yIGFuIEVsZW1lbnQuXG4gICAgICAgIC8vIElmIGl0J3MgYSBzdHJpbmcgd2UgY29udmVydCBpdCB0byBhbiBFbGVtZW50IGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgICAvLyBJZiBpdCdzIG5vdCBub3cgYW4gRWxlbWVudCB3ZSByZW1vdmUgdGhlIHZpZXdwb3J0IGZyb20gdGhlIERPTS5cbiAgICAgICAgLy8gSWYgaXQncyBhbiBFbGVtZW50IHdlIGFwcGVuZCB0aGUgdmlld3BvcnQgZWxlbWVudCB0byBpdC5cbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfID0gbmV3IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIodGhpcywgdGhpcy5tb3ZlVG9sZXJhbmNlXyk7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gTWFwQnJvd3NlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uYWRkRXZlbnRMaXN0ZW5lcihNYXBCcm93c2VyRXZlbnRUeXBlW2tleV0sIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydF8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ09OVEVYVE1FTlUsIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5XSEVFTCwgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8sIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2UpO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRWaWV3ID0gdGhpcy5nZXRPd25lckRvY3VtZW50KCkuZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICB2YXIga2V5Ym9hcmRFdmVudFRhcmdldCA9ICF0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfXG4gICAgICAgICAgICAgICAgPyB0YXJnZXRFbGVtZW50XG4gICAgICAgICAgICAgICAgOiB0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGtleWJvYXJkRXZlbnRUYXJnZXQsIEV2ZW50VHlwZS5LRVlET1dOLCB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCwgdGhpcyksXG4gICAgICAgICAgICAgICAgbGlzdGVuKGtleWJvYXJkRXZlbnRUYXJnZXQsIEV2ZW50VHlwZS5LRVlQUkVTUywgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpLFxuICAgICAgICAgICAgICAgIGxpc3RlbihkZWZhdWx0VmlldywgRXZlbnRUeXBlLlJFU0laRSwgdGhpcy51cGRhdGVTaXplLCB0aGlzKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTaXplKCk7XG4gICAgICAgIC8vIHVwZGF0ZVNpemUgY2FsbHMgc2V0U2l6ZSwgc28gbm8gbmVlZCB0byBjYWxsIHRoaXMucmVuZGVyXG4gICAgICAgIC8vIG91cnNlbHZlcyBoZXJlLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcbiAgICAgICAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbGlzdGVuKHZpZXcsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4odmlldywgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICAgICAgICB2aWV3LnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXykge1xuICAgICAgICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllckdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgICAgIGlmIChsYXllckdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxheWVyQWRkXyhuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBsYXllckdyb3VwKSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5yZW5kZXIsIHRoaXMpLFxuICAgICAgICAgICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsICdhZGRsYXllcicsIHRoaXMuaGFuZGxlTGF5ZXJBZGRfLCB0aGlzKSxcbiAgICAgICAgICAgICAgICBsaXN0ZW4obGF5ZXJHcm91cCwgJ3JlbW92ZWxheWVyJywgdGhpcy5oYW5kbGVMYXllclJlbW92ZV8sIHRoaXMpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5pc1JlbmRlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmZyYW1lU3RhdGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gaW1tZWRpYXRlIHJlbmRlciBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW5kZXJTeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVkcmF3cyBhbGwgdGV4dCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlZHJhd1RleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlcyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZXNbaV0ubGF5ZXI7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaGFzUmVuZGVyZXIoKSkge1xuICAgICAgICAgICAgICAgIGxheWVyLmdldFJlbmRlcmVyKCkuaGFuZGxlRm9udHNDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgYSBtYXAgcmVuZGVyaW5nIChhdCB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXJfICYmIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBnaXZlbiBjb250cm9sIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgY29udHJvbCAob3IgdW5kZWZpbmVkXG4gICAgICogICAgIGlmIHRoZSBjb250cm9sIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbiAoY29udHJvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb250cm9scygpLnJlbW92ZShjb250cm9sKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZ2l2ZW4gaW50ZXJhY3Rpb24gZnJvbSB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgaW50ZXJhY3Rpb24gKG9yXG4gICAgICogICAgIHVuZGVmaW5lZCBpZiB0aGUgaW50ZXJhY3Rpb24gd2FzIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucmVtb3ZlKGludGVyYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGxheWVyIChvciB1bmRlZmluZWQgaWYgdGhlXG4gICAgICogICAgIGxheWVyIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUxheWVyID0gZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgcmV0dXJuIGxheWVycy5yZW1vdmUobGF5ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0dyb3VwLmpzXCIpLkdyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciByZW1vdmUgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUxheWVyUmVtb3ZlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZW1vdmVMYXllck1hcFByb3BlcnR5KGV2ZW50LmxheWVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZ2l2ZW4gb3ZlcmxheSBmcm9tIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gb3ZlcmxheSBPdmVybGF5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgb3ZlcmxheSAob3IgdW5kZWZpbmVkXG4gICAgICogICAgIGlmIHRoZSBvdmVybGF5IHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZU92ZXJsYXkgPSBmdW5jdGlvbiAob3ZlcmxheSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPdmVybGF5cygpLnJlbW92ZShvdmVybGF5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRpbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbmRlckZyYW1lXyA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICAvKiogQHR5cGUgez9GcmFtZVN0YXRlfSAqL1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQgJiYgaGFzQXJlYShzaXplKSAmJiB2aWV3ICYmIHZpZXcuaXNEZWYoKSkge1xuICAgICAgICAgICAgdmFyIHZpZXdIaW50cyA9IHZpZXcuZ2V0SGludHModGhpcy5mcmFtZVN0YXRlXyA/IHRoaXMuZnJhbWVTdGF0ZV8udmlld0hpbnRzIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciB2aWV3U3RhdGUgPSB2aWV3LmdldFN0YXRlKCk7XG4gICAgICAgICAgICBmcmFtZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGFuaW1hdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtOiB0aGlzLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyxcbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlOiBudWxsLFxuICAgICAgICAgICAgICAgIGV4dGVudDogZ2V0Rm9yVmlld0FuZFNpemUodmlld1N0YXRlLmNlbnRlciwgdmlld1N0YXRlLnJlc29sdXRpb24sIHZpZXdTdGF0ZS5yb3RhdGlvbiwgc2l6ZSksXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuZnJhbWVJbmRleF8rKyxcbiAgICAgICAgICAgICAgICBsYXllckluZGV4OiAwLFxuICAgICAgICAgICAgICAgIGxheWVyU3RhdGVzQXJyYXk6IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKSxcbiAgICAgICAgICAgICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgIHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtOiB0aGlzLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyxcbiAgICAgICAgICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zOiBbXSxcbiAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZTogdGhpcy50aWxlUXVldWVfLFxuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICAgICAgdXNlZFRpbGVzOiB7fSxcbiAgICAgICAgICAgICAgICB2aWV3U3RhdGU6IHZpZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICB2aWV3SGludHM6IHZpZXdIaW50cyxcbiAgICAgICAgICAgICAgICB3YW50ZWRUaWxlczoge30sXG4gICAgICAgICAgICAgICAgbWFwSWQ6IGdldFVpZCh0aGlzKSxcbiAgICAgICAgICAgICAgICByZW5kZXJUYXJnZXRzOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodmlld1N0YXRlLm5leHRDZW50ZXIgJiYgdmlld1N0YXRlLm5leHRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdGF0aW9uID0gaXNOYU4odmlld1N0YXRlLm5leHRSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyB2aWV3U3RhdGUucm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgOiB2aWV3U3RhdGUubmV4dFJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIGZyYW1lU3RhdGUubmV4dEV4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKHZpZXdTdGF0ZS5uZXh0Q2VudGVyLCB2aWV3U3RhdGUubmV4dFJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYW1lU3RhdGVfID0gZnJhbWVTdGF0ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8ucmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoZnJhbWVTdGF0ZS5hbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18sIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucyk7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNGcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmVTdGFydCA9ICF0aGlzLnByZXZpb3VzRXh0ZW50XyB8fFxuICAgICAgICAgICAgICAgICAgICAoIWlzRW1wdHkodGhpcy5wcmV2aW91c0V4dGVudF8pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhZXF1YWxzKGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50XykpO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTU9WRVNUQVJULCB0aGlzLCBwcmV2aW91c0ZyYW1lU3RhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0V4dGVudF8gPSBjcmVhdGVPclVwZGF0ZUVtcHR5KHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaWRsZSA9IHRoaXMucHJldmlvdXNFeHRlbnRfICYmXG4gICAgICAgICAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gJiZcbiAgICAgICAgICAgICAgICAhZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddICYmXG4gICAgICAgICAgICAgICAgIWVxdWFscyhmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuICAgICAgICAgICAgaWYgKGlkbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFRU5ELCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgICAgICAgICAgY2xvbmUoZnJhbWVTdGF0ZS5leHRlbnQsIHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5QT1NUUkVOREVSLCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGVfID1cbiAgICAgICAgICAgICF0aGlzLnRpbGVRdWV1ZV8uZ2V0VGlsZXNMb2FkaW5nKCkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy50aWxlUXVldWVfLmdldENvdW50KCkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5nZXRMb2FkaW5nKCk7XG4gICAgICAgIGlmICghdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pIHtcbiAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVBvc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsYXllcmdyb3VwIG9mIHRoaXMgbWFwLlxuICAgICAqIEBwYXJhbSB7TGF5ZXJHcm91cH0gbGF5ZXJHcm91cCBBIGxheWVyIGdyb3VwIGNvbnRhaW5pbmcgdGhlIGxheWVycyBpbiB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldExheWVyR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xuICAgICAgICB2YXIgb2xkTGF5ZXJHcm91cCA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpO1xuICAgICAgICBpZiAob2xkTGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVMYXllclJlbW92ZV8obmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgb2xkTGF5ZXJHcm91cCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LkxBWUVSR1JPVVAsIGxheWVyR3JvdXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzaXplIG9mIHRoaXMgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBzaXplIFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuU0laRSwgc2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRhcmdldCBlbGVtZW50IHRvIHJlbmRlciB0aGlzIG1hcCBpbnRvLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudFxuICAgICAqICAgICB0aGF0IHRoZSBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlRBUkdFVCwgdGFyZ2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmlldyBmb3IgdGhpcyBtYXAuXG4gICAgICogQHBhcmFtIHtWaWV3fFByb21pc2U8aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn0gdmlldyBUaGUgdmlldyB0aGF0IGNvbnRyb2xzIHRoaXMgbWFwLlxuICAgICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBvcHRpb25zIGZvciBjb25zdHJ1Y3RpbmcgYSB2aWV3LiAgVGhpc1xuICAgICAqIGFsdGVybmF0aXZlIGFsbG93cyB2aWV3IHByb3BlcnRpZXMgdG8gYmUgcmVzb2x2ZWQgYnkgc291cmNlcyBvciBvdGhlciBjb21wb25lbnRzIHRoYXQgbG9hZFxuICAgICAqIHZpZXctcmVsYXRlZCBtZXRhZGF0YS5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldFZpZXcgPSBmdW5jdGlvbiAodmlldykge1xuICAgICAgICBpZiAoIXZpZXcgfHwgdmlldyBpbnN0YW5jZW9mIFZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIHZpZXcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIG5ldyBWaWV3KCkpO1xuICAgICAgICB2YXIgbWFwID0gdGhpcztcbiAgICAgICAgdmlldy50aGVuKGZ1bmN0aW9uICh2aWV3T3B0aW9ucykge1xuICAgICAgICAgICAgbWFwLnNldFZpZXcobmV3IFZpZXcodmlld09wdGlvbnMpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3JjZSBhIHJlY2FsY3VsYXRpb24gb2YgdGhlIG1hcCB2aWV3cG9ydCBzaXplLiAgVGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAgICAgKiB0aGlyZC1wYXJ0eSBjb2RlIGNoYW5nZXMgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS51cGRhdGVTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICAgICAgICB2YXIgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGggLVxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyTGVmdFdpZHRoJ10pIC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdMZWZ0J10pIC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdSaWdodCddKSAtXG4gICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJSaWdodFdpZHRoJ10pO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlclRvcFdpZHRoJ10pIC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdUb3AnXSkgLVxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0JvdHRvbSddKSAtXG4gICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJCb3R0b21XaWR0aCddKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4od2lkdGgpICYmICFpc05hTihoZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0FyZWEoc2l6ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgISEodGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBtYXAgdmlzaWJsZSBiZWNhdXNlIHRoZSBtYXAgY29udGFpbmVyJ3Mgd2lkdGggb3IgaGVpZ2h0IGFyZSAwLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTaXplKHNpemUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY29tcHV0ZXMgdGhlIHZpZXdwb3J0IHNpemUgYW5kIHNhdmUgaXQgb24gdGhlIHZpZXcgb2JqZWN0IChpZiBhbnkpXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnVwZGF0ZVZpZXdwb3J0U2l6ZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZS53aWR0aCAmJiBjb21wdXRlZFN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNpemUgPSBbXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGNvbXB1dGVkU3R5bGUud2lkdGgsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlldy5zZXRWaWV3cG9ydFNpemUoc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQbHVnZ2FibGVNYXA7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQHBhcmFtIHtNYXBPcHRpb25zfSBvcHRpb25zIE1hcCBvcHRpb25zLlxuICogQHJldHVybiB7TWFwT3B0aW9uc0ludGVybmFsfSBJbnRlcm5hbCBtYXAgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc0ludGVybmFsKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAgICovXG4gICAgdmFyIGtleWJvYXJkRXZlbnRUYXJnZXQgPSBudWxsO1xuICAgIGlmIChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlib2FyZEV2ZW50VGFyZ2V0ID1cbiAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgKi9cbiAgICB2YXIgdmFsdWVzID0ge307XG4gICAgdmFyIGxheWVyR3JvdXAgPSBvcHRpb25zLmxheWVycyAmJlxuICAgICAgICB0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMubGF5ZXJzKS5nZXRMYXllcnMpID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAob3B0aW9ucy5sYXllcnMpXG4gICAgICAgIDogbmV3IExheWVyR3JvdXAoeyBsYXllcnM6IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMubGF5ZXJzKSB9KTtcbiAgICB2YWx1ZXNbTWFwUHJvcGVydHkuTEFZRVJHUk9VUF0gPSBsYXllckdyb3VwO1xuICAgIHZhbHVlc1tNYXBQcm9wZXJ0eS5UQVJHRVRdID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgdmFsdWVzW01hcFByb3BlcnR5LlZJRVddID1cbiAgICAgICAgb3B0aW9ucy52aWV3IGluc3RhbmNlb2YgVmlldyA/IG9wdGlvbnMudmlldyA6IG5ldyBWaWV3KCk7XG4gICAgdmFyIGNvbnRyb2xzO1xuICAgIGlmIChvcHRpb25zLmNvbnRyb2xzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jb250cm9scykpIHtcbiAgICAgICAgICAgIGNvbnRyb2xzID0gbmV3IENvbGxlY3Rpb24ob3B0aW9ucy5jb250cm9scy5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMuY29udHJvbHMpLmdldEFycmF5KSA9PT0gJ2Z1bmN0aW9uJywgNDcpOyAvLyBFeHBlY3RlZCBgY29udHJvbHNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIGNvbnRyb2xzID0gLyoqIEB0eXBlIHtDb2xsZWN0aW9ufSAqLyAob3B0aW9ucy5jb250cm9scyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9ucztcbiAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmludGVyYWN0aW9ucykpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuaW50ZXJhY3Rpb25zLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5pbnRlcmFjdGlvbnMpLmdldEFycmF5KSA9PT1cbiAgICAgICAgICAgICAgICAnZnVuY3Rpb24nLCA0OCk7IC8vIEV4cGVjdGVkIGBpbnRlcmFjdGlvbnNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMuaW50ZXJhY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3ZlcmxheXM7XG4gICAgaWYgKG9wdGlvbnMub3ZlcmxheXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLm92ZXJsYXlzKSkge1xuICAgICAgICAgICAgb3ZlcmxheXMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLm92ZXJsYXlzLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5vdmVybGF5cykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLCA0OSk7IC8vIEV4cGVjdGVkIGBvdmVybGF5c2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYGltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uYFxuICAgICAgICAgICAgb3ZlcmxheXMgPSBvcHRpb25zLm92ZXJsYXlzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRyb2xzOiBjb250cm9scyxcbiAgICAgICAgaW50ZXJhY3Rpb25zOiBpbnRlcmFjdGlvbnMsXG4gICAgICAgIGtleWJvYXJkRXZlbnRUYXJnZXQ6IGtleWJvYXJkRXZlbnRUYXJnZXQsXG4gICAgICAgIG92ZXJsYXlzOiBvdmVybGF5cyxcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBsdWdnYWJsZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsdWdnYWJsZU1hcC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQ29udHJvbFxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XSBUaGUgZWxlbWVudCBpcyB0aGUgY29udHJvbCdzXG4gKiBjb250YWluZXIgZWxlbWVudC4gVGhpcyBvbmx5IG5lZWRzIHRvIGJlIHNwZWNpZmllZCBpZiB5b3UncmUgZGV2ZWxvcGluZ1xuICogYSBjdXN0b20gY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudFxuICogdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIGlzIGEgdmlzaWJsZSB3aWRnZXQgd2l0aCBhIERPTSBlbGVtZW50IGluIGEgZml4ZWQgcG9zaXRpb24gb24gdGhlXG4gKiBzY3JlZW4uIFRoZXkgY2FuIGludm9sdmUgdXNlciBpbnB1dCAoYnV0dG9ucyksIG9yIGJlIGluZm9ybWF0aW9uYWwgb25seTtcbiAqIHRoZSBwb3NpdGlvbiBpcyBkZXRlcm1pbmVkIHVzaW5nIENTUy4gQnkgZGVmYXVsdCB0aGVzZSBhcmUgcGxhY2VkIGluIHRoZVxuICogY29udGFpbmVyIHdpdGggQ1NTIGNsYXNzIG5hbWUgYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCwgYnV0IGNhbiB1c2VcbiAqIGFueSBvdXRzaWRlIERPTSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGNvbnRyb2xzLiBZb3UgY2FuIHVzZSBpdCBmb3Igc2ltcGxlIGN1c3RvbVxuICogY29udHJvbHMgYnkgY3JlYXRpbmcgdGhlIGVsZW1lbnQgd2l0aCBsaXN0ZW5lcnMsIGNyZWF0aW5nIGFuIGluc3RhbmNlOlxuICogYGBganNcbiAqIHZhciBteUNvbnRyb2wgPSBuZXcgQ29udHJvbCh7ZWxlbWVudDogbXlFbGVtZW50fSk7XG4gKiBgYGBcbiAqIGFuZCB0aGVuIGFkZGluZyB0aGlzIHRvIHRoZSBtYXAuXG4gKlxuICogVGhlIG1haW4gYWR2YW50YWdlIG9mIGhhdmluZyB0aGlzIGFzIGEgY29udHJvbCByYXRoZXIgdGhhbiBhIHNpbXBsZSBzZXBhcmF0ZVxuICogRE9NIGVsZW1lbnQgaXMgdGhhdCBwcmV2ZW50aW5nIHByb3BhZ2F0aW9uIGlzIGhhbmRsZWQgZm9yIHlvdS4gQ29udHJvbHNcbiAqIHdpbGwgYWxzbyBiZSBvYmplY3RzIGluIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LCBzbyB5b3UgY2FuIHVzZSB0aGVpciBtZXRob2RzLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBleHRlbmQgdGhpcyBiYXNlIGZvciB5b3VyIG93biBjb250cm9sIGNsYXNzLiBTZWVcbiAqIGV4YW1wbGVzL2N1c3RvbS1jb250cm9scyBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gZG8gdGhpcy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBDb250cm9sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250cm9sLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBDb250cm9sIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udHJvbChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuICAgICAgICBpZiAoZWxlbWVudCAmJiAhb3B0aW9ucy50YXJnZXQgJiYgIWVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVsZW1lbnQgPSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlzdGVuZXJLZXlzID0gW107XG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRUYXJnZXQob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBjb250cm9sLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGNvbnRyb2wgZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICAgKiB0aGUgbWFwIGhlcmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubGlzdGVuZXJLZXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLm1hcF8gPSBtYXA7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldF9cbiAgICAgICAgICAgICAgICA/IHRoaXMudGFyZ2V0X1xuICAgICAgICAgICAgICAgIDogbWFwLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQoKTtcbiAgICAgICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyICE9PSBWT0lEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcktleXMucHVzaChsaXN0ZW4obWFwLCBNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcy5yZW5kZXIsIHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udHJvbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG1hcEV2ZW50KSB7IH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNldCBhIHRhcmdldCBlbGVtZW50IGZvciB0aGUgY29udHJvbC4gSXQgaGFzIG5vXG4gICAgICogZWZmZWN0IGlmIGl0IGlzIGNhbGxlZCBhZnRlciB0aGUgY29udHJvbCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgbWFwIChpLmUuXG4gICAgICogYWZ0ZXIgYHNldE1hcGAgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sKS4gSWYgbm8gYHRhcmdldGAgaXMgc2V0IGluIHRoZVxuICAgICAqIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSBjb250cm9sIGNvbnN0cnVjdG9yIGFuZCBpZiBgc2V0VGFyZ2V0YCBpcyBub3QgY2FsbGVkXG4gICAgICogdGhlbiB0aGUgY29udHJvbCBpcyBhZGRlZCB0byB0aGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IHRhcmdldCBUYXJnZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRfID1cbiAgICAgICAgICAgIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6IHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBDb250cm9sO1xufShCYXNlT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBDb250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQXR0cmlidXRpb25cbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19DT0xMQVBTRUQsIENMQVNTX0NPTlRST0wsIENMQVNTX1VOU0VMRUNUQUJMRSB9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyByZW1vdmVDaGlsZHJlbiwgcmVwbGFjZU5vZGUgfSBmcm9tICcuLi9kb20uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtYXR0cmlidXRpb24nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdVxuICogd2FudCB0aGUgY29udHJvbCB0byBiZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAnc1xuICogdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsYXBzaWJsZV0gU3BlY2lmeSBpZiBhdHRyaWJ1dGlvbnMgY2FuXG4gKiBiZSBjb2xsYXBzZWQuIElmIG5vdCBzcGVjaWZpZWQsIHNvdXJjZXMgY29udHJvbCB0aGlzIGJlaGF2aW9yIHdpdGggdGhlaXJcbiAqIGBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZWAgc2V0dGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxhcHNlZD10cnVlXSBTcGVjaWZ5IGlmIGF0dHJpYnV0aW9ucyBzaG91bGRcbiAqIGJlIGNvbGxhcHNlZCBhdCBzdGFydHVwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nQXR0cmlidXRpb25zJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtsYWJlbD0naSddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2V4cGFuZENsYXNzTmFtZT1jbGFzc05hbWUgKyAnLWV4cGFuZCddIENTUyBjbGFzcyBuYW1lIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtjb2xsYXBzZUxhYmVsPSfigLonXSBUZXh0IGxhYmVsIHRvIHVzZVxuICogZm9yIHRoZSBleHBhbmRlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbGxhcHNlQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctY29sbGFwc2UnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlXG4gKiBleHBhbmRlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlblxuICogdGhlIGNvbnRyb2wgc2hvdWxkIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gKiBjYWxsYmFjay5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250cm9sIHRvIHNob3cgYWxsIHRoZSBhdHRyaWJ1dGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBsYXllciBzb3VyY2VzXG4gKiBpbiB0aGUgbWFwLiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIGluY2x1ZGVkIGluIG1hcHMuXG4gKiBCeSBkZWZhdWx0IGl0IHdpbGwgc2hvdyBpbiB0aGUgYm90dG9tIHJpZ2h0IHBvcnRpb24gb2YgdGhlIG1hcCwgYnV0IHRoaXMgY2FuXG4gKiBiZSBjaGFuZ2VkIGJ5IHVzaW5nIGEgY3NzIHNlbGVjdG9yIGZvciBgLm9sLWF0dHJpYnV0aW9uYC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBBdHRyaWJ1dGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXR0cmlidXRpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIEF0dHJpYnV0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXR0cmlidXRpb24ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVsRWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xsYXBzZWRfID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29sbGFwc2VkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNlZCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVzZXJDb2xsYXBzZWRfID0gX3RoaXMuY29sbGFwc2VkXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcnJpZGVDb2xsYXBzaWJsZV8gPSBvcHRpb25zLmNvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbGxhcHNpYmxlXyA9XG4gICAgICAgICAgICBvcHRpb25zLmNvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNpYmxlIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFfdGhpcy5jb2xsYXBzaWJsZV8pIHtcbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlZF8gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLWF0dHJpYnV0aW9uJztcbiAgICAgICAgdmFyIHRpcExhYmVsID0gb3B0aW9ucy50aXBMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aXBMYWJlbCA6ICdBdHRyaWJ1dGlvbnMnO1xuICAgICAgICB2YXIgZXhwYW5kQ2xhc3NOYW1lID0gb3B0aW9ucy5leHBhbmRDbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmV4cGFuZENsYXNzTmFtZVxuICAgICAgICAgICAgOiBjbGFzc05hbWUgKyAnLWV4cGFuZCc7XG4gICAgICAgIHZhciBjb2xsYXBzZUxhYmVsID0gb3B0aW9ucy5jb2xsYXBzZUxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNlTGFiZWwgOiAnXFx1MjAzQSc7XG4gICAgICAgIHZhciBjb2xsYXBzZUNsYXNzTmFtZSA9IG9wdGlvbnMuY29sbGFwc2VDbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNvbGxhcHNlQ2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctY29sbHBhc2UnO1xuICAgICAgICBpZiAodHlwZW9mIGNvbGxhcHNlTGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlTGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VMYWJlbF8udGV4dENvbnRlbnQgPSBjb2xsYXBzZUxhYmVsO1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VMYWJlbF8uY2xhc3NOYW1lID0gY29sbGFwc2VDbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb2xsYXBzZUxhYmVsXyA9IGNvbGxhcHNlTGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhYmVsID0gb3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYWJlbCA6ICdpJztcbiAgICAgICAgaWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8uY2xhc3NOYW1lID0gZXhwYW5kQ2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2ZUxhYmVsID0gX3RoaXMuY29sbGFwc2libGVfICYmICFfdGhpcy5jb2xsYXBzZWRfID8gX3RoaXMuY29sbGFwc2VMYWJlbF8gOiBfdGhpcy5sYWJlbF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbl8uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghX3RoaXMuY29sbGFwc2VkXykpO1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbl8uYXBwZW5kQ2hpbGQoYWN0aXZlTGFiZWwpO1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNMSUNLLCBfdGhpcy5oYW5kbGVDbGlja18uYmluZChfdGhpcyksIGZhbHNlKTtcbiAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIENMQVNTX1VOU0VMRUNUQUJMRSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgQ0xBU1NfQ09OVFJPTCArXG4gICAgICAgICAgICAoX3RoaXMuY29sbGFwc2VkXyAmJiBfdGhpcy5jb2xsYXBzaWJsZV8gPyAnICcgKyBDTEFTU19DT0xMQVBTRUQgOiAnJykgK1xuICAgICAgICAgICAgKF90aGlzLmNvbGxhcHNpYmxlXyA/ICcnIDogJyBvbC11bmNvbGxhcHNpYmxlJyk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnRvZ2dsZUJ1dHRvbl8pO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnVsRWxlbWVudF8pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIGN1cnJlbnRseSByZW5kZXJlZCByZXNvbHV0aW9ucy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29sbGVjdCBhIGxpc3Qgb2YgdmlzaWJsZSBhdHRyaWJ1dGlvbnMgYW5kIHNldCB0aGUgY29sbGFwc2libGUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBBdHRyaWJ1dGlvbnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18gPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlcm1pbmUgaWYgYW4gYXR0cmlidXRpb24gYWxyZWFkeSBleGlzdHMuXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbG9va3VwID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdmlzaWJsZSBhdHRyaWJ1dGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHZpc2libGVBdHRyaWJ1dGlvbnMgPSBbXTtcbiAgICAgICAgdmFyIGNvbGxhcHNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgICAgICAgaWYgKCFpblZpZXcobGF5ZXJTdGF0ZSwgZnJhbWVTdGF0ZS52aWV3U3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXJTdGF0ZS5sYXllcikuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9uR2V0dGVyID0gc291cmNlLmdldEF0dHJpYnV0aW9ucygpO1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGlvbkdldHRlcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9ucyA9IGF0dHJpYnV0aW9uR2V0dGVyKGZyYW1lU3RhdGUpO1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbGxhcHNpYmxlID1cbiAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZSAmJiBzb3VyY2UuZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUoKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gYXR0cmlidXRpb25zLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXR0cmlidXRpb25zW2pdIGluIGxvb2t1cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVBdHRyaWJ1dGlvbnMucHVzaChhdHRyaWJ1dGlvbnNbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9va3VwW2F0dHJpYnV0aW9uc1tqXV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoYXR0cmlidXRpb25zIGluIGxvb2t1cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm92ZXJyaWRlQ29sbGFwc2libGVfKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbGxhcHNpYmxlKGNvbGxhcHNpYmxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlzaWJsZUF0dHJpYnV0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnRfID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF0dHJpYnV0aW9ucyA9IHRoaXMuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18oZnJhbWVTdGF0ZSk7XG4gICAgICAgIHZhciB2aXNpYmxlID0gYXR0cmlidXRpb25zLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkVmlzaWJsZV8gIT0gdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB2aXNpYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcXVhbHMoYXR0cmlidXRpb25zLCB0aGlzLnJlbmRlcmVkQXR0cmlidXRpb25zXykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVDaGlsZHJlbih0aGlzLnVsRWxlbWVudF8pO1xuICAgICAgICAvLyBhcHBlbmQgdGhlIGF0dHJpYnV0aW9uc1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhdHRyaWJ1dGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhdHRyaWJ1dGlvbnNbaV07XG4gICAgICAgICAgICB0aGlzLnVsRWxlbWVudF8uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBhdHRyaWJ1dGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBoYW5kbGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgICAgIHRoaXMudXNlckNvbGxhcHNlZF8gPSB0aGlzLmNvbGxhcHNlZF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5oYW5kbGVUb2dnbGVfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShDTEFTU19DT0xMQVBTRUQpO1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzZWRfKSB7XG4gICAgICAgICAgICByZXBsYWNlTm9kZSh0aGlzLmNvbGxhcHNlTGFiZWxfLCB0aGlzLmxhYmVsXyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXBsYWNlTm9kZSh0aGlzLmxhYmVsXywgdGhpcy5jb2xsYXBzZUxhYmVsXyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsYXBzZWRfID0gIXRoaXMuY29sbGFwc2VkXztcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghdGhpcy5jb2xsYXBzZWRfKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGlvbiBpcyBjb2xsYXBzaWJsZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNpYmxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxhcHNpYmxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoZSBhdHRyaWJ1dGlvbiBzaG91bGQgYmUgY29sbGFwc2libGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjb2xsYXBzaWJsZSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2libGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5zZXRDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uIChjb2xsYXBzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZV8gPT09IGNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsYXBzaWJsZV8gPSBjb2xsYXBzaWJsZTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ29sLXVuY29sbGFwc2libGUnKTtcbiAgICAgICAgaWYgKHRoaXMudXNlckNvbGxhcHNlZF8pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsYXBzZSBvciBleHBhbmQgdGhlIGF0dHJpYnV0aW9uIGFjY29yZGluZyB0byB0aGUgcGFzc2VkIHBhcmFtZXRlci4gV2lsbFxuICAgICAqIG5vdCBkbyBhbnl0aGluZyBpZiB0aGUgYXR0cmlidXRpb24gaXNuJ3QgY29sbGFwc2libGUgb3IgaWYgdGhlIGN1cnJlbnRcbiAgICAgKiBjb2xsYXBzZWQgc3RhdGUgaXMgYWxyZWFkeSB0aGUgb25lIHJlcXVlc3RlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbGxhcHNlZCBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuc2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKGNvbGxhcHNlZCkge1xuICAgICAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gY29sbGFwc2VkO1xuICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2libGVfIHx8IHRoaXMuY29sbGFwc2VkXyA9PT0gY29sbGFwc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYHRydWVgIHdoZW4gdGhlIGF0dHJpYnV0aW9uIGlzIGN1cnJlbnRseSBjb2xsYXBzZWQgb3IgYGZhbHNlYFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsYXBzZWRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBhdHRyaWJ1dGlvbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobWFwRXZlbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50XyhtYXBFdmVudC5mcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGlvbjtcbn0oQ29udHJvbCkpO1xuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdHRyaWJ1dGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvUm90YXRlXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgQ0xBU1NfQ09OVFJPTCwgQ0xBU1NfSElEREVOLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1yb3RhdGUnXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbbGFiZWw9J+KHpyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nUmVzZXQgcm90YXRpb24nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHJvdGF0ZSB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbXBhc3NDbGFzc05hbWU9J29sLWNvbXBhc3MnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIGNvbXBhc3MuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9IaWRlPXRydWVdIEhpZGUgdGhlIGNvbnRyb2wgd2hlbiByb3RhdGlvbiBpcyAwLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBzaG91bGRcbiAqIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbigpOnZvaWR9IFtyZXNldE5vcnRoXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBpcyBjbGlja2VkLlxuICogVGhpcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGByZXNldE5vcnRoYC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50IHRoZSBjb250cm9sIHRvIGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGJ1dHRvbiBjb250cm9sIHRvIHJlc2V0IHJvdGF0aW9uIHRvIDAuXG4gKiBUbyBzdHlsZSB0aGlzIGNvbnRyb2wgdXNlIGNzcyBzZWxlY3RvciBgLm9sLXJvdGF0ZWAuIEEgYC5vbC1oaWRkZW5gIGNzc1xuICogc2VsZWN0b3IgaXMgYWRkZWQgdG8gdGhlIGJ1dHRvbiB3aGVuIHRoZSByb3RhdGlvbiBpcyAwLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFJvdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBSb3RhdGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1yb3RhdGUnO1xuICAgICAgICB2YXIgbGFiZWwgPSBvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxhYmVsIDogJ1xcdTIxRTcnO1xuICAgICAgICB2YXIgY29tcGFzc0NsYXNzTmFtZSA9IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZVxuICAgICAgICAgICAgOiAnb2wtY29tcGFzcyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYWJlbF8gPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTmFtZSA9IGNvbXBhc3NDbGFzc05hbWU7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXyA9IGxhYmVsO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTGlzdC5hZGQoY29tcGFzc0NsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpcExhYmVsID0gb3B0aW9ucy50aXBMYWJlbCA/IG9wdGlvbnMudGlwTGFiZWwgOiAnUmVzZXQgcm90YXRpb24nO1xuICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnLXJlc2V0JztcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChfdGhpcy5sYWJlbF8pO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0xJQ0ssIF90aGlzLmhhbmRsZUNsaWNrXy5iaW5kKF90aGlzKSwgZmFsc2UpO1xuICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9IGNsYXNzTmFtZSArICcgJyArIENMQVNTX1VOU0VMRUNUQUJMRSArICcgJyArIENMQVNTX0NPTlRST0w7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIF90aGlzLmNhbGxSZXNldE5vcnRoXyA9IG9wdGlvbnMucmVzZXROb3J0aCA/IG9wdGlvbnMucmVzZXROb3J0aCA6IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvSGlkZV8gPSBvcHRpb25zLmF1dG9IaWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9IaWRlIDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoX3RoaXMuYXV0b0hpZGVfKSB7XG4gICAgICAgICAgICBfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm90YXRlLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FsbFJlc2V0Tm9ydGhfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlc2V0Tm9ydGhfKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Tm9ydGhfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm90YXRlLnByb3RvdHlwZS5yZXNldE5vcnRoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICAvLyB0aGUgbWFwIGRvZXMgbm90IGhhdmUgYSB2aWV3LCBzbyB3ZSBjYW4ndCBhY3RcbiAgICAgICAgICAgIC8vIHVwb24gaXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm90YXRpb24gPSB2aWV3LmdldFJvdGF0aW9uKCk7XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvbl8gPiAwICYmIHJvdGF0aW9uICUgKDIgKiBNYXRoLlBJKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0Um90YXRpb24oMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgcm90YXRlIGNvbnRyb2wgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBSb3RhdGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChtYXBFdmVudCkge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IG1hcEV2ZW50LmZyYW1lU3RhdGU7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICBpZiAocm90YXRpb24gIT0gdGhpcy5yb3RhdGlvbl8pIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9IaWRlXykge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWlucyA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zICYmIHJvdGF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5zICYmIHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX0hJRERFTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYWJlbF8uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUm90YXRlO1xufShDb250cm9sKSk7XG5leHBvcnQgZGVmYXVsdCBSb3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL1pvb21cbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXpvb20nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbUluQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctaW4nXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20taW4gYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0Q2xhc3NOYW1lPWNsYXNzTmFtZSArICctb3V0J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21JbkxhYmVsPScrJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSB6b29tLWluXG4gKiBidXR0b24uIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFt6b29tT3V0TGFiZWw9J+KAkyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgem9vbS1vdXQgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21JblRpcExhYmVsPSdab29tIGluJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0VGlwTGFiZWw9J1pvb20gb3V0J10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggY2xpY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIHdpdGggMiBidXR0b25zLCBvbmUgZm9yIHpvb20gaW4gYW5kIG9uZSBmb3Igem9vbSBvdXQuXG4gKiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIG9mIGEgbWFwLiBUbyBzdHlsZSB0aGlzIGNvbnRyb2xcbiAqIHVzZSBjc3Mgc2VsZWN0b3JzIGAub2wtem9vbS1pbmAgYW5kIGAub2wtem9vbS1vdXRgLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFpvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIFpvb20gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC16b29tJztcbiAgICAgICAgdmFyIGRlbHRhID0gb3B0aW9ucy5kZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWx0YSA6IDE7XG4gICAgICAgIHZhciB6b29tSW5DbGFzc05hbWUgPSBvcHRpb25zLnpvb21JbkNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbUluQ2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctaW4nO1xuICAgICAgICB2YXIgem9vbU91dENsYXNzTmFtZSA9IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZVxuICAgICAgICAgICAgOiBjbGFzc05hbWUgKyAnLW91dCc7XG4gICAgICAgIHZhciB6b29tSW5MYWJlbCA9IG9wdGlvbnMuem9vbUluTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluTGFiZWwgOiAnKyc7XG4gICAgICAgIHZhciB6b29tT3V0TGFiZWwgPSBvcHRpb25zLnpvb21PdXRMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tT3V0TGFiZWwgOiAnXFx1MjAxMyc7XG4gICAgICAgIHZhciB6b29tSW5UaXBMYWJlbCA9IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgOiAnWm9vbSBpbic7XG4gICAgICAgIHZhciB6b29tT3V0VGlwTGFiZWwgPSBvcHRpb25zLnpvb21PdXRUaXBMYWJlbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbU91dFRpcExhYmVsXG4gICAgICAgICAgICA6ICdab29tIG91dCc7XG4gICAgICAgIHZhciBpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaW5FbGVtZW50LmNsYXNzTmFtZSA9IHpvb21JbkNsYXNzTmFtZTtcbiAgICAgICAgaW5FbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgaW5FbGVtZW50LnRpdGxlID0gem9vbUluVGlwTGFiZWw7XG4gICAgICAgIGluRWxlbWVudC5hcHBlbmRDaGlsZCh0eXBlb2Ygem9vbUluTGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21JbkxhYmVsKVxuICAgICAgICAgICAgOiB6b29tSW5MYWJlbCk7XG4gICAgICAgIGluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMsIGRlbHRhKSwgZmFsc2UpO1xuICAgICAgICB2YXIgb3V0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBvdXRFbGVtZW50LmNsYXNzTmFtZSA9IHpvb21PdXRDbGFzc05hbWU7XG4gICAgICAgIG91dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBvdXRFbGVtZW50LnRpdGxlID0gem9vbU91dFRpcExhYmVsO1xuICAgICAgICBvdXRFbGVtZW50LmFwcGVuZENoaWxkKHR5cGVvZiB6b29tT3V0TGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21PdXRMYWJlbClcbiAgICAgICAgICAgIDogem9vbU91dExhYmVsKTtcbiAgICAgICAgb3V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMsIC1kZWx0YSksIGZhbHNlKTtcbiAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3NlcztcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbkVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG91dEVsZW1lbnQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZGVsdGEsIGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuem9vbUJ5RGVsdGFfKGRlbHRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBab29tIGRlbHRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuem9vbUJ5RGVsdGFfID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICghdmlldykge1xuICAgICAgICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAgICAgICAvLyB1cG9uIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRab29tID0gdmlldy5nZXRab29tKCk7XG4gICAgICAgIGlmIChjdXJyZW50Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbmV3Wm9vbSA9IHZpZXcuZ2V0Q29uc3RyYWluZWRab29tKGN1cnJlbnRab29tICsgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh2aWV3LmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBuZXdab29tLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0Wm9vbShuZXdab29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFpvb207XG59KENvbnRyb2wpKTtcbmV4cG9ydCBkZWZhdWx0IFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ab29tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Qcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBBQ1RJVkU6ICdhY3RpdmUnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3BlcnR5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBJbnRlcmFjdGlvblByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHsgZWFzZU91dCwgbGluZWFyIH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJywgUmV0dXJuPn0gSW50ZXJhY3Rpb25PblNpZ25hdHVyZVxuICovXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIGludGVyYWN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEludGVyYWN0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gaGFuZGxlRXZlbnRcbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBwcm9wYWdhdGlvbiBvZlxuICogdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zIGNoYWluIHdpbGwgYmVcbiAqIHByZXZlbnRlZCAodGhpcyBpbmNsdWRlcyBmdW5jdGlvbnMgd2l0aCBubyBleHBsaWNpdCByZXR1cm4pLiBUaGUgaW50ZXJhY3Rpb25zXG4gKiBhcmUgdHJhdmVyc2VkIGluIHJldmVyc2Ugb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBjb2xsZWN0aW9uIG9mIHRoZSBtYXAuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogVXNlciBhY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSBzdGF0ZSBvZiB0aGUgbWFwLiBTb21lIGFyZSBzaW1pbGFyIHRvIGNvbnRyb2xzLFxuICogYnV0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuXG4gKiBGb3IgZXhhbXBsZSwge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfSBpc1xuICogZnVuY3Rpb25hbGx5IHRoZSBzYW1lIGFzIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LCBidXQgdHJpZ2dlcmVkXG4gKiBieSBhIGtleWJvYXJkIGV2ZW50IG5vdCBhIGJ1dHRvbiBlbGVtZW50IGV2ZW50LlxuICogQWx0aG91Z2ggaW50ZXJhY3Rpb25zIGRvIG5vdCBoYXZlIGEgRE9NIGVsZW1lbnQsIHNvbWUgb2YgdGhlbSBkbyByZW5kZXJcbiAqIHZlY3RvcnMgYW5kIHNvIGFyZSB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBJbnRlcmFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtJbnRlcmFjdGlvbk9wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtJbnRlcmFjdGlvbk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub247XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ludGVyYWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtJbnRlcmFjdGlvbk9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlRXZlbnQgPSBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgaW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbi5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSBvciBkZWFjdGl2YXRlIHRoZSBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFjdGl2ZSBBY3RpdmUuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldEFjdGl2ZSA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUsIGFjdGl2ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGludGVyYWN0aW9uIGZyb20gaXRzIGN1cnJlbnQgbWFwIGFuZCBhdHRhY2ggaXQgdG8gdGhlIG5ldyBtYXAuXG4gICAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAgICogdGhlIG1hcCBoZXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdGhpcy5tYXBfID0gbWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9kdXJhdGlvbl0gRHVyYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYW4odmlldywgZGVsdGEsIG9wdF9kdXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50Q2VudGVyID0gdmlldy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSBbY3VycmVudENlbnRlclswXSArIGRlbHRhWzBdLCBjdXJyZW50Q2VudGVyWzFdICsgZGVsdGFbMV1dO1xuICAgICAgICB2aWV3LmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0X2R1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRfZHVyYXRpb24gOiAyNTAsXG4gICAgICAgICAgICBlYXNpbmc6IGxpbmVhcixcbiAgICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihjZW50ZXIpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgRGVsdGEgZnJvbSBwcmV2aW91cyB6b29tIGxldmVsLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBBbmNob3IgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZHVyYXRpb25dIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIG9wdF9hbmNob3IsIG9wdF9kdXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50Wm9vbSA9IHZpZXcuZ2V0Wm9vbSgpO1xuICAgIGlmIChjdXJyZW50Wm9vbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvclpvb20obmV3Wm9vbSk7XG4gICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgIGFuY2hvcjogb3B0X2FuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdF9kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2R1cmF0aW9uIDogMjUwLFxuICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tXG4gKi9cbmltcG9ydCBJbnRlcmFjdGlvbiwgeyB6b29tQnlEZWx0YSB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggZG91YmxlIGNsaWNrLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIGJ5IGRvdWJsZS1jbGlja2luZyBvbiB0aGUgbWFwLlxuICogQGFwaVxuICovXG52YXIgRG91YmxlQ2xpY2tab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEb3VibGVDbGlja1pvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRG91YmxlQ2xpY2tab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbHRhXyA9IG9wdGlvbnMuZGVsdGEgPyBvcHRpb25zLmRlbHRhIDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSAoaWYgaXQgd2FzIGFcbiAgICAgKiBkb3VibGVjbGljaykgYW5kIGV2ZW50dWFsbHkgem9vbXMgdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqL1xuICAgIERvdWJsZUNsaWNrWm9vbS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0spIHtcbiAgICAgICAgICAgIHZhciBicm93c2VyRXZlbnQgPSAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGJyb3dzZXJFdmVudC5zaGlmdEtleSA/IC10aGlzLmRlbHRhXyA6IHRoaXMuZGVsdGFfO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIERvdWJsZUNsaWNrWm9vbTtcbn0oSW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IERvdWJsZUNsaWNrWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURvdWJsZUNsaWNrWm9vbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BvaW50ZXJcbiAqL1xuaW1wb3J0IEludGVyYWN0aW9uIGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZXMgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRG93bkV2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkb3duXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgdGhlbiBhIGRyYWdcbiAqIHNlcXVlbmNlIGlzIHN0YXJ0ZWQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbaGFuZGxlRHJhZ0V2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkcmFnXCIgZXZlbnRzLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBcIm1vdmVcIiBldmVudHNcbiAqIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRXZlbnRdXG4gKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBtYXAgdG8gbm90aWZ5IHRoZSBpbnRlcmFjdGlvbiB0aGF0IGEgYnJvd3NlciBldmVudCB3YXNcbiAqIGRpc3BhdGNoZWQgdG8gdGhlIG1hcC4gVGhlIGZ1bmN0aW9uIG1heSByZXR1cm4gYGZhbHNlYCB0byBwcmV2ZW50IHRoZVxuICogcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zXG4gKiBjaGFpbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVNb3ZlRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcIm1vdmVcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50cy5cbiAqIFRoaXMgZnVuY3Rpb25zIGlzIGFsc28gY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UsIHNvIGR1cmluZyBhIGRyYWdcbiAqIHNlcXVlbmNlIGJvdGggdGhlIGBoYW5kbGVEcmFnRXZlbnRgIGZ1bmN0aW9uIGFuZCB0aGlzIGZ1bmN0aW9uIGFyZSBjYWxsZWQuXG4gKiBJZiBgaGFuZGxlRG93bkV2ZW50YCBpcyBkZWZpbmVkIGFuZCBpdCByZXR1cm5zIHRydWUgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdFxuICogYmUgY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlVXBFdmVudF1cbiAqICBGdW5jdGlvbiBoYW5kbGluZyBcInVwXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIHRoZW4gdGhlXG4gKiBjdXJyZW50IGRyYWcgc2VxdWVuY2UgaXMgc3RvcHBlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6Ym9vbGVhbn0gW3N0b3BEb3duXVxuICogU2hvdWxkIHRoZSBkb3duIGV2ZW50IGJlIHByb3BhZ2F0ZWQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zLCBvciBzaG91bGQgYmVcbiAqIHN0b3BwZWQ/XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyB0aGF0IGNhbGxzIHVzZXItZGVmaW5lZCBmdW5jdGlvbnMgb24gYGRvd25gLCBgbW92ZWAgYW5kIGB1cGBcbiAqIGV2ZW50cy4gVGhpcyBjbGFzcyBhbHNvIG1hbmFnZXMgXCJkcmFnIHNlcXVlbmNlc1wiLlxuICpcbiAqIFdoZW4gdGhlIGBoYW5kbGVEb3duRXZlbnRgIHVzZXIgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgYSBkcmFnIHNlcXVlbmNlIGlzXG4gKiBzdGFydGVkLiBEdXJpbmcgYSBkcmFnIHNlcXVlbmNlIHRoZSBgaGFuZGxlRHJhZ0V2ZW50YCB1c2VyIGZ1bmN0aW9uIGlzXG4gKiBjYWxsZWQgb24gYG1vdmVgIGV2ZW50cy4gVGhlIGRyYWcgc2VxdWVuY2UgZW5kcyB3aGVuIHRoZSBgaGFuZGxlVXBFdmVudGBcbiAqIHVzZXIgZnVuY3Rpb24gaXMgY2FsbGVkIGFuZCByZXR1cm5zIGBmYWxzZWAuXG4gKiBAYXBpXG4gKi9cbnZhciBQb2ludGVySW50ZXJhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvaW50ZXJJbnRlcmFjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludGVySW50ZXJhY3Rpb24ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnRlcmFjdGlvbi5qc1wiKS5JbnRlcmFjdGlvbk9wdGlvbnN9ICovIChvcHRpb25zKSkgfHwgdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlRG93bkV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVEb3duRXZlbnQgPSBvcHRpb25zLmhhbmRsZURvd25FdmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5oYW5kbGVEcmFnRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZURyYWdFdmVudCA9IG9wdGlvbnMuaGFuZGxlRHJhZ0V2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZU1vdmVFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlTW92ZUV2ZW50ID0gb3B0aW9ucy5oYW5kbGVNb3ZlRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlVXBFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlVXBFdmVudCA9IG9wdGlvbnMuaGFuZGxlVXBFdmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgICAgICAgX3RoaXMuc3RvcERvd24gPSBvcHRpb25zLnN0b3BEb3duO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBQb2ludGVyRXZlbnQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2tlZFBvaW50ZXJzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFBvaW50ZXJzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBudW1iZXIgb2YgcG9pbnRlcnMgaW52b2x2ZWQgaW4gdGhlIGludGVyYWN0aW9uLFxuICAgICAqIGUuZy4gYDJgIHdoZW4gdHdvIGZpbmdlcnMgYXJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIHBvaW50ZXJzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldFBvaW50ZXJDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBhbmQgbWF5IGNhbGwgaW50b1xuICAgICAqIG90aGVyIGZ1bmN0aW9ucywgaWYgZXZlbnQgc2VxdWVuY2VzIGxpa2UgZS5nLiAnZHJhZycgb3IgJ2Rvd24tdXAnIGV0Yy4gYXJlXG4gICAgICogZGV0ZWN0ZWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0b3BFdmVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYWNrZWRQb2ludGVyc18obWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgcGFnZSBzY3JvbGxpbmcgZHVyaW5nIGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZWRVcCA9IHRoaXMuaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRVcCAmJiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTikge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVkID0gdGhpcy5oYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPSBoYW5kbGVkO1xuICAgICAgICAgICAgICAgIHN0b3BFdmVudCA9IHRoaXMuc3RvcERvd24oaGFuZGxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIG1vdmUgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVNb3ZlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7IH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgXCJkb3duXCIgZXZlbnRzIHNob3VsZCBiZSBwcm9wYWdhdGVkXG4gICAgICogdG8gb3RoZXIgaW50ZXJhY3Rpb25zIG9yIHNob3VsZCBiZSBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFuZGxlZCBXYXMgdGhlIGV2ZW50IGhhbmRsZWQgYnkgdGhlIGludGVyYWN0aW9uP1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFNob3VsZCB0aGUgYGRvd25gIGV2ZW50IGJlIHN0b3BwZWQ/XG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5zdG9wRG93biA9IGZ1bmN0aW9uIChoYW5kbGVkKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS51cGRhdGVUcmFja2VkUG9pbnRlcnNfID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAoaXNQb2ludGVyRHJhZ2dpbmdFdmVudChtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgdmFyIGlkID0gZXZlbnRfMS5wb2ludGVySWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRyYWNrZWRQb2ludGVyc19baWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTikge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlZFBvaW50ZXJzX1tpZF0gPSBldmVudF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaWQgaW4gdGhpcy50cmFja2VkUG9pbnRlcnNfKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9ubHkgd2hlbiB0aGVyZSB3YXMgYSBwb2ludGVyZG93biBldmVudCBmb3IgdGhpcyBwb2ludGVyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2VkUG9pbnRlcnNfW2lkXSA9IGV2ZW50XzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRhcmdldFBvaW50ZXJzID0gZ2V0VmFsdWVzKHRoaXMudHJhY2tlZFBvaW50ZXJzXyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQb2ludGVySW50ZXJhY3Rpb247XG59KEludGVyYWN0aW9uKSk7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnRlckV2ZW50Pn0gcG9pbnRlckV2ZW50cyBMaXN0IG9mIGV2ZW50cy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBDZW50cm9pZCBwaXhlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlbnRyb2lkKHBvaW50ZXJFdmVudHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRlckV2ZW50cy5sZW5ndGg7XG4gICAgdmFyIGNsaWVudFggPSAwO1xuICAgIHZhciBjbGllbnRZID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNsaWVudFggKz0gcG9pbnRlckV2ZW50c1tpXS5jbGllbnRYO1xuICAgICAgICBjbGllbnRZICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WTtcbiAgICB9XG4gICAgcmV0dXJuIFtjbGllbnRYIC8gbGVuZ3RoLCBjbGllbnRZIC8gbGVuZ3RoXTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZXZlbnQgaXMgYSBwb2ludGVyZG93biwgcG9pbnRlcmRyYWdcbiAqICAgICBvciBwb2ludGVydXAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGlzUG9pbnRlckRyYWdnaW5nRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHR5cGUgPSBtYXBCcm93c2VyRXZlbnQudHlwZTtcbiAgICByZXR1cm4gKHR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04gfHxcbiAgICAgICAgdHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRyB8fFxuICAgICAgICB0eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCk7XG59XG5leHBvcnQgZGVmYXVsdCBQb2ludGVySW50ZXJhY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvY29uZGl0aW9uXG4gKi9cbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4uL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgRkFMU0UsIFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgTUFDLCBXRUJLSVQgfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYHtib29sZWFufWAuIElmIHRoZSBjb25kaXRpb24gaXMgbWV0LCB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczogPywgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBDb25kaXRpb25cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgY29uZGl0aW9uIGZ1bmN0aW9uIHRoYXQgcGFzc2VzIHdoZW4gYWxsIHByb3ZpZGVkIGNvbmRpdGlvbnMgcGFzcy5cbiAqIEBwYXJhbSB7Li4uQ29uZGl0aW9ufSB2YXJfYXJncyBDb25kaXRpb25zIHRvIGNoZWNrLlxuICogQHJldHVybiB7Q29uZGl0aW9ufSBDb25kaXRpb24gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwodmFyX2FyZ3MpIHtcbiAgICB2YXIgY29uZGl0aW9ucyA9IGFyZ3VtZW50cztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBBbGwgY29uZGl0aW9ucyBwYXNzZWQuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcGFzcyA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvbmRpdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgcGFzcyA9IHBhc3MgJiYgY29uZGl0aW9uc1tpXShldmVudCk7XG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9O1xufVxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCwgYGZhbHNlYCBvdGhlcndpc2UgKGUuZy4gd2hlblxuICogYWRkaXRpb25hbGx5IHRoZSBzaGlmdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBhbHQga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgYWx0S2V5T25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgcmV0dXJuIChvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBhbmQgc2hpZnQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKiAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGFuZCBzaGlmdCBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGFsdFNoaWZ0S2V5c09ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAob3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAgICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzLiBUaGlzIGNvbmRpdGlvbiByZXF1aXJlcyBhIG1hcCB0YXJnZXRcbiAqIGVsZW1lbnQgd2l0aCBhIGB0YWJpbmRleGAgYXR0cmlidXRlLCBlLmcuIGA8ZGl2IGlkPVwibWFwXCIgdGFiaW5kZXg9XCIxXCI+YC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBmb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZXZlbnQubWFwLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGV2ZW50Lm1hcC5nZXRPd25lckRvY3VtZW50KCkuYWN0aXZlRWxlbWVudDtcbiAgICByZXR1cm4gdGFyZ2V0RWxlbWVudC5jb250YWlucyhhY3RpdmVFbGVtZW50KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzIG9yIG5vICd0YWJpbmRleCcgYXR0cmlidXRlIHNldC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgY29udGFpbmVyIGhhcyB0aGUgZm9jdXMgb3Igbm8gJ3RhYmluZGV4JyBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXNXaXRoVGFiaW5kZXggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQubWFwLmdldFRhcmdldEVsZW1lbnQoKS5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JylcbiAgICAgICAgPyBmb2N1cyhldmVudClcbiAgICAgICAgOiB0cnVlO1xufTtcbi8qKlxuICogUmV0dXJuIGFsd2F5cyB0cnVlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgYWx3YXlzID0gVFJVRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFzIGFuIFwiYWN0aW9uXCItcHJvZHVjaW5nIG1vdXNlIGJ1dHRvbi5cbiAqXG4gKiBCeSBkZWZpbml0aW9uLCB0aGlzIGluY2x1ZGVzIGxlZnQtY2xpY2sgb24gd2luZG93cy9saW51eCwgYW5kIGxlZnQtY2xpY2tcbiAqIHdpdGhvdXQgdGhlIGN0cmwga2V5IG9uIE1hY3MuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IHZhciBtb3VzZUFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gb3JpZ2luYWxFdmVudC5idXR0b24gPT0gMCAmJiAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBhbHdheXMgZmFsc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gRmFsc2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgbmV2ZXIgPSBGQUxTRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBldmVudCBpcyBhIGBwb2ludGVybW92ZWAgZXZlbnQsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBwb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gJ3BvaW50ZXJtb3ZlJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2luZ2xlQ2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0s7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBubyBtb2RpZmllciBrZXkgKGFsdC0sIHNoaWZ0LSBvciBwbGF0Zm9ybS1tb2RpZmllci1rZXkpIGlzXG4gKiBwcmVzc2VkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGVyZSBubyBtb2RpZmllciBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIG5vTW9kaWZpZXJLZXlzID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5ICh0aGUgbWV0YS1rZXkgb24gTWFjLFxuICogY3RybC1rZXkgb3RoZXJ3aXNlKSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseVxuICogdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIHBsYXRmb3JtIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBsYXRmb3JtTW9kaWZpZXJLZXlPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAoTUFDID8gb3JpZ2luYWxFdmVudC5tZXRhS2V5IDogb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBzaGlmdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBzaGlmdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAoIW9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUsIGkuZS4gbm90IGEgYDxpbnB1dD5gLSxcbiAqIGA8c2VsZWN0PmAtIG9yIGA8dGV4dGFyZWE+YC1lbGVtZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIG9ubHkgaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciB0YXJnZXROb3RFZGl0YWJsZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgdmFyIHRhZ05hbWUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChvcmlnaW5hbEV2ZW50LnRhcmdldCkudGFnTmFtZTtcbiAgICByZXR1cm4gdGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiB0YWdOYW1lICE9PSAnU0VMRUNUJyAmJiB0YWdOYW1lICE9PSAnVEVYVEFSRUEnO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIG1vdXNlIGRldmljZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBtb3VzZU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpLm9yaWdpbmFsRXZlbnQ7XG4gICAgYXNzZXJ0KHBvaW50ZXJFdmVudCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09ICdtb3VzZSc7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHRvdWNoYWJsZSBkZXZpY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgdG91Y2hPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKG1hcEJyb3dzZXJFdmVudCkub3JpZ2luYWxFdmVudDtcbiAgICBhc3NlcnQocG9pbnRlckV2dCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2dC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBlbk9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KS5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZ0ICE9PSB1bmRlZmluZWQsIDU2KTsgLy8gbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgLy8gc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyN3aWRsLVBvaW50ZXJFdmVudC1wb2ludGVyVHlwZVxuICAgIHJldHVybiBwb2ludGVyRXZ0LnBvaW50ZXJUeXBlID09PSAncGVuJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlciBpblxuICogY29udGFjdCB3aXRoIHRoZSBzdXJmYWNlIG9yIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyNidXR0b24tc3RhdGVzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBwcmltYXJ5QWN0aW9uID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwb2ludGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KS5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LmlzUHJpbWFyeSAmJiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmRpdGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdQYW5cbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwgeyBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycywgfSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHsgRkFMU0UgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWxsLCBmb2N1c1dpdGhUYWJpbmRleCwgbm9Nb2RpZmllcktleXMsIHByaW1hcnlBY3Rpb24sIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7IHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLCBzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGUsIH0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ubm9Nb2RpZmllcktleXN9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ucHJpbWFyeUFjdGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fSBba2luZXRpY10gS2luZXRpYyBpbmVydGlhIHRvIGFwcGx5IHRvIHRoZSBwYW4uXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIGJ5IGRyYWdnaW5nIHRoZSBtYXAuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnUGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnUGFuLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdQYW4ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2luZXRpY18gPSBvcHRpb25zLmtpbmV0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RQb2ludGVyc0NvdW50XztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFubmluZ18gPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICA6IGFsbChub01vZGlmaWVyS2V5cywgcHJpbWFyeUFjdGlvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5vbkZvY3VzT25seVxuICAgICAgICAgICAgPyBhbGwoZm9jdXNXaXRoVGFiaW5kZXgsIGNvbmRpdGlvbilcbiAgICAgICAgICAgIDogY29uZGl0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0tpbmV0aWNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhbm5pbmdfKSB7XG4gICAgICAgICAgICB0aGlzLnBhbm5pbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TWFwKCkuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFyZ2V0UG9pbnRlcnMgPSB0aGlzLnRhcmdldFBvaW50ZXJzO1xuICAgICAgICB2YXIgY2VudHJvaWQgPSBjZW50cm9pZEZyb21Qb2ludGVycyh0YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGlmICh0YXJnZXRQb2ludGVycy5sZW5ndGggPT0gdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy51cGRhdGUoY2VudHJvaWRbMF0sIGNlbnRyb2lkWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RDZW50cm9pZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWRbMF0gLSBjZW50cm9pZFswXSxcbiAgICAgICAgICAgICAgICAgICAgY2VudHJvaWRbMV0gLSB0aGlzLmxhc3RDZW50cm9pZFsxXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICBzY2FsZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICAgICAgICAgICAgICByb3RhdGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHZpZXcuYWRqdXN0Q2VudGVySW50ZXJuYWwoZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IHNvIHdlIGRvbid0IG92ZXJlc3RpbWF0ZSB0aGUga2luZXRpYyBlbmVyZ3kgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGFmdGVyIG9uZSBmaW5nZXIgZG93biwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIGRvd25cbiAgICAgICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IGNlbnRyb2lkO1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyc0NvdW50XyA9IHRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUGFuLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5ub0tpbmV0aWNfICYmIHRoaXMua2luZXRpY18gJiYgdGhpcy5raW5ldGljXy5lbmQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IHRoaXMua2luZXRpY18uZ2V0RGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSB0aGlzLmtpbmV0aWNfLmdldEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHZpZXcuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVycHggPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKGNlbnRlcik7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3QgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFtcbiAgICAgICAgICAgICAgICAgICAgY2VudGVycHhbMF0gLSBkaXN0YW5jZSAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVycHhbMV0gLSBkaXN0YW5jZSAqIE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB2aWV3LmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihkZXN0KSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFubmluZ18pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgICAgICAgICAvLyByZXNldCBzbyB3ZSBkb24ndCBvdmVyZXN0aW1hdGUgdGhlIGtpbmV0aWMgZW5lcmd5IGFmdGVyXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciB1cCwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIHVwXG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMCAmJiB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBzdG9wIGFueSBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8ga2luZXRpYyBhcyBzb29uIGFzIG1vcmUgdGhhbiBvbmUgcG9pbnRlciBvbiB0aGUgc2NyZWVuIGlzXG4gICAgICAgICAgICAvLyBkZXRlY3RlZC4gVGhpcyBpcyB0byBwcmV2ZW50IG5hc3R5IHBhbnMgYWZ0ZXIgcGluY2guXG4gICAgICAgICAgICB0aGlzLm5vS2luZXRpY18gPSB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyYWdQYW47XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1Bhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdQYW4uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFsdFNoaWZ0S2V5c09ubHksIG1vdXNlQWN0aW9uQnV0dG9uLCBtb3VzZU9ubHksIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyBkaXNhYmxlIH0gZnJvbSAnLi4vcm90YXRpb25jb25zdHJhaW50LmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24uYWx0U2hpZnRLZXlzT25seX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcm90YXRlIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgaGVsZCBkb3duLlxuICpcbiAqIFRoaXMgaW50ZXJhY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgZm9yIG1vdXNlIGRldmljZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnUm90YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBhbHRTaGlmdEtleXNPbmx5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICAgIHZhciB0aGV0YSA9IE1hdGguYXRhbjIoc2l6ZVsxXSAvIDIgLSBvZmZzZXRbMV0sIG9mZnNldFswXSAtIHNpemVbMF0gLyAyKTtcbiAgICAgICAgaWYgKHRoaXMubGFzdEFuZ2xlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGV0YSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgICAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbCgtZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHRoZXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUm90YXRlLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW91c2VBY3Rpb25CdXR0b24obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyYWdSb3RhdGU7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1JvdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdSb3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9Cb3hcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IFBvbHlnb24gZnJvbSAnLi4vZ2VvbS9Qb2x5Z29uLmpzJztcbnZhciBSZW5kZXJCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlckJveCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIENTUyBjbGFzcyBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlckJveChjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9ICdvbC1ib3ggJyArIGNsYXNzTmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5kUGl4ZWxfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBSZW5kZXJCb3gucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRNYXAobnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUucmVuZGVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgICAgICB2YXIgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICAgICAgdmFyIHB4ID0gJ3B4JztcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICAgICAgc3R5bGUubGVmdCA9IE1hdGgubWluKHN0YXJ0UGl4ZWxbMF0sIGVuZFBpeGVsWzBdKSArIHB4O1xuICAgICAgICBzdHlsZS50b3AgPSBNYXRoLm1pbihzdGFydFBpeGVsWzFdLCBlbmRQaXhlbFsxXSkgKyBweDtcbiAgICAgICAgc3R5bGUud2lkdGggPSBNYXRoLmFicyhlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF0pICsgcHg7XG4gICAgICAgIHN0eWxlLmhlaWdodCA9IE1hdGguYWJzKGVuZFBpeGVsWzFdIC0gc3RhcnRQaXhlbFsxXSkgKyBweDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHRoaXMubWFwXy5nZXRPdmVybGF5Q29udGFpbmVyKCkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgICAgICAgICAgc3R5bGUubGVmdCA9ICdpbmhlcml0JztcbiAgICAgICAgICAgIHN0eWxlLnRvcCA9ICdpbmhlcml0JztcbiAgICAgICAgICAgIHN0eWxlLndpZHRoID0gJ2luaGVyaXQnO1xuICAgICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJ2luaGVyaXQnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBTdGFydCBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBlbmRQaXhlbCBFbmQgcGl4ZWwuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRQaXhlbHMgPSBmdW5jdGlvbiAoc3RhcnRQaXhlbCwgZW5kUGl4ZWwpIHtcbiAgICAgICAgdGhpcy5zdGFydFBpeGVsXyA9IHN0YXJ0UGl4ZWw7XG4gICAgICAgIHRoaXMuZW5kUGl4ZWxfID0gZW5kUGl4ZWw7XG4gICAgICAgIHRoaXMuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLnJlbmRlcl8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgdXBkYXRlcyB0aGUgY2FjaGVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgICAgICB2YXIgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICAgICAgdmFyIHBpeGVscyA9IFtcbiAgICAgICAgICAgIHN0YXJ0UGl4ZWwsXG4gICAgICAgICAgICBbc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMV1dLFxuICAgICAgICAgICAgZW5kUGl4ZWwsXG4gICAgICAgICAgICBbZW5kUGl4ZWxbMF0sIHN0YXJ0UGl4ZWxbMV1dLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBwaXhlbHMubWFwKHRoaXMubWFwXy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwsIHRoaXMubWFwXyk7XG4gICAgICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uXG4gICAgICAgIGNvb3JkaW5hdGVzWzRdID0gY29vcmRpbmF0ZXNbMF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLmdlb21ldHJ5Xykge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeV8gPSBuZXcgUG9seWdvbihbY29vcmRpbmF0ZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlfLnNldENvb3JkaW5hdGVzKFtjb29yZGluYXRlc10pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlfO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlckJveDtcbn0oRGlzcG9zYWJsZSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVuZGVyQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm94LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ0JveFxuICovXG4vLyBGSVhNRSBkcmF3IGRyYWcgYm94XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBSZW5kZXJCb3ggZnJvbSAnLi4vcmVuZGVyL0JveC5qcyc7XG5pbXBvcnQgeyBtb3VzZUFjdGlvbkJ1dHRvbiB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIGFuZCByZXR1cm5zIGEgYHtib29sZWFufWAuIElmIHRoZSBjb25kaXRpb24gaXMgbWV0LFxuICogdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczogPywgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsLCBpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbCk6Ym9vbGVhbn0gRW5kQ29uZGl0aW9uXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWdib3gnXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGUgYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBvbC9ldmVudHMvY29uZGl0aW9ufm1vdXNlQWN0aW9uQnV0dG9ufS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluQXJlYT02NF0gVGhlIG1pbmltdW0gYXJlYSBvZiB0aGUgYm94IGluIHBpeGVsLCB0aGlzIHZhbHVlIGlzIHVzZWQgYnkgdGhlIGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICogQHByb3BlcnR5IHtFbmRDb25kaXRpb259IFtib3hFbmRDb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIHRvIGluZGljYXRlIHdoZXRoZXIgYSBgYm94ZW5kYCBldmVudCBzaG91bGQgYmUgZmlyZWQuXG4gKiBEZWZhdWx0IGlzIGB0cnVlYCBpZiB0aGUgYXJlYSBvZiB0aGUgYm94IGlzIGJpZ2dlciB0aGFuIHRoZSBgbWluQXJlYWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbih0aGlzOkRyYWdCb3gsIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbb25Cb3hFbmRdIENvZGUgdG8gZXhlY3V0ZSBqdXN0XG4gKiBiZWZvcmUgYGJveGVuZGAgaXMgZmlyZWQuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIERyYWdCb3hFdmVudFR5cGUgPSB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggc3RhcnQuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hTVEFSVDogJ2JveHN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgb24gZHJhZyB3aGVuIGJveCBpcyBhY3RpdmUuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPWERSQUc6ICdib3hkcmFnJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBlbmQuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9YRU5EOiAnYm94ZW5kJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBjYW5jZWxlZC5cbiAgICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGNhbmNlbFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hDQU5DRUw6ICdib3hjYW5jZWwnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnQm94fkRyYWdCb3h9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mXG4gKiB0aGlzIHR5cGUuXG4gKi9cbnZhciBEcmFnQm94RXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdCb3hFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgZXZlbnQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgT3JpZ2luYXRpbmcgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJhZ0JveEV2ZW50KHR5cGUsIGNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIGRyYWcgZXZlbnQuXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcEJyb3dzZXJFdmVudCA9IG1hcEJyb3dzZXJFdmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRHJhZ0JveEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgRHJhZ0JveEV2ZW50IH07XG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgJ2NoYW5nZTphY3RpdmUnLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPCdib3hjYW5jZWwnfCdib3hkcmFnJ3wnYm94ZW5kJ3wnYm94c3RhcnQnLCBEcmFnQm94RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZSd8J2JveGNhbmNlbCd8J2JveGRyYWcnfCdib3hlbmQnLCBSZXR1cm4+fSBEcmFnQm94T25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gZHJhdyBhIHZlY3RvciBib3ggYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIHNoaWZ0IG9yIG90aGVyIGtleSBpcyBoZWxkIGRvd24uIFRoaXMgaXMgdXNlZCwgZm9yIGV4YW1wbGUsXG4gKiBmb3Igem9vbWluZyB0byBhIHNwZWNpZmljIGFyZWEgb2YgdGhlIG1hcFxuICogKHNlZSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdab29tfkRyYWdab29tfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZUFuZFpvb219KS5cbiAqXG4gKiBAZmlyZXMgRHJhZ0JveEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnQm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnQm94LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdCb3gob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7RHJhZ0JveE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub247XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvQm94LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3hfID0gbmV3IFJlbmRlckJveChvcHRpb25zLmNsYXNzTmFtZSB8fCAnb2wtZHJhZ2JveCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pbkFyZWFfID0gb3B0aW9ucy5taW5BcmVhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pbkFyZWEgOiA2NDtcbiAgICAgICAgaWYgKG9wdGlvbnMub25Cb3hFbmQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uQm94RW5kID0gb3B0aW9ucy5vbkJveEVuZDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBtb3VzZUFjdGlvbkJ1dHRvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtFbmRDb25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3hFbmRDb25kaXRpb25fID0gb3B0aW9ucy5ib3hFbmRDb25kaXRpb25cbiAgICAgICAgICAgID8gb3B0aW9ucy5ib3hFbmRDb25kaXRpb25cbiAgICAgICAgICAgIDogX3RoaXMuZGVmYXVsdEJveEVuZENvbmRpdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBjb25kaXRpb24gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIGJveGVuZCBldmVudFxuICAgICAqIHNob3VsZCBmaXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBUaGUgb3JpZ2luYXRpbmcgTWFwQnJvd3NlckV2ZW50XG4gICAgICogICAgIGxlYWRpbmcgdG8gdGhlIGJveCBlbmQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBUaGUgc3RhcnRpbmcgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBlbmRQaXhlbCBUaGUgZW5kIHBpeGVsIG9mIHRoZSBib3guXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGJveGVuZCBjb25kaXRpb24gc2hvdWxkIGJlIGZpcmVkLlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmRlZmF1bHRCb3hFbmRDb25kaXRpb24gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50LCBzdGFydFBpeGVsLCBlbmRQaXhlbCkge1xuICAgICAgICB2YXIgd2lkdGggPSBlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF07XG4gICAgICAgIHZhciBoZWlnaHQgPSBlbmRQaXhlbFsxXSAtIHN0YXJ0UGl4ZWxbMV07XG4gICAgICAgIHJldHVybiB3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0ID49IHRoaXMubWluQXJlYV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGdlb21ldHJ5IG9mIGxhc3QgZHJhd24gYm94LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveF8uZ2V0R2VvbWV0cnkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHRoaXMuYm94Xy5zZXRQaXhlbHModGhpcy5zdGFydFBpeGVsXywgbWFwQnJvd3NlckV2ZW50LnBpeGVsKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBEcmFnQm94RXZlbnQoRHJhZ0JveEV2ZW50VHlwZS5CT1hEUkFHLCBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5ib3hfLnNldE1hcChudWxsKTtcbiAgICAgICAgdmFyIGNvbXBsZXRlQm94ID0gdGhpcy5ib3hFbmRDb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCwgdGhpcy5zdGFydFBpeGVsXywgbWFwQnJvd3NlckV2ZW50LnBpeGVsKTtcbiAgICAgICAgaWYgKGNvbXBsZXRlQm94KSB7XG4gICAgICAgICAgICB0aGlzLm9uQm94RW5kKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBEcmFnQm94RXZlbnQoY29tcGxldGVCb3ggPyBEcmFnQm94RXZlbnRUeXBlLkJPWEVORCA6IERyYWdCb3hFdmVudFR5cGUuQk9YQ0FOQ0VMLCBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UGl4ZWxfID0gbWFwQnJvd3NlckV2ZW50LnBpeGVsO1xuICAgICAgICAgICAgdGhpcy5ib3hfLnNldE1hcChtYXBCcm93c2VyRXZlbnQubWFwKTtcbiAgICAgICAgICAgIHRoaXMuYm94Xy5zZXRQaXhlbHModGhpcy5zdGFydFBpeGVsXywgdGhpcy5zdGFydFBpeGVsXyk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IERyYWdCb3hFdmVudChEcmFnQm94RXZlbnRUeXBlLkJPWFNUQVJULCBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGJlZm9yZSBgb25ib3hlbmRgIGlzIGZpcmVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUub25Cb3hFbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHsgfTtcbiAgICByZXR1cm4gRHJhZ0JveDtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBEcmFnQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ0JveC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdab29tXG4gKi9cbmltcG9ydCBEcmFnQm94IGZyb20gJy4vRHJhZ0JveC5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7IHNoaWZ0S2V5T25seSB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtZHJhZ3pvb20nXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGVcbiAqIGJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLnNoaWZ0S2V5T25seX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTIwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW291dD1mYWxzZV0gVXNlIGludGVyYWN0aW9uIGZvciB6b29taW5nIG91dC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluQXJlYT02NF0gVGhlIG1pbmltdW0gYXJlYSBvZiB0aGUgYm94IGluIHBpeGVsLCB0aGlzIHZhbHVlIGlzIHVzZWQgYnkgdGhlIHBhcmVudCBkZWZhdWx0XG4gKiBgYm94RW5kQ29uZGl0aW9uYCBmdW5jdGlvbi5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIGEga2V5LCBzaGlmdCBieSBkZWZhdWx0LCBpcyBoZWxkIGRvd24uXG4gKlxuICogVG8gY2hhbmdlIHRoZSBzdHlsZSBvZiB0aGUgYm94LCB1c2UgQ1NTIGFuZCB0aGUgYC5vbC1kcmFnem9vbWAgc2VsZWN0b3IsIG9yXG4gKiB5b3VyIGN1c3RvbSBvbmUgY29uZmlndXJlZCB3aXRoIGBjbGFzc05hbWVgLlxuICogQGFwaVxuICovXG52YXIgRHJhZ1pvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IHNoaWZ0S2V5T25seTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9ucy5jbGFzc05hbWUgfHwgJ29sLWRyYWd6b29tJyxcbiAgICAgICAgICAgIG1pbkFyZWE6IG9wdGlvbnMubWluQXJlYSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdXRfID0gb3B0aW9ucy5vdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3V0IDogZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGJlZm9yZSBgb25ib3hlbmRgIGlzIGZpcmVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ1pvb20ucHJvdG90eXBlLm9uQm94RW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgdmlldyA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gKi8gKG1hcC5nZXRWaWV3KCkpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmICh0aGlzLm91dF8pIHtcbiAgICAgICAgICAgIHZhciByb3RhdGVkRXh0ZW50ID0gdmlldy5yb3RhdGVkRXh0ZW50Rm9yR2VvbWV0cnkoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2aWV3LmdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbChyb3RhdGVkRXh0ZW50KTtcbiAgICAgICAgICAgIHZhciBmYWN0b3IgPSB2aWV3LmdldFJlc29sdXRpb24oKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgICAgICAgICBnZW9tZXRyeS5zY2FsZShmYWN0b3IgKiBmYWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuZml0SW50ZXJuYWwoZ2VvbWV0cnksIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ1pvb207XG59KERyYWdCb3gpKTtcbmV4cG9ydCBkZWZhdWx0IERyYWdab29tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ1pvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7IHBhbiB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnLi4vZXZlbnRzL0tleUNvZGUuanMnO1xuaW1wb3J0IHsgbm9Nb2RpZmllcktleXMsIHRhcmdldE5vdEVkaXRhYmxlIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyByb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZSB9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5ub01vZGlmaWVyS2V5c30gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24udGFyZ2V0Tm90RWRpdGFibGV9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsRGVsdGE9MTI4XSBUaGUgYW1vdW50IG9mIHBpeGVscyB0byBwYW4gb24gZWFjaCBrZXlcbiAqIHByZXNzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCB1c2luZyBrZXlib2FyZCBhcnJvd3MuXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfS5cbiAqIEBhcGlcbiAqL1xudmFyIEtleWJvYXJkUGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhLZXlib2FyZFBhbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBLZXlib2FyZFBhbihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbWJpbmVkIGNvbmRpdGlvbiByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0Q29uZGl0aW9uXyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAobm9Nb2RpZmllcktleXMobWFwQnJvd3NlckV2ZW50KSAmJiB0YXJnZXROb3RFZGl0YWJsZShtYXBCcm93c2VyRXZlbnQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5jb25kaXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb25kaXRpb25cbiAgICAgICAgICAgICAgICA6IF90aGlzLmRlZmF1bHRDb25kaXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxEZWx0YV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5waXhlbERlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpeGVsRGVsdGEgOiAxMjg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gICAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgdGhlIGRpcmVjdGlvbiB0byBwYW4gdG8gKGlmIGFuIGFycm93IGtleSB3YXNcbiAgICAgKiBwcmVzc2VkKS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEB0aGlzIHtLZXlib2FyZFBhbn1cbiAgICAgKi9cbiAgICBLZXlib2FyZFBhbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlET1dOKSB7XG4gICAgICAgICAgICB2YXIga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGtleUV2ZW50LmtleUNvZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkgJiZcbiAgICAgICAgICAgICAgICAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04gfHxcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLkxFRlQgfHxcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLlJJR0hUIHx8XG4gICAgICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5VUCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcFVuaXRzRGVsdGEgPSB2aWV3LmdldFJlc29sdXRpb24oKSAqIHRoaXMucGl4ZWxEZWx0YV87XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhWCA9IDAsIGRlbHRhWSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5ET1dOKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWSA9IC1tYXBVbml0c0RlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVggPSAtbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLlJJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWCA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVkgPSBtYXBVbml0c0RlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBbZGVsdGFYLCBkZWx0YVldO1xuICAgICAgICAgICAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgICAgICAgICAgcGFuKHZpZXcsIGRlbHRhLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEtleWJvYXJkUGFuO1xufShJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRQYW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1LZXlib2FyZFBhbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0tleUNvZGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBMRUZUOiAzNyxcbiAgICBVUDogMzgsXG4gICAgUklHSFQ6IDM5LFxuICAgIERPV046IDQwLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleUNvZGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21cbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiwgeyB6b29tQnlEZWx0YSB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IHsgdGFyZ2V0Tm90RWRpdGFibGUgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGxldmVsIGRlbHRhIG9uIGVhY2gga2V5IHByZXNzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmQgKyBhbmQgLS5cbiAqIE5vdGUgdGhhdCwgYWx0aG91Z2ggdGhpcyBpbnRlcmFjdGlvbiBpcyBieSBkZWZhdWx0IGluY2x1ZGVkIGluIG1hcHMsXG4gKiB0aGUga2V5cyBjYW4gb25seSBiZSB1c2VkIHdoZW4gYnJvd3NlciBmb2N1cyBpcyBvbiB0aGUgZWxlbWVudCB0byB3aGljaFxuICogdGhlIGtleWJvYXJkIGV2ZW50cyBhcmUgYXR0YWNoZWQuIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIG1hcCBkaXYsXG4gKiB0aG91Z2ggeW91IGNhbiBjaGFuZ2UgdGhpcyB3aXRoIHRoZSBga2V5Ym9hcmRFdmVudFRhcmdldGAgaW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0uIGBkb2N1bWVudGAgbmV2ZXIgbG9zZXMgZm9jdXMgYnV0LCBmb3IgYW55IG90aGVyXG4gKiBlbGVtZW50LCBmb2N1cyB3aWxsIGhhdmUgdG8gYmUgb24sIGFuZCByZXR1cm5lZCB0bywgdGhpcyBlbGVtZW50IGlmIHRoZSBrZXlzXG4gKiBhcmUgdG8gZnVuY3Rpb24uXG4gKiBTZWUgYWxzbyB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFufktleWJvYXJkUGFufS5cbiAqIEBhcGlcbiAqL1xudmFyIEtleWJvYXJkWm9vbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoS2V5Ym9hcmRab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEtleWJvYXJkWm9vbShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogdGFyZ2V0Tm90RWRpdGFibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsdGFfID0gb3B0aW9ucy5kZWx0YSA/IG9wdGlvbnMuZGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gICAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgd2hldGhlciB0byB6b29tIGluIG9yIG91dCAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gICAgICoga2V5IHByZXNzZWQgd2FzICcrJyBvciAnLScpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHRoaXMge0tleWJvYXJkWm9vbX1cbiAgICAgKi9cbiAgICBLZXlib2FyZFpvb20ucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuS0VZRE9XTiB8fFxuICAgICAgICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWVBSRVNTKSB7XG4gICAgICAgICAgICB2YXIga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBrZXlFdmVudC5jaGFyQ29kZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgICAgIChjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSB8fCBjaGFyQ29kZSA9PSAnLScuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSA/IHRoaXMuZGVsdGFfIDogLXRoaXMuZGVsdGFfO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgdW5kZWZpbmVkLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEtleWJvYXJkWm9vbTtcbn0oSW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleWJvYXJkWm9vbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvS2luZXRpY1xuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudGF0aW9uIG9mIGluZXJ0aWFsIGRlY2VsZXJhdGlvbiBmb3IgbWFwIG1vdmVtZW50LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEtpbmV0aWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlY2F5IFJhdGUgb2YgZGVjYXkgKG11c3QgYmUgbmVnYXRpdmUpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5WZWxvY2l0eSBNaW5pbXVtIHZlbG9jaXR5IChwaXhlbHMvbWlsbGlzZWNvbmQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBEZWxheSB0byBjb25zaWRlciB0byBjYWxjdWxhdGUgdGhlIGtpbmV0aWNcbiAgICAgKiAgICAgaW5pdGlhbCB2YWx1ZXMgKG1pbGxpc2Vjb25kcykuXG4gICAgICovXG4gICAgZnVuY3Rpb24gS2luZXRpYyhkZWNheSwgbWluVmVsb2NpdHksIGRlbGF5KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWNheV8gPSBkZWNheTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblZlbG9jaXR5XyA9IG1pblZlbG9jaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXlfID0gZGVsYXk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluaXRpYWxWZWxvY2l0eV8gPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wb2ludHNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnBvaW50c18ucHVzaCh4LCB5LCBEYXRlLm5vdygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgd2Ugc2hvdWxkIGRvIGtpbmV0aWMgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIEtpbmV0aWMucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzXy5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgICAvLyBhdCBsZWFzdCAyIHBvaW50cyBhcmUgcmVxdWlyZWQgKGkuZS4gdGhlcmUgbXVzdCBiZSBhdCBsZWFzdCA2IGVsZW1lbnRzXG4gICAgICAgICAgICAvLyBpbiB0aGUgYXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGF5ID0gRGF0ZS5ub3coKSAtIHRoaXMuZGVsYXlfO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5wb2ludHNfLmxlbmd0aCAtIDM7XG4gICAgICAgIGlmICh0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMl0gPCBkZWxheSkge1xuICAgICAgICAgICAgLy8gdGhlIGxhc3QgdHJhY2tlZCBwb2ludCBpcyB0b28gb2xkLCB3aGljaCBtZWFucyB0aGF0IHRoZSB1c2VyIHN0b3BwZWRcbiAgICAgICAgICAgIC8vIHBhbm5pbmcgYmVmb3JlIHJlbGVhc2luZyB0aGUgbWFwXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2V0IHRoZSBmaXJzdCBwb2ludCB3aGljaCBzdGlsbCBmYWxscyBpbnRvIHRoZSBkZWxheSB0aW1lXG4gICAgICAgIHZhciBmaXJzdEluZGV4ID0gbGFzdEluZGV4IC0gMztcbiAgICAgICAgd2hpbGUgKGZpcnN0SW5kZXggPiAwICYmIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl0gPiBkZWxheSkge1xuICAgICAgICAgICAgZmlyc3RJbmRleCAtPSAzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXggKyAyXSAtIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl07XG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgYSBkdXJhdGlvbiBvZiAwIChkaXZpZGUgYnkgemVybylcbiAgICAgICAgLy8gd2UgYWxzbyBtYWtlIHN1cmUgdGhlIHVzZXIgcGFubmVkIGZvciBhIGR1cmF0aW9uIG9mIGF0IGxlYXN0IG9uZSBmcmFtZVxuICAgICAgICAvLyAoMS82MHMpIHRvIGNvbXB1dGUgc2FuZSBkaXNwbGFjZW1lbnQgdmFsdWVzXG4gICAgICAgIGlmIChkdXJhdGlvbiA8IDEwMDAgLyA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXhdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXhdO1xuICAgICAgICB2YXIgZHkgPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMV0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDFdO1xuICAgICAgICB0aGlzLmFuZ2xlXyA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAvIGR1cmF0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsVmVsb2NpdHlfID4gdGhpcy5taW5WZWxvY2l0eV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRvdGFsIGRpc3RhbmNlIHRyYXZlbGxlZCAocGl4ZWxzKS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblZlbG9jaXR5XyAtIHRoaXMuaW5pdGlhbFZlbG9jaXR5XykgLyB0aGlzLmRlY2F5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgb2YgdGhlIGtpbmV0aWMgcGFubmluZyBhbmltYXRpb24gKHJhZGlhbnMpLlxuICAgICAqL1xuICAgIEtpbmV0aWMucHJvdG90eXBlLmdldEFuZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZV87XG4gICAgfTtcbiAgICByZXR1cm4gS2luZXRpYztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBLaW5ldGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2luZXRpYy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHsgem9vbUJ5RGVsdGEgfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgRklSRUZPWCB9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQgeyBhbGwsIGFsd2F5cywgZm9jdXNXaXRoVGFiaW5kZXggfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgTW9kZSA9IHtcbiAgICBUUkFDS1BBRDogJ3RyYWNrcGFkJyxcbiAgICBXSEVFTDogJ3doZWVsJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLmFsd2F5c30uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4RGVsdGE9MV0gTWF4aW11bSBtb3VzZSB3aGVlbCBkZWx0YS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTgwXSBNb3VzZSB3aGVlbCB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUFuY2hvcj10cnVlXSBFbmFibGUgem9vbWluZyB1c2luZyB0aGUgbW91c2Unc1xuICogbG9jYXRpb24gYXMgdGhlIGFuY2hvci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgem9vbWluZyBpbiBhbmQgb3V0IHdpbGwgem9vbSB0b1xuICogdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIGluc3RlYWQgb2Ygem9vbWluZyBvbiB0aGUgbW91c2UncyBsb2NhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSBtb3VzZSB3aGVlbCB6b29tXG4gKiBldmVudCB3aWxsIGFsd2F5cyBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247XG4gKiBmYWxzZSBtZWFucyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcgdGhlIG1vdXNlIHdoZWVsLlxuICogQGFwaVxuICovXG52YXIgTW91c2VXaGVlbFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1vdXNlV2hlZWxab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1vdXNlV2hlZWxab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucykpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG90YWxEZWx0YV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3REZWx0YV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhXyA9IG9wdGlvbnMubWF4RGVsdGEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4RGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGltZW91dF8gPSBvcHRpb25zLnRpbWVvdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGltZW91dCA6IDgwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VBbmNob3JfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXNlQW5jaG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZUFuY2hvciA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnN0cmFpblJlc29sdXRpb25fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb25cbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICB2YXIgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IGFsd2F5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLm9uRm9jdXNPbmx5XG4gICAgICAgICAgICA/IGFsbChmb2N1c1dpdGhUYWJpbmRleCwgY29uZGl0aW9uKVxuICAgICAgICAgICAgOiBjb25kaXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGltZW91dElkXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtNb2RlfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2twYWQgZXZlbnRzIHNlcGFyYXRlZCBieSB0aGlzIGRlbGF5IHdpbGwgYmUgY29uc2lkZXJlZCBzZXBhcmF0ZVxuICAgICAgICAgKiBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFja3BhZEV2ZW50R2FwXyA9IDQwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2twYWRUaW1lb3V0SWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBkZWx0YSB2YWx1ZXMgcGVyIHpvb20gbGV2ZWxcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbHRhUGVyWm9vbV8gPSAzMDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuZW5kSW50ZXJhY3Rpb25fID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmdldE1hcCgpLmdldFZpZXcoKTtcbiAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih1bmRlZmluZWQsIHRoaXMubGFzdERlbHRhXyA/ICh0aGlzLmxhc3REZWx0YV8gPiAwID8gMSA6IC0xKSA6IDAsIHRoaXMubGFzdEFuY2hvcl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IChpZiBpdCB3YXMgYSBtb3VzZXdoZWVsLWV2ZW50KSBhbmQgZXZlbnR1YWxseVxuICAgICAqIHpvb21zIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gbWFwQnJvd3NlckV2ZW50LnR5cGU7XG4gICAgICAgIGlmICh0eXBlICE9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgd2hlZWxFdmVudCA9IC8qKiBAdHlwZSB7V2hlZWxFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgd2hlZWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy51c2VBbmNob3JfKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JfID0gbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsdGEgbm9ybWFsaXNhdGlvbiBpbnNwaXJlZCBieVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9ibG9iLzAwMWM3YjkvanMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qc1xuICAgICAgICB2YXIgZGVsdGE7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgICAgICAgIGRlbHRhID0gd2hlZWxFdmVudC5kZWx0YVk7XG4gICAgICAgICAgICBpZiAoRklSRUZPWCAmJiB3aGVlbEV2ZW50LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfUElYRUwpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAvPSBERVZJQ0VfUElYRUxfUkFUSU87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2hlZWxFdmVudC5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSA0MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFzdERlbHRhXyA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWVfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IG5vdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW9kZV8gfHwgbm93IC0gdGhpcy5zdGFydFRpbWVfID4gdGhpcy50cmFja3BhZEV2ZW50R2FwXykge1xuICAgICAgICAgICAgdGhpcy5tb2RlXyA9IE1hdGguYWJzKGRlbHRhKSA8IDQgPyBNb2RlLlRSQUNLUEFEIDogTW9kZS5XSEVFTDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlRSQUNLUEFEICYmXG4gICAgICAgICAgICAhKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KHRoaXMuZW5kSW50ZXJhY3Rpb25fLmJpbmQodGhpcyksIHRoaXMudGltZW91dF8pO1xuICAgICAgICAgICAgdmlldy5hZGp1c3Rab29tKC1kZWx0YSAvIHRoaXMuZGVsdGFQZXJab29tXywgdGhpcy5sYXN0QW5jaG9yXyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSBub3c7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyArPSBkZWx0YTtcbiAgICAgICAgdmFyIHRpbWVMZWZ0ID0gTWF0aC5tYXgodGhpcy50aW1lb3V0XyAtIChub3cgLSB0aGlzLnN0YXJ0VGltZV8pLCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkXyk7XG4gICAgICAgIHRoaXMudGltZW91dElkXyA9IHNldFRpbWVvdXQodGhpcy5oYW5kbGVXaGVlbFpvb21fLmJpbmQodGhpcywgbWFwKSwgdGltZUxlZnQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgTW91c2VXaGVlbFpvb20ucHJvdG90eXBlLmhhbmRsZVdoZWVsWm9vbV8gPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IC1jbGFtcCh0aGlzLnRvdGFsRGVsdGFfLCAtdGhpcy5tYXhEZWx0YV8gKiB0aGlzLmRlbHRhUGVyWm9vbV8sIHRoaXMubWF4RGVsdGFfICogdGhpcy5kZWx0YVBlclpvb21fKSAvIHRoaXMuZGVsdGFQZXJab29tXztcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pIHtcbiAgICAgICAgICAgIC8vIHZpZXcgaGFzIGEgem9vbSBjb25zdHJhaW50LCB6b29tIGJ5IDFcbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgPyAoZGVsdGEgPiAwID8gMSA6IC0xKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIHRoaXMubGFzdEFuY2hvcl8sIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAgdGhpcy5tb2RlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyA9IDA7XG4gICAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHVzaW5nIHRoZSBtb3VzZSdzIGxvY2F0aW9uIGFzIGFuIGFuY2hvciB3aGVuIHpvb21pbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUFuY2hvciB0cnVlIHRvIHpvb20gdG8gdGhlIG1vdXNlJ3MgbG9jYXRpb24sIGZhbHNlXG4gICAgICogdG8gem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZSBtYXBcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTW91c2VXaGVlbFpvb20ucHJvdG90eXBlLnNldE1vdXNlQW5jaG9yID0gZnVuY3Rpb24gKHVzZUFuY2hvcikge1xuICAgICAgICB0aGlzLnVzZUFuY2hvcl8gPSB1c2VBbmNob3I7XG4gICAgICAgIGlmICghdXNlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1vdXNlV2hlZWxab29tO1xufShJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgTW91c2VXaGVlbFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb3VzZVdoZWVsWm9vbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHsgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsIH0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGRpc2FibGUgfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGhyZXNob2xkPTAuM10gTWluaW1hbCBhbmdsZSBpbiByYWRpYW5zIHRvIHN0YXJ0IGEgcm90YXRpb24uXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IHR3aXN0aW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG52YXIgUGluY2hSb3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBpbmNoUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBpbmNoUm90YXRlKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgcG9pbnRlck9wdGlvbnMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyAob3B0aW9ucyk7XG4gICAgICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludGVyT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpbmdfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpb25EZWx0YV8gPSAwLjA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGhyZXNob2xkXyA9IG9wdGlvbnMudGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRocmVzaG9sZCA6IDAuMztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBQaW5jaFJvdGF0ZS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgcm90YXRpb25EZWx0YSA9IDAuMDtcbiAgICAgICAgdmFyIHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgICAgIHZhciB0b3VjaDEgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzFdO1xuICAgICAgICAvLyBhbmdsZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0b3VjaDEuY2xpZW50WSAtIHRvdWNoMC5jbGllbnRZLCB0b3VjaDEuY2xpZW50WCAtIHRvdWNoMC5jbGllbnRYKTtcbiAgICAgICAgaWYgKHRoaXMubGFzdEFuZ2xlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBhbmdsZSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25EZWx0YV8gKz0gZGVsdGE7XG4gICAgICAgICAgICBpZiAoIXRoaXMucm90YXRpbmdfICYmIE1hdGguYWJzKHRoaXMucm90YXRpb25EZWx0YV8pID4gdGhpcy50aHJlc2hvbGRfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGluZ18gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm90YXRpb25EZWx0YSA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IGFuZ2xlO1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAodmlldy5nZXRDb25zdHJhaW50cygpLnJvdGF0aW9uID09PSBkaXNhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcm90YXRlIGFuY2hvciBwb2ludC5cbiAgICAgICAgLy8gRklYTUU6IHNob3VsZCBiZSB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGJldHdlZW4gdGhlIGxpbmVzOlxuICAgICAgICAvLyAgICAgdG91Y2gwLHRvdWNoMSBhbmQgcHJldmlvdXNUb3VjaDAscHJldmlvdXNUb3VjaDFcbiAgICAgICAgdmFyIHZpZXdwb3J0UG9zaXRpb24gPSBtYXAuZ2V0Vmlld3BvcnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGNlbnRyb2lkWzBdIC09IHZpZXdwb3J0UG9zaXRpb24ubGVmdDtcbiAgICAgICAgY2VudHJvaWRbMV0gLT0gdmlld3BvcnRQb3NpdGlvbi50b3A7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwoY2VudHJvaWQpO1xuICAgICAgICAvLyByb3RhdGVcbiAgICAgICAgaWYgKHRoaXMucm90YXRpbmdfKSB7XG4gICAgICAgICAgICBtYXAucmVuZGVyKCk7XG4gICAgICAgICAgICB2aWV3LmFkanVzdFJvdGF0aW9uSW50ZXJuYWwocm90YXRpb25EZWx0YSwgdGhpcy5hbmNob3JfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoUm90YXRlLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoUm90YXRlLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW5nXyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbkRlbHRhXyA9IDAuMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBpbmNoUm90YXRlO1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IFBpbmNoUm90YXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGluY2hSb3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9QaW5jaFpvb21cbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwgeyBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycywgfSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHsgRkFMU0UgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTQwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHBpbmNoaW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG52YXIgUGluY2hab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQaW5jaFpvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGluY2hab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgcG9pbnRlck9wdGlvbnMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyAob3B0aW9ucyk7XG4gICAgICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludGVyT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogNDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0RGlzdGFuY2VfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc2NhbGVEZWx0YSA9IDEuMDtcbiAgICAgICAgdmFyIHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgICAgIHZhciB0b3VjaDEgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzFdO1xuICAgICAgICB2YXIgZHggPSB0b3VjaDAuY2xpZW50WCAtIHRvdWNoMS5jbGllbnRYO1xuICAgICAgICB2YXIgZHkgPSB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZO1xuICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgaWYgKHRoaXMubGFzdERpc3RhbmNlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZURlbHRhID0gdGhpcy5sYXN0RGlzdGFuY2VfIC8gZGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0RGlzdGFuY2VfID0gZGlzdGFuY2U7XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmIChzY2FsZURlbHRhICE9IDEuMCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSBzY2FsZURlbHRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNjYWxlIGFuY2hvciBwb2ludC5cbiAgICAgICAgdmFyIHZpZXdwb3J0UG9zaXRpb24gPSBtYXAuZ2V0Vmlld3BvcnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGNlbnRyb2lkWzBdIC09IHZpZXdwb3J0UG9zaXRpb24ubGVmdDtcbiAgICAgICAgY2VudHJvaWRbMV0gLT0gdmlld3BvcnRQb3NpdGlvbi50b3A7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwoY2VudHJvaWQpO1xuICAgICAgICAvLyBzY2FsZSwgYnlwYXNzIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnRcbiAgICAgICAgbWFwLnJlbmRlcigpO1xuICAgICAgICB2aWV3LmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChzY2FsZURlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5sYXN0U2NhbGVEZWx0YV8gPiAxID8gMSA6IC0xO1xuICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXywgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBQaW5jaFpvb20ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gMTtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBpbmNoWm9vbTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBQaW5jaFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaW5jaFpvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9NYXBcbiAqL1xuaW1wb3J0IENvbXBvc2l0ZU1hcFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIvQ29tcG9zaXRlLmpzJztcbmltcG9ydCBQbHVnZ2FibGVNYXAgZnJvbSAnLi9QbHVnZ2FibGVNYXAuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgZGVmYXVsdHMgYXMgZGVmYXVsdENvbnRyb2xzIH0gZnJvbSAnLi9jb250cm9sLmpzJztcbmltcG9ydCB7IGRlZmF1bHRzIGFzIGRlZmF1bHRJbnRlcmFjdGlvbnMgfSBmcm9tICcuL2ludGVyYWN0aW9uLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVGhlIG1hcCBpcyB0aGUgY29yZSBjb21wb25lbnQgb2YgT3BlbkxheWVycy4gRm9yIGEgbWFwIHRvIHJlbmRlciwgYSB2aWV3LFxuICogb25lIG9yIG1vcmUgbGF5ZXJzLCBhbmQgYSB0YXJnZXQgY29udGFpbmVyIGFyZSBuZWVkZWQ6XG4gKlxuICogICAgIGltcG9ydCBNYXAgZnJvbSAnb2wvTWFwJztcbiAqICAgICBpbXBvcnQgVmlldyBmcm9tICdvbC9WaWV3JztcbiAqICAgICBpbXBvcnQgVGlsZUxheWVyIGZyb20gJ29sL2xheWVyL1RpbGUnO1xuICogICAgIGltcG9ydCBPU00gZnJvbSAnb2wvc291cmNlL09TTSc7XG4gKlxuICogICAgIHZhciBtYXAgPSBuZXcgTWFwKHtcbiAqICAgICAgIHZpZXc6IG5ldyBWaWV3KHtcbiAqICAgICAgICAgY2VudGVyOiBbMCwgMF0sXG4gKiAgICAgICAgIHpvb206IDFcbiAqICAgICAgIH0pLFxuICogICAgICAgbGF5ZXJzOiBbXG4gKiAgICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xuICogICAgICAgICAgIHNvdXJjZTogbmV3IE9TTSgpXG4gKiAgICAgICAgIH0pXG4gKiAgICAgICBdLFxuICogICAgICAgdGFyZ2V0OiAnbWFwJ1xuICogICAgIH0pO1xuICpcbiAqIFRoZSBhYm92ZSBzbmlwcGV0IGNyZWF0ZXMgYSBtYXAgdXNpbmcgYSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1RpbGV9IHRvXG4gKiBkaXNwbGF5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL09TTX5PU019IE9TTSBkYXRhIGFuZCByZW5kZXIgaXQgdG8gYSBET01cbiAqIGVsZW1lbnQgd2l0aCB0aGUgaWQgYG1hcGAuXG4gKlxuICogVGhlIGNvbnN0cnVjdG9yIHBsYWNlcyBhIHZpZXdwb3J0IGNvbnRhaW5lciAod2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLXZpZXdwb3J0YCkgaW4gdGhlIHRhcmdldCBlbGVtZW50IChzZWUgYGdldFZpZXdwb3J0KClgKSwgYW5kIHRoZW4gdHdvXG4gKiBmdXJ0aGVyIGVsZW1lbnRzIHdpdGhpbiB0aGUgdmlld3BvcnQ6IG9uZSB3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgIGZvciBjb250cm9scyBhbmQgc29tZSBvdmVybGF5cywgYW5kIG9uZSB3aXRoXG4gKiBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lcmAgZm9yIG90aGVyIG92ZXJsYXlzIChzZWUgdGhlIGBzdG9wRXZlbnRgXG4gKiBvcHRpb24gb2Yge0BsaW5rIG1vZHVsZTpvbC9PdmVybGF5fk92ZXJsYXl9IGZvciB0aGUgZGlmZmVyZW5jZSkuIFRoZSBtYXBcbiAqIGl0c2VsZiBpcyBwbGFjZWQgaW4gYSBmdXJ0aGVyIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBMYXllcnMgYXJlIHN0b3JlZCBhcyBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpblxuICogbGF5ZXJHcm91cHMuIEEgdG9wLWxldmVsIGdyb3VwIGlzIHByb3ZpZGVkIGJ5IHRoZSBsaWJyYXJ5LiBUaGlzIGlzIHdoYXQgaXNcbiAqIGFjY2Vzc2VkIGJ5IGBnZXRMYXllckdyb3VwYCBhbmQgYHNldExheWVyR3JvdXBgLiBMYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgYXJlIGFkZGVkIHRvIHRoaXMgZ3JvdXAsIGFuZCBgYWRkTGF5ZXJgIGFuZCBgcmVtb3ZlTGF5ZXJgIGNoYW5nZSB0aGVcbiAqIGxheWVyIGNvbGxlY3Rpb24gaW4gdGhlIGdyb3VwLiBgZ2V0TGF5ZXJzYCBpcyBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvclxuICogYGdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKWAuIE5vdGUgdGhhdCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0dyb3Vwfkdyb3VwfVxuICogaXMgYSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V9LCBzbyBsYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgb3IgYWRkZWQgd2l0aCBgYWRkTGF5ZXJgIGNhbiBiZSBncm91cHMsIHdoaWNoIGNhbiBjb250YWluIGZ1cnRoZXJcbiAqIGdyb3VwcywgYW5kIHNvIG9uLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIE1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuTWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNvbnRyb2xzID0gZGVmYXVsdENvbnRyb2xzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmludGVyYWN0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucy5pbnRlcmFjdGlvbnMgPSBkZWZhdWx0SW50ZXJhY3Rpb25zKHtcbiAgICAgICAgICAgICAgICBvbkZvY3VzT25seTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXAucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2l0ZU1hcFJlbmRlcmVyKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcDtcbn0oUGx1Z2dhYmxlTWFwKSk7XG5leHBvcnQgZGVmYXVsdCBNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2xcbiAqL1xuaW1wb3J0IEF0dHJpYnV0aW9uIGZyb20gJy4vY29udHJvbC9BdHRyaWJ1dGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IFJvdGF0ZSBmcm9tICcuL2NvbnRyb2wvUm90YXRlLmpzJztcbmltcG9ydCBab29tIGZyb20gJy4vY29udHJvbC9ab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXR0cmlidXRpb24gfSBmcm9tICcuL2NvbnRyb2wvQXR0cmlidXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb250cm9sIH0gZnJvbSAnLi9jb250cm9sL0NvbnRyb2wuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGdWxsU2NyZWVuIH0gZnJvbSAnLi9jb250cm9sL0Z1bGxTY3JlZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb3VzZVBvc2l0aW9uIH0gZnJvbSAnLi9jb250cm9sL01vdXNlUG9zaXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPdmVydmlld01hcCB9IGZyb20gJy4vY29udHJvbC9PdmVydmlld01hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJvdGF0ZSB9IGZyb20gJy4vY29udHJvbC9Sb3RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY2FsZUxpbmUgfSBmcm9tICcuL2NvbnRyb2wvU2NhbGVMaW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbSB9IGZyb20gJy4vY29udHJvbC9ab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbVNsaWRlciB9IGZyb20gJy4vY29udHJvbC9ab29tU2xpZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbVRvRXh0ZW50IH0gZnJvbSAnLi9jb250cm9sL1pvb21Ub0V4dGVudC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmF1bHRzT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb249dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb250cm9sL0F0dHJpYnV0aW9uLmpzXCIpLk9wdGlvbnN9IFthdHRyaWJ1dGlvbk9wdGlvbnNdXG4gKiBPcHRpb25zIGZvciB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvQXR0cmlidXRpb25+QXR0cmlidXRpb259LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb250cm9sL1JvdGF0ZS5qc1wiKS5PcHRpb25zfSBbcm90YXRlT3B0aW9uc10gT3B0aW9uc1xuICogZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3pvb21dIEluY2x1ZGUge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29udHJvbC9ab29tLmpzXCIpLk9wdGlvbnN9IFt6b29tT3B0aW9uc10gT3B0aW9ucyBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LlxuICogQGFwaVxuICovXG4vKipcbiAqIFNldCBvZiBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFVubGVzcyBjb25maWd1cmVkIG90aGVyd2lzZSxcbiAqIHRoaXMgcmV0dXJucyBhIGNvbGxlY3Rpb24gY29udGFpbmluZyBhbiBpbnN0YW5jZSBvZiBlYWNoIG9mIHRoZSBmb2xsb3dpbmdcbiAqIGNvbnRyb2xzOlxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zfSBbb3B0X29wdGlvbnNdXG4gKiBEZWZhdWx0cyBvcHRpb25zLlxuICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAqIENvbnRyb2xzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMob3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICB2YXIgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICAgIHZhciB6b29tQ29udHJvbCA9IG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tIDogdHJ1ZTtcbiAgICBpZiAoem9vbUNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbHMucHVzaChuZXcgWm9vbShvcHRpb25zLnpvb21PcHRpb25zKSk7XG4gICAgfVxuICAgIHZhciByb3RhdGVDb250cm9sID0gb3B0aW9ucy5yb3RhdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlIDogdHJ1ZTtcbiAgICBpZiAocm90YXRlQ29udHJvbCkge1xuICAgICAgICBjb250cm9scy5wdXNoKG5ldyBSb3RhdGUob3B0aW9ucy5yb3RhdGVPcHRpb25zKSk7XG4gICAgfVxuICAgIHZhciBhdHRyaWJ1dGlvbkNvbnRyb2wgPSBvcHRpb25zLmF0dHJpYnV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF0dHJpYnV0aW9uIDogdHJ1ZTtcbiAgICBpZiAoYXR0cmlidXRpb25Db250cm9sKSB7XG4gICAgICAgIGNvbnRyb2xzLnB1c2gobmV3IEF0dHJpYnV0aW9uKG9wdGlvbnMuYXR0cmlidXRpb25PcHRpb25zKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9scztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2wuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uXG4gKi9cbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmltcG9ydCBEcmFnUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyc7XG5pbXBvcnQgRHJhZ1JvdGF0ZSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMnO1xuaW1wb3J0IERyYWdab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMnO1xuaW1wb3J0IEtleWJvYXJkUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMnO1xuaW1wb3J0IEtleWJvYXJkWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyc7XG5pbXBvcnQgS2luZXRpYyBmcm9tICcuL0tpbmV0aWMuanMnO1xuaW1wb3J0IE1vdXNlV2hlZWxab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMnO1xuaW1wb3J0IFBpbmNoUm90YXRlIGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMnO1xuaW1wb3J0IFBpbmNoWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL1BpbmNoWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERvdWJsZUNsaWNrWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ0FuZERyb3AgfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdBbmREcm9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ0JveCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ0JveC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYWdQYW4gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdQYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnUm90YXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnUm90YXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1JvdGF0ZUFuZFpvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVBbmRab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1pvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhdyB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV4dGVudCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRXh0ZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW50ZXJhY3Rpb24gfSBmcm9tICcuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRQYW4gfSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkUGFuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb2RpZnkgfSBmcm9tICcuL2ludGVyYWN0aW9uL01vZGlmeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1vdXNlV2hlZWxab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpbmNoUm90YXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpbmNoWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9pbnRlciB9IGZyb20gJy4vaW50ZXJhY3Rpb24vUG9pbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlbGVjdCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU2VsZWN0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU25hcCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU25hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRyYW5zbGF0ZSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vVHJhbnNsYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRGVmYXVsdHNPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbHRTaGlmdERyYWdSb3RhdGU9dHJ1ZV0gV2hldGhlciBBbHQtU2hpZnQtZHJhZyByb3RhdGUgaXNcbiAqIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gSW50ZXJhY3Qgb25seSB3aGVuIHRoZSBtYXAgaGFzIHRoZVxuICogZm9jdXMuIFRoaXMgYWZmZWN0cyB0aGUgYE1vdXNlV2hlZWxab29tYCBhbmQgYERyYWdQYW5gIGludGVyYWN0aW9ucyBhbmQgaXNcbiAqIHVzZWZ1bCB3aGVuIHBhZ2Ugc2Nyb2xsIGlzIGRlc2lyZWQgZm9yIG1hcHMgdGhhdCBkbyBub3QgaGF2ZSB0aGUgYnJvd3NlcidzXG4gKiBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RvdWJsZUNsaWNrWm9vbT10cnVlXSBXaGV0aGVyIGRvdWJsZSBjbGljayB6b29tIGlzXG4gKiBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBba2V5Ym9hcmQ9dHJ1ZV0gV2hldGhlciBrZXlib2FyZCBpbnRlcmFjdGlvbiBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbW91c2VXaGVlbFpvb209dHJ1ZV0gV2hldGhlciBtb3VzZXdoZWVsIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NoaWZ0RHJhZ1pvb209dHJ1ZV0gV2hldGhlciBTaGlmdC1kcmFnIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RyYWdQYW49dHJ1ZV0gV2hldGhlciBkcmFnIHBhbiBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGluY2hSb3RhdGU9dHJ1ZV0gV2hldGhlciBwaW5jaCByb3RhdGUgaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpbmNoWm9vbT10cnVlXSBXaGV0aGVyIHBpbmNoIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbURlbHRhXSBab29tIGxldmVsIGRlbHRhIHdoZW4gdXNpbmcga2V5Ym9hcmQgb3IgZG91YmxlIGNsaWNrIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21EdXJhdGlvbl0gRHVyYXRpb24gb2YgdGhlIHpvb20gYW5pbWF0aW9uIGluXG4gKiBtaWxsaXNlY29uZHMuXG4gKi9cbi8qKlxuICogU2V0IG9mIGludGVyYWN0aW9ucyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFNwZWNpZmljIGludGVyYWN0aW9ucyBjYW4gYmVcbiAqIGV4Y2x1ZGVkIGJ5IHNldHRpbmcgdGhlIGFwcHJvcHJpYXRlIG9wdGlvbiB0byBmYWxzZSBpbiB0aGUgY29uc3RydWN0b3JcbiAqIG9wdGlvbnMsIGJ1dCB0aGUgb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBpcyBmaXhlZC4gIElmIHlvdSB3YW50IHRvIHNwZWNpZnlcbiAqIGEgZGlmZmVyZW50IG9yZGVyIGZvciBpbnRlcmFjdGlvbnMsIHlvdSB3aWxsIG5lZWQgdG8gY3JlYXRlIHlvdXIgb3duXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9ufSBpbnN0YW5jZXMgYW5kIGluc2VydFxuICogdGhlbSBpbnRvIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSBpbiB0aGUgb3JkZXIgeW91IHdhbnRcbiAqIGJlZm9yZSBjcmVhdGluZyB5b3VyIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaW5zdGFuY2UuIENoYW5naW5nIHRoZSBvcmRlciBjYW5cbiAqIGJlIG9mIGludGVyZXN0IGlmIHRoZSBldmVudCBwcm9wYWdhdGlvbiBuZWVkcyB0byBiZSBzdG9wcGVkIGF0IGEgcG9pbnQuXG4gKiBUaGUgZGVmYXVsdCBzZXQgb2YgaW50ZXJhY3Rpb25zLCBpbiBzZXF1ZW5jZSwgaXM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZX5EcmFnUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbX5Eb3VibGVDbGlja1pvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbn5EcmFnUGFufVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlflBpbmNoUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoWm9vbX5QaW5jaFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbX5Nb3VzZVdoZWVsWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX1cbiAqXG4gKiBAcGFyYW0ge0RlZmF1bHRzT3B0aW9uc30gW29wdF9vcHRpb25zXSBEZWZhdWx0cyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqIEEgY29sbGVjdGlvbiBvZiBpbnRlcmFjdGlvbnMgdG8gYmUgdXNlZCB3aXRoIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9XG4gKiBjb25zdHJ1Y3RvcidzIGBpbnRlcmFjdGlvbnNgIG9wdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgdmFyIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgdmFyIGtpbmV0aWMgPSBuZXcgS2luZXRpYygtMC4wMDUsIDAuMDUsIDEwMCk7XG4gICAgdmFyIGFsdFNoaWZ0RHJhZ1JvdGF0ZSA9IG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmFsdFNoaWZ0RHJhZ1JvdGF0ZVxuICAgICAgICA6IHRydWU7XG4gICAgaWYgKGFsdFNoaWZ0RHJhZ1JvdGF0ZSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1JvdGF0ZSgpKTtcbiAgICB9XG4gICAgdmFyIGRvdWJsZUNsaWNrWm9vbSA9IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRvdWJsZUNsaWNrWm9vbSA6IHRydWU7XG4gICAgaWYgKGRvdWJsZUNsaWNrWm9vbSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRG91YmxlQ2xpY2tab29tKHtcbiAgICAgICAgICAgIGRlbHRhOiBvcHRpb25zLnpvb21EZWx0YSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgZHJhZ1BhbiA9IG9wdGlvbnMuZHJhZ1BhbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kcmFnUGFuIDogdHJ1ZTtcbiAgICBpZiAoZHJhZ1Bhbikge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1Bhbih7XG4gICAgICAgICAgICBvbkZvY3VzT25seTogb3B0aW9ucy5vbkZvY3VzT25seSxcbiAgICAgICAgICAgIGtpbmV0aWM6IGtpbmV0aWMsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIHBpbmNoUm90YXRlID0gb3B0aW9ucy5waW5jaFJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waW5jaFJvdGF0ZSA6IHRydWU7XG4gICAgaWYgKHBpbmNoUm90YXRlKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBQaW5jaFJvdGF0ZSgpKTtcbiAgICB9XG4gICAgdmFyIHBpbmNoWm9vbSA9IG9wdGlvbnMucGluY2hab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoWm9vbSA6IHRydWU7XG4gICAgaWYgKHBpbmNoWm9vbSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgUGluY2hab29tKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIga2V5Ym9hcmQgPSBvcHRpb25zLmtleWJvYXJkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleWJvYXJkIDogdHJ1ZTtcbiAgICBpZiAoa2V5Ym9hcmQpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IEtleWJvYXJkUGFuKCkpO1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgS2V5Ym9hcmRab29tKHtcbiAgICAgICAgICAgIGRlbHRhOiBvcHRpb25zLnpvb21EZWx0YSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgbW91c2VXaGVlbFpvb20gPSBvcHRpb25zLm1vdXNlV2hlZWxab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1vdXNlV2hlZWxab29tIDogdHJ1ZTtcbiAgICBpZiAobW91c2VXaGVlbFpvb20pIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IE1vdXNlV2hlZWxab29tKHtcbiAgICAgICAgICAgIG9uRm9jdXNPbmx5OiBvcHRpb25zLm9uRm9jdXNPbmx5LFxuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBzaGlmdERyYWdab29tID0gb3B0aW9ucy5zaGlmdERyYWdab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNoaWZ0RHJhZ1pvb20gOiB0cnVlO1xuICAgIGlmIChzaGlmdERyYWdab29tKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnWm9vbSh7XG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGludGVyYWN0aW9ucztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9UaWxlUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgUFJFTE9BRDogJ3ByZWxvYWQnLFxuICAgIFVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SOiAndXNlSW50ZXJpbVRpbGVzT25FcnJvcicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVByb3BlcnR5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVRpbGVcbiAqL1xuaW1wb3J0IExheWVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IFRpbGVQcm9wZXJ0eSBmcm9tICcuL1RpbGVQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9vYmouanMnO1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgJ2NoYW5nZTpzb3VyY2UnfCdjaGFuZ2U6cHJlbG9hZCd8J2NoYW5nZTp1c2VJbnRlcmltVGlsZXNPbkVycm9yJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAnY2hhbmdlOnNvdXJjZSd8J2NoYW5nZTpwcmVsb2FkJ3wnY2hhbmdlOnVzZUludGVyaW1UaWxlc09uRXJyb3InfGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBSZXR1cm4+fSBCYXNlVGlsZUxheWVyT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwcmVsb2FkPTBdIFByZWxvYWQuIExvYWQgbG93LXJlc29sdXRpb24gdGlsZXMgdXAgdG8gYHByZWxvYWRgIGxldmVscy4gYDBgXG4gKiBtZWFucyBubyBwcmVsb2FkaW5nLlxuICogQHByb3BlcnR5IHtUaWxlU291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2Uge0BsaW5rIGltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyIG1hcC5hZGRMYXllcigpfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUludGVyaW1UaWxlc09uRXJyb3I9dHJ1ZV0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvciBsYXllciBzb3VyY2VzIHRoYXQgcHJvdmlkZSBwcmUtcmVuZGVyZWQsIHRpbGVkIGltYWdlcyBpbiBncmlkcyB0aGF0IGFyZVxuICogb3JnYW5pemVkIGJ5IHpvb20gbGV2ZWxzIGZvciBzcGVjaWZpYyByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyPFRpbGVTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG52YXIgQmFzZVRpbGVMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVRpbGVMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM8VGlsZVNvdXJjZVR5cGU+fSBbb3B0X29wdGlvbnNdIFRpbGUgbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVGlsZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgYmFzZU9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMucHJlbG9hZDtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3I7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0Jhc2VUaWxlTGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgX3RoaXMuc2V0UHJlbG9hZChvcHRpb25zLnByZWxvYWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJlbG9hZCA6IDApO1xuICAgICAgICBfdGhpcy5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvclxuICAgICAgICAgICAgOiB0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVGlsZUxheWVyLnByb3RvdHlwZS5nZXRQcmVsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuUFJFTE9BRCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcmVsb2FkIFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLnNldFByZWxvYWQgPSBmdW5jdGlvbiAocHJlbG9hZCkge1xuICAgICAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuUFJFTE9BRCwgcHJlbG9hZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVGlsZUxheWVyLnByb3RvdHlwZS5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yID0gZnVuY3Rpb24gKHVzZUludGVyaW1UaWxlc09uRXJyb3IpIHtcbiAgICAgICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SLCB1c2VJbnRlcmltVGlsZXNPbkVycm9yKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlVGlsZUxheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZVRpbGVMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VUaWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSAnLi4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi4vc291cmNlL1N0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gTGF5ZXJUeXBlXG4gKi9cbnZhciBMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMYXllclJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TGF5ZXJUeXBlfSBsYXllciBMYXllci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllclJlbmRlcmVyKGxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyA9IF90aGlzLmhhbmRsZUltYWdlQ2hhbmdlXy5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0xheWVyVHlwZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyXyA9IGxheWVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cFwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzIGxheWVyIGxldmVsIGhpdCBkZXRlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLmRlZmF1bHQ+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgKiBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dm9pZH0gSWYgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmUgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZGVkVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24gKHRpbGVzLCB6b29tLCB0aWxlKSB7XG4gICAgICAgIGlmICghdGlsZXNbem9vbV0pIHtcbiAgICAgICAgICAgIHRpbGVzW3pvb21dID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGlsZXNbem9vbV1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBhZGRzIGxvYWRlZCB0aWxlcyB0byB0aGUgdGlsZSBsb29rdXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIG9mIHRoZSB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICAgICAqICAgICBjYWxsZWQgd2l0aCBhIHpvb20gbGV2ZWwgYW5kIGEgdGlsZSByYW5nZSB0byBhZGQgbG9hZGVkIHRpbGVzIHRvIHRoZSBsb29rdXAuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIgPSBmdW5jdGlvbiAoc291cmNlLCBwcm9qZWN0aW9uLCB0aWxlcykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIHJhbmdlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgICAgICogQHRoaXMge0xheWVyUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoem9vbSwgdGlsZVJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmxvYWRlZFRpbGVDYWxsYmFjay5iaW5kKHRoaXMsIHRpbGVzLCB6b29tKTtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UuZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgem9vbSwgdGlsZVJhbmdlLCBjYWxsYmFjayk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl9IFRoZSByZXN1bHQuICBJZiB0aGVyZSBpcyBubyBkYXRhIGF0IHRoZSBwaXhlbFxuICAgICAqICAgIGxvY2F0aW9uLCBudWxsIHdpbGwgYmUgcmV0dXJuZWQuICBJZiB0aGVyZSBpcyBkYXRhLCBidXQgcGl4ZWwgdmFsdWVzIGNhbm5vdCBiZVxuICAgICAqICAgIHJldHVybmVkLCBhbmQgZW1wdHkgYXJyYXkgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXREYXRhQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7TGF5ZXJUeXBlfSBMYXllci5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlRm9udHNDaGFuZ2VkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIGNoYW5nZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUltYWdlQ2hhbmdlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLmRlZmF1bHR9ICovIChldmVudC50YXJnZXQpO1xuICAgICAgICBpZiAoaW1hZ2UuZ2V0U3RhdGUoKSA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgICAqIGxpc3RlbmVyIGlmIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlQmFzZS5qc1wiKS5kZWZhdWx0fSBpbWFnZSBJbWFnZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZEltYWdlID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKGltYWdlU3RhdGUgIT0gSW1hZ2VTdGF0ZS5MT0FERUQgJiYgaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgaW1hZ2UubG9hZCgpO1xuICAgICAgICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlLmdldFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVySWZSZWFkeUFuZFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiBsYXllci5nZXRTb3VyY2VTdGF0ZSgpID09IFNvdXJjZVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMYXllclJlbmRlcmVyO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgZGVmYXVsdCBMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlU3RhdGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgSURMRTogMCxcbiAgICBMT0FESU5HOiAxLFxuICAgIExPQURFRDogMixcbiAgICBFUlJPUjogMyxcbiAgICBFTVBUWTogNCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVN0YXRlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL0xheWVyXG4gKi9cbmltcG9ydCBMYXllclJlbmRlcmVyIGZyb20gJy4uL0xheWVyLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudCBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnQuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi8uLi9jb2xvci5qcyc7XG5pbXBvcnQgeyBjb250YWluc0Nvb3JkaW5hdGUsIGdldEJvdHRvbUxlZnQsIGdldEJvdHRvbVJpZ2h0LCBnZXRUb3BMZWZ0LCBnZXRUb3BSaWdodCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbi8qKlxuICogQGFic3RyYWN0XG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyUmVuZGVyZXI8TGF5ZXJUeXBlPn1cbiAqL1xudmFyIENhbnZhc0xheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0xheWVyUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtMYXllclR5cGV9IGxheWVyIExheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0xheWVyUmVuZGVyZXIobGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXBvcmFyeSB0cmFuc2Zvcm0uICBUaGUgdmFsdWVzIGluIHRoaXMgdHJhbnNmb3JtIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gYVxuICAgICAgICAgKiBmdW5jdGlvbiB0aGF0IHNldHMgdGhlIHZhbHVlcy5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRlbXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmVkIHBpeGVscyB0byB2aWV3cG9ydCBDU1MgcGl4ZWxzLiAgVGhpcyB0cmFuc2Zvcm0gbXVzdFxuICAgICAgICAgKiBiZSBzZXQgd2hlbiByZW5kZXJpbmcgYSBmcmFtZSBhbmQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZnVuY3Rpb25zIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciB2aWV3cG9ydCBDU1MgcGl4ZWxzIHRvIHJlbmRlcmVkIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgICAgICogYmUgc2V0IHdoZW4gcmVuZGVyaW5nIGEgZnJhbWUgYW5kIG1heSBiZSB1c2VkIGJ5IG90aGVyIGZ1bmN0aW9ucyBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxDb250ZXh0XyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL1BsdWdnYWJsZU1hcC5qcycpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEJhY2tncm91bmQgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbGF5ZXIuZ2V0QmFja2dyb3VuZCgpO1xuICAgICAgICBpZiAodHlwZW9mIGJhY2tncm91bmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSBiYWNrZ3JvdW5kKGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYWNrZ3JvdW5kIHx8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJlbmRlcmluZyBjb250YWluZXIgZnJvbSBhbiBleGlzdGluZyB0YXJnZXQsIGlmIGNvbXBhdGlibGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFBvdGVudGlhbCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm0gQ1NTIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0X2JhY2tncm91bmRDb2xvcl0gQmFja2dyb3VuZCBjb2xvci5cbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS51c2VDb250YWluZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCB0cmFuc2Zvcm0sIG9wYWNpdHksIG9wdF9iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgdmFyIGxheWVyQ2xhc3NOYW1lID0gdGhpcy5nZXRMYXllcigpLmdldENsYXNzTmFtZSgpO1xuICAgICAgICB2YXIgY29udGFpbmVyLCBjb250ZXh0O1xuICAgICAgICBpZiAodGFyZ2V0ICYmXG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NOYW1lID09PSBsYXllckNsYXNzTmFtZSAmJlxuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLm9wYWNpdHkgPT09ICcnICYmXG4gICAgICAgICAgICBvcGFjaXR5ID09PSAxICYmXG4gICAgICAgICAgICAoIW9wdF9iYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgICAgICAgICAodGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciAmJlxuICAgICAgICAgICAgICAgICAgICBlcXVhbHMoYXNBcnJheSh0YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yKSwgYXNBcnJheShvcHRfYmFja2dyb3VuZENvbG9yKSkpKSkge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRhcmdldC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPT09IHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gQ29udGFpbmVyIG9mIHRoZSBwcmV2aW91cyBsYXllciByZW5kZXJlciBjYW4gYmUgdXNlZC5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gdGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgICAgICAgLy8gUHJldmlvdXNseSByZXVzZWQgY29udGFpbmVyIGNhbm5vdCBiZSB1c2VkIGFueSBtb3JlLlxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gbGF5ZXJDbGFzc05hbWU7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBjb250YWluZXIuc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgIGlmIChvcHRfYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZENvbG9yID0gb3B0X2JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoKTtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgICAgc3R5bGUgPSBjYW52YXMuc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCBsZWZ0JztcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IENsaXAgZXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jbGlwVW5yb3RhdGVkID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUsIGV4dGVudCkge1xuICAgICAgICB2YXIgdG9wTGVmdCA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICAgICAgdmFyIHRvcFJpZ2h0ID0gZ2V0VG9wUmlnaHQoZXh0ZW50KTtcbiAgICAgICAgdmFyIGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICAgICAgdmFyIGJvdHRvbUxlZnQgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcExlZnQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCB0b3BSaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tTGVmdCk7XG4gICAgICAgIHZhciBpbnZlcnRlZCA9IHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgdG9wTGVmdCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCB0b3BSaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21SaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21MZWZ0KTtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKE1hdGgucm91bmQodG9wTGVmdFswXSksIE1hdGgucm91bmQodG9wTGVmdFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKHRvcFJpZ2h0WzBdKSwgTWF0aC5yb3VuZCh0b3BSaWdodFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbVJpZ2h0WzBdKSwgTWF0aC5yb3VuZChib3R0b21SaWdodFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMF0pLCBNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMV0pKTtcbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmRpc3BhdGNoUmVuZGVyRXZlbnRfID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICBpZiAobGF5ZXIuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGxheWVyLmRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50XyhSZW5kZXJFdmVudFR5cGUuUFJFUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucG9zdFJlbmRlciA9IGZ1bmN0aW9uIChjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nIHRvIGFuIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHJvdGF0ZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBPZmZzZXQgb24gdGhlIHgtYXhpcyBpbiB2aWV3IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFJlbmRlclRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBwaXhlbFJhdGlvLCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXRYKSB7XG4gICAgICAgIHZhciBkeDEgPSB3aWR0aCAvIDI7XG4gICAgICAgIHZhciBkeTEgPSBoZWlnaHQgLyAyO1xuICAgICAgICB2YXIgc3ggPSBwaXhlbFJhdGlvIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN5ID0gLXN4O1xuICAgICAgICB2YXIgZHgyID0gLWNlbnRlclswXSArIG9mZnNldFg7XG4gICAgICAgIHZhciBkeTIgPSAtY2VudGVyWzFdO1xuICAgICAgICByZXR1cm4gY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIGR4MSwgZHkxLCBzeCwgc3ksIC1yb3RhdGlvbiwgZHgyLCBkeTIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheX0gVGhlIHJlc3VsdC4gIElmIHRoZXJlIGlzIG5vIGRhdGEgYXQgdGhlIHBpeGVsXG4gICAgICogICAgbG9jYXRpb24sIG51bGwgd2lsbCBiZSByZXR1cm5lZC4gIElmIHRoZXJlIGlzIGRhdGEsIGJ1dCBwaXhlbCB2YWx1ZXMgY2Fubm90IGJlXG4gICAgICogICAgcmV0dXJuZWQsIGFuZCBlbXB0eSBhcnJheSB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldERhdGFBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UpIHtcbiAgICAgICAgdmFyIHJlbmRlclBpeGVsID0gYXBwbHlUcmFuc2Zvcm0odGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgbGF5ZXJFeHRlbnQgPSBsYXllci5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyQ29vcmRpbmF0ZSA9IGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICAgICAgLyoqIGdldCBvbmx5IGRhdGEgaW5zaWRlIG9mIHRoZSBsYXllciBleHRlbnQgKi9cbiAgICAgICAgICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKGxheWVyRXh0ZW50LCByZW5kZXJDb29yZGluYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChyZW5kZXJQaXhlbFswXSk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5yb3VuZChyZW5kZXJQaXhlbFsxXSk7XG4gICAgICAgIHZhciBwaXhlbENvbnRleHQgPSB0aGlzLnBpeGVsQ29udGV4dF87XG4gICAgICAgIGlmICghcGl4ZWxDb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcGl4ZWxDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIHBpeGVsQ2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgICAgIHBpeGVsQ2FudmFzLmhlaWdodCA9IDE7XG4gICAgICAgICAgICBwaXhlbENvbnRleHQgPSBwaXhlbENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgdGhpcy5waXhlbENvbnRleHRfID0gcGl4ZWxDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHBpeGVsQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgMSwgMSk7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGl4ZWxDb250ZXh0LmRyYXdJbWFnZShjb250ZXh0LmNhbnZhcywgeCwgeSwgMSwgMSwgMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICBkYXRhID0gcGl4ZWxDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PT0gJ1NlY3VyaXR5RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgLy8gdGFpbnRlZCBjYW52YXMsIHdlIGFzc3VtZSB0aGVyZSBpcyBkYXRhIGF0IHRoZSBnaXZlbiBwaXhlbCAoYWx0aG91Z2ggdGhlcmUgbWlnaHQgbm90IGJlKVxuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxDb250ZXh0XyA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVszXSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbn0oTGF5ZXJSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUmFuZ2VcbiAqL1xuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY29udGlndW91cyBibG9jayBvZiB0aWxlcy4gIEEgdGlsZSByYW5nZSBpcyBzcGVjaWZpZWRcbiAqIGJ5IGl0cyBtaW4vbWF4IHRpbGUgY29vcmRpbmF0ZXMgYW5kIGlzIGluY2x1c2l2ZSBvZiBjb29yZGluYXRlcy5cbiAqL1xudmFyIFRpbGVSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnNYWSh0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWluc1RpbGVSYW5nZSA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1pblggJiZcbiAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhYIDw9IHRoaXMubWF4WCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICAgICAgICB0aWxlUmFuZ2UubWF4WSA8PSB0aGlzLm1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgY29vcmRpbmF0ZS5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zWFkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YIDw9IHggJiYgeCA8PSB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDw9IHkgJiYgeSA8PSB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRXF1YWxzLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRpbGVSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMubWluWCA9PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZID09IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICAgICAgICB0aGlzLm1heFggPT0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgICAgICAgIHRoaXMubWF4WSA9PSB0aWxlUmFuZ2UubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAodGlsZVJhbmdlKSB7XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWluWCA8IHRoaXMubWluWCkge1xuICAgICAgICAgICAgdGhpcy5taW5YID0gdGlsZVJhbmdlLm1pblg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVSYW5nZS5tYXhYID4gdGhpcy5tYXhYKSB7XG4gICAgICAgICAgICB0aGlzLm1heFggPSB0aWxlUmFuZ2UubWF4WDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZVJhbmdlLm1pblkgPCB0aGlzLm1pblkpIHtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IHRpbGVSYW5nZS5taW5ZO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWF4WSA+IHRoaXMubWF4WSkge1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gdGlsZVJhbmdlLm1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhZIC0gdGhpcy5taW5ZICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmdldFdpZHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhYIC0gdGhpcy5taW5YICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJbnRlcnNlY3RzLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgICAgICAgIHRoaXMubWF4WCA+PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5tYXhZICYmXG4gICAgICAgICAgICB0aGlzLm1heFkgPj0gdGlsZVJhbmdlLm1pblkpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVSYW5nZTtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7VGlsZVJhbmdlfSBbdGlsZVJhbmdlXSBUaWxlUmFuZ2UuXG4gKiBAcmV0dXJuIHtUaWxlUmFuZ2V9IFRpbGUgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZLCB0aWxlUmFuZ2UpIHtcbiAgICBpZiAodGlsZVJhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGlsZVJhbmdlLm1pblggPSBtaW5YO1xuICAgICAgICB0aWxlUmFuZ2UubWF4WCA9IG1heFg7XG4gICAgICAgIHRpbGVSYW5nZS5taW5ZID0gbWluWTtcbiAgICAgICAgdGlsZVJhbmdlLm1heFkgPSBtYXhZO1xuICAgICAgICByZXR1cm4gdGlsZVJhbmdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVGlsZVJhbmdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVJhbmdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvY29tbW9uXG4gKi9cbi8qKlxuICogQ29udGV4dCBvcHRpb25zIHRvIGRpc2FibGUgaW1hZ2Ugc21vb3RoaW5nLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgPSB7XG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiBmYWxzZSxcbiAgICBtc0ltYWdlU21vb3RoaW5nRW5hYmxlZDogZmFsc2UsXG59O1xuLyoqXG4gKiBDb250ZXh0IG9wdGlvbnMgdG8gZW5hYmxlIGltYWdlIHNtb290aGluZy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgSU1BR0VfU01PT1RISU5HX0VOQUJMRUQgPSB7XG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiB0cnVlLFxuICAgIG1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkOiB0cnVlLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0xheWVyUmVuZGVyZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgVGlsZVJhbmdlIGZyb20gJy4uLy4uL1RpbGVSYW5nZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uLy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQsIElNQUdFX1NNT09USElOR19FTkFCTEVEIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UsIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFbXB0eSwgZXF1YWxzLCBnZXRJbnRlcnNlY3Rpb24sIGdldFRvcExlZnQsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNzc09wYWNpdHkgfSBmcm9tICcuLi8uLi9jc3MuanMnO1xuaW1wb3J0IHsgZnJvbVVzZXJFeHRlbnQgfSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IHRvU3RyaW5nIGFzIHRvVHJhbnNmb3JtU3RyaW5nIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB0aWxlIGxheWVycy5cbiAqIEBhcGlcbiAqL1xudmFyIENhbnZhc1RpbGVMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVMYXllciBUaWxlIGxheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1RpbGVMYXllclJlbmRlcmVyKHRpbGVMYXllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0aWxlTGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlZCBleHRlbnQgaGFzIGNoYW5nZWQgc2luY2UgdGhlIHByZXZpb3VzIGByZW5kZXJGcmFtZSgpYCBjYWxsXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW50Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRQaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFByb2plY3Rpb24gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXZpc2lvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRUaWxlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uZXdUaWxlc18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wVGlsZVJhbmdlXyA9IG5ldyBUaWxlUmFuZ2UoMCwgMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBpcyBkcmF3YWJsZS5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaXNEcmF3YWJsZVRpbGUgPSBmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICB2YXIgdXNlSW50ZXJpbVRpbGVzT25FcnJvciA9IHRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCk7XG4gICAgICAgIHJldHVybiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkgfHxcbiAgICAgICAgICAgICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SICYmICF1c2VJbnRlcmltVGlsZXNPbkVycm9yKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVNvdXJjZSA9IHRpbGVMYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgdmFyIHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpZiAoIXRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzZUludGVyaW1UaWxlc09uRXJyb3IgaXMgZmFsc2UsIHdlIGNvbnNpZGVyIHRoZSBlcnJvciB0aWxlIGFzIGxvYWRlZC5cbiAgICAgICAgICAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FERUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlsZUxheWVyLmdldFByZWxvYWQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVsb2FkZWQgdGlsZXMgZm9yIGxvd2VyIHJlc29sdXRpb25zIG1pZ2h0IGhhdmUgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAgICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhd2FibGVUaWxlKHRpbGUpKSB7XG4gICAgICAgICAgICB0aWxlID0gdGlsZS5nZXRJbnRlcmltVGlsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHZvaWR9IElmIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5sb2FkZWRUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAodGlsZXMsIHpvb20sIHRpbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmxvYWRlZFRpbGVDYWxsYmFjay5jYWxsKHRoaXMsIHRpbGVzLCB6b29tLCB0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wcmVwYXJlRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdmFyIHRpbGVTb3VyY2UgPSB0aWxlTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgIHZhciBzb3VyY2VSZXZpc2lvbiA9IHRpbGVTb3VyY2UuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gdGlsZVNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHZhciB6ID0gdGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24odmlld1Jlc29sdXRpb24sIHRpbGVTb3VyY2UuekRpcmVjdGlvbik7XG4gICAgICAgIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIGxheWVyRXh0ZW50ID0gbGF5ZXJTdGF0ZS5leHRlbnQgJiYgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pO1xuICAgICAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgICAgICAgIGV4dGVudCA9IGdldEludGVyc2VjdGlvbihleHRlbnQsIGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCBwcm9qZWN0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbGVQaXhlbFJhdGlvID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgICAgICAgLy8gZGVzaXJlZCBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXMgaW4gcGl4ZWxzXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogdGlsZVBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMV0gKiB0aWxlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgdmFyIHNpemUgPSBNYXRoLnJvdW5kKE1hdGguc3FydCh3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0KSk7XG4gICAgICAgICAgICB3aWR0aCA9IHNpemU7XG4gICAgICAgICAgICBoZWlnaHQgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9ICh0aWxlUmVzb2x1dGlvbiAqIHdpZHRoKSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGR5ID0gKHRpbGVSZXNvbHV0aW9uICogaGVpZ2h0KSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGNhbnZhc0V4dGVudCA9IFtcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMF0gLSBkeCxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMV0gLSBkeSxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMF0gKyBkeCxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMV0gKyBkeSxcbiAgICAgICAgXTtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aWxlc1RvRHJhd0J5WiA9IHt9O1xuICAgICAgICB0aWxlc1RvRHJhd0J5Wlt6XSA9IHt9O1xuICAgICAgICB2YXIgZmluZExvYWRlZFRpbGVzID0gdGhpcy5jcmVhdGVMb2FkZWRUaWxlRmluZGVyKHRpbGVTb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzVG9EcmF3QnlaKTtcbiAgICAgICAgdmFyIHRtcEV4dGVudCA9IHRoaXMudG1wRXh0ZW50O1xuICAgICAgICB2YXIgdG1wVGlsZVJhbmdlID0gdGhpcy50bXBUaWxlUmFuZ2VfO1xuICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciB4ID0gdGlsZVJhbmdlLm1pblg7IHggPD0gdGlsZVJhbmdlLm1heFg7ICsreCkge1xuICAgICAgICAgICAgZm9yICh2YXIgeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMuZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RyYXdhYmxlVGlsZSh0aWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVzVG9EcmF3QnlaW3pdW3RpbGUudGlsZUNvb3JkLnRvU3RyaW5nKCldID0gdGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpblRyYW5zaXRpb24gPSB0aWxlLmluVHJhbnNpdGlvbih1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5ld1RpbGVzXyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpblRyYW5zaXRpb24gfHwgdGhpcy5yZW5kZXJlZFRpbGVzLmluZGV4T2YodGlsZSkgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3VGlsZXNfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGxvb2sgZm9yIGFsdCB0aWxlcyBpZiBhbHBoYSBpcyAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUaWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSh0aWxlLnRpbGVDb29yZCwgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICAgICAgICAgIHZhciBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVGlsZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBmaW5kTG9hZGVkVGlsZXMoeiArIDEsIGNoaWxkVGlsZVJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UodGlsZS50aWxlQ29vcmQsIGZpbmRMb2FkZWRUaWxlcywgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzU2NhbGUgPSB0aWxlUmVzb2x1dGlvbiAvIHZpZXdSZXNvbHV0aW9uO1xuICAgICAgICAvLyBzZXQgZm9yd2FyZCBhbmQgaW52ZXJzZSBwaXhlbCB0cmFuc2Zvcm1zXG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy5waXhlbFRyYW5zZm9ybSwgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMiwgZnJhbWVTdGF0ZS5zaXplWzFdIC8gMiwgMSAvIHRpbGVQaXhlbFJhdGlvLCAxIC8gdGlsZVBpeGVsUmF0aW8sIHJvdGF0aW9uLCAtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMik7XG4gICAgICAgIHZhciBjYW52YXNUcmFuc2Zvcm0gPSB0b1RyYW5zZm9ybVN0cmluZyh0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy51c2VDb250YWluZXIodGFyZ2V0LCBjYW52YXNUcmFuc2Zvcm0sIGxheWVyU3RhdGUub3BhY2l0eSwgdGhpcy5nZXRCYWNrZ3JvdW5kKGZyYW1lU3RhdGUpKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgbWFrZUludmVyc2UodGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuICAgICAgICAvLyBzZXQgc2NhbGUgdHJhbnNmb3JtIGZvciBjYWxjdWxhdGluZyB0aWxlIHBvc2l0aW9ucyBvbiB0aGUgY2FudmFzXG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy50ZW1wVHJhbnNmb3JtLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIsIGNhbnZhc1NjYWxlLCBjYW52YXNTY2FsZSwgMCwgLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIpO1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllckV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aWxlU291cmNlLmdldEludGVycG9sYXRlKCkpIHtcbiAgICAgICAgICAgIGFzc2lnbihjb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlUmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgICAgICB2YXIgenMgPSBPYmplY3Qua2V5cyh0aWxlc1RvRHJhd0J5WikubWFwKE51bWJlcik7XG4gICAgICAgIHpzLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gICAgICAgIHZhciBjbGlwcywgY2xpcFpzLCBjdXJyZW50Q2xpcDtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUub3BhY2l0eSA9PT0gMSAmJlxuICAgICAgICAgICAgKCF0aGlzLmNvbnRhaW5lclJldXNlZCB8fFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2UuZ2V0T3BhcXVlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24pKSkge1xuICAgICAgICAgICAgenMgPSB6cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGlwcyA9IFtdO1xuICAgICAgICAgICAgY2xpcFpzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHpzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFogPSB6c1tpXTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGlsZVBpeGVsU2l6ZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsU2l6ZShjdXJyZW50WiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgICAgICB2YXIgY3VycmVudFJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKGN1cnJlbnRaKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2NhbGUgPSBjdXJyZW50UmVzb2x1dGlvbiAvIHRpbGVSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIGR4XzEgPSBjdXJyZW50VGlsZVBpeGVsU2l6ZVswXSAqIGN1cnJlbnRTY2FsZSAqIGNhbnZhc1NjYWxlO1xuICAgICAgICAgICAgdmFyIGR5XzEgPSBjdXJyZW50VGlsZVBpeGVsU2l6ZVsxXSAqIGN1cnJlbnRTY2FsZSAqIGNhbnZhc1NjYWxlO1xuICAgICAgICAgICAgdmFyIG9yaWdpblRpbGVDb29yZCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihnZXRUb3BMZWZ0KGNhbnZhc0V4dGVudCksIGN1cnJlbnRaKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5UaWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KG9yaWdpblRpbGVDb29yZCk7XG4gICAgICAgICAgICB2YXIgb3JpZ2luXzEgPSBhcHBseVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIFtcbiAgICAgICAgICAgICAgICAodGlsZVBpeGVsUmF0aW8gKiAob3JpZ2luVGlsZUV4dGVudFswXSAtIGNhbnZhc0V4dGVudFswXSkpIC9cbiAgICAgICAgICAgICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgKHRpbGVQaXhlbFJhdGlvICogKGNhbnZhc0V4dGVudFszXSAtIG9yaWdpblRpbGVFeHRlbnRbM10pKSAvXG4gICAgICAgICAgICAgICAgICAgIHRpbGVSZXNvbHV0aW9uLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB2YXIgdGlsZUd1dHRlciA9IHRpbGVQaXhlbFJhdGlvICogdGlsZVNvdXJjZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgdmFyIHRpbGVzVG9EcmF3ID0gdGlsZXNUb0RyYXdCeVpbY3VycmVudFpdO1xuICAgICAgICAgICAgZm9yICh2YXIgdGlsZUNvb3JkS2V5IGluIHRpbGVzVG9EcmF3KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZXNUb0RyYXdbdGlsZUNvb3JkS2V5XSk7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVDb29yZCA9IHRpbGUudGlsZUNvb3JkO1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlZ2VyIHBvc2l0aW9ucyBhbmQgc2l6ZXMgc28gdGhhdCB0aWxlcyBhbGlnblxuICAgICAgICAgICAgICAgIHZhciB4SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMV0gLSB0aWxlQ29vcmRbMV07XG4gICAgICAgICAgICAgICAgdmFyIG5leHRYID0gTWF0aC5yb3VuZChvcmlnaW5fMVswXSAtICh4SW5kZXggLSAxKSAqIGR4XzEpO1xuICAgICAgICAgICAgICAgIHZhciB5SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMl0gLSB0aWxlQ29vcmRbMl07XG4gICAgICAgICAgICAgICAgdmFyIG5leHRZID0gTWF0aC5yb3VuZChvcmlnaW5fMVsxXSAtICh5SW5kZXggLSAxKSAqIGR5XzEpO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChvcmlnaW5fMVswXSAtIHhJbmRleCAqIGR4XzEpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gTWF0aC5yb3VuZChvcmlnaW5fMVsxXSAtIHlJbmRleCAqIGR5XzEpO1xuICAgICAgICAgICAgICAgIHZhciB3ID0gbmV4dFggLSB4O1xuICAgICAgICAgICAgICAgIHZhciBoID0gbmV4dFkgLSB5O1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0geiA9PT0gY3VycmVudFo7XG4gICAgICAgICAgICAgICAgdmFyIGluVHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gJiYgdGlsZS5nZXRBbHBoYShnZXRVaWQodGhpcyksIGZyYW1lU3RhdGUudGltZSkgIT09IDE7XG4gICAgICAgICAgICAgICAgaWYgKCFpblRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaXBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGlwIG1hc2sgZm9yIHJlZ2lvbnMgaW4gdGhpcyB0aWxlIHRoYXQgYWxyZWFkeSBmaWxsZWQgYnkgYSBoaWdoZXIgeiB0aWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDbGlwID0gW3gsIHksIHggKyB3LCB5LCB4ICsgdywgeSArIGgsIHgsIHkgKyBoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDAsIGlpID0gY2xpcHMubGVuZ3RoOyBpXzEgPCBpaTsgKytpXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeiAhPT0gY3VycmVudFogJiYgY3VycmVudFogPCBjbGlwWnNbaV8xXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcCA9IGNsaXBzW2lfMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGN1cnJlbnRDbGlwWzBdLCBjdXJyZW50Q2xpcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzJdLCBjdXJyZW50Q2xpcFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzZdLCBjdXJyZW50Q2xpcFs3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb2Nrd2lzZSAoaW5uZXIgcmluZykgZm9yIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbNF0sIGNsaXBbNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzJdLCBjbGlwWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBzLnB1c2goY3VycmVudENsaXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFpzLnB1c2goY3VycmVudFopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3VGlsZUltYWdlKHRpbGUsIGZyYW1lU3RhdGUsIHgsIHksIHcsIGgsIHRpbGVHdXR0ZXIsIHRyYW5zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChjbGlwcyAmJiAhaW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMudW5zaGlmdCh0aWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRUaWxlcy5wdXNoKHRpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVzZWRUaWxlcyhmcmFtZVN0YXRlLnVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uID0gc291cmNlUmV2aXNpb247XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uID0gdGlsZVJlc29sdXRpb247XG4gICAgICAgIHRoaXMuZXh0ZW50Q2hhbmdlZCA9XG4gICAgICAgICAgICAhdGhpcy5yZW5kZXJlZEV4dGVudF8gfHwgIWVxdWFscyh0aGlzLnJlbmRlcmVkRXh0ZW50XywgY2FudmFzRXh0ZW50KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjYW52YXNFeHRlbnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZWRQaXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFByb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLm1hbmFnZVRpbGVQeXJhbWlkKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UsIHRpbGVHcmlkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBleHRlbnQsIHosIHRpbGVMYXllci5nZXRQcmVsb2FkKCkpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlRXhwaXJlQ2FjaGUoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSk7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50KSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oY29udGV4dCwgSU1BR0VfU01PT1RISU5HX0VOQUJMRUQpO1xuICAgICAgICBpZiAoY2FudmFzVHJhbnNmb3JtICE9PSBjYW52YXMuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUudHJhbnNmb3JtID0gY2FudmFzVHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcGFjaXR5ID0gY3NzT3BhY2l0eShsYXllclN0YXRlLm9wYWNpdHkpO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGlmIChvcGFjaXR5ICE9PSBjb250YWluZXIuc3R5bGUub3BhY2l0eSkge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IExlZnQgb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVG9wIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoIEhlaWdodCBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIFRpbGUgZ3V0dGVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvbiBBcHBseSBhbiBhbHBoYSB0cmFuc2l0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kcmF3VGlsZUltYWdlID0gZnVuY3Rpb24gKHRpbGUsIGZyYW1lU3RhdGUsIHgsIHksIHcsIGgsIGd1dHRlciwgdHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldFRpbGVJbWFnZSh0aWxlKTtcbiAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgICAgIHZhciBhbHBoYSA9IHRyYW5zaXRpb24gPyB0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA6IDE7XG4gICAgICAgIHZhciBhbHBoYUNoYW5nZWQgPSBhbHBoYSAhPT0gdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgICAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZ3V0dGVyLCBndXR0ZXIsIGltYWdlLndpZHRoIC0gMiAqIGd1dHRlciwgaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlciwgeCwgeSwgdywgaCk7XG4gICAgICAgIGlmIChhbHBoYUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFscGhhICE9PSAxKSB7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLmFuaW1hdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHRpbGUuZW5kVHJhbnNpdGlvbih1aWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2VcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IGNvbnRleHQuY2FudmFzIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgZnJvbSBhIHRpbGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRUaWxlSW1hZ2UgPSBmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICByZXR1cm4gdGlsZS5nZXRJbWFnZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5zY2hlZHVsZUV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpIHtcbiAgICAgICAgaWYgKHRpbGVTb3VyY2UuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHBvc3RSZW5kZXJGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlU291cmNlLCBtYXAsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZVNvdXJjZUtleSBpbiBmcmFtZVN0YXRlLnVzZWRUaWxlcykge1xuICAgICAgICAgICAgICAgICAgICB0aWxlU291cmNlLmV4cGlyZUNhY2hlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24sIGZyYW1lU3RhdGUudXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQobnVsbCwgdGlsZVNvdXJjZSk7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLlBvc3RSZW5kZXJGdW5jdGlvbn0gKi8gKHBvc3RSZW5kZXJGdW5jdGlvbikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PHN0cmluZywgYm9vbGVhbj4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL1RpbGUuanMnKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVVc2VkVGlsZXMgPSBmdW5jdGlvbiAodXNlZFRpbGVzLCB0aWxlU291cmNlLCB0aWxlKSB7XG4gICAgICAgIC8vIEZJWE1FIHNob3VsZCB3ZSB1c2UgdGlsZXNUb0RyYXdCeVogaW5zdGVhZD9cbiAgICAgICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gdXNlZFRpbGVzKSkge1xuICAgICAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3RpbGUuZ2V0S2V5KCldID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aWxlIHB5cmFtaWQuXG4gICAgICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIG51bWJlciBvZiBmdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgdGlsZXMgYXQgdGhlXG4gICAgICogY3VycmVudCB6b29tIGFuZCBsb3dlciB6b29tIGxldmVsczpcbiAgICAgKiAtIHJlZ2lzdGVycyBpZGxlIHRpbGVzIGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMgc28gdGhhdCB0aGV5IGFyZSBub3RcbiAgICAgKiAgIGRpc2NhcmRlZCBieSB0aGUgdGlsZSBxdWV1ZVxuICAgICAqIC0gZW5xdWV1ZXMgbWlzc2luZyB0aWxlc1xuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRaIEN1cnJlbnQgWi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBMb2FkIGxvdyByZXNvbHV0aW9uIHRpbGVzIHVwIHRvICdwcmVsb2FkJyBsZXZlbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtvcHRfdGlsZUNhbGxiYWNrXSBUaWxlIGNhbGxiYWNrLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubWFuYWdlVGlsZVB5cmFtaWQgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSwgdGlsZUdyaWQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGV4dGVudCwgY3VycmVudFosIHByZWxvYWQsIG9wdF90aWxlQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2FudGVkVGlsZXMgPSBmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldO1xuICAgICAgICB2YXIgdGlsZVF1ZXVlID0gZnJhbWVTdGF0ZS50aWxlUXVldWU7XG4gICAgICAgIHZhciBtaW5ab29tID0gdGlsZUdyaWQuZ2V0TWluWm9vbSgpO1xuICAgICAgICB2YXIgdGlsZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIHRpbGUsIHRpbGVSYW5nZSwgdGlsZVJlc29sdXRpb24sIHgsIHksIHo7XG4gICAgICAgIGZvciAoeiA9IG1pblpvb207IHogPD0gY3VycmVudFo7ICsreikge1xuICAgICAgICAgICAgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHosIHRpbGVSYW5nZSk7XG4gICAgICAgICAgICB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgICAgICBmb3IgKHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICAgICAgICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFogLSB6IDw9IHByZWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGlsZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YW50ZWRUaWxlc1t0aWxlLmdldEtleSgpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aWxlUXVldWUuaXNLZXlRdWV1ZWQodGlsZS5nZXRLZXkoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVF1ZXVlLmVucXVldWUoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDZW50ZXIodGlsZS50aWxlQ29vcmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfdGlsZUNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfdGlsZUNhbGxiYWNrKHRpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVNvdXJjZS51c2VUaWxlKHosIHgsIHksIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbGVTb3VyY2UudXBkYXRlQ2FjaGVTaXplKHRpbGVDb3VudCwgcHJvamVjdGlvbik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI7XG59KENhbnZhc0xheWVyUmVuZGVyZXIpKTtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICovXG5DYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGF5ZXI7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVMYXllci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1RpbGVcbiAqL1xuaW1wb3J0IEJhc2VUaWxlTGF5ZXIgZnJvbSAnLi9CYXNlVGlsZS5qcyc7XG5pbXBvcnQgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvciBsYXllciBzb3VyY2VzIHRoYXQgcHJvdmlkZSBwcmUtcmVuZGVyZWQsIHRpbGVkIGltYWdlcyBpbiBncmlkcyB0aGF0IGFyZVxuICogb3JnYW5pemVkIGJ5IHpvb20gbGV2ZWxzIGZvciBzcGVjaWZpYyByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAZXh0ZW5kcyBCYXNlVGlsZUxheWVyPFRpbGVTb3VyY2VUeXBlLCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcj5cbiAqIEBhcGlcbiAqL1xudmFyIFRpbGVMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZUxheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlVGlsZS5qc1wiKS5PcHRpb25zPFRpbGVTb3VyY2VUeXBlPn0gW29wdF9vcHRpb25zXSBUaWxlIGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRfb3B0aW9ucykgfHwgdGhpcztcbiAgICB9XG4gICAgVGlsZUxheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcih0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBUaWxlTGF5ZXI7XG59KEJhc2VUaWxlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9UaWxlXG4gKi9cbmltcG9ydCBFdmVudFRhcmdldCBmcm9tICcuL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBlYXNlSW4gfSBmcm9tICcuL2Vhc2luZy5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL1RpbGV9IGZvciB0aGUgdGlsZSBhbmQgYVxuICogYHtzdHJpbmd9YCBmb3IgdGhlIHVybCBhcyBhcmd1bWVudHMuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogc291cmNlLnNldFRpbGVMb2FkRnVuY3Rpb24oZnVuY3Rpb24odGlsZSwgc3JjKSB7XG4gKiAgIHRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9KTtcbiAqIGBgYFxuICogRm9yIG1vcmUgZmluZSBncmFpbmVkIGNvbnRyb2wsIHRoZSBsb2FkIGZ1bmN0aW9uIGNhbiB1c2UgZmV0Y2ggb3IgWE1MSHR0cFJlcXVlc3QgYW5kIGludm9sdmVcbiAqIGVycm9yIGhhbmRsaW5nOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgVGlsZVN0YXRlIGZyb20gJ29sL1RpbGVTdGF0ZSc7XG4gKlxuICogc291cmNlLnNldFRpbGVMb2FkRnVuY3Rpb24oZnVuY3Rpb24odGlsZSwgc3JjKSB7XG4gKiAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAqICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gKiAgICAgdmFyIGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xuICogICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAqICAgICAgIHRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICogICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAqICAgfSk7XG4gKiAgIHhoci5vcGVuKCdHRVQnLCBzcmMpO1xuICogICB4aHIuc2VuZCgpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oVGlsZSwgc3RyaW5nKTogdm9pZH0gTG9hZEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0byBnZXRcbiAqIHRoZSB1cmwgdGhhdCBwcm92aWRlcyBhIHRpbGUgZm9yIGEgZ2l2ZW4gdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC90aWxlY29vcmR+VGlsZUNvb3JkfSBmb3IgdGhlIHRpbGVcbiAqIGNvb3JkaW5hdGUsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHBpeGVsIHJhdGlvIGFuZCBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uICBhcyBhcmd1bWVudHNcbiAqIGFuZCByZXR1cm5zIGEgYHtzdHJpbmd9YCByZXByZXNlbnRpbmcgdGhlIHRpbGUgVVJMLCBvciB1bmRlZmluZWQgaWYgbm8gdGlsZVxuICogc2hvdWxkIGJlIHJlcXVlc3RlZCBmb3IgdGhlIHBhc3NlZCB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCwgbnVtYmVyLFxuICogICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiAoc3RyaW5nfHVuZGVmaW5lZCl9IFVybEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gQSBkdXJhdGlvbiBmb3IgdGlsZSBvcGFjaXR5XG4gKiB0cmFuc2l0aW9ucyBpbiBtaWxsaXNlY29uZHMuIEEgZHVyYXRpb24gb2YgMCBkaXNhYmxlcyB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9ZmFsc2VdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiB0aGUgbmVhcmVzdCBuZWlnaGJvciBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy5cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciB0aWxlcy5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFRpbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gVGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUNvb3JkID0gdGlsZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBcImludGVyaW1cIiB0aWxlIGZvciB0aGlzIHRpbGUuIFRoZSBpbnRlcmltIHRpbGUgbWF5IGJlIHVzZWQgd2hpbGUgdGhpc1xuICAgICAgICAgKiBvbmUgaXMgbG9hZGluZywgZm9yIFwic21vb3RoXCIgdHJhbnNpdGlvbnMgd2hlbiBjaGFuZ2luZyBwYXJhbXMvZGltZW5zaW9uc1xuICAgICAgICAgKiBvbiB0aGUgc291cmNlLlxuICAgICAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyaW1UaWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEga2V5IGFzc2lnbmVkIHRvIHRoZSB0aWxlLiBUaGlzIGlzIHVzZWQgYnkgdGhlIHRpbGUgc291cmNlIHRvIGRldGVybWluZVxuICAgICAgICAgKiBpZiB0aGlzIHRpbGUgY2FuIGVmZmVjdGl2ZWx5IGJlIHVzZWQsIG9yIGlmIGEgbmV3IHRpbGUgc2hvdWxkIGJlIGNyZWF0ZWRcbiAgICAgICAgICogYW5kIHRoaXMgb25lIGJlIHVzZWQgYXMgYW4gaW50ZXJpbSB0aWxlIGZvciB0aGlzIG5ldyB0aWxlLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5ID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLnRyYW5zaXRpb24gPT09IHVuZGVmaW5lZCA/IDI1MCA6IG9wdGlvbnMudHJhbnNpdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvb2t1cCBvZiBzdGFydCB0aW1lcyBmb3IgcmVuZGVyaW5nIHRyYW5zaXRpb25zLiAgSWYgdGhlIHN0YXJ0IHRpbWUgaXNcbiAgICAgICAgICogZXF1YWwgdG8gLTEsIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zaXRpb25TdGFydHNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVycG9sYXRlID0gISFvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYnkgdGhlIHRpbGUgY2FjaGUgd2hlbiB0aGUgdGlsZSBpcyByZW1vdmVkIGZyb20gdGhlIGNhY2hlIGR1ZSB0byBleHBpcnlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ICsgJy8nICsgdGhpcy50aWxlQ29vcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGludGVyaW0gdGlsZSBtb3N0IHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdXNpbmcgdGhlIGNoYWluIG9mIGludGVyaW1cbiAgICAgKiB0aWxlcy4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgIG1vc3QgcmVjZW50IHRpbGUgdGhhdCBoYXMgYmVlbiBsb2FkZWQsIGlmIG5vXG4gICAgICogc3VjaCB0aWxlIGV4aXN0cywgdGhlIG9yaWdpbmFsIHRpbGUgaXMgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7IVRpbGV9IEJlc3QgdGlsZSBmb3IgcmVuZGVyaW5nLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEludGVyaW1UaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgICAgICAgIC8vZW1wdHkgY2hhaW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aWxlID0gdGhpcy5pbnRlcmltVGlsZTtcbiAgICAgICAgLy8gZmluZCB0aGUgZmlyc3QgbG9hZGVkIHRpbGUgYW5kIHJldHVybiBpdC4gU2luY2UgdGhlIGNoYWluIGlzIHNvcnRlZCBpblxuICAgICAgICAvLyBkZWNyZWFzaW5nIG9yZGVyIG9mIGNyZWF0aW9uIHRpbWUsIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2VhcmNoIHRoZSByZW1haW5kZXJcbiAgICAgICAgLy8gb2YgdGhlIGxpc3QgKGFsbCB0aG9zZSB0aWxlcyBjb3JyZXNwb25kIHRvIG9sZGVyIHJlcXVlc3RzIGFuZCB3aWxsIGJlXG4gICAgICAgIC8vIGNsZWFuZWQgdXAgYnkgcmVmcmVzaEludGVyaW1DaGFpbilcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyB0aWxlIGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZmFkaW5nIGl0IGluIGFmdGVyIGxvYWRpbmcsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW50ZXJpbSB0aWxlIGlzIGluIHBsYWNlIGFscmVhZHlcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25fID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgICAgICB9IHdoaWxlICh0aWxlKTtcbiAgICAgICAgLy8gd2UgY2FuIG5vdCBmaW5kIGEgYmV0dGVyIHRpbGVcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHb2VzIHRocm91Z2ggdGhlIGNoYWluIG9mIGludGVyaW0gdGlsZXMgYW5kIGRpc2NhcmRzIHNlY3Rpb25zIG9mIHRoZSBjaGFpblxuICAgICAqIHRoYXQgYXJlIG5vIGxvbmdlciByZWxldmFudC5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5yZWZyZXNoSW50ZXJpbUNoYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBwcmV2ID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgLy93ZSBoYXZlIGEgbG9hZGVkIHRpbGUsIHdlIGNhbiBkaXNjYXJkIHRoZSByZXN0IG9mIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgLy93ZSB3b3VsZCBjb3VsZCBhYm9ydCBhbnkgTE9BRElORyB0aWxlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAvL29sZGVyIHRoYW4gdGhpcyB0aWxlIChpLmUuIGFueSBMT0FESU5HIHRpbGUgZm9sbG93aW5nIHRoaXMgZW50cnkgaW4gdGhlIGNoYWluKVxuICAgICAgICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgICAgICAgLy9rZWVwIHRoaXMgTE9BRElORyB0aWxlIGFueSBsb2FkZWQgdGlsZXMgbGF0ZXIgaW4gdGhlIGNoYWluIGFyZVxuICAgICAgICAgICAgICAgIC8vb2xkZXIgdGhhbiB0aGlzIHRpbGUsIHNvIHdlJ3JlIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIC8vdGhlIGhlYWQgb2YgdGhlIGxpc3QgaXMgdGhlIG1vc3QgY3VycmVudCB0aWxlLCB3ZSBkb24ndCBuZWVkXG4gICAgICAgICAgICAgICAgLy90byBzdGFydCBhbnkgb3RoZXIgcmVxdWVzdHMgZm9yIHRoaXMgY2hhaW5cbiAgICAgICAgICAgICAgICBwcmV2LmludGVyaW1UaWxlID0gdGlsZS5pbnRlcmltVGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXYgPSB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGlsZSA9IHByZXYuaW50ZXJpbVRpbGU7XG4gICAgICAgIH0gd2hpbGUgKHRpbGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoaXMgdGlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldFRpbGVDb29yZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNvb3JkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgdGhpcyB0aWxlLiBJZiB5b3Ugd3JpdGUgeW91ciBvd24ge0BsaW5rIG1vZHVsZTpvbC9UaWxlfkxvYWRGdW5jdGlvbiB0aWxlTG9hZEZ1bmN0aW9ufSAsXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIHNldCB0aGUgc3RhdGUgY29ycmVjdGx5IHRvIHtAbGluayBtb2R1bGU6b2wvVGlsZVN0YXRlfkVSUk9SfVxuICAgICAqIHdoZW4gdGhlIHRpbGUgY2Fubm90IGJlIGxvYWRlZC4gT3RoZXJ3aXNlIHRoZSB0aWxlIGNhbm5vdCBiZSByZW1vdmVkIGZyb21cbiAgICAgKiB0aGUgdGlsZSBxdWV1ZSBhbmQgd2lsbCBibG9jayBvdGhlciByZXF1ZXN0cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gVGlsZVN0YXRlLkVSUk9SICYmIHRoaXMuc3RhdGUgPiBzdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaWxlIGxvYWQgc2VxdWVuY2UgdmlvbGF0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAgICogTG9hZGluZyBpcyB0YWtlbiBjYXJlIG9mIGJ5IHRoZSB0aWxlIHF1ZXVlLCBhbmQgY2FsbGluZyB0aGlzIG1ldGhvZCBpc1xuICAgICAqIG9ubHkgbmVlZGVkIGZvciBwcmVsb2FkaW5nIG9yIGZvciByZWxvYWRpbmcgaW4gY2FzZSBvZiBhbiBlcnJvci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYWxwaGEgdmFsdWUgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBUaGUgcmVuZGVyIGZyYW1lIHRpbWUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuZ2V0QWxwaGEgPSBmdW5jdGlvbiAoaWQsIHRpbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXTtcbiAgICAgICAgaWYgKCFzdGFydCkge1xuICAgICAgICAgICAgc3RhcnQgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IHRpbWUgLSBzdGFydCArIDEwMDAgLyA2MDsgLy8gYXZvaWQgcmVuZGVyaW5nIGF0IDBcbiAgICAgICAgaWYgKGRlbHRhID49IHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlYXNlSW4oZGVsdGEgLyB0aGlzLnRyYW5zaXRpb25fKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiBhIHRpbGUgaXMgaW4gYW4gYWxwaGEgdHJhbnNpdGlvbi4gIEEgdGlsZSBpcyBjb25zaWRlcmVkIGluXG4gICAgICogdHJhbnNpdGlvbiBpZiB0aWxlLmdldEFscGhhKCkgaGFzIG5vdCB5ZXQgYmVlbiBjYWxsZWQgb3IgaGFzIGJlZW4gY2FsbGVkXG4gICAgICogYW5kIHJldHVybmVkIDEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgaXMgaW4gdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5pblRyYW5zaXRpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvblN0YXJ0c19baWRdICE9PSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcmsgYSB0cmFuc2l0aW9uIGFzIGNvbXBsZXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBbiBpZCBmb3IgdGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmVuZFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblN0YXJ0c19baWRdID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWxlO1xufShFdmVudFRhcmdldCkpO1xuZXhwb3J0IGRlZmF1bHQgVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZUJhc2VcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgSW1hZ2VCYXNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUJhc2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VCYXNlKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudCA9IGV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEltYWdlQmFzZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsUmF0aW8uXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbFJhdGlvXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VCYXNlO1xufShFdmVudFRhcmdldCkpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VCYXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VCYXNlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlQmFzZSBmcm9tICcuL0ltYWdlQmFzZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHsgSU1BR0VfREVDT0RFIH0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHsgZ2V0SGVpZ2h0IH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgbGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2V9IGZvciB0aGUgaW1hZ2UgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSBzcmMgYXMgYXJndW1lbnRzLiBJdCBpcyBzdXBwb3NlZCB0byBtYWtlIGl0IHNvIHRoZVxuICogdW5kZXJseWluZyBpbWFnZSB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlfkltYWdlI2dldEltYWdlfSBpcyBhc3NpZ25lZCB0aGVcbiAqIGNvbnRlbnQgc3BlY2lmaWVkIGJ5IHRoZSBzcmMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIGZ1bmN0aW9uKGltYWdlLCBzcmMpIHtcbiAqICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogICAgIH1cbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gYGltYWdlTG9hZEZ1bmN0aW9uYCBjYW4gYmUgdXNlZnVsIHRvIGxvYWQgaW1hZ2VzIHdpdGhcbiAqIHBvc3QgcmVxdWVzdHMgb3IgLSBpbiBnZW5lcmFsIC0gdGhyb3VnaCBYSFIgcmVxdWVzdHMsIHdoZXJlIHRoZSBzcmMgb2YgdGhlXG4gKiBpbWFnZSBlbGVtZW50IHdvdWxkIGJlIHNldCB0byBhIGRhdGEgVVJJIHdoZW4gdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihJbWFnZVdyYXBwZXIsIHN0cmluZyk6IHZvaWR9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG52YXIgSW1hZ2VXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVdyYXBwZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBJbWFnZSBzb3VyY2UgVVJJLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7TG9hZEZ1bmN0aW9ufSBpbWFnZUxvYWRGdW5jdGlvbiBJbWFnZSBsb2FkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlV3JhcHBlcihleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHNyYywgY3Jvc3NPcmlnaW4sIGltYWdlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgSW1hZ2VTdGF0ZS5JRExFKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNyY18gPSBzcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX3RoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLklETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TG9hZEZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gaW1hZ2VMb2FkRnVuY3Rpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IGdldEhlaWdodCh0aGlzLmV4dGVudCkgLyB0aGlzLmltYWdlXy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BREVEO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICAgKiBMb2FkaW5nIGlzIHRha2VuIGNhcmUgb2YgYnkgdGhlIHRpbGUgcXVldWUsIGFuZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGlzXG4gICAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdyYXBwZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSB8fCB0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKHRoaXMsIHRoaXMuc3JjXyk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KHRoaXMuZXh0ZW50KSAvIHRoaXMuaW1hZ2VfLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VXcmFwcGVyO1xufShJbWFnZUJhc2UpKTtcbi8qKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6YW55fSBsb2FkSGFuZGxlciBMb2FkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOmFueX0gZXJyb3JIYW5kbGVyIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHJldHVybiB7ZnVuY3Rpb24oKTp2b2lkfSBDYWxsYmFjayB0byBzdG9wIGxpc3RlbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbkltYWdlKGltYWdlLCBsb2FkSGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gICAgdmFyIGltZyA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKGltYWdlKTtcbiAgICB2YXIgbGlzdGVuaW5nID0gdHJ1ZTtcbiAgICB2YXIgZGVjb2RpbmcgPSBmYWxzZTtcbiAgICB2YXIgbG9hZGVkID0gZmFsc2U7XG4gICAgdmFyIGxpc3RlbmVyS2V5cyA9IFtcbiAgICAgICAgbGlzdGVuT25jZShpbWcsIEV2ZW50VHlwZS5MT0FELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFkZWNvZGluZykge1xuICAgICAgICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgaWYgKGltZy5zcmMgJiYgSU1BR0VfREVDT0RFKSB7XG4gICAgICAgIGRlY29kaW5nID0gdHJ1ZTtcbiAgICAgICAgaW1nXG4gICAgICAgICAgICAuZGVjb2RlKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICBsb2FkSGFuZGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmluZykge1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsaXN0ZW5lcktleXMucHVzaChsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkVSUk9SLCBlcnJvckhhbmRsZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVubGlzdGVuKCkge1xuICAgICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgbGlzdGVuZXJLZXlzLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IEltYWdlV3JhcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VUaWxlXG4gKi9cbmltcG9ydCBUaWxlIGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGxpc3RlbkltYWdlIH0gZnJvbSAnLi9JbWFnZS5qcyc7XG52YXIgSW1hZ2VUaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIEltYWdlIHNvdXJjZSBVUkkuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5PcHRpb25zfSBbb3B0X29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgc3JjLCBjcm9zc09yaWdpbiwgdGlsZUxvYWRGdW5jdGlvbiwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGlsZUNvb3JkLCBzdGF0ZSwgb3B0X29wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyb3NzT3JpZ2luXyA9IGNyb3NzT3JpZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW1hZ2UgVVJJXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcmNfID0gc3JjO1xuICAgICAgICBfdGhpcy5rZXkgPSBzcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIF90aGlzLmltYWdlXy5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkRnVuY3Rpb25fID0gdGlsZUxvYWRGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEhUTUwgaW1hZ2UgZWxlbWVudCBmb3IgdGhpcyB0aWxlIChtYXkgYmUgYSBDYW52YXMsIEltYWdlLCBvciBWaWRlbykuXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhbiBIVE1MIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgdGlsZSAobWF5IGJlIGEgQ2FudmFzIG9yIHByZWxvYWRlZCBJbWFnZSkuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUVycm9yXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgICB0aGlzLmltYWdlXyA9IGdldEJsYW5rSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKHRoaXMuaW1hZ2VfKTtcbiAgICAgICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5JRExFO1xuICAgICAgICAgICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luXyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbl87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnNyY18pO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBsaXN0ZW5JbWFnZSh0aGlzLmltYWdlXywgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VUaWxlO1xufShUaWxlKSk7XG4vKipcbiAqIEdldCBhIDEtcGl4ZWwgYmxhbmsgaW1hZ2UuXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQmxhbmsgaW1hZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldEJsYW5rSW1hZ2UoKSB7XG4gICAgdmFyIGN0eCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCAxLCAxKTtcbiAgICByZXR1cm4gY3R4LmNhbnZhcztcbn1cbmV4cG9ydCBkZWZhdWx0IEltYWdlVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qL1RyaWFuZ3VsYXRpb25cbiAqL1xuaW1wb3J0IHsgYm91bmRpbmdFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRDb29yZGluYXRlLCBnZXRBcmVhLCBnZXRCb3R0b21MZWZ0LCBnZXRCb3R0b21SaWdodCwgZ2V0VG9wTGVmdCwgZ2V0VG9wUmlnaHQsIGdldFdpZHRoLCBpbnRlcnNlY3RzLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm0gfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7IGxvZzIsIG1vZHVsbyB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBTaW5nbGUgdHJpYW5nbGU7IGNvbnNpc3RzIG9mIDMgc291cmNlIHBvaW50cyBhbmQgMyB0YXJnZXQgcG9pbnRzLlxuICogQHR5cGVkZWYge09iamVjdH0gVHJpYW5nbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gc291cmNlIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gdGFyZ2V0IFRhcmdldC5cbiAqL1xuLyoqXG4gKiBNYXhpbXVtIG51bWJlciBvZiBzdWJkaXZpc2lvbiBzdGVwcyBkdXJpbmcgcmFzdGVyIHJlcHJvamVjdGlvbiB0cmlhbmd1bGF0aW9uLlxuICogUHJldmVudHMgaGlnaCBtZW1vcnkgdXNhZ2UgYW5kIGxhcmdlIG51bWJlciBvZiBwcm9qNCBjYWxscyAoZm9yIGNlcnRhaW5cbiAqIHRyYW5zZm9ybWF0aW9ucyBhbmQgYXJlYXMpLiBBdCBtb3N0IGAyKigyXnRoaXMpYCB0cmlhbmdsZXMgYXJlIGNyZWF0ZWQgZm9yXG4gKiBlYWNoIHRyaWFuZ3VsYXRlZCBleHRlbnQgKHRpbGUvaW1hZ2UpLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIE1BWF9TVUJESVZJU0lPTiA9IDEwO1xuLyoqXG4gKiBNYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiB0cmlhbmdsZSByZWxhdGl2ZSB0byB3b3JsZCB3aWR0aC4gV2hlbiB0cmFuc2Zvcm1pbmdcbiAqIGNvcm5lcnMgb2Ygd29ybGQgZXh0ZW50IGJldHdlZW4gY2VydGFpbiBwcm9qZWN0aW9ucywgdGhlIHJlc3VsdGluZ1xuICogdHJpYW5ndWxhdGlvbiBzZWVtcyB0byBoYXZlIHplcm8gZXJyb3IgYW5kIG5vIHN1YmRpdmlzaW9uIGlzIHBlcmZvcm1lZC4gSWZcbiAqIHRoZSB0cmlhbmdsZSB3aWR0aCBpcyBtb3JlIHRoYW4gdGhpcyAocmVsYXRpdmUgdG8gd29ybGQgd2lkdGg7IDAtMSksXG4gKiBzdWJkaXZpc29uIGlzIGZvcmNlZCAodXAgdG8gYE1BWF9TVUJESVZJU0lPTmApLiBEZWZhdWx0IGlzIGAwLjI1YC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBNQVhfVFJJQU5HTEVfV0lEVEggPSAwLjI1O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBjb250YWluaW5nIHRyaWFuZ3VsYXRpb24gb2YgdGhlIGdpdmVuIHRhcmdldCBleHRlbnQuXG4gKiBVc2VkIGZvciBkZXRlcm1pbmluZyBzb3VyY2UgZGF0YSBhbmQgdGhlIHJlcHJvamVjdGlvbiBpdHNlbGYuXG4gKi9cbnZhciBUcmlhbmd1bGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50IHRvIHRyaWFuZ3VsYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4U291cmNlRXh0ZW50IE1heGltYWwgc291cmNlIGV4dGVudCB0aGF0IGNhbiBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlcnJvclRocmVzaG9sZCBBY2NlcHRhYmxlIGVycm9yIChpbiBzb3VyY2UgdW5pdHMpLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gb3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiBUaGUgKG9wdGlvbmFsKSByZXNvbHV0aW9uIG9mIHRoZSBkZXN0aW5hdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmlhbmd1bGF0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgbWF4U291cmNlRXh0ZW50LCBlcnJvclRocmVzaG9sZCwgb3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VQcm9qXyA9IHNvdXJjZVByb2o7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldFByb2pfID0gdGFyZ2V0UHJvajtcbiAgICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gKi9cbiAgICAgICAgdmFyIHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gICAgICAgIHZhciB0cmFuc2Zvcm1JbnYgPSBnZXRUcmFuc2Zvcm0odGhpcy50YXJnZXRQcm9qXywgdGhpcy5zb3VyY2VQcm9qXyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBBIGNvb3JkaW5hdGUuXG4gICAgICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtSW52XyA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY1swXSArICcvJyArIGNbMV07XG4gICAgICAgICAgICBpZiAoIXRyYW5zZm9ybUludkNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1JbnZDYWNoZVtrZXldID0gdHJhbnNmb3JtSW52KGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUludkNhY2hlW2tleV07XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4U291cmNlRXh0ZW50XyA9IG1heFNvdXJjZUV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF8gPSBlcnJvclRocmVzaG9sZCAqIGVycm9yVGhyZXNob2xkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFRyaWFuZ2xlPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpYW5nbGVzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHRyaWFuZ3VsYXRpb24gY3Jvc3NlcyBlZGdlIG9mIHRoZSBzb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbldyYXBYSW5Tb3VyY2VfID1cbiAgICAgICAgICAgIHRoaXMuc291cmNlUHJval8uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgICAgICEhbWF4U291cmNlRXh0ZW50ICYmXG4gICAgICAgICAgICAgICAgISF0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpICYmXG4gICAgICAgICAgICAgICAgZ2V0V2lkdGgobWF4U291cmNlRXh0ZW50KSA9PSBnZXRXaWR0aCh0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyA9IHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KClcbiAgICAgICAgICAgID8gZ2V0V2lkdGgodGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXRXb3JsZFdpZHRoXyA9IHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KClcbiAgICAgICAgICAgID8gZ2V0V2lkdGgodGhpcy50YXJnZXRQcm9qXy5nZXRFeHRlbnQoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uVG9wTGVmdCA9IGdldFRvcExlZnQodGFyZ2V0RXh0ZW50KTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uVG9wUmlnaHQgPSBnZXRUb3BSaWdodCh0YXJnZXRFeHRlbnQpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25Cb3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkJvdHRvbUxlZnQgPSBnZXRCb3R0b21MZWZ0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBzb3VyY2VUb3BMZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uVG9wTGVmdCk7XG4gICAgICAgIHZhciBzb3VyY2VUb3BSaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvblRvcFJpZ2h0KTtcbiAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tUmlnaHQpO1xuICAgICAgICB2YXIgc291cmNlQm90dG9tTGVmdCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvbkJvdHRvbUxlZnQpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgbWF4U3ViZGl2aXNpb24gY29udHJvbHMgaG93IG1hbnkgc3BsaXR0aW5ncyBvZiB0aGUgdGFyZ2V0IGFyZWEgY2FuXG4gICAgICAgICAqIGJlIGRvbmUuIFRoZSBpZGVhIGhlcmUgaXMgdG8gZG8gYSBsaW5lYXIgbWFwcGluZyBvZiB0aGUgdGFyZ2V0IGFyZWFzXG4gICAgICAgICAqIGJ1dCB0aGUgYWN0dWFsIG92ZXJhbCByZXByb2plY3Rpb24gKGNhbiBiZSkgZXh0cmVtZWx5IG5vbi1saW5lYXIuIFRoZVxuICAgICAgICAgKiBkZWZhdWx0IHZhbHVlIG9mIE1BWF9TVUJESVZJU0lPTiB3YXMgY2hvc2VuIGJhc2VkIG9uIG1hcHBpbmcgYSAyNTZ4MjU2XG4gICAgICAgICAqIHRpbGUgc2l6ZS4gSG93ZXZlciB0aGlzIGZ1bmN0aW9uIGlzIGFsc28gY2FsbGVkIHRvIHJlbWFwIGNhbnZhcyByZW5kZXJlZFxuICAgICAgICAgKiBsYXllcnMgd2hpY2ggY2FuIGJlIG11Y2ggbGFyZ2VyLiBUaGlzIGNhbGN1bGF0aW9uIGluY3JlYXNlcyB0aGUgbWF4U3ViZGl2aXNpb25cbiAgICAgICAgICogdmFsdWUgYnkgdGhlIHJpZ2h0IGZhY3RvciBzbyB0aGF0IGVhY2ggMjU2eDI1NiBwaXhlbCBhcmVhIGhhc1xuICAgICAgICAgKiBNQVhfU1VCRElWSVNJT04gZGl2aXNpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1heFN1YmRpdmlzaW9uID0gTUFYX1NVQkRJVklTSU9OICtcbiAgICAgICAgICAgIChvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heCgwLCBNYXRoLmNlaWwobG9nMihnZXRBcmVhKHRhcmdldEV4dGVudCkgL1xuICAgICAgICAgICAgICAgICAgICAob3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiAqXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uICpcbiAgICAgICAgICAgICAgICAgICAgICAgIDI1NiAqXG4gICAgICAgICAgICAgICAgICAgICAgICAyNTYpKSkpXG4gICAgICAgICAgICAgICAgOiAwKTtcbiAgICAgICAgdGhpcy5hZGRRdWFkXyhkZXN0aW5hdGlvblRvcExlZnQsIGRlc3RpbmF0aW9uVG9wUmlnaHQsIGRlc3RpbmF0aW9uQm90dG9tUmlnaHQsIGRlc3RpbmF0aW9uQm90dG9tTGVmdCwgc291cmNlVG9wTGVmdCwgc291cmNlVG9wUmlnaHQsIHNvdXJjZUJvdHRvbVJpZ2h0LCBzb3VyY2VCb3R0b21MZWZ0LCBtYXhTdWJkaXZpc2lvbik7XG4gICAgICAgIGlmICh0aGlzLndyYXBzWEluU291cmNlXykge1xuICAgICAgICAgICAgdmFyIGxlZnRCb3VuZF8xID0gSW5maW5pdHk7XG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAgICAgICAgIGxlZnRCb3VuZF8xID0gTWF0aC5taW4obGVmdEJvdW5kXzEsIHRyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTaGlmdCB0cmlhbmdsZXMgdG8gYmUgYXMgY2xvc2UgdG8gYGxlZnRCb3VuZGAgYXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIChpZiB0aGUgZGlzdGFuY2UgaXMgbW9yZSB0aGFuIGB3b3JsZFdpZHRoIC8gMmAgaXQgY2FuIGJlIGNsb3Nlci5cbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSkge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1heCh0cmlhbmdsZS5zb3VyY2VbMF1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVswXSwgdHJpYW5nbGUuc291cmNlWzJdWzBdKSAtXG4gICAgICAgICAgICAgICAgICAgIGxlZnRCb3VuZF8xID5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RyaWFuZ2xlID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzBdWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMV1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVsxXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzJdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMV1dLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMF1bMF0gLSBsZWZ0Qm91bmRfMSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVsxXVswXSAtIGxlZnRCb3VuZF8xID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzJdWzBdIC0gbGVmdEJvdW5kXzEgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSYXJlbHkgKGlmIHRoZSBleHRlbnQgY29udGFpbnMgYm90aCB0aGUgZGF0ZWxpbmUgYW5kIHByaW1lIG1lcmlkaWFuKVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2hpZnQgY2FuIGluIHR1cm4gYnJlYWsgc29tZSB0cmlhbmdsZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVjdCB0aGlzIGhlcmUgYW5kIGRvbid0IHNoaWZ0IGluIHN1Y2ggY2FzZXMuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5YID0gTWF0aC5taW4obmV3VHJpYW5nbGVbMF1bMF0sIG5ld1RyaWFuZ2xlWzFdWzBdLCBuZXdUcmlhbmdsZVsyXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhYID0gTWF0aC5tYXgobmV3VHJpYW5nbGVbMF1bMF0sIG5ld1RyaWFuZ2xlWzFdWzBdLCBuZXdUcmlhbmdsZVsyXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2UgPSBuZXdUcmlhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNmb3JtSW52Q2FjaGUgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0cmlhbmdsZSB0byB0aGUgdHJpYW5ndWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRyaWFuZ3VsYXRpb24ucHJvdG90eXBlLmFkZFRyaWFuZ2xlXyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBhU3JjLCBiU3JjLCBjU3JjKSB7XG4gICAgICAgIHRoaXMudHJpYW5nbGVzXy5wdXNoKHtcbiAgICAgICAgICAgIHNvdXJjZTogW2FTcmMsIGJTcmMsIGNTcmNdLFxuICAgICAgICAgICAgdGFyZ2V0OiBbYSwgYiwgY10sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBxdWFkIChwb2ludHMgaW4gY2xvY2std2lzZSBvcmRlcikgdG8gdGhlIHRyaWFuZ3VsYXRpb25cbiAgICAgKiAoYW5kIHJlcHJvamVjdHMgdGhlIHZlcnRpY2VzKSBpZiB2YWxpZC5cbiAgICAgKiBQZXJmb3JtcyBxdWFkIHN1YmRpdmlzaW9uIGlmIG5lZWRlZCB0byBpbmNyZWFzZSBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZCBUaGUgdGFyZ2V0IGQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZFNyYyBUaGUgc291cmNlIGQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4U3ViZGl2aXNpb24gTWF4aW1hbCBhbGxvd2VkIHN1YmRpdmlzaW9uIG9mIHRoZSBxdWFkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuYWRkUXVhZF8gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgYVNyYywgYlNyYywgY1NyYywgZFNyYywgbWF4U3ViZGl2aXNpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZVF1YWRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbYVNyYywgYlNyYywgY1NyYywgZFNyY10pO1xuICAgICAgICB2YXIgc291cmNlQ292ZXJhZ2VYID0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoX1xuICAgICAgICAgICAgPyBnZXRXaWR0aChzb3VyY2VRdWFkRXh0ZW50KSAvIHRoaXMuc291cmNlV29ybGRXaWR0aF9cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdmFyIHNvdXJjZVdvcmxkV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuc291cmNlV29ybGRXaWR0aF8pO1xuICAgICAgICAvLyB3aGVuIHRoZSBxdWFkIGlzIHdyYXBwZWQgaW4gdGhlIHNvdXJjZSBwcm9qZWN0aW9uXG4gICAgICAgIC8vIGl0IGNvdmVycyBtb3N0IG9mIHRoZSBwcm9qZWN0aW9uIGV4dGVudCwgYnV0IG5vdCBmdWxseVxuICAgICAgICB2YXIgd3JhcHNYID0gdGhpcy5zb3VyY2VQcm9qXy5jYW5XcmFwWCgpICYmXG4gICAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiAwLjUgJiZcbiAgICAgICAgICAgIHNvdXJjZUNvdmVyYWdlWCA8IDE7XG4gICAgICAgIHZhciBuZWVkc1N1YmRpdmlzaW9uID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldFByb2pfLmlzR2xvYmFsKCkgJiYgdGhpcy50YXJnZXRXb3JsZFdpZHRoXykge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2EsIGIsIGMsIGRdKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0Q292ZXJhZ2VYID0gZ2V0V2lkdGgodGFyZ2V0UXVhZEV4dGVudCkgLyB0aGlzLnRhcmdldFdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghd3JhcHNYICYmIHRoaXMuc291cmNlUHJval8uaXNHbG9iYWwoKSAmJiBzb3VyY2VDb3ZlcmFnZVgpIHtcbiAgICAgICAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID1cbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ292ZXJhZ2VYID4gTUFYX1RSSUFOR0xFX1dJRFRIIHx8IG5lZWRzU3ViZGl2aXNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uICYmIHRoaXMubWF4U291cmNlRXh0ZW50Xykge1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMF0pICYmXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoc291cmNlUXVhZEV4dGVudFsxXSkgJiZcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzJdKSAmJlxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbM10pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZVF1YWRFeHRlbnQsIHRoaXMubWF4U291cmNlRXh0ZW50XykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hvbGUgcXVhZCBvdXRzaWRlIHNvdXJjZSBwcm9qZWN0aW9uIGV4dGVudCAtPiBpZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNOb3RGaW5pdGUgPSAwO1xuICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgIGlmICghaXNGaW5pdGUoYVNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYVNyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYlNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYlNyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY1NyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY1NyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoZFNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoZFNyY1sxXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgbWlnaHQgYmUgdGhlIGNhc2UgdGhhdCBvbmx5IDEgb2YgdGhlIHBvaW50cyBpcyBpbmZpbml0ZS4gSW4gdGhpcyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBkcmF3IGEgc2luZ2xlIHRyaWFuZ2xlIHdpdGggdGhlIG90aGVyIHRocmVlIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICBpc05vdEZpbml0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGFTcmNbMF0pIHx8ICFpc0Zpbml0ZShhU3JjWzFdKSA/IDggOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFpc0Zpbml0ZShiU3JjWzBdKSB8fCAhaXNGaW5pdGUoYlNyY1sxXSkgPyA0IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghaXNGaW5pdGUoY1NyY1swXSkgfHwgIWlzRmluaXRlKGNTcmNbMV0pID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGRTcmNbMF0pIHx8ICFpc0Zpbml0ZShkU3JjWzFdKSA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm90RmluaXRlICE9IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gWyhhWzBdICsgY1swXSkgLyAyLCAoYVsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZW50ZXIpO1xuICAgICAgICAgICAgICAgIHZhciBkeCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXJTcmNFc3RpbVggPSAobW9kdWxvKGFTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsbyhjU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgMjtcbiAgICAgICAgICAgICAgICAgICAgZHggPSBjZW50ZXJTcmNFc3RpbVggLSBtb2R1bG8oY2VudGVyU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gKGFTcmNbMF0gKyBjU3JjWzBdKSAvIDIgLSBjZW50ZXJTcmNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeSA9IChhU3JjWzFdICsgY1NyY1sxXSkgLyAyIC0gY2VudGVyU3JjWzFdO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXJTcmNFcnJvclNxdWFyZWQgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gY2VudGVyU3JjRXJyb3JTcXVhcmVkID4gdGhpcy5lcnJvclRocmVzaG9sZFNxdWFyZWRfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYVswXSAtIGNbMF0pIDw9IE1hdGguYWJzKGFbMV0gLSBjWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGxpdCBob3Jpem9udGFsbHkgKHRvcCAmIGJvdHRvbSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJjID0gWyhiWzBdICsgY1swXSkgLyAyLCAoYlsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBiY1NyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhiYyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IFsoZFswXSArIGFbMF0pIC8gMiwgKGRbMV0gKyBhWzFdKSAvIDJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGFTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oZGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFF1YWRfKGEsIGIsIGJjLCBkYSwgYVNyYywgYlNyYywgYmNTcmMsIGRhU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFF1YWRfKGRhLCBiYywgYywgZCwgZGFTcmMsIGJjU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BsaXQgdmVydGljYWxseSAobGVmdCAmIHJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICB2YXIgYWIgPSBbKGFbMF0gKyBiWzBdKSAvIDIsIChhWzFdICsgYlsxXSkgLyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGFiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gWyhjWzBdICsgZFswXSkgLyAyLCAoY1sxXSArIGRbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZFNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYSwgYWIsIGNkLCBkLCBhU3JjLCBhYlNyYywgY2RTcmMsIGRTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYWIsIGIsIGMsIGNkLCBhYlNyYywgYlNyYywgY1NyYywgY2RTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FuV3JhcFhJblNvdXJjZV8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhhY3RseSB6ZXJvIG9yIG9uZSBvZiAqU3JjIGlzIG5vdCBmaW5pdGVcbiAgICAgICAgLy8gVGhlIHRyaWFuZ2xlcyBtdXN0IGhhdmUgdGhlIGRpYWdvbmFsIGxpbmUgYXMgdGhlIGZpcnN0IHNpZGVcbiAgICAgICAgLy8gVGhpcyBpcyB0byBhbGxvdyBlYXN5IGNvZGUgaW4gcmVwcm9qLnMgdG8gbWFrZSBpdCBzdHJhaWdodCBmb3IgYnJva2VuXG4gICAgICAgIC8vIGJyb3dzZXJzIHRoYXQgY2FuJ3QgaGFuZGxlIGRpYWdvbmFsIGNsaXBwaW5nXG4gICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGIpID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGQsIGFTcmMsIGNTcmMsIGRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGUpID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGIsIGFTcmMsIGNTcmMsIGJTcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05vdEZpbml0ZSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRoZSBvdGhlciB0d28gdHJpYW5nbGVzXG4gICAgICAgICAgICBpZiAoKGlzTm90RmluaXRlICYgMHhkKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYSwgYlNyYywgZFNyYywgYVNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGlzTm90RmluaXRlICYgMHg3KSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYywgYlNyYywgZFNyYywgY1NyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgZXh0ZW50IG9mIHRoZSAnc291cmNlJyBjb29yZGluYXRlcyBmcm9tIGFsbCB0aGUgdHJpYW5nbGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gQ2FsY3VsYXRlZCBleHRlbnQuXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlU291cmNlRXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIHZhciBzcmMgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICAgICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzBdKTtcbiAgICAgICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMV0pO1xuICAgICAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1syXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8VHJpYW5nbGU+fSBBcnJheSBvZiB0aGUgY2FsY3VsYXRlZCB0cmlhbmdsZXMuXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuZ2V0VHJpYW5nbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlhbmdsZXNfO1xuICAgIH07XG4gICAgcmV0dXJuIFRyaWFuZ3VsYXRpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVHJpYW5ndWxhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyaWFuZ3VsYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvalxuICovXG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgfSBmcm9tICcuL3JlbmRlcmVyL2NhbnZhcy9jb21tb24uanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgY29udGFpbnNDb29yZGluYXRlLCBjcmVhdGVFbXB0eSwgZXh0ZW5kLCBmb3JFYWNoQ29ybmVyLCBnZXRDZW50ZXIsIGdldEhlaWdodCwgZ2V0VG9wTGVmdCwgZ2V0V2lkdGgsIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgZ2V0UG9pbnRSZXNvbHV0aW9uLCB0cmFuc2Zvcm0gfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHsgc29sdmVMaW5lYXJTeXN0ZW0gfSBmcm9tICcuL21hdGguanMnO1xudmFyIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbi8qKlxuICogVGhpcyBkcmF3cyBhIHNtYWxsIHRyaWFuZ2xlIGludG8gYSBjYW52YXMgYnkgc2V0dGluZyB0aGUgdHJpYW5nbGUgYXMgdGhlIGNsaXAgcmVnaW9uXG4gKiBhbmQgdGhlbiBkcmF3aW5nIGEgKHRvbyBsYXJnZSkgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoZSB0cmlhbmdsZVxuICogQHBhcmFtIHtudW1iZXJ9IHUxIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBwb2ludC4gVGhlIGZpcnN0IHBvaW50IGlzIDAsMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2MSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdTIgVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdjIgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCB1MSwgdjEsIHUyLCB2Mikge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgIGN0eC5saW5lVG8odTEsIHYxKTtcbiAgICBjdHgubGluZVRvKHUyLCB2Mik7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmNsaXAoKTtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgTWF0aC5tYXgodTEsIHUyKSArIDEsIE1hdGgubWF4KHYxLCB2MikpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG59XG4vKipcbiAqIEdpdmVuIHRoZSBkYXRhIGZyb20gZ2V0SW1hZ2VEYXRhLCBzZWUgaWYgdGhlIHJpZ2h0IHZhbHVlcyBhcHBlYXIgYXQgdGhlIHByb3ZpZGVkIG9mZnNldC5cbiAqIFJldHVybnMgdHJ1ZSBpZiBlaXRoZXIgdGhlIGNvbG9yIG9yIHRyYW5zcGFyZW5jeSBpcyBvZmZcbiAqXG4gKiBAcGFyYW0ge1VpbnQ4Q2xhbXBlZEFycmF5fSBkYXRhIFRoZSBkYXRhIHJldHVybmVkIGZyb20gZ2V0SW1hZ2VEYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBwaXhlbCBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgZGF0YS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGRpYWdvbmFsIHJlbmRlcmluZyBpcyBicm9rZW5cbiAqL1xuZnVuY3Rpb24gdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgb2Zmc2V0KSB7XG4gICAgLy8gdGhlIHZhbHVlcyBvdWdodCB0byBiZSBjbG9zZSB0byB0aGUgcmdiYSgyMTAsIDAsIDAsIDAuNzUpXG4gICAgcmV0dXJuIChNYXRoLmFicyhkYXRhW29mZnNldCAqIDRdIC0gMjEwKSA+IDIgfHxcbiAgICAgICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0ICsgM10gLSAwLjc1ICogMjU1KSA+IDIpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29uZmlndXJhdGlvbiBjYW4gcmVuZGVyIHRyaWFuZ3VsYXIgY2xpcCByZWdpb25zIGNvcnJlY3RseS5cbiAqIFRoaXMgdmFsdWUgaXMgY2FjaGVkIHNvIHRoZSBmdW5jdGlvbiBpcyBvbmx5IGV4cGVuc2l2ZSB0aGUgZmlyc3QgdGltZSBjYWxsZWQuXG4gKiBGaXJlZm94IG9uIFdpbmRvd3MgKGFzIG9mIG5vdykgZG9lcyBub3QgaWYgSFdBIGlzIGVuYWJsZWQuIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjA2OTc2XG4gKiBJRSBhbHNvIGRvZXNuJ3QuIENocm9tZSB3b3JrcywgYW5kIGV2ZXJ5dGhpbmcgc2VlbXMgdG8gd29yayBvbiBPU1ggYW5kIEFuZHJvaWQuIFRoaXMgZnVuY3Rpb24gY2FjaGVzIHRoZVxuICogcmVzdWx0LiBJIHN1cHBvc2UgdGhhdCBpdCBpcyBjb25jZWl2YWJseSBwb3NzaWJsZSB0aGF0IGEgYnJvd3NlciBtaWdodCBmbGlwIG1vZGVzIHdoaWxlIHRoZSBhcHAgaXNcbiAqIHJ1bm5pbmcsIGJ1dCBsZXRzIGhvcGUgbm90LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIERpYWdvbmFsIFJlbmRlcmluZyBpcyBicm9rZW4uXG4gKi9cbmZ1bmN0aW9uIGlzQnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoKSB7XG4gICAgaWYgKGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjEwLCAwLCAwLCAwLjc1KSc7XG4gICAgICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCA0LCAwKTtcbiAgICAgICAgZHJhd1Rlc3RUcmlhbmdsZShjdHgsIDQsIDUsIDAsIDUpO1xuICAgICAgICB2YXIgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMywgMykuZGF0YTtcbiAgICAgICAgYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfID1cbiAgICAgICAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDApIHx8XG4gICAgICAgICAgICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgNCkgfHxcbiAgICAgICAgICAgICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCA4KTtcbiAgICB9XG4gICAgcmV0dXJuIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBpZGVhbCByZXNvbHV0aW9uIHRvIHVzZSBmcm9tIHRoZSBzb3VyY2UgaW4gb3JkZXIgdG8gYWNoaWV2ZVxuICogcGl4ZWwgbWFwcGluZyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byAxOjEgZHVyaW5nIHJlcHJvamVjdGlvbi5cbiAqIFRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgcmVnYXJkbGVzcyBvZiB3aGF0IHJlc29sdXRpb25zXG4gKiBhcmUgYWN0dWFsbHkgYXZhaWxhYmxlIGluIHRoZSBkYXRhc2V0IChUaWxlR3JpZCwgSW1hZ2UsIC4uLikuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdGFyZ2V0Q2VudGVyIFRhcmdldCBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJlc3QgcmVzb2x1dGlvbiB0byB1c2UuIENhbiBiZSArLUluZmluaXR5LCBOYU4gb3IgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgdmFyIHNvdXJjZUNlbnRlciA9IHRyYW5zZm9ybSh0YXJnZXRDZW50ZXIsIHRhcmdldFByb2osIHNvdXJjZVByb2opO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaWRlYWwgcmVzb2x1dGlvbiBvZiB0aGUgc291cmNlIGRhdGFcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGdldFBvaW50UmVzb2x1dGlvbih0YXJnZXRQcm9qLCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRDZW50ZXIpO1xuICAgIHZhciB0YXJnZXRNZXRlcnNQZXJVbml0ID0gdGFyZ2V0UHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgaWYgKHRhcmdldE1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uICo9IHRhcmdldE1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIHZhciBzb3VyY2VNZXRlcnNQZXJVbml0ID0gc291cmNlUHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgaWYgKHNvdXJjZU1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uIC89IHNvdXJjZU1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8vIEJhc2VkIG9uIHRoZSBwcm9qZWN0aW9uIHByb3BlcnRpZXMsIHRoZSBwb2ludCByZXNvbHV0aW9uIGF0IHRoZSBzcGVjaWZpZWRcbiAgICAvLyBjb29yZGluYXRlcyBtYXkgYmUgc2xpZ2h0bHkgZGlmZmVyZW50LiBXZSBuZWVkIHRvIHJldmVyc2UtY29tcGVuc2F0ZSB0aGlzXG4gICAgLy8gaW4gb3JkZXIgdG8gYWNoaWV2ZSBvcHRpbWFsIHJlc3VsdHMuXG4gICAgdmFyIHNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgaWYgKCFzb3VyY2VFeHRlbnQgfHwgY29udGFpbnNDb29yZGluYXRlKHNvdXJjZUV4dGVudCwgc291cmNlQ2VudGVyKSkge1xuICAgICAgICB2YXIgY29tcGVuc2F0aW9uRmFjdG9yID0gZ2V0UG9pbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUNlbnRlcikgL1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKGlzRmluaXRlKGNvbXBlbnNhdGlvbkZhY3RvcikgJiYgY29tcGVuc2F0aW9uRmFjdG9yID4gMCkge1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbiAvPSBjb21wZW5zYXRpb25GYWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgaWRlYWwgcmVzb2x1dGlvbiB0byB1c2UgZnJvbSB0aGUgc291cmNlIGluIG9yZGVyIHRvIGFjaGlldmVcbiAqIHBpeGVsIG1hcHBpbmcgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gMToxIGR1cmluZyByZXByb2plY3Rpb24uXG4gKiBUaGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hhdCByZXNvbHV0aW9uc1xuICogYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSBpbiB0aGUgZGF0YXNldCAoVGlsZUdyaWQsIEltYWdlLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudFxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiZXN0IHJlc29sdXRpb24gdG8gdXNlLiBDYW4gYmUgKy1JbmZpbml0eSwgTmFOIG9yIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIHZhciB0YXJnZXRDZW50ZXIgPSBnZXRDZW50ZXIodGFyZ2V0RXh0ZW50KTtcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICBpZiAoIWlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pIHx8IHNvdXJjZVJlc29sdXRpb24gPD0gMCkge1xuICAgICAgICBmb3JFYWNoQ29ybmVyKHRhcmdldEV4dGVudCwgZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgY29ybmVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSAmJiBzb3VyY2VSZXNvbHV0aW9uID4gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VSZXNvbHV0aW9uO1xufVxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJbWFnZUV4dGVudFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gKi9cbi8qKlxuICogUmVuZGVycyB0aGUgc291cmNlIGRhdGEgaW50byBuZXcgY2FudmFzIGJhc2VkIG9uIHRoZSB0cmlhbmd1bGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtudW1iZXJ9IHNvdXJjZVJlc29sdXRpb24gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gc291cmNlRXh0ZW50IEV4dGVudCBvZiB0aGUgZGF0YSBzb3VyY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9yZXByb2ovVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fSB0cmlhbmd1bGF0aW9uIENhbGN1bGF0ZWQgdHJpYW5ndWxhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8SW1hZ2VFeHRlbnQ+fSBzb3VyY2VzIEFycmF5IG9mIHNvdXJjZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIEd1dHRlciBvZiB0aGUgc291cmNlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yZW5kZXJFZGdlc10gUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0X2ludGVycG9sYXRlXSBVc2UgbGluZWFyIGludGVycG9sYXRpb24gd2hlbiByZXNhbXBsaW5nLlxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IENhbnZhcyB3aXRoIHJlcHJvamVjdGVkIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIod2lkdGgsIGhlaWdodCwgcGl4ZWxSYXRpbywgc291cmNlUmVzb2x1dGlvbiwgc291cmNlRXh0ZW50LCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRFeHRlbnQsIHRyaWFuZ3VsYXRpb24sIHNvdXJjZXMsIGd1dHRlciwgb3B0X3JlbmRlckVkZ2VzLCBvcHRfaW50ZXJwb2xhdGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiB3aWR0aCksIE1hdGgucm91bmQocGl4ZWxSYXRpbyAqIGhlaWdodCkpO1xuICAgIGlmICghb3B0X2ludGVycG9sYXRlKSB7XG4gICAgICAgIGFzc2lnbihjb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpO1xuICAgIH1cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xuICAgIH1cbiAgICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgIGZ1bmN0aW9uIHBpeGVsUm91bmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBwaXhlbFJhdGlvKSAvIHBpeGVsUmF0aW87XG4gICAgfVxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuICAgIHZhciBzb3VyY2VEYXRhRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgICAgIGV4dGVuZChzb3VyY2VEYXRhRXh0ZW50LCBzcmMuZXh0ZW50KTtcbiAgICB9KTtcbiAgICB2YXIgY2FudmFzV2lkdGhJblVuaXRzID0gZ2V0V2lkdGgoc291cmNlRGF0YUV4dGVudCk7XG4gICAgdmFyIGNhbnZhc0hlaWdodEluVW5pdHMgPSBnZXRIZWlnaHQoc291cmNlRGF0YUV4dGVudCk7XG4gICAgdmFyIHN0aXRjaENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc1dpZHRoSW5Vbml0cykgLyBzb3VyY2VSZXNvbHV0aW9uKSwgTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc0hlaWdodEluVW5pdHMpIC8gc291cmNlUmVzb2x1dGlvbikpO1xuICAgIGlmICghb3B0X2ludGVycG9sYXRlKSB7XG4gICAgICAgIGFzc2lnbihzdGl0Y2hDb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpO1xuICAgIH1cbiAgICB2YXIgc3RpdGNoU2NhbGUgPSBwaXhlbFJhdGlvIC8gc291cmNlUmVzb2x1dGlvbjtcbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgICAgIHZhciB4UG9zID0gc3JjLmV4dGVudFswXSAtIHNvdXJjZURhdGFFeHRlbnRbMF07XG4gICAgICAgIHZhciB5UG9zID0gLShzcmMuZXh0ZW50WzNdIC0gc291cmNlRGF0YUV4dGVudFszXSk7XG4gICAgICAgIHZhciBzcmNXaWR0aCA9IGdldFdpZHRoKHNyYy5leHRlbnQpO1xuICAgICAgICB2YXIgc3JjSGVpZ2h0ID0gZ2V0SGVpZ2h0KHNyYy5leHRlbnQpO1xuICAgICAgICAvLyBUaGlzIHRlc3Qgc2hvdWxkIG5ldmVyIGZhaWwgLS0gYnV0IGl0IGRvZXMuIE5lZWQgdG8gZmluZCBhIGZpeCB0aGUgdXBzdHJlYW0gY29uZGl0aW9uXG4gICAgICAgIGlmIChzcmMuaW1hZ2Uud2lkdGggPiAwICYmIHNyYy5pbWFnZS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICBzdGl0Y2hDb250ZXh0LmRyYXdJbWFnZShzcmMuaW1hZ2UsIGd1dHRlciwgZ3V0dGVyLCBzcmMuaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLCBzcmMuaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlciwgeFBvcyAqIHN0aXRjaFNjYWxlLCB5UG9zICogc3RpdGNoU2NhbGUsIHNyY1dpZHRoICogc3RpdGNoU2NhbGUsIHNyY0hlaWdodCAqIHN0aXRjaFNjYWxlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciB0YXJnZXRUb3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgIHRyaWFuZ3VsYXRpb24uZ2V0VHJpYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAvKiBDYWxjdWxhdGUgYWZmaW5lIHRyYW5zZm9ybSAoc3JjIC0+IGRzdClcbiAgICAgICAgICogUmVzdWx0aW5nIG1hdHJpeCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRpbmF0ZVxuICAgICAgICAgKiBmcm9tIGBzb3VyY2VQcm9qZWN0aW9uYCB0byBkZXN0aW5hdGlvbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRvIG9wdGltaXplIG51bWJlciBvZiBjb250ZXh0IGNhbGxzIGFuZCBpbmNyZWFzZSBudW1lcmljYWwgc3RhYmlsaXR5LFxuICAgICAgICAgKiB3ZSBhbHNvIGRvIHRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uczpcbiAgICAgICAgICogdHJhbnMoLXRvcExlZnRFeHRlbnRDb3JuZXIpLCBzY2FsZSgxIC8gdGFyZ2V0UmVzb2x1dGlvbiksIHNjYWxlKDEsIC0xKVxuICAgICAgICAgKiBoZXJlIGJlZm9yZSBzb2x2aW5nIHRoZSBsaW5lYXIgc3lzdGVtIHNvIFt1aSwgdmldIGFyZSBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogU3JjIHBvaW50czogeGksIHlpXG4gICAgICAgICAqIERzdCBwb2ludHM6IHVpLCB2aVxuICAgICAgICAgKiBBZmZpbmUgY29lZmZpY2llbnRzOiBhaWpcbiAgICAgICAgICpcbiAgICAgICAgICogfCB4MCB5MCAxICAwICAwIDAgfCAgIHxhMDB8ICAgfHUwfFxuICAgICAgICAgKiB8IHgxIHkxIDEgIDAgIDAgMCB8ICAgfGEwMXwgICB8dTF8XG4gICAgICAgICAqIHwgeDIgeTIgMSAgMCAgMCAwIHwgeCB8YTAyfCA9IHx1MnxcbiAgICAgICAgICogfCAgMCAgMCAwIHgwIHkwIDEgfCAgIHxhMTB8ICAgfHYwfFxuICAgICAgICAgKiB8ICAwICAwIDAgeDEgeTEgMSB8ICAgfGExMXwgICB8djF8XG4gICAgICAgICAqIHwgIDAgIDAgMCB4MiB5MiAxIHwgICB8YTEyfCAgIHx2MnxcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzb3VyY2UgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0cmlhbmdsZS50YXJnZXQ7XG4gICAgICAgIHZhciB4MCA9IHNvdXJjZVswXVswXSwgeTAgPSBzb3VyY2VbMF1bMV07XG4gICAgICAgIHZhciB4MSA9IHNvdXJjZVsxXVswXSwgeTEgPSBzb3VyY2VbMV1bMV07XG4gICAgICAgIHZhciB4MiA9IHNvdXJjZVsyXVswXSwgeTIgPSBzb3VyY2VbMl1bMV07XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgaXMgb24gcGl4ZWwgYm91bmRhcmllc1xuICAgICAgICB2YXIgdTAgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICB2YXIgdjAgPSBwaXhlbFJvdW5kKC0odGFyZ2V0WzBdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHUxID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHYxID0gcGl4ZWxSb3VuZCgtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB1MiA9IHBpeGVsUm91bmQoKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB2MiA9IHBpeGVsUm91bmQoLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICAvLyBTaGlmdCBhbGwgdGhlIHNvdXJjZSBwb2ludHMgdG8gaW1wcm92ZSBudW1lcmljYWwgc3RhYmlsaXR5XG4gICAgICAgIC8vIG9mIGFsbCB0aGUgc3Vic2VxdWVudCBjYWxjdWxhdGlvbnMuIFRoZSBbeDAsIHkwXSBpcyB1c2VkIGhlcmUuXG4gICAgICAgIC8vIFRoaXMgaXMgYWxzbyB1c2VkIHRvIHNpbXBsaWZ5IHRoZSBsaW5lYXIgc3lzdGVtLlxuICAgICAgICB2YXIgc291cmNlTnVtZXJpY2FsU2hpZnRYID0geDA7XG4gICAgICAgIHZhciBzb3VyY2VOdW1lcmljYWxTaGlmdFkgPSB5MDtcbiAgICAgICAgeDAgPSAwO1xuICAgICAgICB5MCA9IDA7XG4gICAgICAgIHgxIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICAgICAgeTEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuICAgICAgICB4MiAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFg7XG4gICAgICAgIHkyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WTtcbiAgICAgICAgdmFyIGF1Z21lbnRlZE1hdHJpeCA9IFtcbiAgICAgICAgICAgIFt4MSwgeTEsIDAsIDAsIHUxIC0gdTBdLFxuICAgICAgICAgICAgW3gyLCB5MiwgMCwgMCwgdTIgLSB1MF0sXG4gICAgICAgICAgICBbMCwgMCwgeDEsIHkxLCB2MSAtIHYwXSxcbiAgICAgICAgICAgIFswLCAwLCB4MiwgeTIsIHYyIC0gdjBdLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgYWZmaW5lQ29lZnMgPSBzb2x2ZUxpbmVhclN5c3RlbShhdWdtZW50ZWRNYXRyaXgpO1xuICAgICAgICBpZiAoIWFmZmluZUNvZWZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkgfHwgIW9wdF9pbnRlcnBvbGF0ZSkge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgYWxsIGxpbmVzIGFyZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZGlhZ29uYWwgbGluZS4gRG8gaXQgaW4gNCBzdGVwc1xuICAgICAgICAgICAgdmFyIHN0ZXBzID0gNDtcbiAgICAgICAgICAgIHZhciB1ZCA9IHUwIC0gdTE7XG4gICAgICAgICAgICB2YXIgdmQgPSB2MCAtIHYxO1xuICAgICAgICAgICAgZm9yICh2YXIgc3RlcCA9IDA7IHN0ZXAgPCBzdGVwczsgc3RlcCsrKSB7XG4gICAgICAgICAgICAgICAgLy8gR28gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTEgKyBwaXhlbFJvdW5kKCgoc3RlcCArIDEpICogdWQpIC8gc3RlcHMpLCB2MSArIHBpeGVsUm91bmQoKHN0ZXAgKiB2ZCkgLyAoc3RlcHMgLSAxKSkpO1xuICAgICAgICAgICAgICAgIC8vIEdvIHZlcnRpY2FsbHlcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCAhPSBzdGVwcyAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTEgKyBwaXhlbFJvdW5kKCgoc3RlcCArIDEpICogdWQpIC8gc3RlcHMpLCB2MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB2ZCkgLyAoc3RlcHMgLSAxKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGFyZSBhbG1vc3QgYXQgdTByLCB2MHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNmb3JtKGFmZmluZUNvZWZzWzBdLCBhZmZpbmVDb2Vmc1syXSwgYWZmaW5lQ29lZnNbMV0sIGFmZmluZUNvZWZzWzNdLCB1MCwgdjApO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzb3VyY2VEYXRhRXh0ZW50WzBdIC0gc291cmNlTnVtZXJpY2FsU2hpZnRYLCBzb3VyY2VEYXRhRXh0ZW50WzNdIC0gc291cmNlTnVtZXJpY2FsU2hpZnRZKTtcbiAgICAgICAgY29udGV4dC5zY2FsZShzb3VyY2VSZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbywgLXNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvKTtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2Uoc3RpdGNoQ29udGV4dC5jYW52YXMsIDAsIDApO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgICBpZiAob3B0X3JlbmRlckVkZ2VzKSB7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIHRyaWFuZ3VsYXRpb24uZ2V0VHJpYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRyaWFuZ2xlLnRhcmdldDtcbiAgICAgICAgICAgIHZhciB1MCA9ICh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdjAgPSAtKHRhcmdldFswXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB1MSA9ICh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdjEgPSAtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB1MiA9ICh0YXJnZXRbMl1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdjIgPSAtKHRhcmdldFsyXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5jYW52YXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXByb2ouanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovVGlsZVxuICovXG5pbXBvcnQgeyBFUlJPUl9USFJFU0hPTEQgfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVHJpYW5ndWxhdGlvbiBmcm9tICcuL1RyaWFuZ3VsYXRpb24uanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbiwgcmVuZGVyIGFzIHJlbmRlclJlcHJvamVjdGVkLCB9IGZyb20gJy4uL3JlcHJvai5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHsgZ2V0QXJlYSwgZ2V0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIpIDogaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBGdW5jdGlvblR5cGVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBlbmNhcHN1bGF0aW5nIHNpbmdsZSByZXByb2plY3RlZCB0aWxlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGVJbWFnZX5UaWxlSW1hZ2V9LlxuICpcbiAqL1xudmFyIFJlcHJvalRpbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcHJvalRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVRpbGVHcmlkIFNvdXJjZSB0aWxlIGdyaWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRhcmdldFRpbGVHcmlkIFRhcmdldCB0aWxlIGdyaWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgQ29vcmRpbmF0ZSBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHdyYXBwZWRUaWxlQ29vcmQgQ29vcmRpbmF0ZSBvZiB0aGUgdGlsZSB3cmFwcGVkIGluIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZSB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uVHlwZX0gZ2V0VGlsZUZ1bmN0aW9uXG4gICAgICogICAgIEZ1bmN0aW9uIHJldHVybmluZyBzb3VyY2UgdGlsZXMgKHosIHgsIHksIHBpeGVsUmF0aW8pLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2Vycm9yVGhyZXNob2xkXSBBY2NlcHRhYmxlIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcHgpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yZW5kZXJFZGdlc10gUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaW50ZXJwb2xhdGVdIFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVwcm9qVGlsZShzb3VyY2VQcm9qLCBzb3VyY2VUaWxlR3JpZCwgdGFyZ2V0UHJvaiwgdGFyZ2V0VGlsZUdyaWQsIHRpbGVDb29yZCwgd3JhcHBlZFRpbGVDb29yZCwgcGl4ZWxSYXRpbywgZ3V0dGVyLCBnZXRUaWxlRnVuY3Rpb24sIG9wdF9lcnJvclRocmVzaG9sZCwgb3B0X3JlbmRlckVkZ2VzLCBvcHRfaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGlsZUNvb3JkLCBUaWxlU3RhdGUuSURMRSwgeyBpbnRlcnBvbGF0ZTogISFvcHRfaW50ZXJwb2xhdGUgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyRWRnZXNfID0gb3B0X3JlbmRlckVkZ2VzICE9PSB1bmRlZmluZWQgPyBvcHRfcmVuZGVyRWRnZXMgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3V0dGVyXyA9IGd1dHRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VUaWxlR3JpZF8gPSBzb3VyY2VUaWxlR3JpZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0VGlsZUdyaWRfID0gdGFyZ2V0VGlsZUdyaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBwZWRUaWxlQ29vcmRfID0gd3JhcHBlZFRpbGVDb29yZCA/IHdyYXBwZWRUaWxlQ29vcmQgOiB0aWxlQ29vcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VUaWxlc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlWl8gPSAwO1xuICAgICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGFyZ2V0VGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KF90aGlzLndyYXBwZWRUaWxlQ29vcmRfKTtcbiAgICAgICAgdmFyIG1heFRhcmdldEV4dGVudCA9IF90aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIG1heFNvdXJjZUV4dGVudCA9IF90aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIGxpbWl0ZWRUYXJnZXRFeHRlbnQgPSBtYXhUYXJnZXRFeHRlbnRcbiAgICAgICAgICAgID8gZ2V0SW50ZXJzZWN0aW9uKHRhcmdldEV4dGVudCwgbWF4VGFyZ2V0RXh0ZW50KVxuICAgICAgICAgICAgOiB0YXJnZXRFeHRlbnQ7XG4gICAgICAgIGlmIChnZXRBcmVhKGxpbWl0ZWRUYXJnZXRFeHRlbnQpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBUaWxlIGlzIGNvbXBsZXRlbHkgb3V0c2lkZSByYW5nZSAtPiBFTVBUWVxuICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgYWN0dWFsbHkgY29ycmVjdCB0aGF0IHRoZSBzb3VyY2UgZXZlbiBjcmVhdGVzIHRoZSB0aWxlID9cbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2VQcm9qRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKHNvdXJjZVByb2pFeHRlbnQpIHtcbiAgICAgICAgICAgIGlmICghbWF4U291cmNlRXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgbWF4U291cmNlRXh0ZW50ID0gc291cmNlUHJvakV4dGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heFNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVByb2pFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0VGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihfdGhpcy53cmFwcGVkVGlsZUNvb3JkX1swXSk7XG4gICAgICAgIHZhciBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSB8fCBzb3VyY2VSZXNvbHV0aW9uIDw9IDApIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgc291cmNlUmVzb2x1dGlvbiAtPiBFTVBUWVxuICAgICAgICAgICAgLy8gcHJvYmFibHkgZWRnZXMgb2YgdGhlIHByb2plY3Rpb25zIHdoZW4gbm8gZXh0ZW50IGlzIGRlZmluZWRcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvclRocmVzaG9sZEluUGl4ZWxzID0gb3B0X2Vycm9yVGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRfZXJyb3JUaHJlc2hvbGQgOiBFUlJPUl9USFJFU0hPTEQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4vVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpYW5ndWxhdGlvbl8gPSBuZXcgVHJpYW5ndWxhdGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKF90aGlzLnRyaWFuZ3VsYXRpb25fLmdldFRyaWFuZ2xlcygpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gdmFsaWQgdHJpYW5nbGVzIC0+IEVNUFRZXG4gICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zb3VyY2VaXyA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gX3RoaXMudHJpYW5ndWxhdGlvbl8uY2FsY3VsYXRlU291cmNlRXh0ZW50KCk7XG4gICAgICAgIGlmIChtYXhTb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VQcm9qLmNhbldyYXBYKCkpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnRbMV0gPSBjbGFtcChzb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnRbM10gPSBjbGFtcChzb3VyY2VFeHRlbnRbM10sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihzb3VyY2VFeHRlbnQsIG1heFNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnZXRBcmVhKHNvdXJjZUV4dGVudCkpIHtcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNvdXJjZVJhbmdlID0gc291cmNlVGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihzb3VyY2VFeHRlbnQsIF90aGlzLnNvdXJjZVpfKTtcbiAgICAgICAgICAgIGZvciAodmFyIHNyY1ggPSBzb3VyY2VSYW5nZS5taW5YOyBzcmNYIDw9IHNvdXJjZVJhbmdlLm1heFg7IHNyY1grKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHNyY1kgPSBzb3VyY2VSYW5nZS5taW5ZOyBzcmNZIDw9IHNvdXJjZVJhbmdlLm1heFk7IHNyY1krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IGdldFRpbGVGdW5jdGlvbihfdGhpcy5zb3VyY2VaXywgc3JjWCwgc3JjWSwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VUaWxlc18ucHVzaCh0aWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEhUTUwgQ2FudmFzIGVsZW1lbnQgZm9yIHRoaXMgdGlsZS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgICAqL1xuICAgIFJlcHJvalRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS5yZXByb2plY3RfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50OiB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZS50aWxlQ29vcmQpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGlsZS5nZXRJbWFnZSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPSAwO1xuICAgICAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRVJST1I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgeiA9IHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF07XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFRpbGVTaXplKHopO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMV07XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgICAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldFJlc29sdXRpb24odGhpcy5zb3VyY2VaXyk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRoaXMud3JhcHBlZFRpbGVDb29yZF8pO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfID0gcmVuZGVyUmVwcm9qZWN0ZWQod2lkdGgsIGhlaWdodCwgdGhpcy5waXhlbFJhdGlvXywgc291cmNlUmVzb2x1dGlvbiwgdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0RXh0ZW50KCksIHRhcmdldFJlc29sdXRpb24sIHRhcmdldEV4dGVudCwgdGhpcy50cmlhbmd1bGF0aW9uXywgc291cmNlcywgdGhpcy5ndXR0ZXJfLCB0aGlzLnJlbmRlckVkZ2VzXywgdGhpcy5pbnRlcnBvbGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqL1xuICAgIFJlcHJvalRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgICAgIHZhciBsZWZ0VG9Mb2FkXzEgPSAwO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VUaWxlc18uZm9yRWFjaChmdW5jdGlvbiAodGlsZSwgaSwgYXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSB8fCBzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0VG9Mb2FkXzErKztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZUxpc3RlbktleV8xID0gbGlzdGVuKHRpbGUsIEV2ZW50VHlwZS5DSEFOR0UsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FTVBUWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoc291cmNlTGlzdGVuS2V5XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRUb0xvYWRfMS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkXzEgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmxpc3RlblNvdXJjZXNfKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0XygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18ucHVzaChzb3VyY2VMaXN0ZW5LZXlfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkXzEgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVwcm9qZWN0Xy5iaW5kKHRoaXMpLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRpbGUsIGksIGFycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS51bmxpc3RlblNvdXJjZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcHJvalRpbGU7XG59KFRpbGUpKTtcbmV4cG9ydCBkZWZhdWx0IFJlcHJvalRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovY29tbW9uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIGFsbG93ZWQgdGhyZXNob2xkICAoaW4gcGl4ZWxzKSBmb3IgcmVwcm9qZWN0aW9uXG4gKiB0cmlhbmd1bGF0aW9uLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBFUlJPUl9USFJFU0hPTEQgPSAwLjU7XG4vKipcbiAqIEVuYWJsZSBhdXRvbWF0aWMgcmVwcm9qZWN0aW9uIG9mIHJhc3RlciBzb3VyY2VzLiBEZWZhdWx0IGlzIGB0cnVlYC5cbiAqIFRPRE86IGRlY2lkZSBpZiB3ZSB3YW50IHRvIGV4cG9zZSB0aGlzIGFzIGEgYnVpbGQgZmxhZyBvciByZW1vdmUgaXRcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9MUlVDYWNoZVxuICovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW50cnlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBrZXlfIEtleS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBuZXdlciBOZXdlci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvbGRlciBPbGRlci5cbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWVfIFZhbHVlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudHMgYSBMZWFzdC1SZWNlbnRseS1Vc2VkIGNhY2hlIHdoZXJlIHRoZSBrZXlzIGRvIG5vdCBjb25mbGljdCB3aXRoXG4gKiBPYmplY3QncyBwcm9wZXJ0aWVzIChlLmcuICdoYXNPd25Qcm9wZXJ0eScgaXMgbm90IGFsbG93ZWQgYXMgYSBrZXkpLiBFeHBpcmluZ1xuICogaXRlbXMgZnJvbSB0aGUgY2FjaGUgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIExSVUNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2hpZ2hXYXRlck1hcmtdIEhpZ2ggd2F0ZXIgbWFyay5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMUlVDYWNoZShvcHRfaGlnaFdhdGVyTWFyaykge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBtYXggY2FjaGUgc2l6ZSBhZnRlciBleHBpcmVDYWNoZSgpLiBJZiBzZXQgdG8gMCwgbm8gY2FjaGUgZW50cmllc1xuICAgICAgICAgKiB3aWxsIGJlIHBydW5lZCBhdCBhbGwuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPVxuICAgICAgICAgICAgb3B0X2hpZ2hXYXRlck1hcmsgIT09IHVuZGVmaW5lZCA/IG9wdF9oaWdoV2F0ZXJNYXJrIDogMjA0ODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIEVudHJ5Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50cmllc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9FbnRyeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaWdoV2F0ZXJNYXJrID4gMCAmJiB0aGlzLmdldENvdW50KCkgPiB0aGlzLmhpZ2hXYXRlck1hcms7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY291bnRfID0gMDtcbiAgICAgICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuICAgICAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMga2V5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc18uaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgc3RyaW5nLCBMUlVDYWNoZTxUPik6ID99IGYgVGhlIGZ1bmN0aW9uXG4gICAgICogICAgIHRvIGNhbGwgZm9yIGV2ZXJ5IGVudHJ5IGZyb20gdGhlIG9sZGVzdCB0byB0aGUgbmV3ZXIuIFRoaXMgZnVuY3Rpb24gdGFrZXNcbiAgICAgKiAgICAgMyBhcmd1bWVudHMgKHRoZSBlbnRyeSB2YWx1ZSwgdGhlIGVudHJ5IGtleSBhbmQgdGhlIExSVUNhY2hlIG9iamVjdCkuXG4gICAgICogICAgIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICAgICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICAgICAgICBmKGVudHJ5LnZhbHVlXywgZW50cnkua2V5XywgdGhpcyk7XG4gICAgICAgICAgICBlbnRyeSA9IGVudHJ5Lm5ld2VyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRfb3B0aW9uc10gT3B0aW9ucyAocmVzZXJ2ZWQgZm9yIHN1YmNsYXNzZXMpLlxuICAgICAqIEByZXR1cm4ge1R9IFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgICAgIGFzc2VydChlbnRyeSAhPT0gdW5kZWZpbmVkLCAxNSk7IC8vIFRyaWVkIHRvIGdldCBhIHZhbHVlIGZvciBhIGtleSB0aGF0IGRvZXMgbm90IGV4aXN0IGluIHRoZSBjYWNoZVxuICAgICAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAodGhpcy5vbGRlc3RfLm5ld2VyKTtcbiAgICAgICAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5uZXdlciA9IG51bGw7XG4gICAgICAgIGVudHJ5Lm9sZGVyID0gdGhpcy5uZXdlc3RfO1xuICAgICAgICB0aGlzLm5ld2VzdF8ubmV3ZXIgPSBlbnRyeTtcbiAgICAgICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZW50cnkgZnJvbSB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgZW50cnkga2V5LlxuICAgICAqIEByZXR1cm4ge1R9IFRoZSByZW1vdmVkIGVudHJ5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm5ld2VzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkub2xkZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmV3ZXN0Xykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0Xykge1xuICAgICAgICAgICAgdGhpcy5vbGRlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm5ld2VyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9sZGVzdF8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9sZGVzdF8ub2xkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBlbnRyeS5vbGRlcjtcbiAgICAgICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgLS10aGlzLmNvdW50XztcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBLZXlzLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5cyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgICAgICAga2V5c1tpKytdID0gZW50cnkua2V5XztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBWYWx1ZXMuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgICAgICAgdmFsdWVzW2krK10gPSBlbnRyeS52YWx1ZV87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1R9IExhc3QgdmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRlc3RfLnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGFzdCBrZXkuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0S2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRlc3RfLmtleV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGtleSBvZiB0aGUgbmV3ZXN0IGl0ZW0gaW4gdGhlIGNhY2hlLiAgVGhyb3dzIGlmIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBuZXdlc3Qga2V5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wZWVrRmlyc3RLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld2VzdF8ua2V5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc19bZW50cnkua2V5X107XG4gICAgICAgIGlmIChlbnRyeS5uZXdlcikge1xuICAgICAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgICAgIGlmICghdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC0tdGhpcy5jb3VudF87XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5nZXQoa2V5KTsgLy8gdXBkYXRlIGBuZXdlc3RfYFxuICAgICAgICB0aGlzLmVudHJpZXNfW2tleV0udmFsdWVfID0gdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhc3NlcnQoIShrZXkgaW4gdGhpcy5lbnRyaWVzXyksIDE2KTsgLy8gVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgaXMgdXNlZCBhbHJlYWR5XG4gICAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgICAgIGtleV86IGtleSxcbiAgICAgICAgICAgIG5ld2VyOiBudWxsLFxuICAgICAgICAgICAgb2xkZXI6IHRoaXMubmV3ZXN0XyxcbiAgICAgICAgICAgIHZhbHVlXzogdmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IGVudHJ5O1xuICAgICAgICB0aGlzLmVudHJpZXNfW2tleV0gPSBlbnRyeTtcbiAgICAgICAgKyt0aGlzLmNvdW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgZm9yIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBDYWNoZSBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IHNpemU7XG4gICAgfTtcbiAgICByZXR1cm4gTFJVQ2FjaGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MUlVDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWNvb3JkXG4gKi9cbi8qKlxuICogQW4gYXJyYXkgb2YgdGhyZWUgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIGEgdGlsZSBpbiBhIHRpbGVcbiAqIGdyaWQuIFRoZSBvcmRlciBpcyBgemAgKHpvb20gbGV2ZWwpLCBgeGAgKGNvbHVtbiksIGFuZCBgeWAgKHJvdykuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gVGlsZUNvb3JkXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IFtvcHRfdGlsZUNvb3JkXSBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtUaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKHosIHgsIHksIG9wdF90aWxlQ29vcmQpIHtcbiAgICBpZiAob3B0X3RpbGVDb29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdF90aWxlQ29vcmRbMF0gPSB6O1xuICAgICAgICBvcHRfdGlsZUNvb3JkWzFdID0geDtcbiAgICAgICAgb3B0X3RpbGVDb29yZFsyXSA9IHk7XG4gICAgICAgIHJldHVybiBvcHRfdGlsZUNvb3JkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFt6LCB4LCB5XTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5WlhZKHosIHgsIHkpIHtcbiAgICByZXR1cm4geiArICcvJyArIHggKyAnLycgKyB5O1xufVxuLyoqXG4gKiBHZXQgdGhlIGtleSBmb3IgYSB0aWxlIGNvb3JkLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaGUgdGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5KHRpbGVDb29yZCkge1xuICAgIHJldHVybiBnZXRLZXlaWFkodGlsZUNvb3JkWzBdLCB0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG59XG4vKipcbiAqIEdldCB0aGUgdGlsZSBjYWNoZSBrZXkgZm9yIGEgdGlsZSBrZXkgb2J0YWluZWQgdGhyb3VnaCBgdGlsZS5nZXRLZXkoKWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGlsZUtleSBUaGUgdGlsZSBrZXkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjYWNoZSBrZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZUtleUZvclRpbGVLZXkodGlsZUtleSkge1xuICAgIHZhciBfYSA9IHRpbGVLZXlcbiAgICAgICAgLnN1YnN0cmluZyh0aWxlS2V5Lmxhc3RJbmRleE9mKCcvJykgKyAxLCB0aWxlS2V5Lmxlbmd0aClcbiAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgLm1hcChOdW1iZXIpLCB6ID0gX2FbMF0sIHggPSBfYVsxXSwgeSA9IF9hWzJdO1xuICAgIHJldHVybiBnZXRLZXlaWFkoeiwgeCwgeSk7XG59XG4vKipcbiAqIEdldCBhIHRpbGUgY29vcmQgZ2l2ZW4gYSBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSB0aWxlIGNvb3JkIGtleS5cbiAqIEByZXR1cm4ge1RpbGVDb29yZH0gVGhlIHRpbGUgY29vcmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tS2V5KGtleSkge1xuICAgIHJldHVybiBrZXkuc3BsaXQoJy8nKS5tYXAoTnVtYmVyKTtcbn1cbi8qKlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkLlxuICogQHJldHVybiB7bnVtYmVyfSBIYXNoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaCh0aWxlQ29vcmQpIHtcbiAgICByZXR1cm4gKHRpbGVDb29yZFsxXSA8PCB0aWxlQ29vcmRbMF0pICsgdGlsZUNvb3JkWzJdO1xufVxuLyoqXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7IWltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBjb29yZGluYXRlIGlzIHdpdGhpbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW5FeHRlbnRBbmRaKHRpbGVDb29yZCwgdGlsZUdyaWQpIHtcbiAgICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgICB2YXIgeCA9IHRpbGVDb29yZFsxXTtcbiAgICB2YXIgeSA9IHRpbGVDb29yZFsyXTtcbiAgICBpZiAodGlsZUdyaWQuZ2V0TWluWm9vbSgpID4geiB8fCB6ID4gdGlsZUdyaWQuZ2V0TWF4Wm9vbSgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gICAgaWYgKCF0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGlsZVJhbmdlLmNvbnRhaW5zWFkoeCwgeSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZWNvb3JkLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVGlsZUNhY2hlXG4gKi9cbmltcG9ydCBMUlVDYWNoZSBmcm9tICcuL3N0cnVjdHMvTFJVQ2FjaGUuanMnO1xuaW1wb3J0IHsgZnJvbUtleSwgZ2V0S2V5IH0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xudmFyIFRpbGVDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZUNhY2hlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRpbGVDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZUNhY2hlLnByb3RvdHlwZS5leHBpcmVDYWNoZSA9IGZ1bmN0aW9uICh1c2VkVGlsZXMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgdmFyIHRpbGUgPSB0aGlzLnBlZWtMYXN0KCk7XG4gICAgICAgICAgICBpZiAodGlsZS5nZXRLZXkoKSBpbiB1c2VkVGlsZXMpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucG9wKCkucmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcnVuZSBhbGwgdGlsZXMgZnJvbSB0aGUgY2FjaGUgdGhhdCBkb24ndCBoYXZlIHRoZSBzYW1lIHogYXMgdGhlIG5ld2VzdCB0aWxlLlxuICAgICAqL1xuICAgIFRpbGVDYWNoZS5wcm90b3R5cGUucHJ1bmVFeGNlcHROZXdlc3RaID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IHRoaXMucGVla0ZpcnN0S2V5KCk7XG4gICAgICAgIHZhciB0aWxlQ29vcmQgPSBmcm9tS2V5KGtleSk7XG4gICAgICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHRpbGUpIHtcbiAgICAgICAgICAgIGlmICh0aWxlLnRpbGVDb29yZFswXSAhPT0geikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGdldEtleSh0aWxlLnRpbGVDb29yZCkpO1xuICAgICAgICAgICAgICAgIHRpbGUucmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVDYWNoZTtcbn0oTFJVQ2FjaGUpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVDYWNoZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVDYWNoZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9Tb3VyY2VcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiB9IGZyb20gJy4uL3Byb2ouanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL1BsdWdnYWJsZU1hcH5GcmFtZVN0YXRlfSBhbmQgcmV0dXJucyBhIHN0cmluZyBvclxuICogYW4gYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgc291cmNlIGF0dHJpYnV0aW9ucy5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGUpOiAoc3RyaW5nfEFycmF5PHN0cmluZz4pfSBBdHRyaWJ1dGlvblxuICovXG4vKipcbiAqIEEgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYXR0cmlidXRpb24gaW5mb3JtYXRpb24gZm9yIGRhdGEgc291cmNlcy5cbiAqXG4gKiBJdCByZXByZXNlbnRzIGVpdGhlclxuICogKiBhIHNpbXBsZSBzdHJpbmcgKGUuZy4gYCfCqSBBY21lIEluYy4nYClcbiAqICogYW4gYXJyYXkgb2Ygc2ltcGxlIHN0cmluZ3MgKGUuZy4gYFsnwqkgQWNtZSBJbmMuJywgJ8KpIEJhY21lIEluYy4nXWApXG4gKiAqIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgKHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0pXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xBcnJheTxzdHJpbmc+fEF0dHJpYnV0aW9ufSBBdHRyaWJ1dGlvbkxpa2VcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0F0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uIERlZmF1bHQgaXMgdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGU9J3JlYWR5J10gU3RhdGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV3JhcFguXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT1mYWxzZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIHRoZSBuZWFyZXN0IG5laWdoYm9yIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXJ9IHNvdXJjZXMuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIFNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBTb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb3VyY2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9BdHRyaWJ1dGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF0dHJpYnV0aW9uc18gPSBhZGFwdEF0dHJpYnV0aW9ucyhvcHRpb25zLmF0dHJpYnV0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGVcbiAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZyBkYXRhLiBTb3VyY2VzIHRoYXQgZGVmZXIgbG9hZGluZyB0byB0aGVcbiAgICAgICAgICogbWFwJ3MgdGlsZSBxdWV1ZSBuZXZlciBzZXQgdGhpcyB0byBgdHJ1ZWAuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlXyA9XG4gICAgICAgICAgICBvcHRpb25zLnN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXRlIDogU291cmNlU3RhdGUuUkVBRFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBYXyA9IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJwb2xhdGVfID0gISFvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucyk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdSZXNvbHZlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihFcnJvcik6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdSZWplY3RvciA9IG51bGw7XG4gICAgICAgIHZhciBzZWxmID0gX3RoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7UHJvbWlzZTxpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdQcm9taXNlXyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHNlbGYudmlld1Jlc29sdmVyID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHNlbGYudmlld1JlamVjdG9yID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQXR0cmlidXRpb24gZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRpb25zQ29sbGFwc2libGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwcm9qZWN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFByb2plY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59IEEgcHJvbWlzZSBmb3Igdmlldy1yZWxhdGVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3UHJvbWlzZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UsIHNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9TdGF0ZX5TdGF0ZX0gZm9yIHBvc3NpYmxlIHN0YXRlcy5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFN0YXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gV3JhcCBYLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0V3JhcFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBYXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRJbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHRoZSBzb3VyY2UuIFRoZSBzb3VyY2Ugd2lsbCBiZSBjbGVhcmVkLCBhbmQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIgd2lsbCBiZSByZWxvYWRlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXR0cmlidXRpb25zIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtBdHRyaWJ1dGlvbkxpa2V8dW5kZWZpbmVkfSBhdHRyaWJ1dGlvbnMgQXR0cmlidXRpb25zLlxuICAgICAqICAgICBDYW4gYmUgcGFzc2VkIGFzIGBzdHJpbmdgLCBgQXJyYXk8c3RyaW5nPmAsIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0sXG4gICAgICogICAgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU291cmNlO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIFR1cm5zIHRoZSBhdHRyaWJ1dGlvbnMgb3B0aW9uIGludG8gYW4gYXR0cmlidXRpb25zIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtBdHRyaWJ1dGlvbkxpa2V8dW5kZWZpbmVkfSBhdHRyaWJ1dGlvbkxpa2UgVGhlIGF0dHJpYnV0aW9uIG9wdGlvbi5cbiAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQW4gYXR0cmlidXRpb24gZnVuY3Rpb24gKG9yIG51bGwpLlxuICovXG5mdW5jdGlvbiBhZGFwdEF0dHJpYnV0aW9ucyhhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgICBpZiAoIWF0dHJpYnV0aW9uTGlrZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25MaWtlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXR0cmlidXRpb25MaWtlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gW2F0dHJpYnV0aW9uTGlrZV07XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvdXJjZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvVGlsZUdyaWRcbiAqL1xuaW1wb3J0IFRpbGVSYW5nZSwgeyBjcmVhdGVPclVwZGF0ZSBhcyBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSwgfSBmcm9tICcuLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9USUxFX1NJWkUgfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNlaWwsIGNsYW1wLCBmbG9vciB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUsIGdldFRvcExlZnQgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQgfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHsgaXNTb3J0ZWQsIGxpbmVhckZpbmROZWFyZXN0IH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgdG9TaXplIH0gZnJvbSAnLi4vc2l6ZS5qcyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAqL1xudmFyIHRtcFRpbGVDb29yZCA9IFswLCAwLCAwXTtcbi8qKlxuICogTnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzIHRvIGNvbnNpZGVyIGluIGludGVnZXIgdmFsdWVzIHdoZW4gcm91bmRpbmcuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVDSU1BTFMgPSA1O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gTm8gdGlsZXMgb3V0c2lkZSB0aGlzXG4gKiBleHRlbnQgd2lsbCBiZSByZXF1ZXN0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX0gc291cmNlcy4gV2hlbiBubyBgb3JpZ2luYCBvclxuICogYG9yaWdpbnNgIGFyZSBjb25maWd1cmVkLCB0aGUgYG9yaWdpbmAgd2lsbCBiZSBzZXQgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3JpZ2luXSBUaGUgdGlsZSBncmlkIG9yaWdpbiwgaS5lLiB3aGVyZSB0aGUgYHhgXG4gKiBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIGRvd253YXJkcy4gSWYgbm90XG4gKiBzcGVjaWZpZWQsIGBleHRlbnRgIG9yIGBvcmlnaW5zYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBbb3JpZ2luc10gVGlsZSBncmlkIG9yaWdpbnMsIGkuZS4gd2hlcmVcbiAqIHRoZSBgeGAgYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKSwgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogb3JpZ2luLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIGRvd253YXJkcy4gSWYgbm90IHNwZWNpZmllZCwgYGV4dGVudGAgb3JcbiAqIGBvcmlnaW5gIG11c3QgYmUgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkgeyFBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy4gVGhlIGFycmF5IGluZGV4IG9mIGVhY2ggcmVzb2x1dGlvbiBuZWVkc1xuICogdG8gbWF0Y2ggdGhlIHpvb20gbGV2ZWwuIFRoaXMgbWVhbnMgdGhhdCBldmVuIGlmIGEgYG1pblpvb21gIGlzIGNvbmZpZ3VyZWQsIHRoZSByZXNvbHV0aW9uc1xuICogYXJyYXkgd2lsbCBoYXZlIGEgbGVuZ3RoIG9mIGBtYXhab29tICsgMWAuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFtzaXplc10gTnVtYmVyIG9mIHRpbGUgcm93cyBhbmQgY29sdW1uc1xuICogb2YgdGhlIGdyaWQgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWYgc3BlY2lmaWVkIHRoZSB2YWx1ZXNcbiAqIGRlZmluZSBlYWNoIHpvb20gbGV2ZWwncyBleHRlbnQgdG9nZXRoZXIgd2l0aCB0aGUgYG9yaWdpbmAgb3IgYG9yaWdpbnNgLlxuICogQSBncmlkIGBleHRlbnRgIGNhbiBiZSBjb25maWd1cmVkIGluIGFkZGl0aW9uLCBhbmQgd2lsbCBmdXJ0aGVyIGxpbWl0IHRoZSBleHRlbnRcbiAqIGZvciB3aGljaCB0aWxlIHJlcXVlc3RzIGFyZSBtYWRlIGJ5IHNvdXJjZXMuIElmIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgb2ZcbiAqIGFuIGV4dGVudCBpcyB1c2VkIGFzIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCwgdGhlbiB0aGUgYHlgIHZhbHVlIG11c3QgYmVcbiAqIG5lZ2F0aXZlIGJlY2F1c2UgT3BlbkxheWVycyB0aWxlIGNvb3JkaW5hdGVzIHVzZSB0aGUgdG9wIGxlZnQgYXMgdGhlIG9yaWdpbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUuXG4gKiBEZWZhdWx0IGlzIGBbMjU2LCAyNTZdYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3RpbGVTaXplc10gVGlsZSBzaXplcy4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogdGlsZSBzaXplLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHNldHRpbmcgdGhlIGdyaWQgcGF0dGVybiBmb3Igc291cmNlcyBhY2Nlc3NpbmcgdGlsZWQtaW1hZ2VcbiAqIHNlcnZlcnMuXG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgVGlsZSBncmlkIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZUdyaWQob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ab29tID0gb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuICAgICAgICBhc3NlcnQoaXNTb3J0ZWQodGhpcy5yZXNvbHV0aW9uc18sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYiAtIGE7XG4gICAgICAgIH0sIHRydWUpLCAxNyk7IC8vIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBzb3J0ZWQgaW4gZGVzY2VuZGluZyBvcmRlclxuICAgICAgICAvLyBjaGVjayBpZiB3ZSd2ZSBnb3QgYSBjb25zaXN0ZW50IHpvb20gZmFjdG9yIGFuZCBvcmlnaW5cbiAgICAgICAgdmFyIHpvb21GYWN0b3I7XG4gICAgICAgIGlmICghb3B0aW9ucy5vcmlnaW5zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAxOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICghem9vbUZhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICB6b29tRmFjdG9yID0gdGhpcy5yZXNvbHV0aW9uc19baV0gLyB0aGlzLnJlc29sdXRpb25zX1tpICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc19baV0gLyB0aGlzLnJlc29sdXRpb25zX1tpICsgMV0gIT09IHpvb21GYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnpvb21GYWN0b3JfID0gem9vbUZhY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5fID0gb3B0aW9ucy5vcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3JpZ2luIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5zXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLm9yaWdpbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5zXyA9IG9wdGlvbnMub3JpZ2lucztcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLm9yaWdpbnNfLmxlbmd0aCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGgsIDIwKTsgLy8gTnVtYmVyIG9mIGBvcmlnaW5zYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50O1xuICAgICAgICBpZiAoZXh0ZW50ICE9PSB1bmRlZmluZWQgJiYgIXRoaXMub3JpZ2luXyAmJiAhdGhpcy5vcmlnaW5zXykge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5fID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydCgoIXRoaXMub3JpZ2luXyAmJiB0aGlzLm9yaWdpbnNfKSB8fCAodGhpcy5vcmlnaW5fICYmICF0aGlzLm9yaWdpbnNfKSwgMTgpOyAvLyBFaXRoZXIgYG9yaWdpbmAgb3IgYG9yaWdpbnNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aFxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlU2l6ZXNfID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMudGlsZVNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVNpemVzXyA9IG9wdGlvbnMudGlsZVNpemVzO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMudGlsZVNpemVzXy5sZW5ndGggPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoLCAxOSk7IC8vIE51bWJlciBvZiBgdGlsZVNpemVzYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlU2l6ZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy50aWxlU2l6ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnRpbGVTaXplXG4gICAgICAgICAgICAgICAgOiAhdGhpcy50aWxlU2l6ZXNfXG4gICAgICAgICAgICAgICAgICAgID8gREVGQVVMVF9USUxFX1NJWkVcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBhc3NlcnQoKCF0aGlzLnRpbGVTaXplXyAmJiB0aGlzLnRpbGVTaXplc18pIHx8XG4gICAgICAgICAgICAodGhpcy50aWxlU2l6ZV8gJiYgIXRoaXMudGlsZVNpemVzXyksIDIyKTsgLy8gRWl0aGVyIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudCAhPT0gdW5kZWZpbmVkID8gZXh0ZW50IDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50bXBTaXplXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50bXBFeHRlbnRfID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBpZiAob3B0aW9ucy5zaXplcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG9wdGlvbnMuc2l6ZXMubWFwKGZ1bmN0aW9uIChzaXplLCB6KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVSYW5nZSA9IG5ldyBUaWxlUmFuZ2UoTWF0aC5taW4oMCwgc2l6ZVswXSksIE1hdGgubWF4KHNpemVbMF0gLSAxLCAtMSksIE1hdGgubWluKDAsIHNpemVbMV0pLCBNYXRoLm1heChzaXplWzFdIC0gMSwgLTEpKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN0cmljdGVkVGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5taW5YID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5YLCB0aWxlUmFuZ2UubWluWCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhYID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhYLCB0aWxlUmFuZ2UubWF4WCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5taW5ZID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5ZLCB0aWxlUmFuZ2UubWluWSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhZID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhZLCB0aWxlUmFuZ2UubWF4WSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVGlsZVJhbmdlc18oZXh0ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCBlYWNoIHRpbGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCk6IHZvaWR9IGNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIGVhY2ggdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZm9yRWFjaFRpbGVDb29yZCA9IGZ1bmN0aW9uIChleHRlbnQsIHpvb20sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB0aWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6b29tKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRpbGVSYW5nZS5taW5YLCBpaSA9IHRpbGVSYW5nZS5tYXhYOyBpIDw9IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSB0aWxlUmFuZ2UubWluWSwgamogPSB0aWxlUmFuZ2UubWF4WTsgaiA8PSBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soW3pvb20sIGksIGpdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFtvcHRfdGlsZVJhbmdlXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYWxsYmFjayBzdWNjZWVkZWQuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBjYWxsYmFjaywgb3B0X3RpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICAgICAgICB2YXIgdGlsZVJhbmdlLCB4LCB5O1xuICAgICAgICB2YXIgdGlsZUNvb3JkRXh0ZW50ID0gbnVsbDtcbiAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF0gLSAxO1xuICAgICAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgICAgICAgeCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgICAgIHkgPSB0aWxlQ29vcmRbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIG9wdF9leHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh6ID49IHRoaXMubWluWm9vbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5mbG9vcih4IC8gMik7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoeSAvIDIpO1xuICAgICAgICAgICAgICAgIHRpbGVSYW5nZSA9IGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKHgsIHgsIHksIHksIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRpbGVDb29yZEV4dGVudCwgeiwgb3B0X3RpbGVSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2soeiwgdGlsZVJhbmdlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLS16O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZCwgaWYgaXQgd2FzIGNvbmZpZ3VyZWQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWF4IHpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhab29tO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluIHpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRNaW5ab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5ab29tO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvcmlnaW4gZm9yIHRoZSBncmlkIGF0IHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IE9yaWdpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldE9yaWdpbiA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5zX1t6XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t6XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiByZXNvbHV0aW9ucyBmb3IgdGhlIHRpbGUgZ3JpZC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gW29wdF90aWxlUmFuZ2VdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbb3B0X2V4dGVudF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBUaWxlIHJhbmdlLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIG9wdF90aWxlUmFuZ2UsIG9wdF9leHRlbnQpIHtcbiAgICAgICAgaWYgKHRpbGVDb29yZFswXSA8IHRoaXMubWF4Wm9vbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWluWCA9IHRpbGVDb29yZFsxXSAqIDI7XG4gICAgICAgICAgICAgICAgdmFyIG1pblkgPSB0aWxlQ29vcmRbMl0gKiAyO1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtaW5YICsgMSwgbWluWSwgbWluWSArIDEsIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRpbGVDb29yZEV4dGVudCA9IHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgb3B0X2V4dGVudCB8fCB0aGlzLnRtcEV4dGVudF8pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWih0aWxlQ29vcmRFeHRlbnQsIHRpbGVDb29yZFswXSArIDEsIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbb3B0X3RpbGVSYW5nZV0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gVGlsZSByYW5nZS5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZVJhbmdlRm9yVGlsZUNvb3JkQW5kWiA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIHosIG9wdF90aWxlUmFuZ2UpIHtcbiAgICAgICAgaWYgKHogPiB0aGlzLm1heFpvb20gfHwgeiA8IHRoaXMubWluWm9vbSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbGVDb29yZFogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgIHZhciB0aWxlQ29vcmRYID0gdGlsZUNvb3JkWzFdO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWSA9IHRpbGVDb29yZFsyXTtcbiAgICAgICAgaWYgKHogPT09IHRpbGVDb29yZFopIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSh0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy56b29tRmFjdG9yXykge1xuICAgICAgICAgICAgdmFyIGZhY3RvciA9IE1hdGgucG93KHRoaXMuem9vbUZhY3Rvcl8sIHogLSB0aWxlQ29vcmRaKTtcbiAgICAgICAgICAgIHZhciBtaW5YID0gTWF0aC5mbG9vcih0aWxlQ29vcmRYICogZmFjdG9yKTtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih0aWxlQ29vcmRZICogZmFjdG9yKTtcbiAgICAgICAgICAgIGlmICh6IDwgdGlsZUNvb3JkWikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtaW5YLCBtaW5ZLCBtaW5ZLCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXhYID0gTWF0aC5mbG9vcihmYWN0b3IgKiAodGlsZUNvb3JkWCArIDEpKSAtIDE7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IE1hdGguZmxvb3IoZmFjdG9yICogKHRpbGVDb29yZFkgKyAxKSkgLSAxO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFksIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50Xyk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGlsZUNvb3JkRXh0ZW50LCB6LCBvcHRfdGlsZVJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IGZvciBhIHRpbGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVSYW5nZUV4dGVudCA9IGZ1bmN0aW9uICh6LCB0aWxlUmFuZ2UsIG9wdF9leHRlbnQpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgICAgdmFyIHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZV8pO1xuICAgICAgICB2YXIgbWluWCA9IG9yaWdpblswXSArIHRpbGVSYW5nZS5taW5YICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WCA9IG9yaWdpblswXSArICh0aWxlUmFuZ2UubWF4WCArIDEpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWluWSA9IG9yaWdpblsxXSArIHRpbGVSYW5nZS5taW5ZICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WSA9IG9yaWdpblsxXSArICh0aWxlUmFuZ2UubWF4WSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB0aWxlIHJhbmdlIGZvciB0aGUgZ2l2ZW4gZXh0ZW50IGFuZCBpbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbb3B0X3RpbGVSYW5nZV0gVGVtcG9yYXJ5IHRpbGUgcmFuZ2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBUaWxlIHJhbmdlLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaID0gZnVuY3Rpb24gKGV4dGVudCwgeiwgb3B0X3RpbGVSYW5nZSkge1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gdG1wVGlsZUNvb3JkO1xuICAgICAgICB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oZXh0ZW50WzBdLCBleHRlbnRbM10sIHosIGZhbHNlLCB0aWxlQ29vcmQpO1xuICAgICAgICB2YXIgbWluWCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgdmFyIG1pblkgPSB0aWxlQ29vcmRbMl07XG4gICAgICAgIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhleHRlbnRbMl0sIGV4dGVudFsxXSwgeiwgdHJ1ZSwgdGlsZUNvb3JkKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIHRpbGVDb29yZFsxXSwgbWluWSwgdGlsZUNvb3JkWzJdLCBvcHRfdGlsZVJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRpbGUgY2VudGVyLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRDZW50ZXIgPSBmdW5jdGlvbiAodGlsZUNvb3JkKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG9yaWdpblswXSArICh0aWxlQ29vcmRbMV0gKyAwLjUpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDAuNSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb24sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV4dGVudCBvZiBhIHRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfZXh0ZW50XSBUZW1wb3JhcnkgZXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRFeHRlbnQgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBvcHRfZXh0ZW50KSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIG1pblggPSBvcmlnaW5bMF0gKyB0aWxlQ29vcmRbMV0gKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtaW5ZID0gb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WCA9IG1pblggKyB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtYXhZID0gbWluWSArIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIG9wdF9leHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoZSBnaXZlbiBtYXAgY29vcmRpbmF0ZSBhbmQgcmVzb2x1dGlvbi4gIFRoaXNcbiAgICAgKiBtZXRob2QgY29uc2lkZXJzIHRoYXQgY29vcmRpbmF0ZXMgdGhhdCBpbnRlcnNlY3QgdGlsZSBib3VuZGFyaWVzIHNob3VsZCBiZVxuICAgICAqIGFzc2lnbmVkIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIERlc3RpbmF0aW9uIGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCByZXNvbHV0aW9uLCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8oY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSwgcmVzb2x1dGlvbiwgZmFsc2UsIG9wdF90aWxlQ29vcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHNob3VsZCBub3QgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyB0aGF0IGNvcnJlc3BvbmRcbiAgICAgKiB0byBhbiBpbnRlZ2VyIHpvb20gbGV2ZWwuICBJbnN0ZWFkIGNhbGwgdGhlIGBnZXRUaWxlQ29vcmRGb3JYWUFuZFpfYCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24gKGZvciBhIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWwpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSBJbnN0ZWFkIG9mIGxldHRpbmcgZWRnZVxuICAgICAqICAgICBpbnRlcnNlY3Rpb25zIGdvIHRvIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLCBsZXQgZWRnZSBpbnRlcnNlY3Rpb25zXG4gICAgICogICAgIGdvIHRvIHRoZSBsb3dlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fID0gZnVuY3Rpb24gKHgsIHksIHJlc29sdXRpb24sIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgdmFyIHogPSB0aGlzLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgc2NhbGUgPSByZXNvbHV0aW9uIC8gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFggPSAoc2NhbGUgKiAoeCAtIG9yaWdpblswXSkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzBdO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWSA9IChzY2FsZSAqIChvcmlnaW5bMV0gLSB5KSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMV07XG4gICAgICAgIGlmIChyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5KSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRYID0gY2VpbCh0aWxlQ29vcmRYLCBERUNJTUFMUykgLSAxO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IGNlaWwodGlsZUNvb3JkWSwgREVDSU1BTFMpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpbGVDb29yZFggPSBmbG9vcih0aWxlQ29vcmRYLCBERUNJTUFMUyk7XG4gICAgICAgICAgICB0aWxlQ29vcmRZID0gZmxvb3IodGlsZUNvb3JkWSwgREVDSU1BTFMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVDb29yZCh6LCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZUNvb3JkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsdGhvdWdoIHRoZXJlIGlzIHJlcGV0aXRpb24gYmV0d2VlbiB0aGlzIG1ldGhvZCBhbmQgYGdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl9gLFxuICAgICAqIHRoZXkgc2hvdWxkIGhhdmUgc2VwYXJhdGUgaW1wbGVtZW50YXRpb25zLiAgVGhpcyBtZXRob2QgaXMgZm9yIGludGVnZXIgem9vbVxuICAgICAqIGxldmVscy4gIFRoZSBvdGhlciBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyBjb3JyZXNwb25kaW5nXG4gICAgICogdG8gbm9uLWludGVnZXIgem9vbSBsZXZlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggTWFwIHggY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBNYXAgeSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAgICAgKiAgICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICAgICAqICAgICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyA9IGZ1bmN0aW9uICh4LCB5LCB6LCByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5LCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih6KTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFggPSAoeCAtIG9yaWdpblswXSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMF07XG4gICAgICAgIHZhciB0aWxlQ29vcmRZID0gKG9yaWdpblsxXSAtIHkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzFdO1xuICAgICAgICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgICAgICAgICAgdGlsZUNvb3JkWCA9IGNlaWwodGlsZUNvb3JkWCwgREVDSU1BTFMpIC0gMTtcbiAgICAgICAgICAgIHRpbGVDb29yZFkgPSBjZWlsKHRpbGVDb29yZFksIERFQ0lNQUxTKSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRYID0gZmxvb3IodGlsZUNvb3JkWCwgREVDSU1BTFMpO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IGZsb29yKHRpbGVDb29yZFksIERFQ0lNQUxTKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQoeiwgdGlsZUNvb3JkWCwgdGlsZUNvb3JkWSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB0aWxlIGNvb3JkaW5hdGUgZ2l2ZW4gYSBtYXAgY29vcmRpbmF0ZSBhbmQgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gRGVzdGluYXRpb24gaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHosIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdLCB6LCBmYWxzZSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHJlc29sdXRpb24uXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZFJlc29sdXRpb24gPSBmdW5jdGlvbiAodGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t0aWxlQ29vcmRbMF1dO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIHNpemUgZm9yIGEgem9vbSBsZXZlbC4gVGhlIHR5cGUgb2YgdGhlIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZVxuICAgICAqIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgdGhhdCB0aGUgdGlsZSBncmlkIHdhcyBjb25maWd1cmVkIHdpdGguIFRvIGFsd2F5c1xuICAgICAqIGdldCBhbiBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplYCwgcnVuIHRoZSByZXN1bHQgdGhyb3VnaCBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplLnRvU2l6ZSgpYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVTaXplID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZVNpemVfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZV87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZXNfW3pdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBFeHRlbnQgdGlsZSByYW5nZSBmb3IgdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRGdWxsVGlsZVJhbmdlID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgaWYgKCF0aGlzLmZ1bGxUaWxlUmFuZ2VzXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50X1xuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRoaXMuZXh0ZW50XywgeilcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mdWxsVGlsZVJhbmdlc19bel07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbb3B0X2RpcmVjdGlvbl1cbiAgICAgKiAgICAgSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogICAgIElmIDEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIChsb3dlciBaKSB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGVcbiAgICAgKiAgICAgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uIChoaWdoZXIgWikgd2lsbCBiZSB1c2VkLiBEZWZhdWx0IGlzIDAuXG4gICAgICogICAgIFVzZSBhIHtAbGluayBtb2R1bGU6b2wvYXJyYXl+TmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBmb3IgbW9yZSBwcmVjaXNlIGNvbnRyb2wuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSB0byBjaGFuZ2UgdGlsZSBaIGF0IHRoZSBtaWRwb2ludCBvZiB6b29tIGxldmVsc1xuICAgICAqIGBgYGpzXG4gICAgICogZnVuY3Rpb24odmFsdWUsIGhpZ2gsIGxvdykge1xuICAgICAqICAgcmV0dXJuIHZhbHVlIC0gbG93ICogTWF0aC5zcXJ0KGhpZ2ggLyBsb3cpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFouXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRaRm9yUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBvcHRfZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciB6ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIG9wdF9kaXJlY3Rpb24gfHwgMCk7XG4gICAgICAgIHJldHVybiBjbGFtcCh6LCB0aGlzLm1pblpvb20sIHRoaXMubWF4Wm9vbSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5jYWxjdWxhdGVUaWxlUmFuZ2VzXyA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aDtcbiAgICAgICAgdmFyIGZ1bGxUaWxlUmFuZ2VzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIHogPSB0aGlzLm1pblpvb207IHogPCBsZW5ndGg7ICsreikge1xuICAgICAgICAgICAgZnVsbFRpbGVSYW5nZXNbel0gPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IGZ1bGxUaWxlUmFuZ2VzO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVHcmlkO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVHcmlkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUdyaWQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkXG4gKi9cbmltcG9ydCBDb3JuZXIgZnJvbSAnLi9leHRlbnQvQ29ybmVyLmpzJztcbmltcG9ydCBUaWxlR3JpZCBmcm9tICcuL3RpbGVncmlkL1RpbGVHcmlkLmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuL3Byb2ovVW5pdHMuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9NQVhfWk9PTSwgREVGQVVMVF9USUxFX1NJWkUgfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBNRVRFUlNfUEVSX1VOSVQsIGdldCBhcyBnZXRQcm9qZWN0aW9uIH0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zQ29vcmRpbmF0ZSwgY3JlYXRlT3JVcGRhdGUsIGdldENvcm5lciwgZ2V0SGVpZ2h0LCBnZXRXaWR0aCwgfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyB0b1NpemUgfSBmcm9tICcuL3NpemUuanMnO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gRGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZVxuICogcGFzc2VkIHByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGlsZUdyaWQgPSBwcm9qZWN0aW9uLmdldERlZmF1bHRUaWxlR3JpZCgpO1xuICAgIGlmICghdGlsZUdyaWQpIHtcbiAgICAgICAgdGlsZUdyaWQgPSBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBwcm9qZWN0aW9uLnNldERlZmF1bHRUaWxlR3JpZCh0aWxlR3JpZCk7XG4gICAgfVxuICAgIHJldHVybiB0aWxlR3JpZDtcbn1cbi8qKlxuICogQHBhcmFtIHtUaWxlR3JpZH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbikge1xuICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgIHZhciBjZW50ZXIgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDZW50ZXIodGlsZUNvb3JkKTtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKHByb2plY3Rpb25FeHRlbnQsIGNlbnRlcikpIHtcbiAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBNYXRoLmNlaWwoKHByb2plY3Rpb25FeHRlbnRbMF0gLSBjZW50ZXJbMF0pIC8gd29ybGRXaWR0aCk7XG4gICAgICAgIGNlbnRlclswXSArPSB3b3JsZFdpZHRoICogd29ybGRzQXdheTtcbiAgICAgICAgcmV0dXJuIHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihjZW50ZXIsIHopO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRpbGVDb29yZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF90aWxlU2l6ZV0gVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50L0Nvcm5lci5qc1wiKS5kZWZhdWx0fSBbb3B0X2Nvcm5lcl0gRXh0ZW50IGNvcm5lciAoZGVmYXVsdCBpcyBgJ3RvcC1sZWZ0J2ApLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBUaWxlR3JpZCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpIHtcbiAgICB2YXIgY29ybmVyID0gb3B0X2Nvcm5lciAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvcm5lciA6IENvcm5lci5UT1BfTEVGVDtcbiAgICB2YXIgcmVzb2x1dGlvbnMgPSByZXNvbHV0aW9uc0Zyb21FeHRlbnQoZXh0ZW50LCBvcHRfbWF4Wm9vbSwgb3B0X3RpbGVTaXplKTtcbiAgICByZXR1cm4gbmV3IFRpbGVHcmlkKHtcbiAgICAgICAgZXh0ZW50OiBleHRlbnQsXG4gICAgICAgIG9yaWdpbjogZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSxcbiAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zLFxuICAgICAgICB0aWxlU2l6ZTogb3B0X3RpbGVTaXplLFxuICAgIH0pO1xufVxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBYWVpPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50IGZvciB0aGUgdGlsZSBncmlkLiBUaGUgb3JpZ2luIGZvciBhbiBYWVogdGlsZSBncmlkIGlzIHRoZVxuICogdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBleHRlbnQuIElmIGBtYXhSZXNvbHV0aW9uYCBpcyBub3QgcHJvdmlkZWQgdGhlIHplcm8gbGV2ZWwgb2YgdGhlIGdyaWQgaXMgZGVmaW5lZCBieSB0aGUgcmVzb2x1dGlvblxuICogYXQgd2hpY2ggb25lIHRpbGUgZml0cyBpbiB0aGUgcHJvdmlkZWQgZXh0ZW50LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBleHRlbnQgb2YgdGhlIEVQU0c6Mzg1NyBwcm9qZWN0aW9uIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tLiBUaGUgZGVmYXVsdCBpcyBgNDJgLiBUaGlzIGRldGVybWluZXMgdGhlIG51bWJlciBvZiBsZXZlbHNcbiAqIGluIHRoZSBncmlkIHNldC4gRm9yIGV4YW1wbGUsIGEgYG1heFpvb21gIG9mIDIxIG1lYW5zIHRoZXJlIGFyZSAyMiBsZXZlbHMgaW4gdGhlIGdyaWQgc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9WzI1NiwgMjU2XV0gVGlsZSBzaXplIGluIHBpeGVscy5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdGlsZSBncmlkIHdpdGggYSBzdGFuZGFyZCBYWVogdGlsaW5nIHNjaGVtZS5cbiAqIEBwYXJhbSB7WFlaT3B0aW9uc30gW29wdF9vcHRpb25zXSBUaWxlIGdyaWQgb3B0aW9ucy5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZSBncmlkIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWFlaKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIHh5ek9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZXh0ZW50ID0geHl6T3B0aW9ucy5leHRlbnQgfHwgZ2V0UHJvamVjdGlvbignRVBTRzozODU3JykuZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGdyaWRPcHRpb25zID0ge1xuICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgbWluWm9vbTogeHl6T3B0aW9ucy5taW5ab29tLFxuICAgICAgICB0aWxlU2l6ZTogeHl6T3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIHh5ek9wdGlvbnMubWF4Wm9vbSwgeHl6T3B0aW9ucy50aWxlU2l6ZSwgeHl6T3B0aW9ucy5tYXhSZXNvbHV0aW9uKSxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgVGlsZUdyaWQoZ3JpZE9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZXNvbHV0aW9ucyBhcnJheSBmcm9tIGFuIGV4dGVudC4gIEEgem9vbSBmYWN0b3Igb2YgMiBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9tYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbb3B0X3RpbGVTaXplXSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21heFJlc29sdXRpb25dIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEByZXR1cm4geyFBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSwgb3B0X21heFJlc29sdXRpb24pIHtcbiAgICB2YXIgbWF4Wm9vbSA9IG9wdF9tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRfbWF4Wm9vbSA6IERFRkFVTFRfTUFYX1pPT007XG4gICAgdmFyIGhlaWdodCA9IGdldEhlaWdodChleHRlbnQpO1xuICAgIHZhciB3aWR0aCA9IGdldFdpZHRoKGV4dGVudCk7XG4gICAgdmFyIHRpbGVTaXplID0gdG9TaXplKG9wdF90aWxlU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0X3RpbGVTaXplIDogREVGQVVMVF9USUxFX1NJWkUpO1xuICAgIHZhciBtYXhSZXNvbHV0aW9uID0gb3B0X21heFJlc29sdXRpb24gPiAwXG4gICAgICAgID8gb3B0X21heFJlc29sdXRpb25cbiAgICAgICAgOiBNYXRoLm1heCh3aWR0aCAvIHRpbGVTaXplWzBdLCBoZWlnaHQgLyB0aWxlU2l6ZVsxXSk7XG4gICAgdmFyIGxlbmd0aCA9IG1heFpvb20gKyAxO1xuICAgIHZhciByZXNvbHV0aW9ucyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIHogPSAwOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgICAgcmVzb2x1dGlvbnNbel0gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coMiwgeik7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHV0aW9ucztcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtvcHRfdGlsZVNpemVdIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC9Db3JuZXIuanNcIikuZGVmYXVsdH0gW29wdF9jb3JuZXJdIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24sIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpIHtcbiAgICB2YXIgZXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgcmV0dXJuIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRpbGUgZ3JpZCBleHRlbnQgZnJvbSBhIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBoYXMgYW5cbiAqIGV4dGVudCwgaXQgaXMgdXNlZC4gIElmIG5vdCwgYSBnbG9iYWwgZXh0ZW50IGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgdmFyIGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgdmFyIGhhbGYgPSAoMTgwICogTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdKSAvIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZSgtaGFsZiwgLWhhbGYsIGhhbGYsIGhhbGYpO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZWdyaWQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZVxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgZXF1aXZhbGVudCB9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0S2V5WlhZLCB3aXRoaW5FeHRlbnRBbmRaIH0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7IGdldEZvclByb2plY3Rpb24gYXMgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uLCB3cmFwWCwgfSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQgeyBzY2FsZSBhcyBzY2FsZVNpemUsIHRvU2l6ZSB9IGZyb20gJy4uL3NpemUuanMnO1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vVGlsZUV2ZW50VHlwZVwiKS5UaWxlU291cmNlRXZlbnRUeXBlcywgVGlsZVNvdXJjZUV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9UaWxlRXZlbnRUeXBlXCIpLlRpbGVTb3VyY2VFdmVudFR5cGVzLCBSZXR1cm4+fSBUaWxlU291cmNlT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBDYWNoZVNpemUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dIFRpbGVQaXhlbFJhdGlvLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGVdIFN0YXRlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGVHcmlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgaW1hZ2VzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZC5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG52YXIgVGlsZVNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgU291cmNlVGlsZSBzb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlU291cmNlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtUaWxlU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9wYXF1ZV8gPSBvcHRpb25zLm9wYXF1ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFxdWUgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlUGl4ZWxSYXRpb18gPVxuICAgICAgICAgICAgb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6IG51bGw7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IFsyNTYsIDI1Nl07XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IG9wdGlvbnMudGlsZUdyaWQ7XG4gICAgICAgIGlmICh0aWxlR3JpZCkge1xuICAgICAgICAgICAgdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHRpbGVHcmlkLmdldE1pblpvb20oKSksIHRpbGVTaXplKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2FjaGUgPSBuZXcgVGlsZUNhY2hlKG9wdGlvbnMuY2FjaGVTaXplIHx8IDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wU2l6ZSA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5rZXlfID0gb3B0aW9ucy5rZXkgfHwgJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLk9wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogekRpcmVjdGlvbiBoaW50LCByZWFkIGJ5IHRoZSByZW5kZXJlci4gSW5kaWNhdGVzIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICogYnkgYSByZW5kZXJlciBpZiB0aGUgdmlld3MgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICAgICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAgICAgICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy56RGlyZWN0aW9uID0gb3B0aW9ucy56RGlyZWN0aW9uID8gb3B0aW9ucy56RGlyZWN0aW9uIDogMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiAocHJvamVjdGlvbiwgdXNlZFRpbGVzKSB7XG4gICAgICAgIHZhciB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aWxlQ2FjaGUpIHtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh1c2VkVGlsZXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogWm9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk6KGJvb2xlYW58dm9pZCl9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2hcbiAgICAgKiAgICAgbG9hZGVkIHRpbGUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgLCB0aGUgdGlsZSB3aWxsIG5vdCBiZVxuICAgICAqICAgICBjb25zaWRlcmVkIGxvYWRlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBjb3ZlcmVkIHdpdGggbG9hZGVkIHRpbGVzLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmZvckVhY2hMb2FkZWRUaWxlID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHosIHRpbGVSYW5nZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0aWxlQ2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY292ZXJlZCA9IHRydWU7XG4gICAgICAgIHZhciB0aWxlLCB0aWxlQ29vcmRLZXksIGxvYWRlZDtcbiAgICAgICAgZm9yICh2YXIgeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgICAgICAgICAgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgICAgICAgICAgICAgIGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkID0gdGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuTE9BREVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQgPSBjYWxsYmFjayh0aWxlKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY292ZXJlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGtleSB0byBiZSB1c2VkIGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIGFsbCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIHRvIGJlIHVzZWQgYXMgdGhlIGtleSBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aWxlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuc2V0S2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodGhpcy5rZXlfICE9PSBrZXkpIHtcbiAgICAgICAgICAgIHRoaXMua2V5XyA9IGtleTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gT3BhcXVlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldE9wYXF1ZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYXF1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBncmlkIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGlsZSBncmlkLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy50aWxlR3JpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9IFRpbGUgY2FjaGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBhc3NlcnQoZXF1aXZhbGVudCh0aGlzLmdldFByb2plY3Rpb24oKSwgcHJvamVjdGlvbiksIDY4IC8vIEEgVmVjdG9yVGlsZSBzb3VyY2UgY2FuIG9ubHkgYmUgcmVuZGVyZWQgaWYgaXQgaGFzIGEgcHJvamVjdGlvbiBjb21wYXRpYmxlIHdpdGggdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIHBpeGVsIHJhdGlvIGZvciB0aGlzIHNvdXJjZS4gU3ViY2xhc3NlcyBtYXkgb3ZlcnJpZGUgdGhpc1xuICAgICAqIG1ldGhvZCwgd2hpY2ggaXMgbWVhbnQgdG8gcmV0dXJuIGEgc3VwcG9ydGVkIHBpeGVsIHJhdGlvIHRoYXQgbWF0Y2hlcyB0aGVcbiAgICAgKiBwcm92aWRlZCBgcGl4ZWxSYXRpb2AgYXMgY2xvc2UgYXMgcG9zc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW9fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBUaWxlIHNpemUuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVBpeGVsU2l6ZSA9IGZ1bmN0aW9uICh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgdGlsZVBpeGVsUmF0aW8gPSB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgICAgIGlmICh0aWxlUGl4ZWxSYXRpbyA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2NhbGVTaXplKHRpbGVTaXplLCB0aWxlUGl4ZWxSYXRpbywgdGhpcy50bXBTaXplKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRpbGUgY29vcmRpbmF0ZSB3cmFwcGVkIGFyb3VuZCB0aGUgeC1heGlzLiBXaGVuIHRoZSB0aWxlIGNvb3JkaW5hdGVcbiAgICAgKiBpcyBvdXRzaWRlIHRoZSByZXNvbHV0aW9uIGFuZCBleHRlbnQgcmFuZ2Ugb2YgdGhlIHRpbGUgZ3JpZCwgYG51bGxgIHdpbGwgYmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gW29wdF9wcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZSB0byBiZSBwYXNzZWQgdG8gdGhlIHRpbGVVcmxGdW5jdGlvbiBvclxuICAgICAqICAgICBudWxsIGlmIG5vIHRpbGUgVVJMIHNob3VsZCBiZSBjcmVhdGVkIGZvciB0aGUgcGFzc2VkIGB0aWxlQ29vcmRgLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIG9wdF9wcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy5nZXRXcmFwWCgpICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgICAgICAgdGlsZUNvb3JkID0gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkgPyB0aWxlQ29vcmQgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBjYWNoZWQgdGlsZXMgZnJvbSB0aGUgc291cmNlLiBUaGUgbmV4dCByZW5kZXIgY3ljbGUgd2lsbCBmZXRjaCBuZXcgdGlsZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgIH07XG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlZnJlc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluY3JlYXNlcyB0aGUgY2FjaGUgc2l6ZSBpZiBuZWVkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGlsZUNvdW50IE1pbmltdW0gbnVtYmVyIG9mIHRpbGVzIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUudXBkYXRlQ2FjaGVTaXplID0gZnVuY3Rpb24gKHRpbGVDb3VudCwgcHJvamVjdGlvbikge1xuICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBpZiAodGlsZUNvdW50ID4gdGlsZUNhY2hlLmhpZ2hXYXRlck1hcmspIHtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrID0gdGlsZUNvdW50O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHRpbGUgY29vcmQgYXMgYmVpbmcgdXNlZCwgd2l0aG91dCB0cmlnZ2VyaW5nIGEgbG9hZC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUudXNlVGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5LCBwcm9qZWN0aW9uKSB7IH07XG4gICAgcmV0dXJuIFRpbGVTb3VyY2U7XG59KFNvdXJjZSkpO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlflRpbGVTb3VyY2V9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKi9cbnZhciBUaWxlU291cmNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVTb3VyY2VFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRoZSB0aWxlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGVTb3VyY2VFdmVudCh0eXBlLCB0aWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGlsZSByZWxhdGVkIHRvIHRoZSBldmVudC5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFRpbGVTb3VyY2VFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IFRpbGVTb3VyY2VFdmVudCB9O1xuZXhwb3J0IGRlZmF1bHQgVGlsZVNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGV1cmxmdW5jdGlvblxuICovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgbW9kdWxvIH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7IGhhc2ggYXMgdGlsZUNvb3JkSGFzaCB9IGZyb20gJy4vdGlsZWNvb3JkLmpzJztcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIFRlbXBsYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHRpbGVHcmlkKSB7XG4gICAgdmFyIHpSZWdFeCA9IC9cXHt6XFx9L2c7XG4gICAgdmFyIHhSZWdFeCA9IC9cXHt4XFx9L2c7XG4gICAgdmFyIHlSZWdFeCA9IC9cXHt5XFx9L2c7XG4gICAgdmFyIGRhc2hZUmVnRXggPSAvXFx7LXlcXH0vZztcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAucmVwbGFjZSh6UmVnRXgsIHRpbGVDb29yZFswXS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKHhSZWdFeCwgdGlsZUNvb3JkWzFdLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoeVJlZ0V4LCB0aWxlQ29vcmRbMl0udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZShkYXNoWVJlZ0V4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGlsZUdyaWQuZ2V0RnVsbFRpbGVSYW5nZSh6KTtcbiAgICAgICAgICAgICAgICBhc3NlcnQocmFuZ2UsIDU1KTsgLy8gVGhlIHsteX0gcGxhY2Vob2xkZXIgcmVxdWlyZXMgYSB0aWxlIGdyaWQgd2l0aCBleHRlbnRcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHJhbmdlLmdldEhlaWdodCgpIC0gdGlsZUNvb3JkWzJdIC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4geS50b1N0cmluZygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB0ZW1wbGF0ZXMgVGVtcGxhdGVzLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGVzKHRlbXBsYXRlcywgdGlsZUdyaWQpIHtcbiAgICB2YXIgbGVuID0gdGVtcGxhdGVzLmxlbmd0aDtcbiAgICB2YXIgdGlsZVVybEZ1bmN0aW9ucyA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdGlsZVVybEZ1bmN0aW9uc1tpXSA9IGNyZWF0ZUZyb21UZW1wbGF0ZSh0ZW1wbGF0ZXNbaV0sIHRpbGVHcmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHRpbGVVcmxGdW5jdGlvbnMpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbj59IHRpbGVVcmxGdW5jdGlvbnMgVGlsZSBVUkwgRnVuY3Rpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHRpbGVVcmxGdW5jdGlvbnMpIHtcbiAgICBpZiAodGlsZVVybEZ1bmN0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRpbGVVcmxGdW5jdGlvbnNbMF07XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBoID0gdGlsZUNvb3JkSGFzaCh0aWxlQ29vcmQpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbW9kdWxvKGgsIHRpbGVVcmxGdW5jdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zW2luZGV4XSh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEFycmF5IG9mIHVybHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRVcmwodXJsKSB7XG4gICAgdmFyIHVybHMgPSBbXTtcbiAgICB2YXIgbWF0Y2ggPSAvXFx7KFthLXpdKS0oW2Etel0pXFx9Ly5leGVjKHVybCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIC8vIGNoYXIgcmFuZ2VcbiAgICAgICAgdmFyIHN0YXJ0Q2hhckNvZGUgPSBtYXRjaFsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgc3RvcENoYXJDb2RlID0gbWF0Y2hbMl0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgdmFyIGNoYXJDb2RlID0gdm9pZCAwO1xuICAgICAgICBmb3IgKGNoYXJDb2RlID0gc3RhcnRDaGFyQ29kZTsgY2hhckNvZGUgPD0gc3RvcENoYXJDb2RlOyArK2NoYXJDb2RlKSB7XG4gICAgICAgICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybHM7XG4gICAgfVxuICAgIG1hdGNoID0gL1xceyhcXGQrKS0oXFxkKylcXH0vLmV4ZWModXJsKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgLy8gbnVtYmVyIHJhbmdlXG4gICAgICAgIHZhciBzdG9wXzEgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgICAgICBmb3IgKHZhciBpID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTsgaSA8PSBzdG9wXzE7IGkrKykge1xuICAgICAgICAgICAgdXJscy5wdXNoKHVybC5yZXBsYWNlKG1hdGNoWzBdLCBpLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJscztcbiAgICB9XG4gICAgdXJscy5wdXNoKHVybCk7XG4gICAgcmV0dXJuIHVybHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWxldXJsZnVuY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVXJsVGlsZVxuICovXG5pbXBvcnQgVGlsZUV2ZW50VHlwZSBmcm9tICcuL1RpbGVFdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGVTb3VyY2UsIHsgVGlsZVNvdXJjZUV2ZW50IH0gZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyb21UZW1wbGF0ZXMsIGV4cGFuZFVybCB9IGZyb20gJy4uL3RpbGV1cmxmdW5jdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRLZXlaWFkgfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIENhY2hlIHNpemUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlR3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb24gVGlsZUxvYWRGdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dIFRpbGVQaXhlbFJhdGlvLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBUaWxlVXJsRnVuY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVXJsLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gVXJscy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgdGlsZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkIG92ZXIgaHR0cC5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9UaWxlLmpzXCIpLlRpbGVTb3VyY2VFdmVudFxuICovXG52YXIgVXJsVGlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVXJsVGlsZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgSW1hZ2UgdGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVybFRpbGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgICAgICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8gPVxuICAgICAgICAgICAgX3RoaXMudGlsZVVybEZ1bmN0aW9uID09PSBVcmxUaWxlLnByb3RvdHlwZS50aWxlVXJsRnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkRnVuY3Rpb24gPSBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb247XG4gICAgICAgIGlmIChvcHRpb25zLnRpbGVVcmxGdW5jdGlvbikge1xuICAgICAgICAgICAgX3RoaXMudGlsZVVybEZ1bmN0aW9uID0gb3B0aW9ucy50aWxlVXJsRnVuY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmxzID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMudXJscykge1xuICAgICAgICAgICAgX3RoaXMuc2V0VXJscyhvcHRpb25zLnVybHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRVcmwob3B0aW9ucy51cmwpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUxvYWRpbmdLZXlzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFRpbGVMb2FkRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUxvYWRGdW5jdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlVXJsRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLnRpbGVVcmxGdW5jdGlvbiA9PT0gdGhpcy50aWxlVXJsRnVuY3Rpb25cbiAgICAgICAgICAgID8gdGhpcy50aWxlVXJsRnVuY3Rpb24uYmluZCh0aGlzKVxuICAgICAgICAgICAgOiB0aGlzLnRpbGVVcmxGdW5jdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgVVJMcyB1c2VkIGZvciB0aGlzIHNvdXJjZS5cbiAgICAgKiBXaGVuIGEgdGlsZVVybEZ1bmN0aW9uIGlzIHVzZWQgaW5zdGVhZCBvZiB1cmwgb3IgdXJscyxcbiAgICAgKiBudWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz58bnVsbH0gVVJMcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VXJscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJscztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWxlIGNoYW5nZSBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGlsZSk7XG4gICAgICAgIHZhciB0aWxlU3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgIHZhciB0eXBlO1xuICAgICAgICBpZiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXSA9IHRydWU7XG4gICAgICAgICAgICB0eXBlID0gVGlsZUV2ZW50VHlwZS5USUxFTE9BRFNUQVJUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVpZCBpbiB0aGlzLnRpbGVMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXTtcbiAgICAgICAgICAgIHR5cGUgPVxuICAgICAgICAgICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICAgICAgICAgICAgPyBUaWxlRXZlbnRUeXBlLlRJTEVMT0FERVJST1JcbiAgICAgICAgICAgICAgICAgICAgOiB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBUaWxlRXZlbnRUeXBlLlRJTEVMT0FERU5EXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVGlsZVNvdXJjZUV2ZW50KHR5cGUsIHRpbGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbiA9IHRpbGVMb2FkRnVuY3Rpb247XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aWxlIFVSTCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gdGlsZVVybEZ1bmN0aW9uIFRpbGUgVVJMIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBPcHRpb25hbCBuZXcgdGlsZSBrZXkgZm9yIHRoZSBzb3VyY2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlVXJsRnVuY3Rpb24sIGtleSkge1xuICAgICAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IHRpbGVVcmxGdW5jdGlvbjtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUucHJ1bmVFeGNlcHROZXdlc3RaKCk7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zZXRLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciB1cmxzID0gZXhwYW5kVXJsKHVybCk7XG4gICAgICAgIHRoaXMudXJscyA9IHVybHM7XG4gICAgICAgIHRoaXMuc2V0VXJscyh1cmxzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVVJMcyB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdXJscyBVUkxzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmxzID0gZnVuY3Rpb24gKHVybHMpIHtcbiAgICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgICAgdmFyIGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlVGlsZVVybEZ1bmN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5zZXRUaWxlVXJsRnVuY3Rpb24oY3JlYXRlRnJvbVRlbXBsYXRlcyh1cmxzLCB0aGlzLnRpbGVHcmlkKSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUudGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUudXNlVGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5KSB7XG4gICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFVybFRpbGU7XG59KFRpbGVTb3VyY2UpKTtcbmV4cG9ydCBkZWZhdWx0IFVybFRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VcmxUaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgc3RhcnRzIGxvYWRpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVGlsZS5UaWxlU291cmNlRXZlbnQjdGlsZWxvYWRzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFTE9BRFNUQVJUOiAndGlsZWxvYWRzdGFydCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSB0aWxlIGZpbmlzaGVzIGxvYWRpbmcsIGVpdGhlciB3aGVuIGl0cyBkYXRhIGlzIGxvYWRlZCxcbiAgICAgKiBvciB3aGVuIGxvYWRpbmcgd2FzIGFib3J0ZWQgYmVjYXVzZSB0aGUgdGlsZSBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZW5kXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FERU5EOiAndGlsZWxvYWRlbmQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBpZiB0aWxlIGxvYWRpbmcgcmVzdWx0cyBpbiBhbiBlcnJvci5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVycm9yXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FERVJST1I6ICd0aWxlbG9hZGVycm9yJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHsndGlsZWxvYWRzdGFydCd8J3RpbGVsb2FkZW5kJ3wndGlsZWxvYWRlcnJvcid9IFRpbGVTb3VyY2VFdmVudFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVFdmVudFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUltYWdlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VUaWxlIGZyb20gJy4uL0ltYWdlVGlsZS5qcyc7XG5pbXBvcnQgUmVwcm9qVGlsZSBmcm9tICcuLi9yZXByb2ovVGlsZS5qcyc7XG5pbXBvcnQgVGlsZUNhY2hlIGZyb20gJy4uL1RpbGVDYWNoZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVXJsVGlsZSBmcm9tICcuL1VybFRpbGUuanMnO1xuaW1wb3J0IHsgRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfSBmcm9tICcuLi9yZXByb2ovY29tbW9uLmpzJztcbmltcG9ydCB7IGVxdWl2YWxlbnQsIGdldCBhcyBnZXRQcm9qZWN0aW9uIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRLZXksIGdldEtleVpYWSB9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQgeyBnZXRGb3JQcm9qZWN0aW9uIGFzIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiB9IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW1hZ2VTbW9vdGhpbmc9dHJ1ZV0gRGVwcmVjYXRlZC4gIFVzZSB0aGUgYGludGVycG9sYXRlYCBvcHRpb24gaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPXRydWVdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiBsaW5lYXIgaW50ZXJwb2xhdGlvbiBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy4gIFNldCB0byBmYWxzZSB0byB1c2UgdGhlIG5lYXJlc3QgbmVpZ2hib3IgaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gQ2xhc3MgdXNlZCB0byBpbnN0YW50aWF0ZSBpbWFnZSB0aWxlcy5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpbz0xXSBUaGUgcGl4ZWwgcmF0aW8gdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIHRpbGVcbiAqIHNlcnZpY2UgYWR2ZXJ0aXplcyAyNTZweCBieSAyNTZweCB0aWxlcyBidXQgYWN0dWFsbHkgc2VuZHMgNTEycHhcbiAqIGJ5IDUxMnB4IGltYWdlcyAoZm9yIHJldGluYS9oaWRwaSBkZXZpY2VzKSB0aGVuIGB0aWxlUGl4ZWxSYXRpb2BcbiAqIHNob3VsZCBiZSBzZXQgdG8gYDJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBnZXQgdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmVcbiAqIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS4gVGhlIGRlZmF1bHQsIGlzIHRvXG4gKiByZXF1ZXN0IG91dC1vZi1ib3VuZHMgdGlsZXMgZnJvbSB0aGUgc2VydmVyLiBXaGVuIHNldCB0byBgZmFsc2VgLCBvbmx5IG9uZVxuICogd29ybGQgd2lsbCBiZSByZW5kZXJlZC4gV2hlbiBzZXQgdG8gYHRydWVgLCB0aWxlcyB3aWxsIGJlIHJlcXVlc3RlZCBmb3Igb25lXG4gKiB3b3JsZCBvbmx5LCBidXQgdGhleSB3aWxsIGJlIHdyYXBwZWQgaG9yaXpvbnRhbGx5IHRvIHJlbmRlciBtdWx0aXBsZSB3b3JsZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gT3B0aW9uYWwgdGlsZSBrZXkgZm9yIHByb3BlciBjYWNoZSBmZXRjaGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbekRpcmVjdGlvbj0wXVxuICogQ2hvb3NlIHdoZXRoZXIgdG8gdXNlIHRpbGVzIHdpdGggYSBoaWdoZXIgb3IgbG93ZXIgem9vbSBsZXZlbCB3aGVuIGJldHdlZW4gaW50ZWdlclxuICogem9vbSBsZXZlbHMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlSW1hZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVJbWFnZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPcHRpb25zfSBvcHRpb25zIEltYWdlIHRpbGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlSW1hZ2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlU21vb3RoaW5nIDogdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgICAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgdGlsZVVybEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbixcbiAgICAgICAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICAgICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgICAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jcm9zc09yaWdpbiA9XG4gICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzT3JpZ2luIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge3R5cGVvZiBJbWFnZVRpbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2xhc3MgPVxuICAgICAgICAgICAgb3B0aW9ucy50aWxlQ2xhc3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZUNsYXNzIDogSW1hZ2VUaWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIFRpbGVDYWNoZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfID0gb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2tleV0uY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmV4cGlyZUNhY2hlLmNhbGwodGhpcywgcHJvamVjdGlvbiwgdXNlZFRpbGVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlZFRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGhpcy50aWxlQ2FjaGUgPT0gdXNlZFRpbGVDYWNoZSA/IHVzZWRUaWxlcyA6IHt9KTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXTtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh0aWxlQ2FjaGUgPT0gdXNlZFRpbGVDYWNoZSA/IHVzZWRUaWxlcyA6IHt9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiAmJlxuICAgICAgICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgICAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHdXR0ZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRHdXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBrZXkgdG8gYmUgdXNlZCBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUga2V5IGZvciBhbGwgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXkgPSBfc3VwZXIucHJvdG90eXBlLmdldEtleS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoIXRoaXMuZ2V0SW50ZXJwb2xhdGUoKSkge1xuICAgICAgICAgICAga2V5ICs9ICc6ZGlzYWJsZS1pbnRlcnBvbGF0aW9uJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IE9wYXF1ZS5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldE9wYXF1ZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiAmJlxuICAgICAgICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgICAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0T3BhcXVlLmNhbGwodGhpcywgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGlsZSBncmlkLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uLmNhbGwodGhpcywgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLnRpbGVHcmlkICYmICghdGhpc1Byb2ogfHwgZXF1aXZhbGVudCh0aGlzUHJvaiwgcHJvamVjdGlvbikpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm9qS2V5ID0gZ2V0VWlkKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fSBUaWxlIGNhY2hlLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24uY2FsbCh0aGlzLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc1Byb2ogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb2pLZXkgPSBnZXRVaWQocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25bcHJvaktleV0gPSBuZXcgVGlsZUNhY2hlKHRoaXMudGlsZUNhY2hlLmhpZ2hXYXRlck1hcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltwcm9qS2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBzZXQgb24gdGhlIHRpbGUuXG4gICAgICogQHJldHVybiB7IUltYWdlVGlsZX0gVGlsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuY3JlYXRlVGlsZV8gPSBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KSB7XG4gICAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICAgIHZhciB1cmxUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgdGlsZVVybCA9IHVybFRpbGVDb29yZFxuICAgICAgICAgICAgPyB0aGlzLnRpbGVVcmxGdW5jdGlvbih1cmxUaWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHRpbGUgPSBuZXcgdGhpcy50aWxlQ2xhc3ModGlsZUNvb3JkLCB0aWxlVXJsICE9PSB1bmRlZmluZWQgPyBUaWxlU3RhdGUuSURMRSA6IFRpbGVTdGF0ZS5FTVBUWSwgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gdGlsZVVybCA6ICcnLCB0aGlzLmNyb3NzT3JpZ2luLCB0aGlzLnRpbGVMb2FkRnVuY3Rpb24sIHRoaXMudGlsZU9wdGlvbnMpO1xuICAgICAgICB0aWxlLmtleSA9IGtleTtcbiAgICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVGlsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7IShJbWFnZVRpbGV8UmVwcm9qVGlsZSl9IFRpbGUuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiB8fFxuICAgICAgICAgICAgIXNvdXJjZVByb2plY3Rpb24gfHxcbiAgICAgICAgICAgICFwcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICBlcXVpdmFsZW50KHNvdXJjZVByb2plY3Rpb24sIHByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbiB8fCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICAgICAgICB2YXIgdGlsZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXkodGlsZUNvb3JkKTtcbiAgICAgICAgICAgIGlmIChjYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICAgICAgdGlsZSA9IGNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmtleSA9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkVGlsZUNvb3JkID0gdGhpcy5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VGlsZSA9IG5ldyBSZXByb2pUaWxlKHNvdXJjZVByb2plY3Rpb24sIHNvdXJjZVRpbGVHcmlkLCBwcm9qZWN0aW9uLCB0YXJnZXRUaWxlR3JpZCwgdGlsZUNvb3JkLCB3cmFwcGVkVGlsZUNvb3JkLCB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pLCB0aGlzLmdldEd1dHRlcigpLCBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXywgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18sIHRoaXMuZ2V0SW50ZXJwb2xhdGUoKSk7XG4gICAgICAgICAgICAgICAgbmV3VGlsZS5rZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgICAgICAgICAgICAgIG5ld1RpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgbmV3VGlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zZXQodGlsZUNvb3JkS2V5LCBuZXdUaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1RpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7IWltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7IShJbWFnZVRpbGV8UmVwcm9qVGlsZSl9IFRpbGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUludGVybmFsID0gZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHRpbGUgPSBudWxsO1xuICAgICAgICB2YXIgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICAgICAgaWYgKCF0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuICAgICAgICAgICAgdGhpcy50aWxlQ2FjaGUuc2V0KHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlID0gdGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgICAgICAgICBpZiAodGlsZS5rZXkgIT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHNvdXJjZSdzIHBhcmFtcyBjaGFuZ2VkLiBJZiB0aGUgdGlsZSBoYXMgYW4gaW50ZXJpbSB0aWxlIGFuZCBpZiB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiB1c2UgaXQgdGhlbiB3ZSB1c2UgaXQuIE90aGVyd2lzZSB3ZSBjcmVhdGUgYSBuZXcgdGlsZS4gIEluIGJvdGhcbiAgICAgICAgICAgICAgICAvLyBjYXNlcyB3ZSBhdHRlbXB0IHRvIGFzc2lnbiBhbiBpbnRlcmltIHRpbGUgdG8gdGhlIG5ldyB0aWxlLlxuICAgICAgICAgICAgICAgIHZhciBpbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuY3JlYXRlVGlsZV8oeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KTtcbiAgICAgICAgICAgICAgICAvL21ha2UgdGhlIG5ldyB0aWxlIHRoZSBoZWFkIG9mIHRoZSBsaXN0LFxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmltVGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIG9sZCB0aWxlIGhhc24ndCBiZWd1biBsb2FkaW5nIHlldCwgYW5kIGlzIG5vdyBvdXRkYXRlZCwgc28gd2UgY2FuIHNpbXBseSBkaXNjYXJkIGl0XG4gICAgICAgICAgICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBpbnRlcmltVGlsZS5pbnRlcmltVGlsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBpbnRlcmltVGlsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGlsZS5yZWZyZXNoSW50ZXJpbUNoYWluKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlQ2FjaGUucmVwbGFjZSh0aWxlQ29vcmRLZXksIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIHJlbmRlciByZXByb2plY3Rpb24gZWRnZXMgb3Igbm90ICh1c3VhbGx5IGZvciBkZWJ1Z2dpbmcpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVuZGVyIFJlbmRlciB0aGUgZWRnZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXMgPSBmdW5jdGlvbiAocmVuZGVyKSB7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfHxcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID09IHJlbmRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID0gcmVuZGVyO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRpbGUgZ3JpZCB0byB1c2Ugd2hlbiByZXByb2plY3RpbmcgdGhlIHRpbGVzIHRvIHRoZSBnaXZlblxuICAgICAqIHByb2plY3Rpb24gaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gdGhlIGRlZmF1bHQgdGlsZSBncmlkIGNhbm5vdCBiZSBjcmVhdGVkXG4gICAgICogKGUuZy4gcHJvamVjdGlvbiBoYXMgbm8gZXh0ZW50IGRlZmluZWQpIG9yXG4gICAgICogZm9yIG9wdGltaXphdGlvbiByZWFzb25zIChjdXN0b20gdGlsZSBzaXplLCByZXNvbHV0aW9ucywgLi4uKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZWdyaWQgVGlsZSBncmlkIHRvIHVzZSBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuc2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHRpbGVncmlkKSB7XG4gICAgICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgdmFyIHByb2ogPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHByb2opIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvaktleSA9IGdldFVpZChwcm9qKTtcbiAgICAgICAgICAgICAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9IHRpbGVncmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpbGVJbWFnZTtcbn0oVXJsVGlsZSkpO1xuLyoqXG4gKiBAcGFyYW0ge0ltYWdlVGlsZX0gaW1hZ2VUaWxlIEltYWdlIHRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFRpbGVMb2FkRnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAgICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKGltYWdlVGlsZS5nZXRJbWFnZSgpKS5zcmMgPVxuICAgICAgICBzcmM7XG59XG5leHBvcnQgZGVmYXVsdCBUaWxlSW1hZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlSW1hZ2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9YWVpcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHsgY3JlYXRlWFlaLCBleHRlbnRGcm9tUHJvamVjdGlvbiB9IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ltYWdlU21vb3RoaW5nPXRydWVdIERlcHJlY2F0ZWQuICBVc2UgdGhlIGBpbnRlcnBvbGF0ZWAgb3B0aW9uIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT10cnVlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogbGluZWFyIGludGVycG9sYXRpb24gaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuICBTZXQgdG8gZmFsc2UgdG8gdXNlIHRoZSBuZWFyZXN0IG5laWdoYm9yIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT00Ml0gT3B0aW9uYWwgbWF4IHpvb20gbGV2ZWwuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gT3B0aW9uYWwgbWluIHpvb20gbGV2ZWwuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIE9wdGlvbmFsIHRpbGUgZ3JpZCByZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgdGlsZSBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPVsyNTYsIDI1Nl1dIFRoZSB0aWxlIHNpemUgdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLlxuICogTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0XG4gKiB0aWxlIFVSTCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSBhbmQgdGhlIHByb2plY3Rpb24uXG4gKiBSZXF1aXJlZCBpZiBgdXJsYCBvciBgdXJsc2AgYXJlIG5vdCBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBVUkwgdGVtcGxhdGUuIE11c3QgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLFxuICogYW5kIGB7en1gIHBsYWNlaG9sZGVycy4gQSBgez8tP31gIHRlbXBsYXRlIHBhdHRlcm4sIGZvciBleGFtcGxlIGBzdWJkb21haW57YS1mfS5kb21haW4uY29tYCxcbiAqIG1heSBiZSB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgZWFjaCBvbmUgc2VwYXJhdGVseSBpbiB0aGUgYHVybHNgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbj0yNTBdIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIHdpdGggVVJMcyBpbiBhIHNldCBYWVogZm9ybWF0IHRoYXQgYXJlXG4gKiBkZWZpbmVkIGluIGEgVVJMIHRlbXBsYXRlLiBCeSBkZWZhdWx0LCB0aGlzIGZvbGxvd3MgdGhlIHdpZGVseS11c2VkXG4gKiBHb29nbGUgZ3JpZCB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSB0b3AgbGVmdC4gR3JpZHMgbGlrZVxuICogVE1TIHdoZXJlIGB4YCAwIGFuZCBgeWAgMCBhcmUgaW4gdGhlIGJvdHRvbSBsZWZ0IGNhbiBiZSB1c2VkIGJ5XG4gKiB1c2luZyB0aGUgYHsteX1gIHBsYWNlaG9sZGVyIGluIHRoZSBVUkwgdGVtcGxhdGUsIHNvIGxvbmcgYXMgdGhlXG4gKiBzb3VyY2UgZG9lcyBub3QgaGF2ZSBhIGN1c3RvbSB0aWxlIGdyaWQuIEluIHRoaXMgY2FzZVxuICogYSBgdGlsZVVybEZ1bmN0aW9uYCBjYW4gYmUgdXNlZCwgc3VjaCBhczpcbiAqIGBgYGpzXG4gKiAgdGlsZVVybEZ1bmN0aW9uOiBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gKiAgICByZXR1cm4gJ2h0dHA6Ly9tYXBzZXJ2ZXIuY29tLycgKyBjb29yZGluYXRlWzBdICsgJy8nICtcbiAqICAgICAgY29vcmRpbmF0ZVsxXSArICcvJyArICgtY29vcmRpbmF0ZVsyXSAtIDEpICsgJy5wbmcnO1xuICogIH1cbiAqIGBgYFxuICogQGFwaVxuICovXG52YXIgWFlaID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhYWVosIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIFhZWiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFhZWihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlU21vb3RoaW5nIDogdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnByb2plY3Rpb24gOiAnRVBTRzozODU3JztcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMudGlsZUdyaWRcbiAgICAgICAgICAgIDogY3JlYXRlWFlaKHtcbiAgICAgICAgICAgICAgICBleHRlbnQ6IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pLFxuICAgICAgICAgICAgICAgIG1heFJlc29sdXRpb246IG9wdGlvbnMubWF4UmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20sXG4gICAgICAgICAgICAgICAgbWluWm9vbTogb3B0aW9ucy5taW5ab29tLFxuICAgICAgICAgICAgICAgIHRpbGVTaXplOiBvcHRpb25zLnRpbGVTaXplLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICAgICAgICB0aWxlR3JpZDogdGlsZUdyaWQsXG4gICAgICAgICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICAgICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFhZWjtcbn0oVGlsZUltYWdlKSk7XG5leHBvcnQgZGVmYXVsdCBYWVo7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1YWVouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9XTVRTUmVxdWVzdEVuY29kaW5nXG4gKi9cbi8qKlxuICogUmVxdWVzdCBlbmNvZGluZy4gT25lIG9mICdLVlAnLCAnUkVTVCcuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgS1ZQOiAnS1ZQJyxcbiAgICBSRVNUOiAnUkVTVCcsIC8vIHNlZSBzcGVjIMKnMTBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XTVRTUmVxdWVzdEVuY29kaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC91cmlcbiAqL1xuLyoqXG4gKiBBcHBlbmRzIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gYSBVUkkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVyaSBUaGUgb3JpZ2luYWwgVVJJLCB3aGljaCBtYXkgYWxyZWFkeSBoYXZlIHF1ZXJ5IGRhdGEuXG4gKiBAcGFyYW0geyFPYmplY3R9IHBhcmFtcyBBbiBvYmplY3Qgd2hlcmUga2V5cyBhcmUgVVJJLWVuY29kZWQgcGFyYW1ldGVyIGtleXMsXG4gKiAgICAgYW5kIHRoZSB2YWx1ZXMgYXJlIGFyYml0cmFyeSB0eXBlcyBvciBhcnJheXMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBuZXcgVVJJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kUGFyYW1zKHVyaSwgcGFyYW1zKSB7XG4gICAgdmFyIGtleVBhcmFtcyA9IFtdO1xuICAgIC8vIFNraXAgYW55IG51bGwgb3IgdW5kZWZpbmVkIHBhcmFtZXRlciB2YWx1ZXNcbiAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgaWYgKHBhcmFtc1trXSAhPT0gbnVsbCAmJiBwYXJhbXNba10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2V5UGFyYW1zLnB1c2goayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBxcyA9IGtleVBhcmFtcy5qb2luKCcmJyk7XG4gICAgLy8gcmVtb3ZlIGFueSB0cmFpbGluZyA/IG9yICZcbiAgICB1cmkgPSB1cmkucmVwbGFjZSgvWz8mXSQvLCAnJyk7XG4gICAgLy8gYXBwZW5kID8gb3IgJiBkZXBlbmRpbmcgb24gd2hldGhlciB1cmkgaGFzIGV4aXN0aW5nIHBhcmFtZXRlcnNcbiAgICB1cmkgPSB1cmkuaW5kZXhPZignPycpID09PSAtMSA/IHVyaSArICc/JyA6IHVyaSArICcmJztcbiAgICByZXR1cm4gdXJpICsgcXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9XTVRTXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgVGlsZUltYWdlIGZyb20gJy4vVGlsZUltYWdlLmpzJztcbmltcG9ydCBXTVRTUmVxdWVzdEVuY29kaW5nIGZyb20gJy4vV01UU1JlcXVlc3RFbmNvZGluZy5qcyc7XG5pbXBvcnQgeyBhcHBlbmRQYXJhbXMgfSBmcm9tICcuLi91cmkuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zRXh0ZW50IH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyb21DYXBhYmlsaXRpZXNNYXRyaXhTZXQgfSBmcm9tICcuLi90aWxlZ3JpZC9XTVRTLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zLCBleHBhbmRVcmwgfSBmcm9tICcuLi90aWxldXJsZnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgZXF1aXZhbGVudCwgZ2V0IGFzIGdldFByb2plY3Rpb24sIHRyYW5zZm9ybUV4dGVudCB9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZmluZCwgZmluZEluZGV4LCBpbmNsdWRlcyB9IGZyb20gJy4uL2FycmF5LmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ltYWdlU21vb3RoaW5nPXRydWVdIERlcHJlY2F0ZWQuICBVc2UgdGhlIGBpbnRlcnBvbGF0ZWAgb3B0aW9uIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT10cnVlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogbGluZWFyIGludGVycG9sYXRpb24gaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuICBTZXQgdG8gZmFsc2UgdG8gdXNlIHRoZSBuZWFyZXN0IG5laWdoYm9yIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1dNVFMuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3JlcXVlc3RFbmNvZGluZz0nS1ZQJ10gUmVxdWVzdCBlbmNvZGluZy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYXllciBMYXllciBuYW1lIGFzIGFkdmVydGlzZWQgaW4gdGhlIFdNVFMgY2FwYWJpbGl0aWVzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0eWxlIFN0eWxlIG5hbWUgYXMgYWR2ZXJ0aXNlZCBpbiB0aGUgV01UUyBjYXBhYmlsaXRpZXMuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgdGlsZSBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZm9ybWF0PSdpbWFnZS9qcGVnJ10gSW1hZ2UgZm9ybWF0LiBPbmx5IHVzZWQgd2hlbiBgcmVxdWVzdEVuY29kaW5nYCBpcyBgJ0tWUCdgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt2ZXJzaW9uPScxLjAuMCddIFdNVFMgdmVyc2lvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtYXRyaXhTZXQgTWF0cml4IHNldC5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdH0gW2RpbWVuc2lvbnNdIEFkZGl0aW9uYWwgXCJkaW1lbnNpb25zXCIgZm9yIHRpbGUgcmVxdWVzdHMuXG4gKiBUaGlzIGlzIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmFtZWQgbGlrZSB0aGUgYWR2ZXJ0aXNlZCBXTVRTIGRpbWVuc2lvbnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gIEEgVVJMIGZvciB0aGUgc2VydmljZS5cbiAqIEZvciB0aGUgUkVTVGZ1bCByZXF1ZXN0IGVuY29kaW5nLCB0aGlzIGlzIGEgVVJMXG4gKiB0ZW1wbGF0ZS4gIEZvciBLVlAgZW5jb2RpbmcsIGl0IGlzIG5vcm1hbCBVUkwuIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLFxuICogZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nXG4gKiBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTHMuXG4gKiBSZXF1ZXN0cyB3aWxsIGJlIGRpc3RyaWJ1dGVkIGFtb25nIHRoZSBVUkxzIGluIHRoaXMgYXJyYXkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIGZyb20gV01UUyBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG52YXIgV01UUyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV01UUywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgV01UUyBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdNVFMob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlU21vb3RoaW5nIDogdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBUaWxlTWF0cml4TGltaXRzXG4gICAgICAgIHZhciByZXF1ZXN0RW5jb2RpbmcgPSBvcHRpb25zLnJlcXVlc3RFbmNvZGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9XTVRTUmVxdWVzdEVuY29kaW5nLmpzXCIpLmRlZmF1bHR9ICovIChvcHRpb25zLnJlcXVlc3RFbmNvZGluZylcbiAgICAgICAgICAgIDogV01UU1JlcXVlc3RFbmNvZGluZy5LVlA7XG4gICAgICAgIC8vIEZJWE1FOiBzaG91bGQgd2UgY3JlYXRlIGEgZGVmYXVsdCB0aWxlR3JpZD9cbiAgICAgICAgLy8gd2UgY291bGQgaXNzdWUgYSBnZXRDYXBhYmlsaXRpZXMgeGhyIHRvIHJldHJpZXZlIG1pc3NpbmcgY29uZmlndXJhdGlvblxuICAgICAgICB2YXIgdGlsZUdyaWQgPSBvcHRpb25zLnRpbGVHcmlkO1xuICAgICAgICB2YXIgdXJscyA9IG9wdGlvbnMudXJscztcbiAgICAgICAgaWYgKHVybHMgPT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnVybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cmxzID0gZXhwYW5kVXJsKG9wdGlvbnMudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgICAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgICAgICAgdGlsZUNsYXNzOiBvcHRpb25zLnRpbGVDbGFzcyxcbiAgICAgICAgICAgIHRpbGVHcmlkOiB0aWxlR3JpZCxcbiAgICAgICAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgdXJsczogdXJscyxcbiAgICAgICAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVyc2lvbl8gPSBvcHRpb25zLnZlcnNpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmVyc2lvbiA6ICcxLjAuMCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZvcm1hdCA6ICdpbWFnZS9qcGVnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGltZW5zaW9uc18gPVxuICAgICAgICAgICAgb3B0aW9ucy5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpbWVuc2lvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXllcl8gPSBvcHRpb25zLmxheWVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hdHJpeFNldF8gPSBvcHRpb25zLm1hdHJpeFNldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPSBvcHRpb25zLnN0eWxlO1xuICAgICAgICAvLyBGSVhNRTogc2hvdWxkIHdlIGd1ZXNzIHRoaXMgcmVxdWVzdEVuY29kaW5nIGZyb20gb3B0aW9ucy51cmwocylcbiAgICAgICAgLy8gICAgICAgIHN0cnVjdHVyZT8gdGhhdCB3b3VsZCBtZWFuIEtWUCBvbmx5IGlmIGEgdGVtcGxhdGUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVxdWVzdEVuY29kaW5nXyA9IHJlcXVlc3RFbmNvZGluZztcbiAgICAgICAgX3RoaXMuc2V0S2V5KF90aGlzLmdldEtleUZvckRpbWVuc2lvbnNfKCkpO1xuICAgICAgICBpZiAodXJscyAmJiB1cmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF90aGlzLnRpbGVVcmxGdW5jdGlvbiA9IGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHVybHMubWFwKF90aGlzLmNyZWF0ZUZyb21XTVRTVGVtcGxhdGUuYmluZChfdGhpcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVVJMcyB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIFVSTHMgbWF5IGNvbnRhaW4gT0dDIGNvbmZvcm0gVVJMIFRlbXBsYXRlIFZhcmlhYmxlczoge1RpbGVNYXRyaXh9LCB7VGlsZVJvd30sIHtUaWxlQ29sfS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHVybHMgVVJMcy5cbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5zZXRVcmxzID0gZnVuY3Rpb24gKHVybHMpIHtcbiAgICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgICAgdmFyIGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgICAgIHRoaXMuc2V0VGlsZVVybEZ1bmN0aW9uKGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHVybHMubWFwKHRoaXMuY3JlYXRlRnJvbVdNVFNUZW1wbGF0ZS5iaW5kKHRoaXMpKSksIGtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpbWVuc2lvbnMsIGkuZS4gdGhvc2UgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciB0aHJvdWdoIHRoZVxuICAgICAqIFwiZGltZW5zaW9uc1wiIG9wdGlvbiwgYW5kIHBvc3NpYmx5IHVwZGF0ZWQgdXNpbmcgdGhlIHVwZGF0ZURpbWVuc2lvbnNcbiAgICAgKiBtZXRob2QuXG4gICAgICogQHJldHVybiB7IU9iamVjdH0gRGltZW5zaW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgV01UUy5wcm90b3R5cGUuZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGltYWdlIGZvcm1hdCBvZiB0aGUgV01UUyBzb3VyY2UuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb3JtYXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFdNVFMucHJvdG90eXBlLmdldEZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGF5ZXIgb2YgdGhlIFdNVFMgc291cmNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGF5ZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFdNVFMucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1hdHJpeCBzZXQgb2YgdGhlIFdNVFMgc291cmNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTWF0cml4U2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5nZXRNYXRyaXhTZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeFNldF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHJlcXVlc3QgZW5jb2RpbmcsIGVpdGhlciBcIktWUFwiIG9yIFwiUkVTVFwiLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fSBSZXF1ZXN0IGVuY29kaW5nLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5nZXRSZXF1ZXN0RW5jb2RpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RFbmNvZGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0eWxlIG9mIHRoZSBXTVRTIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5nZXRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2ZXJzaW9uIG9mIHRoZSBXTVRTIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFZlcnNpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFdNVFMucHJvdG90eXBlLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIHRoZSBjdXJyZW50IGRpbWVuc2lvbnMuXG4gICAgICovXG4gICAgV01UUy5wcm90b3R5cGUuZ2V0S2V5Rm9yRGltZW5zaW9uc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5kaW1lbnNpb25zXykge1xuICAgICAgICAgICAgcmVzW2krK10gPSBrZXkgKyAnLScgKyB0aGlzLmRpbWVuc2lvbnNfW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcy5qb2luKCcvJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRpbWVuc2lvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbWVuc2lvbnMgRGltZW5zaW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgV01UUy5wcm90b3R5cGUudXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChkaW1lbnNpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLmRpbWVuc2lvbnNfLCBkaW1lbnNpb25zKTtcbiAgICAgICAgdGhpcy5zZXRLZXkodGhpcy5nZXRLZXlGb3JEaW1lbnNpb25zXygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5jcmVhdGVGcm9tV01UU1RlbXBsYXRlID0gZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RW5jb2RpbmcgPSB0aGlzLnJlcXVlc3RFbmNvZGluZ187XG4gICAgICAgIC8vIGNvbnRleHQgcHJvcGVydHkgbmFtZXMgYXJlIGxvd2VyIGNhc2UgdG8gYWxsb3cgZm9yIGEgY2FzZSBpbnNlbnNpdGl2ZVxuICAgICAgICAvLyByZXBsYWNlbWVudCBhcyBzb21lIHNlcnZpY2VzIHVzZSBkaWZmZXJlbnQgbmFtaW5nIGNvbnZlbnRpb25zXG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgJ2xheWVyJzogdGhpcy5sYXllcl8sXG4gICAgICAgICAgICAnc3R5bGUnOiB0aGlzLnN0eWxlXyxcbiAgICAgICAgICAgICd0aWxlbWF0cml4c2V0JzogdGhpcy5tYXRyaXhTZXRfLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocmVxdWVzdEVuY29kaW5nID09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSB7XG4gICAgICAgICAgICBhc3NpZ24oY29udGV4dCwge1xuICAgICAgICAgICAgICAgICdTZXJ2aWNlJzogJ1dNVFMnLFxuICAgICAgICAgICAgICAgICdSZXF1ZXN0JzogJ0dldFRpbGUnLFxuICAgICAgICAgICAgICAgICdWZXJzaW9uJzogdGhpcy52ZXJzaW9uXyxcbiAgICAgICAgICAgICAgICAnRm9ybWF0JzogdGhpcy5mb3JtYXRfLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogd2UgbWF5IHdhbnQgdG8gY3JlYXRlIG91ciBvd24gYXBwZW5kUGFyYW1zIGZ1bmN0aW9uIHNvIHRoYXQgcGFyYW1zXG4gICAgICAgIC8vIG9yZGVyIGNvbmZvcm1zIHRvIHdtdHMgc3BlYyBndWlkYW5jZSwgYW5kIHNvIHRoYXQgd2UgY2FuIGF2b2lkIHRvIGVzY2FwZVxuICAgICAgICAvLyBzcGVjaWFsIHRlbXBsYXRlIHBhcmFtc1xuICAgICAgICB0ZW1wbGF0ZSA9XG4gICAgICAgICAgICByZXF1ZXN0RW5jb2RpbmcgPT0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlBcbiAgICAgICAgICAgICAgICA/IGFwcGVuZFBhcmFtcyh0ZW1wbGF0ZSwgY29udGV4dClcbiAgICAgICAgICAgICAgICA6IHRlbXBsYXRlLnJlcGxhY2UoL1xceyhcXHcrPylcXH0vZywgZnVuY3Rpb24gKG0sIHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAudG9Mb3dlckNhc2UoKSBpbiBjb250ZXh0ID8gY29udGV4dFtwLnRvTG93ZXJDYXNlKCldIDogbTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9XTVRTLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLnRpbGVHcmlkKTtcbiAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnNfO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbENvbnRleHRfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ1RpbGVNYXRyaXgnOiB0aWxlR3JpZC5nZXRNYXRyaXhJZCh0aWxlQ29vcmRbMF0pLFxuICAgICAgICAgICAgICAgICAgICAnVGlsZUNvbCc6IHRpbGVDb29yZFsxXSxcbiAgICAgICAgICAgICAgICAgICAgJ1RpbGVSb3cnOiB0aWxlQ29vcmRbMl0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhc3NpZ24obG9jYWxDb250ZXh0XzEsIGRpbWVuc2lvbnMpO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdEVuY29kaW5nID09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGFwcGVuZFBhcmFtcyh1cmwsIGxvY2FsQ29udGV4dF8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXHsoXFx3Kz8pXFx9L2csIGZ1bmN0aW9uIChtLCBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxDb250ZXh0XzFbcF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBXTVRTO1xufShUaWxlSW1hZ2UpKTtcbmV4cG9ydCBkZWZhdWx0IFdNVFM7XG4vKipcbiAqIEdlbmVyYXRlIHNvdXJjZSBvcHRpb25zIGZyb20gYSBjYXBhYmlsaXRpZXMgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHdtdHNDYXAgQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY2FwYWJpbGl0aWVzIGRvY3VtZW50LlxuICogQHBhcmFtIHshT2JqZWN0fSBjb25maWcgQ29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGZvciB0aGUgbGF5ZXIuICBEZWZhdWx0cyBmb3JcbiAqICAgICAgICAgICAgICAgICAgdGhlIGxheWVyIHdpbGwgYXBwbHkgaWYgbm90IHByb3ZpZGVkLlxuICpcbiAqIFJlcXVpcmVkIGNvbmZpZyBwcm9wZXJ0aWVzOlxuICogIC0gbGF5ZXIgLSB7c3RyaW5nfSBUaGUgbGF5ZXIgaWRlbnRpZmllci5cbiAqXG4gKiBPcHRpb25hbCBjb25maWcgcHJvcGVydGllczpcbiAqICAtIG1hdHJpeFNldCAtIHtzdHJpbmd9IFRoZSBtYXRyaXggc2V0IGlkZW50aWZpZXIsIHJlcXVpcmVkIGlmIHRoZXJlIGlzXG4gKiAgICAgICBtb3JlIHRoYW4gb25lIG1hdHJpeCBzZXQgaW4gdGhlIGxheWVyIGNhcGFiaWxpdGllcy5cbiAqICAtIHByb2plY3Rpb24gLSB7c3RyaW5nfSBUaGUgZGVzaXJlZCBDUlMgd2hlbiBubyBtYXRyaXhTZXQgaXMgc3BlY2lmaWVkLlxuICogICAgICAgZWc6IFwiRVBTRzozODU3XCIuIElmIHRoZSBkZXNpcmVkIHByb2plY3Rpb24gaXMgbm90IGF2YWlsYWJsZSxcbiAqICAgICAgIGFuIGVycm9yIGlzIHRocm93bi5cbiAqICAtIHJlcXVlc3RFbmNvZGluZyAtIHtzdHJpbmd9IHVybCBlbmNvZGluZyBmb3JtYXQgZm9yIHRoZSBsYXllci4gRGVmYXVsdCBpc1xuICogICAgICAgdGhlIGZpcnN0IHRpbGUgdXJsIGZvcm1hdCBmb3VuZCBpbiB0aGUgR2V0Q2FwYWJpbGl0aWVzIHJlc3BvbnNlLlxuICogIC0gc3R5bGUgLSB7c3RyaW5nfSBUaGUgbmFtZSBvZiB0aGUgc3R5bGVcbiAqICAtIGZvcm1hdCAtIHtzdHJpbmd9IEltYWdlIGZvcm1hdCBmb3IgdGhlIGxheWVyLiBEZWZhdWx0IGlzIHRoZSBmaXJzdFxuICogICAgICAgZm9ybWF0IHJldHVybmVkIGluIHRoZSBHZXRDYXBhYmlsaXRpZXMgcmVzcG9uc2UuXG4gKiAgLSBjcm9zc09yaWdpbiAtIHtzdHJpbmd8bnVsbHx1bmRlZmluZWR9IENyb3NzIG9yaWdpbi4gRGVmYXVsdCBpcyBgdW5kZWZpbmVkYC5cbiAqIEByZXR1cm4gez9PcHRpb25zfSBXTVRTIHNvdXJjZSBvcHRpb25zIG9iamVjdCBvciBgbnVsbGAgaWYgdGhlIGxheWVyIHdhcyBub3QgZm91bmQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25zRnJvbUNhcGFiaWxpdGllcyh3bXRzQ2FwLCBjb25maWcpIHtcbiAgICB2YXIgbGF5ZXJzID0gd210c0NhcFsnQ29udGVudHMnXVsnTGF5ZXInXTtcbiAgICB2YXIgbCA9IGZpbmQobGF5ZXJzLCBmdW5jdGlvbiAoZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGVsdFsnSWRlbnRpZmllciddID09IGNvbmZpZ1snbGF5ZXInXTtcbiAgICB9KTtcbiAgICBpZiAobCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHRpbGVNYXRyaXhTZXRzID0gd210c0NhcFsnQ29udGVudHMnXVsnVGlsZU1hdHJpeFNldCddO1xuICAgIHZhciBpZHg7XG4gICAgaWYgKGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10ubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAoJ3Byb2plY3Rpb24nIGluIGNvbmZpZykge1xuICAgICAgICAgICAgaWR4ID0gZmluZEluZGV4KGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10sIGZ1bmN0aW9uIChlbHQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIHZhciB0aWxlTWF0cml4U2V0ID0gZmluZCh0aWxlTWF0cml4U2V0cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbFsnSWRlbnRpZmllciddID09IGVsdFsnVGlsZU1hdHJpeFNldCddO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzdXBwb3J0ZWRDUlMgPSB0aWxlTWF0cml4U2V0WydTdXBwb3J0ZWRDUlMnXTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvajEgPSBnZXRQcm9qZWN0aW9uKHN1cHBvcnRlZENSUyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2oyID0gZ2V0UHJvamVjdGlvbihjb25maWdbJ3Byb2plY3Rpb24nXSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2oxICYmIHByb2oyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcXVpdmFsZW50KHByb2oxLCBwcm9qMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkQ1JTID09IGNvbmZpZ1sncHJvamVjdGlvbiddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWR4ID0gZmluZEluZGV4KGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10sIGZ1bmN0aW9uIChlbHQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbHRbJ1RpbGVNYXRyaXhTZXQnXSA9PSBjb25maWdbJ21hdHJpeFNldCddO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgfVxuICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgfVxuICAgIHZhciBtYXRyaXhTZXQgPSBcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAobFsnVGlsZU1hdHJpeFNldExpbmsnXVtpZHhdWydUaWxlTWF0cml4U2V0J10pO1xuICAgIHZhciBtYXRyaXhMaW1pdHMgPSBcbiAgICAvKiogQHR5cGUge0FycmF5PE9iamVjdD59ICovXG4gICAgKGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ11baWR4XVsnVGlsZU1hdHJpeFNldExpbWl0cyddKTtcbiAgICB2YXIgZm9ybWF0ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChsWydGb3JtYXQnXVswXSk7XG4gICAgaWYgKCdmb3JtYXQnIGluIGNvbmZpZykge1xuICAgICAgICBmb3JtYXQgPSBjb25maWdbJ2Zvcm1hdCddO1xuICAgIH1cbiAgICBpZHggPSBmaW5kSW5kZXgobFsnU3R5bGUnXSwgZnVuY3Rpb24gKGVsdCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgIGlmICgnc3R5bGUnIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIGVsdFsnVGl0bGUnXSA9PSBjb25maWdbJ3N0eWxlJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWx0Wydpc0RlZmF1bHQnXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgfVxuICAgIHZhciBzdHlsZSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAobFsnU3R5bGUnXVtpZHhdWydJZGVudGlmaWVyJ10pO1xuICAgIHZhciBkaW1lbnNpb25zID0ge307XG4gICAgaWYgKCdEaW1lbnNpb24nIGluIGwpIHtcbiAgICAgICAgbFsnRGltZW5zaW9uJ10uZm9yRWFjaChmdW5jdGlvbiAoZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBlbHRbJ0lkZW50aWZpZXInXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsdFsnRGVmYXVsdCddO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGVsdFsnVmFsdWUnXVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpbWVuc2lvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIG1hdHJpeFNldHMgPSB3bXRzQ2FwWydDb250ZW50cyddWydUaWxlTWF0cml4U2V0J107XG4gICAgdmFyIG1hdHJpeFNldE9iaiA9IGZpbmQobWF0cml4U2V0cywgZnVuY3Rpb24gKGVsdCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgIHJldHVybiBlbHRbJ0lkZW50aWZpZXInXSA9PSBtYXRyaXhTZXQ7XG4gICAgfSk7XG4gICAgdmFyIHByb2plY3Rpb247XG4gICAgdmFyIGNvZGUgPSBtYXRyaXhTZXRPYmpbJ1N1cHBvcnRlZENSUyddO1xuICAgIGlmIChjb2RlKSB7XG4gICAgICAgIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKGNvZGUpO1xuICAgIH1cbiAgICBpZiAoJ3Byb2plY3Rpb24nIGluIGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvakNvbmZpZyA9IGdldFByb2plY3Rpb24oY29uZmlnWydwcm9qZWN0aW9uJ10pO1xuICAgICAgICBpZiAocHJvakNvbmZpZykge1xuICAgICAgICAgICAgaWYgKCFwcm9qZWN0aW9uIHx8IGVxdWl2YWxlbnQocHJvakNvbmZpZywgcHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uID0gcHJvakNvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgd3JhcFggPSBmYWxzZTtcbiAgICB2YXIgc3dpdGNoT3JpZ2luWFkgPSBwcm9qZWN0aW9uLmdldEF4aXNPcmllbnRhdGlvbigpLnN1YnN0cigwLCAyKSA9PSAnbmUnO1xuICAgIHZhciBtYXRyaXggPSBtYXRyaXhTZXRPYmouVGlsZU1hdHJpeFswXTtcbiAgICAvLyBjcmVhdGUgZGVmYXVsdCBtYXRyaXhMaW1pdFxuICAgIHZhciBzZWxlY3RlZE1hdHJpeExpbWl0ID0ge1xuICAgICAgICBNaW5UaWxlQ29sOiAwLFxuICAgICAgICBNaW5UaWxlUm93OiAwLFxuICAgICAgICAvLyBzdWJ0cmFjdCBvbmUgdG8gZW5kIHVwIGF0IHRpbGUgdG9wIGxlZnRcbiAgICAgICAgTWF4VGlsZUNvbDogbWF0cml4Lk1hdHJpeFdpZHRoIC0gMSxcbiAgICAgICAgTWF4VGlsZVJvdzogbWF0cml4Lk1hdHJpeEhlaWdodCAtIDEsXG4gICAgfTtcbiAgICAvL2luIGNhc2Ugb2YgbWF0cml4IGxpbWl0cywgdXNlIG1hdHJpeCBsaW1pdHMgdG8gY2FsY3VsYXRlIGV4dGVudFxuICAgIGlmIChtYXRyaXhMaW1pdHMpIHtcbiAgICAgICAgc2VsZWN0ZWRNYXRyaXhMaW1pdCA9IG1hdHJpeExpbWl0c1ttYXRyaXhMaW1pdHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBtID0gZmluZChtYXRyaXhTZXRPYmouVGlsZU1hdHJpeCwgZnVuY3Rpb24gKHRpbGVNYXRyaXhWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRpbGVNYXRyaXhWYWx1ZS5JZGVudGlmaWVyID09PSBzZWxlY3RlZE1hdHJpeExpbWl0LlRpbGVNYXRyaXggfHxcbiAgICAgICAgICAgICAgICBtYXRyaXhTZXRPYmouSWRlbnRpZmllciArICc6JyArIHRpbGVNYXRyaXhWYWx1ZS5JZGVudGlmaWVyID09PVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1hdHJpeExpbWl0LlRpbGVNYXRyaXg7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgbWF0cml4ID0gbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmVzb2x1dGlvbiA9IChtYXRyaXguU2NhbGVEZW5vbWluYXRvciAqIDAuMDAwMjgpIC8gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7IC8vIFdNVFMgMS4wLjA6IHN0YW5kYXJkaXplZCByZW5kZXJpbmcgcGl4ZWwgc2l6ZVxuICAgIHZhciBvcmlnaW4gPSBzd2l0Y2hPcmlnaW5YWVxuICAgICAgICA/IFttYXRyaXguVG9wTGVmdENvcm5lclsxXSwgbWF0cml4LlRvcExlZnRDb3JuZXJbMF1dXG4gICAgICAgIDogbWF0cml4LlRvcExlZnRDb3JuZXI7XG4gICAgdmFyIHRpbGVTcGFuWCA9IG1hdHJpeC5UaWxlV2lkdGggKiByZXNvbHV0aW9uO1xuICAgIHZhciB0aWxlU3BhblkgPSBtYXRyaXguVGlsZUhlaWdodCAqIHJlc29sdXRpb247XG4gICAgdmFyIG1hdHJpeFNldEV4dGVudCA9IG1hdHJpeFNldE9ialsnQm91bmRpbmdCb3gnXTtcbiAgICB2YXIgZXh0ZW50ID0gW1xuICAgICAgICBvcmlnaW5bMF0gKyB0aWxlU3BhblggKiBzZWxlY3RlZE1hdHJpeExpbWl0Lk1pblRpbGVDb2wsXG4gICAgICAgIC8vIGFkZCBvbmUgdG8gZ2V0IHByb3BlciBib3R0b20vcmlnaHQgY29vcmRpbmF0ZVxuICAgICAgICBvcmlnaW5bMV0gLSB0aWxlU3BhblkgKiAoMSArIHNlbGVjdGVkTWF0cml4TGltaXQuTWF4VGlsZVJvdyksXG4gICAgICAgIG9yaWdpblswXSArIHRpbGVTcGFuWCAqICgxICsgc2VsZWN0ZWRNYXRyaXhMaW1pdC5NYXhUaWxlQ29sKSxcbiAgICAgICAgb3JpZ2luWzFdIC0gdGlsZVNwYW5ZICogc2VsZWN0ZWRNYXRyaXhMaW1pdC5NaW5UaWxlUm93LFxuICAgIF07XG4gICAgaWYgKG1hdHJpeFNldEV4dGVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICFjb250YWluc0V4dGVudChtYXRyaXhTZXRFeHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgdmFyIHdnczg0Qm91bmRpbmdCb3ggPSBsWydXR1M4NEJvdW5kaW5nQm94J107XG4gICAgICAgIHZhciB3Z3M4NFByb2plY3Rpb25FeHRlbnQgPSBnZXRQcm9qZWN0aW9uKCdFUFNHOjQzMjYnKS5nZXRFeHRlbnQoKTtcbiAgICAgICAgZXh0ZW50ID0gbWF0cml4U2V0RXh0ZW50O1xuICAgICAgICBpZiAod2dzODRCb3VuZGluZ0JveCkge1xuICAgICAgICAgICAgd3JhcFggPVxuICAgICAgICAgICAgICAgIHdnczg0Qm91bmRpbmdCb3hbMF0gPT09IHdnczg0UHJvamVjdGlvbkV4dGVudFswXSAmJlxuICAgICAgICAgICAgICAgICAgICB3Z3M4NEJvdW5kaW5nQm94WzJdID09PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgd2dzODRNYXRyaXhTZXRFeHRlbnQgPSB0cmFuc2Zvcm1FeHRlbnQobWF0cml4U2V0RXh0ZW50LCBtYXRyaXhTZXRPYmpbJ1N1cHBvcnRlZENSUyddLCAnRVBTRzo0MzI2Jyk7XG4gICAgICAgICAgICAvLyBJZ25vcmUgc2xpZ2h0IGRldmlhdGlvbiBmcm9tIHRoZSBjb3JyZWN0IHggbGltaXRzXG4gICAgICAgICAgICB3cmFwWCA9XG4gICAgICAgICAgICAgICAgd2dzODRNYXRyaXhTZXRFeHRlbnRbMF0gLSAxZS0xMCA8PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMF0gJiZcbiAgICAgICAgICAgICAgICAgICAgd2dzODRNYXRyaXhTZXRFeHRlbnRbMl0gKyAxZS0xMCA+PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRpbGVHcmlkID0gY3JlYXRlRnJvbUNhcGFiaWxpdGllc01hdHJpeFNldChtYXRyaXhTZXRPYmosIGV4dGVudCwgbWF0cml4TGltaXRzKTtcbiAgICAvKiogQHR5cGUgeyFBcnJheTxzdHJpbmc+fSAqL1xuICAgIHZhciB1cmxzID0gW107XG4gICAgdmFyIHJlcXVlc3RFbmNvZGluZyA9IGNvbmZpZ1sncmVxdWVzdEVuY29kaW5nJ107XG4gICAgcmVxdWVzdEVuY29kaW5nID0gcmVxdWVzdEVuY29kaW5nICE9PSB1bmRlZmluZWQgPyByZXF1ZXN0RW5jb2RpbmcgOiAnJztcbiAgICBpZiAoJ09wZXJhdGlvbnNNZXRhZGF0YScgaW4gd210c0NhcCAmJlxuICAgICAgICAnR2V0VGlsZScgaW4gd210c0NhcFsnT3BlcmF0aW9uc01ldGFkYXRhJ10pIHtcbiAgICAgICAgdmFyIGdldHMgPSB3bXRzQ2FwWydPcGVyYXRpb25zTWV0YWRhdGEnXVsnR2V0VGlsZSddWydEQ1AnXVsnSFRUUCddWydHZXQnXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ2V0cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoZ2V0c1tpXVsnQ29uc3RyYWludCddKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBmaW5kKGdldHNbaV1bJ0NvbnN0cmFpbnQnXSwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbJ25hbWUnXSA9PSAnR2V0RW5jb2RpbmcnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBlbmNvZGluZ3MgPSBjb25zdHJhaW50WydBbGxvd2VkVmFsdWVzJ11bJ1ZhbHVlJ107XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RFbmNvZGluZyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWVzdEVuY29kaW5nIG5vdCBwcm92aWRlZCwgdXNlIHRoZSBmaXJzdCBlbmNvZGluZyBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RFbmNvZGluZyA9IGVuY29kaW5nc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RFbmNvZGluZyA9PT0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVzKGVuY29kaW5ncywgV01UU1JlcXVlc3RFbmNvZGluZy5LVlApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2goLyoqIEB0eXBlIHtzdHJpbmd9ICovIChnZXRzW2ldWydocmVmJ10pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2V0c1tpXVsnaHJlZiddKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEVuY29kaW5nID0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlA7XG4gICAgICAgICAgICAgICAgdXJscy5wdXNoKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZ2V0c1tpXVsnaHJlZiddKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVybHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlcXVlc3RFbmNvZGluZyA9IFdNVFNSZXF1ZXN0RW5jb2RpbmcuUkVTVDtcbiAgICAgICAgbFsnUmVzb3VyY2VVUkwnXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudFsncmVzb3VyY2VUeXBlJ10gPT09ICd0aWxlJykge1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGVsZW1lbnRbJ2Zvcm1hdCddO1xuICAgICAgICAgICAgICAgIHVybHMucHVzaCgvKiogQHR5cGUge3N0cmluZ30gKi8gKGVsZW1lbnRbJ3RlbXBsYXRlJ10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHVybHM6IHVybHMsXG4gICAgICAgIGxheWVyOiBjb25maWdbJ2xheWVyJ10sXG4gICAgICAgIG1hdHJpeFNldDogbWF0cml4U2V0LFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgICAgcmVxdWVzdEVuY29kaW5nOiByZXF1ZXN0RW5jb2RpbmcsXG4gICAgICAgIHRpbGVHcmlkOiB0aWxlR3JpZCxcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgICAgICB3cmFwWDogd3JhcFgsXG4gICAgICAgIGNyb3NzT3JpZ2luOiBjb25maWdbJ2Nyb3NzT3JpZ2luJ10sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdNVFMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9jb21tb25cbiAqL1xuLyoqXG4gKiBEZWZhdWx0IFdNUyB2ZXJzaW9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1dNU19WRVJTSU9OID0gJzEuMy4wJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9JbWFnZVxuICovXG5pbXBvcnQgeyBFUlJPUl9USFJFU0hPTEQgfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlQmFzZSBmcm9tICcuLi9JbWFnZUJhc2UuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgVHJpYW5ndWxhdGlvbiBmcm9tICcuL1RyaWFuZ3VsYXRpb24uanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbiwgcmVuZGVyIGFzIHJlbmRlclJlcHJvamVjdGVkLCB9IGZyb20gJy4uL3JlcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRDZW50ZXIsIGdldEhlaWdodCwgZ2V0SW50ZXJzZWN0aW9uLCBnZXRXaWR0aCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLCBudW1iZXIpIDogaW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IEZ1bmN0aW9uVHlwZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGVuY2Fwc3VsYXRpbmcgc2luZ2xlIHJlcHJvamVjdGVkIGltYWdlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL0ltYWdlfkltYWdlU291cmNlfS5cbiAqL1xudmFyIFJlcHJvakltYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXByb2pJbWFnZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uIChvZiB0aGUgZGF0YSkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25UeXBlfSBnZXRJbWFnZUZ1bmN0aW9uXG4gICAgICogICAgIEZ1bmN0aW9uIHJldHVybmluZyBzb3VyY2UgaW1hZ2VzIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50ZXJwb2xhdGUgVXNlIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdoZW4gcmVzYW1wbGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXByb2pJbWFnZShzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCB0YXJnZXRFeHRlbnQsIHRhcmdldFJlc29sdXRpb24sIHBpeGVsUmF0aW8sIGdldEltYWdlRnVuY3Rpb24sIGludGVycG9sYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXhTb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgICAgICB2YXIgbWF4VGFyZ2V0RXh0ZW50ID0gdGFyZ2V0UHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIGxpbWl0ZWRUYXJnZXRFeHRlbnQgPSBtYXhUYXJnZXRFeHRlbnRcbiAgICAgICAgICAgID8gZ2V0SW50ZXJzZWN0aW9uKHRhcmdldEV4dGVudCwgbWF4VGFyZ2V0RXh0ZW50KVxuICAgICAgICAgICAgOiB0YXJnZXRFeHRlbnQ7XG4gICAgICAgIHZhciB0YXJnZXRDZW50ZXIgPSBnZXRDZW50ZXIobGltaXRlZFRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCB0YXJnZXRDZW50ZXIsIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICB2YXIgZXJyb3JUaHJlc2hvbGRJblBpeGVscyA9IEVSUk9SX1RIUkVTSE9MRDtcbiAgICAgICAgdmFyIHRyaWFuZ3VsYXRpb24gPSBuZXcgVHJpYW5ndWxhdGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHNvdXJjZUV4dGVudCA9IHRyaWFuZ3VsYXRpb24uY2FsY3VsYXRlU291cmNlRXh0ZW50KCk7XG4gICAgICAgIHZhciBzb3VyY2VJbWFnZSA9IGdldEltYWdlRnVuY3Rpb24oc291cmNlRXh0ZW50LCBzb3VyY2VSZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIHN0YXRlID0gc291cmNlSW1hZ2UgPyBJbWFnZVN0YXRlLklETEUgOiBJbWFnZVN0YXRlLkVNUFRZO1xuICAgICAgICB2YXIgc291cmNlUGl4ZWxSYXRpbyA9IHNvdXJjZUltYWdlID8gc291cmNlSW1hZ2UuZ2V0UGl4ZWxSYXRpbygpIDogMTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0YXJnZXRFeHRlbnQsIHRhcmdldFJlc29sdXRpb24sIHNvdXJjZVBpeGVsUmF0aW8sIHN0YXRlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0UHJval8gPSB0YXJnZXRQcm9qO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhTb3VyY2VFeHRlbnRfID0gbWF4U291cmNlRXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFpbXBvcnQoXCIuL1RyaWFuZ3VsYXRpb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyaWFuZ3VsYXRpb25fID0gdHJpYW5ndWxhdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHRhcmdldFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldEV4dGVudF8gPSB0YXJnZXRFeHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VJbWFnZV8gPSBzb3VyY2VJbWFnZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VQaXhlbFJhdGlvXyA9IHNvdXJjZVBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVycG9sYXRlXyA9IGludGVycG9sYXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIFJlcHJvakltYWdlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgICAgdGhpcy51bmxpc3RlblNvdXJjZV8oKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlLlxuICAgICAqL1xuICAgIFJlcHJvakltYWdlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBQcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIFJlcHJvakltYWdlLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRQcm9qXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVwcm9qSW1hZ2UucHJvdG90eXBlLnJlcHJvamVjdF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2VTdGF0ZSA9IHRoaXMuc291cmNlSW1hZ2VfLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChzb3VyY2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gZ2V0V2lkdGgodGhpcy50YXJnZXRFeHRlbnRfKSAvIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl87XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZ2V0SGVpZ2h0KHRoaXMudGFyZ2V0RXh0ZW50XykgLyB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfID0gcmVuZGVyUmVwcm9qZWN0ZWQod2lkdGgsIGhlaWdodCwgdGhpcy5zb3VyY2VQaXhlbFJhdGlvXywgdGhpcy5zb3VyY2VJbWFnZV8uZ2V0UmVzb2x1dGlvbigpLCB0aGlzLm1heFNvdXJjZUV4dGVudF8sIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8sIHRoaXMudGFyZ2V0RXh0ZW50XywgdGhpcy50cmlhbmd1bGF0aW9uXywgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50OiB0aGlzLnNvdXJjZUltYWdlXy5nZXRFeHRlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMuc291cmNlSW1hZ2VfLmdldEltYWdlKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sIDAsIHVuZGVmaW5lZCwgdGhpcy5pbnRlcnBvbGF0ZV8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzb3VyY2VTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBSZXByb2pJbWFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FESU5HO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgICAgICB2YXIgc291cmNlU3RhdGUgPSB0aGlzLnNvdXJjZUltYWdlXy5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEIHx8IHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcHJvamVjdF8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTGlzdGVuZXJLZXlfID0gbGlzdGVuKHRoaXMuc291cmNlSW1hZ2VfLCBFdmVudFR5cGUuQ0hBTkdFLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlU3RhdGUgPSB0aGlzLnNvdXJjZUltYWdlXy5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5saXN0ZW5Tb3VyY2VfKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcHJvamVjdF8oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlSW1hZ2VfLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pJbWFnZS5wcm90b3R5cGUudW5saXN0ZW5Tb3VyY2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB1bmxpc3RlbkJ5S2V5KFxuICAgICAgICAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fSAqLyAodGhpcy5zb3VyY2VMaXN0ZW5lcktleV8pKTtcbiAgICAgICAgdGhpcy5zb3VyY2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcHJvakltYWdlO1xufShJbWFnZUJhc2UpKTtcbmV4cG9ydCBkZWZhdWx0IFJlcHJvakltYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvSW1hZ2VcbiAqL1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBSZXByb2pJbWFnZSBmcm9tICcuLi9yZXByb2ovSW1hZ2UuanMnO1xuaW1wb3J0IFNvdXJjZSBmcm9tICcuL1NvdXJjZS5qcyc7XG5pbXBvcnQgeyBFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiB9IGZyb20gJy4uL3JlcHJvai9jb21tb24uanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBlcXVpdmFsZW50IH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBsaW5lYXJGaW5kTmVhcmVzdCB9IGZyb20gJy4uL2FycmF5LmpzJztcbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBJbWFnZVNvdXJjZUV2ZW50VHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhbiBpbWFnZSBzdGFydHMgbG9hZGluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9JbWFnZS5JbWFnZVNvdXJjZUV2ZW50I2ltYWdlbG9hZHN0YXJ0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIElNQUdFTE9BRFNUQVJUOiAnaW1hZ2Vsb2Fkc3RhcnQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGltYWdlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvSW1hZ2UuSW1hZ2VTb3VyY2VFdmVudCNpbWFnZWxvYWRlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSU1BR0VMT0FERU5EOiAnaW1hZ2Vsb2FkZW5kJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgaWYgaW1hZ2UgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL0ltYWdlLkltYWdlU291cmNlRXZlbnQjaW1hZ2Vsb2FkZXJyb3JcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSU1BR0VMT0FERVJST1I6ICdpbWFnZWxvYWRlcnJvcicsXG59O1xuLyoqXG4gKiBAdHlwZWRlZiB7J2ltYWdlbG9hZGVuZCd8J2ltYWdlbG9hZGVycm9yJ3wnaW1hZ2Vsb2Fkc3RhcnQnfSBJbWFnZVNvdXJjZUV2ZW50VHlwZXNcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9JbWFnZX5JbWFnZVNvdXJjZX0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xudmFyIEltYWdlU291cmNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlU291cmNlRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlIFRoZSBpbWFnZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVNvdXJjZUV2ZW50KHR5cGUsIGltYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2UgcmVsYXRlZCB0byB0aGUgZXZlbnQuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBJbWFnZVNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgSW1hZ2VTb3VyY2VFdmVudCB9O1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPEltYWdlU291cmNlRXZlbnRUeXBlcywgSW1hZ2VTb3VyY2VFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzXG4gKiAgICAgfEltYWdlU291cmNlRXZlbnRUeXBlcywgUmV0dXJuPn0gSW1hZ2VTb3VyY2VPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbWFnZVNtb290aGluZz10cnVlXSBEZXByZWNhdGVkLiAgVXNlIHRoZSBgaW50ZXJwb2xhdGVgIG9wdGlvbiBpbnN0ZWFkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9dHJ1ZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIGxpbmVhciBpbnRlcnBvbGF0aW9uIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLiAgU2V0IHRvIGZhbHNlIHRvIHVzZSB0aGUgbmVhcmVzdCBuZWlnaGJvciBpbnN0ZWFkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGVdIFN0YXRlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHNvdXJjZXMgcHJvdmlkaW5nIGEgc2luZ2xlIGltYWdlLlxuICogQGFic3RyYWN0XG4gKiBAZmlyZXMgbW9kdWxlOm9sL3NvdXJjZS9JbWFnZS5JbWFnZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBJbWFnZVNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VTb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFNpbmdsZSBpbWFnZSBzb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVNvdXJjZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW1hZ2VTbW9vdGhpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW1hZ2VTbW9vdGhpbmcgOiB0cnVlO1xuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcnBvbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGU7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ltYWdlU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7SW1hZ2VTb3VyY2VPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ltYWdlU291cmNlT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbnNfID1cbiAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVzb2x1dGlvbnMgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3JlcHJvai9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVwcm9qZWN0ZWRJbWFnZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcHJvamVjdGVkUmV2aXNpb25fID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBJbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVNvdXJjZS5wcm90b3R5cGUuZmluZE5lYXJlc3RSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIDApO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbnNfW2lkeF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IFNpbmdsZSBpbWFnZS5cbiAgICAgKi9cbiAgICBJbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfHxcbiAgICAgICAgICAgICFzb3VyY2VQcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICAhcHJvamVjdGlvbiB8fFxuICAgICAgICAgICAgZXF1aXZhbGVudChzb3VyY2VQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZVByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uID0gc291cmNlUHJvamVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEltYWdlSW50ZXJuYWwoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlcHJvamVjdGVkSW1hZ2VfKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVwcm9qZWN0ZWRSZXZpc2lvbl8gPT0gdGhpcy5nZXRSZXZpc2lvbigpICYmXG4gICAgICAgICAgICAgICAgICAgIGVxdWl2YWxlbnQodGhpcy5yZXByb2plY3RlZEltYWdlXy5nZXRQcm9qZWN0aW9uKCksIHByb2plY3Rpb24pICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV8uZ2V0UmVzb2x1dGlvbigpID09IHJlc29sdXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgZXF1YWxzKHRoaXMucmVwcm9qZWN0ZWRJbWFnZV8uZ2V0RXh0ZW50KCksIGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXByb2plY3RlZEltYWdlXyA9IG5ldyBSZXByb2pJbWFnZShzb3VyY2VQcm9qZWN0aW9uLCBwcm9qZWN0aW9uLCBleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbWFnZUludGVybmFsKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbik7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIHRoaXMuZ2V0SW50ZXJwb2xhdGUoKSk7XG4gICAgICAgICAgICB0aGlzLnJlcHJvamVjdGVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZUJhc2UuanNcIikuZGVmYXVsdH0gU2luZ2xlIGltYWdlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBJbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0SW1hZ2VJbnRlcm5hbCA9IGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW1hZ2UgY2hhbmdlIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgSW1hZ2VTb3VyY2UucHJvdG90eXBlLmhhbmRsZUltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHN3aXRjaCAoaW1hZ2UuZ2V0U3RhdGUoKSkge1xuICAgICAgICAgICAgY2FzZSBJbWFnZVN0YXRlLkxPQURJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEltYWdlU291cmNlRXZlbnQoSW1hZ2VTb3VyY2VFdmVudFR5cGUuSU1BR0VMT0FEU1RBUlQsIGltYWdlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEltYWdlU3RhdGUuTE9BREVEOlxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSW1hZ2VTb3VyY2VFdmVudChJbWFnZVNvdXJjZUV2ZW50VHlwZS5JTUFHRUxPQURFTkQsIGltYWdlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEltYWdlU3RhdGUuRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBJbWFnZVNvdXJjZUV2ZW50KEltYWdlU291cmNlRXZlbnRUeXBlLklNQUdFTE9BREVSUk9SLCBpbWFnZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIHBhc3NcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEltYWdlU291cmNlO1xufShTb3VyY2UpKTtcbi8qKlxuICogRGVmYXVsdCBpbWFnZSBsb2FkIGZ1bmN0aW9uIGZvciBpbWFnZSBzb3VyY2VzIHRoYXQgdXNlIGltcG9ydChcIi4uL0ltYWdlLmpzXCIpLkltYWdlIGltYWdlXG4gKiBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0SW1hZ2VMb2FkRnVuY3Rpb24oaW1hZ2UsIHNyYykge1xuICAgIC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAoaW1hZ2UuZ2V0SW1hZ2UoKSkuc3JjID0gc3JjO1xufVxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL0ltYWdlV01TXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBERUZBVUxUX1dNU19WRVJTSU9OIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVNvdXJjZSwgeyBkZWZhdWx0SW1hZ2VMb2FkRnVuY3Rpb24gfSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCBJbWFnZVdyYXBwZXIgZnJvbSAnLi4vSW1hZ2UuanMnO1xuaW1wb3J0IFdNU1NlcnZlclR5cGUgZnJvbSAnLi9XTVNTZXJ2ZXJUeXBlLmpzJztcbmltcG9ydCB7IGFwcGVuZFBhcmFtcyB9IGZyb20gJy4uL3VyaS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uIH0gZnJvbSAnLi4vcmVwcm9qLmpzJztcbmltcG9ydCB7IGNlaWwsIGZsb29yLCByb3VuZCB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHsgY29tcGFyZVZlcnNpb25zIH0gZnJvbSAnLi4vc3RyaW5nLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zRXh0ZW50LCBnZXRDZW50ZXIsIGdldEZvclZpZXdBbmRTaXplLCBnZXRIZWlnaHQsIGdldFdpZHRoLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgdHJhbnNmb3JtIH0gZnJvbSAnLi4vcHJvai5qcyc7XG4vKipcbiAqIE51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cyB0byBjb25zaWRlciBpbiBpbnRlZ2VyIHZhbHVlcyB3aGVuIHJvdW5kaW5nLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFQ0lNQUxTID0gNDtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICovXG52YXIgR0VURkVBVFVSRUlORk9fSU1BR0VfU0laRSA9IFsxMDEsIDEwMV07XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hpZHBpPXRydWVdIFVzZSB0aGUgYG9sL01hcCNwaXhlbFJhdGlvYCB2YWx1ZSB3aGVuIHJlcXVlc3RpbmdcbiAqIHRoZSBpbWFnZSBmcm9tIHRoZSByZW1vdGUgc2VydmVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1dNU1NlcnZlclR5cGUuanNcIikuZGVmYXVsdHxzdHJpbmd9IFtzZXJ2ZXJUeXBlXSBUaGUgdHlwZSBvZlxuICogdGhlIHJlbW90ZSBXTVMgc2VydmVyOiBgbWFwc2VydmVyYCwgYGdlb3NlcnZlcmAgb3IgYHFnaXNgLiBPbmx5IG5lZWRlZCBpZiBgaGlkcGlgIGlzIGB0cnVlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufSBbaW1hZ2VMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYW4gaW1hZ2UgZ2l2ZW4gYSBVUkwuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbWFnZVNtb290aGluZz10cnVlXSBEZXByZWNhdGVkLiAgVXNlIHRoZSBgaW50ZXJwb2xhdGVgIG9wdGlvbiBpbnN0ZWFkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9dHJ1ZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIGxpbmVhciBpbnRlcnBvbGF0aW9uIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLiAgU2V0IHRvIGZhbHNlIHRvIHVzZSB0aGUgbmVhcmVzdCBuZWlnaGJvciBpbnN0ZWFkLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCo+fSBwYXJhbXMgV01TIHJlcXVlc3QgcGFyYW1ldGVycy5cbiAqIEF0IGxlYXN0IGEgYExBWUVSU2AgcGFyYW0gaXMgcmVxdWlyZWQuIGBTVFlMRVNgIGlzXG4gKiBgJydgIGJ5IGRlZmF1bHQuIGBWRVJTSU9OYCBpcyBgMS4zLjBgIGJ5IGRlZmF1bHQuIGBXSURUSGAsIGBIRUlHSFRgLCBgQkJPWGBcbiAqIGFuZCBgQ1JTYCAoYFNSU2AgZm9yIFdNUyB2ZXJzaW9uIDwgMS4zLjApIHdpbGwgYmUgc2V0IGR5bmFtaWNhbGx5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYXRpbz0xLjVdIFJhdGlvLiBgMWAgbWVhbnMgaW1hZ2UgcmVxdWVzdHMgYXJlIHRoZSBzaXplIG9mIHRoZSBtYXAgdmlld3BvcnQsIGAyYCBtZWFuc1xuICogdHdpY2UgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIG1hcCB2aWV3cG9ydCwgYW5kIHNvIG9uLiBNdXN0IGJlIGAxYCBvclxuICogaGlnaGVyLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbcmVzb2x1dGlvbnNdIFJlc29sdXRpb25zLlxuICogSWYgc3BlY2lmaWVkLCByZXF1ZXN0cyB3aWxsIGJlIG1hZGUgZm9yIHRoZXNlIHJlc29sdXRpb25zIG9ubHkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsIFdNUyBzZXJ2aWNlIFVSTC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTb3VyY2UgZm9yIFdNUyBzZXJ2ZXJzIHByb3ZpZGluZyBzaW5nbGUsIHVudGlsZWQgaW1hZ2VzLlxuICpcbiAqIEBmaXJlcyBtb2R1bGU6b2wvc291cmNlL0ltYWdlLkltYWdlU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIEltYWdlV01TID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVdNUywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gSW1hZ2VXTVMgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVdNUyhvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIGludGVycG9sYXRlID0gb3B0aW9ucy5pbWFnZVNtb290aGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWFnZVNtb290aGluZyA6IHRydWU7XG4gICAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICAgICAgICByZXNvbHV0aW9uczogb3B0aW9ucy5yZXNvbHV0aW9ucyxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Jvc3NPcmlnaW5fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmxfID0gb3B0aW9ucy51cmw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID1cbiAgICAgICAgICAgIG9wdGlvbnMuaW1hZ2VMb2FkRnVuY3Rpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5pbWFnZUxvYWRGdW5jdGlvblxuICAgICAgICAgICAgICAgIDogZGVmYXVsdEltYWdlTG9hZEZ1bmN0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYXJhbXNfID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnYxM18gPSB0cnVlO1xuICAgICAgICBfdGhpcy51cGRhdGVWMTNfKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9XTVNTZXJ2ZXJUeXBlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2VydmVyVHlwZV8gPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1dNU1NlcnZlclR5cGUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9ICovIChvcHRpb25zLnNlcnZlclR5cGUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaWRwaV8gPSBvcHRpb25zLmhpZHBpICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhpZHBpIDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVNpemVfID0gWzAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yYXRpb18gPSBvcHRpb25zLnJhdGlvICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhdGlvIDogMS41O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgR2V0RmVhdHVyZUluZm8gVVJMIGZvciB0aGUgcGFzc2VkIGNvb3JkaW5hdGUsIHJlc29sdXRpb24sIGFuZFxuICAgICAqIHByb2plY3Rpb24uIFJldHVybiBgdW5kZWZpbmVkYCBpZiB0aGUgR2V0RmVhdHVyZUluZm8gVVJMIGNhbm5vdCBiZVxuICAgICAqIGNvbnN0cnVjdGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHBhcmFtcyBHZXRGZWF0dXJlSW5mbyBwYXJhbXMuIGBJTkZPX0ZPUk1BVGAgYXQgbGVhc3Qgc2hvdWxkXG4gICAgICogICAgIGJlIHByb3ZpZGVkLiBJZiBgUVVFUllfTEFZRVJTYCBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgbGF5ZXJzIHNwZWNpZmllZFxuICAgICAqICAgICBpbiB0aGUgYExBWUVSU2AgcGFyYW1ldGVyIHdpbGwgYmUgdXNlZC4gYFZFUlNJT05gIHNob3VsZCBub3QgYmVcbiAgICAgKiAgICAgc3BlY2lmaWVkIGhlcmUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gR2V0RmVhdHVyZUluZm8gVVJMLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0RmVhdHVyZUluZm9VcmwgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbiwgcGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLnVybF8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvamVjdGlvbk9iaiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uT2JqID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIGlmIChzb3VyY2VQcm9qZWN0aW9uT2JqICYmIHNvdXJjZVByb2plY3Rpb25PYmogIT09IHByb2plY3Rpb25PYmopIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKHNvdXJjZVByb2plY3Rpb25PYmosIHByb2plY3Rpb25PYmosIGNvb3JkaW5hdGUsIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgY29vcmRpbmF0ZSA9IHRyYW5zZm9ybShjb29yZGluYXRlLCBwcm9qZWN0aW9uT2JqLCBzb3VyY2VQcm9qZWN0aW9uT2JqKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0ZW50ID0gZ2V0Rm9yVmlld0FuZFNpemUoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgMCwgR0VURkVBVFVSRUlORk9fSU1BR0VfU0laRSk7XG4gICAgICAgIHZhciBiYXNlUGFyYW1zID0ge1xuICAgICAgICAgICAgJ1NFUlZJQ0UnOiAnV01TJyxcbiAgICAgICAgICAgICdWRVJTSU9OJzogREVGQVVMVF9XTVNfVkVSU0lPTixcbiAgICAgICAgICAgICdSRVFVRVNUJzogJ0dldEZlYXR1cmVJbmZvJyxcbiAgICAgICAgICAgICdGT1JNQVQnOiAnaW1hZ2UvcG5nJyxcbiAgICAgICAgICAgICdUUkFOU1BBUkVOVCc6IHRydWUsXG4gICAgICAgICAgICAnUVVFUllfTEFZRVJTJzogdGhpcy5wYXJhbXNfWydMQVlFUlMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgYXNzaWduKGJhc2VQYXJhbXMsIHRoaXMucGFyYW1zXywgcGFyYW1zKTtcbiAgICAgICAgdmFyIHggPSBmbG9vcigoY29vcmRpbmF0ZVswXSAtIGV4dGVudFswXSkgLyByZXNvbHV0aW9uLCBERUNJTUFMUyk7XG4gICAgICAgIHZhciB5ID0gZmxvb3IoKGV4dGVudFszXSAtIGNvb3JkaW5hdGVbMV0pIC8gcmVzb2x1dGlvbiwgREVDSU1BTFMpO1xuICAgICAgICBiYXNlUGFyYW1zW3RoaXMudjEzXyA/ICdJJyA6ICdYJ10gPSB4O1xuICAgICAgICBiYXNlUGFyYW1zW3RoaXMudjEzXyA/ICdKJyA6ICdZJ10gPSB5O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0VXJsXyhleHRlbnQsIEdFVEZFQVRVUkVJTkZPX0lNQUdFX1NJWkUsIDEsIHNvdXJjZVByb2plY3Rpb25PYmogfHwgcHJvamVjdGlvbk9iaiwgYmFzZVBhcmFtcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIEdldExlZ2VuZEdyYXBoaWMgVVJMLCBvcHRpb25hbGx5IG9wdGltaXplZCBmb3IgdGhlIHBhc3NlZFxuICAgICAqIHJlc29sdXRpb24gYW5kIHBvc3NpYmx5IGluY2x1ZGluZyBhbnkgcGFzc2VkIHNwZWNpZmljIHBhcmFtZXRlcnMuIFJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCBpZiB0aGUgR2V0TGVnZW5kR3JhcGhpYyBVUkwgY2Fubm90IGJlIGNvbnN0cnVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBSZXNvbHV0aW9uLiBJZiBzZXQgdG8gdW5kZWZpbmVkLCBgU0NBTEVgXG4gICAgICogICAgIHdpbGwgbm90IGJlIGNhbGN1bGF0ZWQgYW5kIGluY2x1ZGVkIGluIFVSTC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gR2V0TGVnZW5kR3JhcGhpYyBwYXJhbXMuIElmIGBMQVlFUmAgaXMgc2V0LCB0aGVcbiAgICAgKiAgICAgcmVxdWVzdCBpcyBnZW5lcmF0ZWQgZm9yIHRoaXMgd21zIGxheWVyLCBlbHNlIGl0IHdpbGwgdHJ5IHRvIHVzZSB0aGVcbiAgICAgKiAgICAgY29uZmlndXJlZCB3bXMgbGF5ZXIuIERlZmF1bHQgYEZPUk1BVGAgaXMgYGltYWdlL3BuZ2AuXG4gICAgICogICAgIGBWRVJTSU9OYCBzaG91bGQgbm90IGJlIHNwZWNpZmllZCBoZXJlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IEdldExlZ2VuZEdyYXBoaWMgVVJMLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0TGVnZW5kVXJsID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIHBhcmFtcykge1xuICAgICAgICBpZiAodGhpcy51cmxfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VQYXJhbXMgPSB7XG4gICAgICAgICAgICAnU0VSVklDRSc6ICdXTVMnLFxuICAgICAgICAgICAgJ1ZFUlNJT04nOiBERUZBVUxUX1dNU19WRVJTSU9OLFxuICAgICAgICAgICAgJ1JFUVVFU1QnOiAnR2V0TGVnZW5kR3JhcGhpYycsXG4gICAgICAgICAgICAnRk9STUFUJzogJ2ltYWdlL3BuZycsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwYXJhbXMgPT09IHVuZGVmaW5lZCB8fCBwYXJhbXNbJ0xBWUVSJ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGxheWVycyA9IHRoaXMucGFyYW1zXy5MQVlFUlM7XG4gICAgICAgICAgICB2YXIgaXNTaW5nbGVMYXllciA9ICFBcnJheS5pc0FycmF5KGxheWVycykgfHwgbGF5ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIGlmICghaXNTaW5nbGVMYXllcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlUGFyYW1zWydMQVlFUiddID0gbGF5ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBtcHUgPSB0aGlzLmdldFByb2plY3Rpb24oKVxuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRQcm9qZWN0aW9uKCkuZ2V0TWV0ZXJzUGVyVW5pdCgpXG4gICAgICAgICAgICAgICAgOiAxO1xuICAgICAgICAgICAgdmFyIHBpeGVsU2l6ZSA9IDAuMDAwMjg7XG4gICAgICAgICAgICBiYXNlUGFyYW1zWydTQ0FMRSddID0gKHJlc29sdXRpb24gKiBtcHUpIC8gcGl4ZWxTaXplO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihiYXNlUGFyYW1zLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gYXBwZW5kUGFyYW1zKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodGhpcy51cmxfKSwgYmFzZVBhcmFtcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHVzZXItcHJvdmlkZWQgcGFyYW1zLCBpLmUuIHRob3NlIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IgdGhyb3VnaFxuICAgICAqIHRoZSBcInBhcmFtc1wiIG9wdGlvbiwgYW5kIHBvc3NpYmx5IHVwZGF0ZWQgdXNpbmcgdGhlIHVwZGF0ZVBhcmFtcyBtZXRob2QuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBQYXJhbXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlV01TLnByb3RvdHlwZS5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gU2luZ2xlIGltYWdlLlxuICAgICAqL1xuICAgIEltYWdlV01TLnByb3RvdHlwZS5nZXRJbWFnZUludGVybmFsID0gZnVuY3Rpb24gKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICBpZiAodGhpcy51cmxfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdXRpb24gPSB0aGlzLmZpbmROZWFyZXN0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKHBpeGVsUmF0aW8gIT0gMSAmJiAoIXRoaXMuaGlkcGlfIHx8IHRoaXMuc2VydmVyVHlwZV8gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWFnZVJlc29sdXRpb24gPSByZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGNlbnRlciA9IGdldENlbnRlcihleHRlbnQpO1xuICAgICAgICB2YXIgdmlld1dpZHRoID0gY2VpbChnZXRXaWR0aChleHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uLCBERUNJTUFMUyk7XG4gICAgICAgIHZhciB2aWV3SGVpZ2h0ID0gY2VpbChnZXRIZWlnaHQoZXh0ZW50KSAvIGltYWdlUmVzb2x1dGlvbiwgREVDSU1BTFMpO1xuICAgICAgICB2YXIgdmlld0V4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgaW1hZ2VSZXNvbHV0aW9uLCAwLCBbXG4gICAgICAgICAgICB2aWV3V2lkdGgsXG4gICAgICAgICAgICB2aWV3SGVpZ2h0LFxuICAgICAgICBdKTtcbiAgICAgICAgdmFyIHJlcXVlc3RXaWR0aCA9IGNlaWwoKHRoaXMucmF0aW9fICogZ2V0V2lkdGgoZXh0ZW50KSkgLyBpbWFnZVJlc29sdXRpb24sIERFQ0lNQUxTKTtcbiAgICAgICAgdmFyIHJlcXVlc3RIZWlnaHQgPSBjZWlsKCh0aGlzLnJhdGlvXyAqIGdldEhlaWdodChleHRlbnQpKSAvIGltYWdlUmVzb2x1dGlvbiwgREVDSU1BTFMpO1xuICAgICAgICB2YXIgcmVxdWVzdEV4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgaW1hZ2VSZXNvbHV0aW9uLCAwLCBbXG4gICAgICAgICAgICByZXF1ZXN0V2lkdGgsXG4gICAgICAgICAgICByZXF1ZXN0SGVpZ2h0LFxuICAgICAgICBdKTtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgICAgIGlmIChpbWFnZSAmJlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9PSB0aGlzLmdldFJldmlzaW9uKCkgJiZcbiAgICAgICAgICAgIGltYWdlLmdldFJlc29sdXRpb24oKSA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgICAgICBpbWFnZS5nZXRQaXhlbFJhdGlvKCkgPT0gcGl4ZWxSYXRpbyAmJlxuICAgICAgICAgICAgY29udGFpbnNFeHRlbnQoaW1hZ2UuZ2V0RXh0ZW50KCksIHZpZXdFeHRlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgICdTRVJWSUNFJzogJ1dNUycsXG4gICAgICAgICAgICAnVkVSU0lPTic6IERFRkFVTFRfV01TX1ZFUlNJT04sXG4gICAgICAgICAgICAnUkVRVUVTVCc6ICdHZXRNYXAnLFxuICAgICAgICAgICAgJ0ZPUk1BVCc6ICdpbWFnZS9wbmcnLFxuICAgICAgICAgICAgJ1RSQU5TUEFSRU5UJzogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgYXNzaWduKHBhcmFtcywgdGhpcy5wYXJhbXNfKTtcbiAgICAgICAgdGhpcy5pbWFnZVNpemVfWzBdID0gcm91bmQoZ2V0V2lkdGgocmVxdWVzdEV4dGVudCkgLyBpbWFnZVJlc29sdXRpb24sIERFQ0lNQUxTKTtcbiAgICAgICAgdGhpcy5pbWFnZVNpemVfWzFdID0gcm91bmQoZ2V0SGVpZ2h0KHJlcXVlc3RFeHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uLCBERUNJTUFMUyk7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLmdldFJlcXVlc3RVcmxfKHJlcXVlc3RFeHRlbnQsIHRoaXMuaW1hZ2VTaXplXywgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgcGFyYW1zKTtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2VXcmFwcGVyKHJlcXVlc3RFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHVybCwgdGhpcy5jcm9zc09yaWdpbl8sIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgdGhpcy5pbWFnZV8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUltYWdlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGltYWdlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFRoZSBpbWFnZSBsb2FkIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0SW1hZ2VMb2FkRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtcy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJlcXVlc3QgVVJMLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXTVMucHJvdG90eXBlLmdldFJlcXVlc3RVcmxfID0gZnVuY3Rpb24gKGV4dGVudCwgc2l6ZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgcGFyYW1zKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLnVybF8gIT09IHVuZGVmaW5lZCwgOSk7IC8vIGB1cmxgIG11c3QgYmUgY29uZmlndXJlZCBvciBzZXQgdXNpbmcgYCNzZXRVcmwoKWBcbiAgICAgICAgcGFyYW1zW3RoaXMudjEzXyA/ICdDUlMnIDogJ1NSUyddID0gcHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gICAgICAgIGlmICghKCdTVFlMRVMnIGluIHRoaXMucGFyYW1zXykpIHtcbiAgICAgICAgICAgIHBhcmFtc1snU1RZTEVTJ10gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGl4ZWxSYXRpbyAhPSAxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2VydmVyVHlwZV8pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFdNU1NlcnZlclR5cGUuR0VPU0VSVkVSOlxuICAgICAgICAgICAgICAgICAgICB2YXIgZHBpID0gKDkwICogcGl4ZWxSYXRpbyArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ0ZPUk1BVF9PUFRJT05TJyBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1snRk9STUFUX09QVElPTlMnXSArPSAnO2RwaTonICsgZHBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zWydGT1JNQVRfT1BUSU9OUyddID0gJ2RwaTonICsgZHBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgV01TU2VydmVyVHlwZS5NQVBTRVJWRVI6XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1snTUFQX1JFU09MVVRJT04nXSA9IDkwICogcGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBXTVNTZXJ2ZXJUeXBlLkNBUk1FTlRBX1NFUlZFUjpcbiAgICAgICAgICAgICAgICBjYXNlIFdNU1NlcnZlclR5cGUuUUdJUzpcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zWydEUEknXSA9IDkwICogcGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCA4KTsgLy8gVW5rbm93biBgc2VydmVyVHlwZWAgY29uZmlndXJlZFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXJhbXNbJ1dJRFRIJ10gPSBzaXplWzBdO1xuICAgICAgICBwYXJhbXNbJ0hFSUdIVCddID0gc2l6ZVsxXTtcbiAgICAgICAgdmFyIGF4aXNPcmllbnRhdGlvbiA9IHByb2plY3Rpb24uZ2V0QXhpc09yaWVudGF0aW9uKCk7XG4gICAgICAgIHZhciBiYm94O1xuICAgICAgICBpZiAodGhpcy52MTNfICYmIGF4aXNPcmllbnRhdGlvbi5zdWJzdHIoMCwgMikgPT0gJ25lJykge1xuICAgICAgICAgICAgYmJveCA9IFtleHRlbnRbMV0sIGV4dGVudFswXSwgZXh0ZW50WzNdLCBleHRlbnRbMl1dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmJveCA9IGV4dGVudDtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXNbJ0JCT1gnXSA9IGJib3guam9pbignLCcpO1xuICAgICAgICByZXR1cm4gYXBwZW5kUGFyYW1zKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodGhpcy51cmxfKSwgcGFyYW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgVVJMIHVzZWQgZm9yIHRoaXMgV01TIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBVUkwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlV01TLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGltYWdlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLkxvYWRGdW5jdGlvbn0gaW1hZ2VMb2FkRnVuY3Rpb24gSW1hZ2UgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VXTVMucHJvdG90eXBlLnNldEltYWdlTG9hZEZ1bmN0aW9uID0gZnVuY3Rpb24gKGltYWdlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl8gPSBpbWFnZUxvYWRGdW5jdGlvbjtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gdXJsIFVSTC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VXTVMucHJvdG90eXBlLnNldFVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKHVybCAhPSB0aGlzLnVybF8pIHtcbiAgICAgICAgICAgIHRoaXMudXJsXyA9IHVybDtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHVzZXItcHJvdmlkZWQgcGFyYW1zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgUGFyYW1zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdNUy5wcm90b3R5cGUudXBkYXRlUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBhc3NpZ24odGhpcy5wYXJhbXNfLCBwYXJhbXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVYxM18oKTtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXTVMucHJvdG90eXBlLnVwZGF0ZVYxM18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gdGhpcy5wYXJhbXNfWydWRVJTSU9OJ10gfHwgREVGQVVMVF9XTVNfVkVSU0lPTjtcbiAgICAgICAgdGhpcy52MTNfID0gY29tcGFyZVZlcnNpb25zKHZlcnNpb24sICcxLjMnKSA+PSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlV01TO1xufShJbWFnZVNvdXJjZSkpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VXTVM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVdNUy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1dNU1NlcnZlclR5cGVcbiAqL1xuLyoqXG4gKiBBdmFpbGFibGUgc2VydmVyIHR5cGVzOiBgJ2Nhcm1lbnRhc2VydmVyJ2AsIGAnZ2Vvc2VydmVyJ2AsIGAnbWFwc2VydmVyJ2AsXG4gKiAgICAgYCdxZ2lzJ2AuIFRoZXNlIGFyZSBzZXJ2ZXJzIHRoYXQgaGF2ZSB2ZW5kb3IgcGFyYW1ldGVycyBiZXlvbmQgdGhlIFdNU1xuICogICAgIHNwZWNpZmljYXRpb24gdGhhdCBPcGVuTGF5ZXJzIGNhbiBtYWtlIHVzZSBvZi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBIaURQSSBzdXBwb3J0IGZvciBbQ2FybWVudGEgU2VydmVyXShodHRwczovL3d3dy5jYXJtZW50YS5jb20vZW4vcHJvZHVjdHMvY2FybWVudGEtc2VydmVyKVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDQVJNRU5UQV9TRVJWRVI6ICdjYXJtZW50YXNlcnZlcicsXG4gICAgLyoqXG4gICAgICogSGlEUEkgc3VwcG9ydCBmb3IgW0dlb1NlcnZlcl0oaHR0cHM6Ly9nZW9zZXJ2ZXIub3JnLylcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR0VPU0VSVkVSOiAnZ2Vvc2VydmVyJyxcbiAgICAvKipcbiAgICAgKiBIaURQSSBzdXBwb3J0IGZvciBbTWFwU2VydmVyXShodHRwczovL21hcHNlcnZlci5vcmcvKVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNQVBTRVJWRVI6ICdtYXBzZXJ2ZXInLFxuICAgIC8qKlxuICAgICAqIEhpRFBJIHN1cHBvcnQgZm9yIFtRR0lTXShodHRwczovL3FnaXMub3JnLylcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUUdJUzogJ3FnaXMnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdNU1NlcnZlclR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0cmluZ1xuICovXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgTnVtYmVyIHRvIGJlIGZvcm1hdHRlZFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFRoZSBkZXNpcmVkIHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9wcmVjaXNpb25dIFByZWNpc2lvbiBvZiB0aGUgb3V0cHV0IHN0cmluZyAoaS5lLiBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMpXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhZE51bWJlcihudW1iZXIsIHdpZHRoLCBvcHRfcHJlY2lzaW9uKSB7XG4gICAgdmFyIG51bWJlclN0cmluZyA9IG9wdF9wcmVjaXNpb24gIT09IHVuZGVmaW5lZCA/IG51bWJlci50b0ZpeGVkKG9wdF9wcmVjaXNpb24pIDogJycgKyBudW1iZXI7XG4gICAgdmFyIGRlY2ltYWwgPSBudW1iZXJTdHJpbmcuaW5kZXhPZignLicpO1xuICAgIGRlY2ltYWwgPSBkZWNpbWFsID09PSAtMSA/IG51bWJlclN0cmluZy5sZW5ndGggOiBkZWNpbWFsO1xuICAgIHJldHVybiBkZWNpbWFsID4gd2lkdGhcbiAgICAgICAgPyBudW1iZXJTdHJpbmdcbiAgICAgICAgOiBuZXcgQXJyYXkoMSArIHdpZHRoIC0gZGVjaW1hbCkuam9pbignMCcpICsgbnVtYmVyU3RyaW5nO1xufVxuLyoqXG4gKiBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL29taWNoZWxzZW4vY29tcGFyZS12ZXJzaW9ucy9ibG9iL21hc3Rlci9pbmRleC5qc1xuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSB2MSBGaXJzdCB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHYyIFNlY29uZCB2ZXJzaW9uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVmVyc2lvbnModjEsIHYyKSB7XG4gICAgdmFyIHMxID0gKCcnICsgdjEpLnNwbGl0KCcuJyk7XG4gICAgdmFyIHMyID0gKCcnICsgdjIpLnNwbGl0KCcuJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLm1heChzMS5sZW5ndGgsIHMyLmxlbmd0aCk7IGkrKykge1xuICAgICAgICB2YXIgbjEgPSBwYXJzZUludChzMVtpXSB8fCAnMCcsIDEwKTtcbiAgICAgICAgdmFyIG4yID0gcGFyc2VJbnQoczJbaV0gfHwgJzAnLCAxMCk7XG4gICAgICAgIGlmIChuMSA+IG4yKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobjIgPiBuMSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZC9XTVRTXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgVGlsZUdyaWQgZnJvbSAnLi9UaWxlR3JpZC5qcyc7XG5pbXBvcnQgeyBmaW5kIH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0IGFzIGdldFByb2plY3Rpb24gfSBmcm9tICcuLi9wcm9qLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQgZm9yIHRoZSB0aWxlIGdyaWQuIE5vIHRpbGVzXG4gKiBvdXRzaWRlIHRoaXMgZXh0ZW50IHdpbGwgYmUgcmVxdWVzdGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV9IHNvdXJjZXMuXG4gKiBXaGVuIG5vIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCBhcmUgY29uZmlndXJlZCwgdGhlIGBvcmlnaW5gIHdpbGwgYmUgc2V0IHRvIHRoZVxuICogdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBleHRlbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29yaWdpbl0gVGhlIHRpbGUgZ3JpZCBvcmlnaW4sIGkuZS5cbiAqIHdoZXJlIHRoZSBgeGAgYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKS4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0XG4gKiB0byByaWdodCBhbmQgZG93bndhcmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBgZXh0ZW50YCBvciBgb3JpZ2luc2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gW29yaWdpbnNdIFRpbGUgZ3JpZCBvcmlnaW5zLFxuICogaS5lLiB3aGVyZSB0aGUgYHhgIGFuZCBgeWAgYXhlcyBtZWV0IChgW3osIDAsIDBdYCksIGZvciBlYWNoIHpvb20gbGV2ZWwuIElmXG4gKiBnaXZlbiwgdGhlIGFycmF5IGxlbmd0aCBzaG91bGQgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheSwgaS5lLlxuICogZWFjaCByZXNvbHV0aW9uIGNhbiBoYXZlIGEgZGlmZmVyZW50IG9yaWdpbi4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0IHRvXG4gKiByaWdodCBhbmQgZG93bndhcmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBgZXh0ZW50YCBvciBgb3JpZ2luYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gcmVzb2x1dGlvbnMgUmVzb2x1dGlvbnMuIFRoZSBhcnJheSBpbmRleCBvZiBlYWNoXG4gKiByZXNvbHV0aW9uIG5lZWRzIHRvIG1hdGNoIHRoZSB6b29tIGxldmVsLiBUaGlzIG1lYW5zIHRoYXQgZXZlbiBpZiBhIGBtaW5ab29tYFxuICogaXMgY29uZmlndXJlZCwgdGhlIHJlc29sdXRpb25zIGFycmF5IHdpbGwgaGF2ZSBhIGxlbmd0aCBvZiBgbWF4Wm9vbSArIDFgXG4gKiBAcHJvcGVydHkgeyFBcnJheTxzdHJpbmc+fSBtYXRyaXhJZHMgbWF0cml4IElEcy4gVGhlIGxlbmd0aCBvZiB0aGlzIGFycmF5IG5lZWRzXG4gKiB0byBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSBbc2l6ZXNdIE51bWJlciBvZiB0aWxlIHJvd3MgYW5kIGNvbHVtbnNcbiAqIG9mIHRoZSBncmlkIGZvciBlYWNoIHpvb20gbGV2ZWwuIFRoZSB2YWx1ZXMgaGVyZSBhcmUgdGhlIGBUaWxlTWF0cml4V2lkdGhgIGFuZFxuICogYFRpbGVNYXRyaXhIZWlnaHRgIGFkdmVydGlzZWQgaW4gdGhlIEdldENhcGFiaWxpdGllcyByZXNwb25zZSBvZiB0aGUgV01UUywgYW5kXG4gKiBkZWZpbmUgZWFjaCB6b29tIGxldmVsJ3MgZXh0ZW50IHRvZ2V0aGVyIHdpdGggdGhlIGBvcmlnaW5gIG9yIGBvcmlnaW5zYC5cbiAqIEEgZ3JpZCBgZXh0ZW50YCBjYW4gYmUgY29uZmlndXJlZCBpbiBhZGRpdGlvbiwgYW5kIHdpbGwgZnVydGhlciBsaW1pdCB0aGUgZXh0ZW50IGZvclxuICogd2hpY2ggdGlsZSByZXF1ZXN0cyBhcmUgbWFkZSBieSBzb3VyY2VzLiBJZiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mXG4gKiBhbiBleHRlbnQgaXMgdXNlZCBhcyBgb3JpZ2luYCBvciBgb3JpZ2luc2AsIHRoZW4gdGhlIGB5YCB2YWx1ZSBtdXN0IGJlXG4gKiBuZWdhdGl2ZSBiZWNhdXNlIE9wZW5MYXllcnMgdGlsZSBjb29yZGluYXRlcyB1c2UgdGhlIHRvcCBsZWZ0IGFzIHRoZSBvcmlnaW4uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZV0gVGlsZSBzaXplLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSBbdGlsZVNpemVzXSBUaWxlIHNpemVzLiBUaGUgbGVuZ3RoIG9mXG4gKiB0aGlzIGFycmF5IG5lZWRzIHRvIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIGByZXNvbHV0aW9uc2AgYXJyYXkuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHRoZSBncmlkIHBhdHRlcm4gZm9yIHNvdXJjZXMgYWNjZXNzaW5nIFdNVFMgdGlsZWQtaW1hZ2Ugc2VydmVycy5cbiAqIEBhcGlcbiAqL1xudmFyIFdNVFNUaWxlR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV01UU1RpbGVHcmlkLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBXTVRTIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gV01UU1RpbGVHcmlkKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZXh0ZW50OiBvcHRpb25zLmV4dGVudCxcbiAgICAgICAgICAgIG9yaWdpbjogb3B0aW9ucy5vcmlnaW4sXG4gICAgICAgICAgICBvcmlnaW5zOiBvcHRpb25zLm9yaWdpbnMsXG4gICAgICAgICAgICByZXNvbHV0aW9uczogb3B0aW9ucy5yZXNvbHV0aW9ucyxcbiAgICAgICAgICAgIHRpbGVTaXplOiBvcHRpb25zLnRpbGVTaXplLFxuICAgICAgICAgICAgdGlsZVNpemVzOiBvcHRpb25zLnRpbGVTaXplcyxcbiAgICAgICAgICAgIHNpemVzOiBvcHRpb25zLnNpemVzLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF0cml4SWRzXyA9IG9wdGlvbnMubWF0cml4SWRzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBNYXRyaXhJZC4uXG4gICAgICovXG4gICAgV01UU1RpbGVHcmlkLnByb3RvdHlwZS5nZXRNYXRyaXhJZCA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeElkc19bel07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpc3Qgb2YgbWF0cml4IGlkZW50aWZpZXJzLlxuICAgICAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IE1hdHJpeElkcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgV01UU1RpbGVHcmlkLnByb3RvdHlwZS5nZXRNYXRyaXhJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeElkc187XG4gICAgfTtcbiAgICByZXR1cm4gV01UU1RpbGVHcmlkO1xufShUaWxlR3JpZCkpO1xuZXhwb3J0IGRlZmF1bHQgV01UU1RpbGVHcmlkO1xuLyoqXG4gKiBDcmVhdGUgYSB0aWxlIGdyaWQgZnJvbSBhIFdNVFMgY2FwYWJpbGl0aWVzIG1hdHJpeCBzZXQgYW5kIGFuXG4gKiBvcHRpb25hbCBUaWxlTWF0cml4U2V0TGltaXRzLlxuICogQHBhcmFtIHtPYmplY3R9IG1hdHJpeFNldCBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgbWF0cml4U2V0IGluIHRoZVxuICogICAgIGNhcGFiaWxpdGllcyBkb2N1bWVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIEFuIG9wdGlvbmFsIGV4dGVudCB0byByZXN0cmljdCB0aGUgdGlsZVxuICogICAgIHJhbmdlcyB0aGUgc2VydmVyIHByb3ZpZGVzLlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBbb3B0X21hdHJpeExpbWl0c10gQW4gb3B0aW9uYWwgb2JqZWN0IHJlcHJlc2VudGluZ1xuICogICAgIHRoZSBhdmFpbGFibGUgbWF0cmljZXMgZm9yIHRpbGVHcmlkLlxuICogQHJldHVybiB7V01UU1RpbGVHcmlkfSBXTVRTIHRpbGVHcmlkIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbUNhcGFiaWxpdGllc01hdHJpeFNldChtYXRyaXhTZXQsIG9wdF9leHRlbnQsIG9wdF9tYXRyaXhMaW1pdHMpIHtcbiAgICAvKiogQHR5cGUgeyFBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciByZXNvbHV0aW9ucyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PHN0cmluZz59ICovXG4gICAgdmFyIG1hdHJpeElkcyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovXG4gICAgdmFyIG9yaWdpbnMgPSBbXTtcbiAgICAvKiogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSAqL1xuICAgIHZhciB0aWxlU2l6ZXMgPSBbXTtcbiAgICAvKiogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSAqL1xuICAgIHZhciBzaXplcyA9IFtdO1xuICAgIHZhciBtYXRyaXhMaW1pdHMgPSBvcHRfbWF0cml4TGltaXRzICE9PSB1bmRlZmluZWQgPyBvcHRfbWF0cml4TGltaXRzIDogW107XG4gICAgdmFyIHN1cHBvcnRlZENSU1Byb3BOYW1lID0gJ1N1cHBvcnRlZENSUyc7XG4gICAgdmFyIG1hdHJpeElkc1Byb3BOYW1lID0gJ1RpbGVNYXRyaXgnO1xuICAgIHZhciBpZGVudGlmaWVyUHJvcE5hbWUgPSAnSWRlbnRpZmllcic7XG4gICAgdmFyIHNjYWxlRGVub21pbmF0b3JQcm9wTmFtZSA9ICdTY2FsZURlbm9taW5hdG9yJztcbiAgICB2YXIgdG9wTGVmdENvcm5lclByb3BOYW1lID0gJ1RvcExlZnRDb3JuZXInO1xuICAgIHZhciB0aWxlV2lkdGhQcm9wTmFtZSA9ICdUaWxlV2lkdGgnO1xuICAgIHZhciB0aWxlSGVpZ2h0UHJvcE5hbWUgPSAnVGlsZUhlaWdodCc7XG4gICAgdmFyIGNvZGUgPSBtYXRyaXhTZXRbc3VwcG9ydGVkQ1JTUHJvcE5hbWVdO1xuICAgIHZhciBwcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihjb2RlKTtcbiAgICB2YXIgbWV0ZXJzUGVyVW5pdCA9IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgIC8vIHN3YXAgb3JpZ2luIHggYW5kIHkgY29vcmRpbmF0ZXMgaWYgYXhpcyBvcmllbnRhdGlvbiBpcyBsYXQvbG9uZ1xuICAgIHZhciBzd2l0Y2hPcmlnaW5YWSA9IHByb2plY3Rpb24uZ2V0QXhpc09yaWVudGF0aW9uKCkuc3Vic3RyKDAsIDIpID09ICduZSc7XG4gICAgbWF0cml4U2V0W21hdHJpeElkc1Byb3BOYW1lXS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBiW3NjYWxlRGVub21pbmF0b3JQcm9wTmFtZV0gLSBhW3NjYWxlRGVub21pbmF0b3JQcm9wTmFtZV07XG4gICAgfSk7XG4gICAgbWF0cml4U2V0W21hdHJpeElkc1Byb3BOYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChlbHQpIHtcbiAgICAgICAgdmFyIG1hdHJpeEF2YWlsYWJsZTtcbiAgICAgICAgLy8gdXNlIG9mIG1hdHJpeExpbWl0cyB0byBmaWx0ZXIgVGlsZU1hdHJpY2VzIGZyb20gR2V0Q2FwYWJpbGl0aWVzXG4gICAgICAgIC8vIFRpbGVNYXRyaXhTZXQgZnJvbSB1bmF2YWlsYWJsZSBtYXRyaXggbGV2ZWxzLlxuICAgICAgICBpZiAobWF0cml4TGltaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1hdHJpeEF2YWlsYWJsZSA9IGZpbmQobWF0cml4TGltaXRzLCBmdW5jdGlvbiAoZWx0X21sKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsdFtpZGVudGlmaWVyUHJvcE5hbWVdID09IGVsdF9tbFttYXRyaXhJZHNQcm9wTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGZvciB0aWxlTWF0cml4IGlkZW50aWZpZXJzIHRoYXQgZG9uJ3QgZ2V0IHByZWZpeGVkXG4gICAgICAgICAgICAgICAgLy8gYnkgdGhlaXIgdGlsZU1hdHJpeFNldCBpZGVudGlmaWVycy5cbiAgICAgICAgICAgICAgICBpZiAoZWx0W2lkZW50aWZpZXJQcm9wTmFtZV0uaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG1hdHJpeFNldFtpZGVudGlmaWVyUHJvcE5hbWVdICsgJzonICsgZWx0W2lkZW50aWZpZXJQcm9wTmFtZV0gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHRfbWxbbWF0cml4SWRzUHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXRyaXhBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRyaXhBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIG1hdHJpeElkcy5wdXNoKGVsdFtpZGVudGlmaWVyUHJvcE5hbWVdKTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gKGVsdFtzY2FsZURlbm9taW5hdG9yUHJvcE5hbWVdICogMC4yOGUtMykgLyBtZXRlcnNQZXJVbml0O1xuICAgICAgICAgICAgdmFyIHRpbGVXaWR0aCA9IGVsdFt0aWxlV2lkdGhQcm9wTmFtZV07XG4gICAgICAgICAgICB2YXIgdGlsZUhlaWdodCA9IGVsdFt0aWxlSGVpZ2h0UHJvcE5hbWVdO1xuICAgICAgICAgICAgaWYgKHN3aXRjaE9yaWdpblhZKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2lucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgZWx0W3RvcExlZnRDb3JuZXJQcm9wTmFtZV1bMV0sXG4gICAgICAgICAgICAgICAgICAgIGVsdFt0b3BMZWZ0Q29ybmVyUHJvcE5hbWVdWzBdLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3JpZ2lucy5wdXNoKGVsdFt0b3BMZWZ0Q29ybmVyUHJvcE5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdXRpb25zLnB1c2gocmVzb2x1dGlvbik7XG4gICAgICAgICAgICB0aWxlU2l6ZXMucHVzaCh0aWxlV2lkdGggPT0gdGlsZUhlaWdodCA/IHRpbGVXaWR0aCA6IFt0aWxlV2lkdGgsIHRpbGVIZWlnaHRdKTtcbiAgICAgICAgICAgIHNpemVzLnB1c2goW2VsdFsnTWF0cml4V2lkdGgnXSwgZWx0WydNYXRyaXhIZWlnaHQnXV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBXTVRTVGlsZUdyaWQoe1xuICAgICAgICBleHRlbnQ6IG9wdF9leHRlbnQsXG4gICAgICAgIG9yaWdpbnM6IG9yaWdpbnMsXG4gICAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9ucyxcbiAgICAgICAgbWF0cml4SWRzOiBtYXRyaXhJZHMsXG4gICAgICAgIHRpbGVTaXplczogdGlsZVNpemVzLFxuICAgICAgICBzaXplczogc2l6ZXMsXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XTVRTLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvRmVhdHVyZVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7dHlwZW9mIEZlYXR1cmV8dHlwZW9mIGltcG9ydChcIi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZUNsYXNzXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge0ZlYXR1cmU8aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHQ+fGltcG9ydChcIi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZUxpa2VcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmdlb21ldHJ5JywgaW1wb3J0KFwiLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc1xuICogICAgIHwnY2hhbmdlOmdlb21ldHJ5JywgUmV0dXJuPn0gRmVhdHVyZU9uU2lnbmF0dXJlXG4gKi9cbi8qKipcbiAqIEB0ZW1wbGF0ZSBHZW9tZXRyeVxuICogQHR5cGVkZWYge09iamVjdDxzdHJpbmcsICo+ICYgeyBnZW9tZXRyeT86IEdlb21ldHJ5IH19IE9iamVjdFdpdGhHZW9tZXRyeVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgdmVjdG9yIG9iamVjdCBmb3IgZ2VvZ3JhcGhpYyBmZWF0dXJlcyB3aXRoIGEgZ2VvbWV0cnkgYW5kIG90aGVyXG4gKiBhdHRyaWJ1dGUgcHJvcGVydGllcywgc2ltaWxhciB0byB0aGUgZmVhdHVyZXMgaW4gdmVjdG9yIGZpbGUgZm9ybWF0cyBsaWtlXG4gKiBHZW9KU09OLlxuICpcbiAqIEZlYXR1cmVzIGNhbiBiZSBzdHlsZWQgaW5kaXZpZHVhbGx5IHdpdGggYHNldFN0eWxlYDsgb3RoZXJ3aXNlIHRoZXkgdXNlIHRoZVxuICogc3R5bGUgb2YgdGhlaXIgdmVjdG9yIGxheWVyLlxuICpcbiAqIE5vdGUgdGhhdCBhdHRyaWJ1dGUgcHJvcGVydGllcyBhcmUgc2V0IGFzIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fSBwcm9wZXJ0aWVzIG9uXG4gKiB0aGUgZmVhdHVyZSBvYmplY3QsIHNvIHRoZXkgYXJlIG9ic2VydmFibGUsIGFuZCBoYXZlIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIFR5cGljYWxseSwgYSBmZWF0dXJlIGhhcyBhIHNpbmdsZSBnZW9tZXRyeSBwcm9wZXJ0eS4gWW91IGNhbiBzZXQgdGhlXG4gKiBnZW9tZXRyeSB1c2luZyB0aGUgYHNldEdlb21ldHJ5YCBtZXRob2QgYW5kIGdldCBpdCB3aXRoIGBnZXRHZW9tZXRyeWAuXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBzdG9yZSBtb3JlIHRoYW4gb25lIGdlb21ldHJ5IG9uIGEgZmVhdHVyZSB1c2luZyBhdHRyaWJ1dGVcbiAqIHByb3BlcnRpZXMuIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSB1c2VkIGZvciByZW5kZXJpbmcgaXMgaWRlbnRpZmllZCBieVxuICogdGhlIHByb3BlcnR5IG5hbWUgYGdlb21ldHJ5YC4gSWYgeW91IHdhbnQgdG8gdXNlIGFub3RoZXIgZ2VvbWV0cnkgcHJvcGVydHlcbiAqIGZvciByZW5kZXJpbmcsIHVzZSB0aGUgYHNldEdlb21ldHJ5TmFtZWAgbWV0aG9kIHRvIGNoYW5nZSB0aGUgYXR0cmlidXRlXG4gKiBwcm9wZXJ0eSBhc3NvY2lhdGVkIHdpdGggdGhlIGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKlxuICogaW1wb3J0IEZlYXR1cmUgZnJvbSAnb2wvRmVhdHVyZSc7XG4gKiBpbXBvcnQgUG9seWdvbiBmcm9tICdvbC9nZW9tL1BvbHlnb24nO1xuICogaW1wb3J0IFBvaW50IGZyb20gJ29sL2dlb20vUG9pbnQnO1xuICpcbiAqIHZhciBmZWF0dXJlID0gbmV3IEZlYXR1cmUoe1xuICogICBnZW9tZXRyeTogbmV3IFBvbHlnb24ocG9seUNvb3JkcyksXG4gKiAgIGxhYmVsUG9pbnQ6IG5ldyBQb2ludChsYWJlbENvb3JkcyksXG4gKiAgIG5hbWU6ICdNeSBQb2x5Z29uJ1xuICogfSk7XG4gKlxuICogLy8gZ2V0IHRoZSBwb2x5Z29uIGdlb21ldHJ5XG4gKiB2YXIgcG9seSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqXG4gKiAvLyBSZW5kZXIgdGhlIGZlYXR1cmUgYXMgYSBwb2ludCB1c2luZyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBsYWJlbFBvaW50XG4gKiBmZWF0dXJlLnNldEdlb21ldHJ5TmFtZSgnbGFiZWxQb2ludCcpO1xuICpcbiAqIC8vIGdldCB0aGUgcG9pbnQgZ2VvbWV0cnlcbiAqIHZhciBwb2ludCA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5XG4gKi9cbnZhciBGZWF0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGZWF0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7R2VvbWV0cnl8T2JqZWN0V2l0aEdlb21ldHJ5PEdlb21ldHJ5Pn0gW29wdF9nZW9tZXRyeU9yUHJvcGVydGllc11cbiAgICAgKiAgICAgWW91IG1heSBwYXNzIGEgR2VvbWV0cnkgb2JqZWN0IGRpcmVjdGx5LCBvciBhbiBvYmplY3QgbGl0ZXJhbCBjb250YWluaW5nXG4gICAgICogICAgIHByb3BlcnRpZXMuIElmIHlvdSBwYXNzIGFuIG9iamVjdCBsaXRlcmFsLCB5b3UgbWF5IGluY2x1ZGUgYSBHZW9tZXRyeVxuICAgICAqICAgICBhc3NvY2lhdGVkIHdpdGggYSBgZ2VvbWV0cnlgIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGZWF0dXJlKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtGZWF0dXJlT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtGZWF0dXJlT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ZlYXR1cmVPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5TmFtZV8gPSAnZ2VvbWV0cnknO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVGdW5jdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IG51bGw7XG4gICAgICAgIF90aGlzLmFkZENoYW5nZUxpc3RlbmVyKF90aGlzLmdlb21ldHJ5TmFtZV8sIF90aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8pO1xuICAgICAgICBpZiAob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIChcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7P30gKi8gKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykuZ2V0U2ltcGxpZmllZEdlb21ldHJ5KSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7R2VvbWV0cnl9ICovIChvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59ICovXG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgZmVhdHVyZS4gSWYgdGhlIG9yaWdpbmFsIGZlYXR1cmUgaGFzIGEgZ2VvbWV0cnkgaXRcbiAgICAgKiBpcyBhbHNvIGNsb25lZC4gVGhlIGZlYXR1cmUgaWQgaXMgbm90IHNldCBpbiB0aGUgY2xvbmUuXG4gICAgICogQHJldHVybiB7RmVhdHVyZTxHZW9tZXRyeT59IFRoZSBjbG9uZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IC8qKiBAdHlwZSB7RmVhdHVyZTxHZW9tZXRyeT59ICovIChuZXcgRmVhdHVyZSh0aGlzLmhhc1Byb3BlcnRpZXMoKSA/IHRoaXMuZ2V0UHJvcGVydGllcygpIDogbnVsbCkpO1xuICAgICAgICBjbG9uZS5zZXRHZW9tZXRyeU5hbWUodGhpcy5nZXRHZW9tZXRyeU5hbWUoKSk7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICBjbG9uZS5zZXRHZW9tZXRyeSgvKiogQHR5cGUge0dlb21ldHJ5fSAqLyAoZ2VvbWV0cnkuY2xvbmUoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTtcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBjbG9uZS5zZXRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmZWF0dXJlJ3MgZGVmYXVsdCBnZW9tZXRyeS4gIEEgZmVhdHVyZSBtYXkgaGF2ZSBhbnkgbnVtYmVyIG9mIG5hbWVkXG4gICAgICogZ2VvbWV0cmllcy4gIFRoZSBcImRlZmF1bHRcIiBnZW9tZXRyeSAodGhlIG9uZSB0aGF0IGlzIHJlbmRlcmVkIGJ5IGRlZmF1bHQpIGlzXG4gICAgICogc2V0IHdoZW4gY2FsbGluZyB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNzZXRHZW9tZXRyeX0uXG4gICAgICogQHJldHVybiB7R2VvbWV0cnl8dW5kZWZpbmVkfSBUaGUgZGVmYXVsdCBnZW9tZXRyeSBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge0dlb21ldHJ5fHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KHRoaXMuZ2VvbWV0cnlOYW1lXykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmZWF0dXJlIGlkZW50aWZpZXIuICBUaGlzIGlzIGEgc3RhYmxlIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlIGFuZFxuICAgICAqIGlzIGVpdGhlciBzZXQgd2hlbiByZWFkaW5nIGRhdGEgZnJvbSBhIHJlbW90ZSBzb3VyY2Ugb3Igc2V0IGV4cGxpY2l0bHkgYnlcbiAgICAgKiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI3NldElkfS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gSWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LiAgQnkgZGVmYXVsdCwgdGhlIGRlZmF1bHRcbiAgICAgKiBnZW9tZXRyeSBpcyBuYW1lZCBgZ2VvbWV0cnlgLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gR2V0IHRoZSBwcm9wZXJ0eSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgZGVmYXVsdCBnZW9tZXRyeVxuICAgICAqICAgICBmb3IgdGhpcyBmZWF0dXJlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5nZXRHZW9tZXRyeU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5TmFtZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBzdHlsZS4gV2lsbCByZXR1cm4gd2hhdCB3YXMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0U3R5bGV9IG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXx1bmRlZmluZWR9IFRoZSBmZWF0dXJlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5nZXRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmZWF0dXJlJ3Mgc3R5bGUgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gUmV0dXJuIGEgZnVuY3Rpb25cbiAgICAgKiByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3R5bGUgb2YgdGhpcyBmZWF0dXJlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5nZXRTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZUZ1bmN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuaGFuZGxlR2VvbWV0cnlDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnlDaGFuZ2VLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMuZ2VvbWV0cnlDaGFuZ2VLZXlfKTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZUtleV8gPSBsaXN0ZW4oZ2VvbWV0cnksIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VfLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVmYXVsdCBnZW9tZXRyeSBmb3IgdGhlIGZlYXR1cmUuICBUaGlzIHdpbGwgdXBkYXRlIHRoZSBwcm9wZXJ0eVxuICAgICAqIHdpdGggdGhlIG5hbWUgcmV0dXJuZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjZ2V0R2VvbWV0cnlOYW1lfS5cbiAgICAgKiBAcGFyYW0ge0dlb21ldHJ5fHVuZGVmaW5lZH0gZ2VvbWV0cnkgVGhlIG5ldyBnZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5zZXRHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLmdlb21ldHJ5TmFtZV8sIGdlb21ldHJ5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUgZm9yIHRoZSBmZWF0dXJlIHRvIG92ZXJyaWRlIHRoZSBsYXllciBzdHlsZS4gIFRoaXMgY2FuIGJlIGFcbiAgICAgKiBzaW5nbGUgc3R5bGUgb2JqZWN0LCBhbiBhcnJheSBvZiBzdHlsZXMsIG9yIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhXG4gICAgICogcmVzb2x1dGlvbiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBzdHlsZXMuIFRvIHVuc2V0IHRoZSBmZWF0dXJlIHN0eWxlLCBjYWxsXG4gICAgICogYHNldFN0eWxlKClgIHdpdGhvdXQgYXJndW1lbnRzIG9yIGEgZmFsc2V5IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IFtvcHRfc3R5bGVdIFN0eWxlIGZvciB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqIEBmaXJlcyBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNldmVudDpjaGFuZ2VcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChvcHRfc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZV8gPSBvcHRfc3R5bGU7XG4gICAgICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPSAhb3B0X3N0eWxlXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBjcmVhdGVTdHlsZUZ1bmN0aW9uKG9wdF9zdHlsZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmZWF0dXJlIGlkLiAgVGhlIGZlYXR1cmUgaWQgaXMgY29uc2lkZXJlZCBzdGFibGUgYW5kIG1heSBiZSB1c2VkIHdoZW5cbiAgICAgKiByZXF1ZXN0aW5nIGZlYXR1cmVzIG9yIGNvbXBhcmluZyBpZGVudGlmaWVycyByZXR1cm5lZCBmcm9tIGEgcmVtb3RlIHNvdXJjZS5cbiAgICAgKiBUaGUgZmVhdHVyZSBpZCBjYW4gYmUgdXNlZCB3aXRoIHRoZVxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZUJ5SWR9IG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBpZCBUaGUgZmVhdHVyZSBpZC5cbiAgICAgKiBAYXBpXG4gICAgICogQGZpcmVzIG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2V2ZW50OmNoYW5nZVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldElkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHRoaXMuaWRfID0gaWQ7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgd2hlbiBnZXR0aW5nIHRoZSBmZWF0dXJlJ3MgZGVmYXVsdCBnZW9tZXRyeS5cbiAgICAgKiBXaGVuIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjZ2V0R2VvbWV0cnl9LCB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHdpdGhcbiAgICAgKiB0aGlzIG5hbWUgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgZGVmYXVsdCBnZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuc2V0R2VvbWV0cnlOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLmdlb21ldHJ5TmFtZV8sIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXyk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlOYW1lXyA9IG5hbWU7XG4gICAgICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5nZW9tZXRyeU5hbWVfLCB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8pO1xuICAgICAgICB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8oKTtcbiAgICB9O1xuICAgIHJldHVybiBGZWF0dXJlO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgZmVhdHVyZSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWRcbiAqIHRocm91Z2ggdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWRcbiAqIGluIGEgbmV3IGZlYXR1cmUgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258IUFycmF5PGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD58IWltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gb2JqXG4gKiAgICAgQSBmZWF0dXJlIHN0eWxlIGZ1bmN0aW9uLCBhIHNpbmdsZSBzdHlsZSwgb3IgYW4gYXJyYXkgb2Ygc3R5bGVzLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3R5bGVGdW5jdGlvbihvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHN0eWxlc18xO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IG9iajtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9iaikuZ2V0WkluZGV4KSA9PT0gJ2Z1bmN0aW9uJywgNDEpOyAvLyBFeHBlY3RlZCBhbiBgaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZWAgb3IgYW4gYXJyYXkgb2YgYGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVgXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gKi8gKG9iaik7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IFtzdHlsZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZXNfMTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVhdHVyZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9SQnVzaFxuICovXG5pbXBvcnQgUkJ1c2hfIGZyb20gJ3JidXNoJztcbmltcG9ydCB7IGNyZWF0ZU9yVXBkYXRlLCBlcXVhbHMgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnLi4vb2JqLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW50cnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5YIE1pblguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWSBNaW5ZLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFggTWF4WC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhZIE1heFkuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3ZhbHVlXSBWYWx1ZS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBXcmFwcGVyIGFyb3VuZCB0aGUgUkJ1c2ggYnkgVmxhZGltaXIgQWdhZm9ua2luLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbnZhciBSQnVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9tYXhFbnRyaWVzXSBNYXggZW50cmllcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSQnVzaChvcHRfbWF4RW50cmllcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmJ1c2hfID0gbmV3IFJCdXNoXyhvcHRfbWF4RW50cmllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcHBpbmcgYmV0d2VlbiB0aGUgb2JqZWN0cyBhZGRlZCB0byB0aGlzIHJidXNoIHdyYXBwZXJcbiAgICAgICAgICogYW5kIHRoZSBvYmplY3RzIHRoYXQgYXJlIGFjdHVhbGx5IGFkZGVkIHRvIHRoZSBpbnRlcm5hbCByYnVzaC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEVudHJ5Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXNfID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydCBhIHZhbHVlIGludG8gdGhlIFJCdXNoLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZXh0ZW50LCB2YWx1ZSkge1xuICAgICAgICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgICAgICAgIG1pblk6IGV4dGVudFsxXSxcbiAgICAgICAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgICAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yYnVzaF8uaW5zZXJ0KGl0ZW0pO1xuICAgICAgICB0aGlzLml0ZW1zX1tnZXRVaWQodmFsdWUpXSA9IGl0ZW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdWxrLWluc2VydCB2YWx1ZXMgaW50byB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gZXh0ZW50cyBFeHRlbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8VD59IHZhbHVlcyBWYWx1ZXMuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoZXh0ZW50cywgdmFsdWVzKSB7XG4gICAgICAgIHZhciBpdGVtcyA9IG5ldyBBcnJheSh2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gZXh0ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7RW50cnl9ICovXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICBtaW5YOiBleHRlbnRbMF0sXG4gICAgICAgICAgICAgICAgbWluWTogZXh0ZW50WzFdLFxuICAgICAgICAgICAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgICAgICAgICAgICBtYXhZOiBleHRlbnRbM10sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGl0ZW1zW2ldID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJidXNoXy5sb2FkKGl0ZW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHZhbHVlIGZyb20gdGhlIFJCdXNoLlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVtb3ZlZC5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodmFsdWUpO1xuICAgICAgICAvLyBnZXQgdGhlIG9iamVjdCBpbiB3aGljaCB0aGUgdmFsdWUgd2FzIHdyYXBwZWQgd2hlbiBhZGRpbmcgdG8gdGhlXG4gICAgICAgIC8vIGludGVybmFsIHJidXNoLiB0aGVuIHVzZSB0aGF0IG9iamVjdCB0byBkbyB0aGUgcmVtb3ZhbC5cbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zX1t1aWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5pdGVtc19bdWlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmJ1c2hfLnJlbW92ZShpdGVtKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZXh0ZW50IG9mIGEgdmFsdWUgaW4gdGhlIFJCdXNoLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZXh0ZW50LCB2YWx1ZSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldO1xuICAgICAgICB2YXIgYmJveCA9IFtpdGVtLm1pblgsIGl0ZW0ubWluWSwgaXRlbS5tYXhYLCBpdGVtLm1heFldO1xuICAgICAgICBpZiAoIWVxdWFscyhiYm94LCBleHRlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmluc2VydChleHRlbnQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCB2YWx1ZXMgaW4gdGhlIFJCdXNoLlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBBbGwuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yYnVzaF8uYWxsKCk7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgdmFsdWVzIGluIHRoZSBnaXZlbiBleHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBBbGwgaW4gZXh0ZW50LlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5nZXRJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtFbnRyeX0gKi9cbiAgICAgICAgdmFyIGJib3ggPSB7XG4gICAgICAgICAgICBtaW5YOiBleHRlbnRbMF0sXG4gICAgICAgICAgICBtaW5ZOiBleHRlbnRbMV0sXG4gICAgICAgICAgICBtYXhYOiBleHRlbnRbMl0sXG4gICAgICAgICAgICBtYXhZOiBleHRlbnRbM10sXG4gICAgICAgIH07XG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMucmJ1c2hfLnNlYXJjaChiYm94KTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbHMgYSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGVhY2ggdmFsdWUgaW4gdGhlIHRyZWUuXG4gICAgICogSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUsIHRoaXMgdmFsdWUgaXMgcmV0dXJuZWQgd2l0aG91dFxuICAgICAqIGNoZWNraW5nIHRoZSByZXN0IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoXyh0aGlzLmdldEFsbCgpLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxscyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggZWFjaCB2YWx1ZSBpbiB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiAqfSBjYWxsYmFjayBDYWxsYmFjay5cbiAgICAgKiBAcmV0dXJuIHsqfSBDYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmZvckVhY2hJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hfKHRoaXMuZ2V0SW5FeHRlbnQoZXh0ZW50KSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxUPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiAqfSBjYWxsYmFjayBDYWxsYmFjay5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZm9yRWFjaF8gPSBmdW5jdGlvbiAodmFsdWVzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpc0VtcHR5KHRoaXMuaXRlbXNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgdmFsdWVzIGZyb20gdGhlIFJCdXNoLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYnVzaF8uY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pdGVtc18gPSB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5yYnVzaF8udG9KU09OKCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShkYXRhLm1pblgsIGRhdGEubWluWSwgZGF0YS5tYXhYLCBkYXRhLm1heFksIG9wdF9leHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtSQnVzaH0gcmJ1c2ggUi1UcmVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAocmJ1c2gpIHtcbiAgICAgICAgdGhpcy5yYnVzaF8ubG9hZChyYnVzaC5yYnVzaF8uYWxsKCkpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHJidXNoLml0ZW1zXykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc19baV0gPSByYnVzaC5pdGVtc19baV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSQnVzaDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSQnVzaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJCdXNoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyBhZGRlZCB0byB0aGUgc291cmNlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNhZGRmZWF0dXJlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEFEREZFQVRVUkU6ICdhZGRmZWF0dXJlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGZlYXR1cmUgaXMgdXBkYXRlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjY2hhbmdlZmVhdHVyZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDSEFOR0VGRUFUVVJFOiAnY2hhbmdlZmVhdHVyZScsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGNsZWFyIG1ldGhvZCBpcyBjYWxsZWQgb24gdGhlIHNvdXJjZS5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjY2xlYXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ0xFQVI6ICdjbGVhcicsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBmZWF0dXJlIGlzIHJlbW92ZWQgZnJvbSB0aGUgc291cmNlLlxuICAgICAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2NsZWFyIHNvdXJjZS5jbGVhcigpfSBmb3IgZXhjZXB0aW9ucy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjcmVtb3ZlZmVhdHVyZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSRU1PVkVGRUFUVVJFOiAncmVtb3ZlZmVhdHVyZScsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gZmVhdHVyZXMgc3RhcnRzIGxvYWRpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2ZlYXR1cmVzbG9hZHN0YXJ0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZFQVRVUkVTTE9BRFNUQVJUOiAnZmVhdHVyZXNsb2Fkc3RhcnQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGZlYXR1cmVzIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2ZlYXR1cmVzbG9hZGVuZFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUFUVVJFU0xPQURFTkQ6ICdmZWF0dXJlc2xvYWRlbmQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBpZiBmZWF0dXJlIGxvYWRpbmcgcmVzdWx0cyBpbiBhbiBlcnJvci5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjZmVhdHVyZXNsb2FkZXJyb3JcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRkVBVFVSRVNMT0FERVJST1I6ICdmZWF0dXJlc2xvYWRlcnJvcicsXG59O1xuLyoqXG4gKiBAdHlwZWRlZiB7J2FkZGZlYXR1cmUnfCdjaGFuZ2VmZWF0dXJlJ3wnY2xlYXInfCdyZW1vdmVmZWF0dXJlJ3wnZmVhdHVyZXNsb2Fkc3RhcnQnfCdmZWF0dXJlc2xvYWRlbmQnfCdmZWF0dXJlc2xvYWRlcnJvcid9IFZlY3RvclNvdXJjZUV2ZW50VHlwZXNcbiAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yRXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sb2FkaW5nc3RyYXRlZ3lcbiAqL1xuaW1wb3J0IHsgZnJvbVVzZXJFeHRlbnQsIGZyb21Vc2VyUmVzb2x1dGlvbiwgdG9Vc2VyRXh0ZW50IH0gZnJvbSAnLi9wcm9qLmpzJztcbi8qKlxuICogU3RyYXRlZ3kgZnVuY3Rpb24gZm9yIGxvYWRpbmcgYWxsIGZlYXR1cmVzIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwoZXh0ZW50LCByZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIFtbLUluZmluaXR5LCAtSW5maW5pdHksIEluZmluaXR5LCBJbmZpbml0eV1dO1xufVxuLyoqXG4gKiBTdHJhdGVneSBmdW5jdGlvbiBmb3IgbG9hZGluZyBmZWF0dXJlcyBiYXNlZCBvbiB0aGUgdmlldydzIGV4dGVudCBhbmRcbiAqIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmJveChleHRlbnQsIHJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gW2V4dGVudF07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzdHJhdGVneSBmdW5jdGlvbiBmb3IgbG9hZGluZyBmZWF0dXJlcyBiYXNlZCBvbiBhIHRpbGUgZ3JpZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlciwgaW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb24pOiBBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBMb2FkaW5nIHN0cmF0ZWd5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGlsZSh0aWxlR3JpZCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9ufSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gRXh0ZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciB6ID0gdGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24oZnJvbVVzZXJSZXNvbHV0aW9uKHJlc29sdXRpb24sIHByb2plY3Rpb24pKTtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCBwcm9qZWN0aW9uKSwgeik7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gKi9cbiAgICAgICAgdmFyIGV4dGVudHMgPSBbXTtcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9ICovXG4gICAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgMCwgMF07XG4gICAgICAgIGZvciAodGlsZUNvb3JkWzFdID0gdGlsZVJhbmdlLm1pblg7IHRpbGVDb29yZFsxXSA8PSB0aWxlUmFuZ2UubWF4WDsgKyt0aWxlQ29vcmRbMV0pIHtcbiAgICAgICAgICAgIGZvciAodGlsZUNvb3JkWzJdID0gdGlsZVJhbmdlLm1pblk7IHRpbGVDb29yZFsyXSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt0aWxlQ29vcmRbMl0pIHtcbiAgICAgICAgICAgICAgICBleHRlbnRzLnB1c2godG9Vc2VyRXh0ZW50KHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQpLCBwcm9qZWN0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4dGVudHM7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkaW5nc3RyYXRlZ3kuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Zvcm1hdC9Gb3JtYXRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIEFSUkFZX0JVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICBKU09OOiAnanNvbicsXG4gICAgVEVYVDogJ3RleHQnLFxuICAgIFhNTDogJ3htbCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Rm9ybWF0VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZmVhdHVyZWxvYWRlclxuICovXG5pbXBvcnQgRm9ybWF0VHlwZSBmcm9tICcuL2Zvcm1hdC9Gb3JtYXRUeXBlLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG4vKipcbiAqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciB3aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0b1xuICogbG9hZCBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIHVwIHRvIDUgYXJndW1lbnRzLiBUaGVzZSBhcmUgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSByZXByZXNlbnRpbmdcbiAqIHRoZSBhcmVhIHRvIGJlIGxvYWRlZCwgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcmVzb2x1dGlvbiAobWFwIHVuaXRzIHBlciBwaXhlbCksIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uLCBhbiBvcHRpb25hbCBzdWNjZXNzIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGdldFxuICogdGhlIGxvYWRlZCBmZWF0dXJlcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsIGZhaWx1cmUgY2FsbGJhY2sgd2l0aCBubyBhcmd1bWVudHMuIElmXG4gKiB0aGUgY2FsbGJhY2tzIGFyZSBub3QgdXNlZCwgdGhlIGNvcnJlc3BvbmRpbmcgdmVjdG9yIHNvdXJjZSB3aWxsIG5vdCBmaXJlIGAnZmVhdHVyZXNsb2FkZW5kJ2AgYW5kXG4gKiBgJ2ZlYXR1cmVzbG9hZGVycm9yJ2AgZXZlbnRzLiBgdGhpc2Agd2l0aGluIHRoZSBmdW5jdGlvbiBpcyBib3VuZCB0byB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gaXQncyBjYWxsZWQgZnJvbS5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIGxvYWRpbmcgdGhlIGZlYXR1cmVzIGFuZCBhZGRpbmcgdGhlbSB0byB0aGVcbiAqIHNvdXJjZS5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOihpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdHxpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdCksXG4gKiAgICAgICAgICAgaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LFxuICogICAgICAgICAgIG51bWJlcixcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgIGZ1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pik6IHZvaWQ9LFxuICogICAgICAgICAgIGZ1bmN0aW9uKCk6IHZvaWQ9KTogdm9pZH0gRmVhdHVyZUxvYWRlclxuICogQGFwaVxuICovXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG9cbiAqIGdldCB0aGUgdXJsIHRvIGxvYWQgZmVhdHVyZXMgZnJvbS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nIHRoZSBhcmVhXG4gKiB0byBiZSBsb2FkZWQsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpXG4gKiBhbmQgYW4ge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXNcbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSBVUkwuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiBzdHJpbmd9IEZlYXR1cmVVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfEZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIEZlYXR1cmUgVVJMIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZm9ybWF0IEZlYXR1cmUgZm9ybWF0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCk6IHZvaWR9IHN1Y2Nlc3MgU3VjY2Vzc1xuICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgbG9hZGVkIGZlYXR1cmVzIGFuZCBvcHRpb25hbGx5IHdpdGggdGhlIGRhdGEgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gZmFpbHVyZSBGYWlsdXJlXG4gKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGxvYWRpbmcgZmFpbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZlYXR1cmVzWGhyKHVybCwgZm9ybWF0LCBleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIHR5cGVvZiB1cmwgPT09ICdmdW5jdGlvbicgPyB1cmwoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSA6IHVybCwgdHJ1ZSk7XG4gICAgaWYgKGZvcm1hdC5nZXRUeXBlKCkgPT0gRm9ybWF0VHlwZS5BUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgfVxuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIHN0YXR1cyB3aWxsIGJlIDAgZm9yIGZpbGU6Ly8gdXJsc1xuICAgICAgICBpZiAoIXhoci5zdGF0dXMgfHwgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGZvcm1hdC5nZXRUeXBlKCk7XG4gICAgICAgICAgICAvKiogQHR5cGUge0RvY3VtZW50fE5vZGV8T2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9ICovXG4gICAgICAgICAgICB2YXIgc291cmNlID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5KU09OIHx8IHR5cGUgPT0gRm9ybWF0VHlwZS5URVhUKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5YTUwpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSB4aHIucmVzcG9uc2VYTUw7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4aHIucmVzcG9uc2VUZXh0LCAnYXBwbGljYXRpb24veG1sJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBGb3JtYXRUeXBlLkFSUkFZX0JVRkZFUikge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IC8qKiBAdHlwZSB7QXJyYXlCdWZmZXJ9ICovICh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovXG4gICAgICAgICAgICAgICAgKGZvcm1hdC5yZWFkRmVhdHVyZXMoc291cmNlLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICB9KSksIGZvcm1hdC5yZWFkUHJvamVjdGlvbihzb3VyY2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhaWx1cmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZhaWx1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB4aHIub25lcnJvciA9IGZhaWx1cmU7XG4gICAgeGhyLnNlbmQoKTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIFhIUiBmZWF0dXJlIGxvYWRlciBmb3IgYSBgdXJsYCBhbmQgYGZvcm1hdGAuIFRoZSBmZWF0dXJlIGxvYWRlclxuICogbG9hZHMgZmVhdHVyZXMgKHdpdGggWEhSKSwgcGFyc2VzIHRoZSBmZWF0dXJlcywgYW5kIGFkZHMgdGhlbSB0byB0aGVcbiAqIHZlY3RvciBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ3xGZWF0dXJlVXJsRnVuY3Rpb259IHVybCBGZWF0dXJlIFVSTCBzZXJ2aWNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAqIEByZXR1cm4ge0ZlYXR1cmVMb2FkZXJ9IFRoZSBmZWF0dXJlIGxvYWRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhocih1cmwsIGZvcm1hdCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD4pOiB2b2lkfSBbc3VjY2Vzc10gU3VjY2Vzc1xuICAgICAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBzdWNjZWVkZWQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbZmFpbHVyZV0gRmFpbHVyZVxuICAgICAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBmYWlsZWQuXG4gICAgICogQHRoaXMge2ltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fSAqLyAodGhpcyk7XG4gICAgICAgIGxvYWRGZWF0dXJlc1hocih1cmwsIGZvcm1hdCwgZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRhdGFQcm9qZWN0aW9uIERhdGFcbiAgICAgICAgICogcHJvamVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlcywgZGF0YVByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XG4gICAgICAgICAgICBpZiAoc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyhmZWF0dXJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFxuICAgICAgICAvKiBGSVhNRSBoYW5kbGUgZXJyb3IgKi8gZmFpbHVyZSA/IGZhaWx1cmUgOiBWT0lEKTtcbiAgICB9O1xufVxuLyoqXG4gKiBTZXR0ZXIgZm9yIHRoZSB3aXRoQ3JlZGVudGlhbHMgY29uZmlndXJhdGlvbiBmb3IgdGhlIFhIUi5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHhocldpdGhDcmVkZW50aWFscyBUaGUgdmFsdWUgb2Ygd2l0aENyZWRlbnRpYWxzIHRvIHNldC5cbiAqIENvbXBhcmUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L1xuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0V2l0aENyZWRlbnRpYWxzKHhocldpdGhDcmVkZW50aWFscykge1xuICAgIHdpdGhDcmVkZW50aWFscyA9IHhocldpdGhDcmVkZW50aWFscztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXR1cmVsb2FkZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9WZWN0b3JcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4uL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUkJ1c2ggZnJvbSAnLi4vc3RydWN0cy9SQnVzaC5qcyc7XG5pbXBvcnQgU291cmNlIGZyb20gJy4vU291cmNlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCBWZWN0b3JFdmVudFR5cGUgZnJvbSAnLi9WZWN0b3JFdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgVFJVRSwgVk9JRCB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhbGwgYXMgYWxsU3RyYXRlZ3kgfSBmcm9tICcuLi9sb2FkaW5nc3RyYXRlZ3kuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBjb250YWluc0V4dGVudCwgZXF1YWxzIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVzLCBpc0VtcHR5IH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyB4aHIgfSBmcm9tICcuLi9mZWF0dXJlbG9hZGVyLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gYW5kIGEgcmVzb2x1dGlvbiBhcyBhcmd1bWVudHMsIGFuZFxuICogcmV0dXJucyBhbiBhcnJheSBvZiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHdpdGggdGhlIGV4dGVudHMgdG8gbG9hZC4gVXN1YWxseSB0aGlzXG4gKiBpcyBvbmUgb2YgdGhlIHN0YW5kYXJkIHtAbGluayBtb2R1bGU6b2wvbG9hZGluZ3N0cmF0ZWd5fSBzdHJhdGVnaWVzLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIGltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogQXJyYXk8aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IExvYWRpbmdTdHJhdGVneVxuICogQGFwaVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeVxuICovXG52YXIgVmVjdG9yU291cmNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZlY3RvclNvdXJjZUV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBbb3B0X2ZlYXR1cmVdIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gW29wdF9mZWF0dXJlc10gRmVhdHVyZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmVjdG9yU291cmNlRXZlbnQodHlwZSwgb3B0X2ZlYXR1cmUsIG9wdF9mZWF0dXJlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFkZGVkIG9yIHJlbW92ZWQgZmVhdHVyZSBmb3IgdGhlIGBBRERGRUFUVVJFYCBhbmQgYFJFTU9WRUZFQVRVUkVgIGV2ZW50cywgYHVuZGVmaW5lZGAgb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pnx1bmRlZmluZWR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmUgPSBvcHRfZmVhdHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2FkZWQgZmVhdHVyZXMgZm9yIHRoZSBgRkVBVFVSRVNMT0FERURgIGV2ZW50LCBgdW5kZWZpbmVkYCBvdGhlcndpc2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pnx1bmRlZmluZWR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmVzID0gb3B0X2ZlYXR1cmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBWZWN0b3JTb3VyY2VFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IFZlY3RvclNvdXJjZUV2ZW50IH07XG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXMsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9WZWN0b3JFdmVudFR5cGVcIikuVmVjdG9yU291cmNlRXZlbnRUeXBlcywgVmVjdG9yU291cmNlRXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICBpbXBvcnQoXCIuL1ZlY3RvckV2ZW50VHlwZVwiKS5WZWN0b3JTb3VyY2VFdmVudFR5cGVzLCBSZXR1cm4+fSBWZWN0b3JTb3VyY2VPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD58Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBbZmVhdHVyZXNdXG4gKiBGZWF0dXJlcy4gSWYgcHJvdmlkZWQgYXMge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSwgdGhlIGZlYXR1cmVzIGluIHRoZSBzb3VyY2VcbiAqIGFuZCB0aGUgY29sbGVjdGlvbiB3aWxsIHN0YXkgaW4gc3luYy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gW2Zvcm1hdF0gVGhlIGZlYXR1cmUgZm9ybWF0IHVzZWQgYnkgdGhlIFhIUlxuICogZmVhdHVyZSBsb2FkZXIgd2hlbiBgdXJsYCBpcyBzZXQuIFJlcXVpcmVkIGlmIGB1cmxgIGlzIHNldCwgb3RoZXJ3aXNlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn0gW2xvYWRlcl1cbiAqIFRoZSBsb2FkZXIgZnVuY3Rpb24gdXNlZCB0byBsb2FkIGZlYXR1cmVzLCBmcm9tIGEgcmVtb3RlIHNvdXJjZSBmb3IgZXhhbXBsZS5cbiAqIElmIHRoaXMgaXMgbm90IHNldCBhbmQgYHVybGAgaXMgc2V0LCB0aGUgc291cmNlIHdpbGwgY3JlYXRlIGFuZCB1c2UgYW4gWEhSXG4gKiBmZWF0dXJlIGxvYWRlci4gVGhlIGAnZmVhdHVyZXNsb2FkZW5kJ2AgYW5kIGAnZmVhdHVyZXNsb2FkZXJyb3InYCBldmVudHNcbiAqIHdpbGwgb25seSBmaXJlIGlmIHRoZSBgc3VjY2Vzc2AgYW5kIGBmYWlsdXJlYCBjYWxsYmFja3MgYXJlIHVzZWQuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtWZWN0b3J9IGZyb20gJ29sL3NvdXJjZSc7XG4gKiBpbXBvcnQge0dlb0pTT059IGZyb20gJ29sL2Zvcm1hdCc7XG4gKiBpbXBvcnQge2Jib3h9IGZyb20gJ29sL2xvYWRpbmdzdHJhdGVneSc7XG4gKlxuICogdmFyIHZlY3RvclNvdXJjZSA9IG5ldyBWZWN0b3Ioe1xuICogICBmb3JtYXQ6IG5ldyBHZW9KU09OKCksXG4gKiAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gKiAgICAgIHZhciBwcm9qID0gcHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gKiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9haG9jZXZhci5jb20vZ2Vvc2VydmVyL3dmcz9zZXJ2aWNlPVdGUyYnICtcbiAqICAgICAgICAgICd2ZXJzaW9uPTEuMS4wJnJlcXVlc3Q9R2V0RmVhdHVyZSZ0eXBlbmFtZT1vc206d2F0ZXJfYXJlYXMmJyArXG4gKiAgICAgICAgICAnb3V0cHV0Rm9ybWF0PWFwcGxpY2F0aW9uL2pzb24mc3JzbmFtZT0nICsgcHJvaiArICcmJyArXG4gKiAgICAgICAgICAnYmJveD0nICsgZXh0ZW50LmpvaW4oJywnKSArICcsJyArIHByb2o7XG4gKiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAqICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gKiAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgdmVjdG9yU291cmNlLnJlbW92ZUxvYWRlZEV4dGVudChleHRlbnQpO1xuICogICAgICAgIGZhaWx1cmUoKTtcbiAqICAgICAgfVxuICogICAgICB4aHIub25lcnJvciA9IG9uRXJyb3I7XG4gKiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAqICAgICAgICAgIHZhciBmZWF0dXJlcyA9IHZlY3RvclNvdXJjZS5nZXRGb3JtYXQoKS5yZWFkRmVhdHVyZXMoeGhyLnJlc3BvbnNlVGV4dCk7XG4gKiAgICAgICAgICB2ZWN0b3JTb3VyY2UuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xuICogICAgICAgICAgc3VjY2VzcyhmZWF0dXJlcyk7XG4gKiAgICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgIG9uRXJyb3IoKTtcbiAqICAgICAgICB9XG4gKiAgICAgIH1cbiAqICAgICAgeGhyLnNlbmQoKTtcbiAqICAgIH0sXG4gKiAgICBzdHJhdGVneTogYmJveFxuICogIH0pO1xuICogYGBgXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVybGFwcz10cnVlXSBUaGlzIHNvdXJjZSBtYXkgaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICogU2V0dGluZyB0aGlzIHRvIGBmYWxzZWAgKGUuZy4gZm9yIHNvdXJjZXMgd2l0aCBwb2x5Z29ucyB0aGF0IHJlcHJlc2VudCBhZG1pbmlzdHJhdGl2ZVxuICogYm91bmRhcmllcyBvciBUb3BvSlNPTiBzb3VyY2VzKSBhbGxvd3MgdGhlIHJlbmRlcmVyIHRvIG9wdGltaXNlIGZpbGwgYW5kXG4gKiBzdHJva2Ugb3BlcmF0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7TG9hZGluZ1N0cmF0ZWd5fSBbc3RyYXRlZ3ldIFRoZSBsb2FkaW5nIHN0cmF0ZWd5IHRvIHVzZS5cbiAqIEJ5IGRlZmF1bHQgYW4ge0BsaW5rIG1vZHVsZTpvbC9sb2FkaW5nc3RyYXRlZ3kuYWxsfVxuICogc3RyYXRlZ3kgaXMgdXNlZCwgYSBvbmUtb2ZmIHN0cmF0ZWd5IHdoaWNoIGxvYWRzIGFsbCBmZWF0dXJlcyBhdCBvbmNlLlxuICogQHByb3BlcnR5IHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb259IFt1cmxdXG4gKiBTZXR0aW5nIHRoaXMgb3B0aW9uIGluc3RydWN0cyB0aGUgc291cmNlIHRvIGxvYWQgZmVhdHVyZXMgdXNpbmcgYW4gWEhSIGxvYWRlclxuICogKHNlZSB7QGxpbmsgbW9kdWxlOm9sL2ZlYXR1cmVsb2FkZXIueGhyfSkuIFVzZSBhIGBzdHJpbmdgIGFuZCBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9sb2FkaW5nc3RyYXRlZ3kuYWxsfSBmb3IgYSBvbmUtb2ZmIGRvd25sb2FkIG9mIGFsbCBmZWF0dXJlcyBmcm9tXG4gKiB0aGUgZ2l2ZW4gVVJMLiBVc2UgYSB7QGxpbmsgbW9kdWxlOm9sL2ZlYXR1cmVsb2FkZXJ+RmVhdHVyZVVybEZ1bmN0aW9ufSB0byBnZW5lcmF0ZSB0aGUgdXJsIHdpdGhcbiAqIG90aGVyIGxvYWRpbmcgc3RyYXRlZ2llcy5cbiAqIFJlcXVpcmVzIGBmb3JtYXRgIHRvIGJlIHNldCBhcyB3ZWxsLlxuICogV2hlbiBkZWZhdWx0IFhIUiBmZWF0dXJlIGxvYWRlciBpcyBwcm92aWRlZCwgdGhlIGZlYXR1cmVzIHdpbGxcbiAqIGJlIHRyYW5zZm9ybWVkIGZyb20gdGhlIGRhdGEgcHJvamVjdGlvbiB0byB0aGUgdmlldyBwcm9qZWN0aW9uXG4gKiBkdXJpbmcgcGFyc2luZy4gSWYgeW91ciByZW1vdGUgZGF0YSBzb3VyY2UgZG9lcyBub3QgYWR2ZXJ0aXNlIGl0cyBwcm9qZWN0aW9uXG4gKiBwcm9wZXJseSwgdGhpcyB0cmFuc2Zvcm1hdGlvbiB3aWxsIGJlIGluY29ycmVjdC4gRm9yIHNvbWUgZm9ybWF0cywgdGhlXG4gKiBkZWZhdWx0IHByb2plY3Rpb24gKHVzdWFsbHkgRVBTRzo0MzI2KSBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIHRoZVxuICogZGF0YVByb2plY3Rpb24gY29uc3RydWN0b3Igb3B0aW9uIG9uIHRoZSBmb3JtYXQuXG4gKiBOb3RlIHRoYXQgaWYgYSBzb3VyY2UgY29udGFpbnMgbm9uLWZlYXR1cmUgZGF0YSwgc3VjaCBhcyBhIEdlb0pTT04gZ2VvbWV0cnlcbiAqIG9yIGEgS01MIE5ldHdvcmtMaW5rLCB0aGVzZSB3aWxsIGJlIGlnbm9yZWQuIFVzZSBhIGN1c3RvbSBsb2FkZXIgdG8gbG9hZCB0aGVzZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZVNwYXRpYWxJbmRleD10cnVlXVxuICogQnkgZGVmYXVsdCwgYW4gUlRyZWUgaXMgdXNlZCBhcyBzcGF0aWFsIGluZGV4LiBXaGVuIGZlYXR1cmVzIGFyZSByZW1vdmVkIGFuZFxuICogYWRkZWQgZnJlcXVlbnRseSwgYW5kIHRoZSB0b3RhbCBudW1iZXIgb2YgZmVhdHVyZXMgaXMgbG93LCBzZXR0aW5nIHRoaXMgdG9cbiAqIGBmYWxzZWAgbWF5IGltcHJvdmUgcGVyZm9ybWFuY2UuXG4gKlxuICogTm90ZSB0aGF0XG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldEZlYXR1cmVzSW5FeHRlbnR9LFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZX0gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldEV4dGVudH0gY2Fubm90IGJlIHVzZWQgd2hlbiBgdXNlU3BhdGlhbEluZGV4YCBpc1xuICogc2V0IHRvIGBmYWxzZWAsIGFuZCB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2ZvckVhY2hGZWF0dXJlSW5FeHRlbnR9IHdpbGwgbG9vcFxuICogdGhyb3VnaCBhbGwgZmVhdHVyZXMuXG4gKlxuICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgdGhlIGZlYXR1cmVzIHdpbGwgYmUgbWFpbnRhaW5lZCBpbiBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSwgd2hpY2ggY2FuIGJlIHJldHJpZXZlZCB0aHJvdWdoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldEZlYXR1cmVzQ29sbGVjdGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXcmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuIEZvciB2ZWN0b3IgZWRpdGluZyBhY3Jvc3MgdGhlXG4gKiAtMTgwwrAgYW5kIDE4MMKwIG1lcmlkaWFucyB0byB3b3JrIHByb3Blcmx5LCB0aGlzIHNob3VsZCBiZSBzZXQgdG8gYGZhbHNlYC4gVGhlXG4gKiByZXN1bHRpbmcgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgd2lsbCB0aGVuIGV4Y2VlZCB0aGUgd29ybGQgYm91bmRzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb3ZpZGVzIGEgc291cmNlIG9mIGZlYXR1cmVzIGZvciB2ZWN0b3IgbGF5ZXJzLiBWZWN0b3IgZmVhdHVyZXMgcHJvdmlkZWRcbiAqIGJ5IHRoaXMgc291cmNlIGFyZSBzdWl0YWJsZSBmb3IgZWRpdGluZy4gU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3RvclRpbGV+VmVjdG9yVGlsZX0gZm9yXG4gKiB2ZWN0b3IgZGF0YSB0aGF0IGlzIG9wdGltaXplZCBmb3IgcmVuZGVyaW5nLlxuICpcbiAqIEBmaXJlcyBWZWN0b3JTb3VyY2VFdmVudFxuICogQGFwaVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5XG4gKi9cbnZhciBWZWN0b3JTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZlY3RvclNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gVmVjdG9yIHNvdXJjZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZlY3RvclNvdXJjZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0YXRlOiBTb3VyY2VTdGF0ZS5SRUFEWSxcbiAgICAgICAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7VmVjdG9yU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7VmVjdG9yU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWZWN0b3JTb3VyY2VPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvYWRlcl8gPSBWT0lEO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGFwc18gPSBvcHRpb25zLm92ZXJsYXBzID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5vdmVybGFwcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuICAgICAgICBpZiAob3B0aW9ucy5sb2FkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMubG9hZGVyXyA9IG9wdGlvbnMubG9hZGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLnVybF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0KF90aGlzLmZvcm1hdF8sIDcpOyAvLyBgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldFxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgWEhSIGZlYXR1cmUgbG9hZGVyIGZvciBcInVybFwiIGFuZCBcImZvcm1hdFwiXG4gICAgICAgICAgICBfdGhpcy5sb2FkZXJfID0geGhyKF90aGlzLnVybF8sIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAoX3RoaXMuZm9ybWF0XykpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TG9hZGluZ1N0cmF0ZWd5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RyYXRlZ3lfID1cbiAgICAgICAgICAgIG9wdGlvbnMuc3RyYXRlZ3kgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3RyYXRlZ3kgOiBhbGxTdHJhdGVneTtcbiAgICAgICAgdmFyIHVzZVNwYXRpYWxJbmRleCA9IG9wdGlvbnMudXNlU3BhdGlhbEluZGV4ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZVNwYXRpYWxJbmRleCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7UkJ1c2g8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlc1J0cmVlXyA9IHVzZVNwYXRpYWxJbmRleCA/IG5ldyBSQnVzaCgpIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSQnVzaDx7ZXh0ZW50OiBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfID0gbmV3IFJCdXNoKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGluZ0V4dGVudHNDb3VudF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsb29rdXAgb2YgZmVhdHVyZXMgYnkgaWQgKHRoZSByZXR1cm4gZnJvbSBmZWF0dXJlLmdldElkKCkpLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWRJbmRleF8gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbG9va3VwIG9mIGZlYXR1cmVzIGJ5IHVpZCAodXNpbmcgZ2V0VWlkKGZlYXR1cmUpKS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVpZEluZGV4XyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fID0gbnVsbDtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24sIGZlYXR1cmVzO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmZlYXR1cmVzKSkge1xuICAgICAgICAgICAgZmVhdHVyZXMgPSBvcHRpb25zLmZlYXR1cmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBvcHRpb25zLmZlYXR1cmVzO1xuICAgICAgICAgICAgZmVhdHVyZXMgPSBjb2xsZWN0aW9uLmdldEFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1c2VTcGF0aWFsSW5kZXggJiYgY29sbGVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gbmV3IENvbGxlY3Rpb24oZmVhdHVyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmZWF0dXJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGRGZWF0dXJlc0ludGVybmFsKGZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sbGVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5iaW5kRmVhdHVyZXNDb2xsZWN0aW9uXyhjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHNpbmdsZSBmZWF0dXJlIHRvIHRoZSBzb3VyY2UuICBJZiB5b3Ugd2FudCB0byBhZGQgYSBiYXRjaCBvZiBmZWF0dXJlc1xuICAgICAqIGF0IG9uY2UsIGNhbGwge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNhZGRGZWF0dXJlcyAjYWRkRmVhdHVyZXMoKX1cbiAgICAgKiBpbnN0ZWFkLiBBIGZlYXR1cmUgd2lsbCBub3QgYmUgYWRkZWQgdG8gdGhlIHNvdXJjZSBpZiBmZWF0dXJlIHdpdGhcbiAgICAgKiB0aGUgc2FtZSBpZCBpcyBhbHJlYWR5IHRoZXJlLiBUaGUgcmVhc29uIGZvciB0aGlzIGJlaGF2aW9yIGlzIHRvIGF2b2lkXG4gICAgICogZmVhdHVyZSBkdXBsaWNhdGlvbiB3aGVuIHVzaW5nIGJib3ggb3IgdGlsZSBsb2FkaW5nIHN0cmF0ZWdpZXMuXG4gICAgICogTm90ZTogdGhpcyBhbHNvIGFwcGxpZXMgaWYgYW4ge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSBpcyB1c2VkIGZvciBmZWF0dXJlcyxcbiAgICAgKiBtZWFuaW5nIHRoYXQgaWYgYSBmZWF0dXJlIHdpdGggYSBkdXBsaWNhdGUgaWQgaXMgYWRkZWQgaW4gdGhlIGNvbGxlY3Rpb24sIGl0IHdpbGxcbiAgICAgKiBiZSByZW1vdmVkIGZyb20gaXQgcmlnaHQgYXdheS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZSB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMuYWRkRmVhdHVyZUludGVybmFsKGZlYXR1cmUpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGZlYXR1cmUgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlSW50ZXJuYWwgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgaWYgKCF0aGlzLmFkZFRvSW5kZXhfKGZlYXR1cmVLZXksIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLnJlbW92ZShmZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHVwQ2hhbmdlRXZlbnRzXyhmZWF0dXJlS2V5LCBmZWF0dXJlKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5pbnNlcnQoZXh0ZW50LCBmZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5BRERGRUFUVVJFLCBmZWF0dXJlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUtleSBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIFRoZSBmZWF0dXJlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5zZXR1cENoYW5nZUV2ZW50c18gPSBmdW5jdGlvbiAoZmVhdHVyZUtleSwgZmVhdHVyZSkge1xuICAgICAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XSA9IFtcbiAgICAgICAgICAgIGxpc3RlbihmZWF0dXJlLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUZlYXR1cmVDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgICAgIGxpc3RlbihmZWF0dXJlLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMuaGFuZGxlRmVhdHVyZUNoYW5nZV8sIHRoaXMpLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmVLZXkgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBUaGUgZmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZmVhdHVyZSBpcyBcInZhbGlkXCIsIGluIHRoZSBzZW5zZSB0aGF0IGl0IGlzIGFsc28gYVxuICAgICAqICAgICBjYW5kaWRhdGUgZm9yIGluc2VydGlvbiBpbnRvIHRoZSBSdHJlZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkVG9JbmRleF8gPSBmdW5jdGlvbiAoZmVhdHVyZUtleSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIShpZC50b1N0cmluZygpIGluIHRoaXMuaWRJbmRleF8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZEluZGV4X1tpZC50b1N0cmluZygpXSA9IGZlYXR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgICAgYXNzZXJ0KCEoZmVhdHVyZUtleSBpbiB0aGlzLnVpZEluZGV4XyksIDMwKTsgLy8gVGhlIHBhc3NlZCBgZmVhdHVyZWAgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHNvdXJjZVxuICAgICAgICAgICAgdGhpcy51aWRJbmRleF9bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGJhdGNoIG9mIGZlYXR1cmVzIHRvIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gZmVhdHVyZXMgRmVhdHVyZXMgdG8gYWRkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gICAgICAgIHRoaXMuYWRkRmVhdHVyZXNJbnRlcm5hbChmZWF0dXJlcyk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGZlYXR1cmVzIHdpdGhvdXQgZmlyaW5nIGEgYGNoYW5nZWAgZXZlbnQuXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gZmVhdHVyZXMgRmVhdHVyZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZXNJbnRlcm5hbCA9IGZ1bmN0aW9uIChmZWF0dXJlcykge1xuICAgICAgICB2YXIgZXh0ZW50cyA9IFtdO1xuICAgICAgICB2YXIgbmV3RmVhdHVyZXMgPSBbXTtcbiAgICAgICAgdmFyIGdlb21ldHJ5RmVhdHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkVG9JbmRleF8oZmVhdHVyZUtleSwgZmVhdHVyZSkpIHtcbiAgICAgICAgICAgICAgICBuZXdGZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMiA9IG5ld0ZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbmd0aF8yOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlID0gbmV3RmVhdHVyZXNbaV07XG4gICAgICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBDaGFuZ2VFdmVudHNfKGZlYXR1cmVLZXksIGZlYXR1cmUpO1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIGV4dGVudHMucHVzaChleHRlbnQpO1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5RmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5sb2FkKGV4dGVudHMsIGdlb21ldHJ5RmVhdHVyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMyA9IG5ld0ZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbmd0aF8zOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsIG5ld0ZlYXR1cmVzW2ldKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59IGNvbGxlY3Rpb24gQ29sbGVjdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYmluZEZlYXR1cmVzQ29sbGVjdGlvbl8gPSBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtWZWN0b3JTb3VyY2VFdmVudDxHZW9tZXRyeT59IGV2dCBUaGUgdmVjdG9yIHNvdXJjZSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGV2dC5mZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoVmVjdG9yRXZlbnRUeXBlLlJFTU9WRUZFQVRVUkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtWZWN0b3JTb3VyY2VFdmVudDxHZW9tZXRyeT59IGV2dCBUaGUgdmVjdG9yIHNvdXJjZSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbi5yZW1vdmUoZXZ0LmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldnQgVGhlIGNvbGxlY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmICghbW9kaWZ5aW5nQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZShcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59ICovIChldnQuZWxlbWVudCkpO1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29sbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBUaGUgY29sbGVjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gKi8gKGV2dC5lbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8gPSBjb2xsZWN0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBmZWF0dXJlcyBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X2Zhc3RdIFNraXAgZGlzcGF0Y2hpbmcgb2Yge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2V2ZW50OnJlbW92ZWZlYXR1cmUgcmVtb3ZlZmVhdHVyZX0gZXZlbnRzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKG9wdF9mYXN0KSB7XG4gICAgICAgIGlmIChvcHRfZmFzdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgZmVhdHVyZUlkIGluIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlSWRdO1xuICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c18gPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmlkSW5kZXhfID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy51aWRJbmRleF8gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZUFuZElnbm9yZVJldHVybiA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmVhdHVyZUludGVybmFsKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2gocmVtb3ZlQW5kSWdub3JlUmV0dXJuKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmVJbnRlcm5hbCh0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tpZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfID0ge307XG4gICAgICAgIHZhciBjbGVhckV2ZW50ID0gbmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5DTEVBUik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGVhckV2ZW50KTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIG9uIHRoZSBzb3VyY2UsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrXG4gICAgICogd2l0aCBlYWNoIG9uZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGFueSBcInRydXRoeVwiIHZhbHVlLCBpdGVyYXRpb24gd2lsbFxuICAgICAqIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAgICAgKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIG9ubHkgaXRlcmF0ZSB0aHJvdWdoIHRoZSBmZWF0dXJlIHRoYXQgaGF2ZSBhIGRlZmluZWQgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICAgKiAgICAgb24gdGhlIHNvdXJjZS4gIFJldHVybiBhIHRydXRoeSB2YWx1ZSB0byBzdG9wIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJpZXMgY29udGFpbiB0aGUgcHJvdmlkZWRcbiAgICAgKiBjb29yZGluYXRlLCBjYWxsaW5nIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggZmVhdHVyZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zXG4gICAgICogYSBcInRydXRoeVwiIHZhbHVlLCBpdGVyYXRpb24gd2lsbCBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAgICAgKiB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAgICogICAgIHdob3NlIGdvZW1ldHJ5IGNvbnRhaW5zIHRoZSBwcm92aWRlZCBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0ID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBbY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXV07XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQoZXh0ZW50LCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmludGVyc2VjdHNDb29yZGluYXRlKGNvb3JkaW5hdGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGJvdW5kaW5nIGJveCBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZFxuICAgICAqIGV4dGVudCAobm90ZSB0aGF0IHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkgbWF5IG5vdCBpbnRlcnNlY3QgdGhlIGV4dGVudCksXG4gICAgICogY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIFwidHJ1dGh5XCJcbiAgICAgKiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFyZSBpbnRlcmVzdGVkIGluIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgYW4gZXh0ZW50LCBjYWxsXG4gICAgICogdGhlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQgI2ZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50KCl9IG1ldGhvZCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogV2hlbiBgdXNlU3BhdGlhbEluZGV4YCBpcyBzZXQgdG8gZmFsc2UsIHRoaXMgbWV0aG9kIHdpbGwgbG9vcCB0aHJvdWdoIGFsbFxuICAgICAqIGZlYXR1cmVzLCBlcXVpdmFsZW50IHRvIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmUgI2ZvckVhY2hGZWF0dXJlKCl9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgICAqICAgICB3aG9zZSBib3VuZGluZyBib3ggaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUluRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2hJbkV4dGVudChleHRlbnQsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyeSBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZCBleHRlbnQsXG4gICAgICogY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIFwidHJ1dGh5XCJcbiAgICAgKiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgeW91IG9ubHkgd2FudCB0byB0ZXN0IGZvciBib3VuZGluZyBib3ggaW50ZXJzZWN0aW9uLCBjYWxsIHRoZVxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbkV4dGVudCAjZm9yRWFjaEZlYXR1cmVJbkV4dGVudCgpfSBtZXRob2QgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICAgKiAgICAgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQoZXh0ZW50LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnRlcnNlY3RzRXh0ZW50KGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmVzIGNvbGxlY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLiBXaWxsIGJlIGBudWxsYFxuICAgICAqIHVubGVzcyB0aGUgc291cmNlIHdhcyBjb25maWd1cmVkIHdpdGggYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAsIG9yXG4gICAgICogd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259IGFzIGBmZWF0dXJlc2AuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gVGhlIGNvbGxlY3Rpb24gb2YgZmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNDb2xsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgc25hcHNob3Qgb2YgdGhlIGZlYXR1cmVzIGN1cnJlbnRseSBvbiB0aGUgc291cmNlIGluIHJhbmRvbSBvcmRlci4gVGhlIHJldHVybmVkIGFycmF5XG4gICAgICogaXMgYSBjb3B5LCB0aGUgZmVhdHVyZXMgYXJlIHJlZmVyZW5jZXMgdG8gdGhlIGZlYXR1cmVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59IEZlYXR1cmVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmVhdHVyZXM7XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmdldEFycmF5KCkuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgZmVhdHVyZXMgPSB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEFsbCgpO1xuICAgICAgICAgICAgaWYgKCFpc0VtcHR5KHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuZChmZWF0dXJlcywgZ2V0VmFsdWVzKHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59ICovIChmZWF0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gRmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZURpcmVjdChjb29yZGluYXRlLCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZmVhdHVyZXMgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC4gIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgYW4gYXJyYXkgb2ZcbiAgICAgKiBhbGwgZmVhdHVyZXMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBleHRlbnQgaW4gcmFuZG9tIG9yZGVyIChzbyBpdCBtYXkgaW5jbHVkZVxuICAgICAqIGZlYXR1cmVzIHdob3NlIGdlb21ldHJpZXMgZG8gbm90IGludGVyc2VjdCB0aGUgZXh0ZW50KS5cbiAgICAgKlxuICAgICAqIFdoZW4gYHVzZVNwYXRpYWxJbmRleGAgaXMgc2V0IHRvIGZhbHNlLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBhbGxcbiAgICAgKiBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gRmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEluRXh0ZW50KGV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmdldEFycmF5KCkuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xvc2VzdCBmZWF0dXJlIHRvIHRoZSBwcm92aWRlZCBjb29yZGluYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGF2YWlsYWJsZSB3aGVuIHRoZSBzb3VyY2UgaXMgY29uZmlndXJlZCB3aXRoXG4gICAgICogYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOmJvb2xlYW59IFtvcHRfZmlsdGVyXSBGZWF0dXJlIGZpbHRlciBmdW5jdGlvbi5cbiAgICAgKiAgICAgVGhlIGZpbHRlciBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgb25lIGFyZ3VtZW50LCB0aGUge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlIGZlYXR1cmV9XG4gICAgICogICAgIGFuZCBpdCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbiB2YWx1ZS4gQnkgZGVmYXVsdCwgbm8gZmlsdGVyaW5nIGlzIG1hZGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gQ2xvc2VzdCBmZWF0dXJlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIG9wdF9maWx0ZXIpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBmZWF0dXJlIHVzaW5nIGJyYW5jaCBhbmQgYm91bmQuICBXZSBzdGFydCBzZWFyY2hpbmcgYW5cbiAgICAgICAgLy8gaW5maW5pdGUgZXh0ZW50LCBhbmQgZmluZCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgZmlyc3QgZmVhdHVyZSBmb3VuZC4gIFRoaXNcbiAgICAgICAgLy8gYmVjb21lcyB0aGUgY2xvc2VzdCBmZWF0dXJlLiAgV2UgdGhlbiBjb21wdXRlIGEgc21hbGxlciBleHRlbnQgd2hpY2ggYW55XG4gICAgICAgIC8vIGNsb3NlciBmZWF0dXJlIG11c3QgaW50ZXJzZWN0LiAgV2UgY29udGludWUgc2VhcmNoaW5nIHdpdGggdGhpcyBzbWFsbGVyXG4gICAgICAgIC8vIGV4dGVudCwgdHJ5aW5nIHRvIGZpbmQgYSBjbG9zZXIgZmVhdHVyZS4gIEV2ZXJ5IHRpbWUgd2UgZmluZCBhIGNsb3NlclxuICAgICAgICAvLyBmZWF0dXJlLCB3ZSB1cGRhdGUgdGhlIGV4dGVudCBiZWluZyBzZWFyY2hlZCBzbyB0aGF0IGFueSBldmVuIGNsb3NlclxuICAgICAgICAvLyBmZWF0dXJlIG11c3QgaW50ZXJzZWN0IGl0LiAgV2UgY29udGludWUgdW50aWwgd2UgcnVuIG91dCBvZiBmZWF0dXJlcy5cbiAgICAgICAgdmFyIHggPSBjb29yZGluYXRlWzBdO1xuICAgICAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgICAgIHZhciBjbG9zZXN0RmVhdHVyZSA9IG51bGw7XG4gICAgICAgIHZhciBjbG9zZXN0UG9pbnQgPSBbTmFOLCBOYU5dO1xuICAgICAgICB2YXIgbWluU3F1YXJlZERpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBleHRlbnQgPSBbLUluZmluaXR5LCAtSW5maW5pdHksIEluZmluaXR5LCBJbmZpbml0eV07XG4gICAgICAgIHZhciBmaWx0ZXIgPSBvcHRfZmlsdGVyID8gb3B0X2ZpbHRlciA6IFRSVUU7XG4gICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyKGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c01pblNxdWFyZWREaXN0YW5jZSA9IG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBnZW9tZXRyeS5jbG9zZXN0UG9pbnRYWSh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IHByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3Nlc3RGZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBzbmVha3kuICBSZWR1Y2UgdGhlIGV4dGVudCB0aGF0IGl0IGlzIGN1cnJlbnRseSBiZWluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWFyY2hlZCB3aGlsZSB0aGUgUi1UcmVlIHRyYXZlcnNhbCB1c2luZyB0aGlzIHNhbWUgZXh0ZW50IG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBzdGlsbCBpbiBwcm9ncmVzcy4gIFRoaXMgaXMgc2FmZSBiZWNhdXNlIHRoZSBuZXcgZXh0ZW50IGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmljdGx5IGNvbnRhaW5lZCBieSB0aGUgb2xkIGV4dGVudC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbkRpc3RhbmNlID0gTWF0aC5zcXJ0KG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudFswXSA9IHggLSBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50WzFdID0geSAtIG1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBleHRlbnRbMl0gPSB4ICsgbWluRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudFszXSA9IHkgKyBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xvc2VzdEZlYXR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV4dGVudCBvZiB0aGUgZmVhdHVyZXMgY3VycmVudGx5IGluIHRoZSBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHdoZW4gdGhlIHNvdXJjZSBpcyBjb25maWd1cmVkIHdpdGhcbiAgICAgKiBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfZXh0ZW50XSBEZXN0aW5hdGlvbiBleHRlbnQuIElmIHByb3ZpZGVkLCBubyBuZXcgZXh0ZW50XG4gICAgICogICAgIHdpbGwgYmUgY3JlYXRlZC4gSW5zdGVhZCwgdGhhdCBleHRlbnQncyBjb29yZGluYXRlcyB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAob3B0X2V4dGVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5nZXRFeHRlbnQob3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBmZWF0dXJlIGJ5IGl0cyBpZGVudGlmaWVyICh0aGUgdmFsdWUgcmV0dXJuZWQgYnkgZmVhdHVyZS5nZXRJZCgpKS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIGluZGV4IHRyZWF0cyBzdHJpbmcgYW5kIG51bWVyaWMgaWRlbnRpZmllcnMgYXMgdGhlIHNhbWUuICBTb1xuICAgICAqIGBzb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoMilgIHdpbGwgcmV0dXJuIGEgZmVhdHVyZSB3aXRoIGlkIGAnMidgIG9yIGAyYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgRmVhdHVyZSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IFRoZSBmZWF0dXJlIChvciBgbnVsbGAgaWYgbm90IGZvdW5kKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IHRoaXMuaWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIHJldHVybiBmZWF0dXJlICE9PSB1bmRlZmluZWQgPyBmZWF0dXJlIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIGZlYXR1cmUgYnkgaXRzIGludGVybmFsIHVuaXF1ZSBpZGVudGlmaWVyICh1c2luZyBgZ2V0VWlkYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdWlkIEZlYXR1cmUgaWRlbnRpZmllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBUaGUgZmVhdHVyZSAob3IgYG51bGxgIGlmIG5vdCBmb3VuZCkuXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlQnlVaWQgPSBmdW5jdGlvbiAodWlkKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gdGhpcy51aWRJbmRleF9bdWlkXTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmUgIT09IHVuZGVmaW5lZCA/IGZlYXR1cmUgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmb3JtYXQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSBmZWF0dXJlIGZvcm1hdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc291cmNlIGNhbiBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRPdmVybGFwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxhcHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1cmwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufHVuZGVmaW5lZH0gVGhlIHVybC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaGFuZGxlRmVhdHVyZUNoYW5nZV8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59ICovIChldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgICAgICBpZiAoIShmZWF0dXJlS2V5IGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8ucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZUtleSBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmluc2VydChleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8udXBkYXRlKGV4dGVudCwgZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzaWQgPSBpZC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRJbmRleF9bc2lkXSAhPT0gZmVhdHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUlkSW5kZXhfKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaWRJbmRleF9bc2lkXSA9IGZlYXR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21JZEluZGV4XyhmZWF0dXJlKTtcbiAgICAgICAgICAgIHRoaXMudWlkSW5kZXhfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuQ0hBTkdFRkVBVFVSRSwgZmVhdHVyZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBmZWF0dXJlIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5oYXNGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkIGluIHRoaXMuaWRJbmRleF87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VWlkKGZlYXR1cmUpIGluIHRoaXMudWlkSW5kZXhfO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmlzRW1wdHkoKSAmJiBpc0VtcHR5KHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmxvYWRGZWF0dXJlcyA9IGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIGxvYWRlZEV4dGVudHNSdHJlZSA9IHRoaXMubG9hZGVkRXh0ZW50c1J0cmVlXztcbiAgICAgICAgdmFyIGV4dGVudHNUb0xvYWQgPSB0aGlzLnN0cmF0ZWd5XyhleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpLCBpaSkge1xuICAgICAgICAgICAgdmFyIGV4dGVudFRvTG9hZCA9IGV4dGVudHNUb0xvYWRbaV07XG4gICAgICAgICAgICB2YXIgYWxyZWFkeUxvYWRlZCA9IGxvYWRlZEV4dGVudHNSdHJlZS5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50VG9Mb2FkLCBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHt7ZXh0ZW50OiBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fX0gb2JqZWN0IE9iamVjdC5cbiAgICAgICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zRXh0ZW50KG9iamVjdC5leHRlbnQsIGV4dGVudFRvTG9hZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghYWxyZWFkeUxvYWRlZCkge1xuICAgICAgICAgICAgICAgICsrdGhpc18xLmxvYWRpbmdFeHRlbnRzQ291bnRfO1xuICAgICAgICAgICAgICAgIHRoaXNfMS5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuRkVBVFVSRVNMT0FEU1RBUlQpKTtcbiAgICAgICAgICAgICAgICB0aGlzXzEubG9hZGVyXy5jYWxsKHRoaXNfMSwgZXh0ZW50VG9Mb2FkLCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLS10aGlzLmxvYWRpbmdFeHRlbnRzQ291bnRfO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5GRUFUVVJFU0xPQURFTkQsIHVuZGVmaW5lZCwgZmVhdHVyZXMpKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpc18xKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRoaXMubG9hZGluZ0V4dGVudHNDb3VudF87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkZFQVRVUkVTTE9BREVSUk9SKSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXNfMSkpO1xuICAgICAgICAgICAgICAgIGxvYWRlZEV4dGVudHNSdHJlZS5pbnNlcnQoZXh0ZW50VG9Mb2FkLCB7IGV4dGVudDogZXh0ZW50VG9Mb2FkLnNsaWNlKCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHRlbnRzVG9Mb2FkLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSwgaWkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGluZyA9XG4gICAgICAgICAgICB0aGlzLmxvYWRlcl8ubGVuZ3RoIDwgNCA/IGZhbHNlIDogdGhpcy5sb2FkaW5nRXh0ZW50c0NvdW50XyA+IDA7XG4gICAgfTtcbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIodHJ1ZSk7XG4gICAgICAgIHRoaXMubG9hZGVkRXh0ZW50c1J0cmVlXy5jbGVhcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlZnJlc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBleHRlbnQgZnJvbSB0aGUgbGlzdCBvZiBsb2FkZWQgZXh0ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlTG9hZGVkRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICB2YXIgbG9hZGVkRXh0ZW50c1J0cmVlID0gdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfO1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICBsb2FkZWRFeHRlbnRzUnRyZWUuZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKGVxdWFscyhvYmplY3QuZXh0ZW50LCBleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgbG9hZGVkRXh0ZW50c1J0cmVlLnJlbW92ZShvYmopO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgZmVhdHVyZSBmcm9tIHRoZSBzb3VyY2UuICBJZiB5b3Ugd2FudCB0byByZW1vdmUgYWxsIGZlYXR1cmVzXG4gICAgICogYXQgb25jZSwgdXNlIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2NsZWFyICNjbGVhcigpfSBtZXRob2RcbiAgICAgKiBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlIHRvIHJlbW92ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKCFmZWF0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgIGlmIChmZWF0dXJlS2V5IGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8ucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnJlbW92ZUZlYXR1cmVJbnRlcm5hbChmZWF0dXJlKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBmZWF0dXJlIHdpdGhvdXQgZmlyaW5nIGEgYGNoYW5nZWAgZXZlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pnx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGZlYXR1cmVcbiAgICAgKiAgICAgKG9yIHVuZGVmaW5lZCBpZiB0aGUgZmVhdHVyZSB3YXMgbm90IGZvdW5kKS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlSW50ZXJuYWwgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgdmFyIGZlYXR1cmVDaGFuZ2VLZXlzID0gdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV07XG4gICAgICAgIGlmICghZmVhdHVyZUNoYW5nZUtleXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmZWF0dXJlQ2hhbmdlS2V5cy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV07XG4gICAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLnVpZEluZGV4X1tmZWF0dXJlS2V5XTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuUkVNT1ZFRkVBVFVSRSwgZmVhdHVyZSkpO1xuICAgICAgICByZXR1cm4gZmVhdHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGZlYXR1cmUgZnJvbSB0aGUgaWQgaW5kZXguICBDYWxsZWQgaW50ZXJuYWxseSB3aGVuIHRoZSBmZWF0dXJlIGlkXG4gICAgICogbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgVGhlIGZlYXR1cmUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVtb3ZlZCB0aGUgZmVhdHVyZSBmcm9tIHRoZSBpbmRleC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlRnJvbUlkSW5kZXhfID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5pZEluZGV4Xykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRJbmRleF9baWRdID09PSBmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaWRJbmRleF9baWRdO1xuICAgICAgICAgICAgICAgIHJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBuZXcgbG9hZGVyIG9mIHRoZSBzb3VyY2UuIFRoZSBuZXh0IHJlbmRlciBjeWNsZSB3aWxsIHVzZSB0aGVcbiAgICAgKiBuZXcgbG9hZGVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfSBsb2FkZXIgVGhlIGxvYWRlciB0byBzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuc2V0TG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlcikge1xuICAgICAgICB0aGlzLmxvYWRlcl8gPSBsb2FkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb2ludHMgdGhlIHNvdXJjZSB0byBhIG5ldyB1cmwuIFRoZSBuZXh0IHJlbmRlciBjeWNsZSB3aWxsIHVzZSB0aGUgbmV3IHVybC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIFVybC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmZvcm1hdF8sIDcpOyAvLyBgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldFxuICAgICAgICB0aGlzLnVybF8gPSB1cmw7XG4gICAgICAgIHRoaXMuc2V0TG9hZGVyKHhocih1cmwsIHRoaXMuZm9ybWF0XykpO1xuICAgIH07XG4gICAgcmV0dXJuIFZlY3RvclNvdXJjZTtcbn0oU291cmNlKSk7XG5leHBvcnQgZGVmYXVsdCBWZWN0b3JTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3IuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ltYWdlXG4gKi9cbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyB0b1NpemUgfSBmcm9tICcuLi9zaXplLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgSWYgdGhlIGltYWdlIHNob3VsZCBnZXQgcm90YXRlZCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gZGlzcGxhY2VtZW50IERpc3BsYWNlbWVudC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGJhc2UgY2xhc3MgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90IGluc3RhbnRpYXRlZCBpblxuICogYXBwcy4gQmFzZSBjbGFzcyBmb3Ige0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29ufkljb259LCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0NpcmNsZX5DaXJjbGVTdHlsZX0gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1JlZ3VsYXJTaGFwZX5SZWd1bGFyU2hhcGV9LlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBJbWFnZVN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlU3R5bGUob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3BhY2l0eV8gPSBvcHRpb25zLm9wYWNpdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gb3B0aW9ucy5yb3RhdGVXaXRoVmlldztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uXyA9IG9wdGlvbnMucm90YXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGVfID0gb3B0aW9ucy5zY2FsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKG9wdGlvbnMuc2NhbGUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpc3BsYWNlbWVudF8gPSBvcHRpb25zLmRpc3BsYWNlbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtJbWFnZVN0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlU3R5bGUoe1xuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5nZXRPcGFjaXR5KCksXG4gICAgICAgICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogdGhpcy5nZXREaXNwbGFjZW1lbnQoKS5zbGljZSgpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ltYm9saXplciBvcGFjaXR5LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gT3BhY2l0eS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BhY2l0eV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgc3ltYm9saXplciByb3RhdGVzIHdpdGggdGhlIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSb3RhdGUgd2l0aCBtYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFJvdGF0ZVdpdGhWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGVXaXRoVmlld187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bW9ibGl6ZXIgcm90YXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSb3RhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ltYm9saXplciBzY2FsZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0U2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ltYm9saXplciBzY2FsZSBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNjYWxlIGFycmF5LlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFNjYWxlQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlQXJyYXlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkaXNwbGFjZW1lbnQgb2YgdGhlIHNoYXBlXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gU2hhcGUncyBjZW50ZXIgZGlzcGxhY2VtZW50XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldERpc3BsYWNlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxhY2VtZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IGluIHBpeGVscy4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgICAqIHN5bWJvbGl6ZXIuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW5jaG9yLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEFuY2hvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIGVsZW1lbnQgZm9yIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEhpdERldGVjdGlvbkltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgc3ltYm9saXplciAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRpc3BsYWNlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGlzcGxhY2VtZW50IERpc3BsYWNlbWVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0RGlzcGxhY2VtZW50ID0gZnVuY3Rpb24gKGRpc3BsYWNlbWVudCkge1xuICAgICAgICB0aGlzLmRpc3BsYWNlbWVudF8gPSBkaXNwbGFjZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG9wYWNpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRPcGFjaXR5ID0gZnVuY3Rpb24gKG9wYWNpdHkpIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5XyA9IG9wYWNpdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0byByb3RhdGUgdGhlIHN0eWxlIHdpdGggdGhlIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0Um90YXRlV2l0aFZpZXcgPSBmdW5jdGlvbiAocm90YXRlV2l0aFZpZXcpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSByb3RhdGVXaXRoVmlldztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNjYWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0U2NhbGUgPSBmdW5jdGlvbiAoc2NhbGUpIHtcbiAgICAgICAgdGhpcy5zY2FsZV8gPSBzY2FsZTtcbiAgICAgICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShzY2FsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlU3R5bGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTdHlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb2xvcmxpa2VcbiAqL1xuaW1wb3J0IHsgdG9TdHJpbmcgfSBmcm9tICcuL2NvbG9yLmpzJztcbi8qKlxuICogQSB0eXBlIGFjY2VwdGVkIGJ5IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5maWxsU3R5bGVcbiAqIG9yIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5zdHJva2VTdHlsZS5cbiAqIFJlcHJlc2VudHMgYSBjb2xvciwgcGF0dGVybiwgb3IgZ3JhZGllbnQuIFRoZSBvcmlnaW4gZm9yIHBhdHRlcm5zIGFuZFxuICogZ3JhZGllbnRzIGFzIGZpbGwgc3R5bGUgaXMgYW4gaW5jcmVtZW50IG9mIDUxMiBjc3MgcGl4ZWxzIGZyb20gbWFwIGNvb3JkaW5hdGVcbiAqIGBbMCwgMF1gLiBGb3Igc2VhbWxlc3MgcmVwZWF0IHBhdHRlcm5zLCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBwYXR0ZXJuIGltYWdlXG4gKiBtdXN0IGJlIGEgZmFjdG9yIG9mIHR3byAoMiwgNCwgOCwgLi4uLCA1MTIpLlxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8Q2FudmFzUGF0dGVybnxDYW52YXNHcmFkaWVudH0gQ29sb3JMaWtlXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbG9yLmpzXCIpLkNvbG9yfENvbG9yTGlrZX0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvckxpa2V9IFRoZSBjb2xvciBhcyBhbiB7QGxpbmsgb2wvY29sb3JsaWtlfkNvbG9yTGlrZX0uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0NvbG9yTGlrZShjb2xvcikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9ybGlrZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvUmVndWxhclNoYXBlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7IGFzQ29sb3JMaWtlIH0gZnJvbSAnLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRMaW5lV2lkdGgsIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0U3Ryb2tlU3R5bGUsIH0gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG4vKipcbiAqIFNwZWNpZnkgcmFkaXVzIGZvciByZWd1bGFyIHBvbHlnb25zLCBvciByYWRpdXMxIGFuZCByYWRpdXMyIGZvciBzdGFycy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBvaW50cyBOdW1iZXIgb2YgcG9pbnRzIGZvciBzdGFycyBhbmQgcmVndWxhciBwb2x5Z29ucy4gSW4gY2FzZSBvZiBhIHBvbHlnb24sIHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gKiBpcyB0aGUgbnVtYmVyIG9mIHNpZGVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXNdIFJhZGl1cyBvZiBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzMV0gRmlyc3QgcmFkaXVzIG9mIGEgc3Rhci4gSWdub3JlZCBpZiByYWRpdXMgaXMgc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXMyXSBTZWNvbmQgcmFkaXVzIG9mIGEgc3Rhci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYW5nbGU9MF0gU2hhcGUncyBhbmdsZSBpbiByYWRpYW5zLiBBIHZhbHVlIG9mIDAgd2lsbCBoYXZlIG9uZSBvZiB0aGUgc2hhcGUncyBwb2ludCBmYWNpbmcgdXAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsMF1dIERpc3BsYWNlbWVudCBvZiB0aGUgc2hhcGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuIFVubGVzcyB0d28gZGltZW5zaW9uYWwgc2NhbGluZyBpcyByZXF1aXJlZCBhIGJldHRlclxuICogcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFwcHJvcHJpYXRlIHNldHRpbmdzIGZvciBgcmFkaXVzYCwgYHJhZGl1czFgIGFuZCBgcmFkaXVzMmAuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdIFN0cm9rZVN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cm9rZVdpZHRoIFN0cm9rZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemUgU2l6ZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZURhc2hPZmZzZXQgTGluZURhc2hPZmZzZXQuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBsaW5lSm9pbiBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaXRlckxpbWl0IE1pdGVyTGltaXQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHJlZ3VsYXIgc2hhcGUgc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy4gVGhlIHJlc3VsdGluZyBzaGFwZSB3aWxsIGJlXG4gKiBhIHJlZ3VsYXIgcG9seWdvbiB3aGVuIGByYWRpdXNgIGlzIHByb3ZpZGVkLCBvciBhIHN0YXIgd2hlbiBgcmFkaXVzMWAgYW5kXG4gKiBgcmFkaXVzMmAgYXJlIHByb3ZpZGVkLlxuICogQGFwaVxuICovXG52YXIgUmVndWxhclNoYXBlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZWd1bGFyU2hhcGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVndWxhclNoYXBlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHJvdGF0ZVdpdGhWaWV3ID0gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICAgICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDAsXG4gICAgICAgICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDEsXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IG9wdGlvbnMuZGlzcGxhY2VtZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpc3BsYWNlbWVudCA6IFswLCAwXSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXNfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsXyA9IG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5maWxsIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHNfID0gb3B0aW9ucy5wb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yYWRpdXNfID1cbiAgICAgICAgICAgIG9wdGlvbnMucmFkaXVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhZGl1cyA6IG9wdGlvbnMucmFkaXVzMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmFkaXVzMl8gPSBvcHRpb25zLnJhZGl1czI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5nbGVfID0gb3B0aW9ucy5hbmdsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJPcHRpb25zfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyT3B0aW9uc18gPSBudWxsO1xuICAgICAgICBfdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge1JlZ3VsYXJTaGFwZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICB2YXIgc3R5bGUgPSBuZXcgUmVndWxhclNoYXBlKHtcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvaW50czogdGhpcy5nZXRQb2ludHMoKSxcbiAgICAgICAgICAgIHJhZGl1czogdGhpcy5nZXRSYWRpdXMoKSxcbiAgICAgICAgICAgIHJhZGl1czI6IHRoaXMuZ2V0UmFkaXVzMigpLFxuICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0QW5nbGUoKSxcbiAgICAgICAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICAgIH0pO1xuICAgICAgICBzdHlsZS5zZXRPcGFjaXR5KHRoaXMuZ2V0T3BhY2l0eSgpKTtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAgICogc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0QW5jaG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZV87XG4gICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgICAgIHJldHVybiBbc2l6ZVswXSAvIDIgLSBkaXNwbGFjZW1lbnRbMF0sIHNpemVbMV0gLyAyICsgZGlzcGxhY2VtZW50WzFdXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgdXNlZCBpbiBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFNoYXBlJ3Mgcm90YXRpb24gaW4gcmFkaWFucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRBbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmaWxsIHN0eWxlIGZvciB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0RmlsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEhpdERldGVjdGlvbkltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfKHRoaXMucmVuZGVyT3B0aW9uc18pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkNhbnZhc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIGljb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyT3B0aW9ucyA9IHRoaXMucmVuZGVyT3B0aW9uc187XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChyZW5kZXJPcHRpb25zLnNpemUgKiBwaXhlbFJhdGlvLCByZW5kZXJPcHRpb25zLnNpemUgKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICBpbWFnZSA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID0gaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBwaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiBwaXhlbFJhdGlvO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgcG9pbnRzIGZvciBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgKHByaW1hcnkpIHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmFkaXVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vjb25kYXJ5IHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJhZGl1czIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UmFkaXVzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzMl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIHN5bWJvbGl6ZXIgKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0U3Ryb2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHsgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikgeyB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBhZGRpdGlvbmFsIGNhbnZhcyBzaXplIG5lZWRlZCBmb3IgdGhlIG1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lSm9pbiBMaW5lIGpvaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3Ryb2tlV2lkdGggU3Ryb2tlIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pdGVyTGltaXQgTWl0ZXIgbGltaXRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFkZGl0aW9uYWwgY2FudmFzIHNpemUgbmVlZGVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNhbGN1bGF0ZUxpbmVKb2luU2l6ZV8gPSBmdW5jdGlvbiAobGluZUpvaW4sIHN0cm9rZVdpZHRoLCBtaXRlckxpbWl0KSB7XG4gICAgICAgIGlmIChzdHJva2VXaWR0aCA9PT0gMCB8fFxuICAgICAgICAgICAgdGhpcy5wb2ludHNfID09PSBJbmZpbml0eSB8fFxuICAgICAgICAgICAgKGxpbmVKb2luICE9PSAnYmV2ZWwnICYmIGxpbmVKb2luICE9PSAnbWl0ZXInKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cm9rZVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIC8vIG0gIHwgXlxuICAgICAgICAvLyBpICB8IHxcXCAgICAgICAgICAgICAgICAgIC5cbiAgICAgICAgLy8gdCA+fCAgI1xcXG4gICAgICAgIC8vIGUgIHwgfFxcIFxcICAgICAgICAgICAgICAuXG4gICAgICAgIC8vIHIgICAgICBcXHNcXFxuICAgICAgICAvLyAgICAgIHwgIFxcdFxcICAgICAgICAgIC4gICAgICAgICAgICAgICAgIC5cbiAgICAgICAgLy8gICAgICAgICAgXFxyXFwgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAgICAgLy8gICAgICB8ICAgIFxcb1xcICAgICAgLiAgICAgICAgICAuICAuIC4gLlxuICAgICAgICAvLyAgICAgICAgICBlIFxca1xcICAgICAgICAgICAgLiAgLiAgICAuIC5cbiAgICAgICAgLy8gICAgICB8ICAgICAgXFxlXFwgIC4gICAgLiAgLiAgICAgICAuIC5cbiAgICAgICAgLy8gICAgICAgZCAgICAgIFxcIFxcICAuICAuICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgIHwgXyBfYV8gX1xcIyAgLiAgICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgIHIxICAgICAgICAgIC8gYCAgICAgICAgICAgICAuIC5cbiAgICAgICAgLy8gICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAuIC5cbiAgICAgICAgLy8gICAgICAgYiAgICAgLyAgICAgICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgIHwgICAgICAgICAgICAgICAgICAgICAuIC5cbiAgICAgICAgLy8gICAgICAgICAgIC8gcjIgICAgICAgICAgICAuIC5cbiAgICAgICAgLy8gICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAgICAgLy8gICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAgICAgLy8gICAgICB8zrEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgICAgIC8vICAgICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgICAgIC8vICAgICAgwrAgY2VudGVyXG4gICAgICAgIHZhciByMSA9IHRoaXMucmFkaXVzXztcbiAgICAgICAgdmFyIHIyID0gdGhpcy5yYWRpdXMyXyA9PT0gdW5kZWZpbmVkID8gcjEgOiB0aGlzLnJhZGl1czJfO1xuICAgICAgICBpZiAocjEgPCByMikge1xuICAgICAgICAgICAgdmFyIHRtcCA9IHIxO1xuICAgICAgICAgICAgcjEgPSByMjtcbiAgICAgICAgICAgIHIyID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgPyB0aGlzLnBvaW50c18gOiB0aGlzLnBvaW50c18gKiAyO1xuICAgICAgICB2YXIgYWxwaGEgPSAoMiAqIE1hdGguUEkpIC8gcG9pbnRzO1xuICAgICAgICB2YXIgYSA9IHIyICogTWF0aC5zaW4oYWxwaGEpO1xuICAgICAgICB2YXIgYiA9IE1hdGguc3FydChyMiAqIHIyIC0gYSAqIGEpO1xuICAgICAgICB2YXIgZCA9IHIxIC0gYjtcbiAgICAgICAgdmFyIGUgPSBNYXRoLnNxcnQoYSAqIGEgKyBkICogZCk7XG4gICAgICAgIHZhciBtaXRlclJhdGlvID0gZSAvIGE7XG4gICAgICAgIGlmIChsaW5lSm9pbiA9PT0gJ21pdGVyJyAmJiBtaXRlclJhdGlvIDw9IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBtaXRlclJhdGlvICogc3Ryb2tlV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0bmNlIGZyb20gY2VudGVyIHRvIHRoZSBzdHJva2UgY29ybmVyIHdoZXJlXG4gICAgICAgIC8vIGl0IHdhcyBjdXQgc2hvcnQgYmVjYXVzZSBvZiB0aGUgbWl0ZXIgbGltaXQuXG4gICAgICAgIC8vICAgICAgICAgICAgICBsXG4gICAgICAgIC8vICAgICAgICAtLS0tKy0tLS0gPD0gZGlzdGFuY2UgZnJvbSBjZW50ZXIgdG8gaGVyZSBpcyBtYXhyXG4gICAgICAgIC8vICAgICAgIC8jIyMjfGsgIyNcXFxuICAgICAgICAvLyAgICAgIC8jIyMjI14jIyMjI1xcXG4gICAgICAgIC8vICAgICAvIyMjIyAvK1xcIyBzICNcXFxuICAgICAgICAvLyAgICAvIyMjIGgvKysrXFwjIHQgI1xcXG4gICAgICAgIC8vICAgLyMjIyB0LysrKysrXFwjIHIgI1xcXG4gICAgICAgIC8vICAvIyMjIGEvKysrKysrK1xcIyBvICNcXFxuICAgICAgICAvLyAvIyMjIHAvKysgZmlsbCArXFwjIGsgI1xcXG4gICAgICAgIC8vLyMjIyMgLysrKysrXisrKysrXFwjIGUgI1xcXG4gICAgICAgIC8vIyMjIyMvKysrKysvK1xcKysrKytcXCMjIyMjXFxcbiAgICAgICAgdmFyIGsgPSBzdHJva2VXaWR0aCAvIDIgLyBtaXRlclJhdGlvO1xuICAgICAgICB2YXIgbCA9IChzdHJva2VXaWR0aCAvIDIpICogKGQgLyBlKTtcbiAgICAgICAgdmFyIG1heHIgPSBNYXRoLnNxcnQoKHIxICsgaykgKiAocjEgKyBrKSArIGwgKiBsKTtcbiAgICAgICAgdmFyIGJldmVsQWRkID0gbWF4ciAtIHIxO1xuICAgICAgICBpZiAodGhpcy5yYWRpdXMyXyA9PT0gdW5kZWZpbmVkIHx8IGxpbmVKb2luID09PSAnYmV2ZWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gYmV2ZWxBZGQgKiAyO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG91dGVyIG1pdGVyIGlzIG92ZXIgdGhlIG1pdGVyIGxpbWl0IHRoZSBpbm5lciBtaXRlciBtYXkgcmVhY2ggdGhyb3VnaCB0aGVcbiAgICAgICAgLy8gY2VudGVyIGFuZCBiZSBsb25nZXIgdGhhbiB0aGUgYmV2ZWwsIHNhbWUgY2FsY3VsYXRpb24gYXMgYWJvdmUgYnV0IHN3YXAgcjEgLyByMi5cbiAgICAgICAgdmFyIGFhID0gcjEgKiBNYXRoLnNpbihhbHBoYSk7XG4gICAgICAgIHZhciBiYiA9IE1hdGguc3FydChyMSAqIHIxIC0gYWEgKiBhYSk7XG4gICAgICAgIHZhciBkZCA9IHIyIC0gYmI7XG4gICAgICAgIHZhciBlZSA9IE1hdGguc3FydChhYSAqIGFhICsgZGQgKiBkZCk7XG4gICAgICAgIHZhciBpbm5lck1pdGVyUmF0aW8gPSBlZSAvIGFhO1xuICAgICAgICBpZiAoaW5uZXJNaXRlclJhdGlvIDw9IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIHZhciBpbm5lckxlbmd0aCA9IChpbm5lck1pdGVyUmF0aW8gKiBzdHJva2VXaWR0aCkgLyAyIC0gcjIgLSByMTtcbiAgICAgICAgICAgIHJldHVybiAyICogTWF0aC5tYXgoYmV2ZWxBZGQsIGlubmVyTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmV2ZWxBZGQgKiAyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7UmVuZGVyT3B0aW9uc30gIFRoZSByZW5kZXIgb3B0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsaW5lSm9pbiA9IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgICAgdmFyIG1pdGVyTGltaXQgPSAwO1xuICAgICAgICB2YXIgbGluZURhc2ggPSBudWxsO1xuICAgICAgICB2YXIgbGluZURhc2hPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IDA7XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VfLmdldENvbG9yKCk7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IGRlZmF1bHRTdHJva2VTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2Uoc3Ryb2tlU3R5bGUpO1xuICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSB0aGlzLnN0cm9rZV8uZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBkZWZhdWx0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZURhc2ggPSB0aGlzLnN0cm9rZV8uZ2V0TGluZURhc2goKTtcbiAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5zdHJva2VfLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICBsaW5lSm9pbiA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lSm9pbigpO1xuICAgICAgICAgICAgaWYgKGxpbmVKb2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsaW5lSm9pbiA9IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1pdGVyTGltaXQgPSB0aGlzLnN0cm9rZV8uZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICAgICAgaWYgKG1pdGVyTGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1pdGVyTGltaXQgPSBkZWZhdWx0TWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRkID0gdGhpcy5jYWxjdWxhdGVMaW5lSm9pblNpemVfKGxpbmVKb2luLCBzdHJva2VXaWR0aCwgbWl0ZXJMaW1pdCk7XG4gICAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1heCh0aGlzLnJhZGl1c18sIHRoaXMucmFkaXVzMl8gfHwgMCk7XG4gICAgICAgIHZhciBzaXplID0gTWF0aC5jZWlsKDIgKiBtYXhSYWRpdXMgKyBhZGQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIGxpbmVEYXNoOiBsaW5lRGFzaCxcbiAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBsaW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgIGxpbmVKb2luOiBsaW5lSm9pbixcbiAgICAgICAgICAgIG1pdGVyTGltaXQ6IG1pdGVyTGltaXQsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9uc18gPSB0aGlzLmNyZWF0ZVJlbmRlck9wdGlvbnMoKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlbmRlck9wdGlvbnNfLnNpemU7XG4gICAgICAgIHRoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICB0aGlzLnNpemVfID0gW3NpemUsIHNpemVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlbmRlck9wdGlvbnN9IHJlbmRlck9wdGlvbnMgUmVuZGVyIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFRoZSBwaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmRyYXdfID0gZnVuY3Rpb24gKHJlbmRlck9wdGlvbnMsIGNvbnRleHQsIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgY29udGV4dC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgLy8gc2V0IG9yaWdpbiB0byBjYW52YXMgY2VudGVyXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICB0aGlzLmNyZWF0ZVBhdGhfKGNvbnRleHQpO1xuICAgICAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgICAgICAgaWYgKGNvbG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0RmlsbFN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShjb2xvcik7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoICYmIHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHJlbmRlck9wdGlvbnMubGluZURhc2gpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSByZW5kZXJPcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHJlbmRlck9wdGlvbnMubGluZUpvaW47XG4gICAgICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSByZW5kZXJPcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGZpbGwgaXMgdHJhbnNwYXJlbnQgKG9yIHBhdHRlcm4gb3IgZ3JhZGllbnQpXG4gICAgICAgICAgICB2YXIgb3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gYXNBcnJheShjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSA9IGNvbG9yLmxlbmd0aCA9PT0gNCA/IGNvbG9yWzNdIDogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYSB0cmFuc3BhcmVudCBmaWxsIHN0eWxlIGlzIHNldCwgY3JlYXRlIGFuIGV4dHJhIGhpdC1kZXRlY3Rpb24gaW1hZ2VcbiAgICAgICAgICAgICAgICAvLyB3aXRoIGEgZGVmYXVsdCBmaWxsIHN0eWxlXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQocmVuZGVyT3B0aW9ucy5zaXplLCByZW5kZXJPcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0hpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkNhbnZhc18pIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IHRoaXMuZ2V0SW1hZ2UoMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gZHJhdyBpbi5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNyZWF0ZVBhdGhfID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzXztcbiAgICAgICAgdmFyIHJhZGl1cyA9IHRoaXMucmFkaXVzXztcbiAgICAgICAgaWYgKHBvaW50cyA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgPyByYWRpdXMgOiB0aGlzLnJhZGl1czJfO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFkaXVzMl8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBvaW50cyAqPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSB0aGlzLmFuZ2xlXyAtIE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSAoMiAqIE1hdGguUEkpIC8gcG9pbnRzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHM7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhbmdsZTAgPSBzdGFydEFuZ2xlICsgaSAqIHN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1c0MgPSBpICUgMiA9PT0gMCA/IHJhZGl1cyA6IHJhZGl1czI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocmFkaXVzQyAqIE1hdGguY29zKGFuZ2xlMCksIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0LlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd0hpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucywgY29udGV4dCkge1xuICAgICAgICAvLyBzZXQgb3JpZ2luIHRvIGNhbnZhcyBjZW50ZXJcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUocmVuZGVyT3B0aW9ucy5zaXplIC8gMiwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgIHRoaXMuY3JlYXRlUGF0aF8oY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZGVmYXVsdEZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSByZW5kZXJPcHRpb25zLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSByZW5kZXJPcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgICAgICAgaWYgKHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHJlbmRlck9wdGlvbnMubGluZURhc2gpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSByZW5kZXJPcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHJlbmRlck9wdGlvbnMubGluZUpvaW47XG4gICAgICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSByZW5kZXJPcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVndWxhclNoYXBlO1xufShJbWFnZVN0eWxlKSk7XG5leHBvcnQgZGVmYXVsdCBSZWd1bGFyU2hhcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWd1bGFyU2hhcGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0NpcmNsZVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFJlZ3VsYXJTaGFwZSBmcm9tICcuL1JlZ3VsYXJTaGFwZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1cyBDaXJjbGUgcmFkaXVzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsMF1dIGRpc3BsYWNlbWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuIEEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlIHdpbGwgcHJvZHVjZSBhbiBlbGxpcHNlLlxuICogVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyIHJlc3VsdCBtYXkgYmUgb2J0YWluZWQgd2l0aCBhbiBhcHByb3ByaWF0ZSBzZXR0aW5nIGZvciBgcmFkaXVzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFuc1xuICogKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSwgbWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgc2hhcGUgd2l0aCB0aGUgdmlld1xuICogKG1lYW5pbmdmdWwgb25seSB3aGVuIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIHR3byBkaW1lbnNpb25hbCBzY2FsZSkuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGNpcmNsZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgQ2lyY2xlU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENpcmNsZVN0eWxlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENpcmNsZVN0eWxlKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIHBvaW50czogSW5maW5pdHksXG4gICAgICAgICAgICBmaWxsOiBvcHRpb25zLmZpbGwsXG4gICAgICAgICAgICByYWRpdXM6IG9wdGlvbnMucmFkaXVzLFxuICAgICAgICAgICAgc3Ryb2tlOiBvcHRpb25zLnN0cm9rZSxcbiAgICAgICAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMCxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2UsXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IG9wdGlvbnMuZGlzcGxhY2VtZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpc3BsYWNlbWVudCA6IFswLCAwXSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge0NpcmNsZVN0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDaXJjbGVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICAgICAgdmFyIHN0eWxlID0gbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJhZGl1czogdGhpcy5nZXRSYWRpdXMoKSxcbiAgICAgICAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICAgIH0pO1xuICAgICAgICBzdHlsZS5zZXRPcGFjaXR5KHRoaXMuZ2V0T3BhY2l0eSgpKTtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjaXJjbGUgcmFkaXVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBDaXJjbGUgcmFkaXVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDaXJjbGVTdHlsZS5wcm90b3R5cGUuc2V0UmFkaXVzID0gZnVuY3Rpb24gKHJhZGl1cykge1xuICAgICAgICB0aGlzLnJhZGl1c18gPSByYWRpdXM7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2lyY2xlU3R5bGU7XG59KFJlZ3VsYXJTaGFwZSkpO1xuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlU3R5bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ZpbGxcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjb2xvcj1udWxsXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBmaWxsIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBGaWxsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbGwob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS4gVGhlIGNvbG9yIGlzIG5vdCBjbG9uZWQgaWYgaXQgaXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfS5cbiAgICAgKiBAcmV0dXJuIHtGaWxsfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGaWxsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICAgICAgICByZXR1cm4gbmV3IEZpbGwoe1xuICAgICAgICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZpbGwgY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZpbGwucHJvdG90eXBlLmdldENvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmlsbC5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgICB9O1xuICAgIHJldHVybiBGaWxsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZpbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxsLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9TdHJva2VcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjb2xvcl0gQSBjb2xvciwgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2NvbG9yfkNvbG9yfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfSBmb3IgcG9zc2libGUgZm9ybWF0cy5cbiAqIERlZmF1bHQgbnVsbDsgaWYgbnVsbCwgdGhlIENhbnZhcy9yZW5kZXJlciBkZWZhdWx0IGJsYWNrIHdpbGwgYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW2xpbmVDYXA9J3JvdW5kJ10gTGluZSBjYXAgc3R5bGU6IGBidXR0YCwgYHJvdW5kYCwgb3IgYHNxdWFyZWAuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBbbGluZUpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbbGluZURhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLiBEZWZhdWx0IGlzIGBudWxsYCAobm8gZGFzaCkuXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IEludGVybmV0IEV4cGxvcmVyIDEwIGFuZCBsb3dlciBkbyBub3Qgc3VwcG9ydCB0aGUgYHNldExpbmVEYXNoYCBtZXRob2Qgb25cbiAqIHRoZSBgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEYCBhbmQgdGhlcmVmb3JlIHRoaXMgb3B0aW9uIHdpbGwgaGF2ZSBubyB2aXN1YWwgZWZmZWN0IGluIHRoZXNlIGJyb3dzZXJzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lRGFzaE9mZnNldD0wXSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0PTEwXSBNaXRlciBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd2lkdGhdIFdpZHRoLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBzdHJva2Ugc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIE5vdGUgdGhhdCB0aGUgZGVmYXVsdHMgZ2l2ZW4gYXJlIHRoZSBDYW52YXMgZGVmYXVsdHMsIHdoaWNoIHdpbGwgYmUgdXNlZCBpZlxuICogb3B0aW9uIGlzIG5vdCBkZWZpbmVkLiBUaGUgYGdldGAgZnVuY3Rpb25zIHJldHVybiB3aGF0ZXZlciB3YXMgZW50ZXJlZCBpblxuICogdGhlIG9wdGlvbnM7IHRoZXkgd2lsbCBub3QgcmV0dXJuIHRoZSBkZWZhdWx0LlxuICogQGFwaVxuICovXG52YXIgU3Ryb2tlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0cm9rZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9yXyA9IG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sb3IgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NhbnZhc0xpbmVDYXB8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lQ2FwXyA9IG9wdGlvbnMubGluZUNhcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lRGFzaF8gPSBvcHRpb25zLmxpbmVEYXNoICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxpbmVEYXNoIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lRGFzaE9mZnNldF8gPSBvcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUpvaW5fID0gb3B0aW9ucy5saW5lSm9pbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXRlckxpbWl0XyA9IG9wdGlvbnMubWl0ZXJMaW1pdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aF8gPSBvcHRpb25zLndpZHRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge1N0cm9rZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICAgICAgICByZXR1cm4gbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICBjb2xvcjogQXJyYXkuaXNBcnJheShjb2xvcikgPyBjb2xvci5zbGljZSgpIDogY29sb3IgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGluZUNhcDogdGhpcy5nZXRMaW5lQ2FwKCksXG4gICAgICAgICAgICBsaW5lRGFzaDogdGhpcy5nZXRMaW5lRGFzaCgpID8gdGhpcy5nZXRMaW5lRGFzaCgpLnNsaWNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogdGhpcy5nZXRMaW5lRGFzaE9mZnNldCgpLFxuICAgICAgICAgICAgbGluZUpvaW46IHRoaXMuZ2V0TGluZUpvaW4oKSxcbiAgICAgICAgICAgIG1pdGVyTGltaXQ6IHRoaXMuZ2V0TWl0ZXJMaW1pdCgpLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0cm9rZSBjb2xvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaW5lIGNhcCB0eXBlIGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge0NhbnZhc0xpbmVDYXB8dW5kZWZpbmVkfSBMaW5lIGNhcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRMaW5lQ2FwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lQ2FwXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZSBkYXNoIHN0eWxlIGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IExpbmUgZGFzaC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRMaW5lRGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZURhc2hfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaW5lIGRhc2ggb2Zmc2V0IGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IExpbmUgZGFzaCBvZmZzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZURhc2hPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVEYXNoT2Zmc2V0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZSBqb2luIHR5cGUgZm9yIHRoZSBzdHJva2UuXG4gICAgICogQHJldHVybiB7Q2FudmFzTGluZUpvaW58dW5kZWZpbmVkfSBMaW5lIGpvaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZUpvaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVKb2luXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWl0ZXIgbGltaXQgZm9yIHRoZSBzdHJva2UuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gTWl0ZXIgbGltaXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TWl0ZXJMaW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWl0ZXJMaW1pdF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0cm9rZSB3aWR0aC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBXaWR0aC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGhfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gY29sb3IgQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBjYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NhbnZhc0xpbmVDYXB8dW5kZWZpbmVkfSBsaW5lQ2FwIExpbmUgY2FwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldExpbmVDYXAgPSBmdW5jdGlvbiAobGluZUNhcCkge1xuICAgICAgICB0aGlzLmxpbmVDYXBfID0gbGluZUNhcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBkYXNoLlxuICAgICAqXG4gICAgICogUGxlYXNlIG5vdGUgdGhhdCBJbnRlcm5ldCBFeHBsb3JlciAxMCBhbmQgbG93ZXIgW2RvIG5vdCBzdXBwb3J0XVttZG5dIHRoZVxuICAgICAqIGBzZXRMaW5lRGFzaGAgbWV0aG9kIG9uIHRoZSBgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEYCBhbmQgdGhlcmVmb3JlIHRoaXNcbiAgICAgKiBwcm9wZXJ0eSB3aWxsIGhhdmUgbm8gdmlzdWFsIGVmZmVjdCBpbiB0aGVzZSBicm93c2Vycy5cbiAgICAgKlxuICAgICAqIFttZG5dOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldExpbmVEYXNoI0Jyb3dzZXJfY29tcGF0aWJpbGl0eVxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lIGRhc2guXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0TGluZURhc2ggPSBmdW5jdGlvbiAobGluZURhc2gpIHtcbiAgICAgICAgdGhpcy5saW5lRGFzaF8gPSBsaW5lRGFzaDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBkYXNoIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gbGluZURhc2hPZmZzZXQgTGluZSBkYXNoIG9mZnNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lRGFzaE9mZnNldCA9IGZ1bmN0aW9uIChsaW5lRGFzaE9mZnNldCkge1xuICAgICAgICB0aGlzLmxpbmVEYXNoT2Zmc2V0XyA9IGxpbmVEYXNoT2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaW5lIGpvaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH0gbGluZUpvaW4gTGluZSBqb2luLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldExpbmVKb2luID0gZnVuY3Rpb24gKGxpbmVKb2luKSB7XG4gICAgICAgIHRoaXMubGluZUpvaW5fID0gbGluZUpvaW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1pdGVyIGxpbWl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBtaXRlckxpbWl0IE1pdGVyIGxpbWl0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldE1pdGVyTGltaXQgPSBmdW5jdGlvbiAobWl0ZXJMaW1pdCkge1xuICAgICAgICB0aGlzLm1pdGVyTGltaXRfID0gbWl0ZXJMaW1pdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd2lkdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHdpZHRoIFdpZHRoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldFdpZHRoID0gZnVuY3Rpb24gKHdpZHRoKSB7XG4gICAgICAgIHRoaXMud2lkdGhfID0gd2lkdGg7XG4gICAgfTtcbiAgICByZXR1cm4gU3Ryb2tlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0cm9rZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0cm9rZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvU3R5bGVcbiAqL1xuaW1wb3J0IENpcmNsZVN0eWxlIGZyb20gJy4vQ2lyY2xlLmpzJztcbmltcG9ydCBGaWxsIGZyb20gJy4vRmlsbC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTdHJva2UgZnJvbSAnLi9TdHJva2UuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV9IGFuZCBhIGB7bnVtYmVyfWBcbiAqIHJlcHJlc2VudGluZyB0aGUgdmlldydzIHJlc29sdXRpb24uIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGFcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IG9yIGFuIGFycmF5IG9mIHRoZW0uIFRoaXMgd2F5IGUuZy4gYVxuICogdmVjdG9yIGxheWVyIGNhbiBiZSBzdHlsZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB1bmRlZmluZWRgLCB0aGVcbiAqIGZlYXR1cmUgd2lsbCBub3QgYmUgcmVuZGVyZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIG51bWJlcik6KFN0eWxlfEFycmF5PFN0eWxlPnx2b2lkKX0gU3R5bGVGdW5jdGlvblxuICovXG4vKipcbiAqIEEge0BsaW5rIFN0eWxlfSwgYW4gYXJyYXkgb2Yge0BsaW5rIFN0eWxlfSwgb3IgYSB7QGxpbmsgU3R5bGVGdW5jdGlvbn0uXG4gKiBAdHlwZWRlZiB7U3R5bGV8QXJyYXk8U3R5bGU+fFN0eWxlRnVuY3Rpb259IFN0eWxlTGlrZVxuICovXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV9IGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vR2VvbWV0cnl9IHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhbmQgc3R5bGVkIGZvciB0aGUgZmVhdHVyZS5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSk6XG4gKiAgICAgKGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZCl9IEdlb21ldHJ5RnVuY3Rpb25cbiAqL1xuLyoqXG4gKiBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uIFRha2VzIHR3byBhcmd1bWVudHM6XG4gKlxuICogMS4gVGhlIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeSBpbiBHZW9KU09OIG5vdGF0aW9uLlxuICogMi4gVGhlIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyflN0YXRlfSBvZiB0aGUgbGF5ZXIgcmVuZGVyZXIuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PiksaW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLlN0YXRlKTogdm9pZH1cbiAqIFJlbmRlckZ1bmN0aW9uXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259IFtnZW9tZXRyeV0gRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeVxuICogb3IgZnVuY3Rpb24gcmV0dXJuaW5nIGEgZ2VvbWV0cnkgdG8gcmVuZGVyIGZvciB0aGlzIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gW2ltYWdlXSBJbWFnZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyRnVuY3Rpb259IFtyZW5kZXJlcl0gQ3VzdG9tIHJlbmRlcmVyLiBXaGVuIGNvbmZpZ3VyZWQsIGBmaWxsYCwgYHN0cm9rZWAgYW5kIGBpbWFnZWAgd2lsbCBiZVxuICogaWdub3JlZCwgYW5kIHRoZSBwcm92aWRlZCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2ggcmVuZGVyIGZyYW1lIGZvciBlYWNoIGdlb21ldHJ5LlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW2hpdERldGVjdGlvblJlbmRlcmVyXSBDdXN0b20gcmVuZGVyZXIgZm9yIGhpdCBkZXRlY3Rpb24uIElmIHByb3ZpZGVkIHdpbGwgYmUgdXNlZFxuICogaW4gaGl0IGRldGVjdGlvbiByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IFt0ZXh0XSBUZXh0IHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFogaW5kZXguXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udGFpbmVyIGZvciB2ZWN0b3IgZmVhdHVyZSByZW5kZXJpbmcgc3R5bGVzLiBBbnkgY2hhbmdlcyBtYWRlIHRvIHRoZSBzdHlsZVxuICogb3IgaXRzIGNoaWxkcmVuIHRocm91Z2ggYHNldCooKWAgbWV0aG9kcyB3aWxsIG5vdCB0YWtlIGVmZmVjdCB1bnRpbCB0aGVcbiAqIGZlYXR1cmUgb3IgbGF5ZXIgdGhhdCB1c2VzIHRoZSBzdHlsZSBpcyByZS1yZW5kZXJlZC5cbiAqXG4gKiAjIyBGZWF0dXJlIHN0eWxlc1xuICpcbiAqIElmIG5vIHN0eWxlIGlzIGRlZmluZWQsIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBzdHlsZSBpcyB1c2VkOlxuICogYGBganNcbiAqICBpbXBvcnQge0NpcmNsZSwgRmlsbCwgU3Ryb2tlLCBTdHlsZX0gZnJvbSAnb2wvc3R5bGUnO1xuICpcbiAqICBjb25zdCBmaWxsID0gbmV3IEZpbGwoe1xuICogICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknLFxuICogIH0pO1xuICogIGNvbnN0IHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICogICAgY29sb3I6ICcjMzM5OUNDJyxcbiAqICAgIHdpZHRoOiAxLjI1LFxuICogIH0pO1xuICogIGNvbnN0IHN0eWxlcyA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICBmaWxsOiBmaWxsLFxuICogICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgICAgIHJhZGl1czogNSxcbiAqICAgICAgfSksXG4gKiAgICAgIGZpbGw6IGZpbGwsXG4gKiAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgfSksXG4gKiAgXTtcbiAqIGBgYFxuICpcbiAqIEEgc2VwYXJhdGUgZWRpdGluZyBzdHlsZSBoYXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0czpcbiAqIGBgYGpzXG4gKiAgaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICdvbC9nZW9tL0dlb21ldHJ5VHlwZSc7XG4gKiAgaW1wb3J0IHtDaXJjbGUsIEZpbGwsIFN0cm9rZSwgU3R5bGV9IGZyb20gJ29sL3N0eWxlJztcbiAqXG4gKiAgY29uc3Qgc3R5bGVzID0ge307XG4gKiAgY29uc3Qgd2hpdGUgPSBbMjU1LCAyNTUsIDI1NSwgMV07XG4gKiAgY29uc3QgYmx1ZSA9IFswLCAxNTMsIDI1NSwgMV07XG4gKiAgY29uc3Qgd2lkdGggPSAzO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdLFxuICogICAgICB9KSxcbiAqICAgIH0pLFxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl07XG4gKlxuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAqICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoICsgMixcbiAqICAgICAgfSksXG4gKiAgICB9KSxcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICogICAgICB9KSxcbiAqICAgIH0pLFxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklOR10gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXTtcbiAqXG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5DSVJDTEVdID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXS5jb25jYXQoXG4gKiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXVxuICogICk7XG4gKlxuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgaW1hZ2U6IG5ldyBDaXJjbGUoe1xuICogICAgICAgIHJhZGl1czogd2lkdGggKiAyLFxuICogICAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAqICAgICAgICAgIGNvbG9yOiBibHVlLFxuICogICAgICAgIH0pLFxuICogICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyLFxuICogICAgICAgIH0pLFxuICogICAgICB9KSxcbiAqICAgICAgekluZGV4OiBJbmZpbml0eSxcbiAqICAgIH0pLFxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVF0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXTtcbiAqXG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OXSA9IHN0eWxlc1tcbiAqICAgIEdlb21ldHJ5VHlwZS5QT0xZR09OXG4gKiAgXS5jb25jYXQoc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10sIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBTdHlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0eWxlKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFHZW9tZXRyeUZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uO1xuICAgICAgICBpZiAob3B0aW9ucy5nZW9tZXRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEdlb21ldHJ5KG9wdGlvbnMuZ2VvbWV0cnkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxfID0gb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZpbGwgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW1hZ2VfID0gb3B0aW9ucy5pbWFnZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWFnZSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7UmVuZGVyRnVuY3Rpb258bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXJfID0gb3B0aW9ucy5yZW5kZXJlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yZW5kZXJlciA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7UmVuZGVyRnVuY3Rpb258bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uUmVuZGVyZXJfID1cbiAgICAgICAgICAgIG9wdGlvbnMuaGl0RGV0ZWN0aW9uUmVuZGVyZXIgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5oaXREZXRlY3Rpb25SZW5kZXJlclxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHJva2VfID0gb3B0aW9ucy5zdHJva2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3Ryb2tlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGV4dCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuekluZGV4XyA9IG9wdGlvbnMuekluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge1N0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5ICYmIHR5cGVvZiBnZW9tZXRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuY2xvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLmdldEltYWdlKCkgPyB0aGlzLmdldEltYWdlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlbmRlcmVyOiB0aGlzLmdldFJlbmRlcmVyKCksXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0ZXh0OiB0aGlzLmdldFRleHQoKSA/IHRoaXMuZ2V0VGV4dCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB6SW5kZXg6IHRoaXMuZ2V0WkluZGV4KCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gdGhhdCB3YXMgY29uZmlndXJlZCB3aXRoXG4gICAgICoge0BsaW5rICNzZXRSZW5kZXJlcn0gb3IgdGhlIGByZW5kZXJlcmAgY29uc3RydWN0b3Igb3B0aW9uLlxuICAgICAqIEByZXR1cm4ge1JlbmRlckZ1bmN0aW9ufG51bGx9IEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldFJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIGZvciB0aGlzIHN0eWxlLiBXaGVuIHNldCwgYGZpbGxgLCBgc3Ryb2tlYFxuICAgICAqIGFuZCBgaW1hZ2VgIG9wdGlvbnMgb2YgdGhlIHN0eWxlIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge1JlbmRlckZ1bmN0aW9ufG51bGx9IHJlbmRlcmVyIEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldFJlbmRlcmVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXJfID0gcmVuZGVyZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIGZvciB0aGlzIHN0eWxlIHVzZWRcbiAgICAgKiBpbiBoaXQgZGV0ZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25SZW5kZXJlcl8gPSByZW5kZXJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIHRoYXQgd2FzIGNvbmZpZ3VyZWQgd2l0aFxuICAgICAqIHtAbGluayAjc2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXJ9IG9yIHRoZSBgaGl0RGV0ZWN0aW9uUmVuZGVyZXJgIGNvbnN0cnVjdG9yIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtSZW5kZXJGdW5jdGlvbnxudWxsfSBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25SZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uUmVuZGVyZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBnZW9tZXRyeSB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAgICogRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeSBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGdlb21ldHJ5IHRoYXQgd2lsbFxuICAgICAqIGJlIHJlbmRlcmVkIHdpdGggdGhpcyBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgYSBnZW9tZXRyeSBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEByZXR1cm4geyFHZW9tZXRyeUZ1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGEgZmVhdHVyZVxuICAgICAqIGFuZCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0byByZW5kZXIgaW5zdGVhZCBvZiB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZpbGwgc3R5bGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRGaWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxsXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmlsbCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRGaWxsID0gZnVuY3Rpb24gKGZpbGwpIHtcbiAgICAgICAgdGhpcy5maWxsXyA9IGZpbGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBpbWFnZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2UgSW1hZ2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gU3Ryb2tlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0U3Ryb2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHJva2Ugc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2UgU3Ryb2tlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0U3Ryb2tlID0gZnVuY3Rpb24gKHN0cm9rZSkge1xuICAgICAgICB0aGlzLnN0cm9rZV8gPSBzdHJva2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRleHQgc3R5bGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IFRleHQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0IFRleHQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0XyA9IHRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHotaW5kZXggZm9yIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBaSW5kZXguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnpJbmRleF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgYSBnZW9tZXRyeSB0aGF0IGlzIHJlbmRlcmVkIGluc3RlYWQgb2YgdGhlIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufSBnZW9tZXRyeVxuICAgICAqICAgICBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5IG9yIGZ1bmN0aW9uIHJldHVybmluZyBhIGdlb21ldHJ5IHRvIHJlbmRlclxuICAgICAqICAgICBmb3IgdGhpcyBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldEdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2VvbWV0cnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBnZW9tZXRyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZ2VvbWV0cnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChmZWF0dXJlLmdldChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBkZWZhdWx0R2VvbWV0cnlGdW5jdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW9tZXRyeV8gPSBnZW9tZXRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgei1pbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gekluZGV4IFpJbmRleC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldFpJbmRleCA9IGZ1bmN0aW9uICh6SW5kZXgpIHtcbiAgICAgICAgdGhpcy56SW5kZXhfID0gekluZGV4O1xuICAgIH07XG4gICAgcmV0dXJuIFN0eWxlO1xufSgpKTtcbi8qKlxuICogQ29udmVydCB0aGUgcHJvdmlkZWQgb2JqZWN0IGludG8gYSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWQgdGhyb3VnaFxuICogdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWQgaW4gYVxuICogbmV3IHN0eWxlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtTdHlsZUZ1bmN0aW9ufEFycmF5PFN0eWxlPnxTdHlsZX0gb2JqXG4gKiAgICAgQSBzdHlsZSBmdW5jdGlvbiwgYSBzaW5nbGUgc3R5bGUsIG9yIGFuIGFycmF5IG9mIHN0eWxlcy5cbiAqIEByZXR1cm4ge1N0eWxlRnVuY3Rpb259IEEgc3R5bGUgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Z1bmN0aW9uKG9iaikge1xuICAgIHZhciBzdHlsZUZ1bmN0aW9uO1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHN0eWxlRnVuY3Rpb24gPSBvYmo7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzdHlsZXNfMTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgc3R5bGVzXzEgPSBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnQodHlwZW9mICggLyoqIEB0eXBlIHs/fSAqLyhvYmopLmdldFpJbmRleCkgPT09ICdmdW5jdGlvbicsIDQxKTsgLy8gRXhwZWN0ZWQgYW4gYFN0eWxlYCBvciBhbiBhcnJheSBvZiBgU3R5bGVgXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSAvKiogQHR5cGUge1N0eWxlfSAqLyAob2JqKTtcbiAgICAgICAgICAgIHN0eWxlc18xID0gW3N0eWxlXTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlc18xO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGVGdW5jdGlvbjtcbn1cbi8qKlxuICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAqL1xudmFyIGRlZmF1bHRTdHlsZXMgPSBudWxsO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxTdHlsZT59IFN0eWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFN0eWxlKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcbiAgICAvLyBXZSBkb24ndCB1c2UgYW4gaW1tZWRpYXRlbHktaW52b2tlZCBmdW5jdGlvblxuICAgIC8vIGFuZCBhIGNsb3N1cmUgc28gd2UgZG9uJ3QgZ2V0IGFuIGVycm9yIGF0IHNjcmlwdCBldmFsdWF0aW9uIHRpbWUgaW5cbiAgICAvLyBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IENhbnZhcy4gKGltcG9ydChcIi4vQ2lyY2xlLmpzXCIpLkNpcmNsZVN0eWxlIGRvZXNcbiAgICAvLyBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhdCBjb25zdHJ1Y3Rpb24gdGltZSwgd2hpY2ggd2lsbCBjYXVzZSBhbi5lcnJvclxuICAgIC8vIGluIHN1Y2ggYnJvd3NlcnMuKVxuICAgIGlmICghZGVmYXVsdFN0eWxlcykge1xuICAgICAgICB2YXIgZmlsbCA9IG5ldyBGaWxsKHtcbiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjQpJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdHJva2UgPSBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICAgIGNvbG9yOiAnIzMzOTlDQycsXG4gICAgICAgICAgICB3aWR0aDogMS4yNSxcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZmF1bHRTdHlsZXMgPSBbXG4gICAgICAgICAgICBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgICAgIGltYWdlOiBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHN0cm9rZSxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiA1LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGZpbGw6IGZpbGwsXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRTdHlsZXM7XG59XG4vKipcbiAqIERlZmF1bHQgc3R5bGVzIGZvciBlZGl0aW5nIGZlYXR1cmVzLlxuICogQHJldHVybiB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlUeXBlLmpzXCIpLmRlZmF1bHQsIEFycmF5PFN0eWxlPj59IFN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWRpdGluZ1N0eWxlKCkge1xuICAgIC8qKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlUeXBlLmpzXCIpLmRlZmF1bHQsIEFycmF5PFN0eWxlPj59ICovXG4gICAgdmFyIHN0eWxlcyA9IHt9O1xuICAgIHZhciB3aGl0ZSA9IFsyNTUsIDI1NSwgMjU1LCAxXTtcbiAgICB2YXIgYmx1ZSA9IFswLCAxNTMsIDI1NSwgMV07XG4gICAgdmFyIHdpZHRoID0gMztcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dID0gW1xuICAgICAgICBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMC41XSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICBdO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTl0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddID0gW1xuICAgICAgICBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoICsgMixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJsdWUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklOR10gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkNJUkNMRV0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLmNvbmNhdChzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSk7XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF0gPSBbXG4gICAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgICAgICBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAgICAgICAgICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoIC8gMixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgekluZGV4OiBJbmZpbml0eSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTl0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLmNvbmNhdChzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSwgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF0pO1xuICAgIHJldHVybiBzdHlsZXM7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggYSBmZWF0dXJlIGFuZCByZXR1cm5zIGl0cyBkZWZhdWx0IGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUgdG8gZ2V0IHRoZSBnZW9tZXRyeSBmb3IuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IEdlb21ldHJ5IHRvIHJlbmRlci5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb24oZmVhdHVyZSkge1xuICAgIHJldHVybiBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG59XG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0eWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVZlY3RvclxuICovXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgUkJ1c2ggZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGNyZWF0ZURlZmF1bHRTdHlsZSwgdG9GdW5jdGlvbiBhcyB0b1N0eWxlRnVuY3Rpb24sIH0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBWZWN0b3JTb3VyY2VUeXBlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbn0gW3JlbmRlck9yZGVyXSBSZW5kZXIgb3JkZXIuIEZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiBzb3J0aW5nXG4gKiBmZWF0dXJlcyBiZWZvcmUgcmVuZGVyaW5nLiBCeSBkZWZhdWx0IGZlYXR1cmVzIGFyZSBkcmF3biBpbiB0aGUgb3JkZXIgdGhhdCB0aGV5IGFyZSBjcmVhdGVkLiBVc2VcbiAqIGBudWxsYCB0byBhdm9pZCB0aGUgc29ydCwgYnV0IGdldCBhbiB1bmRlZmluZWQgZHJhdyBvcmRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVuZGVyQnVmZmVyPTEwMF0gVGhlIGJ1ZmZlciBpbiBwaXhlbHMgYXJvdW5kIHRoZSB2aWV3cG9ydCBleHRlbnQgdXNlZCBieSB0aGVcbiAqIHJlbmRlcmVyIHdoZW4gZ2V0dGluZyBmZWF0dXJlcyBmcm9tIHRoZSB2ZWN0b3Igc291cmNlIGZvciB0aGUgcmVuZGVyaW5nIG9yIGhpdC1kZXRlY3Rpb24uXG4gKiBSZWNvbW1lbmRlZCB2YWx1ZTogdGhlIHNpemUgb2YgdGhlIGxhcmdlc3Qgc3ltYm9sLCBsaW5lIHdpZHRoIG9yIGxhYmVsLlxuICogQHByb3BlcnR5IHtWZWN0b3JTb3VyY2VUeXBlfSBbc291cmNlXSBTb3VyY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBTZXRzIHRoZSBsYXllciBhcyBvdmVybGF5IG9uIGEgbWFwLiBUaGUgbWFwIHdpbGwgbm90IG1hbmFnZVxuICogdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgbGF5ZXIgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogdGVtcG9yYXJ5IGxheWVycy4gVGhlIHN0YW5kYXJkIHdheSB0byBhZGQgYSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAgaXMgdG9cbiAqIHVzZSB7QGxpbmsgaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXIgbWFwLmFkZExheWVyKCl9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVjbHV0dGVyPWZhbHNlXSBEZWNsdXR0ZXIgaW1hZ2VzIGFuZCB0ZXh0LiBEZWNsdXR0ZXJpbmcgaXMgYXBwbGllZCB0byBhbGxcbiAqIGltYWdlIGFuZCB0ZXh0IHN0eWxlcyBvZiBhbGwgVmVjdG9yIGFuZCBWZWN0b3JUaWxlIGxheWVycyB0aGF0IGhhdmUgc2V0IHRoaXMgdG8gYHRydWVgLiBUaGUgcHJpb3JpdHlcbiAqIGlzIGRlZmluZWQgYnkgdGhlIHotaW5kZXggb2YgdGhlIGxheWVyLCB0aGUgYHpJbmRleGAgb2YgdGhlIHN0eWxlIGFuZCB0aGUgcmVuZGVyIG9yZGVyIG9mIGZlYXR1cmVzLlxuICogSGlnaGVyIHotaW5kZXggbWVhbnMgaGlnaGVyIHByaW9yaXR5LiBXaXRoaW4gdGhlIHNhbWUgei1pbmRleCwgYSBmZWF0dXJlIHJlbmRlcmVkIGJlZm9yZSBhbm90aGVyIGhhc1xuICogaGlnaGVyIHByaW9yaXR5LlxuICpcbiAqIEFzIGFuIG9wdGltaXphdGlvbiBkZWNsdXR0ZXJlZCBmZWF0dXJlcyBmcm9tIGxheWVycyB3aXRoIHRoZSBzYW1lIGBjbGFzc05hbWVgIGFyZSByZW5kZXJlZCBhYm92ZVxuICogdGhlIGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMgb2YgYWxsIG9mIHRob3NlIGxheWVycyByZWdhcmRsZXNzIG9mIHotaW5kZXguICBUbyBvcHQgb3V0IG9mIHRoaXNcbiAqIGJlaGF2aW9yIGFuZCBwbGFjZSBkZWNsdXR0ZXJkIGZlYXR1cmVzIHdpdGggdGhlaXIgb3duIGxheWVyIGNvbmZpZ3VyZSB0aGUgbGF5ZXIgd2l0aCBhIGBjbGFzc05hbWVgXG4gKiBvdGhlciB0aGFuIGBvbC1sYXllcmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfSBbc3R5bGVdIExheWVyIHN0eWxlLiBXaGVuIHNldCB0byBgbnVsbGAsIG9ubHlcbiAqIGZlYXR1cmVzIHRoYXQgaGF2ZSB0aGVpciBvd24gc3R5bGUgd2lsbCBiZSByZW5kZXJlZC4gU2VlIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IGZvciB0aGUgZGVmYXVsdCBzdHlsZVxuICogd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgaXMgbm90IHNldC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLkJhY2tncm91bmRDb2xvcn0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm8gYmFja2dyb3VuZFxuICogd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlQW5pbWF0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsXG4gKiBiZSByZWNyZWF0ZWQgZHVyaW5nIGFuaW1hdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCBubyB2ZWN0b3JzIHdpbGwgYmUgc2hvd24gY2xpcHBlZCwgYnV0IHRoZVxuICogc2V0dGluZyB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QgZm9yIGxhcmdlIGFtb3VudHMgb2YgdmVjdG9yIGRhdGEuIFdoZW4gc2V0IHRvIGBmYWxzZWAsXG4gKiBiYXRjaGVzIHdpbGwgYmUgcmVjcmVhdGVkIHdoZW4gbm8gYW5pbWF0aW9uIGlzIGFjdGl2ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGxcbiAqIGJlIHJlY3JlYXRlZCBkdXJpbmcgaW50ZXJhY3Rpb25zLiBTZWUgYWxzbyBgdXBkYXRlV2hpbGVBbmltYXRpbmdgLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gW3Byb3BlcnRpZXNdIEFyYml0cmFyeSBvYnNlcnZhYmxlIHByb3BlcnRpZXMuIENhbiBiZSBhY2Nlc3NlZCB3aXRoIGAjZ2V0KClgIGFuZCBgI3NldCgpYC5cbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xudmFyIFByb3BlcnR5ID0ge1xuICAgIFJFTkRFUl9PUkRFUjogJ3JlbmRlck9yZGVyJyxcbn07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFZlY3RvciBkYXRhIHRoYXQgaXMgcmVuZGVyZWQgY2xpZW50LXNpZGUuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vc291cmNlL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gVmVjdG9yU291cmNlVHlwZVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yVGlsZUxheWVyLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvckltYWdlTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci93ZWJnbC9Qb2ludHNMYXllci5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclR5cGVcbiAqIEBleHRlbmRzIHtMYXllcjxWZWN0b3JTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG52YXIgQmFzZVZlY3RvckxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlVmVjdG9yTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPFZlY3RvclNvdXJjZVR5cGU+fSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVZlY3RvckxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgYmFzZU9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMuc3R5bGU7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5yZW5kZXJCdWZmZXI7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZztcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlY2x1dHRlcl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5kZWNsdXR0ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGVjbHV0dGVyIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyQnVmZmVyXyA9XG4gICAgICAgICAgICBvcHRpb25zLnJlbmRlckJ1ZmZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yZW5kZXJCdWZmZXIgOiAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyIHByb3ZpZGVkIHN0eWxlLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0eWxlIGZ1bmN0aW9uIGZvciB1c2Ugd2l0aGluIHRoZSBsaWJyYXJ5LlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZUZ1bmN0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXyA9XG4gICAgICAgICAgICBvcHRpb25zLnVwZGF0ZVdoaWxlQW5pbWF0aW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmdcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVXaGlsZUludGVyYWN0aW5nXyA9XG4gICAgICAgICAgICBvcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy51cGRhdGVXaGlsZUludGVyYWN0aW5nXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBEZWNsdXR0ZXIuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXREZWNsdXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY2x1dHRlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvcG1vc3QgZmVhdHVyZSB0aGF0IGludGVyc2VjdHMgdGhlIGdpdmVuIHBpeGVsIG9uIHRoZSB2aWV3cG9ydC4gUmV0dXJucyBhIHByb21pc2VcbiAgICAgKiB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuIFRoZSBhcnJheSB3aWxsIGVpdGhlciBjb250YWluIHRoZSB0b3Btb3N0IGZlYXR1cmVcbiAgICAgKiB3aGVuIGEgaGl0IHdhcyBkZXRlY3RlZCwgb3IgaXQgd2lsbCBiZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIFRoZSBoaXQgZGV0ZWN0aW9uIGFsZ29yaXRobSB1c2VkIGZvciB0aGlzIG1ldGhvZCBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLCBidXQgaXMgbGVzc1xuICAgICAqIGFjY3VyYXRlIHRoYW4gdGhlIG9uZSB1c2VkIGluIHtAbGluayBpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdCNnZXRGZWF0dXJlc0F0UGl4ZWx9OiBUZXh0XG4gICAgICogaXMgbm90IGNvbnNpZGVyZWQsIGFuZCBpY29ucyBhcmUgb25seSByZXByZXNlbnRlZCBieSB0aGVpciBib3VuZGluZyBib3ggaW5zdGVhZCBvZiB0aGUgZXhhY3RcbiAgICAgKiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5kZWZhdWx0Pj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldEZlYXR1cmVzLmNhbGwodGhpcywgcGl4ZWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVuZGVyIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFJlbmRlckJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQnVmZmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogbnVtYmVyfG51bGx8dW5kZWZpbmVkfSBSZW5kZXJcbiAgICAgKiAgICAgb3JkZXIuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRSZW5kZXJPcmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9ICovICh0aGlzLmdldChQcm9wZXJ0eS5SRU5ERVJfT1JERVIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3R5bGUgZm9yIGZlYXR1cmVzLiAgVGhpcyByZXR1cm5zIHdoYXRldmVyIHdhcyBwYXNzZWQgdG8gdGhlIGBzdHlsZWBcbiAgICAgKiBvcHRpb24gYXQgY29uc3RydWN0aW9uIG9yIHRvIHRoZSBgc2V0U3R5bGVgIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8bnVsbHx1bmRlZmluZWR9IExheWVyIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0eWxlIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBMYXllciBzdHlsZSBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZUZ1bmN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlbmRlcmVkIGxheWVyIHNob3VsZCBiZSB1cGRhdGVkIHdoaWxlXG4gICAgICogICAgIGFuaW1hdGluZy5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVXaGlsZUFuaW1hdGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSByZW5kZXJlZCBsYXllciBzaG91bGQgYmUgdXBkYXRlZCB3aGlsZVxuICAgICAqICAgICBpbnRlcmFjdGluZy5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGRlY2x1dHRlciBpdGVtcyBmb3IgdGhpcyBsYXllclxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5yZW5kZXJEZWNsdXR0ZXIgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBpZiAoIWZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlID0gbmV3IFJCdXNoKDkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBAdHlwZSB7Kn0gKi8gKHRoaXMuZ2V0UmVuZGVyZXIoKSkucmVuZGVyRGVjbHV0dGVyKGZyYW1lU3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbnxudWxsfHVuZGVmaW5lZH0gcmVuZGVyT3JkZXJcbiAgICAgKiAgICAgUmVuZGVyIG9yZGVyLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuc2V0UmVuZGVyT3JkZXIgPSBmdW5jdGlvbiAocmVuZGVyT3JkZXIpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuUkVOREVSX09SREVSLCByZW5kZXJPcmRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0eWxlIGZvciBmZWF0dXJlcy4gIFRoaXMgY2FuIGJlIGEgc2luZ2xlIHN0eWxlIG9iamVjdCwgYW4gYXJyYXlcbiAgICAgKiBvZiBzdHlsZXMsIG9yIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGZlYXR1cmUgYW5kIHJlc29sdXRpb24gYW5kIHJldHVybnNcbiAgICAgKiBhbiBhcnJheSBvZiBzdHlsZXMuIElmIHNldCB0byBgbnVsbGAsIHRoZSBsYXllciBoYXMgbm8gc3R5bGUgKGEgYG51bGxgIHN0eWxlKSxcbiAgICAgKiBzbyBvbmx5IGZlYXR1cmVzIHRoYXQgaGF2ZSB0aGVpciBvd24gc3R5bGVzIHdpbGwgYmUgcmVuZGVyZWQgaW4gdGhlIGxheWVyLiBDYWxsXG4gICAgICogYHNldFN0eWxlKClgIHdpdGhvdXQgYXJndW1lbnRzIHRvIHJlc2V0IHRvIHRoZSBkZWZhdWx0IHN0eWxlLiBTZWVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlflN0eWxlfSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIGRlZmF1bHQgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8bnVsbH0gW29wdF9zdHlsZV0gTGF5ZXIgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAob3B0X3N0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVfID0gb3B0X3N0eWxlICE9PSB1bmRlZmluZWQgPyBvcHRfc3R5bGUgOiBjcmVhdGVEZWZhdWx0U3R5bGU7XG4gICAgICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPVxuICAgICAgICAgICAgb3B0X3N0eWxlID09PSBudWxsID8gdW5kZWZpbmVkIDogdG9TdHlsZUZ1bmN0aW9uKHRoaXMuc3R5bGVfKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVZlY3RvckxheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZVZlY3RvckxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVZlY3Rvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvblxuICovXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbnZhciBJbnN0cnVjdGlvbiA9IHtcbiAgICBCRUdJTl9HRU9NRVRSWTogMCxcbiAgICBCRUdJTl9QQVRIOiAxLFxuICAgIENJUkNMRTogMixcbiAgICBDTE9TRV9QQVRIOiAzLFxuICAgIENVU1RPTTogNCxcbiAgICBEUkFXX0NIQVJTOiA1LFxuICAgIERSQVdfSU1BR0U6IDYsXG4gICAgRU5EX0dFT01FVFJZOiA3LFxuICAgIEZJTEw6IDgsXG4gICAgTU9WRV9UT19MSU5FX1RPOiA5LFxuICAgIFNFVF9GSUxMX1NUWUxFOiAxMCxcbiAgICBTRVRfU1RST0tFX1NUWUxFOiAxMSxcbiAgICBTVFJPS0U6IDEyLFxufTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBmaWxsSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uRklMTF07XG4vKipcbiAqIEB0eXBlIHtBcnJheTxJbnN0cnVjdGlvbj59XG4gKi9cbmV4cG9ydCB2YXIgc3Ryb2tlSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uU1RST0tFXTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBiZWdpblBhdGhJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5CRUdJTl9QQVRIXTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBjbG9zZVBhdGhJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5DTE9TRV9QQVRIXTtcbmV4cG9ydCBkZWZhdWx0IEluc3RydWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5zdHJ1Y3Rpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9WZWN0b3JDb250ZXh0XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udGV4dCBmb3IgZHJhd2luZyBnZW9tZXRyaWVzLiAgQSB2ZWN0b3IgY29udGV4dCBpcyBhdmFpbGFibGUgb24gcmVuZGVyXG4gKiBldmVudHMgYW5kIGRvZXMgbm90IG5lZWQgdG8gYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuXG4gKiBAYXBpXG4gKi9cbnZhciBWZWN0b3JDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZlY3RvckNvbnRleHQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGdlb21ldHJ5IHdpdGggYSBjdXN0b20gcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGl0RGV0ZWN0aW9uUmVuZGVyZXIgUmVuZGVyZXIuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0N1c3RvbSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIsIGhpdERldGVjdGlvblJlbmRlcmVyKSB7IH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3R2VvbWV0cnkgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHsgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgVGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlR2VvbWV0cnkgQ2lyY2xlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIChjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3RmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlLCBzdHlsZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdHZW9tZXRyeUNvbGxlY3Rpb24gPSBmdW5jdGlvbiAoZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0xpbmVTdHJpbmcgPSBmdW5jdGlvbiAobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpTGluZVN0cmluZyA9IGZ1bmN0aW9uIChtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdNdWx0aVBvaW50ID0gZnVuY3Rpb24gKG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gbXVsdGlQb2x5Z29uR2VvbWV0cnkgTXVsdGlQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdNdWx0aVBvbHlnb24gPSBmdW5jdGlvbiAobXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9pbnRHZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiAocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3VGV4dCA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2VTdHlsZSBTdHJva2Ugc3R5bGUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3R5bGUgSW1hZ2Ugc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9IFtvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF0gU2hhcmVkIGRhdGEgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZyB3aXRoIGEgdGV4dCBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRJbWFnZVN0eWxlID0gZnVuY3Rpb24gKGltYWdlU3R5bGUsIG9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSBbb3B0X2RlY2x1dHRlckltYWdlV2l0aFRleHRdIFNoYXJlZCBkYXRhIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcgd2l0aCBhbiBpbWFnZSBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRUZXh0U3R5bGUgPSBmdW5jdGlvbiAodGV4dFN0eWxlLCBvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkgeyB9O1xuICAgIHJldHVybiBWZWN0b3JDb250ZXh0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFZlY3RvckNvbnRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JDb250ZXh0LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuLi8uLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHsgYXNDb2xvckxpa2UgfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHsgYnVmZmVyLCBjbG9uZSwgY29udGFpbnNDb29yZGluYXRlLCBjb29yZGluYXRlUmVsYXRpb25zaGlwLCB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZURhc2hPZmZzZXQsIGRlZmF1bHRMaW5lSm9pbiwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdE1pdGVyTGltaXQsIGRlZmF1bHRTdHJva2VTdHlsZSwgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgZXF1YWxzLCByZXZlcnNlU3ViQXJyYXkgfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpbmZsYXRlQ29vcmRpbmF0ZXMsIGluZmxhdGVDb29yZGluYXRlc0FycmF5LCBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5LCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9pbmZsYXRlLmpzJztcbnZhciBDYW52YXNCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNCdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzQnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG9sZXJhbmNlID0gdG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhFeHRlbnQgPSBtYXhFeHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluc3RydWN0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wQ29vcmRpbmF0ZV8gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9ICovICh7fSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGFzaEFycmF5IERhc2ggYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGFzaCBhcnJheSB3aXRoIHBpeGVsIHJhdGlvIGFwcGxpZWRcbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5hcHBseVBpeGVsUmF0aW8gPSBmdW5jdGlvbiAoZGFzaEFycmF5KSB7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICByZXR1cm4gcGl4ZWxSYXRpbyA9PSAxXG4gICAgICAgICAgICA/IGRhc2hBcnJheVxuICAgICAgICAgICAgOiBkYXNoQXJyYXkubWFwKGZ1bmN0aW9uIChkYXNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhc2ggKiBwaXhlbFJhdGlvO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE15IGVuZFxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgICAgIHZhciB0bXBDb29yZCA9IHRoaXMudG1wQ29vcmRpbmF0ZV87XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdG1wQ29vcmRbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB0bXBDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoY29udGFpbnNDb29yZGluYXRlKGV4dGVudCwgdG1wQ29vcmQpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSB0bXBDb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IHRtcENvb3JkWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBteUVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zZWQgTGFzdCBpbnB1dCBjb29yZGluYXRlIGVxdWFscyBmaXJzdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBGaXJzdCBTa2lwIGZpcnN0IGNvb3JkaW5hdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZWQsIHNraXBGaXJzdCkge1xuICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgICAgICB2YXIgbXlFbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgICAgIGlmIChza2lwRmlyc3QpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RYQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIGxhc3RZQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIHZhciBuZXh0Q29vcmQgPSB0aGlzLnRtcENvb3JkaW5hdGVfO1xuICAgICAgICB2YXIgc2tpcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBpLCBsYXN0UmVsLCBuZXh0UmVsO1xuICAgICAgICBmb3IgKGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICBuZXh0Q29vcmRbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICBuZXh0Q29vcmRbMV0gPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgbmV4dFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBuZXh0Q29vcmQpO1xuICAgICAgICAgICAgaWYgKG5leHRSZWwgIT09IGxhc3RSZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RYQ29vcmQ7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFlDb29yZDtcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcpIHtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RYQ29vcmQgPSBuZXh0Q29vcmRbMF07XG4gICAgICAgICAgICBsYXN0WUNvb3JkID0gbmV4dENvb3JkWzFdO1xuICAgICAgICAgICAgbGFzdFJlbCA9IG5leHRSZWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGFzdCBjb29yZGluYXRlIGVxdWFscyBmaXJzdCBvciBvbmx5IG9uZSBwb2ludCB0byBhcHBlbmQ6XG4gICAgICAgIGlmICgoY2xvc2VkICYmIHNraXBwZWQpIHx8IGkgPT09IG9mZnNldCArIHN0cmlkZSkge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WENvb3JkO1xuICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WUNvb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBteUVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBidWlsZGVyRW5kcyBCdWlsZGVyIGVuZHMuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBidWlsZGVyRW5kcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1aWxkZXJFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgYnVpbGRlckVuZHMucHVzaChidWlsZGVyRW5kKTtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlbmRlcmVyIFJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhpdERldGVjdGlvblJlbmRlcmVyIFJlbmRlcmVyLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmRyYXdDdXN0b20gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmUsIHJlbmRlcmVyLCBoaXREZXRlY3Rpb25SZW5kZXJlcikge1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgYnVpbGRlckJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMsIGJ1aWxkZXJFbmQsIGJ1aWxkZXJFbmRzLCBidWlsZGVyRW5kc3M7XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kc3MgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kc3MgPSBcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RW5kc3MoKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG15RW5kcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdDdXN0b21Db29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUsIG15RW5kcyk7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzcy5wdXNoKG15RW5kcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZHNzLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kc3MsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT05cbiAgICAgICAgICAgICAgICAgICAgICAgID8gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRFbmRzKCksIHN0cmlkZSwgYnVpbGRlckVuZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZHMsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kcyxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuQ0lSQ0xFOlxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGVyRW5kID4gYnVpbGRlckJlZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQgPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5iZWdpbkdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgICAgICAgIGZlYXR1cmUsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgICAgICAgIGZlYXR1cmUsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHRoaXMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zOiB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSB0aGUgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zO1xuICAgICAgICAvLyBzdGVwIDEgLSByZXZlcnNlIGFycmF5XG4gICAgICAgIGhpdERldGVjdGlvbkluc3RydWN0aW9ucy5yZXZlcnNlKCk7XG4gICAgICAgIC8vIHN0ZXAgMiAtIHJldmVyc2UgaW5zdHJ1Y3Rpb25zIHdpdGhpbiBnZW9tZXRyeSBibG9ja3NcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBuID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICAgICAgdmFyIGluc3RydWN0aW9uO1xuICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgdmFyIGJlZ2luID0gLTE7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgICAgICAgdHlwZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnN0cnVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bMF0pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZKSB7XG4gICAgICAgICAgICAgICAgYmVnaW4gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSkge1xuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzJdID0gaTtcbiAgICAgICAgICAgICAgICByZXZlcnNlU3ViQXJyYXkodGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsIGJlZ2luLCBpKTtcbiAgICAgICAgICAgICAgICBiZWdpbiA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIChmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUpIHtcbiAgICAgICAgICAgIHZhciBmaWxsU3R5bGVDb2xvciA9IGZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgc3RhdGUuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoZmlsbFN0eWxlQ29sb3IgPyBmaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUuZmlsbFN0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlQ29sb3IgPSBzdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShzdHJva2VTdHlsZUNvbG9yID8gc3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZSk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lQ2FwID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgICAgICAgc3RhdGUubGluZUNhcCA9XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZUxpbmVDYXAgOiBkZWZhdWx0TGluZUNhcDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoID0gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaC5zbGljZSgpXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVKb2luID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZUxpbmVKb2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZVdpZHRoIDogZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZU1pdGVyTGltaXQgPSBzdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0ID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRNaXRlckxpbWl0O1xuICAgICAgICAgICAgaWYgKHN0YXRlLmxpbmVXaWR0aCA+IHRoaXMubWF4TGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgLy8gaW52YWxpZGF0ZSB0aGUgYnVmZmVyZWQgbWF4IGV4dGVudCBjYWNoZVxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubGluZUNhcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PCo+fSBGaWxsIGluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmNyZWF0ZUZpbGwgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi9cbiAgICAgICAgdmFyIGZpbGxJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSwgZmlsbFN0eWxlXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxsU3R5bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGlzIGEgcGF0dGVybiBvciBncmFkaWVudCAtIGFsaWduIGl0IVxuICAgICAgICAgICAgZmlsbEluc3RydWN0aW9uLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGxJbnN0cnVjdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYXBwbHlTdHJva2UgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVN0cm9rZShzdGF0ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmNyZWF0ZVN0cm9rZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoICogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQaXhlbFJhdGlvKHN0YXRlLmxpbmVEYXNoKSxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ICogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzQnVpbGRlciwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZSk6QXJyYXk8Kj59IGNyZWF0ZUZpbGwgQ3JlYXRlIGZpbGwuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUudXBkYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gKHN0YXRlLCBjcmVhdGVGaWxsKSB7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIGlmICh0eXBlb2YgZmlsbFN0eWxlICE9PSAnc3RyaW5nJyB8fCBzdGF0ZS5jdXJyZW50RmlsbFN0eWxlICE9IGZpbGxTdHlsZSkge1xuICAgICAgICAgICAgaWYgKGZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChjcmVhdGVGaWxsLmNhbGwodGhpcywgc3RhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOkNhbnZhc0J1aWxkZXIsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGUpOiB2b2lkfSBhcHBseVN0cm9rZSBBcHBseSBzdHJva2UuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUudXBkYXRlU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGFwcGx5U3Ryb2tlKSB7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICB2YXIgbGluZUNhcCA9IHN0YXRlLmxpbmVDYXA7XG4gICAgICAgIHZhciBsaW5lRGFzaCA9IHN0YXRlLmxpbmVEYXNoO1xuICAgICAgICB2YXIgbGluZURhc2hPZmZzZXQgPSBzdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgdmFyIGxpbmVKb2luID0gc3RhdGUubGluZUpvaW47XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgIHZhciBtaXRlckxpbWl0ID0gc3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSAhPSBzdHJva2VTdHlsZSB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVDYXAgIT0gbGluZUNhcCB8fFxuICAgICAgICAgICAgKGxpbmVEYXNoICE9IHN0YXRlLmN1cnJlbnRMaW5lRGFzaCAmJlxuICAgICAgICAgICAgICAgICFlcXVhbHMoc3RhdGUuY3VycmVudExpbmVEYXNoLCBsaW5lRGFzaCkpIHx8XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgIT0gbGluZURhc2hPZmZzZXQgfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiAhPSBsaW5lSm9pbiB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCAhPSBsaW5lV2lkdGggfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ICE9IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIGlmIChzdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlTdHJva2UuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50U3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lQ2FwID0gbGluZUNhcDtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lRGFzaCA9IGxpbmVEYXNoO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoT2Zmc2V0ID0gbGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmVuZEdlb21ldHJ5ID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xX1syXSA9IHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl9bMl0gPSB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBudWxsO1xuICAgICAgICB2YXIgZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlksIGZlYXR1cmVdO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LiAgUmVuZGVyaW5nIHdpbGwgYmUgY2xpcHBlZCB0byB0aGUgZXh0ZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiAgVG8gYWNjb3VudCBmb3Igc3ltYm9saXplcnMgdGhhdCBtYXkgaW50ZXJzZWN0XG4gICAgICogdGhpcyBleHRlbnQsIHdlIGNhbGN1bGF0ZSBhIGJ1ZmZlcmVkIGV4dGVudCAoZS5nLiBiYXNlZCBvbiBzdHJva2Ugd2lkdGgpLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5nZXRCdWZmZXJlZE1heEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xykge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJlZE1heEV4dGVudF8gPSBjbG9uZSh0aGlzLm1heEV4dGVudCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhMaW5lV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gKHRoaXMucmVzb2x1dGlvbiAqICh0aGlzLm1heExpbmVXaWR0aCArIDEpKSAvIDI7XG4gICAgICAgICAgICAgICAgYnVmZmVyKHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfLCB3aWR0aCwgdGhpcy5idWZmZXJlZE1heEV4dGVudF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XztcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNCdWlsZGVyO1xufShWZWN0b3JDb250ZXh0KSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVpbGRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG52YXIgQ2FudmFzSW1hZ2VCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNJbWFnZUJ1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNJbWFnZUJ1aWxkZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yWV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnaW5YXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luWV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHNoYXJlZCB3aXRoIGEgdGV4dCBidWlsZGVyIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9pbnRHZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLmRyYXdQb2ludCA9IGZ1bmN0aW9uIChwb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gcG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIG15RW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLFxuICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICB0aGlzLmFuY2hvcllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXMuaGVpZ2h0XyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyksXG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICh0aGlzLnNjYWxlX1swXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfLFxuICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWF8sXG4gICAgICAgICAgICB0aGlzLmFuY2hvcllfLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHRfLFxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgICAgICAgIHRoaXMuc2NhbGVfLFxuICAgICAgICAgICAgdGhpcy53aWR0aF8sXG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvaW50R2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvaW50ID0gZnVuY3Rpb24gKG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aVBvaW50R2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBtdWx0aVBvaW50R2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAodGhpcy5zY2FsZV9bMF0gKiB0aGlzLnBpeGVsUmF0aW8pIC8gdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgICh0aGlzLnNjYWxlX1sxXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXMud2lkdGhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyxcbiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgICB0aGlzLmFuY2hvclhfLFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZXyxcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XyxcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpblhfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5ZXyxcbiAgICAgICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICAgICAgICB0aGlzLnNjYWxlXyxcbiAgICAgICAgICAgIHRoaXMud2lkdGhfLFxuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgIC8vIEZJWE1FIHRoaXMgZG9lc24ndCByZWFsbHkgcHJvdGVjdCB1cyBhZ2FpbnN0IGZ1cnRoZXIgY2FsbHMgdG8gZHJhdypHZW9tZXRyeVxuICAgICAgICB0aGlzLmFuY2hvclhfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFuY2hvcllfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhlaWdodF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2NhbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9yaWdpbllfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2lkdGhfID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdF9zaGFyZWREYXRhXSBTaGFyZWQgZGF0YS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLnNldEltYWdlU3R5bGUgPSBmdW5jdGlvbiAoaW1hZ2VTdHlsZSwgb3B0X3NoYXJlZERhdGEpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgICAgIHZhciBzaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCk7XG4gICAgICAgIHZhciBoaXREZXRlY3Rpb25JbWFnZSA9IGltYWdlU3R5bGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKTtcbiAgICAgICAgdmFyIGltYWdlID0gaW1hZ2VTdHlsZS5nZXRJbWFnZSh0aGlzLnBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgb3JpZ2luID0gaW1hZ2VTdHlsZS5nZXRPcmlnaW4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gaW1hZ2VTdHlsZS5nZXRQaXhlbFJhdGlvKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuYW5jaG9yWF8gPSBhbmNob3JbMF07XG4gICAgICAgIHRoaXMuYW5jaG9yWV8gPSBhbmNob3JbMV07XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gaGl0RGV0ZWN0aW9uSW1hZ2U7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuaGVpZ2h0XyA9IHNpemVbMV07XG4gICAgICAgIHRoaXMub3BhY2l0eV8gPSBpbWFnZVN0eWxlLmdldE9wYWNpdHkoKTtcbiAgICAgICAgdGhpcy5vcmlnaW5YXyA9IG9yaWdpblswXSAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXztcbiAgICAgICAgdGhpcy5vcmlnaW5ZXyA9IG9yaWdpblsxXSAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXztcbiAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSBpbWFnZVN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgICB0aGlzLnNjYWxlXyA9IGltYWdlU3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICB0aGlzLndpZHRoXyA9IHNpemVbMF07XG4gICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSBvcHRfc2hhcmVkRGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNJbWFnZUJ1aWxkZXI7XG59KENhbnZhc0J1aWxkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltYWdlQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQnVpbGRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ0J1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwgeyBiZWdpblBhdGhJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24sIH0gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG52YXIgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBlbmQuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRyYXdGbGF0Q29vcmRpbmF0ZXNfID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB2YXIgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRyYXdMaW5lU3RyaW5nID0gZnVuY3Rpb24gKGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgaWYgKHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQgfHwgbGluZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgIGRlZmF1bHRMaW5lRGFzaCxcbiAgICAgICAgICAgIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgXSwgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiAobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkIHx8IGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgIF0sIGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgdmFyIGVuZHMgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRFbmRzKCk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZW5kc1tpXSksIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqL1xuICAgIENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBseVN0cm9rZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgc3RhdGUubGFzdFN0cm9rZSA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxhc3RTdHJva2UgPSAwO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmFwcGx5U3Ryb2tlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNMaW5lU3RyaW5nQnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lU3RyaW5nQnVpbGRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvUG9seWdvbkJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwgeyBiZWdpblBhdGhJbnN0cnVjdGlvbiwgY2xvc2VQYXRoSW5zdHJ1Y3Rpb24sIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24sIH0gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IHNuYXAgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc2ltcGxpZnkuanMnO1xudmFyIENhbnZhc1BvbHlnb25CdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNQb2x5Z29uQnVpbGRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1BvbHlnb25CdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5kcmF3RmxhdENvb3JkaW5hdGVzc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbCA9IHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgc3Ryb2tlID0gc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG51bUVuZHMgPSBlbmRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUVuZHM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG15RW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdHJ1ZSwgIXN0cm9rZSk7XG4gICAgICAgICAgICB2YXIgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPLFxuICAgICAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IG9ubHkgY2FsbCBjbG9zZVBhdGgoKSB3aGVuIHdlIGhhdmUgYSBzdHJva2UuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSByaW5nIGlzIGNsb3NlZCBhbHJlYWR5IChzZWUgYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyBhYm92ZSkuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChjbG9zZVBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChjbG9zZVBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZUdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBjaXJjbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGNpcmNsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHZhciBjaXJjbGVJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5DSVJDTEUsIG15QmVnaW5dO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uLCBjaXJjbGVJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICAgICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2x5Z29uR2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAocG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kcyA9IHBvbHlnb25HZW9tZXRyeS5nZXRFbmRzKCk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IHBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oZmxhdENvb3JkaW5hdGVzLCAwLCBcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZW5kcyksIHN0cmlkZSk7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9seWdvbkdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZHJhd011bHRpUG9seWdvbiA9IGZ1bmN0aW9uIChtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kc3MgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRFbmRzcygpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gcHJlc2VydmUgdG9wb2xvZ3kgd2hlbiBkcmF3aW5nIHBvbHlnb25zLiAgUG9seWdvbnMgYXJlXG4gICAgICAgIC8vIHNpbXBsaWZpZWQgdXNpbmcgcXVhbnRpemF0aW9uIGFuZCBwb2ludCBlbGltaW5hdGlvbi4gSG93ZXZlciwgd2UgbWlnaHRcbiAgICAgICAgLy8gaGF2ZSByZWNlaXZlZCBhIG1peCBvZiBxdWFudGl6ZWQgYW5kIG5vbi1xdWFudGl6ZWQgZ2VvbWV0cmllcywgc28gZW5zdXJlXG4gICAgICAgIC8vIHRoYXQgYWxsIGFyZSBxdWFudGl6ZWQgYnkgcXVhbnRpemluZyBhbGwgY29vcmRpbmF0ZXMgaW4gdGhlIGJhdGNoLlxuICAgICAgICB2YXIgdG9sZXJhbmNlID0gdGhpcy50b2xlcmFuY2U7XG4gICAgICAgIGlmICh0b2xlcmFuY2UgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNbaV0gPSBzbmFwKGNvb3JkaW5hdGVzW2ldLCB0b2xlcmFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGaWxsU3R5bGUoc3RhdGUsIHRoaXMuY3JlYXRlRmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzUG9seWdvbkJ1aWxkZXI7XG59KENhbnZhc0J1aWxkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc1BvbHlnb25CdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbkJ1aWxkZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rXG4gKi9cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIE1heGltdW0gYWNjZXB0YWJsZSBhbmdsZSBkZWx0YSBiZXR3ZWVuIHNlZ21lbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFN0YXJ0IGFuZCBlbmQgb2YgdGhlIGZpcnN0IHN1aXRhYmxlIGNodW5rIG9mIHRoZVxuICogZ2l2ZW4gYGZsYXRDb29yZGluYXRlc2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGluZ0NodW5rKG1heEFuZ2xlLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgY2h1bmtTdGFydCA9IG9mZnNldDtcbiAgICB2YXIgY2h1bmtFbmQgPSBvZmZzZXQ7XG4gICAgdmFyIGNodW5rTSA9IDA7XG4gICAgdmFyIG0gPSAwO1xuICAgIHZhciBzdGFydCA9IG9mZnNldDtcbiAgICB2YXIgYWNvcywgaSwgbTEyLCBtMjMsIHgxLCB5MSwgeDEyLCB5MTIsIHgyMywgeTIzO1xuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICBpZiAoeDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgeDIzID0geDIgLSB4MTtcbiAgICAgICAgICAgIHkyMyA9IHkyIC0geTE7XG4gICAgICAgICAgICBtMjMgPSBNYXRoLnNxcnQoeDIzICogeDIzICsgeTIzICogeTIzKTtcbiAgICAgICAgICAgIGlmICh4MTIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG0gKz0gbTEyO1xuICAgICAgICAgICAgICAgIGFjb3MgPSBNYXRoLmFjb3MoKHgxMiAqIHgyMyArIHkxMiAqIHkyMykgLyAobTEyICogbTIzKSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3MgPiBtYXhBbmdsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobSA+IGNodW5rTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtNID0gbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpIC0gc3RyaWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG0xMiA9IG0yMztcbiAgICAgICAgICAgIHgxMiA9IHgyMztcbiAgICAgICAgICAgIHkxMiA9IHkyMztcbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICBtICs9IG0yMztcbiAgICByZXR1cm4gbSA+IGNodW5rTSA/IFtzdGFydCwgaV0gOiBbY2h1bmtTdGFydCwgY2h1bmtFbmRdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyYWlnaHRjaHVuay5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvVGV4dEJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFRleHRQbGFjZW1lbnQgZnJvbSAnLi4vLi4vc3R5bGUvVGV4dFBsYWNlbWVudC5qcyc7XG5pbXBvcnQgeyBhc0NvbG9yTGlrZSB9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0Rm9udCwgZGVmYXVsdExpbmVDYXAsIGRlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0LCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRMaW5lV2lkdGgsIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0UGFkZGluZywgZGVmYXVsdFN0cm9rZVN0eWxlLCBkZWZhdWx0VGV4dEFsaWduLCBkZWZhdWx0VGV4dEJhc2VsaW5lLCByZWdpc3RlckZvbnQsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0cyB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBtYXRjaGluZ0NodW5rIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3N0cmFpZ2h0Y2h1bmsuanMnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgVEVYVF9BTElHTiA9IHtcbiAgICAnbGVmdCc6IDAsXG4gICAgJ2VuZCc6IDAsXG4gICAgJ2NlbnRlcic6IDAuNSxcbiAgICAncmlnaHQnOiAxLFxuICAgICdzdGFydCc6IDEsXG4gICAgJ3RvcCc6IDAsXG4gICAgJ21pZGRsZSc6IDAuNSxcbiAgICAnaGFuZ2luZyc6IDAuMixcbiAgICAnYWxwaGFiZXRpYyc6IDAuOCxcbiAgICAnaWRlb2dyYXBoaWMnOiAwLjgsXG4gICAgJ2JvdHRvbSc6IDEsXG59O1xudmFyIENhbnZhc1RleHRCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNUZXh0QnVpbGRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1RleHRCdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhYmVsc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dE9mZnNldFhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0T2Zmc2V0WV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0Um90YXRpb25fID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsU3RhdGVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3Ryb2tlU3RhdGVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdGF0ZV8gPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9ICovICh7fSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0YXRlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRLZXlfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsbEtleV8gPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJva2VLZXlfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHNoYXJlZCB3aXRoIGFuIGltYWdlIGJ1aWxkZXIgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RydWN0aW9ucyA9IF9zdXBlci5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyk7XG4gICAgICAgIGluc3RydWN0aW9ucy50ZXh0U3RhdGVzID0gdGhpcy50ZXh0U3RhdGVzO1xuICAgICAgICBpbnN0cnVjdGlvbnMuZmlsbFN0YXRlcyA9IHRoaXMuZmlsbFN0YXRlcztcbiAgICAgICAgaW5zdHJ1Y3Rpb25zLnN0cm9rZVN0YXRlcyA9IHRoaXMuc3Ryb2tlU3RhdGVzO1xuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuZHJhd1RleHQgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgICAgaWYgKHRoaXMudGV4dF8gPT09ICcnIHx8ICF0ZXh0U3RhdGUgfHwgKCFmaWxsU3RhdGUgJiYgIXN0cm9rZVN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBiZWdpbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGdlb21ldHJ5VHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG51bGw7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgaWYgKHRleHRTdGF0ZS5wbGFjZW1lbnQgPT09IFRleHRQbGFjZW1lbnQuTElORSAmJlxuICAgICAgICAgICAgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkcgfHxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HIHx8XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5QT0xZR09OIHx8XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OKSkge1xuICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKSwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVuZHMgPSB2b2lkIDA7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkcpIHtcbiAgICAgICAgICAgICAgICBlbmRzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuUE9MWUdPTikge1xuICAgICAgICAgICAgICAgIGVuZHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXRFbmRzKClcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZHNzID0gXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHNzKCk7XG4gICAgICAgICAgICAgICAgZW5kcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZHNzW2ldWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICAgICAgdmFyIHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ247XG4gICAgICAgICAgICB2YXIgZmxhdE9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgZmxhdEVuZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGZvciAodmFyIG8gPSAwLCBvbyA9IGVuZHMubGVuZ3RoOyBvIDwgb287ICsrbykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0QWxpZ24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IG1hdGNoaW5nQ2h1bmsodGV4dFN0YXRlLm1heEFuZ2xlLCBmbGF0Q29vcmRpbmF0ZXMsIGZsYXRPZmZzZXQsIGVuZHNbb10sIHN0cmlkZSk7XG4gICAgICAgICAgICAgICAgICAgIGZsYXRPZmZzZXQgPSByYW5nZVswXTtcbiAgICAgICAgICAgICAgICAgICAgZmxhdEVuZCA9IHJhbmdlWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhdEVuZCA9IGVuZHNbb107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBmbGF0T2Zmc2V0OyBpIDwgZmxhdEVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbaV0sIGZsYXRDb29yZGluYXRlc1tpICsgMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZsYXRPZmZzZXQgPSBlbmRzW29dO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJzXyhiZWdpbiwgZW5kKTtcbiAgICAgICAgICAgICAgICBiZWdpbiA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlXaWR0aHMgPSB0ZXh0U3RhdGUub3ZlcmZsb3cgPyBudWxsIDogW107XG4gICAgICAgICAgICBzd2l0Y2ggKGdlb21ldHJ5VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRNaWRwb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5DSVJDTEU6XG4gICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRNaWRwb2ludHMoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlID0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdEludGVyaW9yUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXh0U3RhdGUub3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLnB1c2goZmxhdENvb3JkaW5hdGVzWzJdIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OOlxuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJpb3JQb2ludHMgPSBcbiAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW50ZXJpb3JQb2ludHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXh0U3RhdGUub3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocy5wdXNoKGludGVyaW9yUG9pbnRzW2kgKyAyXSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChpbnRlcmlvclBvaW50c1tpXSwgaW50ZXJpb3JQb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0cmlkZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgICAgICBpZiAoZW5kID09PSBiZWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZW9tZXRyeVdpZHRocyAmJlxuICAgICAgICAgICAgICAgIChlbmQgLSBiZWdpbikgLyAyICE9PSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJlZ18xID0gYmVnaW4gLyAyO1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzID0gZ2VvbWV0cnlXaWR0aHMuZmlsdGVyKGZ1bmN0aW9uICh3LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZWVwID0gY29vcmRpbmF0ZXNbKGJlZ18xICsgaSkgKiAyXSA9PT0gZmxhdENvb3JkaW5hdGVzW2kgKiBzdHJpZGVdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlc1soYmVnXzEgKyBpKSAqIDIgKyAxXSA9PT0gZmxhdENvb3JkaW5hdGVzW2kgKiBzdHJpZGUgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFrZWVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAtLWJlZ18xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZWVwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zYXZlVGV4dFN0YXRlc18oKTtcbiAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwgfHwgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZSh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsIHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRGaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsbFN0eWxlKHRoaXMuc3RhdGUsIHRoaXMuY3JlYXRlRmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVGaWxsKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUodGhpcy5zdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVTdHJva2UodGhpcy5zdGF0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgICAgICAvLyBhZGp1c3QgcGFkZGluZyBmb3IgbmVnYXRpdmUgc2NhbGVcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdGV4dFN0YXRlLnBhZGRpbmc7XG4gICAgICAgICAgICBpZiAocGFkZGluZyAhPSBkZWZhdWx0UGFkZGluZyAmJlxuICAgICAgICAgICAgICAgICh0ZXh0U3RhdGUuc2NhbGVbMF0gPCAwIHx8IHRleHRTdGF0ZS5zY2FsZVsxXSA8IDApKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAwID0gdGV4dFN0YXRlLnBhZGRpbmdbMF07XG4gICAgICAgICAgICAgICAgdmFyIHAxID0gdGV4dFN0YXRlLnBhZGRpbmdbMV07XG4gICAgICAgICAgICAgICAgdmFyIHAyID0gdGV4dFN0YXRlLnBhZGRpbmdbMl07XG4gICAgICAgICAgICAgICAgdmFyIHAzID0gdGV4dFN0YXRlLnBhZGRpbmdbM107XG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0ZS5zY2FsZVswXSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcDEgPSAtcDE7XG4gICAgICAgICAgICAgICAgICAgIHAzID0gLXAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXRlLnNjYWxlWzFdIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBwMCA9IC1wMDtcbiAgICAgICAgICAgICAgICAgICAgcDIgPSAtcDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhZGRpbmcgPSBbcDAsIHAxLCBwMiwgcDNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIGltYWdlIGlzIHVua25vd24gYXQgdGhpcyBzdGFnZSBzbyB3ZSBwYXNzIG51bGw7IGl0IHdpbGwgYmUgY29tcHV0ZWQgYXQgcmVuZGVyIHRpbWUuXG4gICAgICAgICAgICAvLyBGb3IgY2xhcml0eSwgd2UgcGFzcyBOYU4gZm9yIG9mZnNldFgsIG9mZnNldFksIHdpZHRoIGFuZCBoZWlnaHQsIHdoaWNoIHdpbGwgYmUgY29tcHV0ZWQgYXRcbiAgICAgICAgICAgIC8vIHJlbmRlciB0aW1lLlxuICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW9fMSA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICAgICAgYmVnaW4sXG4gICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgICAgICAgICAgcGFkZGluZyA9PSBkZWZhdWx0UGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICA/IGRlZmF1bHRQYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgIDogcGFkZGluZy5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwICogcGl4ZWxSYXRpb18xO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCxcbiAgICAgICAgICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dF8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0S2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZUtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy5maWxsS2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRZXyxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocyxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gMSAvIHBpeGVsUmF0aW9fMTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICAgICAgYmVnaW4sXG4gICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyxcbiAgICAgICAgICAgICAgICBbc2NhbGUsIHNjYWxlXSxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLFxuICAgICAgICAgICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UsXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlS2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFhfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFlfLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1RleHRCdWlsZGVyLnByb3RvdHlwZS5zYXZlVGV4dFN0YXRlc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgICAgdmFyIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgICAgIHZhciBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgICAgIGlmIChzdHJva2VTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKCEoc3Ryb2tlS2V5IGluIHRoaXMuc3Ryb2tlU3RhdGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlOiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgbGluZUNhcDogc3Ryb2tlU3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaDogc3Ryb2tlU3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgICAgIGlmICghKHRleHRLZXkgaW4gdGhpcy50ZXh0U3RhdGVzKSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldID0ge1xuICAgICAgICAgICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dFN0YXRlLnRleHRBbGlnbiB8fCBkZWZhdWx0VGV4dEFsaWduLFxuICAgICAgICAgICAgICAgIHRleHRCYXNlbGluZTogdGV4dFN0YXRlLnRleHRCYXNlbGluZSB8fCBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgICAgICAgICAgIHNjYWxlOiB0ZXh0U3RhdGUuc2NhbGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaWxsS2V5ID0gdGhpcy5maWxsS2V5XztcbiAgICAgICAgaWYgKGZpbGxTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKCEoZmlsbEtleSBpbiB0aGlzLmZpbGxTdGF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxsU3RhdGVzW2ZpbGxLZXldID0ge1xuICAgICAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IGZpbGxTdGF0ZS5maWxsU3R5bGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW4gQmVnaW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLmRyYXdDaGFyc18gPSBmdW5jdGlvbiAoYmVnaW4sIGVuZCkge1xuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG4gICAgICAgIHZhciBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgICAgIHZhciB0ZXh0S2V5ID0gdGhpcy50ZXh0S2V5XztcbiAgICAgICAgdmFyIGZpbGxLZXkgPSB0aGlzLmZpbGxLZXlfO1xuICAgICAgICB0aGlzLnNhdmVUZXh0U3RhdGVzXygpO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gVEVYVF9BTElHTlt0ZXh0U3RhdGUudGV4dEJhc2VsaW5lXTtcbiAgICAgICAgdmFyIG9mZnNldFkgPSB0aGlzLnRleHRPZmZzZXRZXyAqIHBpeGVsUmF0aW87XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy50ZXh0XztcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3Ryb2tlU3RhdGVcbiAgICAgICAgICAgID8gKHN0cm9rZVN0YXRlLmxpbmVXaWR0aCAqIE1hdGguYWJzKHRleHRTdGF0ZS5zY2FsZVswXSkpIC8gMlxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlMsXG4gICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIGJhc2VsaW5lLFxuICAgICAgICAgICAgdGV4dFN0YXRlLm92ZXJmbG93LFxuICAgICAgICAgICAgZmlsbEtleSxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSxcbiAgICAgICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgICAgc3Ryb2tlS2V5LFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGggKiBwaXhlbFJhdGlvLFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIHRleHRLZXksXG4gICAgICAgICAgICAxLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTLFxuICAgICAgICAgICAgYmVnaW4sXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICBiYXNlbGluZSxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyxcbiAgICAgICAgICAgIGZpbGxLZXksXG4gICAgICAgICAgICB0ZXh0U3RhdGUubWF4QW5nbGUsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICAgIHN0cm9rZUtleSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIHRleHRLZXksXG4gICAgICAgICAgICAxIC8gcGl4ZWxSYXRpbyxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRfc2hhcmVkRGF0YV0gU2hhcmVkIGRhdGEuXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0U3R5bGUsIG9wdF9zaGFyZWREYXRhKSB7XG4gICAgICAgIHZhciB0ZXh0U3RhdGUsIGZpbGxTdGF0ZSwgc3Ryb2tlU3RhdGU7XG4gICAgICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGV4dEZpbGxTdHlsZSA9IHRleHRTdHlsZS5nZXRGaWxsKCk7XG4gICAgICAgICAgICBpZiAoIXRleHRGaWxsU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBmaWxsU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBmaWxsU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfO1xuICAgICAgICAgICAgICAgIGlmICghZmlsbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxTdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IGZpbGxTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsbFN0YXRlLmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKHRleHRGaWxsU3R5bGUuZ2V0Q29sb3IoKSB8fCBkZWZhdWx0RmlsbFN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICAgICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICAgICAgICAgIGlmICghc3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gc3Ryb2tlU3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IHRleHRTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCkgfHwgZGVmYXVsdExpbmVDYXA7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2ggPSBsaW5lRGFzaCA/IGxpbmVEYXNoLnNsaWNlKCkgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdExpbmVEYXNoT2Zmc2V0IDogbGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKSB8fCBkZWZhdWx0TGluZUpvaW47XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoID1cbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZVdpZHRoIDogbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLm1pdGVyTGltaXQgPVxuICAgICAgICAgICAgICAgICAgICBtaXRlckxpbWl0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWl0ZXJMaW1pdCA6IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZSh0ZXh0U3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKSB8fCBkZWZhdWx0U3Ryb2tlU3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgICAgICAgdmFyIGZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpIHx8IGRlZmF1bHRGb250O1xuICAgICAgICAgICAgcmVnaXN0ZXJGb250KGZvbnQpO1xuICAgICAgICAgICAgdmFyIHRleHRTY2FsZSA9IHRleHRTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUub3ZlcmZsb3cgPSB0ZXh0U3R5bGUuZ2V0T3ZlcmZsb3coKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5mb250ID0gZm9udDtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSA9IHRleHRTdHlsZS5nZXRNYXhBbmdsZSgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnBsYWNlbWVudCA9IHRleHRTdHlsZS5nZXRQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gPSB0ZXh0U3R5bGUuZ2V0VGV4dEFsaWduKCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lID1cbiAgICAgICAgICAgICAgICB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCkgfHwgZGVmYXVsdFRleHRCYXNlbGluZTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCA9IHRleHRTdHlsZS5nZXRCYWNrZ3JvdW5kRmlsbCgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UgPSB0ZXh0U3R5bGUuZ2V0QmFja2dyb3VuZFN0cm9rZSgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnBhZGRpbmcgPSB0ZXh0U3R5bGUuZ2V0UGFkZGluZygpIHx8IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlID0gdGV4dFNjYWxlID09PSB1bmRlZmluZWQgPyBbMSwgMV0gOiB0ZXh0U2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dE9mZnNldFggPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WCgpO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRlV2l0aFZpZXcgPSB0ZXh0U3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRpb24gPSB0ZXh0U3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSB0ZXh0U3R5bGUuZ2V0VGV4dCgpIHx8ICcnO1xuICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSB0ZXh0T2Zmc2V0WCA9PT0gdW5kZWZpbmVkID8gMCA6IHRleHRPZmZzZXRYO1xuICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8gPSB0ZXh0T2Zmc2V0WSA9PT0gdW5kZWZpbmVkID8gMCA6IHRleHRPZmZzZXRZO1xuICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID1cbiAgICAgICAgICAgICAgICB0ZXh0Um90YXRlV2l0aFZpZXcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGV4dFJvdGF0ZVdpdGhWaWV3O1xuICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fID0gdGV4dFJvdGF0aW9uID09PSB1bmRlZmluZWQgPyAwIDogdGV4dFJvdGF0aW9uO1xuICAgICAgICAgICAgdGhpcy5zdHJva2VLZXlfID0gc3Ryb2tlU3RhdGVcbiAgICAgICAgICAgICAgICA/ICh0eXBlb2Ygc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZVxuICAgICAgICAgICAgICAgICAgICA6IGdldFVpZChzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSkpICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ICtcbiAgICAgICAgICAgICAgICAgICAgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0ICtcbiAgICAgICAgICAgICAgICAgICAgJ1snICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2guam9pbigpICtcbiAgICAgICAgICAgICAgICAgICAgJ10nXG4gICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgIHRoaXMudGV4dEtleV8gPVxuICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5mb250ICtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlICtcbiAgICAgICAgICAgICAgICAgICAgKHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgJz8nKSArXG4gICAgICAgICAgICAgICAgICAgICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8ICc/Jyk7XG4gICAgICAgICAgICB0aGlzLmZpbGxLZXlfID0gZmlsbFN0YXRlXG4gICAgICAgICAgICAgICAgPyB0eXBlb2YgZmlsbFN0YXRlLmZpbGxTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IGZpbGxTdGF0ZS5maWxsU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgOiAnfCcgKyBnZXRVaWQoZmlsbFN0YXRlLmZpbGxTdHlsZSlcbiAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSBvcHRfc2hhcmVkRGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNUZXh0QnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzVGV4dEJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0QnVpbGRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvVGV4dFBsYWNlbWVudFxuICovXG4vKipcbiAqIFRleHQgcGxhY2VtZW50LiBPbmUgb2YgYCdwb2ludCdgLCBgJ2xpbmUnYC4gRGVmYXVsdCBpcyBgJ3BvaW50J2AuIE5vdGUgdGhhdFxuICogYCdsaW5lJ2AgcmVxdWlyZXMgdGhlIHVuZGVybHlpbmcgZ2VvbWV0cnkgdG8gYmUgYSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTGluZVN0cmluZ35MaW5lU3RyaW5nfSxcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9Qb2x5Z29uflBvbHlnb259LCB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTXVsdGlMaW5lU3RyaW5nfk11bHRpTGluZVN0cmluZ30gb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9NdWx0aVBvbHlnb25+TXVsdGlQb2x5Z29ufS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVDogJ3BvaW50JyxcbiAgICBMSU5FOiAnbGluZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFBsYWNlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXBcbiAqL1xuaW1wb3J0IEJ1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBJbWFnZUJ1aWxkZXIgZnJvbSAnLi9JbWFnZUJ1aWxkZXIuanMnO1xuaW1wb3J0IExpbmVTdHJpbmdCdWlsZGVyIGZyb20gJy4vTGluZVN0cmluZ0J1aWxkZXIuanMnO1xuaW1wb3J0IFBvbHlnb25CdWlsZGVyIGZyb20gJy4vUG9seWdvbkJ1aWxkZXIuanMnO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gJy4vVGV4dEJ1aWxkZXIuanMnO1xuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGVcIikuZGVmYXVsdCwgdHlwZW9mIEJ1aWxkZXI+fVxuICovXG52YXIgQkFUQ0hfQ09OU1RSVUNUT1JTID0ge1xuICAgICdDaXJjbGUnOiBQb2x5Z29uQnVpbGRlcixcbiAgICAnRGVmYXVsdCc6IEJ1aWxkZXIsXG4gICAgJ0ltYWdlJzogSW1hZ2VCdWlsZGVyLFxuICAgICdMaW5lU3RyaW5nJzogTGluZVN0cmluZ0J1aWxkZXIsXG4gICAgJ1BvbHlnb24nOiBQb2x5Z29uQnVpbGRlcixcbiAgICAnVGV4dCc6IFRleHRCdWlsZGVyLFxufTtcbnZhciBCdWlsZGVyR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4IGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1aWxkZXJHcm91cCh0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG9sZXJhbmNlXyA9IHRvbGVyYW5jZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhFeHRlbnRfID0gbWF4RXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGVcIikuZGVmYXVsdCwgQnVpbGRlcj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idWlsZGVyc0J5WkluZGV4XyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlXCIpLmRlZmF1bHQsIGltcG9ydChcIi4vQnVpbGRlci5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICAgKi9cbiAgICBCdWlsZGVyR3JvdXAucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1aWxkZXJJbnN0cnVjdGlvbnMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgektleSBpbiB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfKSB7XG4gICAgICAgICAgICBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldID0gYnVpbGRlckluc3RydWN0aW9uc1t6S2V5XSB8fCB7fTtcbiAgICAgICAgICAgIHZhciBidWlsZGVycyA9IHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bektleV07XG4gICAgICAgICAgICBmb3IgKHZhciBidWlsZGVyS2V5IGluIGJ1aWxkZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1aWxkZXJJbnN0cnVjdGlvbiA9IGJ1aWxkZXJzW2J1aWxkZXJLZXldLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJJbnN0cnVjdGlvbnNbektleV1bYnVpbGRlcktleV0gPSBidWlsZGVySW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXJJbnN0cnVjdGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaIGluZGV4LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0fSBidWlsZGVyVHlwZSBSZXBsYXkgdHlwZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9WZWN0b3JDb250ZXh0LmpzXCIpLmRlZmF1bHR9IFJlcGxheS5cbiAgICAgKi9cbiAgICBCdWlsZGVyR3JvdXAucHJvdG90eXBlLmdldEJ1aWxkZXIgPSBmdW5jdGlvbiAoekluZGV4LCBidWlsZGVyVHlwZSkge1xuICAgICAgICB2YXIgekluZGV4S2V5ID0gekluZGV4ICE9PSB1bmRlZmluZWQgPyB6SW5kZXgudG9TdHJpbmcoKSA6ICcwJztcbiAgICAgICAgdmFyIHJlcGxheXMgPSB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICAgIGlmIChyZXBsYXlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcGxheXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bekluZGV4S2V5XSA9IHJlcGxheXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcGxheSA9IHJlcGxheXNbYnVpbGRlclR5cGVdO1xuICAgICAgICBpZiAocmVwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEJBVENIX0NPTlNUUlVDVE9SU1tidWlsZGVyVHlwZV07XG4gICAgICAgICAgICByZXBsYXkgPSBuZXcgQ29uc3RydWN0b3IodGhpcy50b2xlcmFuY2VfLCB0aGlzLm1heEV4dGVudF8sIHRoaXMucmVzb2x1dGlvbl8sIHRoaXMucGl4ZWxSYXRpb18pO1xuICAgICAgICAgICAgcmVwbGF5c1tidWlsZGVyVHlwZV0gPSByZXBsYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcGxheTtcbiAgICB9O1xuICAgIHJldHVybiBCdWlsZGVyR3JvdXA7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQnVpbGRlckdyb3VwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVpbGRlckdyb3VwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIENJUkNMRTogJ0NpcmNsZScsXG4gICAgREVGQVVMVDogJ0RlZmF1bHQnLFxuICAgIElNQUdFOiAnSW1hZ2UnLFxuICAgIExJTkVfU1RSSU5HOiAnTGluZVN0cmluZycsXG4gICAgUE9MWUdPTjogJ1BvbHlnb24nLFxuICAgIFRFWFQ6ICdUZXh0Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWlsZGVyVHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3RleHRwYXRoXG4gKi9cbmltcG9ydCB7IGxlcnAgfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbmltcG9ydCB7IHJvdGF0ZSB9IGZyb20gJy4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgUGF0aCB0byBwdXQgdGV4dCBvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgU3RhcnQgb2Zmc2V0IG9mIHRoZSBgZmxhdENvb3JkaW5hdGVzYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kIG9mZnNldCBvZiB0aGUgYGZsYXRDb29yZGluYXRlc2AuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQgdG8gcGxhY2Ugb24gdGhlIHBhdGguXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRNIG0gYWxvbmcgdGhlIHBhdGggd2hlcmUgdGhlIHRleHQgc3RhcnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIE1heCBhbmdsZSBiZXR3ZWVuIGFkamFjZW50IGNoYXJzIGluIHJhZGlhbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgVGhlIHByb2R1Y3Qgb2YgdGhlIHRleHQgc2NhbGUgYW5kIHRoZSBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgc3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBudW1iZXI+KTpudW1iZXJ9IG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCBNZWFzdXJlIGFuZCBjYWNoZSB0ZXh0IHdpZHRoLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIG51bWJlcj59IGNhY2hlIEEgY2FjaGUgb2YgbWVhc3VyZWQgd2lkdGhzLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBmbGF0Q29vcmRpbmF0ZXMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGV4dCBuZWVkcyB0byBiZSByZXZlcnNlZC5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PCo+Pn0gVGhlIHJlc3VsdCBhcnJheSAob3IgbnVsbCBpZiBgbWF4QW5nbGVgIHdhc1xuICogZXhjZWVkZWQpLiBFbnRyaWVzIG9mIHRoZSBhcnJheSBhcmUgeCwgeSwgYW5jaG9yWCwgYW5nbGUsIGNodW5rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHRPblBhdGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0ZXh0LCBzdGFydE0sIG1heEFuZ2xlLCBzY2FsZSwgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLCBmb250LCBjYWNoZSwgcm90YXRpb24pIHtcbiAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIHgxID0gMDtcbiAgICB2YXIgeTEgPSAwO1xuICAgIHZhciBzZWdtZW50TGVuZ3RoID0gMDtcbiAgICB2YXIgc2VnbWVudE0gPSAwO1xuICAgIGZ1bmN0aW9uIGFkdmFuY2UoKSB7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICBzZWdtZW50TSArPSBzZWdtZW50TGVuZ3RoO1xuICAgICAgICBzZWdtZW50TGVuZ3RoID0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gICAgfVxuICAgIGRvIHtcbiAgICAgICAgYWR2YW5jZSgpO1xuICAgIH0gd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSAmJiBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBzdGFydE0pO1xuICAgIHZhciBpbnRlcnBvbGF0ZSA9IHNlZ21lbnRMZW5ndGggPT09IDAgPyAwIDogKHN0YXJ0TSAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gICAgdmFyIGJlZ2luWCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gICAgdmFyIGJlZ2luWSA9IGxlcnAoeTEsIHkyLCBpbnRlcnBvbGF0ZSk7XG4gICAgdmFyIHN0YXJ0T2Zmc2V0ID0gb2Zmc2V0IC0gc3RyaWRlO1xuICAgIHZhciBzdGFydExlbmd0aCA9IHNlZ21lbnRNO1xuICAgIHZhciBlbmRNID0gc3RhcnRNICsgc2NhbGUgKiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dCwgY2FjaGUpO1xuICAgIHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUgJiYgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgZW5kTSkge1xuICAgICAgICBhZHZhbmNlKCk7XG4gICAgfVxuICAgIGludGVycG9sYXRlID0gc2VnbWVudExlbmd0aCA9PT0gMCA/IDAgOiAoZW5kTSAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gICAgdmFyIGVuZFggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICAgIHZhciBlbmRZID0gbGVycCh5MSwgeTIsIGludGVycG9sYXRlKTtcbiAgICAvLyBLZWVwIHRleHQgdXByaWdodFxuICAgIHZhciByZXZlcnNlO1xuICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICB2YXIgZmxhdCA9IFtiZWdpblgsIGJlZ2luWSwgZW5kWCwgZW5kWV07XG4gICAgICAgIHJvdGF0ZShmbGF0LCAwLCA0LCAyLCByb3RhdGlvbiwgZmxhdCwgZmxhdCk7XG4gICAgICAgIHJldmVyc2UgPSBmbGF0WzBdID4gZmxhdFsyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldmVyc2UgPSBiZWdpblggPiBlbmRYO1xuICAgIH1cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgc2luZ2xlU2VnbWVudCA9IHN0YXJ0T2Zmc2V0ICsgc3RyaWRlID09PSBvZmZzZXQ7XG4gICAgb2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gICAgc2VnbWVudExlbmd0aCA9IDA7XG4gICAgc2VnbWVudE0gPSBzdGFydExlbmd0aDtcbiAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHZhciBwcmV2aW91c0FuZ2xlO1xuICAgIC8vIEFsbCBvbiB0aGUgc2FtZSBzZWdtZW50XG4gICAgaWYgKHNpbmdsZVNlZ21lbnQpIHtcbiAgICAgICAgYWR2YW5jZSgpO1xuICAgICAgICBwcmV2aW91c0FuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHByZXZpb3VzQW5nbGUgKz0gcHJldmlvdXNBbmdsZSA+IDAgPyAtUEkgOiBQSTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeCA9IChlbmRYICsgYmVnaW5YKSAvIDI7XG4gICAgICAgIHZhciB5ID0gKGVuZFkgKyBiZWdpblkpIC8gMjtcbiAgICAgICAgcmVzdWx0WzBdID0gW3gsIHksIChlbmRNIC0gc3RhcnRNKSAvIDIsIHByZXZpb3VzQW5nbGUsIHRleHRdO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0ZXh0Lmxlbmd0aDsgaSA8IGlpOykge1xuICAgICAgICBhZHZhbmNlKCk7XG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoeTIgLSB5MSwgeDIgLSB4MSk7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICBhbmdsZSArPSBhbmdsZSA+IDAgPyAtUEkgOiBQSTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlvdXNBbmdsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBhbmdsZSAtIHByZXZpb3VzQW5nbGU7XG4gICAgICAgICAgICBkZWx0YSArPSBkZWx0YSA+IFBJID8gLTIgKiBQSSA6IGRlbHRhIDwgLVBJID8gMiAqIFBJIDogMDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiBtYXhBbmdsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzQW5nbGUgPSBhbmdsZTtcbiAgICAgICAgdmFyIGlTdGFydCA9IGk7XG4gICAgICAgIHZhciBjaGFyTGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gaWkgLSBpIC0gMSA6IGk7XG4gICAgICAgICAgICB2YXIgbGVuID0gc2NhbGUgKiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dFtpbmRleF0sIGNhY2hlKTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyBzdHJpZGUgPCBlbmQgJiZcbiAgICAgICAgICAgICAgICBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBzdGFydE0gKyBjaGFyTGVuZ3RoICsgbGVuIC8gMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhckxlbmd0aCArPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IGlTdGFydCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYXJzID0gcmV2ZXJzZVxuICAgICAgICAgICAgPyB0ZXh0LnN1YnN0cmluZyhpaSAtIGlTdGFydCwgaWkgLSBpKVxuICAgICAgICAgICAgOiB0ZXh0LnN1YnN0cmluZyhpU3RhcnQsIGkpO1xuICAgICAgICBpbnRlcnBvbGF0ZSA9XG4gICAgICAgICAgICBzZWdtZW50TGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgOiAoc3RhcnRNICsgY2hhckxlbmd0aCAvIDIgLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICAgICAgICB2YXIgeCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gICAgICAgIHZhciB5ID0gbGVycCh5MSwgeTIsIGludGVycG9sYXRlKTtcbiAgICAgICAgcmVzdWx0LnB1c2goW3gsIHksIGNoYXJMZW5ndGggLyAyLCBhbmdsZSwgY2hhcnNdKTtcbiAgICAgICAgc3RhcnRNICs9IGNoYXJMZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0cGF0aC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2xlbmd0aFxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTdHJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHZhciBsZW5ndGggPSAwO1xuICAgIGZvciAodmFyIGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgICAgbGVuZ3RoICs9IE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBQZXJpbWV0ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIHZhciBwZXJpbWV0ZXIgPSBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgdmFyIGR4ID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV0gLSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV0gLSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgcGVyaW1ldGVyICs9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgcmV0dXJuIHBlcmltZXRlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlbmd0aC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvclxuICovXG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgeyBURVhUX0FMSUdOIH0gZnJvbSAnLi9UZXh0QnVpbGRlci5qcyc7XG5pbXBvcnQgeyBXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUyB9IGZyb20gJy4uLy4uL2hhcy5qcyc7XG5pbXBvcnQgeyBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSwgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCBzZXRGcm9tQXJyYXkgYXMgdHJhbnNmb3JtU2V0RnJvbUFycmF5LCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFbXB0eSwgY3JlYXRlT3JVcGRhdGUsIGludGVyc2VjdHMgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmYXVsdFBhZGRpbmcsIGRlZmF1bHRUZXh0QmFzZWxpbmUsIGRyYXdJbWFnZU9yTGFiZWwsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGRlZmF1bHRUZXh0QWxpZ24sIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCwgbWVhc3VyZVRleHRIZWlnaHQsIG1lYXN1cmVUZXh0V2lkdGhzLCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBkcmF3VGV4dE9uUGF0aCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90ZXh0cGF0aC5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBsaW5lU3RyaW5nTGVuZ3RoIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L2xlbmd0aC5qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm0yRCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBCQm94XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWCBNaW5pbWFsIHguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWSBNaW5pbWFsIHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WCBNYXhpbWFsIHguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WSBNYXhpbWFsIHlcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgVmFsdWUuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VPckxhYmVsRGltZW5zaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVggRHJhd0ltYWdlWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VZIERyYXdJbWFnZVkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlVyBEcmF3SW1hZ2VXLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZUggRHJhd0ltYWdlSC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpblguXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3JpZ2luWSBPcmlnaW5ZLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBzY2FsZSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7QkJveH0gZGVjbHV0dGVyQm94IERlY2x1dHRlckJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY2FudmFzVHJhbnNmb3JtIENhbnZhc1RyYW5zZm9ybS5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7ezA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgMTogbnVtYmVyLCAyOiBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50LCAzOiBJbWFnZU9yTGFiZWxEaW1lbnNpb25zLCA0OiBudW1iZXIsIDU6IEFycmF5PCo+LCA2OiBBcnJheTwqPn19IFJlcGxheUltYWdlT3JMYWJlbEFyZ3NcbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCk6IFR9IEZlYXR1cmVDYWxsYmFja1xuICovXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG52YXIgdG1wRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbi8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xudmFyIHAxID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbnZhciBwMiA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG52YXIgcDMgPSBbXTtcbi8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xudmFyIHA0ID0gW107XG4vKipcbiAqIEBwYXJhbSB7UmVwbGF5SW1hZ2VPckxhYmVsQXJnc30gcmVwbGF5SW1hZ2VPckxhYmVsQXJncyBBcmd1bWVudHMgdG8gcmVwbGF5SW1hZ2VPckxhYmVsXG4gKiBAcmV0dXJuIHtCQm94fSBEZWNsdXR0ZXIgYmJveC5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVjbHV0dGVyQm94KHJlcGxheUltYWdlT3JMYWJlbEFyZ3MpIHtcbiAgICByZXR1cm4gcmVwbGF5SW1hZ2VPckxhYmVsQXJnc1szXS5kZWNsdXR0ZXJCb3g7XG59XG52YXIgcnRsUmVnRXggPSBuZXcgUmVnRXhwKFxuLyogZXNsaW50LWRpc2FibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbidbJyArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwNTkxKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMDhmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmIxZCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZkZmYpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZlNzApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmZWZjKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDEwODAwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMGZmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxZTgwMCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MWVmZmYpICtcbiAgICAnXSdcbi8qIGVzbGludC1lbmFibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbik7XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWxpZ24gQWxpZ25tZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBUZXh0IGFsaWdubWVudC5cbiAqL1xuZnVuY3Rpb24gaG9yaXpvbnRhbFRleHRBbGlnbih0ZXh0LCBhbGlnbikge1xuICAgIGlmICgoYWxpZ24gPT09ICdzdGFydCcgfHwgYWxpZ24gPT09ICdlbmQnKSAmJiAhcnRsUmVnRXgudGVzdCh0ZXh0KSkge1xuICAgICAgICBhbGlnbiA9IGFsaWduID09PSAnc3RhcnQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuIFRFWFRfQUxJR05bYWxpZ25dO1xufVxudmFyIEV4ZWN1dG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVybGFwcyBUaGUgcmVwbGF5IGNhbiBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSBpbnN0cnVjdGlvbnMgVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeGVjdXRvcihyZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdmVybGFwcyA9IG92ZXJsYXBzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFsaWduRmlsbF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zLmluc3RydWN0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gaW5zdHJ1Y3Rpb25zLmNvb3JkaW5hdGVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZUNhY2hlXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbFN0YXRlcyA9IGluc3RydWN0aW9ucy5maWxsU3RhdGVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHJva2VTdGF0ZXMgPSBpbnN0cnVjdGlvbnMuc3Ryb2tlU3RhdGVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dFN0YXRlcyA9IGluc3RydWN0aW9ucy50ZXh0U3RhdGVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aHNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFiZWxzXyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRleHQgc3R5bGUga2V5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxsS2V5IEZpbGwgc3R5bGUga2V5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgU3Ryb2tlIHN0eWxlIGtleS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx9IExhYmVsLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5jcmVhdGVMYWJlbCA9IGZ1bmN0aW9uICh0ZXh0LCB0ZXh0S2V5LCBmaWxsS2V5LCBzdHJva2VLZXkpIHtcbiAgICAgICAgdmFyIGtleSA9IHRleHQgKyB0ZXh0S2V5ICsgZmlsbEtleSArIHN0cm9rZUtleTtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxzX1trZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbHNfW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gc3Ryb2tlS2V5ID8gdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XSA6IG51bGw7XG4gICAgICAgIHZhciBmaWxsU3RhdGUgPSBmaWxsS2V5ID8gdGhpcy5maWxsU3RhdGVzW2ZpbGxLZXldIDogbnVsbDtcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciBzY2FsZSA9IFtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVswXSAqIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMV0gKiBwaXhlbFJhdGlvLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgYWxpZ24gPSBob3Jpem9udGFsVGV4dEFsaWduKHRleHQsIHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbik7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0cm9rZUtleSAmJiBzdHJva2VTdGF0ZS5saW5lV2lkdGggPyBzdHJva2VTdGF0ZS5saW5lV2lkdGggOiAwO1xuICAgICAgICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdmFyIG51bUxpbmVzID0gbGluZXMubGVuZ3RoO1xuICAgICAgICB2YXIgd2lkdGhzID0gW107XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVUZXh0V2lkdGhzKHRleHRTdGF0ZS5mb250LCBsaW5lcywgd2lkdGhzKTtcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlVGV4dEhlaWdodCh0ZXh0U3RhdGUuZm9udCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBsaW5lSGVpZ2h0ICogbnVtTGluZXM7XG4gICAgICAgIHZhciByZW5kZXJXaWR0aCA9IHdpZHRoICsgc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gW107XG4gICAgICAgIC8vIG1ha2UgY2FudmFzIDIgcGl4ZWxzIHdpZGVyIHRvIGFjY291bnQgZm9yIGl0YWxpYyB0ZXh0IHdpZHRoIG1lYXN1cmVtZW50IGVycm9yc1xuICAgICAgICB2YXIgdyA9IChyZW5kZXJXaWR0aCArIDIpICogc2NhbGVbMF07XG4gICAgICAgIHZhciBoID0gKGhlaWdodCArIHN0cm9rZVdpZHRoKSAqIHNjYWxlWzFdO1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbH0gKi9cbiAgICAgICAgdmFyIGxhYmVsID0ge1xuICAgICAgICAgICAgd2lkdGg6IHcgPCAwID8gTWF0aC5mbG9vcih3KSA6IE1hdGguY2VpbCh3KSxcbiAgICAgICAgICAgIGhlaWdodDogaCA8IDAgPyBNYXRoLmZsb29yKGgpIDogTWF0aC5jZWlsKGgpLFxuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9uczogY29udGV4dEluc3RydWN0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHNjYWxlWzBdICE9IDEgfHwgc2NhbGVbMV0gIT0gMSkge1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzY2FsZScsIHNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2ZvbnQnLCB0ZXh0U3RhdGUuZm9udCk7XG4gICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnc3Ryb2tlU3R5bGUnLCBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSk7XG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZUNhcCcsIHN0cm9rZVN0YXRlLmxpbmVDYXApO1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lSm9pbicsIHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbWl0ZXJMaW1pdCcsIHN0cm9rZVN0YXRlLm1pdGVyTGltaXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgQ29udGV4dCA9IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTID8gT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgICAgICAgICAgaWYgKENvbnRleHQucHJvdG90eXBlLnNldExpbmVEYXNoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzZXRMaW5lRGFzaCcsIFtzdHJva2VTdGF0ZS5saW5lRGFzaF0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZURhc2hPZmZzZXQnLCBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnZmlsbFN0eWxlJywgZmlsbFN0YXRlLmZpbGxTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCd0ZXh0QmFzZWxpbmUnLCAnbWlkZGxlJyk7XG4gICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgndGV4dEFsaWduJywgJ2NlbnRlcicpO1xuICAgICAgICB2YXIgbGVmdFJpZ2h0ID0gMC41IC0gYWxpZ247XG4gICAgICAgIHZhciB4ID0gYWxpZ24gKiByZW5kZXJXaWR0aCArIGxlZnRSaWdodCAqIHN0cm9rZVdpZHRoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bUxpbmVzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3N0cm9rZVRleHQnLCBbXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB4ICsgbGVmdFJpZ2h0ICogd2lkdGhzW2ldLFxuICAgICAgICAgICAgICAgICAgICAwLjUgKiAoc3Ryb2tlV2lkdGggKyBsaW5lSGVpZ2h0KSArIGkgKiBsaW5lSGVpZ2h0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnZmlsbFRleHQnLCBbXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB4ICsgbGVmdFJpZ2h0ICogd2lkdGhzW2ldLFxuICAgICAgICAgICAgICAgICAgICAwLjUgKiAoc3Ryb2tlV2lkdGggKyBsaW5lSGVpZ2h0KSArIGkgKiBsaW5lSGVpZ2h0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFiZWxzX1trZXldID0gbGFiZWw7XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAxIDFzdCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAyIDJuZCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAzIDNyZCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHA0IDR0aCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gc3Ryb2tlSW5zdHJ1Y3Rpb24gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5yZXBsYXlUZXh0QmFja2dyb3VuZF8gPSBmdW5jdGlvbiAoY29udGV4dCwgcDEsIHAyLCBwMywgcDQsIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8uYXBwbHkoY29udGV4dCwgcDEpO1xuICAgICAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwMik7XG4gICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAzKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDQpO1xuICAgICAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwMSk7XG4gICAgICAgIGlmIChmaWxsSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWxpZ25GaWxsXyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGZpbGxJbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2VJbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZV8oY29udGV4dCwgXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoc3Ryb2tlSW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNoZWV0V2lkdGggV2lkdGggb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2hlZXRIZWlnaHQgSGVpZ2h0IG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWSBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWCBBbmNob3IgWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWSBBbmNob3IgWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCB0byBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHBhZGRpbmcgUGFkZGluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpbGxTdHJva2UgQmFja2dyb3VuZCBmaWxsIG9yIHN0cm9rZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtJbWFnZU9yTGFiZWxEaW1lbnNpb25zfSBEaW1lbnNpb25zIGZvciBwb3NpdGlvbmluZyBhbmQgZGVjbHV0dGVyaW5nIHRoZSBpbWFnZSBvciBsYWJlbC5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18gPSBmdW5jdGlvbiAoc2hlZXRXaWR0aCwgc2hlZXRIZWlnaHQsIGNlbnRlclgsIGNlbnRlclksIHdpZHRoLCBoZWlnaHQsIGFuY2hvclgsIGFuY2hvclksIG9yaWdpblgsIG9yaWdpblksIHJvdGF0aW9uLCBzY2FsZSwgc25hcFRvUGl4ZWwsIHBhZGRpbmcsIGZpbGxTdHJva2UsIGZlYXR1cmUpIHtcbiAgICAgICAgYW5jaG9yWCAqPSBzY2FsZVswXTtcbiAgICAgICAgYW5jaG9yWSAqPSBzY2FsZVsxXTtcbiAgICAgICAgdmFyIHggPSBjZW50ZXJYIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIHkgPSBjZW50ZXJZIC0gYW5jaG9yWTtcbiAgICAgICAgdmFyIHcgPSB3aWR0aCArIG9yaWdpblggPiBzaGVldFdpZHRoID8gc2hlZXRXaWR0aCAtIG9yaWdpblggOiB3aWR0aDtcbiAgICAgICAgdmFyIGggPSBoZWlnaHQgKyBvcmlnaW5ZID4gc2hlZXRIZWlnaHQgPyBzaGVldEhlaWdodCAtIG9yaWdpblkgOiBoZWlnaHQ7XG4gICAgICAgIHZhciBib3hXID0gcGFkZGluZ1szXSArIHcgKiBzY2FsZVswXSArIHBhZGRpbmdbMV07XG4gICAgICAgIHZhciBib3hIID0gcGFkZGluZ1swXSArIGggKiBzY2FsZVsxXSArIHBhZGRpbmdbMl07XG4gICAgICAgIHZhciBib3hYID0geCAtIHBhZGRpbmdbM107XG4gICAgICAgIHZhciBib3hZID0geSAtIHBhZGRpbmdbMF07XG4gICAgICAgIGlmIChmaWxsU3Ryb2tlIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICBwMVswXSA9IGJveFg7XG4gICAgICAgICAgICBwNFswXSA9IGJveFg7XG4gICAgICAgICAgICBwMVsxXSA9IGJveFk7XG4gICAgICAgICAgICBwMlsxXSA9IGJveFk7XG4gICAgICAgICAgICBwMlswXSA9IGJveFggKyBib3hXO1xuICAgICAgICAgICAgcDNbMF0gPSBwMlswXTtcbiAgICAgICAgICAgIHAzWzFdID0gYm94WSArIGJveEg7XG4gICAgICAgICAgICBwNFsxXSA9IHAzWzFdO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2Zvcm07XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybShjcmVhdGVUcmFuc2Zvcm0oKSwgY2VudGVyWCwgY2VudGVyWSwgMSwgMSwgcm90YXRpb24sIC1jZW50ZXJYLCAtY2VudGVyWSk7XG4gICAgICAgICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAxKTtcbiAgICAgICAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDIpO1xuICAgICAgICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMyk7XG4gICAgICAgICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHA0KTtcbiAgICAgICAgICAgIGNyZWF0ZU9yVXBkYXRlKE1hdGgubWluKHAxWzBdLCBwMlswXSwgcDNbMF0sIHA0WzBdKSwgTWF0aC5taW4ocDFbMV0sIHAyWzFdLCBwM1sxXSwgcDRbMV0pLCBNYXRoLm1heChwMVswXSwgcDJbMF0sIHAzWzBdLCBwNFswXSksIE1hdGgubWF4KHAxWzFdLCBwMlsxXSwgcDNbMV0sIHA0WzFdKSwgdG1wRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNyZWF0ZU9yVXBkYXRlKE1hdGgubWluKGJveFgsIGJveFggKyBib3hXKSwgTWF0aC5taW4oYm94WSwgYm94WSArIGJveEgpLCBNYXRoLm1heChib3hYLCBib3hYICsgYm94VyksIE1hdGgubWF4KGJveFksIGJveFkgKyBib3hIKSwgdG1wRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc25hcFRvUGl4ZWwpIHtcbiAgICAgICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICAgICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRyYXdJbWFnZVg6IHgsXG4gICAgICAgICAgICBkcmF3SW1hZ2VZOiB5LFxuICAgICAgICAgICAgZHJhd0ltYWdlVzogdyxcbiAgICAgICAgICAgIGRyYXdJbWFnZUg6IGgsXG4gICAgICAgICAgICBvcmlnaW5YOiBvcmlnaW5YLFxuICAgICAgICAgICAgb3JpZ2luWTogb3JpZ2luWSxcbiAgICAgICAgICAgIGRlY2x1dHRlckJveDoge1xuICAgICAgICAgICAgICAgIG1pblg6IHRtcEV4dGVudFswXSxcbiAgICAgICAgICAgICAgICBtaW5ZOiB0bXBFeHRlbnRbMV0sXG4gICAgICAgICAgICAgICAgbWF4WDogdG1wRXh0ZW50WzJdLFxuICAgICAgICAgICAgICAgIG1heFk6IHRtcEV4dGVudFszXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmVhdHVyZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW52YXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2VPckxhYmVsIEltYWdlLlxuICAgICAqIEBwYXJhbSB7SW1hZ2VPckxhYmVsRGltZW5zaW9uc30gZGltZW5zaW9ucyBEaW1lbnNpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gc3Ryb2tlSW5zdHJ1Y3Rpb24gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBpbWFnZSBvciBsYWJlbCB3YXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLnJlcGxheUltYWdlT3JMYWJlbF8gPSBmdW5jdGlvbiAoY29udGV4dCwgY29udGV4dFNjYWxlLCBpbWFnZU9yTGFiZWwsIGRpbWVuc2lvbnMsIG9wYWNpdHksIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgdmFyIGZpbGxTdHJva2UgPSAhIShmaWxsSW5zdHJ1Y3Rpb24gfHwgc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB2YXIgYm94ID0gZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3g7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgdmFyIHN0cm9rZVBhZGRpbmcgPSBzdHJva2VJbnN0cnVjdGlvblxuICAgICAgICAgICAgPyAoc3Ryb2tlSW5zdHJ1Y3Rpb25bMl0gKiBkaW1lbnNpb25zLnNjYWxlWzBdKSAvIDJcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgdmFyIGludGVyc2VjdHMgPSBib3gubWluWCAtIHN0cm9rZVBhZGRpbmcgPD0gY2FudmFzLndpZHRoIC8gY29udGV4dFNjYWxlICYmXG4gICAgICAgICAgICBib3gubWF4WCArIHN0cm9rZVBhZGRpbmcgPj0gMCAmJlxuICAgICAgICAgICAgYm94Lm1pblkgLSBzdHJva2VQYWRkaW5nIDw9IGNhbnZhcy5oZWlnaHQgLyBjb250ZXh0U2NhbGUgJiZcbiAgICAgICAgICAgIGJveC5tYXhZICsgc3Ryb2tlUGFkZGluZyA+PSAwO1xuICAgICAgICBpZiAoaW50ZXJzZWN0cykge1xuICAgICAgICAgICAgaWYgKGZpbGxTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGxheVRleHRCYWNrZ3JvdW5kXyhjb250ZXh0LCBwMSwgcDIsIHAzLCBwNCwgXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGZpbGxJbnN0cnVjdGlvbiksIFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChzdHJva2VJbnN0cnVjdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0ltYWdlT3JMYWJlbChjb250ZXh0LCBkaW1lbnNpb25zLmNhbnZhc1RyYW5zZm9ybSwgb3BhY2l0eSwgaW1hZ2VPckxhYmVsLCBkaW1lbnNpb25zLm9yaWdpblgsIGRpbWVuc2lvbnMub3JpZ2luWSwgZGltZW5zaW9ucy5kcmF3SW1hZ2VXLCBkaW1lbnNpb25zLmRyYXdJbWFnZUgsIGRpbWVuc2lvbnMuZHJhd0ltYWdlWCwgZGltZW5zaW9ucy5kcmF3SW1hZ2VZLCBkaW1lbnNpb25zLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZmlsbF8gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luXzEgPSBhcHBseVRyYW5zZm9ybSh0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXywgWzAsIDBdKTtcbiAgICAgICAgICAgIHZhciByZXBlYXRTaXplID0gNTEyICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShvcmlnaW5fMVswXSAlIHJlcGVhdFNpemUsIG9yaWdpbl8xWzFdICUgcmVwZWF0U2l6ZSk7XG4gICAgICAgICAgICBjb250ZXh0LnJvdGF0ZSh0aGlzLnZpZXdSb3RhdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IGluc3RydWN0aW9uIEluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5zZXRTdHJva2VTdHlsZV8gPSBmdW5jdGlvbiAoY29udGV4dCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29udGV4dFsnc3Ryb2tlU3R5bGUnXSA9XG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IC8qKiBAdHlwZSB7Q2FudmFzTGluZUNhcH0gKi8gKGluc3RydWN0aW9uWzNdKTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IC8qKiBAdHlwZSB7Q2FudmFzTGluZUpvaW59ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICBpZiAoY29udGV4dC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaCgvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChpbnN0cnVjdGlvbls2XSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRLZXkgVGhlIGtleSBvZiB0aGUgdGV4dCBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3Ryb2tlS2V5IFRoZSBrZXkgZm9yIHRoZSBzdHJva2Ugc3RhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgVGhlIGtleSBmb3IgdGhlIGZpbGwgc3RhdGUuXG4gICAgICogQHJldHVybiB7e2xhYmVsOiBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWwsIGFuY2hvclg6IG51bWJlciwgYW5jaG9yWTogbnVtYmVyfX0gVGhlIHRleHQgaW1hZ2UgYW5kIGl0cyBhbmNob3IuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8gPSBmdW5jdGlvbiAodGV4dCwgdGV4dEtleSwgc3Ryb2tlS2V5LCBmaWxsS2V5KSB7XG4gICAgICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV07XG4gICAgICAgIHZhciBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwodGV4dCwgdGV4dEtleSwgZmlsbEtleSwgc3Ryb2tlS2V5KTtcbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XTtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciBhbGlnbiA9IGhvcml6b250YWxUZXh0QWxpZ24odGV4dCwgdGV4dFN0YXRlLnRleHRBbGlnbiB8fCBkZWZhdWx0VGV4dEFsaWduKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gVEVYVF9BTElHTlt0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8IGRlZmF1bHRUZXh0QmFzZWxpbmVdO1xuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHJva2VTdGF0ZSAmJiBzdHJva2VTdGF0ZS5saW5lV2lkdGggPyBzdHJva2VTdGF0ZS5saW5lV2lkdGggOiAwO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIDIgcGl4ZWxzIHdlIGFkZGVkIGluIGNyZWF0ZUxhYmVsKCkgZm9yIHRoZSBhbmNob3JcbiAgICAgICAgdmFyIHdpZHRoID0gbGFiZWwud2lkdGggLyBwaXhlbFJhdGlvIC0gMiAqIHRleHRTdGF0ZS5zY2FsZVswXTtcbiAgICAgICAgdmFyIGFuY2hvclggPSBhbGlnbiAqIHdpZHRoICsgMiAqICgwLjUgLSBhbGlnbikgKiBzdHJva2VXaWR0aDtcbiAgICAgICAgdmFyIGFuY2hvclkgPSAoYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQpIC8gcGl4ZWxSYXRpbyArXG4gICAgICAgICAgICAyICogKDAuNSAtIGJhc2VsaW5lKSAqIHN0cm9rZVdpZHRoO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgYW5jaG9yWDogYW5jaG9yWCxcbiAgICAgICAgICAgIGFuY2hvclk6IGFuY2hvclksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIEluc3RydWN0aW9ucyBhcnJheS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge0ZlYXR1cmVDYWxsYmFjazxUPn0gW29wdF9mZWF0dXJlQ2FsbGJhY2tdIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBbb3B0X2hpdEV4dGVudF0gT25seSBjaGVja1xuICAgICAqICAgICBmZWF0dXJlcyB0aGF0IGludGVyc2VjdCB0aGlzIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyVHJlZV0gRGVjbHV0dGVyIHRyZWUuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5leGVjdXRlXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBjb250ZXh0U2NhbGUsIHRyYW5zZm9ybSwgaW5zdHJ1Y3Rpb25zLCBzbmFwVG9QaXhlbCwgb3B0X2ZlYXR1cmVDYWxsYmFjaywgb3B0X2hpdEV4dGVudCwgb3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcztcbiAgICAgICAgaWYgKHRoaXMucGl4ZWxDb29yZGluYXRlc18gJiYgZXF1YWxzKHRyYW5zZm9ybSwgdGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8pKSB7XG4gICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzID0gdGhpcy5waXhlbENvb3JkaW5hdGVzXztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5waXhlbENvb3JkaW5hdGVzXykge1xuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc18gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRCh0aGlzLmNvb3JkaW5hdGVzLCAwLCB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCwgMiwgdHJhbnNmb3JtLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybVNldEZyb21BcnJheSh0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXywgdHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IDA7IC8vIGluc3RydWN0aW9uIGluZGV4XG4gICAgICAgIHZhciBpaSA9IGluc3RydWN0aW9ucy5sZW5ndGg7IC8vIGVuZCBvZiBpbnN0cnVjdGlvbnNcbiAgICAgICAgdmFyIGQgPSAwOyAvLyBkYXRhIGluZGV4XG4gICAgICAgIHZhciBkZDsgLy8gZW5kIG9mIHBlci1pbnN0cnVjdGlvbiBkYXRhXG4gICAgICAgIHZhciBhbmNob3JYLCBhbmNob3JZLCBwcmV2WCwgcHJldlksIHJvdW5kWCwgcm91bmRZLCBpbWFnZSwgdGV4dCwgdGV4dEtleSwgc3Ryb2tlS2V5LCBmaWxsS2V5O1xuICAgICAgICB2YXIgcGVuZGluZ0ZpbGwgPSAwO1xuICAgICAgICB2YXIgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgIHZhciBsYXN0RmlsbEluc3RydWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RTdHJva2VJbnN0cnVjdGlvbiA9IG51bGw7XG4gICAgICAgIHZhciBjb29yZGluYXRlQ2FjaGUgPSB0aGlzLmNvb3JkaW5hdGVDYWNoZV87XG4gICAgICAgIHZhciB2aWV3Um90YXRpb24gPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgICAgIHZhciB2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtID0gTWF0aC5yb3VuZChNYXRoLmF0YW4yKC10cmFuc2Zvcm1bMV0sIHRyYW5zZm9ybVswXSkgKiAxZTEyKSAvIDFlMTI7XG4gICAgICAgIHZhciBzdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyLmpzXCIpLlN0YXRlfSAqLyAoe1xuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgIHJvdGF0aW9uOiB2aWV3Um90YXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXaGVuIHRoZSBiYXRjaCBzaXplIGdldHMgdG9vIGJpZywgcGVyZm9ybWFuY2UgZGVjcmVhc2VzLiAyMDAgaXMgYSBnb29kXG4gICAgICAgIC8vIGJhbGFuY2UgYmV0d2VlbiBiYXRjaCBzaXplIGFuZCBudW1iZXIgb2YgZmlsbC9zdHJva2UgaW5zdHJ1Y3Rpb25zLlxuICAgICAgICB2YXIgYmF0Y2hTaXplID0gdGhpcy5pbnN0cnVjdGlvbnMgIT0gaW5zdHJ1Y3Rpb25zIHx8IHRoaXMub3ZlcmxhcHMgPyAwIDogMjAwO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyBmZWF0dXJlO1xuICAgICAgICB2YXIgeCwgeSwgY3VycmVudEdlb21ldHJ5O1xuICAgICAgICB3aGlsZSAoaSA8IGlpKSB7XG4gICAgICAgICAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaV07XG4gICAgICAgICAgICB2YXIgdHlwZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnN0cnVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bMF0pO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWTpcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdlb21ldHJ5ID0gaW5zdHJ1Y3Rpb25bM107XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmVhdHVyZS5nZXRHZW9tZXRyeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0X2hpdEV4dGVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhaW50ZXJzZWN0cyhvcHRfaGl0RXh0ZW50LCBjdXJyZW50R2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSkgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdGaWxsID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0ZpbGwgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nRmlsbCAmJiAhcGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZYID0gTmFOO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlkgPSBOYU47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNJUkNMRTpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDEgPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTEgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgyID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHggPSB4MiAtIHgxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHkgPSB5MiAtIHkxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxICsgciwgeTEpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyh4MSwgeTEsIHIsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNMT1NFX1BBVEg6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT006XG4gICAgICAgICAgICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgZGQgPSBpbnN0cnVjdGlvblsyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gXG4gICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBpbnN0cnVjdGlvbls0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gaW5zdHJ1Y3Rpb24ubGVuZ3RoID09IDYgPyBpbnN0cnVjdGlvbls1XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGkgaW4gY29vcmRpbmF0ZUNhY2hlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZUNhY2hlW2ldID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkcyA9IGNvb3JkaW5hdGVDYWNoZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbihwaXhlbENvb3JkaW5hdGVzLCBkLCBkZCwgMiwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkc1swXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHNbMV0gPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5sZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyKGNvb3Jkcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRTpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gKi8gKGluc3RydWN0aW9uWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyBpbiBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpblggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpblkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzldKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdGF0ZVdpdGhWaWV3ID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdGF0aW9uID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gKi8gKGluc3RydWN0aW9uWzEyXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPSBcbiAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi8gKGluc3RydWN0aW9uWzE0XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2UgJiYgaW5zdHJ1Y3Rpb24ubGVuZ3RoID49IDE5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgbGFiZWwgaW1hZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxOF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMjBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzIxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxXaXRoQW5jaG9yID0gdGhpcy5kcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfKHRleHQsIHRleHRLZXksIHN0cm9rZUtleSwgZmlsbEtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IGxhYmVsV2l0aEFuY2hvci5sYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzNdID0gaW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dE9mZnNldFggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzIyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JYID0gKGxhYmVsV2l0aEFuY2hvci5hbmNob3JYIC0gdGV4dE9mZnNldFgpICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNF0gPSBhbmNob3JYO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWSA9IChsYWJlbFdpdGhBbmNob3IuYW5jaG9yWSAtIHRleHRPZmZzZXRZKSAqIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzVdID0gYW5jaG9yWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzZdID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzEzXSA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeVdpZHRocyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocyA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHZvaWQgMCwgYmFja2dyb3VuZEZpbGwgPSB2b2lkIDAsIGJhY2tncm91bmRTdHJva2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbi5sZW5ndGggPiAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZyA9IC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGluc3RydWN0aW9uWzE1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGluc3RydWN0aW9uWzE2XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU3Ryb2tlID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTddKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcgPSBkZWZhdWx0UGFkZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWxsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdGF0ZVdpdGhWaWV3ICYmIHZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbnZhcyBpcyBleHBlY3RlZCB0byBiZSByb3RhdGVkIHRvIHJldmVyc2UgdmlldyByb3RhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uICs9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghcm90YXRlV2l0aFZpZXcgJiYgIXZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbnZhcyBpcyBub3Qgcm90YXRlZCwgaW1hZ2VzIG5lZWQgdG8gYmUgcm90YXRlZCBiYWNrIHRvIGJlIG5vcnRoLXVwLlxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gLT0gdmlld1JvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGQgPCBkZDsgZCArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnlXaWR0aHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRoc1t3aWR0aEluZGV4KytdIDwgd2lkdGggLyB0aGlzLnBpeGVsUmF0aW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0LCBwaXhlbENvb3JkaW5hdGVzW2RdLCBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXSwgd2lkdGgsIGhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgb3JpZ2luWCwgb3JpZ2luWSwgcm90YXRpb24sIHNjYWxlLCBzbmFwVG9QaXhlbCwgcGFkZGluZywgYmFja2dyb3VuZEZpbGwgfHwgYmFja2dyb3VuZFN0cm9rZSwgZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge1JlcGxheUltYWdlT3JMYWJlbEFyZ3N9ICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAobGFzdEZpbGxJbnN0cnVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAobGFzdFN0cm9rZUluc3RydWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlQXJncyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZURlY2x1dHRlckJveCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSAmJiBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZGQgLSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgdGhlIGltYWdlIGZvciBhbiBpbWFnZSt0ZXh0IGNvbWJpbmF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2luZGV4XSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlbmRlciBhbnl0aGluZyBmb3Igbm93LCB3YWl0IGZvciB0aGUgdGV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlQXJncyA9IGRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURlY2x1dHRlckJveCA9IGdldERlY2x1dHRlckJveChpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhpbWFnZURlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgaW1hZ2UgYW5kIHRleHQgZm9yIGFuIGltYWdlK3RleHQgY29tYmluYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmluc2VydChpbWFnZURlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgaW1hZ2UgYmVmb3JlIHdlIHJlbmRlciB0aGUgdGV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgaW1hZ2VBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmluc2VydChkaW1lbnNpb25zLmRlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZWdpbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlbGluZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3ZlcmZsb3cgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzRdKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4QW5nbGUgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lYXN1cmVQaXhlbFJhdGlvID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls4XSk7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzExXSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHRLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzEyXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvU2NhbGUgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEzXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEzXSksXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0U2NhbGUgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMF0gKiBtZWFzdXJlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIG1lYXN1cmVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVkV2lkdGhzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9udCBpbiB0aGlzLndpZHRoc18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZFdpZHRocyA9IHRoaXMud2lkdGhzX1tmb250XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZFdpZHRocyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aHNfW2ZvbnRdID0gY2FjaGVkV2lkdGhzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoTGVuZ3RoID0gbGluZVN0cmluZ0xlbmd0aChwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRMZW5ndGggPSBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pICpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZWRXaWR0aHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3cgfHwgdGV4dExlbmd0aCA8PSBwYXRoTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dEFsaWduID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldLnRleHRBbGlnbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydE0gPSAocGF0aExlbmd0aCAtIHRleHRMZW5ndGgpICogVEVYVF9BTElHTlt0ZXh0QWxpZ25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gZHJhd1RleHRPblBhdGgocGl4ZWxDb29yZGluYXRlcywgYmVnaW4sIGVuZCwgMiwgdGV4dCwgc3RhcnRNLCBtYXhBbmdsZSwgTWF0aC5hYnModGV4dFNjYWxlWzBdKSwgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLCBmb250LCBjYWNoZWRXaWR0aHMsIHZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0gPyAwIDogdGhpcy52aWV3Um90YXRpb25fKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdDaGFyczogaWYgKHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxSZXBsYXlJbWFnZU9yTGFiZWxBcmdzPn0gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGF5SW1hZ2VPckxhYmVsQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdm9pZCAwLCBjYyA9IHZvaWQgMCwgY2hhcnMgPSB2b2lkIDAsIGxhYmVsID0gdm9pZCAwLCBwYXJ0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGNoYXJzLCB0ZXh0S2V5LCAnJywgc3Ryb2tlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGV4dFNjYWxlWzBdIDwgMCA/IC1zdHJva2VXaWR0aCA6IHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VsaW5lICogbGFiZWwuaGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCgwLjUgLSBiYXNlbGluZSkgKiAyICogc3Ryb2tlV2lkdGggKiB0ZXh0U2NhbGVbMV0pIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTY2FsZVswXSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18obGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgcGFydFswXSwgcGFydFsxXSwgbGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgMCwgMCwgcGFydFszXSwgcGl4ZWxSYXRpb1NjYWxlLCBmYWxzZSwgZGVmYXVsdFBhZGRpbmcsIGZhbHNlLCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoYyA9IDAsIGNjID0gcGFydHMubGVuZ3RoOyBjIDwgY2M7ICsrYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2NdOyAvLyB4LCB5LCBhbmNob3JYLCByb3RhdGlvbiwgY2h1bmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXJ0WzRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbChjaGFycywgdGV4dEtleSwgZmlsbEtleSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JZID0gYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgLSBvZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfKGxhYmVsLndpZHRoLCBsYWJlbC5oZWlnaHQsIHBhcnRbMF0sIHBhcnRbMV0sIGxhYmVsLndpZHRoLCBsYWJlbC5oZWlnaHQsIGFuY2hvclgsIGFuY2hvclksIDAsIDAsIHBhcnRbM10sIHBpeGVsUmF0aW9TY2FsZSwgZmFsc2UsIGRlZmF1bHRQYWRkaW5nLCBmYWxzZSwgZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBkcmF3Q2hhcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYXlJbWFnZU9yTGFiZWxBcmdzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUubG9hZChyZXBsYXlJbWFnZU9yTGFiZWxBcmdzLm1hcChnZXREZWNsdXR0ZXJCb3gpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMCwgaWlfMSA9IHJlcGxheUltYWdlT3JMYWJlbEFyZ3MubGVuZ3RoOyBpXzEgPCBpaV8xOyArK2lfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgcmVwbGF5SW1hZ2VPckxhYmVsQXJnc1tpXzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkVORF9HRU9NRVRSWTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9mZWF0dXJlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRfZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGN1cnJlbnRHZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRklMTDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0ZpbGwrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLk1PVkVfVE9fTElORV9UTzpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgICAgICAgICAgICB4ID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICByb3VuZFggPSAoeCArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICByb3VuZFkgPSAoeSArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChkICs9IDI7IGQgPCBkZDsgZCArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3VuZFkgPSAoeSArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPT0gZGQgLSAyIHx8IHJvdW5kWCAhPT0gcHJldlggfHwgcm91bmRZICE9PSBwcmV2WSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZZID0gcm91bmRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRTpcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZpbGxJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsaWduRmlsbF8gPSBpbnN0cnVjdGlvblsyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdGaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0ZpbGwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEU6XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTdHJva2VJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Ryb2tlU3R5bGVfKGNvbnRleHQsIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChpbnN0cnVjdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU1RST0tFOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3Ryb2tlKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgKytpOyAvLyBjb25zdW1lIHRoZSBpbnN0cnVjdGlvbiBhbnl3YXksIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlbmRpbmdGaWxsKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyVHJlZV0gRGVjbHV0dGVyIHRyZWUuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoY29udGV4dCwgY29udGV4dFNjYWxlLCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgc25hcFRvUGl4ZWwsIG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgdGhpcy5leGVjdXRlXyhjb250ZXh0LCBjb250ZXh0U2NhbGUsIHRyYW5zZm9ybSwgdGhpcy5pbnN0cnVjdGlvbnMsIHNuYXBUb1BpeGVsLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0X2RlY2x1dHRlclRyZWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZUNhbGxiYWNrPFQ+fSBbb3B0X2ZlYXR1cmVDYWxsYmFja10gRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfaGl0RXh0ZW50XSBPbmx5IGNoZWNrXG4gICAgICogICAgIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IHRoaXMgZXh0ZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZXhlY3V0ZUhpdERldGVjdGlvbiA9IGZ1bmN0aW9uIChjb250ZXh0LCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgb3B0X2ZlYXR1cmVDYWxsYmFjaywgb3B0X2hpdEV4dGVudCkge1xuICAgICAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVfKGNvbnRleHQsIDEsIHRyYW5zZm9ybSwgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsIHRydWUsIG9wdF9mZWF0dXJlQ2FsbGJhY2ssIG9wdF9oaXRFeHRlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIEV4ZWN1dG9yO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEV4ZWN1dG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXhlY3V0b3IuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cFxuICovXG5pbXBvcnQgQnVpbGRlclR5cGUgZnJvbSAnLi9CdWlsZGVyVHlwZS5qcyc7XG5pbXBvcnQgRXhlY3V0b3IgZnJvbSAnLi9FeGVjdXRvci5qcyc7XG5pbXBvcnQgeyBidWZmZXIsIGNyZWF0ZUVtcHR5LCBleHRlbmRDb29yZGluYXRlIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi8uLi9vYmouanMnO1xuaW1wb3J0IHsgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdD59XG4gKi9cbnZhciBPUkRFUiA9IFtcbiAgICBCdWlsZGVyVHlwZS5QT0xZR09OLFxuICAgIEJ1aWxkZXJUeXBlLkNJUkNMRSxcbiAgICBCdWlsZGVyVHlwZS5MSU5FX1NUUklORyxcbiAgICBCdWlsZGVyVHlwZS5JTUFHRSxcbiAgICBCdWlsZGVyVHlwZS5URVhULFxuICAgIEJ1aWxkZXJUeXBlLkRFRkFVTFQsXG5dO1xudmFyIEV4ZWN1dG9yR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4IGV4dGVudCBmb3IgY2xpcHBpbmcuIFdoZW4gYVxuICAgICAqIGBtYXhFeHRlbnRgIHdhcyBzZXQgb24gdGhlIEJ1aWxkZXIgZm9yIHRoaXMgZXhlY3V0b3IgZ3JvdXAsIHRoZSBzYW1lIGBtYXhFeHRlbnRgXG4gICAgICogc2hvdWxkIGJlIHNldCBoZXJlLCB1bmxlc3MgdGhlIHRhcmdldCBjb250ZXh0IGRvZXMgbm90IGV4Y2VlZCB0aGF0IGV4dGVudCAod2hpY2hcbiAgICAgKiBjYW4gYmUgdGhlIGNhc2Ugd2hlbiByZW5kZXJpbmcgdG8gdGlsZXMpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVybGFwcyBUaGUgZXhlY3V0b3IgZ3JvdXAgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBhbGxJbnN0cnVjdGlvbnNcbiAgICAgKiBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9yZW5kZXJCdWZmZXJdIE9wdGlvbmFsIHJlbmRlcmluZyBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXhlY3V0b3JHcm91cChtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBhbGxJbnN0cnVjdGlvbnMsIG9wdF9yZW5kZXJCdWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhFeHRlbnRfID0gbWF4RXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm92ZXJsYXBzXyA9IG92ZXJsYXBzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlckJ1ZmZlcl8gPSBvcHRfcmVuZGVyQnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi9FeGVjdXRvclwiKS5kZWZhdWx0Pj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4XyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvblRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5jcmVhdGVFeGVjdXRvcnNfKGFsbEluc3RydWN0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbiAoY29udGV4dCwgdHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBmbGF0Q2xpcENvb3JkcyA9IHRoaXMuZ2V0Q2xpcENvb3Jkcyh0cmFuc2Zvcm0pO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhmbGF0Q2xpcENvb3Jkc1swXSwgZmxhdENsaXBDb29yZHNbMV0pO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1syXSwgZmxhdENsaXBDb29yZHNbM10pO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1s0XSwgZmxhdENsaXBDb29yZHNbNV0pO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1s2XSwgZmxhdENsaXBDb29yZHNbN10pO1xuICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBleGVjdXRvcnMgYW5kIHBvcHVsYXRlIHRoZW0gdXNpbmcgdGhlIHByb3ZpZGVkIGluc3RydWN0aW9ucy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IGFsbEluc3RydWN0aW9ucyBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmNyZWF0ZUV4ZWN1dG9yc18gPSBmdW5jdGlvbiAoYWxsSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIGZvciAodmFyIHpJbmRleCBpbiBhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBleGVjdXRvcnMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdO1xuICAgICAgICAgICAgaWYgKGV4ZWN1dG9ycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0b3JzID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4XSA9IGV4ZWN1dG9ycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbkJ5WmluZGV4ID0gYWxsSW5zdHJ1Y3Rpb25zW3pJbmRleF07XG4gICAgICAgICAgICBmb3IgKHZhciBidWlsZGVyVHlwZSBpbiBpbnN0cnVjdGlvbkJ5WmluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGluc3RydWN0aW9ucyA9IGluc3RydWN0aW9uQnlaaW5kZXhbYnVpbGRlclR5cGVdO1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yc1tidWlsZGVyVHlwZV0gPSBuZXcgRXhlY3V0b3IodGhpcy5yZXNvbHV0aW9uXywgdGhpcy5waXhlbFJhdGlvXywgdGhpcy5vdmVybGFwc18sIGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0Pn0gZXhlY3V0b3JzIEV4ZWN1dG9ycy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgZXhlY3V0b3JzIG9mIHRoZSBwcm92aWRlZCB0eXBlcy5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5oYXNFeGVjdXRvcnMgPSBmdW5jdGlvbiAoZXhlY3V0b3JzKSB7XG4gICAgICAgIGZvciAodmFyIHpJbmRleCBpbiB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4Xykge1xuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZXMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZXhlY3V0b3JzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhlY3V0b3JzW2ldIGluIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCwgbnVtYmVyKTogVH0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBkZWNsdXR0ZXJlZEZlYXR1cmVzIERlY2x1dHRlcmVkIGZlYXR1cmVzLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgZGVjbHV0dGVyZWRGZWF0dXJlcykge1xuICAgICAgICBoaXRUb2xlcmFuY2UgPSBNYXRoLnJvdW5kKGhpdFRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBjb250ZXh0U2l6ZSA9IGhpdFRvbGVyYW5jZSAqIDIgKyAxO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybSh0aGlzLmhpdERldGVjdGlvblRyYW5zZm9ybV8sIGhpdFRvbGVyYW5jZSArIDAuNSwgaGl0VG9sZXJhbmNlICsgMC41LCAxIC8gcmVzb2x1dGlvbiwgLTEgLyByZXNvbHV0aW9uLCAtcm90YXRpb24sIC1jb29yZGluYXRlWzBdLCAtY29vcmRpbmF0ZVsxXSk7XG4gICAgICAgIHZhciBuZXdDb250ZXh0ID0gIXRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF87XG4gICAgICAgIGlmIChuZXdDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfO1xuICAgICAgICBpZiAoY29udGV4dC5jYW52YXMud2lkdGggIT09IGNvbnRleHRTaXplIHx8XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgIT09IGNvbnRleHRTaXplKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy53aWR0aCA9IGNvbnRleHRTaXplO1xuICAgICAgICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gY29udGV4dFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGhpdEV4dGVudDtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyQnVmZmVyXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoaXRFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShoaXRFeHRlbnQsIGNvb3JkaW5hdGUpO1xuICAgICAgICAgICAgYnVmZmVyKGhpdEV4dGVudCwgcmVzb2x1dGlvbiAqICh0aGlzLnJlbmRlckJ1ZmZlcl8gKyBoaXRUb2xlcmFuY2UpLCBoaXRFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleGVzID0gZ2V0UGl4ZWxJbmRleEFycmF5KGhpdFRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBidWlsZGVyVHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmZWF0dXJlQ2FsbGJhY2soZmVhdHVyZSwgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpLmRhdGE7XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwLCBpaSA9IGluZGV4ZXMubGVuZ3RoOyBpXzEgPCBpaTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VEYXRhW2luZGV4ZXNbaV8xXV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVjbHV0dGVyZWRGZWF0dXJlcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkZXJUeXBlICE9PSBCdWlsZGVyVHlwZS5JTUFHRSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJUeXBlICE9PSBCdWlsZGVyVHlwZS5URVhUKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVyZWRGZWF0dXJlcy5pbmRleE9mKGZlYXR1cmUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IChpbmRleGVzW2lfMV0gLSAzKSAvIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGhpdFRvbGVyYW5jZSAtIChpZHggJSBjb250ZXh0U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGhpdFRvbGVyYW5jZSAtICgoaWR4IC8gY29udGV4dFNpemUpIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0XzEgPSBjYWxsYmFjayhmZWF0dXJlLCBnZW9tZXRyeSwgeCAqIHggKyB5ICogeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dFNpemUsIGNvbnRleHRTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICAgICAgdmFyIGksIGosIGV4ZWN1dG9ycywgZXhlY3V0b3IsIHJlc3VsdDtcbiAgICAgICAgZm9yIChpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciB6SW5kZXhLZXkgPSB6c1tpXS50b1N0cmluZygpO1xuICAgICAgICAgICAgZXhlY3V0b3JzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICAgICAgICAgIGZvciAoaiA9IE9SREVSLmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlclR5cGUgPSBPUkRFUltqXTtcbiAgICAgICAgICAgICAgICBleGVjdXRvciA9IGV4ZWN1dG9yc1tidWlsZGVyVHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWN1dG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZXhlY3V0b3IuZXhlY3V0ZUhpdERldGVjdGlvbihjb250ZXh0LCB0cmFuc2Zvcm0sIHJvdGF0aW9uLCBmZWF0dXJlQ2FsbGJhY2ssIGhpdEV4dGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBDbGlwIGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmdldENsaXBDb29yZHMgPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBtYXhFeHRlbnQgPSB0aGlzLm1heEV4dGVudF87XG4gICAgICAgIGlmICghbWF4RXh0ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluWCA9IG1heEV4dGVudFswXTtcbiAgICAgICAgdmFyIG1pblkgPSBtYXhFeHRlbnRbMV07XG4gICAgICAgIHZhciBtYXhYID0gbWF4RXh0ZW50WzJdO1xuICAgICAgICB2YXIgbWF4WSA9IG1heEV4dGVudFszXTtcbiAgICAgICAgdmFyIGZsYXRDbGlwQ29vcmRzID0gW21pblgsIG1pblksIG1pblgsIG1heFksIG1heFgsIG1heFksIG1heFgsIG1pblldO1xuICAgICAgICB0cmFuc2Zvcm0yRChmbGF0Q2xpcENvb3JkcywgMCwgOCwgMiwgdHJhbnNmb3JtLCBmbGF0Q2xpcENvb3Jkcyk7XG4gICAgICAgIHJldHVybiBmbGF0Q2xpcENvb3JkcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpc0VtcHR5KHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXN0IHRvIGludGVnZXIgcGl4ZWwuXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQ+fSBbb3B0X2J1aWxkZXJUeXBlc10gT3JkZXJlZCByZXBsYXkgdHlwZXMgdG8gcmVwbGF5LlxuICAgICAqICAgICBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL3JlcGxheX5PUkRFUn1cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyVHJlZV0gRGVjbHV0dGVyIHRyZWUuXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBjb250ZXh0U2NhbGUsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBzbmFwVG9QaXhlbCwgb3B0X2J1aWxkZXJUeXBlcywgb3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgICAgICB2YXIgenMgPSBPYmplY3Qua2V5cyh0aGlzLmV4ZWN1dG9yc0J5WkluZGV4XykubWFwKE51bWJlcik7XG4gICAgICAgIHpzLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gICAgICAgIC8vIHNldHVwIGNsaXBwaW5nIHNvIHRoYXQgdGhlIHBhcnRzIG9mIG92ZXItc2ltcGxpZmllZCBnZW9tZXRyaWVzIGFyZSBub3RcbiAgICAgICAgLy8gdmlzaWJsZSBvdXRzaWRlIHRoZSBjdXJyZW50IGV4dGVudCB3aGVuIHBhbm5pbmdcbiAgICAgICAgaWYgKHRoaXMubWF4RXh0ZW50Xykge1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmNsaXAoY29udGV4dCwgdHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVpbGRlclR5cGVzID0gb3B0X2J1aWxkZXJUeXBlcyA/IG9wdF9idWlsZGVyVHlwZXMgOiBPUkRFUjtcbiAgICAgICAgdmFyIGksIGlpLCBqLCBqaiwgcmVwbGF5cywgcmVwbGF5O1xuICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgIHpzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHpzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB6SW5kZXhLZXkgPSB6c1tpXS50b1N0cmluZygpO1xuICAgICAgICAgICAgcmVwbGF5cyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGJ1aWxkZXJUeXBlcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1aWxkZXJUeXBlID0gYnVpbGRlclR5cGVzW2pdO1xuICAgICAgICAgICAgICAgIHJlcGxheSA9IHJlcGxheXNbYnVpbGRlclR5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChyZXBsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXBsYXkuZXhlY3V0ZShjb250ZXh0LCBjb250ZXh0U2NhbGUsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBzbmFwVG9QaXhlbCwgb3B0X2RlY2x1dHRlclRyZWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhFeHRlbnRfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEV4ZWN1dG9yR3JvdXA7XG59KCkpO1xuLyoqXG4gKiBUaGlzIGNhY2hlIGlzIHVzZWQgdG8gc3RvcmUgYXJyYXlzIG9mIGluZGV4ZXMgZm9yIGNhbGN1bGF0ZWQgcGl4ZWwgY2lyY2xlc1xuICogdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UuXG4gKiBJdCBpcyBhIHN0YXRpYyBwcm9wZXJ0eSB0byBhbGxvdyBlYWNoIFJlcGxheWdyb3VwIHRvIGFjY2VzcyBpdC5cbiAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBBcnJheTxudW1iZXI+Pn1cbiAqL1xudmFyIGNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlID0ge307XG4vKipcbiAqIFRoaXMgbWV0aG9kcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggaW5kZXhlcyBvZiBhbGwgcGl4ZWxzIHdpdGhpbiBhIGNpcmNsZSxcbiAqIG9yZGVyZWQgYnkgaG93IGNsb3NlIHRoZXkgYXJlIHRvIHRoZSBjZW50ZXIuXG4gKiBBIGNhY2hlIGlzIHVzZWQgdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuIGFycmF5IHdpdGggaW5kZXhlcyB3aXRoaW4gYSBjaXJjbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbEluZGV4QXJyYXkocmFkaXVzKSB7XG4gICAgaWYgKGNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlW3JhZGl1c10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXTtcbiAgICB9XG4gICAgdmFyIHNpemUgPSByYWRpdXMgKiAyICsgMTtcbiAgICB2YXIgbWF4RGlzdGFuY2VTcSA9IHJhZGl1cyAqIHJhZGl1cztcbiAgICB2YXIgZGlzdGFuY2VzID0gbmV3IEFycmF5KG1heERpc3RhbmNlU3EgKyAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSByYWRpdXM7ICsraSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8PSByYWRpdXM7ICsraikge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlU3EgPSBpICogaSArIGogKiBqO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlU3EgPiBtYXhEaXN0YW5jZVNxKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBkaXN0YW5jZXNbZGlzdGFuY2VTcV07XG4gICAgICAgICAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBbXTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZXNbZGlzdGFuY2VTcV0gPSBkaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgKyBpKSAqIHNpemUgKyAocmFkaXVzICsgaikpICogNCArIDMpO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyAtIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzICsgaSkgKiBzaXplICsgKHJhZGl1cyAtIGopKSAqIDQgKyAzKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyAtIGkpICogc2l6ZSArIChyYWRpdXMgLSBqKSkgKiA0ICsgMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBwaXhlbEluZGV4ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlzdGFuY2VzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGRpc3RhbmNlc1tpXSkge1xuICAgICAgICAgICAgcGl4ZWxJbmRleC5wdXNoLmFwcGx5KHBpeGVsSW5kZXgsIGRpc3RhbmNlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXSA9IHBpeGVsSW5kZXg7XG4gICAgcmV0dXJuIHBpeGVsSW5kZXg7XG59XG5leHBvcnQgZGVmYXVsdCBFeGVjdXRvckdyb3VwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXhlY3V0b3JHcm91cC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGVcbiAqL1xuLy8gRklYTUUgdGVzdCwgZXNwZWNpYWxseSBwb2x5Z29ucyB3aXRoIGhvbGVzIGFuZCBtdWx0aXBvbHlnb25zXG4vLyBGSVhNRSBuZWVkIHRvIGhhbmRsZSBsYXJnZSB0aGljayBmZWF0dXJlcyAod2hlcmUgcGl4ZWwgc2l6ZSBtYXR0ZXJzKVxuLy8gRklYTUUgYWRkIG9mZnNldCBhbmQgZW5kIHRvIG9sL2dlb20vZmxhdC90cmFuc2Zvcm1+dHJhbnNmb3JtMkQ/XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgVmVjdG9yQ29udGV4dCBmcm9tICcuLi9WZWN0b3JDb250ZXh0LmpzJztcbmltcG9ydCB7IGFzQ29sb3JMaWtlIH0gZnJvbSAnLi4vLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZGVmYXVsdEZpbGxTdHlsZSwgZGVmYXVsdEZvbnQsIGRlZmF1bHRMaW5lQ2FwLCBkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFN0cm9rZVN0eWxlLCBkZWZhdWx0VGV4dEFsaWduLCBkZWZhdWx0VGV4dEJhc2VsaW5lLCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1HZW9tMkQgfSBmcm9tICcuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb25jcmV0ZSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9WZWN0b3JDb250ZXh0IFZlY3RvckNvbnRleHR9IHRoYXQgaW1wbGVtZW50c1xuICogZGlyZWN0IHJlbmRlcmluZyBvZiBmZWF0dXJlcyBhbmQgZ2VvbWV0cmllcyB0byBhbiBIVE1MNSBDYW52YXMgY29udGV4dC5cbiAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBjcmVhdGVkIGludGVybmFsbHkgYnkgdGhlIGxpYnJhcnkgYW5kXG4gKiBwcm92aWRlZCB0byBhcHBsaWNhdGlvbiBjb2RlIGFzIHZlY3RvckNvbnRleHQgbWVtYmVyIG9mIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQgUmVuZGVyRXZlbnR9IG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcG9zdGNvbXBvc2UsIHByZWNvbXBvc2UgYW5kXG4gKiByZW5kZXIgZXZlbnRzIGVtaXR0ZWQgYnkgbGF5ZXJzIGFuZCBtYXBzLlxuICovXG52YXIgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfc3F1YXJlZFRvbGVyYW5jZV0gT3B0aW9uYWwgc3F1YXJlZCB0b2xlcmFuY2UgZm9yIHNpbXBsaWZpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW29wdF91c2VyVHJhbnNmb3JtXSBUcmFuc2Zvcm0gZnJvbSB1c2VyIHRvIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcihjb250ZXh0LCBwaXhlbFJhdGlvLCBleHRlbnQsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBvcHRfc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3VzZXJUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0XyA9IGNvbnRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5leHRlbnRfID0gZXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2Zvcm1fID0gdHJhbnNmb3JtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3F1YXJlZFRvbGVyYW5jZV8gPSBvcHRfc3F1YXJlZFRvbGVyYW5jZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXNlclRyYW5zZm9ybV8gPSBvcHRfdXNlclRyYW5zZm9ybTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0VGV4dFN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlQW5jaG9yWF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlQW5jaG9yWV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlSGVpZ2h0XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VPcGFjaXR5XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VPcmlnaW5YXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VPcmlnaW5ZXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlUm90YXRlV2l0aFZpZXdfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VSb3RhdGlvbl8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlU2NhbGVfID0gWzAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlV2lkdGhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0XyA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRPZmZzZXRYXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dE9mZnNldFlfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRSb3RhdGlvbl8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTY2FsZV8gPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRtcExvY2FsVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0ltYWdlc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgbG9jYWxUcmFuc2Zvcm0gPSB0aGlzLnRtcExvY2FsVHJhbnNmb3JtXztcbiAgICAgICAgdmFyIGFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGEgKiB0aGlzLmltYWdlT3BhY2l0eV87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy5pbWFnZVJvdGF0aW9uXztcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18pIHtcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGl4ZWxDb29yZGluYXRlc1tpXSAtIHRoaXMuaW1hZ2VBbmNob3JYXztcbiAgICAgICAgICAgIHZhciB5ID0gcGl4ZWxDb29yZGluYXRlc1tpICsgMV0gLSB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICAgICAgICBpZiAocm90YXRpb24gIT09IDAgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzBdICE9IDEgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzFdICE9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyWCA9IHggKyB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclkgPSB5ICsgdGhpcy5pbWFnZUFuY2hvcllfO1xuICAgICAgICAgICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0obG9jYWxUcmFuc2Zvcm0sIGNlbnRlclgsIGNlbnRlclksIDEsIDEsIHJvdGF0aW9uLCAtY2VudGVyWCwgLWNlbnRlclkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIGxvY2FsVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuaW1hZ2VTY2FsZV9bMF0sIHRoaXMuaW1hZ2VTY2FsZV9bMV0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmltYWdlT3JpZ2luWF8sIHRoaXMuaW1hZ2VPcmlnaW5ZXywgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8sIC10aGlzLmltYWdlQW5jaG9yWF8sIC10aGlzLmltYWdlQW5jaG9yWV8sIHRoaXMuaW1hZ2VXaWR0aF8sIHRoaXMuaW1hZ2VIZWlnaHRfKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmltYWdlT3JpZ2luWF8sIHRoaXMuaW1hZ2VPcmlnaW5ZXywgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8sIHgsIHksIHRoaXMuaW1hZ2VXaWR0aF8sIHRoaXMuaW1hZ2VIZWlnaHRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbWFnZU9wYWNpdHlfICE9IDEpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3VGV4dF8gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgICAgIGlmICghdGhpcy50ZXh0U3RhdGVfIHx8IHRoaXMudGV4dF8gPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy50ZXh0RmlsbFN0YXRlXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMudGV4dFN0cm9rZVN0YXRlXyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDb250ZXh0VGV4dFN0YXRlXyh0aGlzLnRleHRTdGF0ZV8pO1xuICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLnRleHRSb3RhdGlvbl87XG4gICAgICAgIGlmICh0aGlzLnRleHRSb3RhdGVXaXRoVmlld18pIHtcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbb2Zmc2V0XSArIHRoaXMudGV4dE9mZnNldFhfO1xuICAgICAgICAgICAgdmFyIHkgPSBwaXhlbENvb3JkaW5hdGVzW29mZnNldCArIDFdICsgdGhpcy50ZXh0T2Zmc2V0WV87XG4gICAgICAgICAgICBpZiAocm90YXRpb24gIT09IDAgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFNjYWxlX1sxXSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsVHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRtcExvY2FsVHJhbnNmb3JtXywgeCwgeSwgMSwgMSwgcm90YXRpb24sIC14LCAteSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy50ZXh0U2NhbGVfWzBdLCB0aGlzLnRleHRTY2FsZV9bMV0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIENsb3NlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5tb3ZlVG9MaW5lVG9fID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY2xvc2UpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocGl4ZWxDb29yZGluYXRlc1swXSwgcGl4ZWxDb29yZGluYXRlc1sxXSk7XG4gICAgICAgIHZhciBsZW5ndGggPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBsZW5ndGggLT0gMjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwaXhlbENvb3JkaW5hdGVzW2ldLCBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdSaW5nc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMubW92ZVRvTGluZVRvXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgY2lyY2xlIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICAgKiB0aGUgY3VycmVudCBmaWxsIGFuZCBzdHJva2Ugc3R5bGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8gfHwgdGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm1HZW9tMkQoZ2VvbWV0cnksIHRoaXMudHJhbnNmb3JtXywgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgICAgICAgICB2YXIgZHggPSBwaXhlbENvb3JkaW5hdGVzWzJdIC0gcGl4ZWxDb29yZGluYXRlc1swXTtcbiAgICAgICAgICAgIHZhciBkeSA9IHBpeGVsQ29vcmRpbmF0ZXNbM10gLSBwaXhlbENvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5hcmMocGl4ZWxDb29yZGluYXRlc1swXSwgcGl4ZWxDb29yZGluYXRlc1sxXSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZ2VvbWV0cnkuZ2V0Q2VudGVyKCksIDAsIDIsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS4gIE5vdGUgdGhhdCBzaW5jZSB0aGlzIGlzIGFuIGltbWVkaWF0ZSByZW5kZXJpbmcgQVBJLFxuICAgICAqIGFueSBgekluZGV4YCBvbiB0aGUgcHJvdmlkZWQgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGUoc3R5bGUuZ2V0RmlsbCgpLCBzdHlsZS5nZXRTdHJva2UoKSk7XG4gICAgICAgIHRoaXMuc2V0SW1hZ2VTdHlsZShzdHlsZS5nZXRJbWFnZSgpKTtcbiAgICAgICAgdGhpcy5zZXRUZXh0U3R5bGUoc3R5bGUuZ2V0VGV4dCgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBDYWxsXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZX5DYW52YXNJbW1lZGlhdGVSZW5kZXJlciNzZXRTdHlsZSByZW5kZXJlci5zZXRTdHlsZSgpfSBmaXJzdCB0byBzZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5IHRvIHJlbmRlci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdQb2ludChcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdMaW5lU3RyaW5nKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2ludChcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd011bHRpTGluZVN0cmluZyhcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNdWx0aVBvbHlnb24oXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT046XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5DSVJDTEU6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBmZWF0dXJlIGludG8gdGhlIGNhbnZhcy4gIE5vdGUgdGhhdCBhbnkgYHpJbmRleGAgb24gdGhlIHByb3ZpZGVkXG4gICAgICogc3R5bGUgd2lsbCBiZSBpZ25vcmVkIC0gZmVhdHVyZXMgYXJlIHJlbmRlcmVkIGltbWVkaWF0ZWx5IGluIHRoZSBvcmRlciB0aGF0XG4gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkLiAgSWYgeW91IG5lZWQgYHpJbmRleGAgc3VwcG9ydCwgeW91IHNob3VsZCBiZSB1c2luZyBhblxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvVmVjdG9yflZlY3RvckxheWVyIFZlY3RvckxheWVyfSBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0ZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSwgc3R5bGUpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gc3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgICAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdHlsZShzdHlsZSk7XG4gICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJ5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIEdlb21ldHJ5Q29sbGVjdGlvbiB0byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlcyBhcHByb3ByaWF0ZSBmb3IgZWFjaCBnZW9tZXRyeSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJpZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBQb2ludCBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgTXVsdGlQb2ludCBnZW9tZXRyeSAgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IE11bHRpUG9pbnQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvaW50ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgTGluZVN0cmluZyBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0xpbmVTdHJpbmcgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICB0aGlzLm1vdmVUb0xpbmVUb18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBnZW9tZXRyeS5nZXRTdHJpZGUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0TWlkcG9pbnQgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnQoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRNaWRwb2ludCwgMCwgMiwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIE11bHRpTGluZVN0cmluZyBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlXG4gICAgICogYW5kIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID1cbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VvbWV0cnlFeHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnlFeHRlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgZW5kcyA9IC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGdlb21ldHJ5LmdldEVuZHMoKSk7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgZmxhdE1pZHBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRNaWRwb2ludHMoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRNaWRwb2ludHMsIDAsIGZsYXRNaWRwb2ludHMubGVuZ3RoLCAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgUG9seWdvbiBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXyB8fCB0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1JpbmdzXyhnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGdlb21ldHJ5LmdldEVuZHMoKSksIGdlb21ldHJ5LmdldFN0cmlkZSgpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgZmxhdEludGVyaW9yUG9pbnQgPSBnZW9tZXRyeS5nZXRGbGF0SW50ZXJpb3JQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnQsIDAsIDIsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgTXVsdGlQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd011bHRpUG9seWdvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLmZpbGxTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgZW5kc3MgPSBnZW9tZXRyeS5nZXRFbmRzcygpO1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd1JpbmdzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgZmxhdEludGVyaW9yUG9pbnRzID0gZ2VvbWV0cnkuZ2V0RmxhdEludGVyaW9yUG9pbnRzKCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0SW50ZXJpb3JQb2ludHMsIDAsIGZsYXRJbnRlcmlvclBvaW50cy5sZW5ndGgsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9IGZpbGxTdGF0ZSBGaWxsIHN0YXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldENvbnRleHRGaWxsU3RhdGVfID0gZnVuY3Rpb24gKGZpbGxTdGF0ZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBjb250ZXh0RmlsbFN0YXRlID0gdGhpcy5jb250ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgaWYgKCFjb250ZXh0RmlsbFN0YXRlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRGaWxsU3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgIT0gZmlsbFN0YXRlLmZpbGxTdHlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfSBzdHJva2VTdGF0ZSBTdHJva2Ugc3RhdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyA9IGZ1bmN0aW9uIChzdHJva2VTdGF0ZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBjb250ZXh0U3Ryb2tlU3RhdGUgPSB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV87XG4gICAgICAgIGlmICghY29udGV4dFN0cm9rZVN0YXRlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0YXRlLmxpbmVEYXNoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgbGluZUNhcDogc3Ryb2tlU3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgICAgICBsaW5lRGFzaDogc3Ryb2tlU3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGxpbmVKb2luOiBzdHJva2VTdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlOiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgIT0gc3Ryb2tlU3RhdGUubGluZUNhcCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lQ2FwID0gc3Ryb2tlU3RhdGUubGluZUNhcDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHQuc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFscyhjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2gsIHN0cm9rZVN0YXRlLmxpbmVEYXNoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2ggPSBzdHJva2VTdGF0ZS5saW5lRGFzaCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ICE9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lSm9pbiAhPSBzdHJva2VTdGF0ZS5saW5lSm9pbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lSm9pbiA9IHN0cm9rZVN0YXRlLmxpbmVKb2luO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdGF0ZS5saW5lSm9pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoICE9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLm1pdGVyTGltaXQgIT0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5zdHJva2VTdHlsZSAhPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfSB0ZXh0U3RhdGUgVGV4dCBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRDb250ZXh0VGV4dFN0YXRlXyA9IGZ1bmN0aW9uICh0ZXh0U3RhdGUpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgY29udGV4dFRleHRTdGF0ZSA9IHRoaXMuY29udGV4dFRleHRTdGF0ZV87XG4gICAgICAgIHZhciB0ZXh0QWxpZ24gPSB0ZXh0U3RhdGUudGV4dEFsaWduXG4gICAgICAgICAgICA/IHRleHRTdGF0ZS50ZXh0QWxpZ25cbiAgICAgICAgICAgIDogZGVmYXVsdFRleHRBbGlnbjtcbiAgICAgICAgaWYgKCFjb250ZXh0VGV4dFN0YXRlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QWxpZ259ICovICh0ZXh0QWxpZ24pO1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAvKiogQHR5cGUge0NhbnZhc1RleHRCYXNlbGluZX0gKi8gKHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0VGV4dFN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBmb250OiB0ZXh0U3RhdGUuZm9udCxcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgICAgICAgICB0ZXh0QmFzZWxpbmU6IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUuZm9udCAhPSB0ZXh0U3RhdGUuZm9udCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRUZXh0U3RhdGUuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduICE9IHRleHRBbGlnbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QWxpZ259ICovICh0ZXh0QWxpZ24pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QWxpZ259ICovICh0ZXh0QWxpZ24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lICE9IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0VGV4dFN0YXRlLnRleHRCYXNlbGluZSA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEJhc2VsaW5lfSAqLyAodGV4dFN0YXRlLnRleHRCYXNlbGluZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAvKiogQHR5cGUge0NhbnZhc1RleHRCYXNlbGluZX0gKi8gKHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZpbGwgYW5kIHN0cm9rZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBUbyBjbGVhclxuICAgICAqIGVpdGhlciBmaWxsIG9yIHN0cm9rZSBzdHlsZXMsIHBhc3MgbnVsbCBmb3IgdGhlIGFwcHJvcHJpYXRlIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2VTdHlsZSBTdHJva2Ugc3R5bGUuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIChmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghZmlsbFN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZUNvbG9yID0gZmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgICAgICB0aGlzLmZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZShmaWxsU3R5bGVDb2xvciA/IGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUNvbG9yID0gc3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVDYXAgPSBzdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lRGFzaCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVXaWR0aCA9IHN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gc3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICAgICAgdmFyIGxpbmVEYXNoID0gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoO1xuICAgICAgICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgbGluZUNhcDogc3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVDYXBcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZUNhcCxcbiAgICAgICAgICAgICAgICBsaW5lRGFzaDogdGhpcy5waXhlbFJhdGlvXyA9PT0gMVxuICAgICAgICAgICAgICAgICAgICA/IGxpbmVEYXNoXG4gICAgICAgICAgICAgICAgICAgIDogbGluZURhc2gubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuICogX3RoaXMucGl4ZWxSYXRpb187IH0pLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiAoc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQpICogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IChzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZVdpZHRoXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVXaWR0aCkgKiB0aGlzLnBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKHN0cm9rZVN0eWxlQ29sb3IgPyBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvIHJlbW92ZVxuICAgICAqIHRoZSBpbWFnZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIHZhciBpbWFnZVNpemU7XG4gICAgICAgIGlmICghaW1hZ2VTdHlsZSB8fCAhKGltYWdlU2l6ZSA9IGltYWdlU3R5bGUuZ2V0U2l6ZSgpKSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWFnZUFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgICAgIHZhciBpbWFnZU9yaWdpbiA9IGltYWdlU3R5bGUuZ2V0T3JpZ2luKCk7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2VTdHlsZS5nZXRJbWFnZSh0aGlzLnBpeGVsUmF0aW9fKTtcbiAgICAgICAgdGhpcy5pbWFnZUFuY2hvclhfID0gaW1hZ2VBbmNob3JbMF0gKiB0aGlzLnBpeGVsUmF0aW9fO1xuICAgICAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSBpbWFnZUFuY2hvclsxXSAqIHRoaXMucGl4ZWxSYXRpb187XG4gICAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gaW1hZ2VTaXplWzFdICogdGhpcy5waXhlbFJhdGlvXztcbiAgICAgICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gaW1hZ2VTdHlsZS5nZXRPcGFjaXR5KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VPcmlnaW5YXyA9IGltYWdlT3JpZ2luWzBdO1xuICAgICAgICB0aGlzLmltYWdlT3JpZ2luWV8gPSBpbWFnZU9yaWdpblsxXTtcbiAgICAgICAgdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgdGhpcy5pbWFnZVJvdGF0aW9uXyA9IGltYWdlU3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgdGhpcy5pbWFnZVNjYWxlXyA9IGltYWdlU3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICB0aGlzLmltYWdlV2lkdGhfID0gaW1hZ2VTaXplWzBdICogdGhpcy5waXhlbFJhdGlvXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBQYXNzIG51bGwgdG9cbiAgICAgKiByZW1vdmUgdGhlIHRleHQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0U3R5bGUpIHtcbiAgICAgICAgaWYgKCF0ZXh0U3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgICAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRGaWxsU3R5bGVDb2xvciA9IHRleHRGaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0ge1xuICAgICAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IGFzQ29sb3JMaWtlKHRleHRGaWxsU3R5bGVDb2xvciA/IHRleHRGaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlID0gdGV4dFN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0U3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUNvbG9yID0gdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVDYXAgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCA9IHRleHRTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVDYXA6IHRleHRTdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lQ2FwLFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaDogdGV4dFN0cm9rZVN0eWxlTGluZURhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZURhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lSm9pbjogdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZUpvaW4sXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogdGV4dFN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBtaXRlckxpbWl0OiB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTWl0ZXJMaW1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKHRleHRTdHJva2VTdHlsZUNvbG9yID8gdGV4dFN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dEZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WSA9IHRleHRTdHlsZS5nZXRPZmZzZXRZKCk7XG4gICAgICAgICAgICB2YXIgdGV4dFJvdGF0ZVdpdGhWaWV3ID0gdGV4dFN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgICAgICAgICB2YXIgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICB2YXIgdGV4dFNjYWxlID0gdGV4dFN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0VGV4dCA9IHRleHRTdHlsZS5nZXRUZXh0KCk7XG4gICAgICAgICAgICB2YXIgdGV4dFRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgICAgICAgIHZhciB0ZXh0VGV4dEJhc2VsaW5lID0gdGV4dFN0eWxlLmdldFRleHRCYXNlbGluZSgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0U3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGZvbnQ6IHRleHRGb250ICE9PSB1bmRlZmluZWQgPyB0ZXh0Rm9udCA6IGRlZmF1bHRGb250LFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dFRleHRBbGlnbiAhPT0gdW5kZWZpbmVkID8gdGV4dFRleHRBbGlnbiA6IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0VGV4dEJhc2VsaW5lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyB0ZXh0VGV4dEJhc2VsaW5lXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnRleHRfID0gdGV4dFRleHQgIT09IHVuZGVmaW5lZCA/IHRleHRUZXh0IDogJyc7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyA9XG4gICAgICAgICAgICAgICAgdGV4dE9mZnNldFggIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WCA6IDA7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRZXyA9XG4gICAgICAgICAgICAgICAgdGV4dE9mZnNldFkgIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WSA6IDA7XG4gICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPVxuICAgICAgICAgICAgICAgIHRleHRSb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gIT09IHVuZGVmaW5lZCA/IHRleHRSb3RhdGlvbiA6IDA7XG4gICAgICAgICAgICB0aGlzLnRleHRTY2FsZV8gPSBbXG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyAqIHRleHRTY2FsZVswXSxcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xufShWZWN0b3JDb250ZXh0KSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltbWVkaWF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkFuY2hvclVuaXRzXG4gKi9cbi8qKlxuICogSWNvbiBhbmNob3IgdW5pdHMuIE9uZSBvZiAnZnJhY3Rpb24nLCAncGl4ZWxzJy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBBbmNob3IgaXMgYSBmcmFjdGlvblxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGUkFDVElPTjogJ2ZyYWN0aW9uJyxcbiAgICAvKipcbiAgICAgKiBBbmNob3IgaXMgaW4gcGl4ZWxzXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBJWEVMUzogJ3BpeGVscycsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbkFuY2hvclVuaXRzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uT3JpZ2luXG4gKi9cbi8qKlxuICogSWNvbiBvcmlnaW4uIE9uZSBvZiAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0JywgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogT3JpZ2luIGlzIGF0IGJvdHRvbSBsZWZ0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbiBpcyBhdCBib3R0b20gcmlnaHRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9UVE9NX1JJR0hUOiAnYm90dG9tLXJpZ2h0JyxcbiAgICAvKipcbiAgICAgKiBPcmlnaW4gaXMgYXQgdG9wIGxlZnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVE9QX0xFRlQ6ICd0b3AtbGVmdCcsXG4gICAgLyoqXG4gICAgICogT3JpZ2luIGlzIGF0IHRvcCByaWdodFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUT1BfUklHSFQ6ICd0b3AtcmlnaHQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb25PcmlnaW4uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ljb25JbWFnZVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHsgYXNTdHJpbmcgfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHsgc2hhcmVkIGFzIGljb25JbWFnZUNhY2hlIH0gZnJvbSAnLi9JY29uSW1hZ2VDYWNoZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW5JbWFnZSB9IGZyb20gJy4uL0ltYWdlLmpzJztcbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xudmFyIHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG52YXIgSWNvbkltYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJY29uSW1hZ2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHNyYyBTcmMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gaW1hZ2VTdGF0ZSBJbWFnZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJY29uSW1hZ2UoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9ICFpbWFnZSA/IG5ldyBJbWFnZSgpIDogaW1hZ2U7XG4gICAgICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoX3RoaXMuaW1hZ2VfKS5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgSFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JfID0gY29sb3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VTdGF0ZV8gPSBpbWFnZVN0YXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemVfID0gc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3JjXyA9IHNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YWludGVkXztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBpbWFnZSBjYW52YXMgaXMgdGFpbnRlZC5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmlzVGFpbnRlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRhaW50ZWRfID09PSB1bmRlZmluZWQgJiYgdGhpcy5pbWFnZVN0YXRlXyA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIGlmICghdGFpbnRlZFRlc3RDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50YWludGVkXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0YWludGVkVGVzdENvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMudGFpbnRlZF8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRhaW50ZWRfID09PSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmRpc3BhdGNoQ2hhbmdlRXZlbnRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgICAgIGlmICh0aGlzLnNpemVfKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlXy53aWR0aCA9IHRoaXMuc2l6ZV9bMF07XG4gICAgICAgICAgICB0aGlzLmltYWdlXy5oZWlnaHQgPSB0aGlzLnNpemVfWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaXplXyA9IFt0aGlzLmltYWdlXy53aWR0aCwgdGhpcy5pbWFnZV8uaGVpZ2h0XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPyB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gOiB0aGlzLmltYWdlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdGhpcy5yZXBsYWNlQ29sb3JfKHBpeGVsUmF0aW8pO1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID8gcGl4ZWxSYXRpbyA6IDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VTdGF0ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVGFpbnRlZF8oKSkge1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc2l6ZV9bMF07XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuc2l6ZV9bMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSB0aGlzLmltYWdlXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oaXREZXRlY3Rpb25JbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBJbWFnZSBzcmMuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRTcmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyY187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlU3RhdGVfID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAodGhpcy5pbWFnZV8pLnNyYyA9IHRoaXMuc3JjXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBsaXN0ZW5JbWFnZSh0aGlzLmltYWdlXywgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5yZXBsYWNlQ29sb3JfID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbG9yXyB8fFxuICAgICAgICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dIHx8XG4gICAgICAgICAgICB0aGlzLmltYWdlU3RhdGVfICE9PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID0gY2FudmFzO1xuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwodGhpcy5pbWFnZV8ud2lkdGggKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmltYWdlXy5oZWlnaHQgKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXIgMTEgZG9lcyBub3Qgc3VwcG9ydCB0aGUgbXVsdGlwbHkgb3BlcmF0aW9uLlxuICAgICAgICAvLyBJZiB0aGUgY2FudmFzIGlzIHRhaW50ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgdGhpcyBzdGlsbCBwcm9kdWNlc1xuICAgICAgICAvLyBhIHNvbGlkIGNvbG9yIGltYWdlIHdpdGggdGhlIHNoYXBlIG9mIHRoZSBpY29uLlxuICAgICAgICBpZiAoY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9PT0gJ211bHRpcGx5JyB8fCB0aGlzLmlzVGFpbnRlZF8oKSkge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHRoaXMuY29sb3JfKTtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGggLyBwaXhlbFJhdGlvLCBjYW52YXMuaGVpZ2h0IC8gcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGltZ0RhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGltZ0RhdGEuZGF0YTtcbiAgICAgICAgICAgIHZhciByID0gdGhpcy5jb2xvcl9bMF0gLyAyNTUuMDtcbiAgICAgICAgICAgIHZhciBnID0gdGhpcy5jb2xvcl9bMV0gLyAyNTUuMDtcbiAgICAgICAgICAgIHZhciBiID0gdGhpcy5jb2xvcl9bMl0gLyAyNTUuMDtcbiAgICAgICAgICAgIHZhciBhID0gdGhpcy5jb2xvcl9bM107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkYXRhLmxlbmd0aDsgaSA8IGlpOyBpICs9IDQpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2ldICo9IHI7XG4gICAgICAgICAgICAgICAgZGF0YVtpICsgMV0gKj0gZztcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAyXSAqPSBiO1xuICAgICAgICAgICAgICAgIGRhdGFbaSArIDNdICo9IGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltZ0RhdGEsIDAsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNjYXJkcyBldmVudCBoYW5kbGVycyB3aGljaCBsaXN0ZW4gZm9yIGxvYWQgY29tcGxldGlvbiBvciBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVubGlzdGVuXykge1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8oKTtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEljb25JbWFnZTtcbn0oRXZlbnRUYXJnZXQpKTtcbi8qKlxuICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3RhdGUgSW1hZ2Ugc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0ljb25JbWFnZX0gSWNvbiBpbWFnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChpbWFnZSwgc3JjLCBzaXplLCBjcm9zc09yaWdpbiwgaW1hZ2VTdGF0ZSwgY29sb3IpIHtcbiAgICB2YXIgaWNvbkltYWdlID0gaWNvbkltYWdlQ2FjaGUuZ2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICBpZiAoIWljb25JbWFnZSkge1xuICAgICAgICBpY29uSW1hZ2UgPSBuZXcgSWNvbkltYWdlKGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcik7XG4gICAgICAgIGljb25JbWFnZUNhY2hlLnNldChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvciwgaWNvbkltYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIGljb25JbWFnZTtcbn1cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb25JbWFnZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ljb25cbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJY29uQW5jaG9yVW5pdHMgZnJvbSAnLi9JY29uQW5jaG9yVW5pdHMuanMnO1xuaW1wb3J0IEljb25PcmlnaW4gZnJvbSAnLi9JY29uT3JpZ2luLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IEltYWdlU3R5bGUgZnJvbSAnLi9JbWFnZS5qcyc7XG5pbXBvcnQgeyBhc0FycmF5IH0gZnJvbSAnLi4vY29sb3IuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0SWNvbkltYWdlIH0gZnJvbSAnLi9JY29uSW1hZ2UuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2FuY2hvcj1bMC41LCAwLjVdXSBBbmNob3IuIERlZmF1bHQgdmFsdWUgaXMgdGhlIGljb24gY2VudGVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb25PcmlnaW4uanNcIikuZGVmYXVsdH0gW2FuY2hvck9yaWdpbj0ndG9wLWxlZnQnXSBPcmlnaW4gb2YgdGhlIGFuY2hvcjogYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAsXG4gKiBgdG9wLWxlZnRgIG9yIGB0b3AtcmlnaHRgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb25BbmNob3JVbml0cy5qc1wiKS5kZWZhdWx0fSBbYW5jaG9yWFVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeCB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHggdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHggdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb25BbmNob3JVbml0cy5qc1wiKS5kZWZhdWx0fSBbYW5jaG9yWVVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeSB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHkgdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHkgdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxzdHJpbmd9IFtjb2xvcl0gQ29sb3IgdG8gdGludCB0aGUgaWNvbi4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHRoZSBpY29uIHdpbGwgYmUgbGVmdCBhcyBpcy5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiBOb3RlIHRoYXQgeW91IG11c3QgcHJvdmlkZSBhXG4gKiBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSB3YW50IHRvIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IFtpbWddIEltYWdlIG9iamVjdCBmb3IgdGhlIGljb24uIElmIHRoZSBgc3JjYCBvcHRpb24gaXMgbm90IHByb3ZpZGVkIHRoZW4gdGhlXG4gKiBwcm92aWRlZCBpbWFnZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkLiBBbmQgaW4gdGhhdCBjYXNlLCBpdCBpcyByZXF1aXJlZFxuICogdG8gcHJvdmlkZSB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2UsIHdpdGggdGhlIGBpbWdTaXplYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtvZmZzZXQ9WzAsIDBdXSBPZmZzZXQsIHdoaWNoLCB0b2dldGhlciB3aXRoIHRoZSBzaXplIGFuZCB0aGUgb2Zmc2V0IG9yaWdpbiwgZGVmaW5lIHRoZVxuICogc3ViLXJlY3RhbmdsZSB0byB1c2UgZnJvbSB0aGUgb3JpZ2luYWwgaWNvbiBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBpY29uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb25PcmlnaW4uanNcIikuZGVmYXVsdH0gW29mZnNldE9yaWdpbj0ndG9wLWxlZnQnXSBPcmlnaW4gb2YgdGhlIG9mZnNldDogYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAsXG4gKiBgdG9wLWxlZnRgIG9yIGB0b3AtcmlnaHRgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgb2YgdGhlIGljb24uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgaWNvbiB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBJY29uIHNpemUgaW4gcGl4ZWwuIENhbiBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYG9mZnNldGAgdG8gZGVmaW5lIHRoZVxuICogc3ViLXJlY3RhbmdsZSB0byB1c2UgZnJvbSB0aGUgb3JpZ2luIChzcHJpdGUpIGljb24gaW1hZ2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2ltZ1NpemVdIEltYWdlIHNpemUgaW4gcGl4ZWxzLiBPbmx5IHJlcXVpcmVkIGlmIGBpbWdgIGlzIHNldCBhbmQgYHNyY2AgaXMgbm90LCBhbmRcbiAqIGZvciBTVkcgaW1hZ2VzIGluIEludGVybmV0IEV4cGxvcmVyIDExLiBUaGUgcHJvdmlkZWQgYGltZ1NpemVgIG5lZWRzIHRvIG1hdGNoIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NyY10gSW1hZ2Ugc291cmNlIFVSSS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgaWNvbiBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgSWNvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWNvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJY29uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzY2FsZSA9IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcm90YXRlV2l0aFZpZXcgPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHJvdGF0ZVdpdGhWaWV3LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gb3B0aW9ucy5hbmNob3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yIDogWzAuNSwgMC41XTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yT3JpZ2luXyA9XG4gICAgICAgICAgICBvcHRpb25zLmFuY2hvck9yaWdpbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmFuY2hvck9yaWdpblxuICAgICAgICAgICAgICAgIDogSWNvbk9yaWdpbi5UT1BfTEVGVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25BbmNob3JVbml0cy5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yWFVuaXRzXyA9XG4gICAgICAgICAgICBvcHRpb25zLmFuY2hvclhVbml0cyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmFuY2hvclhVbml0c1xuICAgICAgICAgICAgICAgIDogSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JZVW5pdHNfID1cbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yWVVuaXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYW5jaG9yWVVuaXRzXG4gICAgICAgICAgICAgICAgOiBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyb3NzT3JpZ2luXyA9XG4gICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzT3JpZ2luIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGltYWdlID0gb3B0aW9ucy5pbWcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW1nIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaW1nU2l6ZSA9IG9wdGlvbnMuaW1nU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWdTaXplIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNyYyA9IG9wdGlvbnMuc3JjO1xuICAgICAgICBhc3NlcnQoIShzcmMgIT09IHVuZGVmaW5lZCAmJiBpbWFnZSksIDQpOyAvLyBgaW1hZ2VgIGFuZCBgc3JjYCBjYW5ub3QgYmUgcHJvdmlkZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICBhc3NlcnQoIWltYWdlIHx8IChpbWFnZSAmJiBpbWdTaXplKSwgNSk7IC8vIGBpbWdTaXplYCBtdXN0IGJlIHNldCB3aGVuIGBpbWFnZWAgaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKChzcmMgPT09IHVuZGVmaW5lZCB8fCBzcmMubGVuZ3RoID09PSAwKSAmJiBpbWFnZSkge1xuICAgICAgICAgICAgc3JjID0gLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW1hZ2UpLnNyYyB8fCBnZXRVaWQoaW1hZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydChzcmMgIT09IHVuZGVmaW5lZCAmJiBzcmMubGVuZ3RoID4gMCwgNik7IC8vIEEgZGVmaW5lZCBhbmQgbm9uLWVtcHR5IGBzcmNgIG9yIGBpbWFnZWAgbXVzdCBiZSBwcm92aWRlZFxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gb3B0aW9ucy5zcmMgIT09IHVuZGVmaW5lZCA/IEltYWdlU3RhdGUuSURMRSA6IEltYWdlU3RhdGUuTE9BREVEO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gYXNBcnJheShvcHRpb25zLmNvbG9yKSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmljb25JbWFnZV8gPSBnZXRJY29uSW1hZ2UoaW1hZ2UsIFxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNyYyksIGltZ1NpemUsIF90aGlzLmNyb3NzT3JpZ2luXywgaW1hZ2VTdGF0ZSwgX3RoaXMuY29sb3JfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub2Zmc2V0XyA9IG9wdGlvbnMub2Zmc2V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldCA6IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25PcmlnaW4uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9mZnNldE9yaWdpbl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5vZmZzZXRPcmlnaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5vZmZzZXRPcmlnaW5cbiAgICAgICAgICAgICAgICA6IEljb25PcmlnaW4uVE9QX0xFRlQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemVfID0gb3B0aW9ucy5zaXplICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNpemUgOiBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuIFRoZSB1bmRlcmx5aW5nIEltYWdlL0hUTUxDYW52YXNFbGVtZW50IGlzIG5vdCBjbG9uZWQuXG4gICAgICogQHJldHVybiB7SWNvbn0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJY29uKHtcbiAgICAgICAgICAgIGFuY2hvcjogdGhpcy5hbmNob3JfLnNsaWNlKCksXG4gICAgICAgICAgICBhbmNob3JPcmlnaW46IHRoaXMuYW5jaG9yT3JpZ2luXyxcbiAgICAgICAgICAgIGFuY2hvclhVbml0czogdGhpcy5hbmNob3JYVW5pdHNfLFxuICAgICAgICAgICAgYW5jaG9yWVVuaXRzOiB0aGlzLmFuY2hvcllVbml0c18sXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbl8sXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcl8gJiYgdGhpcy5jb2xvcl8uc2xpY2VcbiAgICAgICAgICAgICAgICA/IHRoaXMuY29sb3JfLnNsaWNlKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuY29sb3JfIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNyYzogdGhpcy5nZXRTcmMoKSxcbiAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXRfLnNsaWNlKCksXG4gICAgICAgICAgICBvZmZzZXRPcmlnaW46IHRoaXMub2Zmc2V0T3JpZ2luXyxcbiAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZV8gIT09IG51bGwgPyB0aGlzLnNpemVfLnNsaWNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvcGFjaXR5OiB0aGlzLmdldE9wYWNpdHkoKSxcbiAgICAgICAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IGluIHBpeGVscy4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgICAqIHN5bWJvbGl6ZXIuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW5jaG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfO1xuICAgICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfO1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvclhVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3JZVW5pdHNfID09IEljb25BbmNob3JVbml0cy5GUkFDVElPTikge1xuICAgICAgICAgICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yWFVuaXRzXyA9PSBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWzBdICo9IHNpemVbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvcllVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclsxXSAqPSBzaXplWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gIT0gSWNvbk9yaWdpbi5UT1BfTEVGVCkge1xuICAgICAgICAgICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciA9PT0gdGhpcy5hbmNob3JfKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHRoaXMuYW5jaG9yXy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmNob3JPcmlnaW5fID09IEljb25PcmlnaW4uVE9QX1JJR0hUIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JbMF0gPSAtYW5jaG9yWzBdICsgc2l6ZVswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9MRUZUIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JbMV0gPSAtYW5jaG9yWzFdICsgc2l6ZVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfID0gYW5jaG9yO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXNwbGFjZW1lbnQgPSB0aGlzLmdldERpc3BsYWNlbWVudCgpO1xuICAgICAgICByZXR1cm4gW2FuY2hvclswXSAtIGRpc3BsYWNlbWVudFswXSwgYW5jaG9yWzFdICsgZGlzcGxhY2VtZW50WzFdXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYW5jaG9yIHBvaW50LiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAgICogc3ltYm9saXplci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIEFuY2hvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuc2V0QW5jaG9yID0gZnVuY3Rpb24gKGFuY2hvcikge1xuICAgICAgICB0aGlzLmFuY2hvcl8gPSBhbmNob3I7XG4gICAgICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpY29uIGNvbG9yLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgaWNvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBvciBDYW52YXMgZWxlbWVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEltYWdlKHBpeGVsUmF0aW8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwaXhlbCByYXRpbyBvZiB0aGUgaW1hZ2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldFBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0SW1hZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRJbWFnZVN0YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldEhpdERldGVjdGlvbkltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEhpdERldGVjdGlvbkltYWdlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldE9yaWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luXztcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5vZmZzZXRfO1xuICAgICAgICBpZiAodGhpcy5vZmZzZXRPcmlnaW5fICE9IEljb25PcmlnaW4uVE9QX0xFRlQpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgICAgICB2YXIgaWNvbkltYWdlU2l6ZSA9IHRoaXMuaWNvbkltYWdlXy5nZXRTaXplKCk7XG4gICAgICAgICAgICBpZiAoIXNpemUgfHwgIWljb25JbWFnZVNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldC5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMub2Zmc2V0T3JpZ2luXyA9PSBJY29uT3JpZ2luLlRPUF9SSUdIVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICAgICAgICAgIG9mZnNldFswXSA9IGljb25JbWFnZVNpemVbMF0gLSBzaXplWzBdIC0gb2Zmc2V0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub2Zmc2V0T3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9MRUZUIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WzFdID0gaWNvbkltYWdlU2l6ZVsxXSAtIHNpemVbMV0gLSBvZmZzZXRbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcmlnaW5fID0gb2Zmc2V0O1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBVUkwuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gSW1hZ2Ugc3JjLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRTcmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0U3JjKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuc2l6ZV8gPyB0aGlzLmljb25JbWFnZV8uZ2V0U2l6ZSgpIDogdGhpcy5zaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmljb25JbWFnZV8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBsaXN0ZW5lcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKiBXaGVuIHJlbmRlcmluZyBhIGZlYXR1cmUgd2l0aCBhbiBpY29uIHN0eWxlLCB0aGUgdmVjdG9yIHJlbmRlcmVyIHdpbGxcbiAgICAgKiBhdXRvbWF0aWNhbGx5IGNhbGwgdGhpcyBtZXRob2QuIEhvd2V2ZXIsIHlvdSBtaWdodCB3YW50IHRvIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZCB5b3Vyc2VsZiBmb3IgcHJlbG9hZGluZyBvciBvdGhlciBwdXJwb3Nlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pY29uSW1hZ2VfLmxvYWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaWNvbkltYWdlXy5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBJY29uO1xufShJbWFnZVN0eWxlKSk7XG5leHBvcnQgZGVmYXVsdCBJY29uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3RcbiAqL1xuaW1wb3J0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGZyb20gJy4vSW1tZWRpYXRlLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IEljb25BbmNob3JVbml0cyBmcm9tICcuLi8uLi9zdHlsZS9JY29uQW5jaG9yVW5pdHMuanMnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uLy4uL3N0eWxlLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0cyB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuZXhwb3J0IHZhciBISVRfREVURUNUX1JFU09MVVRJT04gPSAwLjU7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIENhbnZhcyBzaXplIGluIGNzcyBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm0+fSB0cmFuc2Zvcm1zIFRyYW5zZm9ybXNcbiAqIGZvciByZW5kZXJpbmcgZmVhdHVyZXMgdG8gYWxsIHdvcmxkcyBvZiB0aGUgdmlld3BvcnQsIGZyb20gY29vcmRpbmF0ZXMgdG8gY3NzXG4gKiBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBmZWF0dXJlc1xuICogRmVhdHVyZXMgdG8gY29uc2lkZXIgZm9yIGhpdCBkZXRlY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBzdHlsZUZ1bmN0aW9uXG4gKiBMYXllciBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtJbWFnZURhdGF9IEhpdCBkZXRlY3Rpb24gaW1hZ2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YShzaXplLCB0cmFuc2Zvcm1zLCBmZWF0dXJlcywgc3R5bGVGdW5jdGlvbiwgZXh0ZW50LCByZXNvbHV0aW9uLCByb3RhdGlvbikge1xuICAgIHZhciB3aWR0aCA9IHNpemVbMF0gKiBISVRfREVURUNUX1JFU09MVVRJT047XG4gICAgdmFyIGhlaWdodCA9IHNpemVbMV0gKiBISVRfREVURUNUX1JFU09MVVRJT047XG4gICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICB2YXIgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgdmFyIHJlbmRlcmVyID0gbmV3IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIEhJVF9ERVRFQ1RfUkVTT0xVVElPTiwgZXh0ZW50LCBudWxsLCByb3RhdGlvbik7XG4gICAgdmFyIGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzLmxlbmd0aDtcbiAgICAvLyBTdHJldGNoIGhpdCBkZXRlY3Rpb24gaW5kZXggdG8gdXNlIHRoZSB3aG9sZSBhdmFpbGFibGUgY29sb3IgcmFuZ2VcbiAgICB2YXIgaW5kZXhGYWN0b3IgPSBNYXRoLmZsb29yKCgyNTYgKiAyNTYgKiAyNTYgLSAxKSAvIGZlYXR1cmVDb3VudCk7XG4gICAgdmFyIGZlYXR1cmVzQnlaSW5kZXggPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBmZWF0dXJlQ291bnQ7ICsraSkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzW2kgLSAxXTtcbiAgICAgICAgdmFyIGZlYXR1cmVTdHlsZUZ1bmN0aW9uID0gZmVhdHVyZS5nZXRTdHlsZUZ1bmN0aW9uKCkgfHwgc3R5bGVGdW5jdGlvbjtcbiAgICAgICAgaWYgKCFzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGVzID0gZmVhdHVyZVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgICAgIGlmICghc3R5bGVzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgICAgICAgc3R5bGVzID0gW3N0eWxlc107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gaSAqIGluZGV4RmFjdG9yO1xuICAgICAgICB2YXIgY29sb3IgPSAnIycgKyAoJzAwMDAwMCcgKyBpbmRleC50b1N0cmluZygxNikpLnNsaWNlKC02KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc3R5bGVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0eWxlID0gc3R5bGVzW2pdO1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gb3JpZ2luYWxTdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gICAgICAgICAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKGV4dGVudCwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBvcmlnaW5hbFN0eWxlLmNsb25lKCk7XG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICAgICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICAgICAgZmlsbC5zZXRDb2xvcihjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3Ryb2tlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlLnNldENvbG9yKGNvbG9yKTtcbiAgICAgICAgICAgICAgICBzdHJva2Uuc2V0TGluZURhc2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZS5zZXRUZXh0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBvcmlnaW5hbFN0eWxlLmdldEltYWdlKCk7XG4gICAgICAgICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UuZ2V0T3BhY2l0eSgpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ1NpemUgPSBpbWFnZS5nZXRJbWFnZVNpemUoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWltZ1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpbWdDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKGltZ1NpemVbMF0sIGltZ1NpemVbMV0sIHVuZGVmaW5lZCwgeyBhbHBoYTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGltZ0NvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgICAgIGltZ0NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgICAgICAgICAgaW1nQ29udGV4dC5maWxsUmVjdCgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHN0eWxlLnNldEltYWdlKG5ldyBJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgaW1nOiBpbWcsXG4gICAgICAgICAgICAgICAgICAgIGltZ1NpemU6IGltZ1NpemUsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcjogaW1hZ2UuZ2V0QW5jaG9yKCksXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclhVbml0czogSWNvbkFuY2hvclVuaXRzLlBJWEVMUyxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWVVuaXRzOiBJY29uQW5jaG9yVW5pdHMuUElYRUxTLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGltYWdlLmdldE9yaWdpbigpLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiBpbWFnZS5nZXRTaXplKCksXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBpbWFnZS5nZXRTY2FsZSgpLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogaW1hZ2UuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IGltYWdlLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHpJbmRleCA9IHN0eWxlLmdldFpJbmRleCgpIHx8IDA7XG4gICAgICAgICAgICB2YXIgYnlHZW9tZXRyeVR5cGUgPSBmZWF0dXJlc0J5WkluZGV4W3pJbmRleF07XG4gICAgICAgICAgICBpZiAoIWJ5R2VvbWV0cnlUeXBlKSB7XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmZWF0dXJlc0J5WkluZGV4W3pJbmRleF0gPSBieUdlb21ldHJ5VHlwZTtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZVtHZW9tZXRyeVR5cGUuUE9MWUdPTl0gPSBbXTtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZVtHZW9tZXRyeVR5cGUuQ0lSQ0xFXSA9IFtdO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXTtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZVtHZW9tZXRyeVR5cGUuUE9JTlRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieUdlb21ldHJ5VHlwZVtnZW9tZXRyeS5nZXRUeXBlKCkucmVwbGFjZSgnTXVsdGknLCAnJyldLnB1c2goZ2VvbWV0cnksIHN0eWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgekluZGV4S2V5cyA9IE9iamVjdC5rZXlzKGZlYXR1cmVzQnlaSW5kZXgpXG4gICAgICAgIC5tYXAoTnVtYmVyKVxuICAgICAgICAuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB6SW5kZXhLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGJ5R2VvbWV0cnlUeXBlID0gZmVhdHVyZXNCeVpJbmRleFt6SW5kZXhLZXlzW2ldXTtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBieUdlb21ldHJ5VHlwZSkge1xuICAgICAgICAgICAgdmFyIGdlb21BbmRTdHlsZSA9IGJ5R2VvbWV0cnlUeXBlW3R5cGVdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZ2VvbUFuZFN0eWxlLmxlbmd0aDsgaiA8IGpqOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRTdHlsZShnZW9tQW5kU3R5bGVbaiArIDFdKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMCwga2sgPSB0cmFuc2Zvcm1zLmxlbmd0aDsgayA8IGtrOyArK2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybXNba10pO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5kcmF3R2VvbWV0cnkoZ2VvbUFuZFN0eWxlW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIGNvb3JkaW5hdGUgb24gdGhlIGhpdFxuICogZGV0ZWN0aW9uIGNhbnZhcyBpbiBjc3MgcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXMgRmVhdHVyZXMuIEhhcyB0b1xuICogbWF0Y2ggdGhlIGBmZWF0dXJlc2AgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIHRvIGBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoKWAuXG4gKiBAcGFyYW0ge0ltYWdlRGF0YX0gaW1hZ2VEYXRhIEhpdCBkZXRlY3Rpb24gaW1hZ2UgZGF0YSBnZW5lcmF0ZWQgYnlcbiAqIGBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoKWAuXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXMgRmVhdHVyZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaXREZXRlY3QocGl4ZWwsIGZlYXR1cmVzLCBpbWFnZURhdGEpIHtcbiAgICB2YXIgcmVzdWx0RmVhdHVyZXMgPSBbXTtcbiAgICBpZiAoaW1hZ2VEYXRhKSB7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJvdW5kKHBpeGVsWzBdKSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTik7XG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJvdW5kKHBpeGVsWzFdKSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTik7XG4gICAgICAgIC8vIFRoZSBwaXhlbCBjb29yZGluYXRlIGlzIGNsYW1wZWQgZG93biB0byB0aGUgaGl0LWRldGVjdCBjYW52YXMnIHNpemUgdG8gYWNjb3VudFxuICAgICAgICAvLyBmb3IgYnJvd3NlcnMgcmV0dXJuaW5nIGNvb3JkaW5hdGVzIHNsaWdodGx5IGxhcmdlciB0aGFuIHRoZSBhY3R1YWwgY2FudmFzIHNpemVcbiAgICAgICAgLy8gZHVlIHRvIGEgbm9uLWludGVnZXIgcGl4ZWwgcmF0aW8uXG4gICAgICAgIHZhciBpbmRleCA9IChjbGFtcCh4LCAwLCBpbWFnZURhdGEud2lkdGggLSAxKSArXG4gICAgICAgICAgICBjbGFtcCh5LCAwLCBpbWFnZURhdGEuaGVpZ2h0IC0gMSkgKiBpbWFnZURhdGEud2lkdGgpICpcbiAgICAgICAgICAgIDQ7XG4gICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXhdO1xuICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMV07XG4gICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgdmFyIGkgPSBiICsgMjU2ICogKGcgKyAyNTYgKiByKTtcbiAgICAgICAgdmFyIGluZGV4RmFjdG9yID0gTWF0aC5mbG9vcigoMjU2ICogMjU2ICogMjU2IC0gMSkgLyBmZWF0dXJlcy5sZW5ndGgpO1xuICAgICAgICBpZiAoaSAmJiBpICUgaW5kZXhGYWN0b3IgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2goZmVhdHVyZXNbaSAvIGluZGV4RmFjdG9yIC0gMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRGZWF0dXJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpdGRldGVjdC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvdmVjdG9yXG4gKi9cbmltcG9ydCBCdWlsZGVyVHlwZSBmcm9tICcuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJUeXBlLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogRmVhdHVyZSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhyZWUgYXJndW1lbnRzLiBUaGUgZmlyc3RcbiAqIGFyZ3VtZW50IGlzIG9uZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmUgZmVhdHVyZX0gb3Ige0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZSByZW5kZXIgZmVhdHVyZX1cbiAqIGF0IHRoZSBwaXhlbCwgdGhlIHNlY29uZCBpcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllcn0gb2YgdGhlIGZlYXR1cmUgYW5kIHdpbGwgYmUgbnVsbCBmb3JcbiAqIHVubWFuYWdlZCBsYXllcnMuIFRoZSB0aGlyZCBpcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9nZW9tL1NpbXBsZUdlb21ldHJ5fSBvZiB0aGUgZmVhdHVyZS4gRm9yIGZlYXR1cmVzXG4gKiB3aXRoIGEgR2VvbWV0cnlDb2xsZWN0aW9uIGdlb21ldHJ5LCBpdCB3aWxsIGJlIHRoZSBmaXJzdCBkZXRlY3RlZCBnZW9tZXRyeSBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2VcIikuZGVmYXVsdD4sIGltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCk6IFR9IEZlYXR1cmVDYWxsYmFja1xuICovXG4vKipcbiAqIFRvbGVyYW5jZSBmb3IgZ2VvbWV0cnkgc2ltcGxpZmljYXRpb24gaW4gZGV2aWNlIHBpeGVscy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBTSU1QTElGWV9UT0xFUkFOQ0UgPSAwLjU7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgICAgICAgZnVuY3Rpb24oaW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdCwgT2JqZWN0KTogdm9pZD59XG4gKi9cbnZhciBHRU9NRVRSWV9SRU5ERVJFUlMgPSB7XG4gICAgJ1BvaW50JzogcmVuZGVyUG9pbnRHZW9tZXRyeSxcbiAgICAnTGluZVN0cmluZyc6IHJlbmRlckxpbmVTdHJpbmdHZW9tZXRyeSxcbiAgICAnUG9seWdvbic6IHJlbmRlclBvbHlnb25HZW9tZXRyeSxcbiAgICAnTXVsdGlQb2ludCc6IHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeSxcbiAgICAnTXVsdGlMaW5lU3RyaW5nJzogcmVuZGVyTXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksXG4gICAgJ011bHRpUG9seWdvbic6IHJlbmRlck11bHRpUG9seWdvbkdlb21ldHJ5LFxuICAgICdHZW9tZXRyeUNvbGxlY3Rpb24nOiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSxcbiAgICAnQ2lyY2xlJzogcmVuZGVyQ2lyY2xlR2VvbWV0cnksXG59O1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUxIEZlYXR1cmUgMS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZTIgRmVhdHVyZSAyLlxuICogQHJldHVybiB7bnVtYmVyfSBPcmRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcmRlcihmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZ2V0VWlkKGZlYXR1cmUxKSwgMTApIC0gcGFyc2VJbnQoZ2V0VWlkKGZlYXR1cmUyKSwgMTApO1xufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgcGl4ZWwgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlZFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgdmFyIHRvbGVyYW5jZSA9IGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICByZXR1cm4gdG9sZXJhbmNlICogdG9sZXJhbmNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIChTSU1QTElGWV9UT0xFUkFOQ0UgKiByZXNvbHV0aW9uKSAvIHBpeGVsUmF0aW87XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIEJ1aWxkZXIgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNpcmNsZUdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICBpZiAoZmlsbFN0eWxlIHx8IHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBjaXJjbGVSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuQ0lSQ0xFKTtcbiAgICAgICAgY2lyY2xlUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgY2lyY2xlUmVwbGF5LmRyYXdDaXJjbGUoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW29wdF90cmFuc2Zvcm1dIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHN0eWxlIGlzIGxvYWRpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJGZWF0dXJlKHJlcGxheUdyb3VwLCBmZWF0dXJlLCBzdHlsZSwgc3F1YXJlZFRvbGVyYW5jZSwgbGlzdGVuZXIsIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgbG9hZGluZyA9IGZhbHNlO1xuICAgIHZhciBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgICBpZiAoaW1hZ2VTdHlsZSkge1xuICAgICAgICB2YXIgaW1hZ2VTdGF0ZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpO1xuICAgICAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRCB8fCBpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIGltYWdlU3R5bGUudW5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVN0eWxlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlU3RhdGUgPSBpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKTtcbiAgICAgICAgICAgIGltYWdlU3R5bGUubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpO1xuICAgICAgICAgICAgbG9hZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyRmVhdHVyZUludGVybmFsKHJlcGxheUdyb3VwLCBmZWF0dXJlLCBzdHlsZSwgc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCk7XG4gICAgcmV0dXJuIGxvYWRpbmc7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFtvcHRfdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckZlYXR1cmVJbnRlcm5hbChyZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGUsIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZ2VvbWV0cnkgPSBzdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gICAgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzaW1wbGlmaWVkR2VvbWV0cnkgPSBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pO1xuICAgIHZhciByZW5kZXJlciA9IHN0eWxlLmdldFJlbmRlcmVyKCk7XG4gICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBzaW1wbGlmaWVkR2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW3NpbXBsaWZpZWRHZW9tZXRyeS5nZXRUeXBlKCldO1xuICAgICAgICBnZW9tZXRyeVJlbmRlcmVyKHJlcGxheUdyb3VwLCBzaW1wbGlmaWVkR2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpIHtcbiAgICBpZiAoZ2VvbWV0cnkuZ2V0VHlwZSgpID09IEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OKSB7XG4gICAgICAgIHZhciBnZW9tZXRyaWVzID0gXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJpZXNbaV0sIHN0eWxlLCBmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXBsYXkgPSByZXBsYXlHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5ERUZBVUxUKTtcbiAgICByZXBsYXkuZHJhd0N1c3RvbShcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSwgZmVhdHVyZSwgc3R5bGUuZ2V0UmVuZGVyZXIoKSwgc3R5bGUuZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIoKSk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGdlb21ldHJpZXMgPSBnZW9tZXRyeS5nZXRHZW9tZXRyaWVzQXJyYXkoKTtcbiAgICB2YXIgaSwgaWk7XG4gICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5UmVuZGVyZXIgPSBHRU9NRVRSWV9SRU5ERVJFUlNbZ2VvbWV0cmllc1tpXS5nZXRUeXBlKCldO1xuICAgICAgICBnZW9tZXRyeVJlbmRlcmVyKHJlcGxheUdyb3VwLCBnZW9tZXRyaWVzW2ldLCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJMaW5lU3RyaW5nR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICBpZiAoc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIGxpbmVTdHJpbmdSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuTElORV9TVFJJTkcpO1xuICAgICAgICBsaW5lU3RyaW5nUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShudWxsLCBzdHJva2VTdHlsZSk7XG4gICAgICAgIGxpbmVTdHJpbmdSZXBsYXkuZHJhd0xpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChzdHJva2VTdHlsZSkge1xuICAgICAgICB2YXIgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5MSU5FX1NUUklORyk7XG4gICAgICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgbGluZVN0cmluZ1JlcGxheS5kcmF3TXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChzdHJva2VTdHlsZSB8fCBmaWxsU3R5bGUpIHtcbiAgICAgICAgdmFyIHBvbHlnb25SZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuUE9MWUdPTik7XG4gICAgICAgIHBvbHlnb25SZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBwb2x5Z29uUmVwbGF5LmRyYXdNdWx0aVBvbHlnb24oZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclBvaW50R2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgaW1hZ2VTdHlsZSA9IHN0eWxlLmdldEltYWdlKCk7XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi9cbiAgICB2YXIgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dDtcbiAgICBpZiAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICBidWlsZGVyR3JvdXAgPSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgICAgICBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0ID1cbiAgICAgICAgICAgIGltYWdlU3R5bGUgJiYgdGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkgPyB7fSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICAgICAgaWYgKGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpICE9IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltYWdlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLklNQUdFKTtcbiAgICAgICAgaW1hZ2VSZXBsYXkuc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICAgICAgaW1hZ2VSZXBsYXkuZHJhd1BvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICAgIHZhciBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0O1xuICAgIGlmIChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICAgIGJ1aWxkZXJHcm91cCA9IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPVxuICAgICAgICAgICAgaW1hZ2VTdHlsZSAmJiB0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSA/IHt9IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaW1hZ2VTdHlsZSkge1xuICAgICAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW1hZ2VSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuSU1BR0UpO1xuICAgICAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICBpbWFnZVJlcGxheS5kcmF3TXVsdGlQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUG9seWdvbkdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICBpZiAoZmlsbFN0eWxlIHx8IHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBwb2x5Z29uUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlBPTFlHT04pO1xuICAgICAgICBwb2x5Z29uUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgcG9seWdvblJlcGxheS5kcmF3UG9seWdvbihnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyR3JvdXAgZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanMnO1xuaW1wb3J0IENhbnZhc0xheWVyUmVuZGVyZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgRXhlY3V0b3JHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4uLy4uL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7IEhJVF9ERVRFQ1RfUkVTT0xVVElPTiwgY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhLCBoaXREZXRlY3QsIH0gZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3QuanMnO1xuaW1wb3J0IHsgYXBwbHksIG1ha2VJbnZlcnNlLCBtYWtlU2NhbGUsIHRvU3RyaW5nIGFzIHRyYW5zZm9ybVRvU3RyaW5nLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBidWZmZXIsIGNvbnRhaW5zRXh0ZW50LCBjcmVhdGVFbXB0eSwgZ2V0V2lkdGgsIGludGVyc2VjdHMgYXMgaW50ZXJzZWN0c0V4dGVudCwgd3JhcFggYXMgd3JhcEV4dGVudFgsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNzc09wYWNpdHkgfSBmcm9tICcuLi8uLi9jc3MuanMnO1xuaW1wb3J0IHsgZGVmYXVsdE9yZGVyIGFzIGRlZmF1bHRSZW5kZXJPcmRlciwgZ2V0VG9sZXJhbmNlIGFzIGdldFJlbmRlclRvbGVyYW5jZSwgZ2V0U3F1YXJlZFRvbGVyYW5jZSBhcyBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlLCByZW5kZXJGZWF0dXJlLCB9IGZyb20gJy4uL3ZlY3Rvci5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBmcm9tVXNlckV4dGVudCwgZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zLCBnZXRVc2VyUHJvamVjdGlvbiwgdG9Vc2VyRXh0ZW50LCB0b1VzZXJSZXNvbHV0aW9uLCB9IGZyb20gJy4uLy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyB3cmFwWCBhcyB3cmFwQ29vcmRpbmF0ZVggfSBmcm9tICcuLi8uLi9jb29yZGluYXRlLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB2ZWN0b3IgbGF5ZXJzLlxuICogQGFwaVxuICovXG52YXIgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0Jhc2VWZWN0b3IuanNcIikuZGVmYXVsdH0gdmVjdG9yTGF5ZXIgVmVjdG9yIGxheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIodmVjdG9yTGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVjdG9yTGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gX3RoaXMuaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8uYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eV8gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtJbWFnZURhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRGZWF0dXJlc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXNvbHV0aW9uXyA9IE5hTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRFeHRlbnRfID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud3JhcHBlZFJlbmRlcmVkRXh0ZW50XyA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSb3RhdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZVwiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRDZW50ZXJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9wcm9qL1Byb2plY3Rpb25cIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUHJvamVjdGlvbl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogbnVtYmVyfG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJlbmRlck9yZGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXBsYXlHcm91cF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBuZXcgcmVwbGF5IGdyb3VwIGhhZCB0byBiZSBjcmVhdGVkIGJ5IGBwcmVwYXJlRnJhbWUoKWBcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXBsYXlHcm91cENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cFwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGlwcGluZyB0byBiZSBwZXJmb3JtZWQgYnkgYHJlbmRlckZyYW1lKClgXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xpcHBpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RXhlY3V0b3JHcm91cH0gZXhlY3V0b3JHcm91cCBFeGVjdXRvciBncm91cC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJXb3JsZHMgPSBmdW5jdGlvbiAoZXhlY3V0b3JHcm91cCwgZnJhbWVTdGF0ZSwgb3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IGZyYW1lU3RhdGUuZXh0ZW50O1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHZhciBjZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIHZlY3RvclNvdXJjZSA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRTb3VyY2UoKTtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciB2aWV3SGludHMgPSBmcmFtZVN0YXRlLnZpZXdIaW50cztcbiAgICAgICAgdmFyIHNuYXBUb1BpeGVsID0gISh2aWV3SGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCB2aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGZyYW1lU3RhdGUuc2l6ZVsxXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgbXVsdGlXb3JsZCA9IHZlY3RvclNvdXJjZS5nZXRXcmFwWCgpICYmIHByb2plY3Rpb24uY2FuV3JhcFgoKTtcbiAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBtdWx0aVdvcmxkID8gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCkgOiBudWxsO1xuICAgICAgICB2YXIgZW5kV29ybGQgPSBtdWx0aVdvcmxkXG4gICAgICAgICAgICA/IE1hdGguY2VpbCgoZXh0ZW50WzJdIC0gcHJvamVjdGlvbkV4dGVudFsyXSkgLyB3b3JsZFdpZHRoKSArIDFcbiAgICAgICAgICAgIDogMTtcbiAgICAgICAgdmFyIHdvcmxkID0gbXVsdGlXb3JsZFxuICAgICAgICAgICAgPyBNYXRoLmZsb29yKChleHRlbnRbMF0gLSBwcm9qZWN0aW9uRXh0ZW50WzBdKSAvIHdvcmxkV2lkdGgpXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmdldFJlbmRlclRyYW5zZm9ybShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBwaXhlbFJhdGlvLCB3aWR0aCwgaGVpZ2h0LCB3b3JsZCAqIHdvcmxkV2lkdGgpO1xuICAgICAgICAgICAgZXhlY3V0b3JHcm91cC5leGVjdXRlKGNvbnRleHQsIDEsIHRyYW5zZm9ybSwgcm90YXRpb24sIHNuYXBUb1BpeGVsLCB1bmRlZmluZWQsIG9wdF9kZWNsdXR0ZXJUcmVlKTtcbiAgICAgICAgfSB3aGlsZSAoKyt3b3JsZCA8IGVuZFdvcmxkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBkZWNsdXR0ZXIgaXRlbXMgZm9yIHRoaXMgbGF5ZXJcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckRlY2x1dHRlciA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXApIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyV29ybGRzKHRoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCwgZnJhbWVTdGF0ZSwgZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgdGhhdCBtYXkgYmUgdXNlZCB0byByZW5kZXIgY29udGVudCB0by5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheVtmcmFtZVN0YXRlLmxheWVySW5kZXhdO1xuICAgICAgICAvLyBzZXQgZm9yd2FyZCBhbmQgaW52ZXJzZSBwaXhlbCB0cmFuc2Zvcm1zXG4gICAgICAgIG1ha2VTY2FsZSh0aGlzLnBpeGVsVHJhbnNmb3JtLCAxIC8gcGl4ZWxSYXRpbywgMSAvIHBpeGVsUmF0aW8pO1xuICAgICAgICBtYWtlSW52ZXJzZSh0aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybSwgdGhpcy5waXhlbFRyYW5zZm9ybSk7XG4gICAgICAgIHZhciBjYW52YXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1Ub1N0cmluZyh0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy51c2VDb250YWluZXIodGFyZ2V0LCBjYW52YXNUcmFuc2Zvcm0sIGxheWVyU3RhdGUub3BhY2l0eSwgdGhpcy5nZXRCYWNrZ3JvdW5kKGZyYW1lU3RhdGUpKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgdmFyIHJlcGxheUdyb3VwID0gdGhpcy5yZXBsYXlHcm91cF87XG4gICAgICAgIHZhciBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwO1xuICAgICAgICBpZiAoKCFyZXBsYXlHcm91cCB8fCByZXBsYXlHcm91cC5pc0VtcHR5KCkpICYmXG4gICAgICAgICAgICAoIWRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgfHwgZGVjbHV0dGVyRXhlY3V0b3JHcm91cC5pc0VtcHR5KCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNpemUgYW5kIGNsZWFyXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGZyYW1lU3RhdGUuc2l6ZVsxXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBpZiAoY2FudmFzLnN0eWxlLnRyYW5zZm9ybSAhPT0gY2FudmFzVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGNhbnZhc1RyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jb250YWluZXJSZXVzZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlUmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgICAgIC8vIGNsaXBwZWQgcmVuZGVyaW5nIGlmIGxheWVyIGV4dGVudCBpcyBzZXRcbiAgICAgICAgdmFyIGNsaXBwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlbmRlciA9IHRydWU7XG4gICAgICAgIGlmIChsYXllclN0YXRlLmV4dGVudCAmJiB0aGlzLmNsaXBwaW5nKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXJFeHRlbnQgPSBmcm9tVXNlckV4dGVudChsYXllclN0YXRlLmV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICByZW5kZXIgPSBpbnRlcnNlY3RzRXh0ZW50KGxheWVyRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCk7XG4gICAgICAgICAgICBjbGlwcGVkID0gcmVuZGVyICYmICFjb250YWluc0V4dGVudChsYXllckV4dGVudCwgZnJhbWVTdGF0ZS5leHRlbnQpO1xuICAgICAgICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBVbnJvdGF0ZWQoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyV29ybGRzKHJlcGxheUdyb3VwLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xpcHBlZCkge1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgICAgICB2YXIgb3BhY2l0eSA9IGNzc09wYWNpdHkobGF5ZXJTdGF0ZS5vcGFjaXR5KTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAob3BhY2l0eSAhPT0gY29udGFpbmVyLnN0eWxlLm9wYWNpdHkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFJvdGF0aW9uXyAhPT0gdmlld1N0YXRlLnJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUm90YXRpb25fID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgbGF5ZXIgbGV2ZWwgaGl0IGRldGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmVcIikuZGVmYXVsdD4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmVcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9yZW5kZXIvRmVhdHVyZVwiKS5kZWZhdWx0Pik6IHZvaWR9IHJlc29sdmUgUmVzb2x2ZXIgZnVuY3Rpb24uXG4gICAgICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfICYmICF0aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSBbdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHRdO1xuICAgICAgICAgICAgICAgIGFwcGx5KHRoaXMucGl4ZWxUcmFuc2Zvcm0sIHNpemUpO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLnJlbmRlcmVkQ2VudGVyXztcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uXztcbiAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLnJlbmRlcmVkUm90YXRpb25fO1xuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5yZW5kZXJlZFByb2plY3Rpb25fO1xuICAgICAgICAgICAgICAgIHZhciBleHRlbnQgPSB0aGlzLndyYXBwZWRSZW5kZXJlZEV4dGVudF87XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1zID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2l6ZVswXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTjtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2l6ZVsxXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTjtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zLnB1c2godGhpcy5nZXRSZW5kZXJUcmFuc2Zvcm0oY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgSElUX0RFVEVDVF9SRVNPTFVUSU9OLCB3aWR0aCwgaGVpZ2h0LCAwKS5zbGljZSgpKTtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuZ2V0V3JhcFgoKSAmJlxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWNvbnRhaW5zRXh0ZW50KHByb2plY3Rpb25FeHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0WCA9IGV4dGVudFswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmxkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldFggPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydFggPCBwcm9qZWN0aW9uRXh0ZW50WzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAtLXdvcmxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCA9IHdvcmxkV2lkdGggKiB3b3JsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0aGlzLmdldFJlbmRlclRyYW5zZm9ybShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBISVRfREVURUNUX1JFU09MVVRJT04sIHdpZHRoLCBoZWlnaHQsIG9mZnNldFgpLnNsaWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRYICs9IHdvcmxkV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ybGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSBleHRlbnRbMl07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydFggPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3dvcmxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCA9IHdvcmxkV2lkdGggKiB3b3JsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0aGlzLmdldFJlbmRlclRyYW5zZm9ybShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBISVRfREVURUNUX1JFU09MVVRJT04sIHdpZHRoLCBoZWlnaHQsIG9mZnNldFgpLnNsaWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRYIC09IHdvcmxkV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKHNpemUsIHRyYW5zZm9ybXMsIHRoaXMucmVuZGVyZWRGZWF0dXJlc18sIGxheWVyLmdldFN0eWxlRnVuY3Rpb24oKSwgZXh0ZW50LCByZXNvbHV0aW9uLCByb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKGhpdERldGVjdChwaXhlbCwgdGhpcy5yZW5kZXJlZEZlYXR1cmVzXywgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9NYXAuanNcIikuSGl0TWF0Y2g8VD4+fSBtYXRjaGVzIFRoZSBoaXQgZGV0ZWN0ZWQgbWF0Y2hlcyB3aXRoIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgbWF0Y2hlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMucmVwbGF5R3JvdXBfKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+fHRydWU+fSAqL1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZVNxIFRoZSBzcXVhcmVkIGRpc3RhbmNlIHRvIHRoZSBjbGljayBwb3NpdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGZlYXR1cmVDYWxsYmFjayA9IGZ1bmN0aW9uIChmZWF0dXJlLCBnZW9tZXRyeSwgZGlzdGFuY2VTcSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZlYXR1cmVzW2tleV07XG4gICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlU3EgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goKGZlYXR1cmVzW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgIGxheWVyOiBsYXllcixcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVNxOiBkaXN0YW5jZVNxLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2ggIT09IHRydWUgJiYgZGlzdGFuY2VTcSA8IG1hdGNoLmRpc3RhbmNlU3EpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VTcSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5zcGxpY2UobWF0Y2hlcy5sYXN0SW5kZXhPZihtYXRjaCksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmVhdHVyZSwgbGF5ZXIsIGdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWF0Y2guZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICAgICAgICBtYXRjaC5kaXN0YW5jZVNxID0gZGlzdGFuY2VTcTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBleGVjdXRvckdyb3VwcyA9IFt0aGlzLnJlcGxheUdyb3VwX107XG4gICAgICAgIGlmICh0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXApIHtcbiAgICAgICAgICAgIGV4ZWN1dG9yR3JvdXBzLnB1c2godGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBleGVjdXRvckdyb3Vwcy5zb21lKGZ1bmN0aW9uIChleGVjdXRvckdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9IGV4ZWN1dG9yR3JvdXAuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgcm90YXRpb24sIGhpdFRvbGVyYW5jZSwgZmVhdHVyZUNhbGxiYWNrLCBleGVjdXRvckdyb3VwID09PSBfdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwICYmXG4gICAgICAgICAgICAgICAgZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlXG4gICAgICAgICAgICAgICAgPyBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUuYWxsKCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnZhbHVlOyB9KVxuICAgICAgICAgICAgICAgIDogbnVsbCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYWN0aW9uIG5lY2Vzc2FyeSB0byBnZXQgdGhlIGxheWVyIHJlbmRlcmVkIGFmdGVyIG5ldyBmb250cyBoYXZlIGxvYWRlZFxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUZvbnRzQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICBpZiAobGF5ZXIuZ2V0VmlzaWJsZSgpICYmIHRoaXMucmVwbGF5R3JvdXBfKSB7XG4gICAgICAgICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0eWxlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIHN0eWxlIGNoYW5nZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIHZlY3RvckxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdmVjdG9yU291cmNlID0gdmVjdG9yTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgIGlmICghdmVjdG9yU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFuaW1hdGluZyA9IGZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR107XG4gICAgICAgIHZhciBpbnRlcmFjdGluZyA9IGZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXTtcbiAgICAgICAgdmFyIHVwZGF0ZVdoaWxlQW5pbWF0aW5nID0gdmVjdG9yTGF5ZXIuZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmcoKTtcbiAgICAgICAgdmFyIHVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgPSB2ZWN0b3JMYXllci5nZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nKCk7XG4gICAgICAgIGlmICgoIXRoaXMuZGlydHlfICYmICF1cGRhdGVXaGlsZUFuaW1hdGluZyAmJiBhbmltYXRpbmcpIHx8XG4gICAgICAgICAgICAoIXVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgJiYgaW50ZXJhY3RpbmcpKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ18gPSBmYWxzZTtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGVFeHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHZlY3RvckxheWVyUmV2aXNpb24gPSB2ZWN0b3JMYXllci5nZXRSZXZpc2lvbigpO1xuICAgICAgICB2YXIgdmVjdG9yTGF5ZXJSZW5kZXJCdWZmZXIgPSB2ZWN0b3JMYXllci5nZXRSZW5kZXJCdWZmZXIoKTtcbiAgICAgICAgdmFyIHZlY3RvckxheWVyUmVuZGVyT3JkZXIgPSB2ZWN0b3JMYXllci5nZXRSZW5kZXJPcmRlcigpO1xuICAgICAgICBpZiAodmVjdG9yTGF5ZXJSZW5kZXJPcmRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2ZWN0b3JMYXllclJlbmRlck9yZGVyID0gZGVmYXVsdFJlbmRlck9yZGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyLnNsaWNlKCk7XG4gICAgICAgIHZhciBleHRlbnQgPSBidWZmZXIoZnJhbWVTdGF0ZUV4dGVudCwgdmVjdG9yTGF5ZXJSZW5kZXJCdWZmZXIgKiByZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHJlbmRlcmVkRXh0ZW50ID0gZXh0ZW50LnNsaWNlKCk7XG4gICAgICAgIHZhciBsb2FkRXh0ZW50cyA9IFtleHRlbnQuc2xpY2UoKV07XG4gICAgICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKHZlY3RvclNvdXJjZS5nZXRXcmFwWCgpICYmXG4gICAgICAgICAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAgICFjb250YWluc0V4dGVudChwcm9qZWN0aW9uRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCkpIHtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgcmVwbGF5IGdyb3VwLCB3ZSBuZWVkIGFuIGV4dGVudCB0aGF0IGludGVyc2VjdHMgdGhlIHJlYWwgd29ybGRcbiAgICAgICAgICAgIC8vICgtMTgwwrAgdG8gKzE4MMKwKS4gVG8gc3VwcG9ydCBnZW9tZXRyaWVzIGluIGEgY29vcmRpbmF0ZSByYW5nZSBmcm9tIC01NDDCsFxuICAgICAgICAgICAgLy8gdG8gKzU0MMKwLCB3ZSBhZGQgYXQgbGVhc3QgMSB3b3JsZCB3aWR0aCBvbiBlYWNoIHNpZGUgb2YgdGhlIHByb2plY3Rpb25cbiAgICAgICAgICAgIC8vIGV4dGVudC4gSWYgdGhlIHZpZXdwb3J0IGlzIHdpZGVyIHRoYW4gdGhlIHdvcmxkLCB3ZSBuZWVkIHRvIGFkZCBoYWxmIG9mXG4gICAgICAgICAgICAvLyB0aGUgdmlld3BvcnQgd2lkdGggdG8gbWFrZSBzdXJlIHdlIGNvdmVyIHRoZSB3aG9sZSB2aWV3cG9ydC5cbiAgICAgICAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgICAgICB2YXIgZ3V0dGVyID0gTWF0aC5tYXgoZ2V0V2lkdGgoZXh0ZW50KSAvIDIsIHdvcmxkV2lkdGgpO1xuICAgICAgICAgICAgZXh0ZW50WzBdID0gcHJvamVjdGlvbkV4dGVudFswXSAtIGd1dHRlcjtcbiAgICAgICAgICAgIGV4dGVudFsyXSA9IHByb2plY3Rpb25FeHRlbnRbMl0gKyBndXR0ZXI7XG4gICAgICAgICAgICB3cmFwQ29vcmRpbmF0ZVgoY2VudGVyLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBsb2FkRXh0ZW50ID0gd3JhcEV4dGVudFgobG9hZEV4dGVudHNbMF0sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGV4dGVudCBjcm9zc2VzIHRoZSBkYXRlIGxpbmUsIHdlIGxvYWQgZGF0YSBmb3IgYm90aCBlZGdlcyBvZiB0aGUgd29ybGRzXG4gICAgICAgICAgICBpZiAobG9hZEV4dGVudFswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gJiZcbiAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzJdIDwgcHJvamVjdGlvbkV4dGVudFsyXSkge1xuICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzBdICsgd29ybGRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFsxXSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFsyXSArIHdvcmxkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbM10sXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb2FkRXh0ZW50WzBdID4gcHJvamVjdGlvbkV4dGVudFswXSAmJlxuICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMl0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAgICAgICAgICAgbG9hZEV4dGVudHMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMF0gLSB3b3JsZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzJdIC0gd29ybGRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFszXSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGlydHlfICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbl8gPT0gcmVzb2x1dGlvbiAmJlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9PSB2ZWN0b3JMYXllclJldmlzaW9uICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUmVuZGVyT3JkZXJfID09IHZlY3RvckxheWVyUmVuZGVyT3JkZXIgJiZcbiAgICAgICAgICAgIGNvbnRhaW5zRXh0ZW50KHRoaXMud3JhcHBlZFJlbmRlcmVkRXh0ZW50XywgZXh0ZW50KSkge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHModGhpcy5yZW5kZXJlZEV4dGVudF8sIHJlbmRlcmVkRXh0ZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSByZW5kZXJlZEV4dGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRDZW50ZXJfID0gY2VudGVyO1xuICAgICAgICAgICAgdGhpcy5yZXBsYXlHcm91cENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwbGF5R3JvdXBfID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXJ0eV8gPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlcGxheUdyb3VwID0gbmV3IENhbnZhc0J1aWxkZXJHcm91cChnZXRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyksIGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBkZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGlmICh0aGlzLmdldExheWVyKCkuZ2V0RGVjbHV0dGVyKCkpIHtcbiAgICAgICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cCA9IG5ldyBDYW52YXNCdWlsZGVyR3JvdXAoZ2V0UmVuZGVyVG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pLCBleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VyUHJvamVjdGlvbiA9IGdldFVzZXJQcm9qZWN0aW9uKCk7XG4gICAgICAgIHZhciB1c2VyVHJhbnNmb3JtO1xuICAgICAgICBpZiAodXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxvYWRFeHRlbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ZW50XzEgPSBsb2FkRXh0ZW50c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgdXNlckV4dGVudF8xID0gdG9Vc2VyRXh0ZW50KGV4dGVudF8xLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2ZWN0b3JTb3VyY2UubG9hZEZlYXR1cmVzKHVzZXJFeHRlbnRfMSwgdG9Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSwgdXNlclByb2plY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXNlclRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyh1c2VyUHJvamVjdGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsb2FkRXh0ZW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVjdG9yU291cmNlLmxvYWRGZWF0dXJlcyhsb2FkRXh0ZW50c1tpXSwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNxdWFyZWRUb2xlcmFuY2UgPSBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgcmVuZGVyID0gXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAdGhpcyB7Q2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGVzO1xuICAgICAgICAgICAgdmFyIHN0eWxlRnVuY3Rpb24gPSBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCB2ZWN0b3JMYXllci5nZXRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc3R5bGVGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHN0eWxlcyA9IHN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5yZW5kZXJGZWF0dXJlKGZlYXR1cmUsIHNxdWFyZWRUb2xlcmFuY2UsIHN0eWxlcywgcmVwbGF5R3JvdXAsIHVzZXJUcmFuc2Zvcm0sIGRlY2x1dHRlckJ1aWxkZXJHcm91cCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eV8gPSB0aGlzLmRpcnR5XyB8fCBkaXJ0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB2YXIgdXNlckV4dGVudCA9IHRvVXNlckV4dGVudChleHRlbnQsIHByb2plY3Rpb24pO1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovXG4gICAgICAgIHZhciBmZWF0dXJlcyA9IHZlY3RvclNvdXJjZS5nZXRGZWF0dXJlc0luRXh0ZW50KHVzZXJFeHRlbnQpO1xuICAgICAgICBpZiAodmVjdG9yTGF5ZXJSZW5kZXJPcmRlcikge1xuICAgICAgICAgICAgZmVhdHVyZXMuc29ydCh2ZWN0b3JMYXllclJlbmRlck9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICByZW5kZXIoZmVhdHVyZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZWRGZWF0dXJlc18gPSBmZWF0dXJlcztcbiAgICAgICAgdmFyIHJlcGxheUdyb3VwSW5zdHJ1Y3Rpb25zID0gcmVwbGF5R3JvdXAuZmluaXNoKCk7XG4gICAgICAgIHZhciBleGVjdXRvckdyb3VwID0gbmV3IEV4ZWN1dG9yR3JvdXAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCB2ZWN0b3JTb3VyY2UuZ2V0T3ZlcmxhcHMoKSwgcmVwbGF5R3JvdXBJbnN0cnVjdGlvbnMsIHZlY3RvckxheWVyLmdldFJlbmRlckJ1ZmZlcigpKTtcbiAgICAgICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbmV3IEV4ZWN1dG9yR3JvdXAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCB2ZWN0b3JTb3VyY2UuZ2V0T3ZlcmxhcHMoKSwgZGVjbHV0dGVyQnVpbGRlckdyb3VwLmZpbmlzaCgpLCB2ZWN0b3JMYXllci5nZXRSZW5kZXJCdWZmZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IHZlY3RvckxheWVyUmV2aXNpb247XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZW5kZXJPcmRlcl8gPSB2ZWN0b3JMYXllclJlbmRlck9yZGVyO1xuICAgICAgICB0aGlzLnJlbmRlcmVkRXh0ZW50XyA9IHJlbmRlcmVkRXh0ZW50O1xuICAgICAgICB0aGlzLndyYXBwZWRSZW5kZXJlZEV4dGVudF8gPSBleHRlbnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZWRDZW50ZXJfID0gY2VudGVyO1xuICAgICAgICB0aGlzLnJlbmRlcmVkUHJvamVjdGlvbl8gPSBwcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLnJlcGxheUdyb3VwXyA9IGV4ZWN1dG9yR3JvdXA7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVwbGF5R3JvdXBDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgcmVuZGVyIHRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR8QXJyYXk8aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD59IHN0eWxlcyBUaGUgc3R5bGUgb3IgYXJyYXkgb2Ygc3R5bGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIEJ1aWxkZXIgZ3JvdXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gVHJhbnNmb3JtIGZyb20gdXNlciB0byB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBhbiBpbWFnZSBpcyBsb2FkaW5nLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSwgc3F1YXJlZFRvbGVyYW5jZSwgc3R5bGVzLCBidWlsZGVyR3JvdXAsIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzdHlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGxvYWRpbmcgPVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJGZWF0dXJlKGJ1aWxkZXJHcm91cCwgZmVhdHVyZSwgc3R5bGVzW2ldLCBzcXVhcmVkVG9sZXJhbmNlLCB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHx8IGxvYWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2FkaW5nID0gcmVuZGVyRmVhdHVyZShidWlsZGVyR3JvdXAsIGZlYXR1cmUsIHN0eWxlcywgc3F1YXJlZFRvbGVyYW5jZSwgdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfLCBvcHRfdHJhbnNmb3JtLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9hZGluZztcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyO1xufShDYW52YXNMYXllclJlbmRlcmVyKSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yTGF5ZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9WZWN0b3JcbiAqL1xuaW1wb3J0IEJhc2VWZWN0b3JMYXllciBmcm9tICcuL0Jhc2VWZWN0b3IuanMnO1xuaW1wb3J0IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVmVjdG9yIGRhdGEgdGhhdCBpcyByZW5kZXJlZCBjbGllbnQtc2lkZS5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH0gVmVjdG9yU291cmNlVHlwZVxuICogQGV4dGVuZHMge0Jhc2VWZWN0b3JMYXllcjxWZWN0b3JTb3VyY2VUeXBlLCBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyPn1cbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvckxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWZWN0b3JMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQmFzZVZlY3Rvci5qc1wiKS5PcHRpb25zPFZlY3RvclNvdXJjZVR5cGU+fSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmVjdG9yTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG9wdF9vcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICBWZWN0b3JMYXllci5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcih0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBWZWN0b3JMYXllcjtcbn0oQmFzZVZlY3RvckxheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBWZWN0b3JMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL21hcmtlci5wbmdcIjsiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlQ2FudmFzXG4gKi9cbmltcG9ydCBJbWFnZUJhc2UgZnJvbSAnLi9JbWFnZUJhc2UuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi9JbWFnZVN0YXRlLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB0byB0cmlnZ2VyIGFzeW5jaHJvbm91cyBjYW52YXMgZHJhd2luZy4gIEl0IGlzXG4gKiBjYWxsZWQgd2l0aCBhIFwiZG9uZVwiIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGRyYXdpbmcgaXMgZG9uZS5cbiAqIElmIGFueSBlcnJvciBvY2N1cnMgZHVyaW5nIGRyYXdpbmcsIHRoZSBcImRvbmVcIiBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkIHdpdGhcbiAqIHRoYXQgZXJyb3IuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGZ1bmN0aW9uKEVycm9yPSk6IHZvaWQpOiB2b2lkfSBMb2FkZXJcbiAqL1xudmFyIEltYWdlQ2FudmFzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUNhbnZhcywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBDYW52YXMuXG4gICAgICogQHBhcmFtIHtMb2FkZXJ9IFtvcHRfbG9hZGVyXSBPcHRpb25hbCBsb2FkZXIgZnVuY3Rpb24gdG9cbiAgICAgKiAgICAgc3VwcG9ydCBhc3luY2hyb25vdXMgY2FudmFzIGRyYXdpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VDYW52YXMoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBjYW52YXMsIG9wdF9sb2FkZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gb3B0X2xvYWRlciAhPT0gdW5kZWZpbmVkID8gSW1hZ2VTdGF0ZS5JRExFIDogSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzdGF0ZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wdGlvbmFsIGNhbnZhcyBsb2FkZXIgZnVuY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHs/TG9hZGVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGVyXyA9IG9wdF9sb2FkZXIgIT09IHVuZGVmaW5lZCA/IG9wdF9sb2FkZXIgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzXyA9IGNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/RXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lcnJvcl8gPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbnkgZXJyb3IgYXNzb2NpYXRlZCB3aXRoIGFzeW5jaHJvbm91cyByZW5kZXJpbmcuXG4gICAgICogQHJldHVybiB7P0Vycm9yfSBBbnkgZXJyb3IgdGhhdCBvY2N1cnJlZCBkdXJpbmcgcmVuZGVyaW5nLlxuICAgICAqL1xuICAgIEltYWdlQ2FudmFzLnByb3RvdHlwZS5nZXRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFzeW5jIGRyYXdpbmcgY29tcGxldGUuXG4gICAgICogQHBhcmFtIHtFcnJvcn0gW2Vycl0gQW55IGVycm9yIGR1cmluZyBkcmF3aW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VDYW52YXMucHJvdG90eXBlLmhhbmRsZUxvYWRfID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yXyA9IGVycjtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BREVEO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAgICovXG4gICAgSW1hZ2VDYW52YXMucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJfKHRoaXMuaGFuZGxlTG9hZF8uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc187XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VDYW52YXM7XG59KEltYWdlQmFzZSkpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VDYW52YXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZUNhbnZhcy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0Jhc2VJbWFnZVxuICovXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL0ltYWdlLmpzXCIpLmRlZmF1bHR9IEltYWdlU291cmNlVHlwZVxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIHtAbGluayBpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdCNhZGRMYXllciBtYXAuYWRkTGF5ZXIoKX0uXG4gKiBAcHJvcGVydHkge0ltYWdlU291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gW3Byb3BlcnRpZXNdIEFyYml0cmFyeSBvYnNlcnZhYmxlIHByb3BlcnRpZXMuIENhbiBiZSBhY2Nlc3NlZCB3aXRoIGAjZ2V0KClgIGFuZCBgI3NldCgpYC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXJ2ZXItcmVuZGVyZWQgaW1hZ2VzIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgYXJiaXRyYXJ5IGV4dGVudHMgYW5kXG4gKiByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBJbWFnZVNvdXJjZVR5cGVcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gUmVuZGVyZXJUeXBlXG4gKiBAZXh0ZW5kcyB7TGF5ZXI8SW1hZ2VTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG52YXIgQmFzZUltYWdlTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VJbWFnZUxheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uczxJbWFnZVNvdXJjZVR5cGU+fSBbb3B0X29wdGlvbnNdIExheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUltYWdlTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmFzZUltYWdlTGF5ZXI7XG59KExheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlSW1hZ2VMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VJbWFnZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9JbWFnZUxheWVyXG4gKi9cbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4uLy4uL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7IEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OIH0gZnJvbSAnLi4vLi4vcmVwcm9qL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQsIElNQUdFX1NNT09USElOR19FTkFCTEVEIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vLi4vb2JqLmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgY29udGFpbnNFeHRlbnQsIGludGVyc2VjdHMgYXMgaW50ZXJzZWN0c0V4dGVudCB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBmcm9tVXNlckV4dGVudCB9IGZyb20gJy4uLy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0SW50ZXJzZWN0aW9uLCBpc0VtcHR5IH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IHRvU3RyaW5nIGFzIHRvVHJhbnNmb3JtU3RyaW5nIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciBpbWFnZSBsYXllcnMuXG4gKiBAYXBpXG4gKi9cbnZhciBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlTGF5ZXIgSW1hZ2UgbGF5ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyKGltYWdlTGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW1hZ2VMYXllcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi8uLi9JbWFnZUJhc2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuaW1hZ2VfID8gbnVsbCA6IHRoaXMuaW1hZ2VfLmdldEltYWdlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXlbZnJhbWVTdGF0ZS5sYXllckluZGV4XTtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBpbWFnZVNvdXJjZSA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRTb3VyY2UoKTtcbiAgICAgICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgICAgIHZhciByZW5kZXJlZEV4dGVudCA9IGZyYW1lU3RhdGUuZXh0ZW50O1xuICAgICAgICBpZiAobGF5ZXJTdGF0ZS5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZGVyZWRFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24ocmVuZGVyZWRFeHRlbnQsIGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCB2aWV3U3RhdGUucHJvamVjdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSAmJlxuICAgICAgICAgICAgIWhpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXSAmJlxuICAgICAgICAgICAgIWlzRW1wdHkocmVuZGVyZWRFeHRlbnQpKSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2VTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZVByb2plY3Rpb24gPSBpbWFnZVNvdXJjZS5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uID0gc291cmNlUHJvamVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZVNvdXJjZS5nZXRJbWFnZShyZW5kZXJlZEV4dGVudCwgdmlld1Jlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZSAmJiB0aGlzLmxvYWRJbWFnZShpbWFnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhdGhpcy5pbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUsIHRhcmdldCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlXztcbiAgICAgICAgdmFyIGltYWdlRXh0ZW50ID0gaW1hZ2UuZ2V0RXh0ZW50KCk7XG4gICAgICAgIHZhciBpbWFnZVJlc29sdXRpb24gPSBpbWFnZS5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIHZhciBpbWFnZVBpeGVsUmF0aW8gPSBpbWFnZS5nZXRQaXhlbFJhdGlvKCk7XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICAgICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBzaXplID0gZnJhbWVTdGF0ZS5zaXplO1xuICAgICAgICB2YXIgc2NhbGUgPSAocGl4ZWxSYXRpbyAqIGltYWdlUmVzb2x1dGlvbikgLyAodmlld1Jlc29sdXRpb24gKiBpbWFnZVBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKHNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoc2l6ZVsxXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgdmFyIHNpemVfMSA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpKTtcbiAgICAgICAgICAgIHdpZHRoID0gc2l6ZV8xO1xuICAgICAgICAgICAgaGVpZ2h0ID0gc2l6ZV8xO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBmb3J3YXJkIGFuZCBpbnZlcnNlIHBpeGVsIHRyYW5zZm9ybXNcbiAgICAgICAgY29tcG9zZVRyYW5zZm9ybSh0aGlzLnBpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLnNpemVbMF0gLyAyLCBmcmFtZVN0YXRlLnNpemVbMV0gLyAyLCAxIC8gcGl4ZWxSYXRpbywgMSAvIHBpeGVsUmF0aW8sIHJvdGF0aW9uLCAtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMik7XG4gICAgICAgIG1ha2VJbnZlcnNlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCB0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdmFyIGNhbnZhc1RyYW5zZm9ybSA9IHRvVHJhbnNmb3JtU3RyaW5nKHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnVzZUNvbnRhaW5lcih0YXJnZXQsIGNhbnZhc1RyYW5zZm9ybSwgbGF5ZXJTdGF0ZS5vcGFjaXR5LCB0aGlzLmdldEJhY2tncm91bmQoZnJhbWVTdGF0ZSkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjbGlwcGVkIHJlbmRlcmluZyBpZiBsYXllciBleHRlbnQgaXMgc2V0XG4gICAgICAgIHZhciBjbGlwcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXIgPSB0cnVlO1xuICAgICAgICBpZiAobGF5ZXJTdGF0ZS5leHRlbnQpIHtcbiAgICAgICAgICAgIHZhciBsYXllckV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCB2aWV3U3RhdGUucHJvamVjdGlvbik7XG4gICAgICAgICAgICByZW5kZXIgPSBpbnRlcnNlY3RzRXh0ZW50KGxheWVyRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCk7XG4gICAgICAgICAgICBjbGlwcGVkID0gcmVuZGVyICYmICFjb250YWluc0V4dGVudChsYXllckV4dGVudCwgZnJhbWVTdGF0ZS5leHRlbnQpO1xuICAgICAgICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBVbnJvdGF0ZWQoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpbWcgPSBpbWFnZS5nZXRJbWFnZSgpO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgc2NhbGUsIHNjYWxlLCAwLCAoaW1hZ2VQaXhlbFJhdGlvICogKGltYWdlRXh0ZW50WzBdIC0gdmlld0NlbnRlclswXSkpIC8gaW1hZ2VSZXNvbHV0aW9uLCAoaW1hZ2VQaXhlbFJhdGlvICogKHZpZXdDZW50ZXJbMV0gLSBpbWFnZUV4dGVudFszXSkpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb24gPSAoaW1hZ2VSZXNvbHV0aW9uICogcGl4ZWxSYXRpbykgLyBpbWFnZVBpeGVsUmF0aW87XG4gICAgICAgIHZhciBkdyA9IGltZy53aWR0aCAqIHRyYW5zZm9ybVswXTtcbiAgICAgICAgdmFyIGRoID0gaW1nLmhlaWdodCAqIHRyYW5zZm9ybVszXTtcbiAgICAgICAgaWYgKCF0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCkuZ2V0SW50ZXJwb2xhdGUoKSkge1xuICAgICAgICAgICAgYXNzaWduKGNvbnRleHQsIElNQUdFX1NNT09USElOR19ESVNBQkxFRCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmIChyZW5kZXIgJiYgZHcgPj0gMC41ICYmIGRoID49IDAuNSkge1xuICAgICAgICAgICAgdmFyIGR4ID0gdHJhbnNmb3JtWzRdO1xuICAgICAgICAgICAgdmFyIGR5ID0gdHJhbnNmb3JtWzVdO1xuICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSBsYXllclN0YXRlLm9wYWNpdHk7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNBbHBoYSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNBbHBoYSA9IGNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDAsICtpbWcud2lkdGgsICtpbWcuaGVpZ2h0LCBNYXRoLnJvdW5kKGR4KSwgTWF0aC5yb3VuZChkeSksIE1hdGgucm91bmQoZHcpLCBNYXRoLnJvdW5kKGRoKSk7XG4gICAgICAgICAgICBpZiAob3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBwcmV2aW91c0FscGhhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRU5BQkxFRCk7XG4gICAgICAgIGlmIChjYW52YXNUcmFuc2Zvcm0gIT09IGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBjYW52YXNUcmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlcjtcbn0oQ2FudmFzTGF5ZXJSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VMYXllci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0ltYWdlXG4gKi9cbmltcG9ydCBCYXNlSW1hZ2VMYXllciBmcm9tICcuL0Jhc2VJbWFnZS5qcyc7XG5pbXBvcnQgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyIGZyb20gJy4uL3JlbmRlcmVyL2NhbnZhcy9JbWFnZUxheWVyLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2VydmVyLXJlbmRlcmVkIGltYWdlcyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIGFyYml0cmFyeSBleHRlbnRzIGFuZFxuICogcmVzb2x1dGlvbnMuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvSW1hZ2UuanNcIikuZGVmYXVsdH0gSW1hZ2VTb3VyY2VUeXBlXG4gKiBAZXh0ZW5kcyB7QmFzZUltYWdlTGF5ZXI8SW1hZ2VTb3VyY2VUeXBlLCBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXI+fVxuICogQGFwaVxuICovXG52YXIgSW1hZ2VMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQmFzZUltYWdlLmpzXCIpLk9wdGlvbnM8SW1hZ2VTb3VyY2VUeXBlPn0gW29wdF9vcHRpb25zXSBMYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG9wdF9vcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJbWFnZUxheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VMYXllcjtcbn0oQmFzZUltYWdlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IEltYWdlTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9SYXN0ZXJcbiAqL1xuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VDYW52YXMgZnJvbSAnLi4vSW1hZ2VDYW52YXMuanMnO1xuaW1wb3J0IEltYWdlTGF5ZXIgZnJvbSAnLi4vbGF5ZXIvSW1hZ2UuanMnO1xuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IFNvdXJjZSBmcm9tICcuL1NvdXJjZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi9TdGF0ZS5qcyc7XG5pbXBvcnQgVGlsZUxheWVyIGZyb20gJy4uL2xheWVyL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVRdWV1ZSBmcm9tICcuLi9UaWxlUXVldWUuanMnO1xuaW1wb3J0IFRpbGVTb3VyY2UgZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSB9IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBlcXVhbHMsIGdldENlbnRlciwgZ2V0SGVpZ2h0LCBnZXRXaWR0aCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbnZhciBoYXNJbWFnZURhdGEgPSB0cnVlO1xudHJ5IHtcbiAgICBuZXcgSW1hZ2VEYXRhKDEwLCAxMCk7XG59XG5jYXRjaCAoXykge1xuICAgIGhhc0ltYWdlRGF0YSA9IGZhbHNlO1xufVxuLyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovXG52YXIgY29udGV4dDtcbi8qKlxuICogQHBhcmFtIHtVaW50OENsYW1wZWRBcnJheX0gZGF0YSBJbWFnZSBkYXRhLlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIE51bWJlciBvZiBjb2x1bW5zLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBOdW1iZXIgb2Ygcm93cy5cbiAqIEByZXR1cm4ge0ltYWdlRGF0YX0gSW1hZ2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld0ltYWdlRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKGhhc0ltYWdlRGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH1cbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgaW1hZ2VEYXRhLmRhdGEuc2V0KGRhdGEpO1xuICAgIHJldHVybiBpbWFnZURhdGE7XG59XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1pbmlvbkRhdGFcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8QXJyYXlCdWZmZXI+fSBidWZmZXJzIEFycmF5IG9mIGJ1ZmZlcnMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gbWV0YSBPcGVyYXRpb24gbWV0YWRhdGEuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGltYWdlT3BzIFRoZSBvcGVyYXRpb24gaXMgYW4gaW1hZ2Ugb3BlcmF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIGltYWdlLlxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiBmb3IgcnVubmluZyBvcGVyYXRpb25zLiAgVGhpcyBmdW5jdGlvbiBpcyBzZXJpYWxpemVkIGZvclxuICogdXNlIGluIGEgd29ya2VyLlxuICogQHBhcmFtIHtmdW5jdGlvbihBcnJheSwgT2JqZWN0KToqfSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKE1pbmlvbkRhdGEpOkFycmF5QnVmZmVyfSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gb2JqZWN0IHdpdGhcbiAqIGJ1ZmZlcnMsIG1ldGEsIGltYWdlT3BzLCB3aWR0aCwgYW5kIGhlaWdodCBwcm9wZXJ0aWVzIGFuZCByZXR1cm5zIGFuIGFycmF5XG4gKiBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1pbmlvbihvcGVyYXRpb24pIHtcbiAgICB2YXIgd29ya2VySGFzSW1hZ2VEYXRhID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgICBuZXcgSW1hZ2VEYXRhKDEwLCAxMCk7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHdvcmtlckhhc0ltYWdlRGF0YSA9IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXdXb3JrZXJJbWFnZURhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAod29ya2VySGFzSW1hZ2VEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEltYWdlRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGRhdGEsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gYnJhY2tldCBub3RhdGlvbiBmb3IgbWluaWZpY2F0aW9uIHN1cHBvcnRcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBkYXRhWydidWZmZXJzJ107XG4gICAgICAgIHZhciBtZXRhID0gZGF0YVsnbWV0YSddO1xuICAgICAgICB2YXIgaW1hZ2VPcHMgPSBkYXRhWydpbWFnZU9wcyddO1xuICAgICAgICB2YXIgd2lkdGggPSBkYXRhWyd3aWR0aCddO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZGF0YVsnaGVpZ2h0J107XG4gICAgICAgIHZhciBudW1CdWZmZXJzID0gYnVmZmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBudW1CeXRlcyA9IGJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKGltYWdlT3BzKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VzID0gbmV3IEFycmF5KG51bUJ1ZmZlcnMpO1xuICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBudW1CdWZmZXJzOyArK2IpIHtcbiAgICAgICAgICAgICAgICBpbWFnZXNbYl0gPSBuZXdXb3JrZXJJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ1ZmZlcnNbYl0pLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvdXRwdXRfMSA9IG9wZXJhdGlvbihpbWFnZXMsIG1ldGEpLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0XzEuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobnVtQnl0ZXMpO1xuICAgICAgICB2YXIgYXJyYXlzID0gbmV3IEFycmF5KG51bUJ1ZmZlcnMpO1xuICAgICAgICB2YXIgcGl4ZWxzID0gbmV3IEFycmF5KG51bUJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IG51bUJ1ZmZlcnM7ICsrYikge1xuICAgICAgICAgICAgYXJyYXlzW2JdID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ1ZmZlcnNbYl0pO1xuICAgICAgICAgICAgcGl4ZWxzW2JdID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkgKz0gNCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1CdWZmZXJzOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbal07XG4gICAgICAgICAgICAgICAgcGl4ZWxzW2pdWzBdID0gYXJyYXlbaV07XG4gICAgICAgICAgICAgICAgcGl4ZWxzW2pdWzFdID0gYXJyYXlbaSArIDFdO1xuICAgICAgICAgICAgICAgIHBpeGVsc1tqXVsyXSA9IGFycmF5W2kgKyAyXTtcbiAgICAgICAgICAgICAgICBwaXhlbHNbal1bM10gPSBhcnJheVtpICsgM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGl4ZWwgPSBvcGVyYXRpb24ocGl4ZWxzLCBtZXRhKTtcbiAgICAgICAgICAgIG91dHB1dFtpXSA9IHBpeGVsWzBdO1xuICAgICAgICAgICAgb3V0cHV0W2kgKyAxXSA9IHBpeGVsWzFdO1xuICAgICAgICAgICAgb3V0cHV0W2kgKyAyXSA9IHBpeGVsWzJdO1xuICAgICAgICAgICAgb3V0cHV0W2kgKyAzXSA9IHBpeGVsWzNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQuYnVmZmVyO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIHdvcmtlciBmb3IgcnVubmluZyBvcGVyYXRpb25zLlxuICogQHBhcmFtIHtQcm9jZXNzb3JPcHRpb25zfSBjb25maWcgUHJvY2Vzc29yIG9wdGlvbnMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKE1lc3NhZ2VFdmVudCk6IHZvaWR9IG9uTWVzc2FnZSBDYWxsZWQgd2l0aCBhIG1lc3NhZ2UgZXZlbnQuXG4gKiBAcmV0dXJuIHtXb3JrZXJ9IFRoZSB3b3JrZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtlcihjb25maWcsIG9uTWVzc2FnZSkge1xuICAgIHZhciBsaWIgPSBPYmplY3Qua2V5cyhjb25maWcubGliIHx8IHt9KS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICd2YXIgJyArIG5hbWUgKyAnID0gJyArIGNvbmZpZy5saWJbbmFtZV0udG9TdHJpbmcoKSArICc7JztcbiAgICB9KTtcbiAgICB2YXIgbGluZXMgPSBsaWIuY29uY2F0KFtcbiAgICAgICAgJ3ZhciBfX21pbmlvbl9fID0gKCcgKyBjcmVhdGVNaW5pb24udG9TdHJpbmcoKSArICcpKCcsXG4gICAgICAgIGNvbmZpZy5vcGVyYXRpb24udG9TdHJpbmcoKSxcbiAgICAgICAgJyk7JyxcbiAgICAgICAgJ3NlbGYuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24oZXZlbnQpIHsnLFxuICAgICAgICAnICB2YXIgYnVmZmVyID0gX19taW5pb25fXyhldmVudC5kYXRhKTsnLFxuICAgICAgICAnICBzZWxmLnBvc3RNZXNzYWdlKHtidWZmZXI6IGJ1ZmZlciwgbWV0YTogZXZlbnQuZGF0YS5tZXRhfSwgW2J1ZmZlcl0pOycsXG4gICAgICAgICd9KTsnLFxuICAgIF0pO1xuICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKHR5cGVvZiBCbG9iID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/ICdkYXRhOnRleHQvamF2YXNjcmlwdDtiYXNlNjQsJyArXG4gICAgICAgICAgICBCdWZmZXIuZnJvbShsaW5lcy5qb2luKCdcXG4nKSwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICA6IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IobGluZXMsIHsgdHlwZTogJ3RleHQvamF2YXNjcmlwdCcgfSkpKTtcbiAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG4gICAgcmV0dXJuIHdvcmtlcjtcbn1cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmF1eE1lc3NhZ2VFdmVudFxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEgTWVzc2FnZSBkYXRhLlxuICovXG4vKipcbiAqIENyZWF0ZSBhIGZhdXggd29ya2VyIGZvciBydW5uaW5nIG9wZXJhdGlvbnMuXG4gKiBAcGFyYW0ge1Byb2Nlc3Nvck9wdGlvbnN9IGNvbmZpZyBDb25maWd1cmF0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihGYXV4TWVzc2FnZUV2ZW50KTogdm9pZH0gb25NZXNzYWdlIENhbGxlZCB3aXRoIGEgbWVzc2FnZSBldmVudC5cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGZhdXggd29ya2VyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVGYXV4V29ya2VyKGNvbmZpZywgb25NZXNzYWdlKSB7XG4gICAgdmFyIG1pbmlvbiA9IGNyZWF0ZU1pbmlvbihjb25maWcub3BlcmF0aW9uKTtcbiAgICB2YXIgdGVybWluYXRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbk1lc3NhZ2UoeyBkYXRhOiB7IGJ1ZmZlcjogbWluaW9uKGRhdGEpLCBtZXRhOiBkYXRhWydtZXRhJ10gfSB9KTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9LFxuICAgICAgICB0ZXJtaW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRlcm1pbmF0ZWQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihFcnJvciwgSW1hZ2VEYXRhLCAoT2JqZWN0fEFycmF5PE9iamVjdD4pKTogdm9pZH0gSm9iQ2FsbGJhY2tcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBKb2JcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBtZXRhIEpvYiBtZXRhZGF0YS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8SW1hZ2VEYXRhPn0gaW5wdXRzIEFycmF5IG9mIGlucHV0IGRhdGEuXG4gKiBAcHJvcGVydHkge0pvYkNhbGxiYWNrfSBjYWxsYmFjayBDYWxsZWQgd2hlbiB0aGUgam9iIGlzIGNvbXBsZXRlLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFByb2Nlc3Nvck9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aHJlYWRzIE51bWJlciBvZiB3b3JrZXJzIHRvIHNwYXduLlxuICogQHByb3BlcnR5IHtPcGVyYXRpb259IG9wZXJhdGlvbiBUaGUgb3BlcmF0aW9uLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCBGdW5jdGlvbj59IFtsaWJdIEZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgbWFkZSBhdmFpbGFibGUgdG8gb3BlcmF0aW9ucyBydW4gaW4gYSB3b3JrZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcXVldWUgVGhlIG51bWJlciBvZiBxdWV1ZWQgam9icyB0byBhbGxvdy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ltYWdlT3BzPWZhbHNlXSBQYXNzIGFsbCB0aGUgaW1hZ2UgZGF0YSB0byB0aGUgb3BlcmF0aW9uIGluc3RlYWQgb2YgYSBzaW5nbGUgcGl4ZWwuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBwcm9jZXNzb3IgcnVucyBwaXhlbCBvciBpbWFnZSBvcGVyYXRpb25zIGluIHdvcmtlcnMuXG4gKi9cbnZhciBQcm9jZXNzb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2Nlc3NvciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1Byb2Nlc3Nvck9wdGlvbnN9IGNvbmZpZyBDb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2Nlc3Nvcihjb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2ltYWdlT3BzID0gISFjb25maWcuaW1hZ2VPcHM7XG4gICAgICAgIHZhciB0aHJlYWRzO1xuICAgICAgICBpZiAoY29uZmlnLnRocmVhZHMgPT09IDApIHtcbiAgICAgICAgICAgIHRocmVhZHMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLl9pbWFnZU9wcykge1xuICAgICAgICAgICAgdGhyZWFkcyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJlYWRzID0gY29uZmlnLnRocmVhZHMgfHwgMTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFdvcmtlcj59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgd29ya2VycyA9IG5ldyBBcnJheSh0aHJlYWRzKTtcbiAgICAgICAgaWYgKHRocmVhZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhyZWFkczsgKytpKSB7XG4gICAgICAgICAgICAgICAgd29ya2Vyc1tpXSA9IGNyZWF0ZVdvcmtlcihjb25maWcsIF90aGlzLl9vbldvcmtlck1lc3NhZ2UuYmluZChfdGhpcywgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd29ya2Vyc1swXSA9IGNyZWF0ZUZhdXhXb3JrZXIoY29uZmlnLCBfdGhpcy5fb25Xb3JrZXJNZXNzYWdlLmJpbmQoX3RoaXMsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fd29ya2VycyA9IHdvcmtlcnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Sm9iPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9xdWV1ZSA9IFtdO1xuICAgICAgICBfdGhpcy5fbWF4UXVldWVMZW5ndGggPSBjb25maWcucXVldWUgfHwgSW5maW5pdHk7XG4gICAgICAgIF90aGlzLl9ydW5uaW5nID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBhbnk+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2RhdGFMb29rdXAgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtKb2J9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fam9iID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gb3BlcmF0aW9uIG9uIGlucHV0IGRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheTxJbWFnZURhdGE+fSBpbnB1dHMgQXJyYXkgb2YgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWV0YSBBIHVzZXIgZGF0YSBvYmplY3QuICBUaGlzIGlzIHBhc3NlZCB0byBhbGwgb3BlcmF0aW9uc1xuICAgICAqICAgICBhbmQgbXVzdCBiZSBzZXJpYWxpemFibGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihFcnJvciwgSW1hZ2VEYXRhLCBPYmplY3QpOiB2b2lkfSBjYWxsYmFjayBDYWxsZWQgd2hlbiB3b3JrXG4gICAgICogICAgIGNvbXBsZXRlcy4gIFRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbnkgZXJyb3IuICBUaGUgc2Vjb25kIGlzIHRoZSBJbWFnZURhdGFcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGJ5IG9wZXJhdGlvbnMuICBUaGUgdGhpcmQgaXMgdGhlIHVzZXIgZGF0YSBvYmplY3QuXG4gICAgICovXG4gICAgUHJvY2Vzc29yLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGlucHV0cywgbWV0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZW5xdWV1ZSh7XG4gICAgICAgICAgICBpbnB1dHM6IGlucHV0cyxcbiAgICAgICAgICAgIG1ldGE6IG1ldGEsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgam9iIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge0pvYn0gam9iIFRoZSBqb2IuXG4gICAgICovXG4gICAgUHJvY2Vzc29yLnByb3RvdHlwZS5fZW5xdWV1ZSA9IGZ1bmN0aW9uIChqb2IpIHtcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaChqb2IpO1xuICAgICAgICB3aGlsZSAodGhpcy5fcXVldWUubGVuZ3RoID4gdGhpcy5fbWF4UXVldWVMZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCkuY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoIGEgam9iLlxuICAgICAqL1xuICAgIFByb2Nlc3Nvci5wcm90b3R5cGUuX2Rpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcnVubmluZyB8fCB0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgam9iID0gdGhpcy5fcXVldWUuc2hpZnQoKTtcbiAgICAgICAgdGhpcy5fam9iID0gam9iO1xuICAgICAgICB2YXIgd2lkdGggPSBqb2IuaW5wdXRzWzBdLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gam9iLmlucHV0c1swXS5oZWlnaHQ7XG4gICAgICAgIHZhciBidWZmZXJzID0gam9iLmlucHV0cy5tYXAoZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQuZGF0YS5idWZmZXI7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdGhyZWFkcyA9IHRoaXMuX3dvcmtlcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gdGhyZWFkcztcbiAgICAgICAgaWYgKHRocmVhZHMgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlcnNbMF0ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnM6IGJ1ZmZlcnMsXG4gICAgICAgICAgICAgICAgbWV0YTogam9iLm1ldGEsXG4gICAgICAgICAgICAgICAgaW1hZ2VPcHM6IHRoaXMuX2ltYWdlT3BzLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIH0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBqb2IuaW5wdXRzWzBdLmRhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgc2VnbWVudExlbmd0aCA9IDQgKiBNYXRoLmNlaWwobGVuZ3RoIC8gNCAvIHRocmVhZHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRocmVhZHM7ICsraSkge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IGkgKiBzZWdtZW50TGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHNsaWNlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gYnVmZmVycy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgc2xpY2VzLnB1c2goYnVmZmVyc1tqXS5zbGljZShvZmZzZXQsIG9mZnNldCArIHNlZ21lbnRMZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3dvcmtlcnNbaV0ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnM6IHNsaWNlcyxcbiAgICAgICAgICAgICAgICBtZXRhOiBqb2IubWV0YSxcbiAgICAgICAgICAgICAgICBpbWFnZU9wczogdGhpcy5faW1hZ2VPcHMsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgfSwgc2xpY2VzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIG1lc3NhZ2VzIGZyb20gdGhlIHdvcmtlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIHdvcmtlciBpbmRleC5cbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VFdmVudH0gZXZlbnQgVGhlIG1lc3NhZ2UgZXZlbnQuXG4gICAgICovXG4gICAgUHJvY2Vzc29yLnByb3RvdHlwZS5fb25Xb3JrZXJNZXNzYWdlID0gZnVuY3Rpb24gKGluZGV4LCBldmVudCkge1xuICAgICAgICBpZiAodGhpcy5kaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGFMb29rdXBbaW5kZXhdID0gZXZlbnQuZGF0YTtcbiAgICAgICAgLS10aGlzLl9ydW5uaW5nO1xuICAgICAgICBpZiAodGhpcy5fcnVubmluZyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUpvYigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGEgam9iLiAgSWYgdGhlcmUgYXJlIG5vIG1vcmUgd29ya2VyIHRocmVhZHMsIHRoZSBwcm9jZXNzb3IgY2FsbGJhY2tcbiAgICAgKiB3aWxsIGJlIGNhbGxlZC5cbiAgICAgKi9cbiAgICBQcm9jZXNzb3IucHJvdG90eXBlLl9yZXNvbHZlSm9iID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgam9iID0gdGhpcy5fam9iO1xuICAgICAgICB2YXIgdGhyZWFkcyA9IHRoaXMuX3dvcmtlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgZGF0YSwgbWV0YTtcbiAgICAgICAgaWYgKHRocmVhZHMgPT09IDEpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy5fZGF0YUxvb2t1cFswXVsnYnVmZmVyJ10pO1xuICAgICAgICAgICAgbWV0YSA9IHRoaXMuX2RhdGFMb29rdXBbMF1bJ21ldGEnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IGpvYi5pbnB1dHNbMF0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBkYXRhID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGxlbmd0aF8xKTtcbiAgICAgICAgICAgIG1ldGEgPSBuZXcgQXJyYXkodGhyZWFkcyk7XG4gICAgICAgICAgICB2YXIgc2VnbWVudExlbmd0aCA9IDQgKiBNYXRoLmNlaWwobGVuZ3RoXzEgLyA0IC8gdGhyZWFkcyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRocmVhZHM7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9kYXRhTG9va3VwW2ldWydidWZmZXInXTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gaSAqIHNlZ21lbnRMZW5ndGg7XG4gICAgICAgICAgICAgICAgZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ1ZmZlciksIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgbWV0YVtpXSA9IHRoaXMuX2RhdGFMb29rdXBbaV1bJ21ldGEnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9qb2IgPSBudWxsO1xuICAgICAgICB0aGlzLl9kYXRhTG9va3VwID0ge307XG4gICAgICAgIGpvYi5jYWxsYmFjayhudWxsLCBuZXdJbWFnZURhdGEoZGF0YSwgam9iLmlucHV0c1swXS53aWR0aCwgam9iLmlucHV0c1swXS5oZWlnaHQpLCBtZXRhKTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZSBhbGwgd29ya2VycyBhc3NvY2lhdGVkIHdpdGggdGhlIHByb2Nlc3Nvci5cbiAgICAgKi9cbiAgICBQcm9jZXNzb3IucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl93b3JrZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXJzW2ldLnRlcm1pbmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dvcmtlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBQcm9jZXNzb3I7XG59KERpc3Bvc2FibGUpKTtcbmV4cG9ydCB7IFByb2Nlc3NvciB9O1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gYXJyYXkgb2YgaW5wdXQgZGF0YSwgcGVyZm9ybXMgc29tZSBvcGVyYXRpb24sIGFuZFxuICogcmV0dXJucyBhbiBhcnJheSBvZiBvdXRwdXQgZGF0YS5cbiAqIEZvciBgcGl4ZWxgIHR5cGUgb3BlcmF0aW9ucywgdGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2ZcbiAqIHBpeGVscywgd2hlcmUgZWFjaCBwaXhlbCBpcyBhbiBhcnJheSBvZiBmb3VyIG51bWJlcnMgKGBbciwgZywgYiwgYV1gKSBpbiB0aGVcbiAqIHJhbmdlIG9mIDAgLSAyNTUuIEl0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgcGl4ZWwgYXJyYXkuXG4gKiBGb3IgYCdpbWFnZSdgIHR5cGUgb3BlcmF0aW9ucywgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2ZcbiAqIFtJbWFnZURhdGFdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbWFnZURhdGEpXG4gKiBhbmQgc2hvdWxkIHJldHVybiBhIHNpbmdsZVxuICogW0ltYWdlRGF0YV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ltYWdlRGF0YSkuXG4gKiBUaGUgb3BlcmF0aW9uc1xuICogYXJlIGNhbGxlZCB3aXRoIGEgc2Vjb25kIFwiZGF0YVwiIGFyZ3VtZW50LCB3aGljaCBjYW4gYmUgdXNlZCBmb3Igc3RvcmFnZS4gIFRoZVxuICogZGF0YSBvYmplY3QgaXMgYWNjZXNzaWJsZSBmcm9tIHJhc3RlciBldmVudHMsIHdoZXJlIGl0IGNhbiBiZSBpbml0aWFsaXplZCBpblxuICogXCJiZWZvcmVvcGVyYXRpb25zXCIgYW5kIGFjY2Vzc2VkIGFnYWluIGluIFwiYWZ0ZXJvcGVyYXRpb25zXCIuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChBcnJheTxBcnJheTxudW1iZXI+PnxBcnJheTxJbWFnZURhdGE+KSwgT2JqZWN0KTpcbiAqICAgICAoQXJyYXk8bnVtYmVyPnxJbWFnZURhdGEpfSBPcGVyYXRpb25cbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgUmFzdGVyRXZlbnRUeXBlID0ge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgb3BlcmF0aW9ucyBhcmUgcnVuLiAgTGlzdGVuZXJzIHdpbGwgcmVjZWl2ZSBhbiBldmVudCBvYmplY3Qgd2l0aFxuICAgICAqIGEgYGRhdGFgIHByb3BlcnR5IHRoYXQgY2FuIGJlIHVzZWQgdG8gbWFrZSBkYXRhIGF2YWlsYWJsZSB0byBvcGVyYXRpb25zLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1Jhc3Rlci5SYXN0ZXJTb3VyY2VFdmVudCNiZWZvcmVvcGVyYXRpb25zXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJFRk9SRU9QRVJBVElPTlM6ICdiZWZvcmVvcGVyYXRpb25zJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgb3BlcmF0aW9ucyBhcmUgcnVuLiAgTGlzdGVuZXJzIHdpbGwgcmVjZWl2ZSBhbiBldmVudCBvYmplY3Qgd2l0aFxuICAgICAqIGEgYGRhdGFgIHByb3BlcnR5LiAgSWYgbW9yZSB0aGFuIG9uZSB0aHJlYWQgaXMgdXNlZCwgYGRhdGFgIHdpbGwgYmUgYW4gYXJyYXkgb2ZcbiAgICAgKiBvYmplY3RzLiAgSWYgYSBzaW5nbGUgdGhyZWFkIGlzIHVzZWQsIGBkYXRhYCB3aWxsIGJlIGEgc2luZ2xlIG9iamVjdC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9SYXN0ZXIuUmFzdGVyU291cmNlRXZlbnQjYWZ0ZXJvcGVyYXRpb25zXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEFGVEVST1BFUkFUSU9OUzogJ2FmdGVyb3BlcmF0aW9ucycsXG59O1xuLyoqXG4gKiBSYXN0ZXIgb3BlcmF0aW9uIHR5cGUuIFN1cHBvcnRlZCB2YWx1ZXMgYXJlIGAncGl4ZWwnYCBhbmQgYCdpbWFnZSdgLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFJhc3Rlck9wZXJhdGlvblR5cGUgPSB7XG4gICAgUElYRUw6ICdwaXhlbCcsXG4gICAgSU1BR0U6ICdpbWFnZScsXG59O1xuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5JbWFnZVNvdXJjZUV2ZW50VHlwZXN8J2JlZm9yZW9wZXJhdGlvbnMnfCdhZnRlcm9wZXJhdGlvbnMnfSBSYXN0ZXJTb3VyY2VFdmVudFR5cGVzXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvUmFzdGVyfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG52YXIgUmFzdGVyU291cmNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJhc3RlclNvdXJjZUV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBUaGUgZnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R8QXJyYXk8T2JqZWN0Pn0gZGF0YSBBbiBvYmplY3QgbWFkZSBhdmFpbGFibGUgdG8gb3BlcmF0aW9ucy4gIEZvciBcImFmdGVyb3BlcmF0aW9uc1wiIGV2ZW5ldHNcbiAgICAgKiB0aGlzIHdpbGwgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyBpZiBtb3JlIHRoYW4gb25lIHRocmVhZCBpcyB1c2VkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhc3RlclNvdXJjZUV2ZW50KHR5cGUsIGZyYW1lU3RhdGUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByYXN0ZXIgZXh0ZW50LlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW50ID0gZnJhbWVTdGF0ZS5leHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl4ZWwgcmVzb2x1dGlvbiAobWFwIHVuaXRzIHBlciBwaXhlbCkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uIC8gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb2JqZWN0IG1hZGUgYXZhaWxhYmxlIHRvIGFsbCBvcGVyYXRpb25zLiAgVGhpcyBjYW4gYmUgdXNlZCBieSBvcGVyYXRpb25zXG4gICAgICAgICAqIGFzIGEgc3RvcmFnZSBvYmplY3QgKGUuZy4gZm9yIGNhbGN1bGF0aW5nIHN0YXRpc3RpY3MpLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmFzdGVyU291cmNlRXZlbnQ7XG59KEV2ZW50KSk7XG5leHBvcnQgeyBSYXN0ZXJTb3VyY2VFdmVudCB9O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vU291cmNlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD59IHNvdXJjZXMgSW5wdXRcbiAqIHNvdXJjZXMgb3IgbGF5ZXJzLiAgRm9yIHZlY3RvciBkYXRhLCB1c2UgYW4gVmVjdG9ySW1hZ2UgbGF5ZXIuXG4gKiBAcHJvcGVydHkge09wZXJhdGlvbn0gW29wZXJhdGlvbl0gUmFzdGVyIG9wZXJhdGlvbi5cbiAqIFRoZSBvcGVyYXRpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBkYXRhIGZyb20gaW5wdXQgc291cmNlc1xuICogYW5kIHRoZSBvdXRwdXQgd2lsbCBiZSBhc3NpZ25lZCB0byB0aGUgcmFzdGVyIHNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbbGliXSBGdW5jdGlvbnMgdGhhdCB3aWxsIGJlIG1hZGUgYXZhaWxhYmxlIHRvIG9wZXJhdGlvbnMgcnVuIGluIGEgd29ya2VyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aHJlYWRzXSBCeSBkZWZhdWx0LCBvcGVyYXRpb25zIHdpbGwgYmUgcnVuIGluIGEgc2luZ2xlIHdvcmtlciB0aHJlYWQuXG4gKiBUbyBhdm9pZCB1c2luZyB3b3JrZXJzIGFsdG9nZXRoZXIsIHNldCBgdGhyZWFkczogMGAuICBGb3IgcGl4ZWwgb3BlcmF0aW9ucywgb3BlcmF0aW9ucyBjYW5cbiAqIGJlIHJ1biBpbiBtdWx0aXBsZSB3b3JrZXIgdGhyZWFkcy4gIE5vdGUgdGhhdCB0aGVyZSBpcyBhZGRpdGlvbmFsIG92ZXJoZWFkIGluXG4gKiB0cmFuc2ZlcnJpbmcgZGF0YSB0byBtdWx0aXBsZSB3b3JrZXJzLCBhbmQgdGhhdCBkZXBlbmRpbmcgb24gdGhlIHVzZXInc1xuICogc3lzdGVtLCBpdCBtYXkgbm90IGJlIHBvc3NpYmxlIHRvIHBhcmFsbGVsaXplIHRoZSB3b3JrLlxuICogQHByb3BlcnR5IHtSYXN0ZXJPcGVyYXRpb25UeXBlfSBbb3BlcmF0aW9uVHlwZT0ncGl4ZWwnXSBPcGVyYXRpb24gdHlwZS5cbiAqIFN1cHBvcnRlZCB2YWx1ZXMgYXJlIGAncGl4ZWwnYCBhbmQgYCdpbWFnZSdgLiAgQnkgZGVmYXVsdCxcbiAqIGAncGl4ZWwnYCBvcGVyYXRpb25zIGFyZSBhc3N1bWVkLCBhbmQgb3BlcmF0aW9ucyB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuXG4gKiBhcnJheSBvZiBwaXhlbHMgZnJvbSBpbnB1dCBzb3VyY2VzLiAgSWYgc2V0IHRvIGAnaW1hZ2UnYCwgb3BlcmF0aW9ucyB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZiBJbWFnZURhdGEgb2JqZWN0cyBmcm9tIGlucHV0IHNvdXJjZXMuXG4gKi9cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlcywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLkltYWdlU291cmNlRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5JbWFnZVNvdXJjZUV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxSYXN0ZXJTb3VyY2VFdmVudFR5cGVzLCBSYXN0ZXJTb3VyY2VFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzXG4gKiAgICAgfFJhc3RlclNvdXJjZUV2ZW50VHlwZXMsIFJldHVybj59IFJhc3RlclNvdXJjZU9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBzb3VyY2UgdGhhdCB0cmFuc2Zvcm1zIGRhdGEgZnJvbSBhbnkgbnVtYmVyIG9mIGlucHV0IHNvdXJjZXMgdXNpbmcgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1Jhc3Rlcn5PcGVyYXRpb259IGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSBpbnB1dCBwaXhlbCB2YWx1ZXMgaW50b1xuICogb3V0cHV0IHBpeGVsIHZhbHVlcy5cbiAqXG4gKiBAZmlyZXMgbW9kdWxlOm9sL3NvdXJjZS9SYXN0ZXIuUmFzdGVyU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIFJhc3RlclNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmFzdGVyU291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhc3RlclNvdXJjZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIHByb2plY3Rpb246IG51bGwsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge1Jhc3RlclNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub247XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge1Jhc3RlclNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7UmFzdGVyU291cmNlT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtQcm9jZXNzb3J9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9jZXNzb3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSYXN0ZXJPcGVyYXRpb25UeXBlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3BlcmF0aW9uVHlwZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5vcGVyYXRpb25UeXBlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMub3BlcmF0aW9uVHlwZVxuICAgICAgICAgICAgICAgIDogUmFzdGVyT3BlcmF0aW9uVHlwZS5QSVhFTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aHJlYWRzXyA9IG9wdGlvbnMudGhyZWFkcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aHJlYWRzIDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyc18gPSBjcmVhdGVMYXllcnMob3B0aW9ucy5zb3VyY2VzKTtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBfdGhpcy5jaGFuZ2VkLmJpbmQoX3RoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBfdGhpcy5sYXllcnNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIF90aGlzLmxheWVyc19baV0uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBjaGFuZ2VkKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGVRdWV1ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZVF1ZXVlXyA9IG5ldyBUaWxlUXVldWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0sIF90aGlzLmNoYW5nZWQuYmluZChfdGhpcykpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50bHkgcmVxdWVzdGVkIGZyYW1lIHN0YXRlLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXF1ZXN0ZWRGcmFtZVN0YXRlXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3N0IHJlY2VudGx5IHJlbmRlcmVkIGltYWdlIGNhbnZhcy5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlQ2FudmFzLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9zdCByZWNlbnRseSByZW5kZXJlZCByZXZpc2lvbi5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUmV2aXNpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZnJhbWVTdGF0ZV8gPSB7XG4gICAgICAgICAgICBhbmltYXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtOiBjcmVhdGVUcmFuc2Zvcm0oKSxcbiAgICAgICAgICAgIGRlY2x1dHRlclRyZWU6IG51bGwsXG4gICAgICAgICAgICBleHRlbnQ6IG51bGwsXG4gICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgIGxheWVySW5kZXg6IDAsXG4gICAgICAgICAgICBsYXllclN0YXRlc0FycmF5OiBnZXRMYXllclN0YXRlc0FycmF5KF90aGlzLmxheWVyc18pLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgIHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtOiBjcmVhdGVUcmFuc2Zvcm0oKSxcbiAgICAgICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnM6IFtdLFxuICAgICAgICAgICAgc2l6ZTogWzAsIDBdLFxuICAgICAgICAgICAgdGlsZVF1ZXVlOiBfdGhpcy50aWxlUXVldWVfLFxuICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHVzZWRUaWxlczoge30sXG4gICAgICAgICAgICB2aWV3U3RhdGU6IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5TdGF0ZX0gKi8gKHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdmlld0hpbnRzOiBbXSxcbiAgICAgICAgICAgIHdhbnRlZFRpbGVzOiB7fSxcbiAgICAgICAgICAgIG1hcElkOiBnZXRVaWQoX3RoaXMpLFxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0czoge30sXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNldEF0dHJpYnV0aW9ucyhmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9ucyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBpTWF4ID0gb3B0aW9ucy5zb3VyY2VzLmxlbmd0aDsgaW5kZXggPCBpTWF4OyArK2luZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZU9yTGF5ZXIgPSBvcHRpb25zLnNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VPckxheWVyIGluc3RhbmNlb2YgU291cmNlXG4gICAgICAgICAgICAgICAgICAgID8gc291cmNlT3JMYXllclxuICAgICAgICAgICAgICAgICAgICA6IHNvdXJjZU9yTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9uR2V0dGVyID0gc291cmNlLmdldEF0dHJpYnV0aW9ucygpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRpb25HZXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZUF0dHJpYnV0aW9uID0gYXR0cmlidXRpb25HZXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5wdXNoLmFwcGx5KGF0dHJpYnV0aW9ucywgc291cmNlQXR0cmlidXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbnMubGVuZ3RoICE9PSAwID8gYXR0cmlidXRpb25zIDogbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLm9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRPcGVyYXRpb24ob3B0aW9ucy5vcGVyYXRpb24sIG9wdGlvbnMubGliKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7T3BlcmF0aW9ufSBvcGVyYXRpb24gTmV3IG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdF9saWJdIEZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgYXZhaWxhYmxlIHRvIG9wZXJhdGlvbnMgcnVuXG4gICAgICogICAgIGluIGEgd29ya2VyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLnNldE9wZXJhdGlvbiA9IGZ1bmN0aW9uIChvcGVyYXRpb24sIG9wdF9saWIpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yXykge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3JfLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2Nlc3Nvcl8gPSBuZXcgUHJvY2Vzc29yKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogb3BlcmF0aW9uLFxuICAgICAgICAgICAgaW1hZ2VPcHM6IHRoaXMub3BlcmF0aW9uVHlwZV8gPT09IFJhc3Rlck9wZXJhdGlvblR5cGUuSU1BR0UsXG4gICAgICAgICAgICBxdWV1ZTogMSxcbiAgICAgICAgICAgIGxpYjogb3B0X2xpYixcbiAgICAgICAgICAgIHRocmVhZHM6IHRoaXMudGhyZWFkc18sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgc3RvcmVkIGZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSB2aWV3IGV4dGVudCAoaW4gbWFwIHVuaXRzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUaGUgdmlldyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gVGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gVGhlIHVwZGF0ZWQgZnJhbWUgc3RhdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLnVwZGF0ZUZyYW1lU3RhdGVfID0gZnVuY3Rpb24gKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9ICovIChhc3NpZ24oe30sIHRoaXMuZnJhbWVTdGF0ZV8pKTtcbiAgICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuU3RhdGV9ICovIChhc3NpZ24oe30sIGZyYW1lU3RhdGUudmlld1N0YXRlKSk7XG4gICAgICAgIHZhciBjZW50ZXIgPSBnZXRDZW50ZXIoZXh0ZW50KTtcbiAgICAgICAgZnJhbWVTdGF0ZS5leHRlbnQgPSBleHRlbnQuc2xpY2UoKTtcbiAgICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdID0gTWF0aC5yb3VuZChnZXRXaWR0aChleHRlbnQpIC8gcmVzb2x1dGlvbik7XG4gICAgICAgIGZyYW1lU3RhdGUuc2l6ZVsxXSA9IE1hdGgucm91bmQoZ2V0SGVpZ2h0KGV4dGVudCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgZnJhbWVTdGF0ZS50aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2aWV3U3RhdGUuY2VudGVyID0gY2VudGVyO1xuICAgICAgICB2aWV3U3RhdGUucHJvamVjdGlvbiA9IHByb2plY3Rpb247XG4gICAgICAgIHZpZXdTdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgcmV0dXJuIGZyYW1lU3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYWxsIHNvdXJjZXMgYXJlIHJlYWR5LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEFsbCBzb3VyY2VzIGFyZSByZWFkeS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJhc3RlclNvdXJjZS5wcm90b3R5cGUuYWxsU291cmNlc1JlYWR5XyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNvdXJjZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sYXllcnNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IHRoaXMubGF5ZXJzX1tpXS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuZ2V0U3RhdGUoKSAhPT0gU291cmNlU3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWFkeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZUNhbnZhcy5qc1wiKS5kZWZhdWx0fSBTaW5nbGUgaW1hZ2UuXG4gICAgICovXG4gICAgUmFzdGVyU291cmNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmFsbFNvdXJjZXNSZWFkeV8oKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLnVwZGF0ZUZyYW1lU3RhdGVfKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgIHRoaXMucmVxdWVzdGVkRnJhbWVTdGF0ZV8gPSBmcmFtZVN0YXRlO1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBjYW4ndCByZXVzZSB0aGUgZXhpc3Rpbmcgb2wvSW1hZ2VDYW52YXNcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18pIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJlZFJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVkSW1hZ2VDYW52YXNfLmdldFJlc29sdXRpb24oKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlZEV4dGVudCA9IHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18uZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gcmVuZGVyZWRSZXNvbHV0aW9uIHx8XG4gICAgICAgICAgICAgICAgIWVxdWFscyhleHRlbnQsIHJlbmRlcmVkRXh0ZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXyB8fFxuICAgICAgICAgICAgdGhpcy5nZXRSZXZpc2lvbigpICE9PSB0aGlzLnJlbmRlcmVkUmV2aXNpb25fKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NTb3VyY2VzXygpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lU3RhdGUudGlsZVF1ZXVlLmxvYWRNb3JlVGlsZXMoMTYsIDE2KTtcbiAgICAgICAgaWYgKGZyYW1lU3RhdGUuYW5pbWF0ZSkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuY2hhbmdlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByb2Nlc3Npbmcgc291cmNlIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLnByb2Nlc3NTb3VyY2VzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLnJlcXVlc3RlZEZyYW1lU3RhdGVfO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5sYXllcnNfLmxlbmd0aDtcbiAgICAgICAgdmFyIGltYWdlRGF0YXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5sYXllckluZGV4ID0gaTtcbiAgICAgICAgICAgIHZhciBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGEodGhpcy5sYXllcnNfW2ldLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgICAgIGlmIChpbWFnZURhdGEpIHtcbiAgICAgICAgICAgICAgICBpbWFnZURhdGFzW2ldID0gaW1hZ2VEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUmFzdGVyU291cmNlRXZlbnQoUmFzdGVyRXZlbnRUeXBlLkJFRk9SRU9QRVJBVElPTlMsIGZyYW1lU3RhdGUsIGRhdGEpKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3JfLnByb2Nlc3MoaW1hZ2VEYXRhcywgZGF0YSwgdGhpcy5vbldvcmtlckNvbXBsZXRlXy5iaW5kKHRoaXMsIGZyYW1lU3RhdGUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBpeGVsIHByb2Nlc3NpbmcgaXMgY29tcGxldGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBUaGUgZnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyIEFueSBlcnJvciBkdXJpbmcgcHJvY2Vzc2luZy5cbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3V0cHV0IFRoZSBvdXRwdXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdHxBcnJheTxPYmplY3Q+fSBkYXRhIFRoZSB1c2VyIGRhdGEgKG9yIGFuIGFycmF5IGlmIG1vcmUgdGhhbiBvbmUgdGhyZWFkKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJhc3RlclNvdXJjZS5wcm90b3R5cGUub25Xb3JrZXJDb21wbGV0ZV8gPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgZXJyLCBvdXRwdXQsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVyciB8fCAhb3V0cHV0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gbm90aGluZyBpZiBleHRlbnQgb3IgcmVzb2x1dGlvbiBjaGFuZ2VkXG4gICAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdGhpcy5yZXF1ZXN0ZWRGcmFtZVN0YXRlXy52aWV3U3RhdGUucmVzb2x1dGlvbiB8fFxuICAgICAgICAgICAgIWVxdWFscyhleHRlbnQsIHRoaXMucmVxdWVzdGVkRnJhbWVTdGF0ZV8uZXh0ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0O1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXykge1xuICAgICAgICAgICAgY29udGV4dCA9IHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18uZ2V0SW1hZ2UoKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChnZXRXaWR0aChleHRlbnQpIC8gcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChnZXRIZWlnaHQoZXh0ZW50KSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18gPSBuZXcgSW1hZ2VDYW52YXMoZXh0ZW50LCByZXNvbHV0aW9uLCAxLCBjb250ZXh0LmNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5wdXRJbWFnZURhdGEob3V0cHV0LCAwLCAwKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUmFzdGVyU291cmNlRXZlbnQoUmFzdGVyRXZlbnRUeXBlLkFGVEVST1BFUkFUSU9OUywgZnJhbWVTdGF0ZSwgZGF0YSkpO1xuICAgICAgICBpZiAoZnJhbWVTdGF0ZS5hbmltYXRlKSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5jaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yXykge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3JfLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFJhc3RlclNvdXJjZTtcbn0oSW1hZ2VTb3VyY2UpKTtcbi8qKlxuICogQ2xlYW4gdXAgYW5kIHVucmVnaXN0ZXIgdGhlIHdvcmtlci5cbiAqIEBmdW5jdGlvblxuICogQGFwaVxuICovXG5SYXN0ZXJTb3VyY2UucHJvdG90eXBlLmRpc3Bvc2U7XG4vKipcbiAqIEEgcmV1c2FibGUgY2FudmFzIGNvbnRleHQuXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xudmFyIHNoYXJlZENvbnRleHQgPSBudWxsO1xuLyoqXG4gKiBHZXQgaW1hZ2UgZGF0YSBmcm9tIGEgbGF5ZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyIHRvIHJlbmRlci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgVGhlIGZyYW1lIHN0YXRlLlxuICogQHJldHVybiB7SW1hZ2VEYXRhfSBUaGUgaW1hZ2UgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKGxheWVyLCBmcmFtZVN0YXRlKSB7XG4gICAgdmFyIHJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICBpZiAoIXJlbmRlcmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgbGF5ZXIgdHlwZTogJyArIGxheWVyKTtcbiAgICB9XG4gICAgaWYgKCFyZW5kZXJlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB3aWR0aCA9IGZyYW1lU3RhdGUuc2l6ZVswXTtcbiAgICB2YXIgaGVpZ2h0ID0gZnJhbWVTdGF0ZS5zaXplWzFdO1xuICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjb250YWluZXIgPSByZW5kZXJlci5yZW5kZXJGcmFtZShmcmFtZVN0YXRlLCBudWxsKTtcbiAgICB2YXIgZWxlbWVudDtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIGVsZW1lbnQgPSBjb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCByZW5kZXJlZCBlbGVtZW50OiAnICsgZWxlbWVudCk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50LndpZHRoID09PSB3aWR0aCAmJiBlbGVtZW50LmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjb250ZXh0XzEgPSBlbGVtZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHJldHVybiBjb250ZXh0XzEuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICBpZiAoIXNoYXJlZENvbnRleHQpIHtcbiAgICAgICAgc2hhcmVkQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBzaGFyZWRDb250ZXh0LmNhbnZhcztcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBzaGFyZWRDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hhcmVkQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hhcmVkQ29udGV4dC5kcmF3SW1hZ2UoZWxlbWVudCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgcmV0dXJuIHNoYXJlZENvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufVxuLyoqXG4gKiBHZXQgYSBsaXN0IG9mIGxheWVyIHN0YXRlcyBmcm9tIGEgbGlzdCBvZiBsYXllcnMuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgTGF5ZXJzLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGU+fSBUaGUgbGF5ZXIgc3RhdGVzLlxuICovXG5mdW5jdGlvbiBnZXRMYXllclN0YXRlc0FycmF5KGxheWVycykge1xuICAgIHJldHVybiBsYXllcnMubWFwKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICByZXR1cm4gbGF5ZXIuZ2V0TGF5ZXJTdGF0ZSgpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgbGF5ZXJzIGZvciBhbGwgc291cmNlcy5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0Pn0gc291cmNlcyBUaGUgc291cmNlcy5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxheWVycyhzb3VyY2VzKSB7XG4gICAgdmFyIGxlbiA9IHNvdXJjZXMubGVuZ3RoO1xuICAgIHZhciBsYXllcnMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGxheWVyc1tpXSA9IGNyZWF0ZUxheWVyKHNvdXJjZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbGF5ZXJzO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBsYXllciBmb3IgdGhlIHByb3ZpZGVkIHNvdXJjZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllck9yU291cmNlIFRoZSBsYXllciBvciBzb3VyY2UuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBUaGUgbGF5ZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxheWVyKGxheWVyT3JTb3VyY2UpIHtcbiAgICAvLyBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH1cbiAgICB2YXIgbGF5ZXI7XG4gICAgaWYgKGxheWVyT3JTb3VyY2UgaW5zdGFuY2VvZiBTb3VyY2UpIHtcbiAgICAgICAgaWYgKGxheWVyT3JTb3VyY2UgaW5zdGFuY2VvZiBUaWxlU291cmNlKSB7XG4gICAgICAgICAgICBsYXllciA9IG5ldyBUaWxlTGF5ZXIoeyBzb3VyY2U6IGxheWVyT3JTb3VyY2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGF5ZXJPclNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlKSB7XG4gICAgICAgICAgICBsYXllciA9IG5ldyBJbWFnZUxheWVyKHsgc291cmNlOiBsYXllck9yU291cmNlIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsYXllciA9IGxheWVyT3JTb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBsYXllcjtcbn1cbmV4cG9ydCBkZWZhdWx0IFJhc3RlclNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJhc3Rlci5qcy5tYXAiLCJpbXBvcnQgJ3N0eWxlLWxvYWRlciFjc3MtbG9hZGVyIW9sL29sLmNzcyc7XHJcbmltcG9ydCB7TWFwLFZpZXd9IGZyb20gJ29sJztcclxuaW1wb3J0IFRpbGVMYXllciBmcm9tICdvbC9sYXllci9UaWxlJztcclxuaW1wb3J0IFhZWiBmcm9tICdvbC9zb3VyY2UvWFlaJztcclxuaW1wb3J0IFdNVFMgZnJvbSAnb2wvc291cmNlL1dNVFMnO1xyXG5pbXBvcnQgSW1hZ2VXTVMgZnJvbSAnb2wvc291cmNlL0ltYWdlV01TJztcclxuaW1wb3J0IFdNVFNUaWxlR3JpZCBmcm9tICdvbC90aWxlZ3JpZC9XTVRTJztcclxuaW1wb3J0IHtmcm9tTG9uTGF0LCBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgUHJvamVjdGlvbn0gZnJvbSAnb2wvcHJvaic7XHJcbmltcG9ydCB7Z2V0VG9wTGVmdCxnZXRXaWR0aH0gZnJvbSAnb2wvZXh0ZW50JztcclxuaW1wb3J0IEZlYXR1cmUgZnJvbSAnb2wvRmVhdHVyZSc7XHJcbmltcG9ydCBQb2ludCBmcm9tICdvbC9nZW9tL1BvaW50JztcclxuaW1wb3J0IFZlY3RvclNvdXJjZSBmcm9tICdvbC9zb3VyY2UvVmVjdG9yJztcclxuaW1wb3J0IFZlY3RvckxheWVyIGZyb20gJ29sL2xheWVyL1ZlY3Rvcic7XHJcbmltcG9ydCB7SWNvbiwgU3R5bGV9IGZyb20gJ29sL3N0eWxlJztcclxuaW1wb3J0IG1hcmtlciBmcm9tICcuL2ltYWdlcy9tYXJrZXIucG5nJztcclxuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQnO1xyXG5pbXBvcnQge1Jhc3RlciBhcyBSYXN0ZXJTb3VyY2V9IGZyb20gJ29sL3NvdXJjZSdcclxuaW1wb3J0IEltYWdlTGF5ZXIgZnJvbSAnb2wvbGF5ZXIvSW1hZ2UnO1xyXG5cclxuXHJcbi8veHl65Yqg6L295aSp5Zyw5Zu+XHJcbi8vIGNvbnN0IG1hcF94eXogPSBuZXcgTWFwKHtcclxuLy8gICAgIHRhcmdldDogXCJtYXBcIixcclxuLy8gICAgIGxheWVyczpbXHJcbi8vICAgICAgICAgbmV3IFRpbGVMYXllcih7XHJcbi8vICAgICAgICAgICAgIHNvdXJjZTogbmV3IFhZWih7XHJcbi8vICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL3QwLnRpYW5kaXR1LmNvbS9EYXRhU2VydmVyP1Q9dmVjX3cmeD17eH0meT17eX0mbD17en0mdGs9MWI1YzcwYjBiMDA2ZWZkZDAyMGI0ZTM3NGM3M2IxYjlcIlxyXG4vLyAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xyXG4vLyAgICAgICAgICAgICBzb3VyY2U6IG5ldyBYWVooe1xyXG4vLyAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly90MC50aWFuZGl0dS5jb20vRGF0YVNlcnZlcj9UPWN2YV93Jng9e3h9Jnk9e3l9Jmw9e3p9JnRrPTFiNWM3MGIwYjAwNmVmZGQwMjBiNGUzNzRjNzNiMWI5XCJcclxuLy8gICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgXSxcclxuLy8gICAgIHZpZXc6IG5ldyBWaWV3KHtcclxuLy8gICAgICAgICBjZW50ZXI6IFswLDBdLFxyXG4vLyAgICAgICAgIHpvb206IDJcclxuLy8gICAgIH0pXHJcbi8vIH0pXHJcblxyXG4vL3dtdHPliqDovb3lpKnlnLDlm75cclxuY29uc3QgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24oXCJFUFNHOjM4NTdcIik7XHJcbmNvbnN0IHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xyXG5jb25zdCBzaXplID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCkvMjU2O1xyXG5jb25zdCByZXNvbHV0aW9ucyA9IG5ldyBBcnJheSgxOSk7XHJcbmNvbnN0IG1hdHJpeElkcyA9IG5ldyBBcnJheSgxOSk7XHJcbmZvciAobGV0IHo9MDt6PD0xOTsrK3ope1xyXG4gICAgcmVzb2x1dGlvbnNbel0gPSBzaXplIC8gTWF0aC5wb3coMix6KTtcclxuICAgIG1hdHJpeElkc1t6XSA9IHpcclxufVxyXG5cclxuXHJcblxyXG4vLyB2YXIganNvbl9hbGwgPSBbXVxyXG4vLyBmb3IgKHZhciBpPSAwO2k8anNvbi5kYXRhLmxlbmd0aDtpKyspe1xyXG4vLyAgICAgaWYgKGpzb24uZGF0YVtpXS5kYW5nZXJMZXZlbCA9PSAyKXtcclxuLy8gICAgICAgICB2YXIganNvbl9hbGxfMSA9IGpzb24uZGF0YVtpXVxyXG4vLyAgICAgICAgIGpzb25fYWxsXzEgPSBqc29uX2FsbF8xLmRhbmdlclByb3NcclxuICAgICAgICBcclxuLy8gICAgICAgICBmb3IgKHZhciBqID0gMDtqPGpzb25fYWxsXzEubGVuZ3RoO2orKyl7XHJcbi8vICAgICAgICAgICAgIGlmIChqc29uX2FsbF8xW2pdLnByb3ZpbmNlU2hvcnROYW1lID09IFwi5rGf6IuPXCIpe1xyXG4vLyAgICAgICAgICAgICAgICAganNvbl9hbGxfMSA9IGpzb25fYWxsXzFbal1cclxuLy8gICAgICAgICAgICAgICAgIGpzb25fYWxsXzEgPSBqc29uX2FsbF8xLmRhbmdlckFyZWFzXHJcbiAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPTA7azxqc29uX2FsbF8xLmxlbmd0aDtrKyspe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uX2FsbF8xW2tdLmNpdHlOYW1lID09IFwi6IuP5beeXCIpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqc29uX2FsbF8xID0ganNvbl9hbGxfMVtrXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBqc29uX2FsbC5wdXNoKGpzb25fYWxsXzFba10pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG4vLyB2YXIganNvbl9hbGxfeHkgPSBqc29uX2FsbFswXVxyXG5cclxuLy8gdmFyIG1hcmtlciA9IHJlcXVpcmUoJy4vaW1hZ2VzL21hcmtlci5wbmcnKVxyXG5cclxuXHJcblxyXG4vLyBjb25zdCBpY29uU3R5bGUgPSBuZXcgU3R5bGUoe1xyXG4vLyAgICAgaW1hZ2U6IG5ldyBJY29uKHtcclxuLy8gICAgICAgICBhbmNob3I6IFswLjUsIDQ2XSxcclxuLy8gICAgICAgICBhbmNob3JYVW5pdHM6IFwiZnJhY3Rpb25cIixcclxuLy8gICAgICAgICBhbmNob3JZVW5pdHM6IFwicGl4ZWxzXCIsXHJcbi8vICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuLy8gICAgICAgICBzcmM6IG1hcmtlclxyXG4vLyAgICAgfSksXHJcbi8vIH0pXHJcblxyXG4vLyB2YXIgZmVhdHVyZSA9IG5ldyBGZWF0dXJlKHtcclxuLy8gICAgIGdlb21ldHJ5OiBuZXcgUG9pbnQoZnJvbUxvbkxhdChbMTIwLjYyLDMxLjMxXSkpXHJcbi8vICAgICAgICAgLy8gaW1nOiBuZXcgSWNvbih7XHJcbi8vICAgICAgICAgLy8gICAgIGFuY2hvcjogWzAuNSwgNDZdLFxyXG4vLyAgICAgICAgIC8vICAgICBzcmM6ICdodHRwczovL2ltYWdlcy54aWFvemh1YW5sYW4uY29tL3Bob3RvLzIwMjAvYWY0ZDcyNjM5ZjBmZjdlMDU5OWM5ZDM5MzViMTIzYWYucG5nJ1xyXG4vLyAgICAgICAgIC8vIH0pXHJcbi8vIH0pXHJcbi8vIGZlYXR1cmUuc2V0U3R5bGUoaWNvblN0eWxlKVxyXG4vLyB2YXIgc291cmNlID0gbmV3IFZlY3RvclNvdXJjZSh7XHJcbi8vICAgICBmZWF0dXJlczogW2ZlYXR1cmVdXHJcbi8vIH0pXHJcbiAgICBcclxuLy8gdmFyIGxheWVyID0gbmV3IFZlY3RvckxheWVyKHtcclxuLy8gICAgIHNvdXJjZTogc291cmNlXHJcbi8vIH0pXHJcbi8vIG1hcF93bXRzLmFkZExheWVyKGxheWVyKVxyXG5cclxubGV0IGxheWVyT3JpZ2luID0gbmV3IFRpbGVMYXllcih7XHJcbiAgICBuYW1lOiBcIuWkqeWcsOWbvuefoumHj+WbvuWxglwiLFxyXG4gICAgc291cmNlOiBuZXcgWFlaKHtcclxuICAgIHVybDogXCJodHRwOi8vdDAudGlhbmRpdHUuZ292LmNuL0RhdGFTZXJ2ZXI/VD12ZWNfdyZ4PXt4fSZ5PXt5fSZsPXt6fSZ0az0xYjVjNzBiMGIwMDZlZmRkMDIwYjRlMzc0YzczYjFiOVwiLFxyXG4gICAgd3JhcFg6IHRydWUsXHJcbiAgICBjcm9zc09yaWdpbjogJ2Fub255bW91cydcclxuICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbmxldCBsYXllcmN2YU9yaWdpbiA9IG5ldyBUaWxlTGF5ZXIoe1xyXG4gICAgbmFtZTogXCLlpKnlnLDlm77nn6Lph4/lm77lsYJcIixcclxuICAgIHNvdXJjZTogbmV3IFhZWih7XHJcbiAgICB1cmw6IFwiaHR0cDovL3QwLnRpYW5kaXR1Lmdvdi5jbi9EYXRhU2VydmVyP1Q9Y3ZhX3cmeD17eH0meT17eX0mbD17en0mdGs9MWI1YzcwYjBiMDA2ZWZkZDAyMGI0ZTM3NGM3M2IxYjlcIixcclxuICAgIHdyYXBYOiBmYWxzZSxcclxuICAgIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJ1xyXG4gICAgfSlcclxuICAgIH0pO1xyXG5cclxubGV0IGxheWVydGlhbmRpdHUgPSBuZXcgVGlsZUxheWVyKHtcclxuICAgIG9wYWNpdHk6IDAuNyxcclxuICAgIHNvdXJjZTogbmV3IFdNVFMoe1xyXG4gICAgICAgIGF0dHJpYnV0aW9uczpcclxuICAgICAgICAgICdUaWxlcyDCqSA8YSBocmVmPVwiaHR0cHM6Ly9tcmRhdGEudXNncy5nb3YvZ2VvbG9neS9zdGF0ZS9cIicgK1xyXG4gICAgICAgICAgJyB0YXJnZXQ9XCJfYmxhbmtcIj5VU0dTPC9hPicsXHJcbiAgICAgICAgdXJsOiBcImh0dHA6Ly90MC50aWFuZGl0dS5nb3YuY24vdmVjX3cvd210cz90az0xYjVjNzBiMGIwMDZlZmRkMDIwYjRlMzc0YzczYjFiOVwiLFxyXG4gICAgICAgIGxheWVyOiBcInZlY1wiLFxyXG4gICAgICAgIG1hdHJpeFNldDogXCJ3XCIsXHJcbiAgICAgICAgZm9ybWF0OiBcInRpbGVzXCIsXHJcbiAgICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcclxuICAgICAgICB0aWxlR3JpZDogbmV3IFdNVFNUaWxlR3JpZCh7XHJcbiAgICAgICAgICAgIG9yaWdpbjogZ2V0VG9wTGVmdChwcm9qZWN0aW9uRXh0ZW50KSxcclxuICAgICAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zLFxyXG4gICAgICAgICAgICBtYXRyaXhJZHM6IG1hdHJpeElkc1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHN0eWxlOiBcImRlZmF1bHRcIixcclxuICAgICAgICB3cmFwWDogdHJ1ZVxyXG4gICAgfSlcclxufSlcclxuXHJcblxyXG5sZXQgaG9tZV9wb2ludCA9IG5ldyBJbWFnZUxheWVyKHtcclxuICAgIG9wYWNpdHk6IDAuNyxcclxuICAgIHNvdXJjZTogbmV3IEltYWdlV01TKHtcclxuICAgICAgICBhdHRyaWJ1dGlvbnM6XHJcbiAgICAgICAgICAnVGlsZXMgwqkgPGEgaHJlZj1cImh0dHBzOi8vbXJkYXRhLnVzZ3MuZ292L2dlb2xvZ3kvc3RhdGUvXCInICtcclxuICAgICAgICAgICcgdGFyZ2V0PVwiX2JsYW5rXCI+VVNHUzwvYT4nLFxyXG4gICAgICAgIHVybDogXCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvZ2Vvc2VydmVyL2hvbWUvd21zP3NlcnZpY2U9V01TJnZlcnNpb249MS4xLjAmcmVxdWVzdD1HZXRNYXAmbGF5ZXJzPWhvbWUlM0Fob21lX3BvaW50JmJib3g9MTAyLjY1OTMzMjU5MTU2MyUyQzIxLjk3NjA2NDgwOTcxMDYlMkMxMjUuMDgyNzAxNDU4MjAzJTJDNDMuODQ2MDg3NDQ0NzU2JndpZHRoPTc2OCZoZWlnaHQ9NzQ5JnNycz1FUFNHJTNBMzg1NyZzdHlsZXM9JmZvcm1hdD1hcHBsaWNhdGlvbi9vcGVubGF5ZXJzXCIsXHJcbiAgICAgICAgbGF5ZXI6IFwidmVjXCIsXHJcbiAgICAgICAgbWF0cml4U2V0OiBcIndcIixcclxuICAgICAgICBmb3JtYXQ6IFwidGlsZXNcIixcclxuICAgICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxyXG4gICAgICAgIHRpbGVHcmlkOiBuZXcgV01UU1RpbGVHcmlkKHtcclxuICAgICAgICAgICAgb3JpZ2luOiBnZXRUb3BMZWZ0KHByb2plY3Rpb25FeHRlbnQpLFxyXG4gICAgICAgICAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnMsXHJcbiAgICAgICAgICAgIG1hdHJpeElkczogbWF0cml4SWRzXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgc3R5bGU6IFwiZGVmYXVsdFwiLFxyXG4gICAgICAgIHdyYXBYOiB0cnVlXHJcbiAgICB9KVxyXG59KVxyXG5cclxubGV0IHJldmVyc2VGdW5jID0gZnVuY3Rpb24gKHBpeGVsc1RlbXApIHtcclxuICAgIC8v6JOd6ImyXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVsc1RlbXAubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICB2YXIgciA9IHBpeGVsc1RlbXBbaV07XHJcbiAgICAgICAgdmFyIGcgPSBwaXhlbHNUZW1wW2kgKyAxXTtcclxuICAgICAgICB2YXIgYiA9IHBpeGVsc1RlbXBbaSArIDJdO1xyXG4gICAgICAgIC8v6L+Q55So5Zu+5YOP5a2m5YWs5byP77yM6K6+572u54Gw5bqm5YC8XHJcbiAgICAgICAgdmFyIGdyZXkgPSByICogMC4zICsgZyAqIDAuNTkgKyBiICogMC4xMTtcclxuICAgICAgICAvL+WwhnJnYueahOWAvOabv+aNouS4uueBsOW6puWAvFxyXG4gICAgICAgIHBpeGVsc1RlbXBbaV0gPSBncmV5O1xyXG4gICAgICAgIHBpeGVsc1RlbXBbaSArIDFdID0gZ3JleTtcclxuICAgICAgICBwaXhlbHNUZW1wW2kgKyAyXSA9IGdyZXk7XHJcblxyXG4gICAgICAgIC8v5Z+65LqO54Gw6Imy77yM6K6+572u5Li66JOd6Imy77yM6L+Z5Yeg5Liq5pWw5YC85piv5oiR6Ieq5bex6K+V5Ye65p2l55qE77yM5Y+v5Lul5qC55o2u6ZyA5rGC6LCD5pW0XHJcbiAgICAgICAgcGl4ZWxzVGVtcFtpXSA9IDU1IC0gcGl4ZWxzVGVtcFtpXTtcclxuICAgICAgICBwaXhlbHNUZW1wW2kgKyAxXSA9IDI1NSAtIHBpeGVsc1RlbXBbaSArIDFdO1xyXG4gICAgICAgIHBpeGVsc1RlbXBbaSArIDJdID0gMzA1IC0gcGl4ZWxzVGVtcFtpICsgMl07XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuY29uc3QgcmFzdGVyID0gbmV3IFJhc3RlclNvdXJjZSh7XHJcbiAgICBzb3VyY2VzOiBbXHJcbiAgICAgICAgLy/kvKDlhaXlm77lsYLvvIzov5nph4zmmK/lpKnlnLDlm77nn6Lph4/lm77miJbogIXlpKnlnLDlm77nn6Lph4/ms6jorrBcclxuICAgICAgICBsYXllck9yaWdpbixcclxuICAgIF0sXHJcbiAgICAvL+i/memHjOiuvue9ruS4umltYWdl57G75Z6L77yM5LiO5a6Y5pa556S65L6L5LiN5ZCM77yM5LyY5YyW6YCf5bqmXHJcbiAgICBvcGVyYXRpb25UeXBlOiAnaW1hZ2UnLFxyXG4gICAgb3BlcmF0aW9uOiBmdW5jdGlvbiAocGl4ZWxzLCBkYXRhKSB7XHJcbiAgICAgICAgLy/miafooYzpopzoibLovazmjaLmlrnms5XvvIzms6jmhI/vvIzov5nph4znmoTmlrnms5XpnIDopoHkvb/nlKhsaWLlvJXlhaXov5vmnaXmiY3lj6/ku6Xkvb/nlKhcclxuICAgICAgICByZXZlcnNlRnVuYyhwaXhlbHNbMF0uZGF0YSlcclxuICAgICAgICByZXR1cm4gcGl4ZWxzWzBdO1xyXG4gICAgfSxcclxuICAgIC8v57q/56iL5pWw6YePXHJcbiAgICB0aHJlYWRzOiAxMCxcclxuICAgIC8v5YWB6K64b3BlcmF0aW9u5L2/55So5aSW6YOo5pa55rOVXHJcbiAgICBsaWI6IHtcclxuICAgICAgICByZXZlcnNlRnVuYzogcmV2ZXJzZUZ1bmMsXHJcbiAgICB9XHJcbn0pO1xyXG5cclxubGV0IGRhcmtsYXllciA9IG5ldyBJbWFnZUxheWVyKHtcclxuICAgIG5hbWU6J3Nzc3MnLFxyXG4gICAgc291cmNlOnJhc3RlcixcclxufSlcclxuLy/liJvlu7rmlrDlm77lsYLvvIzms6jmhI/vvIzlv4Xpobvkvb/nlKggSW1hZ2VMYXllclxyXG5cclxubGV0IG1hcF93bXRzID0gbmV3IE1hcCh7XHJcbiAgICB0YXJnZXQ6IFwibWFwXCIsXHJcbiAgICBsYXllcnM6W1xyXG4gICAgICAgIGRhcmtsYXllcixcclxuICAgICAgICBsYXllcmN2YU9yaWdpblxyXG4gICAgXSxcclxuICAgIHZpZXc6IG5ldyBWaWV3KHtcclxuICAgICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxyXG4gICAgICAgIGNlbnRlcjogZnJvbUxvbkxhdChbMTA1LCAzN10pLFxyXG4gICAgICAgIHpvb206IDVcclxuICAgIH0pXHJcbn0pXHJcblxyXG4vLyBtYXBfd210cy5hZGRMYXllcihsYXllcnRpYW5kaXR1KVxyXG5cclxuXHJcbi8vIHZhciBtYXJrZXIgPSByZXF1aXJlKCcuL2ltYWdlcy9tYXJrZXIucG5nJylcclxuXHJcblxyXG5cclxuY29uc3QgaWNvblN0eWxlID0gbmV3IFN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgSWNvbih7XHJcbiAgICAgICAgYW5jaG9yOiBbMC41LCA0Nl0sXHJcbiAgICAgICAgYW5jaG9yWFVuaXRzOiBcImZyYWN0aW9uXCIsXHJcbiAgICAgICAgYW5jaG9yWVVuaXRzOiBcInBpeGVsc1wiLFxyXG4gICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgc3JjOiBtYXJrZXJcclxuICAgIH0pLFxyXG59KVxyXG5cclxudmFyIGZlYXR1cmUgPSBuZXcgRmVhdHVyZSh7XHJcbiAgICBnZW9tZXRyeTogbmV3IFBvaW50KGZyb21Mb25MYXQoWzExMy40NTcyNzg3NDAwOTYsMzQuNjczNDAwNV0pKVxyXG4gICAgICAgIC8vIGltZzogbmV3IEljb24oe1xyXG4gICAgICAgIC8vICAgICBhbmNob3I6IFswLjUsIDQ2XSxcclxuICAgICAgICAvLyAgICAgc3JjOiAnaHR0cHM6Ly9pbWFnZXMueGlhb3podWFubGFuLmNvbS9waG90by8yMDIwL2FmNGQ3MjYzOWYwZmY3ZTA1OTljOWQzOTM1YjEyM2FmLnBuZydcclxuICAgICAgICAvLyB9KVxyXG59KVxyXG5mZWF0dXJlLnNldFN0eWxlKGljb25TdHlsZSlcclxudmFyIHNvdXJjZSA9IG5ldyBWZWN0b3JTb3VyY2Uoe1xyXG4gICAgZmVhdHVyZXM6IFtmZWF0dXJlXVxyXG59KVxyXG4gICAgXHJcbnZhciBsYXllciA9IG5ldyBWZWN0b3JMYXllcih7XHJcbiAgICBzb3VyY2U6IHNvdXJjZVxyXG59KVxyXG5tYXBfd210cy5hZGRMYXllcihsYXllcilcclxubWFwX3dtdHMuYWRkTGF5ZXIoaG9tZV9wb2ludCkiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwidCIsInIiLCJlIiwiYSIsImgiLCJuIiwibyIsInMiLCJsIiwiTWF0aCIsImxvZyIsImYiLCJleHAiLCJ1Iiwic3FydCIsIm1heCIsImZsb29yIiwibWluIiwicCIsImQiLCJ4IiwiX21heEVudHJpZXMiLCJfbWluRW50cmllcyIsImNlaWwiLCJjbGVhciIsImluZGV4T2YiLCJjaGlsZHJlbiIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJsZWFmIiwibSIsImMiLCJoZWlnaHQiLCJwb3AiLCJwcm90b3R5cGUiLCJhbGwiLCJfYWxsIiwic2VhcmNoIiwidG9CQm94IiwiY29sbGlkZXMiLCJsb2FkIiwiaW5zZXJ0IiwiX2J1aWxkIiwic2xpY2UiLCJfc3BsaXRSb290IiwiX2luc2VydCIsInJlbW92ZSIsInNwbGljZSIsIl9jb25kZW5zZSIsImNvbXBhcmVNaW5YIiwiY29tcGFyZU1pblkiLCJ0b0pTT04iLCJmcm9tSlNPTiIsImFwcGx5IiwicG93IiwiX2Nob29zZVN1YnRyZWUiLCJfc3BsaXQiLCJfYWRqdXN0UGFyZW50QkJveGVzIiwiX2Nob29zZVNwbGl0QXhpcyIsIl9jaG9vc2VTcGxpdEluZGV4IiwidiIsIk0iLCJfYWxsRGlzdE1hcmdpbiIsInNvcnQiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJrZXkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsImhhc093blByb3BlcnR5Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJEaXNwb3NhYmxlIiwiZGlzcG9zZWQiLCJkaXNwb3NlIiwiZGlzcG9zZUludGVybmFsIiwibnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiIsImIiLCJsaW5lYXJGaW5kTmVhcmVzdCIsImFyciIsImRpcmVjdGlvbiIsInJldmVyc2VTdWJBcnJheSIsImJlZ2luIiwiZW5kIiwidG1wIiwiZXh0ZW5zaW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiZXF1YWxzIiwiYXJyMSIsImFycjIiLCJsZW4xIiwiVFJVRSIsIlZPSUQiLCJ1aWRDb3VudGVyXyIsImdldFVpZCIsIm9sX3VpZCIsIlN0cmluZyIsImV4dGVuZFN0YXRpY3MiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiRklSRUZPWCIsIldFQktJVCIsIkRFVklDRV9QSVhFTF9SQVRJTyIsImRldmljZVBpeGVsUmF0aW8iLCJXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUyIsIldvcmtlckdsb2JhbFNjb3BlIiwiT2Zmc2NyZWVuQ2FudmFzIiwic2VsZiIsIklNQUdFX0RFQ09ERSIsIkltYWdlIiwiZGVjb2RlIiwiUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMiLCJwYXNzaXZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlcnJvciIsIl9fZXh0ZW5kcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiVHlwZUVycm9yIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9zdXBlciIsIkFzc2VydGlvbkVycm9yIiwiY29kZSIsIl90aGlzIiwibWVzc2FnZSIsInNwbGl0IiwibmFtZSIsImFzc2VydGlvbiIsImVycm9yQ29kZSIsInRyYW5zZm9ybVN0cmluZ0RpdiIsInRyYW5zZm9ybSIsImNvb3JkaW5hdGUiLCJ5IiwiY29tcG9zZSIsImR4MSIsImR5MSIsInN4Iiwic3kiLCJhbmdsZSIsImR4MiIsImR5MiIsInNpbiIsImNvcyIsIm1ha2VJbnZlcnNlIiwibWF0IiwiZGV0IiwidHJhbnNmb3JtU3RyaW5nIiwibm9kZSIsImJvdW5kaW5nRXh0ZW50IiwiY29vcmRpbmF0ZXMiLCJleHRlbnQiLCJJbmZpbml0eSIsImlpIiwiZXh0ZW5kQ29vcmRpbmF0ZSIsImJ1ZmZlciIsInZhbHVlIiwib3B0X2V4dGVudCIsImNsb25lIiwiY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZIiwiZHgiLCJkeSIsImNvbnRhaW5zQ29vcmRpbmF0ZSIsImNvbnRhaW5zWFkiLCJleHRlbnQxIiwiZXh0ZW50MiIsImNvb3JkaW5hdGVSZWxhdGlvbnNoaXAiLCJyZWxhdGlvbnNoaXAiLCJjcmVhdGVPclVwZGF0ZSIsImNyZWF0ZU9yVXBkYXRlRW1wdHkiLCJleHRlbmRGbGF0Q29vcmRpbmF0ZXMiLCJmbGF0Q29vcmRpbmF0ZXMiLCJvZmZzZXQiLCJzdHJpZGUiLCJleHRlbmRYWSIsImZvckVhY2hDb3JuZXIiLCJjYWxsYmFjayIsInZhbCIsImdldEJvdHRvbUxlZnQiLCJnZXRCb3R0b21SaWdodCIsImdldFRvcFJpZ2h0IiwiZ2V0VG9wTGVmdCIsImdldEFyZWEiLCJhcmVhIiwiZ2V0SGVpZ2h0IiwiZ2V0Q2VudGVyIiwiZ2V0Q29ybmVyIiwiY29ybmVyIiwiQ29ybmVyIiwiZ2V0Rm9yVmlld0FuZFNpemUiLCJjZW50ZXIiLCJyZXNvbHV0aW9uIiwicm90YXRpb24iLCJzaXplIiwiY29zUm90YXRpb24iLCJzaW5Sb3RhdGlvbiIsInhDb3MiLCJ4U2luIiwieUNvcyIsInlTaW4iLCJ4MCIsIngxIiwieDIiLCJ4MyIsInkwIiwieTEiLCJ5MiIsInkzIiwiZ2V0SW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0cyIsImNvc2giLCJsb2cyIiwiTE9HMkUiLCJzcXVhcmVkU2VnbWVudERpc3RhbmNlIiwiYW5nbGVJbkRlZ3JlZXMiLCJQSSIsImxlcnAiLCJ0b0ZpeGVkIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJyb3VuZCIsIkhFWF9DT0xPUl9SRV8iLCJOQU1FRF9DT0xPUl9SRV8iLCJhc1N0cmluZyIsImNvbG9yIiwiZnJvbVN0cmluZyIsImNhY2hlIiwiY2FjaGVTaXplIiwiZXhlYyIsImVsIiwiYm9keSIsInJnYiIsImdldENvbXB1dGVkU3R5bGUiLCJmcm9tTmFtZWQiLCJoYXNBbHBoYSIsInBhcnNlSW50Iiwic3Vic3RyIiwibm9ybWFsaXplIiwiTnVtYmVyIiwiZnJvbVN0cmluZ0ludGVybmFsXyIsImFzQXJyYXkiLCJnZXRLZXkiLCJjcm9zc09yaWdpbiIsInNoYXJlZCIsIkljb25JbWFnZUNhY2hlIiwiY2FjaGVfIiwiY2FjaGVTaXplXyIsIm1heENhY2hlU2l6ZV8iLCJjYW5FeHBpcmVDYWNoZSIsImV4cGlyZSIsImljb25JbWFnZSIsImhhc0xpc3RlbmVyIiwic2V0Iiwic2V0U2l6ZSIsIm1heENhY2hlU2l6ZSIsIkJhc2VFdmVudCIsInR5cGUiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJkZWZhdWx0UHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJhc3NpZ24iLCJ2YXJfc291cmNlcyIsIm91dHB1dCIsImFyZ3VtZW50cyIsIm9iamVjdCIsInByb3BlcnR5IiwiZ2V0VmFsdWVzIiwidmFsdWVzIiwiVGFyZ2V0Iiwib3B0X3RhcmdldCIsImV2ZW50VGFyZ2V0XyIsInBlbmRpbmdSZW1vdmFsc18iLCJkaXNwYXRjaGluZ18iLCJsaXN0ZW5lcnNfIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lcnNGb3JUeXBlIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50IiwiZXZ0IiwiRXZlbnQiLCJwcm9wYWdhdGUiLCJkaXNwYXRjaGluZyIsInBlbmRpbmdSZW1vdmFscyIsImhhbmRsZUV2ZW50IiwicHIiLCJnZXRMaXN0ZW5lcnMiLCJvcHRfdHlwZSIsImtleXMiLCJsaXN0ZW4iLCJvcHRfdGhpcyIsIm9wdF9vbmNlIiwiYmluZCIsIm9yaWdpbmFsTGlzdGVuZXJfMSIsImV2ZW50c0tleSIsImxpc3Rlbk9uY2UiLCJ1bmxpc3RlbkJ5S2V5IiwiT2JzZXJ2YWJsZSIsIm9uIiwib25jZSIsInVuIiwicmV2aXNpb25fIiwiY2hhbmdlZCIsIkV2ZW50VHlwZSIsImdldFJldmlzaW9uIiwib25JbnRlcm5hbCIsImxlbiIsIm9uY2VJbnRlcm5hbCIsIm9sX2tleSIsInVuSW50ZXJuYWwiLCJ1bkJ5S2V5IiwiT2JqZWN0RXZlbnQiLCJvbGRWYWx1ZSIsIkJhc2VPYmplY3QiLCJvcHRfdmFsdWVzIiwidmFsdWVzXyIsInNldFByb3BlcnRpZXMiLCJnZXRLZXlzIiwiZ2V0UHJvcGVydGllcyIsImhhc1Byb3BlcnRpZXMiLCJub3RpZnkiLCJldmVudFR5cGUiLCJPYmplY3RFdmVudFR5cGUiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwib3B0X3NpbGVudCIsImFwcGx5UHJvcGVydGllcyIsInVuc2V0IiwiQmFzZUxheWVyIiwiYmFja2dyb3VuZF8iLCJiYWNrZ3JvdW5kIiwicHJvcGVydGllcyIsIm9wYWNpdHkiLCJ2aXNpYmxlIiwiekluZGV4IiwibWF4UmVzb2x1dGlvbiIsIm1pblJlc29sdXRpb24iLCJtaW5ab29tIiwibWF4Wm9vbSIsImNsYXNzTmFtZV8iLCJjbGFzc05hbWUiLCJzdGF0ZV8iLCJnZXRCYWNrZ3JvdW5kIiwiZ2V0Q2xhc3NOYW1lIiwiZ2V0TGF5ZXJTdGF0ZSIsIm9wdF9tYW5hZ2VkIiwic3RhdGUiLCJtYW5hZ2VkIiwiZ2V0WkluZGV4IiwiZ2V0T3BhY2l0eSIsInNvdXJjZVN0YXRlIiwiZ2V0U291cmNlU3RhdGUiLCJnZXRWaXNpYmxlIiwiZ2V0RXh0ZW50IiwiZ2V0TWF4UmVzb2x1dGlvbiIsImdldE1pblJlc29sdXRpb24iLCJnZXRNaW5ab29tIiwiZ2V0TWF4Wm9vbSIsImdldExheWVyc0FycmF5Iiwib3B0X2FycmF5IiwiZ2V0TGF5ZXJTdGF0ZXNBcnJheSIsIm9wdF9zdGF0ZXMiLCJzZXRCYWNrZ3JvdW5kIiwib3B0X2JhY2tncm91bmQiLCJzZXRFeHRlbnQiLCJzZXRNYXhSZXNvbHV0aW9uIiwic2V0TWluUmVzb2x1dGlvbiIsInNldE1heFpvb20iLCJzZXRNaW5ab29tIiwic2V0T3BhY2l0eSIsInNldFZpc2libGUiLCJzZXRaSW5kZXgiLCJ6aW5kZXgiLCJMYXllciIsImJhc2VPcHRpb25zIiwibWFwUHJlY29tcG9zZUtleV8iLCJtYXBSZW5kZXJLZXlfIiwic291cmNlQ2hhbmdlS2V5XyIsInJlbmRlcmVyXyIsInJlbmRlciIsInNldE1hcCIsImhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyIsInNldFNvdXJjZSIsImFycmF5Iiwic3RhdGVzIiwiZ2V0U291cmNlIiwiZ2V0U3RhdGUiLCJoYW5kbGVTb3VyY2VDaGFuZ2VfIiwiZ2V0RmVhdHVyZXMiLCJwaXhlbCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZnJhbWVTdGF0ZSIsImxheWVyUmVuZGVyZXIiLCJnZXRSZW5kZXJlciIsInByZXBhcmVGcmFtZSIsInJlbmRlckZyYW1lIiwic2V0TWFwSW50ZXJuYWwiLCJnZXRNYXBJbnRlcm5hbCIsImxheWVyU3RhdGVzQXJyYXkiLCJsYXllclN0YXRlIiwic29tZSIsImFycmF5TGF5ZXJTdGF0ZSIsImNyZWF0ZVJlbmRlcmVyIiwiaGFzUmVuZGVyZXIiLCJCYXNlIiwiaW5WaWV3Iiwidmlld1N0YXRlIiwiem9vbSIsImNvb3JkaW5hdGUxIiwiY29vcmRpbmF0ZTIiLCJjb3NBbmdsZSIsInNpbkFuZ2xlIiwicHJvamVjdGlvbiIsImNhbldyYXBYIiwid29ybGRXaWR0aCIsIndvcmxkc0F3YXkiLCJvcHRfc291cmNlRXh0ZW50V2lkdGgiLCJwcm9qZWN0aW9uRXh0ZW50Iiwic291cmNlRXh0ZW50V2lkdGgiLCJNYXBSZW5kZXJlciIsIm1hcF8iLCJkaXNwYXRjaFJlbmRlckV2ZW50IiwiY2FsY3VsYXRlTWF0cmljZXMyRCIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0iLCJmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImhpdFRvbGVyYW5jZSIsImNoZWNrV3JhcHBlZCIsInRoaXNBcmciLCJsYXllckZpbHRlciIsInRoaXNBcmcyIiwiZmVhdHVyZSIsImdlb21ldHJ5IiwidHJhbnNsYXRlZENvb3JkaW5hdGUiLCJvZmZzZXRzIiwibGF5ZXJTdGF0ZXMiLCJudW1MYXllcnMiLCJtYXRjaGVzIiwidG1wQ29vcmQiLCJqIiwiZ2V0V3JhcFgiLCJjYWxsYmFja18xIiwib3JkZXIiLCJmb3JFYWNoIiwiZGlzdGFuY2VTcSIsImZvckVhY2hMYXllckF0UGl4ZWwiLCJoYXNGZWF0dXJlQXRDb29yZGluYXRlIiwiZ2V0TWFwIiwic2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUiLCJwb3N0UmVuZGVyRnVuY3Rpb25zIiwiZXhwaXJlSWNvbkNhY2hlIiwiUmVuZGVyRXZlbnQiLCJvcHRfaW52ZXJzZVBpeGVsVHJhbnNmb3JtIiwib3B0X2ZyYW1lU3RhdGUiLCJvcHRfY29udGV4dCIsImludmVyc2VQaXhlbFRyYW5zZm9ybSIsImNvbnRleHQiLCJDTEFTU19ISURERU4iLCJDTEFTU19DT05UUk9MIiwiZm9udFJlZ0V4IiwiUmVnRXhwIiwiZm9udFJlZ0V4TWF0Y2hJbmRleCIsImdldEZvbnRQYXJhbWV0ZXJzIiwiZm9udFNwZWMiLCJtYXRjaCIsImxpbmVIZWlnaHQiLCJ3ZWlnaHQiLCJ2YXJpYW50IiwiZmFtaWxpZXMiLCJmYW1pbHkiLCJjc3NPcGFjaXR5IiwiY3JlYXRlQ2FudmFzQ29udGV4dDJEIiwib3B0X3dpZHRoIiwib3B0X2hlaWdodCIsIm9wdF9jYW52YXNQb29sIiwib3B0X0NvbnRleHQyRFNldHRpbmdzIiwiY2FudmFzIiwic2hpZnQiLCJ3aWR0aCIsImdldENvbnRleHQiLCJyZXBsYWNlTm9kZSIsIm5ld05vZGUiLCJvbGROb2RlIiwicGFyZW50IiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlTm9kZSIsImRlZmF1bHRGb250IiwiZGVmYXVsdEZpbGxTdHlsZSIsImRlZmF1bHRMaW5lQ2FwIiwiZGVmYXVsdExpbmVEYXNoIiwiZGVmYXVsdExpbmVKb2luIiwiZGVmYXVsdFN0cm9rZVN0eWxlIiwiZGVmYXVsdFRleHRBbGlnbiIsImRlZmF1bHRUZXh0QmFzZWxpbmUiLCJkZWZhdWx0UGFkZGluZyIsImNoZWNrZWRGb250cyIsImNvbnNvbGUiLCJ3YXJuIiwibWVhc3VyZUZvbnQiLCJtZWFzdXJlRWxlbWVudCIsIm1lYXN1cmVDb250ZXh0IiwidGV4dEhlaWdodHMiLCJyZWdpc3RlckZvbnQiLCJpbnRlcnZhbCIsInJlZmVyZW5jZVdpZHRoIiwicmVmZXJlbmNlRm9udHMiLCJ0ZXh0IiwiaXNBdmFpbGFibGUiLCJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImF2YWlsYWJsZSIsInJlZmVyZW5jZUZvbnQiLCJtZWFzdXJlVGV4dFdpZHRoIiwiY2hlY2siLCJkb25lIiwiZm9udHMiLCJmb250IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwibWVhc3VyZVRleHQiLCJtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgiLCJDb21wb3NpdGVNYXBSZW5kZXJlciIsImZvbnRDaGFuZ2VMaXN0ZW5lcktleV8iLCJyZWRyYXdUZXh0IiwiZWxlbWVudF8iLCJwb3NpdGlvbiIsIkNMQVNTX1VOU0VMRUNUQUJMRSIsImNvbnRhaW5lciIsImdldFZpZXdwb3J0IiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGRyZW5fIiwicmVuZGVyZWRWaXNpYmxlXyIsImV2ZW50XzEiLCJkZWNsdXR0ZXJMYXllcnMiLCJwcmV2aW91c0VsZW1lbnQiLCJsYXllckluZGV4IiwicmVuZGVyRGVjbHV0dGVyIiwib2xkQ2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwib2xkQ2hpbGQiLCJuZXdDaGlsZCIsInJlcGxhY2VDaGlsZHJlbiIsImRpc3BsYXkiLCJnZXREYXRhQXRQaXhlbCIsIk1hcCIsIkNvbGxlY3Rpb25FdmVudCIsIm9wdF9lbGVtZW50Iiwib3B0X2luZGV4IiwiQ29sbGVjdGlvbiIsIm9wdF9vcHRpb25zIiwidW5pcXVlXyIsInVuaXF1ZSIsImFycmF5XyIsImFzc2VydFVuaXF1ZV8iLCJ1cGRhdGVMZW5ndGhfIiwiZ2V0TGVuZ3RoIiwiZXh0ZW5kIiwiZ2V0QXJyYXkiLCJpbnNlcnRBdCIsImVsZW0iLCJDb2xsZWN0aW9uRXZlbnRUeXBlIiwicmVtb3ZlQXQiLCJwcmV2Iiwic2V0QXQiLCJvcHRfZXhjZXB0IiwiR3JvdXBFdmVudCIsIkxheWVyR3JvdXAiLCJsYXllcnMiLCJsYXllcnNMaXN0ZW5lcktleXNfIiwibGlzdGVuZXJLZXlzXyIsImhhbmRsZUxheWVyc0NoYW5nZWRfIiwic2V0TGF5ZXJzIiwiaGFuZGxlTGF5ZXJDaGFuZ2VfIiwiZ2V0TGF5ZXJzIiwiaGFuZGxlTGF5ZXJzQWRkXyIsImhhbmRsZUxheWVyc1JlbW92ZV8iLCJsYXllcnNBcnJheSIsInJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfIiwibGlzdGVuZXJLZXlzIiwiaGFuZGxlTGF5ZXJHcm91cEFkZF8iLCJoYW5kbGVMYXllckdyb3VwUmVtb3ZlXyIsImNvbGxlY3Rpb25FdmVudCIsImNvbGxlY3Rpb24iLCJjdXJyZW50TGF5ZXJzIiwicG9zIiwib3duTGF5ZXJTdGF0ZSIsImRlZmF1bHRaSW5kZXgiLCJNYXBFdmVudCIsIk1hcEJyb3dzZXJFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJvcHRfZHJhZ2dpbmciLCJwaXhlbF8iLCJjb29yZGluYXRlXyIsImRyYWdnaW5nIiwiZ2V0RXZlbnRQaXhlbCIsImNvbmZpZ3VyYWJsZSIsImdldENvb3JkaW5hdGVGcm9tUGl4ZWwiLCJTSU5HTEVDTElDSyIsIkNMSUNLIiwiREJMQ0xJQ0siLCJQT0lOVEVSRFJBRyIsIlBPSU5URVJNT1ZFIiwiUE9JTlRFUkRPV04iLCJQT0lOVEVSVVAiLCJQT0lOVEVST1ZFUiIsIlBPSU5URVJPVVQiLCJQT0lOVEVSRU5URVIiLCJQT0lOVEVSTEVBVkUiLCJQT0lOVEVSQ0FOQ0VMIiwiTWFwQnJvd3NlckV2ZW50SGFuZGxlciIsIm1vdmVUb2xlcmFuY2UiLCJjbGlja1RpbWVvdXRJZF8iLCJlbXVsYXRlQ2xpY2tzXyIsImRyYWdnaW5nXyIsImRyYWdMaXN0ZW5lcktleXNfIiwibW92ZVRvbGVyYW5jZV8iLCJkb3duXyIsImFjdGl2ZVBvaW50ZXJzXyIsInRyYWNrZWRUb3VjaGVzXyIsInBvaW50ZXJkb3duTGlzdGVuZXJLZXlfIiwiaGFuZGxlUG9pbnRlckRvd25fIiwib3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50XyIsInJlbGF5ZWRMaXN0ZW5lcktleV8iLCJyZWxheUV2ZW50XyIsImJvdW5kSGFuZGxlVG91Y2hNb3ZlXyIsImhhbmRsZVRvdWNoTW92ZV8iLCJlbXVsYXRlQ2xpY2tfIiwicG9pbnRlckV2ZW50IiwibmV3RXZlbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidXBkYXRlQWN0aXZlUG9pbnRlcnNfIiwicG9pbnRlcklkIiwiaGFuZGxlUG9pbnRlclVwXyIsImlzTW91c2VBY3Rpb25CdXR0b25fIiwiYnV0dG9uIiwiZG9jIiwiZ2V0T3duZXJEb2N1bWVudCIsImhhbmRsZVBvaW50ZXJNb3ZlXyIsImdldFJvb3ROb2RlIiwiaXNNb3ZpbmdfIiwiY2FuY2VsYWJsZSIsImFicyIsImNsaWVudFgiLCJjbGllbnRZIiwiRFJPUCIsIlByaW9yaXR5UXVldWUiLCJwcmlvcml0eUZ1bmN0aW9uIiwia2V5RnVuY3Rpb24iLCJwcmlvcml0eUZ1bmN0aW9uXyIsImtleUZ1bmN0aW9uXyIsImVsZW1lbnRzXyIsInByaW9yaXRpZXNfIiwicXVldWVkRWxlbWVudHNfIiwiZGVxdWV1ZSIsImVsZW1lbnRzIiwicHJpb3JpdGllcyIsInNpZnRVcF8iLCJlbGVtZW50S2V5IiwiZW5xdWV1ZSIsInByaW9yaXR5Iiwic2lmdERvd25fIiwiZ2V0Q291bnQiLCJnZXRMZWZ0Q2hpbGRJbmRleF8iLCJnZXRSaWdodENoaWxkSW5kZXhfIiwiZ2V0UGFyZW50SW5kZXhfIiwiaGVhcGlmeV8iLCJpc0VtcHR5IiwiaXNLZXlRdWV1ZWQiLCJpc1F1ZXVlZCIsInN0YXJ0SW5kZXgiLCJsSW5kZXgiLCJySW5kZXgiLCJzbWFsbGVyQ2hpbGRJbmRleCIsInBhcmVudEluZGV4IiwicmVwcmlvcml0aXplIiwiVGlsZVF1ZXVlIiwidGlsZVByaW9yaXR5RnVuY3Rpb24iLCJ0aWxlQ2hhbmdlQ2FsbGJhY2siLCJib3VuZEhhbmRsZVRpbGVDaGFuZ2VfIiwiaGFuZGxlVGlsZUNoYW5nZSIsInRpbGVDaGFuZ2VDYWxsYmFja18iLCJ0aWxlc0xvYWRpbmdfIiwidGlsZXNMb2FkaW5nS2V5c18iLCJhZGRlZCIsImdldFRpbGVzTG9hZGluZyIsInRpbGUiLCJ0aWxlS2V5IiwibG9hZE1vcmVUaWxlcyIsIm1heFRvdGFsTG9hZGluZyIsIm1heE5ld0xvYWRzIiwibmV3TG9hZHMiLCJVbml0cyIsIlJBRElBTlMiLCJERUdSRUVTIiwiRkVFVCIsIk1FVEVSUyIsIlBJWEVMUyIsIlRJTEVfUElYRUxTIiwiVVNGRUVUIiwiQ0VOVEVSIiwiUkVTT0xVVElPTiIsIlJPVEFUSU9OIiwiUHJvamVjdGlvbiIsImNvZGVfIiwidW5pdHNfIiwiZXh0ZW50XyIsIndvcmxkRXh0ZW50XyIsIndvcmxkRXh0ZW50IiwiYXhpc09yaWVudGF0aW9uXyIsImF4aXNPcmllbnRhdGlvbiIsImdsb2JhbF8iLCJnbG9iYWwiLCJjYW5XcmFwWF8iLCJnZXRQb2ludFJlc29sdXRpb25GdW5jXyIsImdldFBvaW50UmVzb2x1dGlvbiIsImRlZmF1bHRUaWxlR3JpZF8iLCJtZXRlcnNQZXJVbml0XyIsIm1ldGVyc1BlclVuaXQiLCJnZXRDb2RlIiwiZ2V0VW5pdHMiLCJnZXRNZXRlcnNQZXJVbml0IiwiZ2V0V29ybGRFeHRlbnQiLCJnZXRBeGlzT3JpZW50YXRpb24iLCJpc0dsb2JhbCIsInNldEdsb2JhbCIsImdldERlZmF1bHRUaWxlR3JpZCIsInNldERlZmF1bHRUaWxlR3JpZCIsInRpbGVHcmlkIiwic2V0V29ybGRFeHRlbnQiLCJzZXRHZXRQb2ludFJlc29sdXRpb24iLCJmdW5jIiwiZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYyIsIlJBRElVUyIsIkhBTEZfU0laRSIsIkVYVEVOVCIsIldPUkxEX0VYVEVOVCIsIk1BWF9TQUZFX1kiLCJ0YW4iLCJFUFNHMzg1N1Byb2plY3Rpb24iLCJ1bml0cyIsInBvaW50IiwiUFJPSkVDVElPTlMiLCJFUFNHNDMyNlByb2plY3Rpb24iLCJvcHRfYXhpc09yaWVudGF0aW9uIiwidHJhbnNmb3JtcyIsImRlc3RpbmF0aW9uIiwidHJhbnNmb3JtRm4iLCJzb3VyY2VDb2RlIiwiZGVzdGluYXRpb25Db2RlIiwiZ2V0RGlzdGFuY2UiLCJjMSIsImMyIiwib3B0X3JhZGl1cyIsInJhZGl1cyIsImxhdDEiLCJsYXQyIiwiZGVsdGFMYXRCeTIiLCJkZWx0YUxvbkJ5MiIsImF0YW4yIiwiY2xvbmVUcmFuc2Zvcm0iLCJpbnB1dCIsIm9wdF9vdXRwdXQiLCJvcHRfZGltZW5zaW9uIiwiaWRlbnRpdHlUcmFuc2Zvcm0iLCJhZGRQcm9qZWN0aW9uIiwicHJvamVjdGlvbkxpa2UiLCJvcHRfdW5pdHMiLCJwb2ludFJlc29sdXRpb24iLCJ0b0VQU0c0MzI2XzEiLCJnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMiLCJ2ZXJ0aWNlcyIsImFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyIsInByb2plY3Rpb25zIiwiYWRkUHJvamVjdGlvbnMiLCJjcmVhdGVQcm9qZWN0aW9uIiwiZGVmYXVsdENvZGUiLCJmcm9tTG9uTGF0Iiwib3B0X3Byb2plY3Rpb24iLCJwcm9qZWN0aW9uMSIsInByb2plY3Rpb24yIiwiZXF1YWxVbml0cyIsInNvdXJjZVByb2plY3Rpb24iLCJkZXN0aW5hdGlvblByb2plY3Rpb24iLCJ0cmFuc2Zvcm1GdW5jIiwiZ2V0VHJhbnNmb3JtIiwicHJvamVjdGlvbnMyIiwiZm9yd2FyZFRyYW5zZm9ybSIsImludmVyc2VUcmFuc2Zvcm0iLCJ1c2VyUHJvamVjdGlvbiIsImdldFVzZXJQcm9qZWN0aW9uIiwidG9Vc2VyQ29vcmRpbmF0ZSIsImZyb21Vc2VyQ29vcmRpbmF0ZSIsImRlc3RQcm9qZWN0aW9uIiwidG9Vc2VyUmVzb2x1dGlvbiIsImNyZWF0ZUV4dGVudCIsIm9ubHlDZW50ZXIiLCJzbW9vdGgiLCJvcHRfaXNNb3ZpbmciLCJvcHRfY2VudGVyU2hpZnQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0Iiwic2hpZnRYIiwic2hpZnRZIiwicmF0aW8iLCJub25lIiwiZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbiIsIm1heEV4dGVudCIsInZpZXdwb3J0U2l6ZSIsInNob3dGdWxsRXh0ZW50IiwieFJlc29sdXRpb24iLCJ5UmVzb2x1dGlvbiIsImdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uIiwiY3JlYXRlTWluTWF4UmVzb2x1dGlvbiIsIm9wdF9zbW9vdGgiLCJvcHRfbWF4RXh0ZW50Iiwib3B0X3Nob3dGdWxsRXh0ZW50IiwiY2FwcGVkTWF4UmVzIiwiZGlzYWJsZSIsImVhc2VJbiIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImRpbWVuc2lvbiIsImF0YW4iLCJ0cmFuc2Zvcm0yRCIsIm9wdF9kZXN0IiwiZGVzdCIsImFuY2hvciIsImFuY2hvclgiLCJhbmNob3JZIiwiZGVsdGFYIiwiZGVsdGFZIiwidG1wVHJhbnNmb3JtIiwiR2VvbWV0cnkiLCJmbiIsImxhc3RSZXN1bHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiY2FsbGVkIiwiZXh0ZW50UmV2aXNpb25fIiwic2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSIsInNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uIiwic2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsIiwicmV2aXNpb24iLCJzcXVhcmVkVG9sZXJhbmNlIiwib3B0X3RyYW5zZm9ybSIsImdldFNpbXBsaWZpZWRHZW9tZXRyeSIsImFwcGx5VHJhbnNmb3JtIiwibmV4dEFyZ3MiLCJzaW1wbGlmeVRyYW5zZm9ybWVkIiwiY2xvc2VzdFBvaW50WFkiLCJjbG9zZXN0UG9pbnQiLCJtaW5TcXVhcmVkRGlzdGFuY2UiLCJjb29yZCIsImdldENsb3Nlc3RQb2ludCIsIm9wdF9jbG9zZXN0UG9pbnQiLCJOYU4iLCJpbnRlcnNlY3RzQ29vcmRpbmF0ZSIsImNvbXB1dGVFeHRlbnQiLCJpc05hTiIsInJldHVybk9yVXBkYXRlIiwicm90YXRlIiwic2NhbGUiLCJvcHRfc3kiLCJvcHRfYW5jaG9yIiwic2ltcGxpZnkiLCJ0b2xlcmFuY2UiLCJnZXRUeXBlIiwiaW50ZXJzZWN0c0V4dGVudCIsInRyYW5zbGF0ZSIsInNvdXJjZVByb2oiLCJpbkNvb3JkaW5hdGVzIiwib3V0Q29vcmRpbmF0ZXMiLCJwaXhlbEV4dGVudCIsInByb2plY3RlZEV4dGVudCIsIlNpbXBsZUdlb21ldHJ5IiwibGF5b3V0IiwiZ2V0Q29vcmRpbmF0ZXMiLCJnZXRGaXJzdENvb3JkaW5hdGUiLCJnZXRGbGF0Q29vcmRpbmF0ZXMiLCJnZXRMYXN0Q29vcmRpbmF0ZSIsImdldExheW91dCIsInNpbXBsaWZpZWRHZW9tZXRyeSIsImdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsIiwiZ2V0U3RyaWRlIiwic2V0RmxhdENvb3JkaW5hdGVzIiwiZ2V0U3RyaWRlRm9yTGF5b3V0Iiwic2V0Q29vcmRpbmF0ZXMiLCJvcHRfbGF5b3V0Iiwic2V0TGF5b3V0IiwibmVzdGluZyIsImdldExheW91dEZvclN0cmlkZSIsImFzc2lnbkNsb3Nlc3QiLCJvZmZzZXQxIiwib2Zmc2V0MiIsIm1heFNxdWFyZWREZWx0YSIsInNxdWFyZWREZWx0YSIsImFzc2lnbkNsb3Nlc3RQb2ludCIsIm1heERlbHRhIiwiaXNSaW5nIiwib3B0X3RtcFBvaW50Iiwic3F1YXJlZERpc3RhbmNlIiwidG1wUG9pbnQiLCJkZWZsYXRlQ29vcmRpbmF0ZXMiLCJzbmFwIiwicXVhbnRpemUiLCJzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIiwic2ltcGxpZmllZE9mZnNldCIsImluZmxhdGVDb29yZGluYXRlcyIsIm9wdF9jb29yZGluYXRlcyIsImluZmxhdGVDb29yZGluYXRlc0FycmF5IiwiZW5kcyIsIm9wdF9jb29yZGluYXRlc3MiLCJjb29yZGluYXRlc3MiLCJqaiIsImluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkiLCJlbmRzcyIsIm9wdF9jb29yZGluYXRlc3NzIiwiY29vcmRpbmF0ZXNzcyIsImxpbmVhclJpbmciLCJ0d2ljZUFyZWEiLCJMaW5lYXJSaW5nIiwibWF4RGVsdGFfIiwibWF4RGVsdGFSZXZpc2lvbl8iLCJtYXJrZXJzIiwic3RhY2siLCJsYXN0IiwiZmlyc3QiLCJtYXhTcXVhcmVkRGlzdGFuY2UiLCJzcXVhcmVkRGlzdGFuY2VfMSIsImRvdWdsYXNQZXVja2VyIiwiUG9pbnQiLCJkZWZsYXRlQ29vcmRpbmF0ZSIsImxpbmVhclJpbmdDb250YWluc0V4dGVudCIsImxpbmVhclJpbmdDb250YWluc1hZIiwid24iLCJsaW5lYXJSaW5nc0NvbnRhaW5zWFkiLCJpbnRlcnNlY3RzTGluZVN0cmluZyIsImNvb3JkaW5hdGVzRXh0ZW50IiwicmV0IiwicG9pbnQxIiwicG9pbnQyIiwic3RhcnQiLCJzdGFydFJlbCIsImVuZFJlbCIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwic2xvcGUiLCJpbnRlcnNlY3RzU2VnbWVudCIsImxpbmVhclJpbmdJc0Nsb2Nrd2lzZSIsImVkZ2UiLCJvcmllbnRMaW5lYXJSaW5ncyIsIm9wdF9yaWdodCIsInJpZ2h0IiwiaXNDbG9ja3dpc2UiLCJQb2x5Z29uIiwib3B0X2VuZHMiLCJlbmRzXyIsImZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fIiwiZmxhdEludGVyaW9yUG9pbnRfIiwib3JpZW50ZWRSZXZpc2lvbl8iLCJvcmllbnRlZEZsYXRDb29yZGluYXRlc18iLCJhcHBlbmRMaW5lYXJSaW5nIiwicG9seWdvbiIsImFycmF5TWF4U3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQiLCJnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyIsImxpbmVhclJpbmdzIiwiZ2V0RW5kcyIsImdldEZsYXRJbnRlcmlvclBvaW50IiwiZmxhdENlbnRlciIsImZsYXRDZW50ZXJzIiwiZmxhdENlbnRlcnNPZmZzZXQiLCJpbnRlcnNlY3Rpb25zIiwicnIiLCJwb2ludFgiLCJtYXhTZWdtZW50TGVuZ3RoIiwic2VnbWVudExlbmd0aCIsImdldEludGVyaW9yUG9pbnRPZkFycmF5IiwiZ2V0SW50ZXJpb3JQb2ludCIsImdldExpbmVhclJpbmdDb3VudCIsImdldExpbmVhclJpbmciLCJnZXRMaW5lYXJSaW5ncyIsImxpbmVhclJpbmdzQXJlT3JpZW50ZWQiLCJzaW1wbGlmaWVkRW5kcyIsInF1YW50aXplQXJyYXkiLCJpbnRlcnNlY3RzTGluZWFyUmluZyIsImludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkiLCJkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSIsImZyb21FeHRlbnQiLCJWaWV3IiwiaGludHNfIiwiYW5pbWF0aW9uc18iLCJ1cGRhdGVBbmltYXRpb25LZXlfIiwicHJvamVjdGlvbl8iLCJ2aWV3cG9ydFNpemVfIiwidGFyZ2V0Q2VudGVyXyIsInRhcmdldFJlc29sdXRpb25fIiwidGFyZ2V0Um90YXRpb25fIiwibmV4dENlbnRlcl8iLCJuZXh0UmVzb2x1dGlvbl8iLCJuZXh0Um90YXRpb25fIiwiY2FuY2VsQW5jaG9yXyIsImFwcGx5T3B0aW9uc18iLCJWaWV3UHJvcGVydHkiLCJyZXNvbHV0aW9uQ29uc3RyYWludEluZm8iLCJyZXNvbHV0aW9uQ29uc3RyYWludCIsInpvb21GYWN0b3IiLCJtdWx0aVdvcmxkIiwic21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJwcm9qRXh0ZW50IiwiY29uc3RyYWluT25seUNlbnRlciIsInJlc29sdXRpb25zIiwiY29uc3RyYWluUmVzb2x1dGlvbiIsImNhcHBlZCIsInoiLCJjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyIsImRlZmF1bHRNYXhSZXNvbHV0aW9uIiwiZGVmYXVsdE1pblJlc29sdXRpb24iLCJkZWZhdWx0TWF4Wm9vbSIsInBvd2VyIiwib3B0X21pblJlc29sdXRpb24iLCJtaW5ab29tTGV2ZWwiLCJjYXBwZWRab29tTGV2ZWwiLCJ6b29tTGV2ZWwiLCJjcmVhdGVTbmFwVG9Qb3dlciIsImNvbnN0cmFpbnQiLCJjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludCIsIm1heFJlc29sdXRpb25fIiwibWluUmVzb2x1dGlvbl8iLCJ6b29tRmFjdG9yXyIsInJlc29sdXRpb25zXyIsInBhZGRpbmdfIiwicGFkZGluZyIsIm1pblpvb21fIiwiY2VudGVyQ29uc3RyYWludCIsInNtb290aEV4dGVudENvbnN0cmFpbnQiLCJjcmVhdGVDZW50ZXJDb25zdHJhaW50Iiwicm90YXRpb25Db25zdHJhaW50IiwiZW5hYmxlUm90YXRpb24iLCJjb25zdHJhaW5Sb3RhdGlvbiIsInRoZXRhIiwiY3JlYXRlUm90YXRpb25Db25zdHJhaW50IiwiY29uc3RyYWludHNfIiwic2V0Um90YXRpb24iLCJzZXRDZW50ZXJJbnRlcm5hbCIsInNldFJlc29sdXRpb24iLCJzZXRab29tIiwib2xkUGFkZGluZyIsIm5ld1BhZGRpbmciLCJnZXRSZXNvbHV0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiZ2V0Wm9vbSIsImdldENlbnRlckludGVybmFsIiwiZ2V0Um90YXRpb24iLCJhbmltYXRlIiwidmFyX2FyZ3MiLCJpc0RlZiIsImdldEFuaW1hdGluZyIsInJlc29sdmVDb25zdHJhaW50cyIsImFyZ3MiLCJnZXRQcm9qZWN0aW9uIiwiYW5pbWF0ZUludGVybmFsIiwiYW5pbWF0aW9uQ291bnQiLCJEYXRlIiwibm93Iiwic2VyaWVzIiwiYW5pbWF0aW9uIiwiY29tcGxldGUiLCJkdXJhdGlvbiIsImVhc2luZyIsInNvdXJjZUNlbnRlciIsInRhcmdldENlbnRlciIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRSZXNvbHV0aW9uIiwiZ2V0UmVzb2x1dGlvbkZvclpvb20iLCJzb3VyY2VSb3RhdGlvbiIsImRlbHRhIiwidGFyZ2V0Um90YXRpb24iLCJpc05vb3BBbmltYXRpb24iLCJzZXRIaW50IiwidXBkYXRlQW5pbWF0aW9uc18iLCJhbmltYXRpb25DYWxsYmFjayIsImdldEludGVyYWN0aW5nIiwiY2FuY2VsQW5pbWF0aW9ucyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW9yZSIsInNlcmllc0NvbXBsZXRlIiwiZWxhcHNlZCIsImZyYWN0aW9uIiwicHJvZ3Jlc3MiLCJnZXRWaWV3cG9ydFNpemVfIiwiY29uc3RyYWluZWRSZXNvbHV0aW9uIiwiY2FsY3VsYXRlQ2VudGVyWm9vbSIsImFwcGx5VGFyZ2V0U3RhdGVfIiwiY29uc3RyYWluZWRSb3RhdGlvbiIsImNhbGN1bGF0ZUNlbnRlclJvdGF0ZSIsImZpbHRlciIsIkJvb2xlYW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50Q2VudGVyIiwiY3VycmVudFJlc29sdXRpb24iLCJvcHRfcm90YXRpb24iLCJ3Iiwic2V0Vmlld3BvcnRTaXplIiwib3B0X3NpemUiLCJnZXRDb25zdHJhaW50cyIsImdldENvbnN0cmFpblJlc29sdXRpb24iLCJnZXRIaW50cyIsIm9wdF9oaW50cyIsImNhbGN1bGF0ZUV4dGVudCIsImNhbGN1bGF0ZUV4dGVudEludGVybmFsIiwiZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXyIsImdldFpvb21Gb3JSZXNvbHV0aW9uIiwic2V0Q29uc3RyYWluUmVzb2x1dGlvbiIsImVuYWJsZWQiLCJnZXRSZXNvbHV0aW9ucyIsImdldFJlc29sdXRpb25Gb3JFeHRlbnQiLCJnZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwiLCJnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiIsIm9wdF9wb3dlciIsImdldENvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uIiwibG9nUG93ZXIiLCJyZWR1Y2VkU2l6ZSIsImNhbGN1bGF0ZUNlbnRlck9uIiwibmV4dENlbnRlciIsIm5leHRSZXNvbHV0aW9uIiwibmV4dFJvdGF0aW9uIiwibmVhcmVzdCIsImJhc2VMZXZlbCIsImZpdCIsImdlb21ldHJ5T3JFeHRlbnQiLCJmaXRJbnRlcm5hbCIsInJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeSIsImNvb3JkcyIsIm1pblJvdFgiLCJtaW5Sb3RZIiwibWF4Um90WCIsIm1heFJvdFkiLCJyb3RYIiwicm90WSIsInJvdGF0ZWRFeHRlbnQiLCJjZW50ZXJSb3QiLCJjZW50ZXJYIiwiY2VudGVyWSIsImdldENvbnN0cmFpbmVkQ2VudGVyIiwiY2VudGVyT24iLCJjZW50ZXJPbkludGVybmFsIiwiY2FsY3VsYXRlQ2VudGVyU2hpZnQiLCJjZW50ZXJTaGlmdCIsInNoaWZ0ZWRDZW50ZXIiLCJhZGp1c3RDZW50ZXIiLCJkZWx0YUNvb3JkaW5hdGVzIiwic2V0Q2VudGVyIiwiYWRqdXN0Q2VudGVySW50ZXJuYWwiLCJhZGp1c3RSZXNvbHV0aW9uIiwiYWRqdXN0UmVzb2x1dGlvbkludGVybmFsIiwiaXNNb3ZpbmciLCJuZXdSZXNvbHV0aW9uIiwiYWRqdXN0Wm9vbSIsImFkanVzdFJvdGF0aW9uIiwiYWRqdXN0Um90YXRpb25JbnRlcm5hbCIsIm5ld1JvdGF0aW9uIiwiaGludCIsIm9wdF9kb05vdENhbmNlbEFuaW1zIiwib3B0X2ZvcmNlTW92aW5nIiwibmV3Q2VudGVyIiwib3B0X2R1cmF0aW9uIiwib3B0X3Jlc29sdXRpb25EaXJlY3Rpb24iLCJiZWdpbkludGVyYWN0aW9uIiwiZW5kSW50ZXJhY3Rpb24iLCJlbmRJbnRlcmFjdGlvbkludGVybmFsIiwib3B0X3RhcmdldFJlc29sdXRpb24iLCJnZXRDb25zdHJhaW5lZFpvb20iLCJ0YXJnZXRab29tIiwib3B0X2RpcmVjdGlvbiIsInRhcmdldFJlcyIsInJldHVyblZhbHVlIiwiaGFzQXJlYSIsInRvU2l6ZSIsInJlbW92ZUxheWVyTWFwUHJvcGVydHkiLCJzZXRMYXllck1hcFByb3BlcnR5IiwiUGx1Z2dhYmxlTWFwIiwib3B0aW9uc0ludGVybmFsIiwia2V5Ym9hcmRFdmVudFRhcmdldCIsImdldEVsZW1lbnRCeUlkIiwiY29udHJvbHMiLCJpbnRlcmFjdGlvbnMiLCJvdmVybGF5cyIsImxheWVyR3JvdXAiLCJ2aWV3IiwiY3JlYXRlT3B0aW9uc0ludGVybmFsIiwicmVuZGVyQ29tcGxldGVfIiwiYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfIiwiaGFuZGxlQnJvd3NlckV2ZW50IiwibWF4VGlsZXNMb2FkaW5nXyIsIm1heFRpbGVzTG9hZGluZyIsInBpeGVsUmF0aW9fIiwicGl4ZWxSYXRpbyIsInBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyIsImFuaW1hdGlvbkRlbGF5S2V5XyIsImFuaW1hdGlvbkRlbGF5XyIsInJlbmRlckZyYW1lXyIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyIsInBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyIsImZyYW1lSW5kZXhfIiwiZnJhbWVTdGF0ZV8iLCJwcmV2aW91c0V4dGVudF8iLCJ2aWV3UHJvcGVydHlMaXN0ZW5lcktleV8iLCJ2aWV3Q2hhbmdlTGlzdGVuZXJLZXlfIiwibGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyIsInZpZXdwb3J0XyIsIm92ZXJmbG93Iiwib3ZlcmxheUNvbnRhaW5lcl8iLCJwb2ludGVyRXZlbnRzIiwib3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8iLCJtYXBCcm93c2VyRXZlbnRIYW5kbGVyXyIsImtleWJvYXJkRXZlbnRUYXJnZXRfIiwidGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfIiwib3ZlcmxheXNfIiwib3ZlcmxheUlkSW5kZXhfIiwicG9zdFJlbmRlckZ1bmN0aW9uc18iLCJ0aWxlUXVldWVfIiwiZ2V0VGlsZVByaW9yaXR5IiwiaGFuZGxlVGlsZUNoYW5nZV8iLCJNYXBQcm9wZXJ0eSIsImhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyIsImhhbmRsZVZpZXdDaGFuZ2VkXyIsImhhbmRsZVNpemVDaGFuZ2VkXyIsImhhbmRsZVRhcmdldENoYW5nZWRfIiwidGhlbiIsInZpZXdPcHRpb25zIiwic2V0VmlldyIsImFkZE92ZXJsYXlJbnRlcm5hbF8iLCJnZXRJZCIsImNvbnRyb2wiLCJpbnRlcmFjdGlvbiIsImFkZENvbnRyb2wiLCJnZXRDb250cm9scyIsImFkZEludGVyYWN0aW9uIiwiZ2V0SW50ZXJhY3Rpb25zIiwiYWRkTGF5ZXIiLCJnZXRMYXllckdyb3VwIiwiaGFuZGxlTGF5ZXJBZGRfIiwiYWRkT3ZlcmxheSIsIm92ZXJsYXkiLCJnZXRPdmVybGF5cyIsInNldFRhcmdldCIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsImdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbCIsImdldEZlYXR1cmVzQXRQaXhlbCIsImZlYXR1cmVzIiwiZ2V0QWxsTGF5ZXJzIiwiYWRkTGF5ZXJzRnJvbSIsImhhc0ZlYXR1cmVBdFBpeGVsIiwiZ2V0RXZlbnRDb29yZGluYXRlIiwiZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwiLCJ2aWV3cG9ydFBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZXZlbnRQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwibGVmdCIsInRvcCIsImdldFRhcmdldEVsZW1lbnQiLCJnZXRWaWV3IiwiZ2V0T3ZlcmxheUJ5SWQiLCJncm91cCIsImdldExvYWRpbmciLCJsb2FkaW5nIiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSIsInZpZXdDb29yZGluYXRlIiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsIiwiZ2V0U2l6ZSIsImdldE92ZXJsYXlDb250YWluZXIiLCJnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50IiwidGFyZ2V0RWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJ0aWxlU291cmNlS2V5IiwidGlsZUNlbnRlciIsInRpbGVSZXNvbHV0aW9uIiwid2FudGVkVGlsZXMiLCJicm93c2VyRXZlbnQiLCJtYXBCcm93c2VyRXZlbnQiLCJoYW5kbGVNYXBCcm93c2VyRXZlbnQiLCJyb290Tm9kZSIsImNvbnRhaW5zIiwiZG9jdW1lbnRFbGVtZW50IiwiaW50ZXJhY3Rpb25zQXJyYXkiLCJnZXRBY3RpdmUiLCJoYW5kbGVQb3N0UmVuZGVyIiwidGlsZVF1ZXVlIiwiaGludHMiLCJ2aWV3SGludHMiLCJsb3dPbkZyYW1lQnVkZ2V0IiwidGltZSIsImRlZmF1bHRWaWV3IiwidXBkYXRlU2l6ZSIsImhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfIiwidXBkYXRlVmlld3BvcnRTaXplXyIsImhhbmRsZUxheWVyUmVtb3ZlXyIsImlzUmVuZGVyZWQiLCJyZW5kZXJTeW5jIiwiaGFuZGxlRm9udHNDaGFuZ2VkIiwicmVtb3ZlQ29udHJvbCIsInJlbW92ZUludGVyYWN0aW9uIiwicmVtb3ZlTGF5ZXIiLCJyZW1vdmVPdmVybGF5IiwicHJldmlvdXNGcmFtZVN0YXRlIiwiZGVjbHV0dGVyVHJlZSIsInVzZWRUaWxlcyIsIm1hcElkIiwicmVuZGVyVGFyZ2V0cyIsIm5leHRFeHRlbnQiLCJNYXBFdmVudFR5cGUiLCJzZXRMYXllckdyb3VwIiwib2xkTGF5ZXJHcm91cCIsImNvbXB1dGVkU3R5bGUiLCJvZmZzZXRXaWR0aCIsInBhcnNlRmxvYXQiLCJvZmZzZXRIZWlnaHQiLCJnZXRDbGllbnRSZWN0cyIsIkNvbnRyb2wiLCJ0YXJnZXRfIiwibWFwRXZlbnQiLCJBdHRyaWJ1dGlvbiIsInVsRWxlbWVudF8iLCJjb2xsYXBzZWRfIiwiY29sbGFwc2VkIiwidXNlckNvbGxhcHNlZF8iLCJvdmVycmlkZUNvbGxhcHNpYmxlXyIsImNvbGxhcHNpYmxlIiwiY29sbGFwc2libGVfIiwidGlwTGFiZWwiLCJleHBhbmRDbGFzc05hbWUiLCJjb2xsYXBzZUxhYmVsIiwiY29sbGFwc2VDbGFzc05hbWUiLCJjb2xsYXBzZUxhYmVsXyIsInRleHRDb250ZW50IiwibGFiZWwiLCJsYWJlbF8iLCJhY3RpdmVMYWJlbCIsInRvZ2dsZUJ1dHRvbl8iLCJ0aXRsZSIsImhhbmRsZUNsaWNrXyIsImNzc0NsYXNzZXMiLCJyZW5kZXJlZEF0dHJpYnV0aW9uc18iLCJjb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyIsImxvb2t1cCIsInZpc2libGVBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkdldHRlciIsImdldEF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9ucyIsImdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwic2V0Q29sbGFwc2libGUiLCJ1cGRhdGVFbGVtZW50XyIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkcmVuIiwiaW5uZXJIVE1MIiwiaGFuZGxlVG9nZ2xlXyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImdldENvbGxhcHNpYmxlIiwic2V0Q29sbGFwc2VkIiwiZ2V0Q29sbGFwc2VkIiwiUm90YXRlIiwiY29tcGFzc0NsYXNzTmFtZSIsImFkZCIsImNhbGxSZXNldE5vcnRoXyIsInJlc2V0Tm9ydGgiLCJkdXJhdGlvbl8iLCJhdXRvSGlkZV8iLCJhdXRvSGlkZSIsInJvdGF0aW9uXyIsInJlc2V0Tm9ydGhfIiwiWm9vbSIsInpvb21JbkNsYXNzTmFtZSIsInpvb21PdXRDbGFzc05hbWUiLCJ6b29tSW5MYWJlbCIsInpvb21PdXRMYWJlbCIsInpvb21JblRpcExhYmVsIiwiem9vbU91dFRpcExhYmVsIiwiaW5FbGVtZW50Iiwib3V0RWxlbWVudCIsInpvb21CeURlbHRhXyIsImN1cnJlbnRab29tIiwibmV3Wm9vbSIsInpvb21CeURlbHRhIiwiSW50ZXJhY3Rpb24iLCJzZXRBY3RpdmUiLCJhY3RpdmUiLCJEb3VibGVDbGlja1pvb20iLCJkZWx0YV8iLCJzdG9wRXZlbnQiLCJzaGlmdEtleSIsIlBvaW50ZXJJbnRlcmFjdGlvbiIsImhhbmRsZURvd25FdmVudCIsImhhbmRsZURyYWdFdmVudCIsImhhbmRsZU1vdmVFdmVudCIsImhhbmRsZVVwRXZlbnQiLCJzdG9wRG93biIsImhhbmRsaW5nRG93blVwU2VxdWVuY2UiLCJ0cmFja2VkUG9pbnRlcnNfIiwidGFyZ2V0UG9pbnRlcnMiLCJnZXRQb2ludGVyQ291bnQiLCJ1cGRhdGVUcmFja2VkUG9pbnRlcnNfIiwiaGFuZGxlZFVwIiwiaGFuZGxlZCIsImlzUG9pbnRlckRyYWdnaW5nRXZlbnQiLCJjb25kaXRpb25zIiwicGFzcyIsImFsdFNoaWZ0S2V5c09ubHkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiY3RybEtleSIsImZvY3VzV2l0aFRhYmluZGV4IiwiaGFzQXR0cmlidXRlIiwiYWN0aXZlRWxlbWVudCIsImFsd2F5cyIsIm1vdXNlQWN0aW9uQnV0dG9uIiwibm9Nb2RpZmllcktleXMiLCJzaGlmdEtleU9ubHkiLCJ0YXJnZXROb3RFZGl0YWJsZSIsInRhZ05hbWUiLCJtb3VzZU9ubHkiLCJwb2ludGVyVHlwZSIsInByaW1hcnlBY3Rpb24iLCJpc1ByaW1hcnkiLCJEcmFnUGFuIiwia2luZXRpY18iLCJraW5ldGljIiwibGFzdENlbnRyb2lkIiwibGFzdFBvaW50ZXJzQ291bnRfIiwicGFubmluZ18iLCJjb25kaXRpb24iLCJjb25kaXRpb25fIiwib25Gb2N1c09ubHkiLCJub0tpbmV0aWNfIiwiY2VudHJvaWQiLCJkaXN0YW5jZSIsImdldEFuZ2xlIiwiY2VudGVycHgiLCJQb2ludGVyIiwiRHJhZ1JvdGF0ZSIsImxhc3RBbmdsZV8iLCJSZW5kZXJCb3giLCJnZW9tZXRyeV8iLCJzdGFydFBpeGVsXyIsImVuZFBpeGVsXyIsInJlbmRlcl8iLCJzdGFydFBpeGVsIiwiZW5kUGl4ZWwiLCJweCIsInNldFBpeGVscyIsImNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkiLCJnZXRHZW9tZXRyeSIsIkRyYWdCb3hFdmVudCIsIkRyYWdCb3giLCJib3hfIiwibWluQXJlYV8iLCJtaW5BcmVhIiwib25Cb3hFbmQiLCJib3hFbmRDb25kaXRpb25fIiwiYm94RW5kQ29uZGl0aW9uIiwiZGVmYXVsdEJveEVuZENvbmRpdGlvbiIsImNvbXBsZXRlQm94IiwiRHJhZ1pvb20iLCJvdXRfIiwib3V0IiwiS2V5Ym9hcmRQYW4iLCJkZWZhdWx0Q29uZGl0aW9uXyIsInBpeGVsRGVsdGFfIiwicGl4ZWxEZWx0YSIsImtleUV2ZW50Iiwia2V5Q29kZSIsIm1hcFVuaXRzRGVsdGEiLCJwYW4iLCJLZXlib2FyZFpvb20iLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJLaW5ldGljIiwiZGVjYXkiLCJtaW5WZWxvY2l0eSIsImRlbGF5IiwiZGVjYXlfIiwibWluVmVsb2NpdHlfIiwiZGVsYXlfIiwicG9pbnRzXyIsImFuZ2xlXyIsImluaXRpYWxWZWxvY2l0eV8iLCJsYXN0SW5kZXgiLCJmaXJzdEluZGV4IiwiTW9kZSIsIk1vdXNlV2hlZWxab29tIiwidG90YWxEZWx0YV8iLCJsYXN0RGVsdGFfIiwidGltZW91dF8iLCJ0aW1lb3V0IiwidXNlQW5jaG9yXyIsInVzZUFuY2hvciIsImNvbnN0cmFpblJlc29sdXRpb25fIiwibGFzdEFuY2hvcl8iLCJzdGFydFRpbWVfIiwidGltZW91dElkXyIsIm1vZGVfIiwidHJhY2twYWRFdmVudEdhcF8iLCJ0cmFja3BhZFRpbWVvdXRJZF8iLCJkZWx0YVBlclpvb21fIiwiZW5kSW50ZXJhY3Rpb25fIiwid2hlZWxFdmVudCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfUElYRUwiLCJET01fREVMVEFfTElORSIsInRpbWVMZWZ0IiwiaGFuZGxlV2hlZWxab29tXyIsInNldE1vdXNlQW5jaG9yIiwiUGluY2hSb3RhdGUiLCJwb2ludGVyT3B0aW9ucyIsImFuY2hvcl8iLCJyb3RhdGluZ18iLCJyb3RhdGlvbkRlbHRhXyIsInRocmVzaG9sZF8iLCJ0aHJlc2hvbGQiLCJyb3RhdGlvbkRlbHRhIiwidG91Y2gwIiwidG91Y2gxIiwiUGluY2hab29tIiwibGFzdERpc3RhbmNlXyIsImxhc3RTY2FsZURlbHRhXyIsInNjYWxlRGVsdGEiLCJ6b29tT3B0aW9ucyIsInJvdGF0ZU9wdGlvbnMiLCJhdHRyaWJ1dGlvbiIsImF0dHJpYnV0aW9uT3B0aW9ucyIsImFsdFNoaWZ0RHJhZ1JvdGF0ZSIsImRvdWJsZUNsaWNrWm9vbSIsInpvb21EZWx0YSIsInpvb21EdXJhdGlvbiIsImRyYWdQYW4iLCJwaW5jaFJvdGF0ZSIsInBpbmNoWm9vbSIsImtleWJvYXJkIiwibW91c2VXaGVlbFpvb20iLCJzaGlmdERyYWdab29tIiwiQ29tcG9zaXRlIiwiQmFzZVRpbGVMYXllciIsInByZWxvYWQiLCJ1c2VJbnRlcmltVGlsZXNPbkVycm9yIiwic2V0UHJlbG9hZCIsInNldFVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJnZXRQcmVsb2FkIiwiVGlsZVByb3BlcnR5IiwiZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciIsIkxheWVyUmVuZGVyZXIiLCJib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyIsImhhbmRsZUltYWdlQ2hhbmdlXyIsImxheWVyXyIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXAiLCJsb2FkZWRUaWxlQ2FsbGJhY2siLCJ0aWxlcyIsInRpbGVDb29yZCIsImNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIiLCJ0aWxlUmFuZ2UiLCJmb3JFYWNoTG9hZGVkVGlsZSIsImdldExheWVyIiwicmVuZGVySWZSZWFkeUFuZFZpc2libGUiLCJsb2FkSW1hZ2UiLCJpbWFnZSIsImltYWdlU3RhdGUiLCJDYW52YXNMYXllclJlbmRlcmVyIiwicmVuZGVyZWRSZXNvbHV0aW9uIiwidGVtcFRyYW5zZm9ybSIsInBpeGVsVHJhbnNmb3JtIiwiY29udGFpbmVyUmV1c2VkIiwicGl4ZWxDb250ZXh0XyIsInVzZUNvbnRhaW5lciIsIm9wdF9iYWNrZ3JvdW5kQ29sb3IiLCJsYXllckNsYXNzTmFtZSIsImJhY2tncm91bmRDb2xvciIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjbGlwVW5yb3RhdGVkIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0IiwiaW52ZXJ0ZWQiLCJzYXZlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xpcCIsImRpc3BhdGNoUmVuZGVyRXZlbnRfIiwicHJlUmVuZGVyIiwicG9zdFJlbmRlciIsImdldFJlbmRlclRyYW5zZm9ybSIsInJlbmRlclBpeGVsIiwibGF5ZXJFeHRlbnQiLCJwaXhlbENvbnRleHQiLCJwaXhlbENhbnZhcyIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImdldEltYWdlRGF0YSIsImVyciIsIlVpbnQ4QXJyYXkiLCJUaWxlUmFuZ2UiLCJjb250YWluc1RpbGVSYW5nZSIsImdldFdpZHRoIiwiSU1BR0VfU01PT1RISU5HX0RJU0FCTEVEIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJJTUFHRV9TTU9PVEhJTkdfRU5BQkxFRCIsIkNhbnZhc1RpbGVMYXllclJlbmRlcmVyIiwidGlsZUxheWVyIiwiZXh0ZW50Q2hhbmdlZCIsInJlbmRlcmVkRXh0ZW50XyIsInJlbmRlcmVkUGl4ZWxSYXRpbyIsInJlbmRlcmVkUHJvamVjdGlvbiIsInJlbmRlcmVkUmV2aXNpb24iLCJyZW5kZXJlZFRpbGVzIiwibmV3VGlsZXNfIiwidG1wRXh0ZW50IiwidG1wVGlsZVJhbmdlXyIsImlzRHJhd2FibGVUaWxlIiwidGlsZVN0YXRlIiwiZ2V0VGlsZSIsInNldFN0YXRlIiwiZ2V0SW50ZXJpbVRpbGUiLCJ2aWV3UmVzb2x1dGlvbiIsInZpZXdDZW50ZXIiLCJ0aWxlU291cmNlIiwic291cmNlUmV2aXNpb24iLCJnZXRUaWxlR3JpZEZvclByb2plY3Rpb24iLCJnZXRaRm9yUmVzb2x1dGlvbiIsInpEaXJlY3Rpb24iLCJ0aWxlUGl4ZWxSYXRpbyIsImdldFRpbGVQaXhlbFJhdGlvIiwiY2FudmFzRXh0ZW50IiwiZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWiIsInRpbGVzVG9EcmF3QnlaIiwiZmluZExvYWRlZFRpbGVzIiwidG1wVGlsZVJhbmdlIiwidWlkIiwiaW5UcmFuc2l0aW9uIiwiZ2V0QWxwaGEiLCJjaGlsZFRpbGVSYW5nZSIsImdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlIiwiY292ZXJlZCIsImZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UiLCJjYW52YXNTY2FsZSIsImNhbnZhc1RyYW5zZm9ybSIsImdldEludGVycG9sYXRlIiwiY2xpcHMiLCJjbGlwWnMiLCJjdXJyZW50Q2xpcCIsInpzIiwiZ2V0T3BhcXVlIiwicmV2ZXJzZSIsImN1cnJlbnRaIiwiY3VycmVudFRpbGVQaXhlbFNpemUiLCJnZXRUaWxlUGl4ZWxTaXplIiwiY3VycmVudFNjYWxlIiwiZHhfMSIsImR5XzEiLCJvcmlnaW5UaWxlQ29vcmQiLCJnZXRUaWxlQ29vcmRGb3JDb29yZEFuZFoiLCJvcmlnaW5UaWxlRXh0ZW50IiwiZ2V0VGlsZUNvb3JkRXh0ZW50Iiwib3JpZ2luXzEiLCJ0aWxlR3V0dGVyIiwiZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiIsInRpbGVzVG9EcmF3IiwidGlsZUNvb3JkS2V5IiwieEluZGV4IiwibmV4dFgiLCJ5SW5kZXgiLCJuZXh0WSIsInRyYW5zaXRpb24iLCJpXzEiLCJkcmF3VGlsZUltYWdlIiwicmVzdG9yZSIsInVuc2hpZnQiLCJ1cGRhdGVVc2VkVGlsZXMiLCJtYW5hZ2VUaWxlUHlyYW1pZCIsInNjaGVkdWxlRXhwaXJlQ2FjaGUiLCJndXR0ZXIiLCJnZXRUaWxlSW1hZ2UiLCJhbHBoYSIsImFscGhhQ2hhbmdlZCIsImdsb2JhbEFscGhhIiwiZW5kVHJhbnNpdGlvbiIsImdldEltYWdlIiwicG9zdFJlbmRlckZ1bmN0aW9uIiwiZXhwaXJlQ2FjaGUiLCJvcHRfdGlsZUNhbGxiYWNrIiwidGlsZUNvdW50IiwiZ2V0VGlsZUNvb3JkQ2VudGVyIiwidXNlVGlsZSIsInVwZGF0ZUNhY2hlU2l6ZSIsIlRpbGVMYXllciIsIkJhc2VUaWxlIiwiVGlsZSIsImludGVyaW1UaWxlIiwidHJhbnNpdGlvbl8iLCJ0cmFuc2l0aW9uU3RhcnRzXyIsImludGVycG9sYXRlIiwicmVsZWFzZSIsInJlZnJlc2hJbnRlcmltQ2hhaW4iLCJnZXRUaWxlQ29vcmQiLCJJbWFnZUJhc2UiLCJnZXRQaXhlbFJhdGlvIiwibGlzdGVuSW1hZ2UiLCJsb2FkSGFuZGxlciIsImVycm9ySGFuZGxlciIsImltZyIsImxpc3RlbmluZyIsImRlY29kaW5nIiwibG9hZGVkIiwiY2F0Y2giLCJJbWFnZVdyYXBwZXIiLCJpbWFnZUxvYWRGdW5jdGlvbiIsInNyY18iLCJpbWFnZV8iLCJ1bmxpc3Rlbl8iLCJpbWFnZUxvYWRGdW5jdGlvbl8iLCJoYW5kbGVJbWFnZUVycm9yXyIsInVubGlzdGVuSW1hZ2VfIiwiaGFuZGxlSW1hZ2VMb2FkXyIsInNldEltYWdlIiwiSW1hZ2VUaWxlIiwidGlsZUxvYWRGdW5jdGlvbiIsImNyb3NzT3JpZ2luXyIsInRpbGVMb2FkRnVuY3Rpb25fIiwiY3R4IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiVHJpYW5ndWxhdGlvbiIsInRhcmdldFByb2oiLCJ0YXJnZXRFeHRlbnQiLCJtYXhTb3VyY2VFeHRlbnQiLCJlcnJvclRocmVzaG9sZCIsIm9wdF9kZXN0aW5hdGlvblJlc29sdXRpb24iLCJzb3VyY2VQcm9qXyIsInRhcmdldFByb2pfIiwidHJhbnNmb3JtSW52Q2FjaGUiLCJ0cmFuc2Zvcm1JbnYiLCJ0cmFuc2Zvcm1JbnZfIiwibWF4U291cmNlRXh0ZW50XyIsImVycm9yVGhyZXNob2xkU3F1YXJlZF8iLCJ0cmlhbmdsZXNfIiwid3JhcHNYSW5Tb3VyY2VfIiwiY2FuV3JhcFhJblNvdXJjZV8iLCJzb3VyY2VXb3JsZFdpZHRoXyIsInRhcmdldFdvcmxkV2lkdGhfIiwiZGVzdGluYXRpb25Ub3BMZWZ0IiwiZGVzdGluYXRpb25Ub3BSaWdodCIsImRlc3RpbmF0aW9uQm90dG9tUmlnaHQiLCJkZXN0aW5hdGlvbkJvdHRvbUxlZnQiLCJzb3VyY2VUb3BMZWZ0Iiwic291cmNlVG9wUmlnaHQiLCJzb3VyY2VCb3R0b21SaWdodCIsInNvdXJjZUJvdHRvbUxlZnQiLCJtYXhTdWJkaXZpc2lvbiIsImFkZFF1YWRfIiwibGVmdEJvdW5kXzEiLCJ0cmlhbmdsZSIsIm5ld1RyaWFuZ2xlIiwiYWRkVHJpYW5nbGVfIiwiYVNyYyIsImJTcmMiLCJjU3JjIiwiZFNyYyIsInNvdXJjZVF1YWRFeHRlbnQiLCJzb3VyY2VDb3ZlcmFnZVgiLCJzb3VyY2VXb3JsZFdpZHRoIiwid3JhcHNYIiwibmVlZHNTdWJkaXZpc2lvbiIsImlzRmluaXRlIiwiaXNOb3RGaW5pdGUiLCJjZW50ZXJTcmMiLCJiYyIsImJjU3JjIiwiZGEiLCJkYVNyYyIsImFiIiwiYWJTcmMiLCJjZCIsImNkU3JjIiwiY2FsY3VsYXRlU291cmNlRXh0ZW50IiwiZ2V0VHJpYW5nbGVzIiwiYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfIiwiZHJhd1Rlc3RUcmlhbmdsZSIsInUxIiwidjEiLCJ1MiIsInYyIiwiY2xvc2VQYXRoIiwidmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmciLCJjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uIiwidGFyZ2V0TWV0ZXJzUGVyVW5pdCIsInNvdXJjZU1ldGVyc1BlclVuaXQiLCJzb3VyY2VFeHRlbnQiLCJjb21wZW5zYXRpb25GYWN0b3IiLCJ0cmlhbmd1bGF0aW9uIiwib3B0X3JlbmRlckVkZ2VzIiwib3B0X2ludGVycG9sYXRlIiwicGl4ZWxSb3VuZCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInNvdXJjZURhdGFFeHRlbnQiLCJjYW52YXNXaWR0aEluVW5pdHMiLCJjYW52YXNIZWlnaHRJblVuaXRzIiwic3RpdGNoQ29udGV4dCIsInN0aXRjaFNjYWxlIiwieFBvcyIsInlQb3MiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsInRhcmdldFRvcExlZnQiLCJ1MCIsInYwIiwic291cmNlTnVtZXJpY2FsU2hpZnRYIiwic291cmNlTnVtZXJpY2FsU2hpZnRZIiwiYWZmaW5lQ29lZnMiLCJtYXhSb3ciLCJtYXhFbCIsImFic1ZhbHVlIiwiY29lZiIsInNvbHZlTGluZWFyU3lzdGVtIiwiaXNCcm9rZW5EaWFnb25hbFJlbmRlcmluZyIsInVkIiwidmQiLCJzdGVwIiwic3RlcHMiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsIlJlcHJvalRpbGUiLCJzb3VyY2VUaWxlR3JpZCIsInRhcmdldFRpbGVHcmlkIiwid3JhcHBlZFRpbGVDb29yZCIsImdldFRpbGVGdW5jdGlvbiIsIm9wdF9lcnJvclRocmVzaG9sZCIsInJlbmRlckVkZ2VzXyIsImd1dHRlcl8iLCJjYW52YXNfIiwic291cmNlVGlsZUdyaWRfIiwidGFyZ2V0VGlsZUdyaWRfIiwid3JhcHBlZFRpbGVDb29yZF8iLCJzb3VyY2VUaWxlc18iLCJzb3VyY2VzTGlzdGVuZXJLZXlzXyIsInNvdXJjZVpfIiwibWF4VGFyZ2V0RXh0ZW50IiwibGltaXRlZFRhcmdldEV4dGVudCIsInNvdXJjZVByb2pFeHRlbnQiLCJjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uIiwiZXJyb3JUaHJlc2hvbGRJblBpeGVscyIsInRyaWFuZ3VsYXRpb25fIiwic291cmNlUmFuZ2UiLCJzcmNYIiwic3JjWSIsInJlcHJvamVjdF8iLCJnZXRUaWxlU2l6ZSIsImxlZnRUb0xvYWRfMSIsInNvdXJjZUxpc3RlbktleV8xIiwidW5saXN0ZW5Tb3VyY2VzXyIsIkxSVUNhY2hlIiwib3B0X2hpZ2hXYXRlck1hcmsiLCJoaWdoV2F0ZXJNYXJrIiwiY291bnRfIiwiZW50cmllc18iLCJvbGRlc3RfIiwibmV3ZXN0XyIsImNvbnRhaW5zS2V5IiwiZW50cnkiLCJ2YWx1ZV8iLCJrZXlfIiwibmV3ZXIiLCJvbGRlciIsInBlZWtMYXN0IiwicGVla0xhc3RLZXkiLCJwZWVrRmlyc3RLZXkiLCJvcHRfdGlsZUNvb3JkIiwiZ2V0S2V5WlhZIiwiVGlsZUNhY2hlIiwicHJ1bmVFeGNlcHROZXdlc3RaIiwiU291cmNlIiwiYXR0cmlidXRpb25zXyIsImFkYXB0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGVfIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJ3cmFwWF8iLCJ3cmFwWCIsImludGVycG9sYXRlXyIsInZpZXdSZXNvbHZlciIsInZpZXdSZWplY3RvciIsInZpZXdQcm9taXNlXyIsInJlamVjdCIsInJlZnJlc2giLCJzZXRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkxpa2UiLCJ0bXBUaWxlQ29vcmQiLCJUaWxlR3JpZCIsImNvbXBhcmUiLCJldmVyeSIsImN1cnJlbnRWYWwiLCJyZXMiLCJvcmlnaW5zIiwib3JpZ2luXyIsIm9yaWdpbiIsIm9yaWdpbnNfIiwidGlsZVNpemVzXyIsInRpbGVTaXplcyIsInRpbGVTaXplXyIsInRpbGVTaXplIiwiZnVsbFRpbGVSYW5nZXNfIiwidG1wU2l6ZV8iLCJ0bXBFeHRlbnRfIiwic2l6ZXMiLCJyZXN0cmljdGVkVGlsZVJhbmdlIiwiY2FsY3VsYXRlVGlsZVJhbmdlc18iLCJmb3JFYWNoVGlsZUNvb3JkIiwib3B0X3RpbGVSYW5nZSIsInRpbGVDb29yZEV4dGVudCIsImdldE9yaWdpbiIsImdldFRpbGVSYW5nZUZvclRpbGVDb29yZEFuZFoiLCJ0aWxlQ29vcmRaIiwidGlsZUNvb3JkWCIsInRpbGVDb29yZFkiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIiwiZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyIsInJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kiLCJnZXRUaWxlQ29vcmRSZXNvbHV0aW9uIiwiZ2V0RnVsbFRpbGVSYW5nZSIsImZ1bGxUaWxlUmFuZ2VzIiwiZ2V0Rm9yUHJvamVjdGlvbiIsIm9wdF9tYXhab29tIiwib3B0X3RpbGVTaXplIiwib3B0X2Nvcm5lciIsInJlc29sdXRpb25zRnJvbUV4dGVudCIsImNyZWF0ZUZvckV4dGVudCIsImV4dGVudEZyb21Qcm9qZWN0aW9uIiwiY3JlYXRlRm9yUHJvamVjdGlvbiIsIm9wdF9tYXhSZXNvbHV0aW9uIiwiaGFsZiIsIlRpbGVTb3VyY2UiLCJvcGFxdWVfIiwib3BhcXVlIiwidGlsZVBpeGVsUmF0aW9fIiwidGlsZUNhY2hlIiwidG1wU2l6ZSIsInRpbGVPcHRpb25zIiwiZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInNldEtleSIsImdldFRpbGVHcmlkIiwiZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uIiwid2l0aGluRXh0ZW50QW5kWiIsIlRpbGVTb3VyY2VFdmVudCIsImNyZWF0ZUZyb21UZW1wbGF0ZSIsInRlbXBsYXRlIiwielJlZ0V4IiwieFJlZ0V4IiwieVJlZ0V4IiwiZGFzaFlSZWdFeCIsInJhbmdlIiwiY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnMiLCJ0aWxlVXJsRnVuY3Rpb25zIiwiZXhwYW5kVXJsIiwidXJsIiwidXJscyIsInN0YXJ0Q2hhckNvZGUiLCJzdG9wQ2hhckNvZGUiLCJmcm9tQ2hhckNvZGUiLCJzdG9wXzEiLCJVcmxUaWxlIiwiZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fIiwidGlsZVVybEZ1bmN0aW9uIiwic2V0VXJscyIsInNldFVybCIsInRpbGVMb2FkaW5nS2V5c18iLCJnZXRUaWxlTG9hZEZ1bmN0aW9uIiwiZ2V0VGlsZVVybEZ1bmN0aW9uIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRVcmxzIiwic2V0VGlsZUxvYWRGdW5jdGlvbiIsInNldFRpbGVVcmxGdW5jdGlvbiIsInRlbXBsYXRlcyIsImNyZWF0ZUZyb21UZW1wbGF0ZXMiLCJUaWxlSW1hZ2UiLCJpbWFnZVNtb290aGluZyIsImRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uIiwidGlsZUNsYXNzIiwidGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkIiwicmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfIiwidXNlZFRpbGVDYWNoZSIsImdldEd1dHRlciIsInRoaXNQcm9qIiwicHJvaktleSIsImNyZWF0ZVRpbGVfIiwidXJsVGlsZUNvb3JkIiwidGlsZVVybCIsIm5ld1RpbGUiLCJnZXRUaWxlSW50ZXJuYWwiLCJzZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyIsInNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVncmlkIiwicHJvaiIsImltYWdlVGlsZSIsIlhZWiIsInh5ek9wdGlvbnMiLCJncmlkT3B0aW9ucyIsImNyZWF0ZVhZWiIsImFwcGVuZFBhcmFtcyIsInVyaSIsInBhcmFtcyIsImtleVBhcmFtcyIsInFzIiwiV01UUyIsInJlcXVlc3RFbmNvZGluZyIsInZlcnNpb25fIiwidmVyc2lvbiIsImZvcm1hdF8iLCJmb3JtYXQiLCJkaW1lbnNpb25zXyIsImRpbWVuc2lvbnMiLCJtYXRyaXhTZXRfIiwibWF0cml4U2V0Iiwic3R5bGVfIiwicmVxdWVzdEVuY29kaW5nXyIsImdldEtleUZvckRpbWVuc2lvbnNfIiwiY3JlYXRlRnJvbVdNVFNUZW1wbGF0ZSIsImdldERpbWVuc2lvbnMiLCJnZXRGb3JtYXQiLCJnZXRNYXRyaXhTZXQiLCJnZXRSZXF1ZXN0RW5jb2RpbmciLCJnZXRTdHlsZSIsImdldFZlcnNpb24iLCJ1cGRhdGVEaW1lbnNpb25zIiwibG9jYWxDb250ZXh0XzEiLCJnZXRNYXRyaXhJZCIsIkRFRkFVTFRfV01TX1ZFUlNJT04iLCJSZXByb2pJbWFnZSIsImdldEltYWdlRnVuY3Rpb24iLCJzb3VyY2VJbWFnZSIsInNvdXJjZVBpeGVsUmF0aW8iLCJ0YXJnZXRFeHRlbnRfIiwic291cmNlSW1hZ2VfIiwic291cmNlUGl4ZWxSYXRpb18iLCJzb3VyY2VMaXN0ZW5lcktleV8iLCJ1bmxpc3RlblNvdXJjZV8iLCJJbWFnZVNvdXJjZUV2ZW50IiwiSW1hZ2VTb3VyY2UiLCJyZXByb2plY3RlZEltYWdlXyIsInJlcHJvamVjdGVkUmV2aXNpb25fIiwiZmluZE5lYXJlc3RSZXNvbHV0aW9uIiwiaWR4IiwiZ2V0SW1hZ2VJbnRlcm5hbCIsImhhbmRsZUltYWdlQ2hhbmdlIiwiZGVmYXVsdEltYWdlTG9hZEZ1bmN0aW9uIiwiR0VURkVBVFVSRUlORk9fSU1BR0VfU0laRSIsIkltYWdlV01TIiwidXJsXyIsInBhcmFtc18iLCJ2MTNfIiwidXBkYXRlVjEzXyIsInNlcnZlclR5cGVfIiwiaGlkcGlfIiwiaGlkcGkiLCJpbWFnZVNpemVfIiwicmVuZGVyZWRSZXZpc2lvbl8iLCJyYXRpb18iLCJnZXRGZWF0dXJlSW5mb1VybCIsInByb2plY3Rpb25PYmoiLCJzb3VyY2VQcm9qZWN0aW9uT2JqIiwiYmFzZVBhcmFtcyIsImdldFJlcXVlc3RVcmxfIiwiZ2V0TGVnZW5kVXJsIiwiTEFZRVJTIiwibXB1IiwiZ2V0UGFyYW1zIiwiaW1hZ2VSZXNvbHV0aW9uIiwidmlld0V4dGVudCIsInJlcXVlc3RFeHRlbnQiLCJnZXRJbWFnZUxvYWRGdW5jdGlvbiIsImRwaSIsImJib3giLCJnZXRVcmwiLCJzZXRJbWFnZUxvYWRGdW5jdGlvbiIsInVwZGF0ZVBhcmFtcyIsInMxIiwiczIiLCJuMSIsIm4yIiwiY29tcGFyZVZlcnNpb25zIiwiV01UU1RpbGVHcmlkIiwibWF0cml4SWRzXyIsIm1hdHJpeElkcyIsImdldE1hdHJpeElkcyIsIkZlYXR1cmUiLCJvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMiLCJpZF8iLCJnZW9tZXRyeU5hbWVfIiwic3R5bGVGdW5jdGlvbl8iLCJnZW9tZXRyeUNoYW5nZUtleV8iLCJoYW5kbGVHZW9tZXRyeUNoYW5nZWRfIiwic2V0R2VvbWV0cnkiLCJzZXRHZW9tZXRyeU5hbWUiLCJnZXRHZW9tZXRyeU5hbWUiLCJzZXRTdHlsZSIsImdldFN0eWxlRnVuY3Rpb24iLCJoYW5kbGVHZW9tZXRyeUNoYW5nZV8iLCJvcHRfc3R5bGUiLCJzdHlsZXNfMSIsInNldElkIiwiUkJ1c2giLCJvcHRfbWF4RW50cmllcyIsInJidXNoXyIsIml0ZW1zXyIsImV4dGVudHMiLCJpdGVtcyIsImdldEFsbCIsImdldEluRXh0ZW50IiwiZm9yRWFjaF8iLCJmb3JFYWNoSW5FeHRlbnQiLCJyYnVzaCIsInhociIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiRm9ybWF0VHlwZSIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlWE1MIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwicmVhZEZlYXR1cmVzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJyZWFkUHJvamVjdGlvbiIsIm9uZXJyb3IiLCJzZW5kIiwibG9hZEZlYXR1cmVzWGhyIiwiZGF0YVByb2plY3Rpb24iLCJhZGRGZWF0dXJlcyIsIlZlY3RvclNvdXJjZUV2ZW50Iiwib3B0X2ZlYXR1cmUiLCJvcHRfZmVhdHVyZXMiLCJWZWN0b3JTb3VyY2UiLCJsb2FkZXJfIiwib3ZlcmxhcHNfIiwib3ZlcmxhcHMiLCJsb2FkZXIiLCJzdHJhdGVneV8iLCJzdHJhdGVneSIsInVzZVNwYXRpYWxJbmRleCIsImZlYXR1cmVzUnRyZWVfIiwibG9hZGVkRXh0ZW50c1J0cmVlXyIsImxvYWRpbmdFeHRlbnRzQ291bnRfIiwibnVsbEdlb21ldHJ5RmVhdHVyZXNfIiwiaWRJbmRleF8iLCJ1aWRJbmRleF8iLCJmZWF0dXJlQ2hhbmdlS2V5c18iLCJmZWF0dXJlc0NvbGxlY3Rpb25fIiwiYWRkRmVhdHVyZXNJbnRlcm5hbCIsImJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fIiwiYWRkRmVhdHVyZSIsImFkZEZlYXR1cmVJbnRlcm5hbCIsImZlYXR1cmVLZXkiLCJhZGRUb0luZGV4XyIsInNldHVwQ2hhbmdlRXZlbnRzXyIsIlZlY3RvckV2ZW50VHlwZSIsImhhbmRsZUZlYXR1cmVDaGFuZ2VfIiwidmFsaWQiLCJuZXdGZWF0dXJlcyIsImdlb21ldHJ5RmVhdHVyZXMiLCJsZW5ndGhfMSIsImxlbmd0aF8yIiwibGVuZ3RoXzMiLCJtb2RpZnlpbmdDb2xsZWN0aW9uIiwicmVtb3ZlRmVhdHVyZSIsIm9wdF9mYXN0IiwiZmVhdHVyZUlkIiwicmVtb3ZlQW5kSWdub3JlUmV0dXJuIiwicmVtb3ZlRmVhdHVyZUludGVybmFsIiwiY2xlYXJFdmVudCIsImZvckVhY2hGZWF0dXJlIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QiLCJmb3JFYWNoRmVhdHVyZUluRXh0ZW50IiwiZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQiLCJnZXRGZWF0dXJlc0NvbGxlY3Rpb24iLCJnZXRGZWF0dXJlc0F0Q29vcmRpbmF0ZSIsImdldEZlYXR1cmVzSW5FeHRlbnQiLCJnZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSIsIm9wdF9maWx0ZXIiLCJjbG9zZXN0RmVhdHVyZSIsInByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlIiwibWluRGlzdGFuY2UiLCJnZXRGZWF0dXJlQnlJZCIsImdldEZlYXR1cmVCeVVpZCIsImdldE92ZXJsYXBzIiwic2lkIiwicmVtb3ZlRnJvbUlkSW5kZXhfIiwiaGFzRmVhdHVyZSIsImxvYWRGZWF0dXJlcyIsImxvYWRlZEV4dGVudHNSdHJlZSIsImV4dGVudHNUb0xvYWQiLCJfbG9vcF8xIiwiZXh0ZW50VG9Mb2FkIiwidGhpc18xIiwicmVtb3ZlTG9hZGVkRXh0ZW50IiwiZmVhdHVyZUNoYW5nZUtleXMiLCJyZW1vdmVkIiwic2V0TG9hZGVyIiwiSW1hZ2VTdHlsZSIsIm9wYWNpdHlfIiwicm90YXRlV2l0aFZpZXdfIiwicm90YXRlV2l0aFZpZXciLCJzY2FsZV8iLCJzY2FsZUFycmF5XyIsImRpc3BsYWNlbWVudF8iLCJkaXNwbGFjZW1lbnQiLCJnZXRTY2FsZSIsImdldFJvdGF0ZVdpdGhWaWV3IiwiZ2V0RGlzcGxhY2VtZW50IiwiZ2V0U2NhbGVBcnJheSIsImdldEFuY2hvciIsImdldEhpdERldGVjdGlvbkltYWdlIiwiZ2V0SW1hZ2VTdGF0ZSIsImdldEltYWdlU2l6ZSIsInNldERpc3BsYWNlbWVudCIsInNldFJvdGF0ZVdpdGhWaWV3Iiwic2V0U2NhbGUiLCJsaXN0ZW5JbWFnZUNoYW5nZSIsInVubGlzdGVuSW1hZ2VDaGFuZ2UiLCJhc0NvbG9yTGlrZSIsIlJlZ3VsYXJTaGFwZSIsImhpdERldGVjdGlvbkNhbnZhc18iLCJmaWxsXyIsImZpbGwiLCJwb2ludHMiLCJyYWRpdXNfIiwicmFkaXVzMSIsInJhZGl1czJfIiwicmFkaXVzMiIsInN0cm9rZV8iLCJzaXplXyIsInJlbmRlck9wdGlvbnNfIiwiZ2V0RmlsbCIsImdldFBvaW50cyIsImdldFJhZGl1cyIsImdldFJhZGl1czIiLCJnZXRTdHJva2UiLCJjcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfIiwicmVuZGVyT3B0aW9ucyIsImRyYXdfIiwiY2FsY3VsYXRlTGluZUpvaW5TaXplXyIsImxpbmVKb2luIiwic3Ryb2tlV2lkdGgiLCJtaXRlckxpbWl0IiwicjEiLCJyMiIsIm1pdGVyUmF0aW8iLCJiZXZlbEFkZCIsImFhIiwiZGQiLCJpbm5lck1pdGVyUmF0aW8iLCJpbm5lckxlbmd0aCIsImNyZWF0ZVJlbmRlck9wdGlvbnMiLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0IiwiZ2V0Q29sb3IiLCJnZXRMaW5lRGFzaCIsImdldExpbmVEYXNoT2Zmc2V0IiwiZ2V0TGluZUpvaW4iLCJnZXRNaXRlckxpbWl0IiwibWF4UmFkaXVzIiwiY3JlYXRlUGF0aF8iLCJzZXRMaW5lRGFzaCIsImRyYXdIaXREZXRlY3Rpb25DYW52YXNfIiwiYXJjIiwic3RhcnRBbmdsZSIsImFuZ2xlMCIsInJhZGl1c0MiLCJDaXJjbGVTdHlsZSIsInNldFJhZGl1cyIsIkZpbGwiLCJjb2xvcl8iLCJzZXRDb2xvciIsIlN0cm9rZSIsImxpbmVDYXBfIiwibGluZUNhcCIsImxpbmVEYXNoXyIsImxpbmVEYXNoT2Zmc2V0XyIsImxpbmVKb2luXyIsIm1pdGVyTGltaXRfIiwid2lkdGhfIiwiZ2V0TGluZUNhcCIsInNldExpbmVDYXAiLCJzZXRMaW5lRGFzaE9mZnNldCIsInNldExpbmVKb2luIiwic2V0TWl0ZXJMaW1pdCIsInNldFdpZHRoIiwiU3R5bGUiLCJnZW9tZXRyeUZ1bmN0aW9uXyIsImRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uIiwicmVuZGVyZXIiLCJoaXREZXRlY3Rpb25SZW5kZXJlcl8iLCJoaXREZXRlY3Rpb25SZW5kZXJlciIsInRleHRfIiwiekluZGV4XyIsImdldFRleHQiLCJzZXRSZW5kZXJlciIsInNldEhpdERldGVjdGlvblJlbmRlcmVyIiwiZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIiLCJnZXRHZW9tZXRyeUZ1bmN0aW9uIiwic2V0RmlsbCIsInNldFN0cm9rZSIsInNldFRleHQiLCJkZWZhdWx0U3R5bGVzIiwiY3JlYXRlRGVmYXVsdFN0eWxlIiwiQ2lyY2xlIiwiQmFzZVZlY3RvckxheWVyIiwicmVuZGVyQnVmZmVyIiwidXBkYXRlV2hpbGVBbmltYXRpbmciLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nIiwiZGVjbHV0dGVyXyIsImRlY2x1dHRlciIsInJlbmRlckJ1ZmZlcl8iLCJ1cGRhdGVXaGlsZUFuaW1hdGluZ18iLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nXyIsImdldERlY2x1dHRlciIsImdldFJlbmRlckJ1ZmZlciIsImdldFJlbmRlck9yZGVyIiwiZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmciLCJnZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nIiwic2V0UmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlciIsInN0eWxlRnVuY3Rpb24iLCJJbnN0cnVjdGlvbiIsIkJFR0lOX0dFT01FVFJZIiwiQkVHSU5fUEFUSCIsIkNJUkNMRSIsIkNMT1NFX1BBVEgiLCJDVVNUT00iLCJEUkFXX0NIQVJTIiwiRFJBV19JTUFHRSIsIkVORF9HRU9NRVRSWSIsIkZJTEwiLCJNT1ZFX1RPX0xJTkVfVE8iLCJTRVRfRklMTF9TVFlMRSIsIlNFVF9TVFJPS0VfU1RZTEUiLCJTVFJPS0UiLCJmaWxsSW5zdHJ1Y3Rpb24iLCJzdHJva2VJbnN0cnVjdGlvbiIsImJlZ2luUGF0aEluc3RydWN0aW9uIiwiY2xvc2VQYXRoSW5zdHJ1Y3Rpb24iLCJWZWN0b3JDb250ZXh0IiwiZHJhd0N1c3RvbSIsImRyYXdHZW9tZXRyeSIsImRyYXdDaXJjbGUiLCJjaXJjbGVHZW9tZXRyeSIsImRyYXdGZWF0dXJlIiwiZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiIsImdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5IiwiZHJhd0xpbmVTdHJpbmciLCJsaW5lU3RyaW5nR2VvbWV0cnkiLCJkcmF3TXVsdGlMaW5lU3RyaW5nIiwibXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkiLCJkcmF3TXVsdGlQb2ludCIsIm11bHRpUG9pbnRHZW9tZXRyeSIsImRyYXdNdWx0aVBvbHlnb24iLCJtdWx0aVBvbHlnb25HZW9tZXRyeSIsImRyYXdQb2ludCIsInBvaW50R2VvbWV0cnkiLCJkcmF3UG9seWdvbiIsInBvbHlnb25HZW9tZXRyeSIsImRyYXdUZXh0Iiwic2V0RmlsbFN0cm9rZVN0eWxlIiwic2V0SW1hZ2VTdHlsZSIsImltYWdlU3R5bGUiLCJvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCIsInNldFRleHRTdHlsZSIsInRleHRTdHlsZSIsIkNhbnZhc0J1aWxkZXIiLCJtYXhMaW5lV2lkdGgiLCJiZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyIsImJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfIiwiYnVmZmVyZWRNYXhFeHRlbnRfIiwiaW5zdHJ1Y3Rpb25zIiwidG1wQ29vcmRpbmF0ZV8iLCJoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJhcHBseVBpeGVsUmF0aW8iLCJkYXNoQXJyYXkiLCJkYXNoIiwiYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMiLCJnZXRCdWZmZXJlZE1heEV4dGVudCIsIm15RW5kIiwiYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyIsImNsb3NlZCIsInNraXBGaXJzdCIsImxhc3RSZWwiLCJuZXh0UmVsIiwibGFzdFhDb29yZCIsImxhc3RZQ29vcmQiLCJuZXh0Q29vcmQiLCJza2lwcGVkIiwiZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyIsImJ1aWxkZXJFbmRzIiwiYnVpbGRlckVuZCIsImJlZ2luR2VvbWV0cnkiLCJidWlsZGVyRW5kc3MiLCJidWlsZGVyQmVnaW4iLCJnZXRFbmRzcyIsIm15RW5kcyIsImVuZEdlb21ldHJ5IiwiZmluaXNoIiwicmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucyIsImluc3RydWN0aW9uIiwiZmlsbFN0eWxlQ29sb3IiLCJzdHJva2VTdHlsZUNvbG9yIiwic3Ryb2tlU3R5bGVMaW5lQ2FwIiwic3Ryb2tlU3R5bGVMaW5lRGFzaCIsInN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQiLCJzdHJva2VTdHlsZUxpbmVKb2luIiwic3Ryb2tlU3R5bGVXaWR0aCIsInN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsImNyZWF0ZUZpbGwiLCJhcHBseVN0cm9rZSIsImNyZWF0ZVN0cm9rZSIsInVwZGF0ZUZpbGxTdHlsZSIsImN1cnJlbnRGaWxsU3R5bGUiLCJ1cGRhdGVTdHJva2VTdHlsZSIsImN1cnJlbnRTdHJva2VTdHlsZSIsImN1cnJlbnRMaW5lQ2FwIiwiY3VycmVudExpbmVEYXNoIiwiY3VycmVudExpbmVEYXNoT2Zmc2V0IiwiY3VycmVudExpbmVKb2luIiwiY3VycmVudExpbmVXaWR0aCIsImN1cnJlbnRNaXRlckxpbWl0IiwiZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiIsIkNhbnZhc0ltYWdlQnVpbGRlciIsImhpdERldGVjdGlvbkltYWdlXyIsImltYWdlUGl4ZWxSYXRpb18iLCJhbmNob3JYXyIsImFuY2hvcllfIiwiaGVpZ2h0XyIsIm9yaWdpblhfIiwib3JpZ2luWV8iLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyIsIm15QmVnaW4iLCJvcHRfc2hhcmVkRGF0YSIsImhpdERldGVjdGlvbkltYWdlIiwiQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIiLCJkcmF3RmxhdENvb3JkaW5hdGVzXyIsIm1vdmVUb0xpbmVUb0luc3RydWN0aW9uIiwibGFzdFN0cm9rZSIsIkNhbnZhc1BvbHlnb25CdWlsZGVyIiwiZHJhd0ZsYXRDb29yZGluYXRlc3NfIiwibnVtRW5kcyIsInNldEZpbGxTdHJva2VTdHlsZXNfIiwiY2lyY2xlSW5zdHJ1Y3Rpb24iLCJtYXRjaGluZ0NodW5rIiwibWF4QW5nbGUiLCJtMTIiLCJtMjMiLCJ4MTIiLCJ5MTIiLCJ4MjMiLCJ5MjMiLCJjaHVua1N0YXJ0IiwiY2h1bmtFbmQiLCJjaHVua00iLCJhY29zIiwiVEVYVF9BTElHTiIsIkNhbnZhc1RleHRCdWlsZGVyIiwibGFiZWxzXyIsInRleHRPZmZzZXRYXyIsInRleHRPZmZzZXRZXyIsInRleHRSb3RhdGVXaXRoVmlld18iLCJ0ZXh0Um90YXRpb25fIiwidGV4dEZpbGxTdGF0ZV8iLCJmaWxsU3RhdGVzIiwidGV4dFN0cm9rZVN0YXRlXyIsInN0cm9rZVN0YXRlcyIsInRleHRTdGF0ZV8iLCJ0ZXh0U3RhdGVzIiwidGV4dEtleV8iLCJmaWxsS2V5XyIsInN0cm9rZUtleV8iLCJmaWxsU3RhdGUiLCJzdHJva2VTdGF0ZSIsInRleHRTdGF0ZSIsImdlb21ldHJ5VHlwZSIsInBsYWNlbWVudCIsImdlb21ldHJ5V2lkdGhzIiwiZ2V0RmxhdE1pZHBvaW50IiwiZ2V0RmxhdE1pZHBvaW50cyIsImludGVyaW9yUG9pbnRzIiwiZ2V0RmxhdEludGVyaW9yUG9pbnRzIiwiYmVnXzEiLCJrZWVwIiwic2F2ZVRleHRTdGF0ZXNfIiwiYmFja2dyb3VuZEZpbGwiLCJiYWNrZ3JvdW5kU3Ryb2tlIiwicDAiLCJwMSIsInAyIiwicDMiLCJwaXhlbFJhdGlvXzEiLCJ0ZXh0QWxpZ24iLCJmbGF0T2Zmc2V0IiwiZmxhdEVuZCIsIm9vIiwiZHJhd0NoYXJzXyIsInN0cm9rZUtleSIsInRleHRLZXkiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsS2V5IiwiYmFzZWxpbmUiLCJ0ZXh0RmlsbFN0eWxlIiwidGV4dFN0cm9rZVN0eWxlIiwiZ2V0Rm9udCIsInRleHRTY2FsZSIsImdldE92ZXJmbG93IiwiZ2V0TWF4QW5nbGUiLCJnZXRQbGFjZW1lbnQiLCJnZXRUZXh0QWxpZ24iLCJnZXRUZXh0QmFzZWxpbmUiLCJnZXRCYWNrZ3JvdW5kRmlsbCIsImdldEJhY2tncm91bmRTdHJva2UiLCJnZXRQYWRkaW5nIiwidGV4dE9mZnNldFgiLCJnZXRPZmZzZXRYIiwidGV4dE9mZnNldFkiLCJnZXRPZmZzZXRZIiwidGV4dFJvdGF0ZVdpdGhWaWV3IiwidGV4dFJvdGF0aW9uIiwiQkFUQ0hfQ09OU1RSVUNUT1JTIiwiUG9seWdvbkJ1aWxkZXIiLCJCdWlsZGVyIiwiSW1hZ2VCdWlsZGVyIiwiTGluZVN0cmluZ0J1aWxkZXIiLCJCdWlsZGVyR3JvdXAiLCJ0b2xlcmFuY2VfIiwibWF4RXh0ZW50XyIsInJlc29sdXRpb25fIiwiYnVpbGRlcnNCeVpJbmRleF8iLCJidWlsZGVySW5zdHJ1Y3Rpb25zIiwiektleSIsImJ1aWxkZXJzIiwiYnVpbGRlcktleSIsImJ1aWxkZXJJbnN0cnVjdGlvbiIsImdldEJ1aWxkZXIiLCJidWlsZGVyVHlwZSIsInpJbmRleEtleSIsInJlcGxheXMiLCJyZXBsYXkiLCJDb25zdHJ1Y3RvciIsImRyYXdUZXh0T25QYXRoIiwic3RhcnRNIiwic2VnbWVudE0iLCJhZHZhbmNlIiwiYmVnaW5YIiwiYmVnaW5ZIiwic3RhcnRPZmZzZXQiLCJzdGFydExlbmd0aCIsImVuZE0iLCJmbGF0IiwicHJldmlvdXNBbmdsZSIsInNpbmdsZVNlZ21lbnQiLCJpU3RhcnQiLCJjaGFyTGVuZ3RoIiwiY2hhcnMiLCJzdWJzdHJpbmciLCJsaW5lU3RyaW5nTGVuZ3RoIiwicDQiLCJnZXREZWNsdXR0ZXJCb3giLCJyZXBsYXlJbWFnZU9yTGFiZWxBcmdzIiwiZGVjbHV0dGVyQm94IiwicnRsUmVnRXgiLCJob3Jpem9udGFsVGV4dEFsaWduIiwiYWxpZ24iLCJ0ZXN0IiwiRXhlY3V0b3IiLCJhbGlnbkZpbGxfIiwiY29vcmRpbmF0ZUNhY2hlXyIsInJlbmRlcmVkVHJhbnNmb3JtXyIsInBpeGVsQ29vcmRpbmF0ZXNfIiwidmlld1JvdGF0aW9uXyIsIndpZHRoc18iLCJjcmVhdGVMYWJlbCIsImxpbmVzIiwibnVtTGluZXMiLCJ3aWR0aHMiLCJjdXJyZW50V2lkdGgiLCJtZWFzdXJlVGV4dFdpZHRocyIsIm1ldHJpY3MiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsImFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImJvcmRlciIsIm1lYXN1cmVUZXh0SGVpZ2h0IiwicmVuZGVyV2lkdGgiLCJjb250ZXh0SW5zdHJ1Y3Rpb25zIiwiT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwibGVmdFJpZ2h0IiwicmVwbGF5VGV4dEJhY2tncm91bmRfIiwic2V0U3Ryb2tlU3R5bGVfIiwiY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18iLCJzaGVldFdpZHRoIiwic2hlZXRIZWlnaHQiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNuYXBUb1BpeGVsIiwiZmlsbFN0cm9rZSIsImJveFciLCJib3hIIiwiYm94WCIsImJveFkiLCJkcmF3SW1hZ2VYIiwiZHJhd0ltYWdlWSIsImRyYXdJbWFnZVciLCJkcmF3SW1hZ2VIIiwicmVwbGF5SW1hZ2VPckxhYmVsXyIsImNvbnRleHRTY2FsZSIsImltYWdlT3JMYWJlbCIsImJveCIsInN0cm9rZVBhZGRpbmciLCJsYWJlbE9ySW1hZ2UiLCJzZXRUcmFuc2Zvcm0iLCJleGVjdXRlTGFiZWxJbnN0cnVjdGlvbnMiLCJkcmF3SW1hZ2VPckxhYmVsIiwicmVwZWF0U2l6ZSIsImRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8iLCJleGVjdXRlXyIsIm9wdF9mZWF0dXJlQ2FsbGJhY2siLCJvcHRfaGl0RXh0ZW50Iiwib3B0X2RlY2x1dHRlclRyZWUiLCJwaXhlbENvb3JkaW5hdGVzIiwidHJhbnNmb3JtMSIsInRyYW5zZm9ybTIiLCJwcmV2WCIsInByZXZZIiwicm91bmRYIiwicm91bmRZIiwiY3VycmVudEdlb21ldHJ5IiwicGVuZGluZ0ZpbGwiLCJwZW5kaW5nU3Ryb2tlIiwibGFzdEZpbGxJbnN0cnVjdGlvbiIsImxhc3RTdHJva2VJbnN0cnVjdGlvbiIsImNvb3JkaW5hdGVDYWNoZSIsInZpZXdSb3RhdGlvbiIsInZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0iLCJiYXRjaFNpemUiLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0IiwibGFiZWxXaXRoQW5jaG9yIiwid2lkdGhJbmRleCIsImltYWdlQXJncyIsImltYWdlRGVjbHV0dGVyQm94IiwibWVhc3VyZVBpeGVsUmF0aW8iLCJwaXhlbFJhdGlvU2NhbGUiLCJjYWNoZWRXaWR0aHMiLCJwYXRoTGVuZ3RoIiwidGV4dExlbmd0aCIsInBhcnRzIiwiZHJhd0NoYXJzIiwiY2MiLCJwYXJ0IiwiaWlfMSIsImV4ZWN1dGUiLCJleGVjdXRlSGl0RGV0ZWN0aW9uIiwiT1JERVIiLCJCdWlsZGVyVHlwZSIsIkV4ZWN1dG9yR3JvdXAiLCJhbGxJbnN0cnVjdGlvbnMiLCJvcHRfcmVuZGVyQnVmZmVyIiwiZXhlY3V0b3JzQnlaSW5kZXhfIiwiaGl0RGV0ZWN0aW9uQ29udGV4dF8iLCJoaXREZXRlY3Rpb25UcmFuc2Zvcm1fIiwiY3JlYXRlRXhlY3V0b3JzXyIsImZsYXRDbGlwQ29vcmRzIiwiZ2V0Q2xpcENvb3JkcyIsImV4ZWN1dG9ycyIsImluc3RydWN0aW9uQnlaaW5kZXgiLCJoYXNFeGVjdXRvcnMiLCJjYW5kaWRhdGVzIiwiZGVjbHV0dGVyZWRGZWF0dXJlcyIsImNvbnRleHRTaXplIiwibmV3Q29udGV4dCIsImhpdEV4dGVudCIsImluZGV4ZXMiLCJjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZSIsIm1heERpc3RhbmNlU3EiLCJkaXN0YW5jZXMiLCJwaXhlbEluZGV4IiwiZ2V0UGl4ZWxJbmRleEFycmF5IiwiZmVhdHVyZUNhbGxiYWNrIiwiaW1hZ2VEYXRhIiwicmVzdWx0XzEiLCJleGVjdXRvciIsIm9wdF9idWlsZGVyVHlwZXMiLCJidWlsZGVyVHlwZXMiLCJDYW52YXNJbW1lZGlhdGVSZW5kZXJlciIsIm9wdF9zcXVhcmVkVG9sZXJhbmNlIiwib3B0X3VzZXJUcmFuc2Zvcm0iLCJjb250ZXh0XyIsInRyYW5zZm9ybV8iLCJzcXVhcmVkVG9sZXJhbmNlXyIsInVzZXJUcmFuc2Zvcm1fIiwiY29udGV4dEZpbGxTdGF0ZV8iLCJjb250ZXh0U3Ryb2tlU3RhdGVfIiwiY29udGV4dFRleHRTdGF0ZV8iLCJmaWxsU3RhdGVfIiwic3Ryb2tlU3RhdGVfIiwiaW1hZ2VBbmNob3JYXyIsImltYWdlQW5jaG9yWV8iLCJpbWFnZUhlaWdodF8iLCJpbWFnZU9wYWNpdHlfIiwiaW1hZ2VPcmlnaW5YXyIsImltYWdlT3JpZ2luWV8iLCJpbWFnZVJvdGF0ZVdpdGhWaWV3XyIsImltYWdlUm90YXRpb25fIiwiaW1hZ2VTY2FsZV8iLCJpbWFnZVdpZHRoXyIsInRleHRTY2FsZV8iLCJ0bXBMb2NhbFRyYW5zZm9ybV8iLCJkcmF3SW1hZ2VzXyIsImxvY2FsVHJhbnNmb3JtIiwiZHJhd1RleHRfIiwic2V0Q29udGV4dEZpbGxTdGF0ZV8iLCJzZXRDb250ZXh0U3Ryb2tlU3RhdGVfIiwic2V0Q29udGV4dFRleHRTdGF0ZV8iLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJtb3ZlVG9MaW5lVG9fIiwiY2xvc2UiLCJkcmF3UmluZ3NfIiwic2ltcGxlR2VvbWV0cnkiLCJ0cmFuc2Zvcm1HZW9tMkQiLCJnZW9tZXRyaWVzIiwiZ2V0R2VvbWV0cmllc0FycmF5IiwiZmxhdE1pZHBvaW50IiwiZ2VvbWV0cnlFeHRlbnQiLCJmbGF0TWlkcG9pbnRzIiwiZmxhdEludGVyaW9yUG9pbnQiLCJmbGF0SW50ZXJpb3JQb2ludHMiLCJjb250ZXh0RmlsbFN0YXRlIiwiY29udGV4dFN0cm9rZVN0YXRlIiwiY29udGV4dFRleHRTdGF0ZSIsImltYWdlU2l6ZSIsImltYWdlQW5jaG9yIiwiaW1hZ2VPcmlnaW4iLCJ0ZXh0RmlsbFN0eWxlQ29sb3IiLCJ0ZXh0U3Ryb2tlU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUxpbmVDYXAiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwidGV4dFN0cm9rZVN0eWxlTGluZUpvaW4iLCJ0ZXh0U3Ryb2tlU3R5bGVXaWR0aCIsInRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQiLCJ0ZXh0Rm9udCIsInRleHRUZXh0IiwidGV4dFRleHRBbGlnbiIsInRleHRUZXh0QmFzZWxpbmUiLCJ0YWludGVkVGVzdENvbnRleHQiLCJJY29uSW1hZ2UiLCJpbWFnZVN0YXRlXyIsInRhaW50ZWRfIiwiaXNUYWludGVkXyIsImRpc3BhdGNoQ2hhbmdlRXZlbnRfIiwicmVwbGFjZUNvbG9yXyIsImdldFNyYyIsImltZ0RhdGEiLCJwdXRJbWFnZURhdGEiLCJJY29uIiwibm9ybWFsaXplZEFuY2hvcl8iLCJhbmNob3JPcmlnaW5fIiwiYW5jaG9yT3JpZ2luIiwiSWNvbk9yaWdpbiIsImFuY2hvclhVbml0c18iLCJhbmNob3JYVW5pdHMiLCJJY29uQW5jaG9yVW5pdHMiLCJhbmNob3JZVW5pdHNfIiwiYW5jaG9yWVVuaXRzIiwiaW1nU2l6ZSIsImljb25JbWFnZV8iLCJvZmZzZXRfIiwib2Zmc2V0T3JpZ2luXyIsIm9mZnNldE9yaWdpbiIsInNldEFuY2hvciIsImljb25JbWFnZVNpemUiLCJISVRfREVURUNUX1JFU09MVVRJT04iLCJHRU9NRVRSWV9SRU5ERVJFUlMiLCJidWlsZGVyR3JvdXAiLCJvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIiwiaW1hZ2VSZXBsYXkiLCJ0ZXh0UmVwbGF5IiwibGluZVN0cmluZ1JlcGxheSIsInBvbHlnb25SZXBsYXkiLCJyZXBsYXlHcm91cCIsImdlb21ldHJ5UmVuZGVyZXIiLCJjaXJjbGVSZXBsYXkiLCJkZWZhdWx0T3JkZXIiLCJmZWF0dXJlMSIsImZlYXR1cmUyIiwiZ2V0VG9sZXJhbmNlIiwicmVuZGVyRmVhdHVyZSIsInJlbmRlckdlb21ldHJ5IiwicmVuZGVyRmVhdHVyZUludGVybmFsIiwiZ2V0R2VvbWV0cmllcyIsIkNhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIiLCJ2ZWN0b3JMYXllciIsImJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsImFuaW1hdGluZ09ySW50ZXJhY3RpbmdfIiwiZGlydHlfIiwiaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXyIsInJlbmRlcmVkRmVhdHVyZXNfIiwicmVuZGVyZWRSZXNvbHV0aW9uXyIsIndyYXBwZWRSZW5kZXJlZEV4dGVudF8iLCJyZW5kZXJlZFJvdGF0aW9uXyIsInJlbmRlcmVkQ2VudGVyXyIsInJlbmRlcmVkUHJvamVjdGlvbl8iLCJyZW5kZXJlZFJlbmRlck9yZGVyXyIsInJlcGxheUdyb3VwXyIsInJlcGxheUdyb3VwQ2hhbmdlZCIsImNsaXBwaW5nIiwicmVuZGVyV29ybGRzIiwiZXhlY3V0b3JHcm91cCIsInZlY3RvclNvdXJjZSIsImVuZFdvcmxkIiwid29ybGQiLCJtYWtlU2NhbGUiLCJjbGlwcGVkIiwiZmVhdHVyZUNvdW50IiwiaW5kZXhGYWN0b3IiLCJmZWF0dXJlc0J5WkluZGV4IiwiZmVhdHVyZVN0eWxlRnVuY3Rpb24iLCJzdHlsZXMiLCJvcmlnaW5hbFN0eWxlIiwiaW1nQ29udGV4dCIsImJ5R2VvbWV0cnlUeXBlIiwiekluZGV4S2V5cyIsImdlb21BbmRTdHlsZSIsImtrIiwiY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhIiwicmVzdWx0RmVhdHVyZXMiLCJoaXREZXRlY3QiLCJsYXN0SW5kZXhPZiIsImV4ZWN1dG9yR3JvdXBzIiwiYW5pbWF0aW5nIiwiaW50ZXJhY3RpbmciLCJmcmFtZVN0YXRlRXh0ZW50IiwidmVjdG9yTGF5ZXJSZXZpc2lvbiIsInZlY3RvckxheWVyUmVuZGVyQnVmZmVyIiwidmVjdG9yTGF5ZXJSZW5kZXJPcmRlciIsInJlbmRlcmVkRXh0ZW50IiwibG9hZEV4dGVudHMiLCJsb2FkRXh0ZW50IiwiZGVjbHV0dGVyQnVpbGRlckdyb3VwIiwidXNlclRyYW5zZm9ybSIsInVzZXJFeHRlbnRfMSIsImRpcnR5IiwidXNlckV4dGVudCIsInJlcGxheUdyb3VwSW5zdHJ1Y3Rpb25zIiwiVmVjdG9yTGF5ZXIiLCJCYXNlVmVjdG9yIiwiSW1hZ2VDYW52YXMiLCJvcHRfbG9hZGVyIiwiZXJyb3JfIiwiZ2V0RXJyb3IiLCJoYW5kbGVMb2FkXyIsIkJhc2VJbWFnZUxheWVyIiwiQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyIiwiaW1hZ2VMYXllciIsImltYWdlU291cmNlIiwiaW1hZ2VFeHRlbnQiLCJpbWFnZVBpeGVsUmF0aW8iLCJzaXplXzEiLCJkdyIsImRoIiwicHJldmlvdXNBbHBoYSIsIkltYWdlTGF5ZXIiLCJCYXNlSW1hZ2UiLCJoYXNJbWFnZURhdGEiLCJJbWFnZURhdGEiLCJfIiwiY3JlYXRlTWluaW9uIiwib3BlcmF0aW9uIiwid29ya2VySGFzSW1hZ2VEYXRhIiwibmV3V29ya2VySW1hZ2VEYXRhIiwiYnVmZmVycyIsIm1ldGEiLCJpbWFnZU9wcyIsIm51bUJ1ZmZlcnMiLCJudW1CeXRlcyIsImJ5dGVMZW5ndGgiLCJpbWFnZXMiLCJVaW50OENsYW1wZWRBcnJheSIsImFycmF5cyIsInBpeGVscyIsImNyZWF0ZVdvcmtlciIsImNvbmZpZyIsIm9uTWVzc2FnZSIsImxpYiIsIndvcmtlciIsIldvcmtlciIsIkJsb2IiLCJCdWZmZXIiLCJmcm9tIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiUHJvY2Vzc29yIiwidGhyZWFkcyIsIl9pbWFnZU9wcyIsIndvcmtlcnMiLCJfb25Xb3JrZXJNZXNzYWdlIiwibWluaW9uIiwidGVybWluYXRlZCIsInBvc3RNZXNzYWdlIiwidGVybWluYXRlIiwiY3JlYXRlRmF1eFdvcmtlciIsIl93b3JrZXJzIiwiX3F1ZXVlIiwiX21heFF1ZXVlTGVuZ3RoIiwicXVldWUiLCJfcnVubmluZyIsIl9kYXRhTG9va3VwIiwiX2pvYiIsInByb2Nlc3MiLCJpbnB1dHMiLCJfZW5xdWV1ZSIsIl9kaXNwYXRjaCIsImpvYiIsInNsaWNlcyIsIl9yZXNvbHZlSm9iIiwiY3JlYXRlSW1hZ2VEYXRhIiwibmV3SW1hZ2VEYXRhIiwiUmFzdGVyU291cmNlRXZlbnQiLCJSYXN0ZXJTb3VyY2UiLCJwcm9jZXNzb3JfIiwib3BlcmF0aW9uVHlwZV8iLCJvcGVyYXRpb25UeXBlIiwidGhyZWFkc18iLCJsYXllcnNfIiwibGF5ZXJPclNvdXJjZSIsImNyZWF0ZUxheWVycyIsInJlcXVlc3RlZEZyYW1lU3RhdGVfIiwicmVuZGVyZWRJbWFnZUNhbnZhc18iLCJpTWF4Iiwic291cmNlT3JMYXllciIsInNvdXJjZUF0dHJpYnV0aW9uIiwic2V0T3BlcmF0aW9uIiwib3B0X2xpYiIsInVwZGF0ZUZyYW1lU3RhdGVfIiwiYWxsU291cmNlc1JlYWR5XyIsInJlYWR5IiwicHJvY2Vzc1NvdXJjZXNfIiwiaW1hZ2VEYXRhcyIsIm9uV29ya2VyQ29tcGxldGVfIiwic2hhcmVkQ29udGV4dCIsImxheWVyT3JpZ2luIiwibGF5ZXJjdmFPcmlnaW4iLCJob21lX3BvaW50IiwicmV2ZXJzZUZ1bmMiLCJwaXhlbHNUZW1wIiwiZ3JleSIsInJhc3RlciIsIlJhc3RlciIsIm1hcF93bXRzIiwiaWNvblN0eWxlIiwibWFya2VyIiwiVmVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==