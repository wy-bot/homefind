(()=>{var t={788:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(537),o=n.n(i),r=n(645),a=n.n(r)()(o());a.push([t.id,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',"",{version:3,sources:["webpack://./node_modules/ol/ol.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,oCAAoC;EACpC,uCAAuC;AACzC;;AAEA;EACE,QAAQ;EACR,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,8BAA8B;EAC9B,kBAAkB;EAClB,WAAW;EACX,SAAS;EACT,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,4BAA4B;EAC5B,qBAAqB;AACvB;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX;AACA;EACE,UAAU;EACV,YAAY;EACZ,yBAAyB;EACzB,YAAY;EACZ,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,WAAW;EACX,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;AACA;EACE,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,0CAA0C;AAC5C;AACA;EACE,UAAU;AACZ;AACA;EACE,8BAA8B;EAC9B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;EACjB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,uCAAuC;EACvC,kBAAkB;EAClB,YAAY;AACd;AACA;EACE,uCAAuC;AACzC;AACA;EACE,SAAS;EACT,UAAU;AACZ;AACA;EACE,SAAS;EACT,WAAW;EACX,qDAAqD;AACvD;AACA;EACE,UAAU;EACV,kBAAkB;EAClB,0DAA0D;AAC5D;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,WAAW;EACX,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,oCAAoC;EACpC,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,UAAU;AACZ;AACA;;EAEE,qBAAqB;EACrB,oCAAoC;AACtC;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,0BAA0B;AAC5B;;;AAGA;EACE,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,6BAA6B;EAC7B,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;AACA;EACE,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,SAAS;EACT,iBAAiB;EACjB,WAAW;EACX,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;AACA;EACE,eAAe;EACf,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,SAAS;EACT,QAAQ;EACR,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,UAAU;EACV,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,aAAa;AACf;AACA;EACE,SAAS;EACT,OAAO;EACP,wBAAwB;AAC1B;AACA;;EAEE,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,SAAS;EACT,kBAAkB;AACpB;AACA;;EAEE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,qCAAqC;AACvC;;AAEA;EACE,YAAY;AACd",sourcesContent:['.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n'],sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var h=0;h<t.length;h++){var u=[].concat(t[h]);i&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(o," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([r]).join("\n")}return[e].join("\n")}},582:function(t){t.exports=function(){"use strict";function t(t,i,o,r,a){!function t(n,i,o,r,a){for(;r>o;){if(r-o>600){var s=r-o+1,l=i-o+1,h=Math.log(s),u=.5*Math.exp(2*h/3),c=.5*Math.sqrt(h*u*(s-u)/s)*(l-s/2<0?-1:1);t(n,i,Math.max(o,Math.floor(i-l*u/s+c)),Math.min(r,Math.floor(i+(s-l)*u/s+c)),a)}var p=n[i],f=o,d=r;for(e(n,o,i),a(n[r],p)>0&&e(n,o,r);f<d;){for(e(n,f,d),f++,d--;a(n[f],p)<0;)f++;for(;a(n[d],p)>0;)d--}0===a(n[o],p)?e(n,o,d):e(n,++d,r),d<=i&&(o=d+1),i<=d&&(r=d-1)}}(t,i,o||0,r||t.length-1,a||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function r(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<n;r++){var a=t.children[r];s(o,t.leaf?i(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,o,r){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((i-n)/o/2)*o;t(e,s,n,i,r),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var a=e.children[r],s=e.leaf?i(a):a;f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var o=e.children[i],r=e.leaf?this.toBBox(o):o;if(f(t,r)){if(e.leaf||p(t,r))return!0;n.push(o)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,r,a=this.data,s=this.toBBox(t),l=[],h=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=h.pop(),r=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}r||a.leaf||!p(a,s)?i?(n++,a=i.children[n],r=!1):a=null:(l.push(a),h.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return r(o=d(t.slice(e,n+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(o=d([])).leaf=!1,o.height=i;var l=Math.ceil(a/s),h=l*Math.ceil(Math.sqrt(s));g(t,e,n,h,this.compareMinX);for(var u=e;u<=n;u+=h){var c=Math.min(u+h-1,n);g(t,u,c,l,this.compareMinY);for(var p=u;p<=c;p+=l){var f=Math.min(p+l-1,c);o.children.push(this._build(t,p,f,i-1))}}return r(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var o=1/0,r=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],h=u(l),c=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-h);c<r?(r=c,o=h<o?h:o,a=l):c===r&&h<o&&(o=h,a=l)}e=a||e.children[0]}var p,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),s(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);var a=this._chooseSplitIndex(n,o,i),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,r(n,this.toBBox),r(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,o,r,s,l,h,c,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),_=a(t,d,n,this.toBBox),y=(o=g,r=_,void 0,void 0,void 0,void 0,s=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),h=Math.min(o.maxX,r.maxX),c=Math.min(o.maxY,r.maxY),Math.max(0,h-s)*Math.max(0,c-l)),v=u(g)+u(_);y<p?(p=y,i=d,f=v<f?v:f):y===p&&v<f&&(f=v,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var o=this.toBBox,r=a(t,0,e,o),l=a(t,n-e,n,o),h=c(r)+c(l),u=e;u<n-e;u++){var p=t.children[u];s(r,t.leaf?o(p):p),h+=c(r)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];s(l,t.leaf?o(d):d),h+=c(l)}return h},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},i}()},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var r={},a=[],s=0;s<t.length;s++){var l=t[s],h=i.base?l[0]+i.base:l[0],u=r[h]||0,c="".concat(h," ").concat(u);r[h]=u+1;var p=n(c),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var d=o(f,i);i.byIndex=s,e.splice(s,0,{identifier:c,updater:d,references:1})}a.push(c)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var r=i(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var s=n(r[a]);e[s].references--}for(var l=i(t,o),h=0;h<r.length;h++){var u=n(r[h]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}r=l}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";var t=n(379),e=n.n(t),i=n(795),o=n.n(i),r=n(569),a=n.n(r),s=n(565),l=n.n(s),h=n(216),u=n.n(h),c=n(589),p=n.n(c),f=n(788),d={};d.styleTagTransform=p(),d.setAttributes=l(),d.insert=a().bind(null,"head"),d.domAPI=o(),d.insertStyleElement=u(),e()(f.Z,d),f.Z&&f.Z.locals&&f.Z.locals;const g=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function _(t,e){return t>e?1:t<e?-1:0}function y(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var o=void 0;if(n>0){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return"function"==typeof n?n(e,t[o-1],t[o])>0?o-1:o:t[o-1]-e<e-t[o]?o-1:o}return i-1}function v(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function m(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,o=0;o<i;o++)t[t.length]=n[o]}function x(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function C(){return!0}function A(){return!1}function w(){}function E(){return function(){throw new Error("Unimplemented abstract method.")}()}var b=0;function S(t){return t.ol_uid||(t.ol_uid=String(++b))}var T,O="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",R=-1!==O.indexOf("firefox"),I=(-1!==O.indexOf("safari")&&O.indexOf("chrom"),-1!==O.indexOf("webkit")&&-1==O.indexOf("edge")),P=-1!==O.indexOf("macintosh"),F="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,M="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,L="undefined"!=typeof Image&&Image.prototype.decode,k=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}(),D=(T=function(t,e){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},T(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const N=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/v"+"6.12.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return D(e,t),e}(Error);function j(t,e){if(!t)throw new N(e)}var B;function z(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function G(t,e,n,i,o,r,a,s){var l=Math.sin(r),h=Math.cos(r);return t[0]=i*h,t[1]=o*l,t[2]=-i*l,t[3]=o*h,t[4]=a*i*h-s*i*l+e,t[5]=a*o*l+s*o*h+n,t}function W(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];j(0!==i,32);var o=e[0],r=e[1],a=e[2],s=e[3],l=e[4],h=e[5];return t[0]=s/i,t[1]=-r/i,t[2]=-a/i,t[3]=o/i,t[4]=(a*h-s*l)/i,t[5]=-(o*h-r*l)/i,t}function X(t){var e="matrix("+t.join(", ")+")";if(M)return e;var n=B||(B=document.createElement("div"));return n.style.transform=e,n.style.transform}new Array(6);const Y="top-left";function Z(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)nt(e,t[n]);return e}function K(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function U(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function V(t,e,n){var i,o;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function q(t,e){return J(t,e[0],e[1])}function H(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function J(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Q(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=0;return a<n?l|=16:a>o&&(l|=4),s<i?l|=8:s>r&&(l|=2),0===l&&(l=1),l}function $(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function tt(t){return $(1/0,1/0,-1/0,-1/0,t)}function et(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function nt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function it(t,e,n,i,o){for(;n<i;n+=o)ot(t,e[n],e[n+1]);return t}function ot(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function rt(t,e){var n;return(n=e(st(t)))||(n=e(lt(t)))||(n=e(gt(t)))?n:(n=e(dt(t)))||!1}function at(t){var e=0;return vt(t)||(e=_t(t)*pt(t)),e}function st(t){return[t[0],t[1]]}function lt(t){return[t[2],t[1]]}function ht(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function ut(t,e){var n;return"bottom-left"===e?n=st(t):"bottom-right"===e?n=lt(t):e===Y?n=dt(t):"top-right"===e?n=gt(t):j(!1,13),n}function ct(t,e,n,i,o){var r=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),h=r*s,u=r*l,c=a*s,p=a*l,f=t[0],d=t[1],g=f-h+p,_=f-h-p,y=f+h-p,v=f+h+p,m=d-u-c,x=d-u+c,C=d+u+c,A=d+u-c;return $(Math.min(g,_,y,v),Math.min(m,x,C,A),Math.max(g,_,y,v),Math.max(m,x,C,A),o)}function pt(t){return t[3]-t[1]}function ft(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return yt(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):tt(i),i}function dt(t){return[t[0],t[3]]}function gt(t){return[t[2],t[3]]}function _t(t){return t[2]-t[0]}function yt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function vt(t){return t[2]<t[0]||t[3]<t[1]}function mt(t,e,n){return Math.min(Math.max(t,e),n)}var xt="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Ct="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function At(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=o,i=r):l>0&&(n+=a*l,i+=s*l)}return wt(t,e,n,i)}function wt(t,e,n,i){var o=n-t,r=i-e;return o*o+r*r}function Et(t){return t*Math.PI/180}function bt(t,e){var n=t%e;return n*e<0?n+e:n}function St(t,e,n){return t+n*(e-t)}function Tt(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function Ot(t,e){return Math.floor(Tt(t,e))}function Rt(t,e){return Math.ceil(Tt(t,e))}var It=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Pt=/^([a-z]*)$|^hsla?\(.*\)$/i;function Ft(t){return"string"==typeof t?t:Dt(t)}var Mt=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var o=0;for(var r in t)0==(3&o++)&&(delete t[r],--e)}i=function(t){var e,n,i,o,r;if(Pt.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),It.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),i=parseInt(t.substr(1+2*a,a),16),o=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(o=(o<<4)+o)),r=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?kt(r=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((r=t.slice(4,-1).split(",").map(Number)).push(1),kt(r)):j(!1,14);return r}(n),t[n]=i,++e}return i}}();function Lt(t){return Array.isArray(t)?t:Mt(t)}function kt(t){return t[0]=mt(t[0]+.5|0,0,255),t[1]=mt(t[1]+.5|0,0,255),t[2]=mt(t[2]+.5|0,0,255),t[3]=mt(t[3],0,1),t}function Dt(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}var Nt=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=jt(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=jt(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function jt(t,e,n){return e+":"+t+":"+(n?Ft(n):"null")}var Bt=new Nt;const zt=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Gt="propertychange";var Wt="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function Xt(t){for(var e in t)delete t[e]}var Yt="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function Zt(t){var e;for(e in t)return!1;return!e}var Kt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ut=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return Kt(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new zt(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,o=this.listeners_&&this.listeners_[n];if(o){var r=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in r||(r[n]=0,a[n]=0),++r[n];for(var s=0,l=o.length;s<l;++s)if(!1===(i="handleEvent"in o[s]?o[s].handleEvent(e):o[s].call(this,e))||e.propagationStopped){i=!1;break}if(--r[n],0===r[n]){var h=a[n];for(delete a[n];h--;)this.removeEventListener(n,w);delete r[n]}return i}},e.prototype.disposeInternal=function(){this.listeners_&&Xt(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=w,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(g);const Vt=Ut,qt="change",Ht="contextmenu",Jt="click",Qt="keydown",$t="keypress",te="touchmove",ee="wheel";function ne(t,e,n,i,o){if(i&&i!==t&&(n=n.bind(i)),o){var r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function ie(t,e,n,i){return ne(t,e,n,i,!0)}function oe(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Xt(t))}var re=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ae=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return re(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(qt)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=ne(this,t[o],e);return i}return ne(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var o=0;o<i;++o)n[o]=ie(this,t[o],e)}else n=ie(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)oe(t[e]);else oe(t)}(n);else if(Array.isArray(t))for(var i=0,o=t.length;i<o;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)},e}(Vt);ae.prototype.on,ae.prototype.once,ae.prototype.un;const se=ae;var le=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),he=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.key=n,o.oldValue=i,o}return le(e,t),e}(zt);const ue=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,S(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return le(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Wt({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:"+t,this.dispatchEvent(new he(n,t,e)),n=Gt,this.dispatchEvent(new he(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var o=i[t];i[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Wt(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Zt(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(se),ce="opacity",pe="visible",fe="extent",de="zIndex",ge="maxResolution",_e="minResolution",ye="maxZoom",ve="minZoom",me="source";var xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ce=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var i=Wt({},e);return"object"==typeof e.properties&&(delete i.properties,Wt(i,e.properties)),i.opacity=void 0!==e.opacity?e.opacity:1,j("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return xe(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=mt(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return E()},e.prototype.getLayerStatesArray=function(t){return E()},e.prototype.getExtent=function(){return this.get(fe)},e.prototype.getMaxResolution=function(){return this.get(ge)},e.prototype.getMinResolution=function(){return this.get(_e)},e.prototype.getMinZoom=function(){return this.get(ve)},e.prototype.getMaxZoom=function(){return this.get(ye)},e.prototype.getOpacity=function(){return this.get(ce)},e.prototype.getSourceState=function(){return E()},e.prototype.getVisible=function(){return this.get(pe)},e.prototype.getZIndex=function(){return this.get(de)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(fe,t)},e.prototype.setMaxResolution=function(t){this.set(ge,t)},e.prototype.setMinResolution=function(t){this.set(_e,t)},e.prototype.setMaxZoom=function(t){this.set(ye,t)},e.prototype.setMinZoom=function(t){this.set(ve,t)},e.prototype.setOpacity=function(t){j("number"==typeof t,64),this.set(ce,t)},e.prototype.setVisible=function(t){this.set(pe,t)},e.prototype.setZIndex=function(t){this.set(de,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(ue);const Ae=Ce,we="precompose",Ee="rendercomplete",be="undefined",Se="ready";var Te=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oe=function(t){function e(e){var n=this,i=Wt({},e);delete i.source,(n=t.call(this,i)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(me,n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return Te(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(me)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():be},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(oe(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=ne(t,qt,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMapInternal=function(t){this.set("map",t)},e.prototype.getMapInternal=function(){return this.get("map")},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(oe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(oe(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ne(t,we,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);j(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=ne(this,qt,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(me,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Ae);function Re(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const Ie=Oe;function Pe(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Fe(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}function Me(t,e){if(e.canWrapX()){var n=_t(e.getExtent()),i=function(t,e,n){var i=e.getExtent(),o=0;if(e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])){var r=n||_t(i);o=Math.floor((t[0]-i[0])/r)}return o}(t,e,n);i&&(t[0]-=i*n)}return t}var Le=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ke=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Le(e,t),e.prototype.dispatchRenderEvent=function(t,e){E()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;G(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),W(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a,s){var l,h=e.viewState;function u(t,e,n,i){return o.call(r,e,t?n:null,i)}var c=h.projection,p=Me(t.slice(),c),f=[[0,0]];if(c.canWrapX()&&i){var d=_t(c.getExtent());f.push([-d,0],[d,0])}for(var g=e.layerStatesArray,_=g.length,y=[],v=[],m=0;m<f.length;m++)for(var x=_-1;x>=0;--x){var C=g[x],A=C.layer;if(A.hasRenderer()&&Re(C,h)&&a.call(s,A)){var w=A.getRenderer(),E=A.getSource();if(w&&E){var b=E.getWrapX()?p:t,S=u.bind(null,C.managed);v[0]=b[0]+f[m][0],v[1]=b[1]+f[m][1],l=w.forEachFeatureAtCoordinate(v,e,n,S,y)}if(l)return l}}if(0!==y.length){var T=1/y.length;return y.forEach((function(t,e){return t.distanceSq+=e*T})),y.sort((function(t,e){return t.distanceSq-e.distanceSq})),y.some((function(t){return l=t.callback(t.feature,t.layer,t.geometry)})),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return E()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,C,this,o,r)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){E()},e.prototype.scheduleExpireIconCache=function(t){Bt.canExpireCache()&&t.postRenderFunctions.push(De)},e}(g);function De(t,e){Bt.expire()}const Ne=ke;var je=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Be=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=i,r.context=o,r}return je(e,t),e}(zt);var ze="ol-hidden",Ge="ol-control",We=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Xe=["style","variant","weight","size","lineHeight","family"],Ye=function(t){var e=t.match(We);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,o=Xe.length;i<o;++i){var r=e[i+1];void 0!==r&&(n[Xe[i]]=r)}return n.families=n.family.split(/,\s?/),n};function Ze(t){return 1===t?"":String(Math.round(100*t)/100)}function Ke(t,e,n,i){var o;return o=n&&n.length?n.shift():M?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",i)}function Ue(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ve(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var qe="10px sans-serif",He="#000",Je="round",Qe=[],$e="round",tn="#000",en="center",nn="middle",on=[0,0,0,0],rn=new ue;(new Vt).setSize=function(){console.warn("labelCache is deprecated.")};var an,sn,ln=null,hn={},un=function(){var t,e,n="32px ",i=["monospace","serif"],o=i.length,r="wmytzilWMYTZIL@#/&?$%10";function a(t,a,s){for(var l=!0,h=0;h<o;++h){var u=i[h];if(e=pn(t+" "+a+" "+n+u,r),s!=u){var c=pn(t+" "+a+" "+n+s+","+u,r);l=l&&c!=e}}return!!l}function s(){for(var e=!0,n=rn.getKeys(),i=0,o=n.length;i<o;++i){var r=n[i];rn.get(r)<100&&(a.apply(this,r.split("\n"))?(Xt(hn),ln=null,an=void 0,rn.set(r,100)):(rn.set(r,rn.get(r)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Ye(e);if(n)for(var i=n.families,o=0,r=i.length;o<r;++o){var l=i[o],h=n.style+"\n"+n.weight+"\n"+l;void 0===rn.get(h)&&(rn.set(h,100,!0),a(n.style,n.weight,l)||(rn.set(h,0,!0),void 0===t&&(t=setInterval(s,32))))}}}();function cn(t,e){return ln||(ln=Ke(1,1)),t!=an&&(ln.font=t,an=ln.font),ln.measureText(e)}function pn(t,e){return cn(t,e).width}function fn(t,e,n){if(e in n)return n[e];var i=pn(t,e);return n[e]=i,i}var dn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gn=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=ne(rn,Gt,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className="ol-unselectable ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return dn(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new Be(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){oe(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(we,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var i=[],o=null,r=0,a=e.length;r<a;++r){var s=e[r];if(t.layerIndex=r,Re(s,n)&&(s.sourceState==Se||s.sourceState==be)){var l=s.layer,h=l.render(t,o);h&&(h!==o&&(this.children_.push(h),o=h),"getDeclutter"in l&&i.push(l))}}for(r=i.length-1;r>=0;--r)i[r].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,i=0;;++i){var o=n[i],r=e[i];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],h=l.layer;if(h.hasRenderer()&&Re(l,r)&&o(h)){var u=h.getRenderer().getDataAtPixel(t,e,n);if(u){var c=i(h,u);if(c)return c}}}},e}(Ne);const _n=gn,yn="add",vn="remove";var mn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xn="length",Cn=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.element=n,o.index=i,o}return mn(e,t),e}(zt),An=function(t){function e(e,n){var i=t.call(this)||this;i.on,i.once,i.un;var o=n||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var r=0,a=i.array_.length;r<a;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return mn(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(xn)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Cn(yn,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Cn(vn,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Cn(vn,i,t)),this.dispatchEvent(new Cn(yn,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(xn,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new N(58)},e}(ue);const wn=An;var En=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bn=function(t){function e(e,n){var i=t.call(this,e)||this;return i.layer=n,i}return En(e,t),e}(zt),Sn="layers",Tn=function(t){function e(e){var n=this,i=e||{},o=Wt({},i);delete o.layers;var r=i.layers;return(n=t.call(this,o)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Sn,n.handleLayersChanged_),r?Array.isArray(r)?r=new wn(r.slice(),{unique:!0}):j("function"==typeof r.getArray,43):r=new wn(void 0,{unique:!0}),n.setLayers(r),n}return En(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(oe),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(ne(t,yn,this.handleLayersAdd_,this),ne(t,vn,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(oe);Xt(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new bn("addlayer",r))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[ne(t,Gt,this.handleLayerChange_,this),ne(t,qt,this.handleLayerChange_,this)];t instanceof e&&n.push(ne(t,"addlayer",this.handleLayerGroupAdd_,this),ne(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[S(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new bn("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new bn("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new bn("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=S(e);this.listenerKeys_[n].forEach(oe),delete this.listenerKeys_[n],this.dispatchEvent(new bn("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(Sn)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),i=0,o=n.length;i<o;++i)this.dispatchEvent(new bn("removelayer",n[i]));this.set(Sn,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var i=this.getLayerState(),o=i.zIndex;t||void 0!==i.zIndex||(o=0);for(var r=n,a=e.length;r<a;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=ft(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=o)}return e},e.prototype.getSourceState=function(){return Se},e}(Ae);const On=Tn;var Rn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const In=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return Rn(e,t),e}(zt);var Pn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Fn=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return Pn(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(In),Mn={SINGLECLICK:"singleclick",CLICK:Jt,DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ln="pointerdown";var kn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Dn=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===n?1:n,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=ne(o,Ln,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=ne(o,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(te,i.boundHandleTouchMove_,!!k&&{passive:!1}),i}return kn(e,t),e.prototype.emulateClick_=function(t){var e=new Fn(Mn.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Fn(Mn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Fn(Mn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Mn.POINTERUP||e.type==Mn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Mn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Fn(Mn.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(oe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new Fn(Mn.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var i=t[n];this.down_[n]="function"==typeof i?w:i}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ne(o,Mn.POINTERMOVE,this.handlePointerMove_,this),ne(o,Mn.POINTERUP,this.handlePointerUp_,this),ne(this.element_,Mn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(ne(this.element_.getRootNode(),Mn.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Fn(Mn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Fn(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(oe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(te,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(oe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(oe),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Vt),Nn="postrender",jn="layergroup",Bn="size",zn="target",Gn="view";var Wn=1/0,Xn=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Xt(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){j(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Wn&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<i&&n[l]<n[s]?l:s;e[t]=e[h],n[t]=n[h],t=h}e[t]=o,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>r))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=i(t=o[e]))==Wn?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,o[a++]=t);o.length=a,r.length=a,this.heapify_()},t}();const Yn=Xn;var Zn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Kn=function(t){function e(e,n){var i=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Zn(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(qt,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener(qt,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),0!==n.getState()||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,n.load())},e}(Yn),Un="Point",Vn="LineString",qn="Polygon",Hn="MultiPoint",Jn="MultiLineString",Qn="MultiPolygon",$n="GeometryCollection",ti="Circle";var ei={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ni={};ni[ei.RADIANS]=6370997/(2*Math.PI),ni[ei.DEGREES]=2*Math.PI*6370997/360,ni[ei.FEET]=.3048,ni[ei.METERS]=1,ni[ei.USFEET]=1200/3937;const ii=ei,oi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var ri=256,ai=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ni[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();const si=ai;var li=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hi=6378137,ui=Math.PI*hi,ci=[-ui,-ui,ui,ui],pi=[-180,-85,180,85],fi=hi*Math.log(Math.tan(Math.PI/2)),di=function(t){function e(e){return t.call(this,{code:e,units:ii.METERS,extent:ci,global:!0,worldExtent:pi,getPointResolution:function(t,e){return t/xt(e[1]/hi)}})||this}return li(e,t),e}(si),gi=[new di("EPSG:3857"),new di("EPSG:102100"),new di("EPSG:102113"),new di("EPSG:900913"),new di("http://www.opengis.net/def/crs/EPSG/0/3857"),new di("http://www.opengis.net/gml/srs/epsg.xml#3857")];var _i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yi=[-180,-90,180,90],vi=6378137*Math.PI/180,mi=function(t){function e(e,n){return t.call(this,{code:e,units:ii.DEGREES,extent:yi,axisOrientation:n,global:!0,metersPerUnit:vi,worldExtent:yi})||this}return _i(e,t),e}(si),xi=[new mi("CRS:84"),new mi("EPSG:4326","neu"),new mi("urn:ogc:def:crs:OGC:1.3:CRS84"),new mi("urn:ogc:def:crs:OGC:2:84"),new mi("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new mi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new mi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Ci={},Ai={};function wi(t,e,n){var i=t.getCode(),o=e.getCode();i in Ai||(Ai[i]={}),Ai[i][o]=n}function Ei(t,e,n){var i=n||6371008.8,o=Et(t[1]),r=Et(e[1]),a=(r-o)/2,s=Et(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function bi(t,e,n){var i;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];i=e}else i=t.slice();return i}function Si(t,e,n){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function Ti(t){!function(t,e){Ci[t]=e}(t.getCode(),t),wi(t,t,bi)}function Oi(t){return"string"==typeof t?Ci[e=t]||Ci[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function Ri(t,e,n,i){var o,r=(t=Oi(t)).getPointResolutionFunc();if(r)o=r(e,n),i&&i!==t.getUnits()&&(s=t.getMetersPerUnit())&&(o=o*s/ni[i]);else{var a=t.getUnits();if(a==ii.DEGREES&&!i||i==ii.DEGREES)o=e;else{var s,l=Li(t,Oi("EPSG:4326"));if(l===Si&&a!==ii.DEGREES)o=e*t.getMetersPerUnit();else{var h=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(Ei((h=l(h,h,2)).slice(0,2),h.slice(2,4))+Ei(h.slice(4,6),h.slice(6,8)))/2}void 0!==(s=i?ni[i]:t.getMetersPerUnit())&&(o/=s)}}return o}function Ii(t){!function(t){t.forEach(Ti)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&wi(e,t,bi)}))}))}function Pi(t,e){return t?"string"==typeof t?Oi(t):t:Oi(e)}function Fi(t,e){return Di(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Mi(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Li(t,e)===bi)&&n}function Li(t,e){var n=function(t,e){var n;return t in Ai&&e in Ai[t]&&(n=Ai[t][e]),n}(t.getCode(),e.getCode());return n||(n=Si),n}function ki(t,e){return Li(Oi(t),Oi(e))}function Di(t,e,n){return ki(e,n)(t,void 0,t.length)}var Ni,ji,Bi,zi=null;function Gi(){return zi}function Wi(t,e){return t}function Xi(t,e){return t}function Yi(t,e){return t}function Zi(t,e){return t}function Ki(t,e){return t}function Ui(t,e,n){return function(i,o,r,a,s){if(i){var l=e?0:r[0]*o,h=e?0:r[1]*o,u=s?s[0]:0,c=s?s[1]:0,p=t[0]+l/2+u,f=t[2]-l/2+u,d=t[1]+h/2+c,g=t[3]-h/2+c;p>f&&(f=p=(f+p)/2),d>g&&(g=d=(g+d)/2);var _=mt(i[0],p,f),y=mt(i[1],d,g),v=30*o;return a&&n&&(_+=-v*Math.log(1+Math.max(0,p-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-f)/v),y+=-v*Math.log(1+Math.max(0,d-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-g)/v)),[_,y]}}}function Vi(t){return t}function qi(t,e,n,i){var o=_t(e)/n[0],r=pt(e)/n[1];return i?Math.min(t,Math.max(o,r)):Math.min(t,Math.min(o,r))}function Hi(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),mt(i,n/2,2*e)}function Ji(t,e,n,i,o){return function(r,a,s,l){if(void 0!==r){var h=i?qi(t,i,s,o):t;return(void 0===n||n)&&l?Hi(r,h,e):mt(r,e,h)}}}function Qi(t){return void 0!==t?0:void 0}function $i(t){return void 0!==t?t:void 0}function to(t){return Math.pow(t,3)}function eo(t){return 1-to(1-t)}function no(t){return 3*t*t-2*t*t*t}function io(t){return t}Ii(gi),Ii(xi),Ni=gi,ji=function(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=0;a<i;a+=o){r[a]=ui*t[a]/180;var s=hi*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>fi?s=fi:s<-fi&&(s=-fi),r[a+1]=s}return r},Bi=function(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=0;a<i;a+=o)r[a]=180*t[a]/ui,r[a+1]=360*Math.atan(Math.exp(t[a+1]/hi))/Math.PI-90;return r},xi.forEach((function(t){Ni.forEach((function(e){wi(t,e,ji),wi(e,t,Bi)}))}));const oo="XY",ro="XYZM";function ao(t,e,n,i,o,r){for(var a=r||[],s=0,l=e;l<n;l+=i){var h=t[l],u=t[l+1];a[s++]=o[0]*h+o[2]*u+o[4],a[s++]=o[1]*h+o[3]*u+o[5]}return r&&a.length!=s&&(a.length=s),a}function so(t,e,n,i,o,r,a){for(var s=a||[],l=Math.cos(o),h=Math.sin(o),u=r[0],c=r[1],p=0,f=e;f<n;f+=i){var d=t[f]-u,g=t[f+1]-c;s[p++]=u+d*l-g*h,s[p++]=c+d*h+g*l;for(var _=f+2;_<f+i;++_)s[p++]=t[_]}return a&&s.length!=p&&(s.length=p),s}var lo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ho=[1,0,0,1,0,0],uo=function(t){function e(){var e,n,i,o,r,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},r=!1,function(){var t=Array.prototype.slice.call(arguments);return r&&this===o&&x(t,i)||(r=!0,o=this,i=t,n=e.apply(this,arguments)),n}),a}return lo(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return E()},e.prototype.closestPointXY=function(t,e,n,i){return E()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return E()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&tt(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){E()},e.prototype.scale=function(t,e,n){E()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return E()},e.prototype.getType=function(){return E()},e.prototype.applyTransform=function(t){E()},e.prototype.intersectsExtent=function(t){return E()},e.prototype.translate=function(t,e){E()},e.prototype.transform=function(t,e){var n=Oi(t),i=n.getUnits()==ii.TILE_PIXELS?function(t,i,o){var r=n.getExtent(),a=n.getWorldExtent(),s=pt(a)/pt(r);return G(ho,a[0],a[3],s,-s,0,0,0),ao(t,0,t.length,o,ho,i),ki(n,e)(t,i,o)}:ki(n,e);return this.applyTransform(i),this},e}(ue);const co=uo;var po=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fo=function(t){function e(){var e=t.call(this)||this;return e.layout=oo,e.stride=2,e.flatCoordinates=null,e}return po(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=this.flatCoordinates.length,i=this.stride,it(tt(t),e,0,n,i);var e,n,i},e.prototype.getCoordinates=function(){return E()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=go(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){E()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=go(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=oo,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=oo:3==t?e="XYZ":4==t&&(e=ro),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();so(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=ht(this.getExtent()));var r=this.getFlatCoordinates();if(r){var a=this.getStride();!function(t,e,n,i,o,r,a,s){for(var l=s||[],h=a[0],u=a[1],c=0,p=0;p<n;p+=i){var f=t[p]-h,d=t[p+1]-u;l[c++]=h+o*f,l[c++]=u+r*d;for(var g=p+2;g<p+i;++g)l[c++]=t[g]}s&&l.length!=c&&(l.length=c)}(r,0,r.length,a,t,i,o,r),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],l=0,h=0;h<n;h+=i){s[l++]=t[h]+o,s[l++]=t[h+1]+r;for(var u=h+2;u<h+i;++u)s[l++]=t[u]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(co);function go(t){var e;return t==oo?e=2:"XYZ"==t||"XYM"==t?e=3:t==ro&&(e=4),e}const _o=fo;function yo(t,e,n,i,o,r,a){var s,l=t[e],h=t[e+1],u=t[n]-l,c=t[n+1]-h;if(0===u&&0===c)s=e;else{var p=((o-l)*u+(r-h)*c)/(u*u+c*c);if(p>1)s=n;else{if(p>0){for(var f=0;f<i;++f)a[f]=St(t[e+f],t[n+f],p);return void(a.length=i)}s=e}}for(f=0;f<i;++f)a[f]=t[s+f];a.length=i}function vo(t,e,n,i,o){var r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],h=wt(r,a,s,l);h>o&&(o=h),r=s,a=l}return o}function mo(t,e,n,i,o,r,a,s,l,h,u){if(e==n)return h;var c,p;if(0===o){if((p=wt(a,s,t[e],t[e+1]))<h){for(c=0;c<i;++c)l[c]=t[e+c];return l.length=i,p}return h}for(var f=u||[NaN,NaN],d=e+i;d<n;)if(yo(t,d-i,d,i,a,s,f),(p=wt(a,s,f[0],f[1]))<h){for(h=p,c=0;c<i;++c)l[c]=f[c];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(h))/o|0,1);if(r&&(yo(t,n-i,e,i,a,s,f),(p=wt(a,s,f[0],f[1]))<h)){for(h=p,c=0;c<i;++c)l[c]=f[c];l.length=i}return h}function xo(t,e,n,i){for(var o=0,r=n.length;o<r;++o)for(var a=n[o],s=0;s<i;++s)t[e++]=a[s];return e}function Co(t,e){return e*Math.round(t/e)}function Ao(t,e,n,i,o,r,a){if(e==n)return a;var s,l,h=Co(t[e],o),u=Co(t[e+1],o);e+=i,r[a++]=h,r[a++]=u;do{if(s=Co(t[e],o),l=Co(t[e+1],o),(e+=i)==n)return r[a++]=s,r[a++]=l,a}while(s==h&&l==u);for(;e<n;){var c=Co(t[e],o),p=Co(t[e+1],o);if(e+=i,c!=s||p!=l){var f=s-h,d=l-u,g=c-h,_=p-u;f*_==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&_<d||d==_||d>0&&_>d)?(s=c,l=p):(r[a++]=s,r[a++]=l,h=s,u=l,s=c,l=p)}}return r[a++]=s,r[a++]=l,a}function wo(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=e;s<n;s+=i)r[a++]=t.slice(s,s+i);return r.length=a,r}function Eo(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var h=n[s];r[a++]=wo(t,e,h,i,r[a]),e=h}return r.length=a,r}function bo(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var h=n[s];r[a++]=Eo(t,e,h,i,r[a]),e=h[h.length-1]}return r.length=a,r}function So(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=a*s-r*l,r=s,a=l}return o/2}var To=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oo=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return To(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<V(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),mo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return So(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=function(t,e,n,i,o,r,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var h=[e,n-i],u=0;h.length>0;){for(var c=h.pop(),p=h.pop(),f=0,d=t[p],g=t[p+1],_=t[c],y=t[c+1],v=p+i;v<c;v+=i){var m=At(t[v],t[v+1],d,g,_,y);m>f&&(u=v,f=m)}f>o&&(l[(u-e)/i]=1,p+i<u&&h.push(p,u),u+i<c&&h.push(u,c))}for(v=0;v<s;++v)l[v]&&(r[a++]=t[e+v*i],r[a++]=t[e+v*i+1]);return a}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,oo)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(_o);const Ro=Oo;var Io=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Po=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return Io(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=wt(t,e,o[0],o[1]);if(r<i){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,r}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return n=t,$(i=(e=this.flatCoordinates)[0],o=e[1],i,o,n);var e,n,i,o},e.prototype.getType=function(){return Un},e.prototype.intersectsExtent=function(t){return J(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(_o);const Fo=Po;function Mo(t,e,n,i,o){return!rt(o,(function(o){return!Lo(t,e,n,i,o[0],o[1])}))}function Lo(t,e,n,i,o,r){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var h=t[e],u=t[e+1];l<=r?u>r&&(h-s)*(r-l)-(o-s)*(u-l)>0&&a++:u<=r&&(h-s)*(r-l)-(o-s)*(u-l)<0&&a--,s=h,l=u}return 0!==a}function ko(t,e,n,i,o,r){if(0===n.length)return!1;if(!Lo(t,e,n[0],i,o,r))return!1;for(var a=1,s=n.length;a<s;++a)if(Lo(t,n[a-1],n[a],i,o,r))return!1;return!0}function Do(t,e,n,i,o){var r=it([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!yt(o,r)&&(!!H(o,r)||r[0]>=o[0]&&r[2]<=o[2]||r[1]>=o[1]&&r[3]<=o[3]||function(t,e,n,i,r){var a,s,l;for(e+=i;e<n;e+=i)if(s=t.slice(e-i,e),l=t.slice(e,e+i),a=function(t,e,n){var i=!1,o=Q(t,e),r=Q(t,n);if(1===o||1===r)i=!0;else{var a=t[0],s=t[1],l=t[2],h=t[3],u=e[0],c=e[1],p=n[0],f=n[1],d=(f-c)/(p-u),g=void 0,_=void 0;2&r&&!(2&o)&&(i=(g=p-(f-h)/d)>=a&&g<=l),i||!(4&r)||4&o||(i=(_=f-(p-l)*d)>=s&&_<=h),i||!(8&r)||8&o||(i=(g=p-(f-s)/d)>=a&&g<=l),i||!(16&r)||16&o||(i=(_=f-(p-a)*d)>=s&&_<=h)}return i}(o,s,l))return a;return!1}(t,e,n,i))}function No(t,e,n,i){for(;e<n-i;){for(var o=0;o<i;++o){var r=t[e+o];t[e+o]=t[n-i+o],t[n-i+o]=r}e+=i,n-=i}}function jo(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=(s-r)*(l+a),r=s,a=l}return 0===o?void 0:o>0}function Bo(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],h=jo(t,e,l,i);(0===a?r&&h||!r&&!h:r&&!h||!r&&h)&&No(t,e,l,i),e=l}return e}var zo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Go=function(t){function e(e,n,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&i?(o.setFlatCoordinates(n,e),o.ends_=i):o.setCoordinates(e,n),o}return zo(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?m(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<V(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];o=vo(t,e,s,i,o),e=s}return o}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,o,r,a,s,l,h,u){for(var c=u||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];h=mo(t,e,d,i,o,r,a,s,l,h,c),e=d}return h}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return ko(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var o=0,r=0,a=n.length;r<a;++r){var s=n[r];o+=So(t,e,s,i),e=s}return o}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Bo(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Eo(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ht(this.getExtent());this.flatInteriorPoint_=function(t,e,n,i,o,r,a){for(var s,l,h,u,c,p,f,d=o[r+1],g=[],y=0,v=n.length;y<v;++y){var m=n[y];for(u=t[m-i],p=t[m-i+1],s=e;s<m;s+=i)c=t[s],f=t[s+1],(d<=p&&f<=d||p<=d&&d<=f)&&(h=(d-p)/(f-p)*(c-u)+u,g.push(h)),u=c,p=f}var x=NaN,C=-1/0;for(g.sort(_),u=g[0],s=1,l=g.length;s<l;++s){c=g[s];var A=Math.abs(c-u);A>C&&ko(t,e,n,i,h=(u+c)/2,d)&&(x=h,C=A),u=c}return isNaN(x)&&(x=o[r]),a?(a.push(x,d,C),a):[x,d,C]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Fo(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Ro(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],o=0,r=0,a=n.length;r<a;++r){var s=n[r],l=new Ro(e.slice(o,s),t);i.push(l),o=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],h=jo(t,e,l,i);if(0===a){if(r&&h||!r&&!h)return!1}else if(r&&!h||!r&&h)return!1;e=l}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Bo(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,o,r,a,s){for(var l=0,h=n.length;l<h;++l){var u=n[l];a=Ao(t,e,u,i,o,r,a),s.push(a),e=u}return a}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,oo,i)},e.prototype.getType=function(){return qn},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,o){if(!function(t,e,n,i,o){return!!(Do(t,e,n,i,o)||Lo(t,e,n,i,o[0],o[1])||Lo(t,e,n,i,o[0],o[3])||Lo(t,e,n,i,o[2],o[1])||Lo(t,e,n,i,o[2],o[3]))}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var r=1,a=n.length;r<a;++r)if(Mo(t,n[r-1],n[r],i,o)&&!Do(t,n[r-1],n[r],i,o))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,o){for(var r=o||[],a=0,s=0,l=n.length;s<l;++s){var h=xo(t,e,n[s],i);r[a++]=h,e=h}return r.length=a,r}(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(_o);const Wo=Go;function Xo(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=[e,n,e,o,i,o,i,n,e,n];return new Go(r,oo,[r.length])}var Yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zo=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=Wt({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Pi(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.center&&(i.center=Xi(i.center,n.projection_)),i.extent&&(i.extent=Zi(i.extent,n.projection_)),n.applyOptions_(i),n}return Yo(e,t),e.prototype.applyOptions_=function(t){var e=Wt({},t);for(var n in oi)delete e[n];this.setProperties(e,!0);var i=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,u=Pi(t.projection,"EPSG:3857"),c=u.getExtent(),p=t.constrainOnlyCenter,f=t.extent;if(s||f||!u.isGlobal()||(p=!1,f=c),void 0!==t.resolutions){var d=t.resolutions;n=d[o],i=void 0!==d[r]?d[r]:d[d.length-1],e=t.constrainResolution?function(t,e,n,i){return function(o,r,a,s){if(void 0!==o){var l=t[0],h=t[t.length-1],u=n?qi(l,n,a,i):l;if(s)return void 0===e||e?Hi(o,u,h):mt(o,h,u);var c=Math.min(u,o),p=Math.floor(y(t,c,r));return t[p]>u&&p<t.length-1?t[p+1]:t[p]}}}(d,l,!p&&f,h):Ji(n,i,l,!p&&f,h)}else{var g=(c?Math.max(_t(c),pt(c)):360*ni[ii.DEGREES]/u.getMetersPerUnit())/256/Math.pow(2,0),_=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?o=0:n=g/Math.pow(a,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):g/Math.pow(a,r):_),r=o+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,r-o),e=t.constrainResolution?function(t,e,n,i,o,r){return function(a,s,l,h){if(void 0!==a){var u=o?qi(e,o,l,r):e,c=void 0!==n?n:0;if(h)return void 0===i||i?Hi(a,u,c):mt(a,c,u);var p=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),f=-s*(.5-1e-9)+.5,d=Math.min(u,a),g=Math.floor(Math.log(e/d)/Math.log(t)+f),_=Math.max(p,g);return mt(e/Math.pow(t,_),c,u)}}}(a,n,i,l,!p&&f,h):Ji(n,i,l,!p&&f,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var o=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Ui(t.extent,t.constrainOnlyCenter,e)}var n=Pi(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Ui(i,!1,!1)}return Vi}(t),r=i.constraint,a=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=Et(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?$i:"number"==typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):$i}return Qi;var n,i,o}(t);this.constraints_={center:o,resolution:r,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var i=t||[0,0,0,0];e=e||[0,0,0,0];var o=this.getResolution(),r=o/2*(i[3]-e[3]+e[1]-i[1]),a=o/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+r,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Wt({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=Wt({},i)).center=Xi(i.center,this.getProjection())),i.anchor&&((i=Wt({},i)).anchor=Xi(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var o=arguments[i];o.center&&this.setCenterInternal(o.center),void 0!==o.zoom?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),void 0!==o.rotation&&this.setRotation(o.rotation)}if(i!==n){for(var r=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,h=[];i<n;++i){var u=arguments[i],c={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||no,callback:e};if(u.center&&(c.sourceCenter=a,c.targetCenter=u.center.slice(),a=c.targetCenter),void 0!==u.zoom?(c.sourceResolution=s,c.targetResolution=this.getResolutionForZoom(u.zoom),s=c.targetResolution):u.resolution&&(c.sourceResolution=s,c.targetResolution=u.resolution,s=c.targetResolution),void 0!==u.rotation){c.sourceRotation=l;var p=bt(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=l+p,l=c.targetRotation}Uo(c)?c.complete=!0:r+=c.duration,h.push(c)}this.animations_.push(h),this.setHint(0,1),this.updateAnimations_()}else e&&Ko(e,!0)},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];if(i[0].callback&&Ko(i[0].callback,!1),!t)for(var o=0,r=i.length;o<r;++o){var a=i[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var l=t-s.start,h=s.duration>0?l/s.duration:1;h>=1?(s.complete=!0,h=1):o=!1;var u=s.easing(h);if(s.sourceCenter){var c=s.sourceCenter[0],p=s.sourceCenter[1],f=s.targetCenter[0],d=s.targetCenter[1];this.nextCenter_=s.targetCenter;var g=c+u*(f-c),_=p+u*(d-p);this.targetCenter_=[g,_]}if(s.sourceResolution&&s.targetResolution){var y=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(y,0,v,!0);this.targetCenter_=this.calculateCenterZoom(m,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var x=1===u?bt(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var C=this.constraints_.rotation(x,!0);this.targetCenter_=this.calculateCenterRotate(C,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=x}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var A=i[0].callback;A&&Ko(A,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenterInternal();return void 0!==r&&(Fe(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(i=n)[0]+=+o[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),o=this.getResolution();return void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Wi(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(oi.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Yi(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();j(n,1);var i=this.getResolution();j(void 0!==i,2);var o=this.getRotation();return j(void 0!==o,3),ct(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(oi.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Zi(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),i=_t(t)/n[0],o=pt(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(oi.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/o}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;if(o){var r=this.getViewportSizeMinusPadding_();i=Vo(i,this.getViewportSize_(),[r[0]/2+o[3],r[1]/2+o[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=y(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=mt(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,mt(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(j(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))j(!vt(t),25),n=Xo(i=Zi(t,this.getProjection()));else if(t.getType()===ti){var i;(n=Xo(i=Zi(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),ht(i))}else{var o=Gi();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),o=t.getFlatCoordinates(),r=t.getStride(),a=1/0,s=1/0,l=-1/0,h=-1/0,u=0,c=o.length;u<c;u+=r){var p=o[u]*n-o[u+1]*i,f=o[u]*i+o[u+1]*n;a=Math.min(a,p),s=Math.min(s,f),l=Math.max(l,p),h=Math.max(h,f)}return[a,s,l,h]},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var o,r=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(s,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,a?0:1);var h=this.getRotation(),u=Math.sin(h),c=Math.cos(h),p=ht(s);p[0]+=(r[1]-r[3])/2*l,p[1]+=(r[0]-r[2])/2*l;var f=p[0]*c-p[1]*u,d=p[1]*c+p[0]*u,g=this.getConstrainedCenter([f,d],l),_=n.callback?n.callback:w;void 0!==n.duration?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),Ko(_,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Xi(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Vo(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,i){var o,r=this.padding_;if(r&&t){var a=this.getViewportSizeMinusPadding_(-n),s=Vo(t,i,[a[0]/2+r[3],a[1]/2+r[0]],e,n);o=[t[0]-s[0],t[1]-s[1]]}return o},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Wi(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Xi(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Xi(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Xi(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,r,o,n,this.calculateCenterShift(this.targetCenter_,r,i,o));this.get(oi.ROTATION)!==i&&this.set(oi.ROTATION,i),this.get(oi.RESOLUTION)!==r&&(this.set(oi.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),a&&this.get(oi.CENTER)&&Pe(this.get(oi.CENTER),a)||this.set(oi.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,r,a));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();var h=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&Pe(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:s,duration:i,easing:eo,anchor:h}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&Xi(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(ue);function Ko(t,e){setTimeout((function(){t(e)}),0)}function Uo(t){return!(t.sourceCenter&&t.targetCenter&&!Pe(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function Vo(t,e,n,i,o){var r=Math.cos(-o),a=Math.sin(-o),s=t[0]*r-t[1]*a,l=t[1]*r+t[0]*a;return[(s+=(e[0]/2-n[0])*i)*r-(l+=(n[1]-e[1]/2)*i)*(a=-a),l*r+s*a]}const qo=Zo;function Ho(t){return t[0]>0&&t[1]>0}function Jo(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Qo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function $o(t){t instanceof Ie?t.setMapInternal(null):t instanceof On&&t.getLayers().forEach($o)}function tr(t,e){if(t instanceof Ie)t.setMapInternal(e);else if(t instanceof On)for(var n=t.getLayers().getArray(),i=0,o=n.length;i<o;++i)tr(n[i],e)}var er=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,r={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new On({layers:t.layers});return r.layergroup=a,r.target=t.target,r.view=t.view instanceof qo?t.view:new qo,void 0!==t.controls&&(Array.isArray(t.controls)?n=new wn(t.controls.slice()):(j("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new wn(t.interactions.slice()):(j("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new wn(t.overlays.slice()):(j("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new wn,{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:r}}(e);n.renderComplete_,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:F,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new wn,n.interactions=i.interactions||new wn,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Kn(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(jn,n.handleLayerGroupChanged_),n.addChangeListener(Gn,n.handleViewChanged_),n.addChangeListener(Bn,n.handleSizeChanged_),n.addChangeListener(zn,n.handleTargetChanged_),n.setProperties(i.values);var o=n;return!e.view||e.view instanceof qo||e.view.then((function(t){o.setView(new qo(t))})),n.controls.addEventListener(yn,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(vn,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(yn,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(vn,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(yn,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(vn,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return Qo(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){tr(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,r=void 0!==n.layerFilter?n.layerFilter:C,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof On?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},o=void 0!==i.hitTolerance?i.hitTolerance:0,r=i.layerFilter||C;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:C,o=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(zn)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Wi(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?z(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(jn)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof wn)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Xi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?z(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Bn)},e.prototype.getView=function(){return this.get(Gn)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,i){return function(t,e,n,i,o){if(!t||!(n in t.wantedTiles))return Wn;if(!t.wantedTiles[n][e.getKey()])return Wn;var r=t.viewState.center,a=i[0]-r[0],s=i[1]-r[1];return 65536*Math.log(o)+Math.sqrt(a*a+s*s)/o}(this.frameState_,t,e,n,i)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new Fn(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===Ln||n===ee||n===Qt){var i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,r=e.target;if(this.overlayContainerStopEvent_.contains(r)||!(o===i?i.documentElement:o).contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var l=a[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[0]||o[1]){var r=Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.hasListener(Ee)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Ee,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)oe(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ht,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ee,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Ve(this.viewport_)}var n=this.getTargetElement();if(n){for(var i in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Dn(this,this.moveTolerance_),Mn)this.mapBrowserEventHandler_.addEventListener(Mn[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ht,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ee,this.boundHandleBrowserEvent_,!!k&&{passive:!1});var o=this.getOwnerDocument().defaultView,r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[ne(r,Qt,this.handleBrowserEvent,this),ne(r,$t,this.handleBrowserEvent,this),ne(o,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(oe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(oe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ne(t,Gt,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ne(t,qt,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(oe),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new bn("addlayer",t)),this.layerGroupPropertyListenerKeys_=[ne(t,Gt,this.render,this),ne(t,qt,this.render,this),ne(t,"addlayer",this.handleLayerAdd_,this),ne(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){$o(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),i=this.getView(),o=this.frameState_,r=null;if(void 0!==n&&Ho(n)&&i&&i.isDef()){var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:ct(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:S(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;r.nextExtent=ct(s.nextCenter,s.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),o&&(!this.previousExtent_||!vt(this.previousExtent_)&&!et(r.extent,this.previousExtent_))&&(this.dispatchEvent(new In("movestart",this,o)),this.previousExtent_=tt(this.previousExtent_)),this.previousExtent_&&!r.viewHints[0]&&!r.viewHints[1]&&!et(r.extent,this.previousExtent_)&&(this.dispatchEvent(new In("moveend",this,r)),U(r.extent,this.previousExtent_))),this.dispatchEvent(new In(Nn,this,r)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new bn("removelayer",e)),this.set(jn,t)},e.prototype.setSize=function(t){this.set(Bn,t)},e.prototype.setTarget=function(t){this.set(zn,t)},e.prototype.setView=function(t){if(!t||t instanceof qo)this.set(Gn,t);else{this.set(Gn,new qo);var e=this;t.then((function(t){e.setView(new qo(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(o)||!Ho(e=[i,o])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(ue);const nr=er;var ir=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),or=function(t){function e(e){var n=t.call(this)||this,i=e.element;return!i||e.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return ir(e,t),e.prototype.disposeInternal=function(){Ve(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Ve(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)oe(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==w&&this.listenerKeys.push(ne(t,Nn,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(ue);const rr=or;var ar=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.expandClassName?i.expandClassName:o+"-expand",s=void 0!==i.collapseLabel?i.collapseLabel:"›",l=void 0!==i.collapseClassName?i.collapseClassName:o+"-collpase";"string"==typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=l):n.collapseLabel_=s;var h=void 0!==i.label?i.label:"i";"string"==typeof h?(n.label_=document.createElement("span"),n.label_.textContent=h,n.label_.className=a):n.label_=h;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=r,n.toggleButton_.appendChild(u),n.toggleButton_.addEventListener(Jt,n.handleClick_.bind(n),!1);var c=o+" ol-unselectable "+Ge+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=c,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return ar(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=!0,o=t.layerStatesArray,r=0,a=o.length;r<a;++r){var s=o[r];if(Re(s,t.viewState)){var l=s.layer.getSource();if(l){var h=l.getAttributions();if(h){var u=h(t);if(u)if(i=i&&!1!==l.getAttributionsCollapsible(),Array.isArray(u))for(var c=0,p=u.length;c<p;++c)u[c]in e||(n.push(u[c]),e[u[c]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!x(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Ue(this.collapseLabel_,this.label_):Ue(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(rr);const lr=sr;var hr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ur=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"⇧",a=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof r?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=r):(n.label_=r,n.label_.classList.add(a));var s=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(n.label_),l.addEventListener(Jt,n.handleClick_.bind(n),!1);var h=o+" ol-unselectable "+Ge,u=n.element;return u.className=h,u.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(ze),n}return hr(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:eo}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(ze);o||0!==n?o&&0!==n&&this.element.classList.remove(ze):this.element.classList.add(ze)}this.label_.style.transform=i}this.rotation_=n}},e}(rr);const cr=ur;var pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fr=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInClassName?i.zoomInClassName:o+"-in",s=void 0!==i.zoomOutClassName?i.zoomOutClassName:o+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",h=void 0!==i.zoomOutLabel?i.zoomOutLabel:"–",u=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(Jt,n.handleClick_.bind(n,r),!1);var f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof h?document.createTextNode(h):h),f.addEventListener(Jt,n.handleClick_.bind(n,-r),!1);var d=o+" ol-unselectable "+Ge,g=n.element;return g.className=d,g.appendChild(p),g.appendChild(f),n.duration_=void 0!==i.duration?i.duration:250,n}return pr(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:eo})):e.setZoom(i)}}},e}(rr);const dr=fr,gr="active";var _r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function yr(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:eo})}}const vr=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return _r(e,t),e.prototype.getActive=function(){return this.get(gr)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(gr,t)},e.prototype.setMap=function(t){this.map_=t},e}(ue);var mr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xr=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return mr(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Mn.DBLCLICK){var n=t.originalEvent,i=t.map,o=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;yr(i.getView(),r,o,this.duration_),n.preventDefault(),e=!0}return!e},e}(vr);const Cr=xr;var Ar=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wr=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Ar(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Mn.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Mn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Mn.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==Mn.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Mn.POINTERDOWN||e===Mn.POINTERDRAG||e===Mn.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==Mn.POINTERUP?delete this.trackedPointers_[n]:(t.type==Mn.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Yt(this.trackedPointers_)}},e}(vr);function Er(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}const br=wr;function Sr(t){var e=arguments;return function(t){for(var n=!0,i=0,o=e.length;i<o&&(n=n&&e[i](t));++i);return n}}var Tr=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Or=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Rr=C,Ir=function(t){var e=t.originalEvent;return 0==e.button&&!(I&&P&&e.ctrlKey)},Pr=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Fr=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Mr=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Lr=function(t){var e=t.originalEvent;return j(void 0!==e,56),"mouse"==e.pointerType},kr=function(t){var e=t.originalEvent;return j(void 0!==e,56),e.isPrimary&&0===e.button},Dr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nr=function(t){function e(e){var n=t.call(this,{stopDown:A})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=i.condition?i.condition:Sr(Pr,kr);return n.condition_=i.onFocusOnly?Sr(Or,o):o,n.noKinetic_=!1,n}return Dr(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,o=Er(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=t.map.getView();e=r,n=a.getResolution(),e[0]*=n,e[1]*=n,Fe(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:eo})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(br);const jr=Nr;var Br=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zr=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:A})||this).condition_=i.condition?i.condition:Tr,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return Br(e,t),e.prototype.handleDragEvent=function(t){if(Lr(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Qi){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!Lr(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!Lr(t)||!Ir(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(br);const Gr=zr;var Wr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xr=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Wr(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Wo([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(g);const Yr=Xr;var Zr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kr=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return Zr(e,t),e}(zt),Ur=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=e||{};return n.box_=new Yr(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:Ir,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return Zr(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Kr("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Kr(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Kr("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(br);const Vr=Ur;var qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hr=function(t){function e(e){var n=this,i=e||{},o=i.condition?i.condition:Fr;return(n=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return qr(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=e.rotatedExtentForGeometry(n),o=e.getResolutionForExtentInternal(i),r=e.getResolution()/o;(n=n.clone()).scale(r*r)}e.fitInternal(n,{duration:this.duration_,easing:eo})},e}(Vr);const Jr=Hr;var Qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$r=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(t){return Pr(t)&&Mr(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return Qr(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Qt){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){var o=t.map.getView(),r=o.getResolution()*this.pixelDelta_,a=0,s=0;40==i?s=-r:37==i?a=-r:39==i?a=r:s=r;var l=[a,s];Fe(l,o.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var o=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:io,center:t.getConstrainedCenter(o)})}}(o,l,this.duration_),n.preventDefault(),e=!0}}return!e},e}(vr);const ta=$r;var ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),na=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:Mr,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return ea(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Qt||t.type==$t){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var o=t.map,r=i=="+".charCodeAt(0)?this.delta_:-this.delta_;yr(o.getView(),r,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(vr);const ia=na,oa=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var ra=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),aa="trackpad",sa=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var o=i.condition?i.condition:Rr;return n.condition_=i.onFocusOnly?Sr(Or,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return ra(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==ee)return!0;var e,n=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ee&&(e=i.deltaY,R&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=F),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?aa:"wheel");var r=n.getView();if(this.mode_===aa&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-mt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),yr(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(vr);const la=sa;var ha=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ua=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=A),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return ha(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Qi){var l=a.getViewport().getBoundingClientRect(),h=Er(this.targetPointers);h[0]-=l.left,h[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(h),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(br);const ca=ua;var pa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fa=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=A),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return pa(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,a=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var h=s.getViewport().getBoundingClientRect(),u=Er(this.targetPointers);u[0]-=h.left,u[1]-=h.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(br);const da=fa;var ga=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_a=function(t){function e(e){return(e=Wt({},e)).controls||(e.controls=function(t){var e={},n=new wn;return(void 0===e.zoom||e.zoom)&&n.push(new dr(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new cr(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new lr(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},n=new wn,i=new oa(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Gr),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Cr({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new jr({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new ca),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new da({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new ta),n.push(new ia({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new la({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Jr({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return ga(e,t),e.prototype.createRenderer=function(){return new _n(this)},e}(nr);const ya=_a,va="preload",ma="useInterimTilesOnError";var xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ca=function(t){function e(e){var n=this,i=e||{},o=Wt({},i);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).on,n.once,n.un,n.setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return xa(e,t),e.prototype.getPreload=function(){return this.get(va)},e.prototype.setPreload=function(t){this.set(va,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ma)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ma,t)},e}(Ie);const Aa=Ca;var wa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ea=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return wa(e,t),e.prototype.getFeatures=function(t){return E()},e.prototype.prepareFrame=function(t){return E()},e.prototype.renderFrame=function(t,e){return E()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,o){var r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener(qt,this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Se&&t.changed()},e}(se);const ba=Ea;var Sa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ta=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n}return Sa(e,t),e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n,i){var o,r,a=this.getLayer().getClassName();if(t&&t.className===a&&""===t.style.opacity&&1===n&&(!i||t.style.backgroundColor&&x(Lt(t.style.backgroundColor),Lt(i)))&&(l=t.firstElementChild)instanceof HTMLCanvasElement&&(r=l.getContext("2d")),r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(o=document.createElement("div")).className=a;var s=o.style;s.position="absolute",s.width="100%",s.height="100%",i&&(s.backgroundColor=i);var l=(r=Ke()).canvas;o.appendChild(l),(s=l.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=o,this.context=r}},e.prototype.clipUnrotated=function(t,e,n){var i=dt(n),o=gt(n),r=lt(n),a=st(n);z(e.coordinateToPixelTransform,i),z(e.coordinateToPixelTransform,o),z(e.coordinateToPixelTransform,r),z(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;z(s,i),z(s,o),z(s,r),z(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var o=new Be(t,this.inversePixelTransform,n,e);i.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,i,o,r,a){var s=o/2,l=r/2,h=i/e,u=-h,c=-t[0]+a,p=-t[1];return G(this.tempTransform,s,l,h,u,-n,c,p)},e.prototype.getDataAtPixel=function(t,e,n){var i=z(this.inversePixelTransform,t.slice()),o=this.context,r=this.getLayer().getExtent();if(r&&!q(r,z(e.pixelToCoordinateTransform,t.slice())))return null;var a,s=Math.round(i[0]),l=Math.round(i[1]),h=this.pixelContext_;if(!h){var u=document.createElement("canvas");u.width=1,u.height=1,h=u.getContext("2d"),this.pixelContext_=h}h.clearRect(0,0,1,1);try{h.drawImage(o.canvas,s,l,1,1,0,0,1,1),a=h.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):a}return 0===a[3]?null:a},e}(ba);const Oa=Ta;var Ra=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Ia(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new Ra(t,e,n,i)}const Pa=Ra;var Fa={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Ma={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},La=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ka=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Pa(0,0,0,0),n}return La(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!i},e.prototype.getTile=function(t,e,n,i){var o=i.pixelRatio,r=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,o,r);return 3==s.getState()&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(2)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,o=i.projection,r=i.resolution,a=i.center,s=i.rotation,l=t.pixelRatio,h=this.getLayer(),u=h.getSource(),c=u.getRevision(),p=u.getTileGridForProjection(o),f=p.getZForResolution(r,u.zDirection),d=p.getResolution(f),g=t.extent,y=n.extent&&Zi(n.extent);y&&(g=ft(g,Zi(n.extent)));var v=u.getTilePixelRatio(l),m=Math.round(t.size[0]*v),x=Math.round(t.size[1]*v);if(s){var C=Math.round(Math.sqrt(m*m+x*x));m=C,x=C}var A=d*m/2/v,w=d*x/2/v,E=[a[0]-A,a[1]-w,a[0]+A,a[1]+w],b=p.getTileRangeForExtentAndZ(g,f),T={};T[f]={};var O=this.createLoadedTileFinder(u,o,T),R=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var P=b.minX;P<=b.maxX;++P)for(var F=b.minY;F<=b.maxY;++F){var M=this.getTile(f,P,F,t);if(this.isDrawableTile(M)){var L=S(this);if(2==M.getState()){T[f][M.tileCoord.toString()]=M;var k=M.inTransition(L);this.newTiles_||!k&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(L,t.time))continue}var D=p.getTileCoordChildTileRange(M.tileCoord,I,R),N=!1;D&&(N=O(f+1,D)),N||p.forEachTileCoordParentTileRange(M.tileCoord,O,I,R)}var j=d/r;G(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/v,1/v,s,-m/2,-x/2);var B=X(this.pixelTransform);this.useContainer(e,B,n.opacity,this.getBackground(t));var Y=this.context,Z=Y.canvas;W(this.inversePixelTransform,this.pixelTransform),G(this.tempTransform,m/2,x/2,j,j,0,-m/2,-x/2),Z.width!=m||Z.height!=x?(Z.width=m,Z.height=x):this.containerReused||Y.clearRect(0,0,m,x),y&&this.clipUnrotated(Y,t,y),u.getInterpolate()||Wt(Y,Fa),this.preRender(Y,t),this.renderedTiles.length=0;var K,U,V,q=Object.keys(T).map(Number);q.sort(_),1!==n.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(K=[],U=[]):q=q.reverse();for(var H=q.length-1;H>=0;--H){var J=q[H],Q=u.getTilePixelSize(J,l,o),$=p.getResolution(J)/d,tt=Q[0]*$*j,nt=Q[1]*$*j,it=p.getTileCoordForCoordAndZ(dt(E),J),ot=p.getTileCoordExtent(it),rt=z(this.tempTransform,[v*(ot[0]-E[0])/d,v*(E[3]-ot[3])/d]),at=v*u.getGutterForProjection(o),st=T[J];for(var lt in st){var ht=(M=st[lt]).tileCoord,ut=it[1]-ht[1],ct=Math.round(rt[0]-(ut-1)*tt),pt=it[2]-ht[2],gt=Math.round(rt[1]-(pt-1)*nt),_t=ct-(P=Math.round(rt[0]-ut*tt)),yt=gt-(F=Math.round(rt[1]-pt*nt)),vt=f===J;if(!(k=vt&&1!==M.getAlpha(S(this),t.time)))if(K){Y.save(),V=[P,F,P+_t,F,P+_t,F+yt,P,F+yt];for(var mt=0,xt=K.length;mt<xt;++mt)if(f!==J&&J<U[mt]){var Ct=K[mt];Y.beginPath(),Y.moveTo(V[0],V[1]),Y.lineTo(V[2],V[3]),Y.lineTo(V[4],V[5]),Y.lineTo(V[6],V[7]),Y.moveTo(Ct[6],Ct[7]),Y.lineTo(Ct[4],Ct[5]),Y.lineTo(Ct[2],Ct[3]),Y.lineTo(Ct[0],Ct[1]),Y.clip()}K.push(V),U.push(J)}else Y.clearRect(P,F,_t,yt);this.drawTileImage(M,t,P,F,_t,yt,at,vt),K&&!k?(Y.restore(),this.renderedTiles.unshift(M)):this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,u,M)}}this.renderedRevision=c,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!et(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(t,u,p,l,o,g,f,h.getPreload()),this.scheduleExpireCache(t,u),this.postRender(Y,t),n.extent&&Y.restore(),Wt(Y,Ma),B!==Z.style.transform&&(Z.style.transform=B);var At=Ze(n.opacity),wt=this.container;return At!==wt.style.opacity&&(wt.style.opacity=At),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,r,a,s){var l=this.getTileImage(t);if(l){var h=S(this),u=s?t.getAlpha(h,e.time):1,c=u!==this.context.globalAlpha;c&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,i,o,r),c&&this.context.restore(),1!==u?e.animate=!0:s&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=S(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=S(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,i,o,r,a,s,l){var h=S(e);h in t.wantedTiles||(t.wantedTiles[h]={});var u,c,p,f,d,g,_=t.wantedTiles[h],y=t.tileQueue,v=0;for(g=n.getMinZoom();g<=a;++g)for(c=n.getTileRangeForExtentAndZ(r,g,c),p=n.getResolution(g),f=c.minX;f<=c.maxX;++f)for(d=c.minY;d<=c.maxY;++d)a-g<=s?(++v,0==(u=e.getTile(g,f,d,i,o)).getState()&&(_[u.getKey()]=!0,y.isKeyQueued(u.getKey())||y.enqueue([u,h,n.getTileCoordCenter(u.tileCoord),p])),void 0!==l&&l(u)):e.useTile(g,f,d,o);e.updateCacheSize(v,o)},e}(Oa);ka.prototype.getLayer;const Da=ka;var Na=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const ja=function(t){function e(e){return t.call(this,e)||this}return Na(e,t),e.prototype.createRenderer=function(){return new Da(this)},e}(Aa);var Ba=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),za=function(t){function e(e,n,i){var o=t.call(this)||this,r=i||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o.interpolate=!!r.interpolate,o}return Ba(e,t),e.prototype.changed=function(){this.dispatchEvent(qt)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){E()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:to(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Vt);const Ga=za;var Wa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Xa=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=i,r.resolution=n,r.state=o,r}return Wa(e,t),e.prototype.changed=function(){this.dispatchEvent(qt)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return E()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){E()},e}(Vt);var Ya=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Za(t,e,n){var i=t,o=!0,r=!1,a=!1,s=[ie(i,"load",(function(){a=!0,r||e()}))];return i.src&&L?(r=!0,i.decode().then((function(){o&&e()})).catch((function(t){o&&(a?e():n())}))):s.push(ie(i,"error",n)),function(){o=!1,s.forEach(oe)}}!function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,i,0)||this;return s.src_=o,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.state=0,s.imageLoadFunction_=a,s}Ya(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=pt(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Za(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=pt(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(Xa);var Ka=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Ua=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=i,s.key=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=r,s}return Ka(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=Ke(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Za(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Ga),Va=function(){function t(t,e,n,i,o,r){this.sourceProj_=t,this.targetProj_=e;var a={},s=ki(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&_t(i)==_t(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?_t(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?_t(this.targetProj_.getExtent()):null;var l=dt(n),h=gt(n),u=lt(n),c=st(n),p=this.transformInv_(l),f=this.transformInv_(h),d=this.transformInv_(u),g=this.transformInv_(c),_=10+(r?Math.max(0,Math.ceil(Ct(at(n)/(r*r*256*256)))):0);if(this.addQuad_(l,h,u,c,p,f,d,g,_),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,i,o,r){this.triangles_.push({source:[i,o,r],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,o,r,a,s,l){var h=Z([o,r,a,s]),u=this.sourceWorldWidth_?_t(h)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&u>.5&&u<1,f=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=_t(Z([t,e,n,i]))/this.targetWorldWidth_>.25||f),!p&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)),!(!f&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3]))||yt(h,this.maxSourceExtent_)){var d=0;if(!(f||isFinite(o[0])&&isFinite(o[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)f=!0;else if(1!=(d=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=d&&4!=d&&8!=d)return;if(l>0){if(!f){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(g),y=void 0;y=p?(bt(o[0],c)+bt(a[0],c))/2-bt(_[0],c):(o[0]+a[0])/2-_[0];var v=(o[1]+a[1])/2-_[1];f=y*y+v*v>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(m),C=[(i[0]+t[0])/2,(i[1]+t[1])/2],A=this.transformInv_(C);this.addQuad_(t,e,m,C,o,r,x,A,l-1),this.addQuad_(C,m,n,i,A,x,a,s,l-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(w),b=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(b);this.addQuad_(t,w,b,i,o,E,S,s,l-1),this.addQuad_(w,e,n,b,E,r,a,S,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&d)&&this.addTriangle_(t,n,i,o,a,s),0==(14&d)&&this.addTriangle_(t,n,e,o,a,r),d&&(0==(13&d)&&this.addTriangle_(e,i,t,r,s,o),0==(7&d)&&this.addTriangle_(e,i,n,r,s,a))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,i){var o=e.source;nt(t,o[0]),nt(t,o[1]),nt(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var qa;function Ha(t,e,n,i,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,o)),t.restore()}function Ja(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Qa(t,e,n,i){var o=Di(n,e,t),r=Ri(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(r*=a);var s=t.getMetersPerUnit();void 0!==s&&(r/=s);var l=t.getExtent();if(!l||q(l,o)){var h=Ri(t,r,o)/r;isFinite(h)&&h>0&&(r/=h)}return r}var $a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ts=function(t){function e(e,n,i,o,r,a,s,l,h,u,c,p){var f=t.call(this,r,0,{interpolate:!!p})||this;f.renderEdges_=void 0!==c&&c,f.pixelRatio_=s,f.gutter_=l,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=o,f.wrappedTileCoord_=a||r,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var d=o.getTileCoordExtent(f.wrappedTileCoord_),g=f.targetTileGrid_.getExtent(),_=f.sourceTileGrid_.getExtent(),y=g?ft(d,g):d;if(0===at(y))return f.state=4,f;var v=e.getExtent();v&&(_=_?ft(_,v):v);var m=o.getResolution(f.wrappedTileCoord_[0]),x=function(t,e,n,i){var o=ht(n),r=Qa(t,e,o,i);return(!isFinite(r)||r<=0)&&rt(n,(function(n){return r=Qa(t,e,n,i),isFinite(r)&&r>0})),r}(e,i,y,m);if(!isFinite(x)||x<=0)return f.state=4,f;var C=void 0!==u?u:.5;if(f.triangulation_=new Va(e,i,y,_,x*C,m),0===f.triangulation_.getTriangles().length)return f.state=4,f;f.sourceZ_=n.getZForResolution(x);var A=f.triangulation_.calculateSourceExtent();if(_&&(e.canWrapX()?(A[1]=mt(A[1],_[1],_[3]),A[3]=mt(A[3],_[1],_[3])):A=ft(A,_)),at(A)){for(var w=n.getTileRangeForExtentAndZ(A,f.sourceZ_),E=w.minX;E<=w.maxX;E++)for(var b=w.minY;b<=w.maxY;b++){var S=h(f.sourceZ_,E,b,s);S&&f.sourceTiles_.push(S)}0===f.sourceTiles_.length&&(f.state=4)}else f.state=4;return f}return $a(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],r=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,o,r,a,s,l,h,u,c){var p=Ke(Math.round(n*t),Math.round(n*e));if(c||Wt(p,Fa),0===l.length)return p.canvas;function f(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";var d=[1/0,1/0,-1/0,-1/0];l.forEach((function(t,e,n){var i,o;i=d,(o=t.extent)[0]<i[0]&&(i[0]=o[0]),o[2]>i[2]&&(i[2]=o[2]),o[1]<i[1]&&(i[1]=o[1]),o[3]>i[3]&&(i[3]=o[3])}));var g=_t(d),_=pt(d),y=Ke(Math.round(n*g/i),Math.round(n*_/i));c||Wt(y,Fa);var v=n/i;l.forEach((function(t,e,n){var i=t.extent[0]-d[0],o=-(t.extent[3]-d[3]),r=_t(t.extent),a=pt(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,i*v,o*v,r*v,a*v)}));var m=dt(a);return s.getTriangles().forEach((function(t,e,o){var a=t.source,s=t.target,l=a[0][0],h=a[0][1],u=a[1][0],g=a[1][1],_=a[2][0],v=a[2][1],x=f((s[0][0]-m[0])/r),C=f(-(s[0][1]-m[1])/r),A=f((s[1][0]-m[0])/r),w=f(-(s[1][1]-m[1])/r),E=f((s[2][0]-m[0])/r),b=f(-(s[2][1]-m[1])/r),S=l,T=h;l=0,h=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,o=Math.abs(t[n][n]),r=n+1;r<e;r++){var a=Math.abs(t[r][n]);a>o&&(o=a,i=r)}if(0===o)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var h=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=h*t[n][u]}for(var c=new Array(e),p=e-1;p>=0;p--){c[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*c[p]}return c}([[u-=S,g-=T,0,0,A-x],[_-=S,v-=T,0,0,E-x],[0,0,u,g,w-C],[0,0,_,v,b-C]]);if(O){if(p.save(),p.beginPath(),function(){if(void 0===qa){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ha(t,4,5,4,0),Ha(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;qa=Ja(e,0)||Ja(e,4)||Ja(e,8)}return qa}()||!c){p.moveTo(A,w);for(var R=x-A,I=C-w,P=0;P<4;P++)p.lineTo(A+f((P+1)*R/4),w+f(P*I/3)),3!=P&&p.lineTo(A+f((P+1)*R/4),w+f((P+1)*I/3));p.lineTo(E,b)}else p.moveTo(A,w),p.lineTo(x,C),p.lineTo(E,b);p.clip(),p.transform(O[0],O[2],O[1],O[3],x,C),p.translate(d[0]-S,d[3]-T),p.scale(i/n,-i/n),p.drawImage(y.canvas,0,0),p.restore()}})),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var i=t.target,o=(i[0][0]-m[0])/r,a=-(i[0][1]-m[1])/r,s=(i[1][0]-m[0])/r,l=-(i[1][1]-m[1])/r,h=(i[2][0]-m[0])/r,u=-(i[2][1]-m[1])/r;p.beginPath(),p.moveTo(s,l),p.lineTo(o,a),p.lineTo(h,u),p.closePath(),p.stroke()})),p.restore()),p.canvas}(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),r,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var o=e.getState();if(0==o||1==o){t++;var r=ne(e,qt,(function(n){var i=e.getState();2!=i&&3!=i&&4!=i||(oe(r),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(r)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){0==t.getState()&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(oe),this.sourcesListenerKeys_=null},e}(Ga);const es=ts;var ns=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return j(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return j(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){j(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();const is=ns;function os(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function rs(t,e,n){return t+"/"+e+"/"+n}function as(t){return rs(t[0],t[1],t[2])}var ss=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ss(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey().split("/").map(Number)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(as(e.tileCoord)),e.release())}.bind(this))}},e}(is);var hs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),us=function(t){function e(e){var n=t.call(this)||this;n.projection=Oi(e.projection),n.attributions_=cs(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Se,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise((function(t,e){i.viewResolver=t,i.viewRejector=e})),n}return hs(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return E()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=cs(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(ue);function cs(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const ps=us;var fs=[0,0,0],ds=function(){function t(t){var e,n,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,j((e=this.resolutions_,!0,n=function(t,e){return e-t}||_,e.every((function(t,i){if(0===i)return!0;var o=n(e[i-1],t);return!(o>0||0===o)}))),17),!t.origins)for(var o=0,r=this.resolutions_.length-1;o<r;++o)if(i){if(this.resolutions_[o]/this.resolutions_[o+1]!==i){i=void 0;break}}else i=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,j(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=dt(a)),j(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,j(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,j(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new Pa(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(a){var i=this.getTileRangeForExtentAndZ(a,e);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n}),this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),o=i.minX,r=i.maxX;o<=r;++o)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var o,r,a=null,s=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):a=this.getTileCoordExtent(t,i);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Ia(o=Math.floor(o/2),o,r=Math.floor(r/2),r,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],o=2*t[2];return Ia(i,i+1,o,o+1,e)}var r=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var i=t[0],o=t[1],r=t[2];if(e===i)return Ia(o,r,o,r,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-i),s=Math.floor(o*a),l=Math.floor(r*a);return e<i?Ia(s,s,l,l,n):Ia(s,Math.floor(a*(o+1))-1,l,Math.floor(a*(r+1))-1,n)}var h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),o=this.getResolution(t),r=Jo(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*r[0]*o,s=i[0]+(e.maxX+1)*r[0]*o;return $(a,i[1]+e.minY*r[1]*o,s,i[1]+(e.maxY+1)*r[1]*o,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=fs;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var o=i[1],r=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),Ia(o,i[1],r,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Jo(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=Jo(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*o[0]*i,a=n[1]-(t[2]+1)*o[1]*i;return $(r,a,r+o[0]*i,a+o[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var r=this.getZForResolution(n),a=n/this.getResolution(r),s=this.getOrigin(r),l=Jo(this.getTileSize(r),this.tmpSize_),h=a*(t-s[0])/n/l[0],u=a*(s[1]-e)/n/l[1];return i?(h=Rt(h,5)-1,u=Rt(u,5)-1):(h=Ot(h,5),u=Ot(u,5)),os(r,h,u,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var r=this.getOrigin(n),a=this.getResolution(n),s=Jo(this.getTileSize(n),this.tmpSize_),l=(t-r[0])/a/s[0],h=(r[1]-e)/a/s[1];return i?(l=Rt(l,5)-1,h=Rt(h,5)-1):(l=Ot(l,5),h=Ot(h,5)),os(n,l,h,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return mt(y(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();const gs=ds;function _s(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var o=function(t,e,n,i){for(var o=void 0!==e?e:42,r=pt(t),a=_t(t),s=Jo(void 0!==n?n:ri),l=i>0?i:Math.max(a/s[0],r/s[1]),h=o+1,u=new Array(h),c=0;c<h;++c)u[c]=l/Math.pow(2,c);return u}(t,undefined,n);return new gs({extent:t,origin:ut(t,"top-left"),resolutions:o,tileSize:n})}(ys(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function ys(t){var e=(t=Oi(t)).getExtent();if(!e){var n=180*ni[ii.DEGREES]/t.getMetersPerUnit();e=$(-n,-n,n,n)}return e}var vs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ms=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.tileGrid;return i&&Jo(i.getTileSize(i.getMinZoom()),[256,256]),n.tileCache=new ls(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return vs(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,a,s,l=!0,h=n.minX;h<=n.maxX;++h)for(var u=n.minY;u<=n.maxY;++u)a=rs(e,h,u),s=!1,o.containsKey(a)&&(s=2===(r=o.get(a)).getState())&&(s=!1!==i(r)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return E()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:_s(t)},e.prototype.getTileCacheForProjection=function(t){return j(Mi(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),o=this.getTilePixelRatio(e),r=Jo(i.getTileSize(t),this.tmpSize);return 1==o?r:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(r,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],o=t.getTileCoordCenter(e),r=ys(n);if(q(r,o))return e;var a=_t(r),s=Math.ceil((r[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var r=e.getFullTileRange(n);return!r||r.containsXY(i,o)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,i){},e}(ps),xs=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return vs(e,t),e}(zt);const Cs=ms;function As(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(o,a[2].toString()).replace(r,(function(){var t=a[0],n=e.getFullTileRange(t);return j(n,55),(n.getHeight()-a[2]-1).toString()})):void 0}}function ws(t){return 1===t.length?t[0]:function(e,n,i){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),r=bt(o,t.length);return t[r](e,n,i)}}}function Es(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),o=n[2].charCodeAt(0),r=void 0;for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}var bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ss=function(t){function e(n){var i=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(i.tileUrlFunction=n.tileUrlFunction),i.urls=null,n.urls?i.setUrls(n.urls):n.url&&i.setUrl(n.url),i.tileLoadingKeys_={},i}return bs(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=S(n),o=n.getState();1==o?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=3==o?"tileloaderror":2==o?"tileloadend":void 0),null!=e&&this.dispatchEvent(new xs(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=Es(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=As(t[o],e);return ws(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var i=rs(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(Cs);const Ts=Ss;var Os=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rs=function(t){function e(e){var n=this,i=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(i=e.interpolate),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Is,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:i,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Ua,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Os(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Mi(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Mi(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Mi(e,t)){var n=S(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=_s(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Mi(e,t))return this.tileCache;var n=S(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new ls(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,o,r){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,o),l=s?this.tileUrlFunction(s,i,o):void 0,h=new this.tileClass(a,void 0!==l?0:4,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=r,h.addEventListener(qt,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,n,i,o){var r=this.getProjection();if(r&&o&&!Mi(r,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],l=void 0,h=as(s);a.containsKey(h)&&(l=a.get(h));var u=this.getKey();if(l&&l.key==u)return l;var c=this.getTileGridForProjection(r),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(s,o),d=new es(r,c,o,p,s,f,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(h,d)):a.set(h,d),d}return this.getTileInternal(t,e,n,i,r||o)},e.prototype.getTileInternal=function(t,e,n,i,o){var r=null,a=rs(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((r=this.tileCache.get(a)).key!=s){var l=r;r=this.createTile_(t,e,n,i,o,s),0==l.getState()?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(a,r)}}else r=this.createTile_(t,e,n,i,o,s),this.tileCache.set(a,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Oi(t);if(n){var i=S(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(Ts);function Is(t,e){t.getImage().src=e}const Ps=Rs,Fs="KVP";function Ms(t,e){var n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}var Ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ks=function(t){function e(e){var n=this,i=void 0===e.imageSmoothing||e.imageSmoothing;void 0!==e.interpolate&&(i=e.interpolate);var o=void 0!==e.requestEncoding?e.requestEncoding:Fs,r=e.tileGrid,a=e.urls;return void 0===a&&void 0!==e.url&&(a=Es(e.url)),(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:i,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:a,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection})||this).version_=void 0!==e.version?e.version:"1.0.0",n.format_=void 0!==e.format?e.format:"image/jpeg",n.dimensions_=void 0!==e.dimensions?e.dimensions:{},n.layer_=e.layer,n.matrixSet_=e.matrixSet,n.style_=e.style,n.requestEncoding_=o,n.setKey(n.getKeyForDimensions_()),a&&a.length>0&&(n.tileUrlFunction=ws(a.map(n.createFromWMTSTemplate.bind(n)))),n}return Ls(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(ws(t.map(this.createFromWMTSTemplate.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){Wt(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Fs&&Wt(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Fs?Ms(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}));var i=this.tileGrid,o=this.dimensions_;return function(n,r,a){if(n){var s={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Wt(s,o);var l=t;return e==Fs?Ms(l,s):l.replace(/\{(\w+?)\}/g,(function(t,e){return s[e]}))}}},e}(Ps);const Ds=ks;var Ns=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),js=function(t){function e(e){var n=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return n.matrixIds_=e.matrixIds,n}return Ns(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(gs);const Bs=js;var zs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gs=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var i=e;n.setGeometry(i)}else{var o=e;n.setProperties(o)}return n}return zs(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(oe(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=ne(t,qt,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(j("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(ue);const Ws=Gs;var Xs=n(582),Ys=function(){function t(t){this.rbush_=new Xs(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[S(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],a=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:a};n[i]=s,this.items_[S(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=S(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[S(e)];et([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return Zt(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return $(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();const Zs=Ys,Ks="addfeature",Us="removefeature";function Vs(t,e){return[[-1/0,-1/0,1/0,1/0]]}const qs="arraybuffer";function Hs(t,e){return function(n,i,o,r,a){var s=this;!function(t,e,n,i,o,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,i,o):t,!0),e.getType()==qs&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i=e.getType(),l=void 0;"json"==i||"text"==i?l=s.responseText:"xml"==i?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):i==qs&&(l=s.response),l?r(e.readFeatures(l,{extent:n,featureProjection:o}),e.readProjection(l)):a()}else a()},s.onerror=a,s.send()}(t,e,n,i,o,(function(t,e){s.addFeatures(t),void 0!==r&&r(t)}),a||w)}}var Js=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qs=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.feature=n,o.features=i,o}return Js(e,t),e}(zt),$s=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:Se,wrapX:void 0===i.wrapX||i.wrapX})||this).on,n.once,n.un,n.loader_=w,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(j(n.format_,7),n.loader_=Hs(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:Vs;var o,r,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new Zs:null,n.loadedExtentsRtree_=new Zs,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(o=i.features).getArray()),a||void 0!==o||(o=new wn(r)),void 0!==r&&n.addFeaturesInternal(r),void 0!==o&&n.bindFeaturesCollection_(o),n}return Js(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=S(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Qs(Ks,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[ne(e,qt,this.handleFeatureChange_,this),ne(e,Gt,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(j(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,r=t.length;o<r;o++){var a=S(l=t[o]);this.addToIndex_(a,l)&&n.push(l)}o=0;for(var s=n.length;o<s;o++){var l;a=S(l=n[o]),this.setupChangeEvents_(a,l);var h=l.getGeometry();if(h){var u=h.getExtent();e.push(u),i.push(l)}else this.nullGeometryFeatures_[a]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i),o=0;for(var c=n.length;o<c;o++)this.dispatchEvent(new Qs(Ks,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Ks,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(Us,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(yn,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(vn,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(oe);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var i in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new Qs("clear");this.dispatchEvent(o),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Zt(this.nullGeometryFeatures_)||m(t,Yt(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],o=null,r=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||C;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),h=a;if((a=e.closestPointXY(n,i,r,a))<h){o=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=i-u,s[2]=n+u,s[3]=i+u}}})),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=S(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var r=e.getId();if(void 0!==r){var a=r.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Qs("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:S(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Zt(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){for(var i=this.loadedExtentsRtree_,o=this.strategy_(t,e,n),r=function(t,r){var s=o[t];i.forEachInExtent(s,(function(t){return H(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new Qs("featuresloadstart")),a.loader_.call(a,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new Qs("featuresloadend",void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Qs("featuresloaderror"))}.bind(a)),i.insert(s,{extent:s.slice()}))},a=this,s=0,l=o.length;s<l;++s)r(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(et(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=S(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=S(t),n=this.featureChangeKeys_[e];if(n){n.forEach(oe),delete this.featureChangeKeys_[e];var i=t.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Qs(Us,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){j(this.format_,7),this.url_=t,this.setLoader(Hs(t,this.format_))},e}(ps);const tl=$s;var el=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Jo(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return E()},t.prototype.getImage=function(t){return E()},t.prototype.getHitDetectionImage=function(){return E()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return E()},t.prototype.getImageSize=function(){return E()},t.prototype.getOrigin=function(){return E()},t.prototype.getSize=function(){return E()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Jo(t)},t.prototype.listenImageChange=function(t){E()},t.prototype.load=function(){E()},t.prototype.unlistenImageChange=function(t){E()},t}();const nl=el;function il(t){return Array.isArray(t)?Dt(t):t}var ol=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rl=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return ol(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,i=Ke(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var i=this.radius_,o=void 0===this.radius2_?i:this.radius2_;if(i<o){var r=i;i=o,o=r}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=o*Math.sin(s),h=i-Math.sqrt(o*o-l*l),u=Math.sqrt(l*l+h*h),c=u/l;if("miter"===t&&c<=n)return c*e;var p=e/2/c,f=e/2*(h/u),d=Math.sqrt((i+p)*(i+p)+f*f)-i;if(void 0===this.radius2_||"bevel"===t)return 2*d;var g=i*Math.sin(s),_=o-Math.sqrt(i*i-g*g),y=Math.sqrt(g*g+_*_)/g;if(y<=n){var v=y*e/2-o-i;return 2*Math.max(d,v)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=$e,n=0,i=null,o=0,r=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=tn),t=il(t),void 0===(r=this.stroke_.getWidth())&&(r=1),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=$e),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,r,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:r,size:Math.ceil(2*s+a),lineDash:i,lineDashOffset:o,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var i=this.fill_.getColor();null===i&&(i=He),e.fillStyle=il(i),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Lt(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=Ke(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var o=this.angle_-Math.PI/2,r=2*Math.PI/e,a=0;a<e;a++){var s=o+a*r,l=a%2==0?n:i;t.lineTo(l*Math.cos(s),l*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=He,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(nl);const al=rl;var sl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ll=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return sl(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(al);const hl=ll;var ul=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();const cl=ul;var pl=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();const fl=pl;var dl=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=yl,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=yl,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),gl=null;function _l(t,e){if(!gl){var n=new cl({color:"rgba(255,255,255,0.4)"}),i=new fl({color:"#3399CC",width:1.25});gl=[new dl({image:new hl({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return gl}function yl(t){return t.getGeometry()}const vl=dl;var ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xl="renderOrder",Cl=function(t){function e(e){var n=this,i=e||{},o=Wt({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return ml(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(xl)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Xs(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(xl,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:_l,this.styleFunction_=null===t?void 0:function(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:(j("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}(this.style_),this.changed()},e}(Ie);const Al=Cl;var wl={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},El=[wl.FILL],bl=[wl.STROKE],Sl=[wl.BEGIN_PATH],Tl=[wl.CLOSE_PATH];const Ol=wl,Rl=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,i){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var Il=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pl=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=n,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Il(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,o=this.coordinates,r=o.length,a=0,s=t.length;a<s;a+=e)i[0]=t[a],i[1]=t[a+1],q(n,i)&&(o[r++]=i[0],o[r++]=i[1]);return r},e.prototype.appendFlatLineCoordinates=function(t,e,n,i,o,r){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();r&&(e+=i);var h,u,c,p=t[e],f=t[e+1],d=this.tmpCoordinate_,g=!0;for(h=e+i;h<n;h+=i)d[0]=t[h],d[1]=t[h+1],(c=Q(l,d))!==u?(g&&(a[s++]=p,a[s++]=f,g=!1),a[s++]=d[0],a[s++]=d[1]):1===c?(a[s++]=d[0],a[s++]=d[1],g=!1):g=!0,p=d[0],f=d[1],u=c;return(o&&g||h===e+i)&&(a[s++]=p,a[s++]=f),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r],l=this.appendFlatLineCoordinates(t,e,s,i,!1,!1);o.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n,i){this.beginGeometry(t,e);var o,r,a,s,l,h=t.getType(),u=t.getStride(),c=this.coordinates.length;switch(h){case Qn:o=t.getOrientedFlatCoordinates(),s=[];var p=t.getEndss();l=0;for(var f=0,d=p.length;f<d;++f){var g=[];l=this.drawCustomCoordinates_(o,l,p[f],u,g),s.push(g)}this.instructions.push([Ol.CUSTOM,c,s,t,n,bo]),this.hitDetectionInstructions.push([Ol.CUSTOM,c,s,t,i||n,bo]);break;case qn:case Jn:a=[],o=h==qn?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(o,0,t.getEnds(),u,a),this.instructions.push([Ol.CUSTOM,c,a,t,n,Eo]),this.hitDetectionInstructions.push([Ol.CUSTOM,c,a,t,i||n,Eo]);break;case Vn:case ti:o=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(o,0,o.length,u,!1,!1),this.instructions.push([Ol.CUSTOM,c,r,t,n,wo]),this.hitDetectionInstructions.push([Ol.CUSTOM,c,r,t,i||n,wo]);break;case Hn:o=t.getFlatCoordinates(),(r=this.appendFlatPointCoordinates(o,u))>c&&(this.instructions.push([Ol.CUSTOM,c,r,t,n,wo]),this.hitDetectionInstructions.push([Ol.CUSTOM,c,r,t,i||n,wo]));break;case Un:o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),r=this.coordinates.length,this.instructions.push([Ol.CUSTOM,c,r,t,n]),this.hitDetectionInstructions.push([Ol.CUSTOM,c,r,t,i||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ol.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ol.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,r=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==Ol.END_GEOMETRY?r=t:i==Ol.BEGIN_GEOMETRY&&(n[2]=t,v(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=il(i||He)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=il(o||tn);var r=e.getLineCap();n.lineCap=void 0!==r?r:Je;var a=e.getLineDash();n.lineDash=a?a.slice():Qe;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:$e;var h=e.getWidth();n.lineWidth=void 0!==h?h:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Ol.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ol.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,r=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!x(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ol.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=U(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;K(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Rl);const Fl=Pl;var Ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ll=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.hitDetectionImage_=null,r.image_=null,r.imagePixelRatio_=void 0,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r.declutterImageWithText_=void 0,r}return Ml(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(n,i);this.instructions.push([Ol.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ol.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(n,i);this.instructions.push([Ol.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ol.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),o=t.getHitDetectionImage(),r=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=o,this.image_=r,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0]*this.imagePixelRatio_,this.originY_=a[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},e}(Fl);const kl=Ll;var Dl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nl=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Dl(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var o=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),a=[Ol.MOVE_TO_LINE_TO,o,r];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ol.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Qe,0],Sl);var r=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(r,0,r.length,a),this.hitDetectionInstructions.push(bl),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ol.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Sl);for(var r=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,h=0,u=r.length;h<u;++h)l=this.drawFlatCoordinates_(a,l,r[h],s);this.hitDetectionInstructions.push(bl),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(bl),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(bl),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Sl)},e}(Fl);const jl=Nl;var Bl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zl=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Bl(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var o=this.state,r=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(Sl),this.hitDetectionInstructions.push(Sl);for(var l=0;l<s;++l){var h=n[l],u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,h,i,!0,!a),p=[Ol.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(Tl),this.hitDetectionInstructions.push(Tl)),e=h}return r&&(this.instructions.push(El),this.hitDetectionInstructions.push(El)),a&&(this.instructions.push(bl),this.hitDetectionInstructions.push(bl)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ol.SET_FILL_STYLE,He]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ol.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,a,!1,!1);var l=[Ol.CIRCLE,s];this.instructions.push(Sl,l),this.hitDetectionInstructions.push(Sl,l),void 0!==n.fillStyle&&(this.instructions.push(El),this.hitDetectionInstructions.push(El)),void 0!==n.strokeStyle&&(this.instructions.push(bl),this.hitDetectionInstructions.push(bl)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ol.SET_FILL_STYLE,He]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ol.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,r,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ol.SET_FILL_STYLE,He]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ol.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,h=0,u=r.length;h<u;++h)l=this.drawFlatCoordinatess_(a,l,r[h],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=Co(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Fl);const Gl=zl;function Wl(t,e,n,i,o){var r,a,s,l,h,u,c,p,f,d=n,g=n,_=0,y=0,v=n;for(r=n;r<i;r+=o){var m=e[r],x=e[r+1];void 0!==l&&(p=m-l,f=x-h,s=Math.sqrt(p*p+f*f),void 0!==u&&(y+=a,Math.acos((u*p+c*f)/(a*s))>t&&(y>_&&(_=y,d=v,g=r),y=0,v=r-o)),a=s,u=p,c=f),l=m,h=x}return(y+=s)>_?[v,r]:[d,g]}var Xl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Zl=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",r.declutterImageWithText_=void 0,r}return Xl(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||i)){var r=this.coordinates,a=r.length,s=t.getType(),l=null,h=t.getStride();if("line"!==o.placement||s!=Vn&&s!=Jn&&s!=qn&&s!=Qn){var u=o.overflow?null:[];switch(s){case Un:case Hn:l=t.getFlatCoordinates();break;case Vn:l=t.getFlatMidpoint();break;case ti:l=t.getCenter();break;case Jn:l=t.getFlatMidpoints(),h=2;break;case qn:l=t.getFlatInteriorPoint(),o.overflow||u.push(l[2]/this.resolution),h=3;break;case Qn:var c=t.getFlatInteriorPoints();for(l=[],A=0,w=c.length;A<w;A+=3)o.overflow||u.push(c[A+2]/this.resolution),l.push(c[A],c[A+1]);if(0===l.length)return;h=2}if((I=this.appendFlatPointCoordinates(l,h))===a)return;if(u&&(I-a)/2!=l.length/h){var p=a/2;u=u.filter((function(t,e){var n=r[2*(p+e)]===l[e*h]&&r[2*(p+e)+1]===l[e*h+1];return n||--p,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=o.padding;if(f!=on&&(o.scale[0]<0||o.scale[1]<0)){var d=o.padding[0],g=o.padding[1],_=o.padding[2],y=o.padding[3];o.scale[0]<0&&(g=-g,y=-y),o.scale[1]<0&&(d=-d,_=-_),f=[d,g,_,y]}var v=this.pixelRatio;this.instructions.push([Ol.DRAW_IMAGE,a,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==on?on:f.map((function(t){return t*v})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var m=1/v;this.hitDetectionInstructions.push([Ol.DRAW_IMAGE,a,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,f,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!yt(this.getBufferedMaxExtent(),t.getExtent()))return;var x=void 0;if(l=t.getFlatCoordinates(),s==Vn)x=[l.length];else if(s==Jn)x=t.getEnds();else if(s==qn)x=t.getEnds().slice(0,1);else if(s==Qn){var C=t.getEndss();x=[];for(var A=0,w=C.length;A<w;++A)x.push(C[A][0])}this.beginGeometry(t,e);for(var E=o.textAlign,b=0,S=void 0,T=0,O=x.length;T<O;++T){if(null==E){var R=Wl(o.maxAngle,l,b,x[T],h);b=R[0],S=R[1]}else S=x[T];for(A=b;A<S;A+=h)r.push(l[A],l[A+1]);var I=r.length;b=x[T],this.drawChars_(a,I),a=I}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||en,textBaseline:e.textBaseline||nn,scale:e.scale});var r=this.fillKey_;n&&(r in this.fillStates||(this.fillStates[r]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,r=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=Yl[i.textBaseline],h=this.textOffsetY_*s,u=this.text_,c=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ol.DRAW_CHARS,t,e,l,i.overflow,a,i.maxAngle,s,h,o,c*s,u,r,1]),this.hitDetectionInstructions.push([Ol.DRAW_CHARS,t,e,l,i.overflow,a,i.maxAngle,1,h,o,c,u,r,1/s])},e.prototype.setTextStyle=function(t,e){var n,i,o;if(t){var r=t.getFill();r?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=il(r.getColor()||He)):(i=null,this.textFillState_=i);var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var s=a.getLineDash(),l=a.getLineDashOffset(),h=a.getWidth(),u=a.getMiterLimit();o.lineCap=a.getLineCap()||Je,o.lineDash=s?s.slice():Qe,o.lineDashOffset=void 0===l?0:l,o.lineJoin=a.getLineJoin()||$e,o.lineWidth=void 0===h?1:h,o.miterLimit=void 0===u?10:u,o.strokeStyle=il(a.getColor()||tn)}else o=null,this.textStrokeState_=o;n=this.textState_;var c=t.getFont()||qe;un(c);var p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||nn,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||on,n.scale=void 0===p?[1,1]:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:S(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+S(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Fl),Kl={Circle:Gl,Default:Fl,Image:kl,LineString:jl,Polygon:Gl,Text:Zl};const Ul=function(){function t(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var o=n[i].finish();t[e][i]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var o=i[e];return void 0===o&&(o=new(0,Kl[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o),o},t}(),Vl="Circle",ql="Default",Hl="Image",Jl="LineString",Ql="Polygon",$l="Text";function th(t,e,n,i,o,r,a,s,l,h,u,c){var p=t[e],f=t[e+1],d=0,g=0,_=0,y=0;function v(){d=p,g=f,p=t[e+=i],f=t[e+1],y+=_,_=Math.sqrt((p-d)*(p-d)+(f-g)*(f-g))}do{v()}while(e<n-i&&y+_<r);for(var m=0===_?0:(r-y)/_,x=St(d,p,m),C=St(g,f,m),A=e-i,w=y,E=r+s*l(h,o,u);e<n-i&&y+_<E;)v();var b,S=St(d,p,m=0===_?0:(E-y)/_),T=St(g,f,m);if(c){var O=[x,C,S,T];so(O,0,4,2,c,O,O),b=O[0]>O[2]}else b=x>S;var R,I=Math.PI,P=[],F=A+i===e;if(_=0,y=w,p=t[e=A],f=t[e+1],F){v(),R=Math.atan2(f-g,p-d),b&&(R+=R>0?-I:I);var M=(S+x)/2,L=(T+C)/2;return P[0]=[M,L,(E-r)/2,R,o],P}for(var k=0,D=o.length;k<D;){v();var N=Math.atan2(f-g,p-d);if(b&&(N+=N>0?-I:I),void 0!==R){var j=N-R;if(j+=j>I?-2*I:j<-I?2*I:0,Math.abs(j)>a)return null}R=N;for(var B=k,z=0;k<D;++k){var G=s*l(h,o[b?D-k-1:k],u);if(e+i<n&&y+_<r+z+G/2)break;z+=G}if(k!==B){var W=b?o.substring(D-B,D-k):o.substring(B,k);M=St(d,p,m=0===_?0:(r+z/2-y)/_),L=St(g,f,m),P.push([M,L,z/2,N,W]),r+=z}}return P}function eh(t,e,n,i){for(var o=t[e],r=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],h=t[s+1];a+=Math.sqrt((l-o)*(l-o)+(h-r)*(h-r)),o=l,r=h}return a}var nh=[1/0,1/0,-1/0,-1/0],ih=[],oh=[],rh=[],ah=[];function sh(t){return t[3].declutterBox}var lh=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function hh(t,e){return"start"!==e&&"end"!==e||lh.test(t)||(e="start"===e?"left":"right"),Yl[e]}var uh=function(){function t(t,e,n,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,i){var o=t+e+n+i;if(this.labels_[o])return this.labels_[o];var r=i?this.strokeStates[i]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],l=this.pixelRatio,h=[s.scale[0]*l,s.scale[1]*l],u=hh(t,s.textAlign||en),c=i&&r.lineWidth?r.lineWidth:0,p=t.split("\n"),f=p.length,d=[],g=function(t,e,n){for(var i=e.length,o=0,r=0;r<i;++r){var a=pn(t,e[r]);o=Math.max(o,a),n.push(a)}return o}(s.font,p,d),_=function(t){var e=hn[t];if(null==e){if(M){var n=Ye(t),i=cn(t,"Žg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else sn||((sn=document.createElement("div")).innerHTML="M",sn.style.minHeight="0",sn.style.maxHeight="none",sn.style.height="auto",sn.style.padding="0",sn.style.border="none",sn.style.position="absolute",sn.style.display="block",sn.style.left="-99999px"),sn.style.font=t,document.body.appendChild(sn),e=sn.offsetHeight,document.body.removeChild(sn);hn[t]=e}return e}(s.font),y=g+c,v=[],m=(y+2)*h[0],x=(_*f+c)*h[1],C={width:m<0?Math.floor(m):Math.ceil(m),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};1==h[0]&&1==h[1]||v.push("scale",h),v.push("font",s.font),i&&(v.push("strokeStyle",r.strokeStyle),v.push("lineWidth",c),v.push("lineCap",r.lineCap),v.push("lineJoin",r.lineJoin),v.push("miterLimit",r.miterLimit),(M?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[r.lineDash]),v.push("lineDashOffset",r.lineDashOffset))),n&&v.push("fillStyle",a.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var A,w=.5-u,E=u*y+w*c;if(i)for(A=0;A<f;++A)v.push("strokeText",[p[A],E+w*d[A],.5*(c+_)+A*_]);if(n)for(A=0;A<f;++A)v.push("fillText",[p[A],E+w*d[A],.5*(c+_)+A*_]);return this.labels_[o]=C,C},t.prototype.replayTextBackground_=function(t,e,n,i,o,r,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,o,r,a,s,l,h,u,c,p,f,d,g){var _,y=n-(a*=c[0]),v=i-(s*=c[1]),m=o+l>t?t-l:o,x=r+h>e?e-h:r,C=f[3]+m*c[0]+f[1],A=f[0]+x*c[1]+f[2],w=y-f[3],E=v-f[0];return(d||0!==u)&&(ih[0]=w,ah[0]=w,ih[1]=E,oh[1]=E,oh[0]=w+C,rh[0]=oh[0],rh[1]=E+A,ah[1]=rh[1]),0!==u?(z(_=G([1,0,0,1,0,0],n,i,1,1,u,-n,-i),ih),z(_,oh),z(_,rh),z(_,ah),$(Math.min(ih[0],oh[0],rh[0],ah[0]),Math.min(ih[1],oh[1],rh[1],ah[1]),Math.max(ih[0],oh[0],rh[0],ah[0]),Math.max(ih[1],oh[1],rh[1],ah[1]),nh)):$(Math.min(w,w+C),Math.min(E,E+A),Math.max(w,w+C),Math.max(E,E+A),nh),p&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:m,drawImageH:x,originX:l,originY:h,declutterBox:{minX:nh[0],minY:nh[1],maxX:nh[2],maxY:nh[3],value:g},canvasTransform:_,scale:c}},t.prototype.replayImageOrLabel_=function(t,e,n,i,o,r,a){var s=!(!r&&!a),l=i.declutterBox,h=t.canvas,u=a?a[2]*i.scale[0]/2:0;return l.minX-u<=h.width/e&&l.maxX+u>=0&&l.minY-u<=h.height/e&&l.maxY+u>=0&&(s&&this.replayTextBackground_(t,ih,oh,rh,ah,r,a),function(t,e,n,i,o,r,a,s,l,h,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,h),t.scale(u[0],u[1]),function(t,e){for(var n=t.contextInstructions,i=0,o=n.length;i<o;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):u[0]<0||u[1]<0?(t.translate(l,h),t.scale(u[0],u[1]),t.drawImage(i,o,r,a,s,0,0,a,s)):t.drawImage(i,o,r,a,s,l,h,a*u[0],s*u[1]),t.restore()}(t,i.canvasTransform,o,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=z(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var o=this.textStates[e],r=this.createLabel(t,e,i,n),a=this.strokeStates[n],s=this.pixelRatio,l=hh(t,o.textAlign||en),h=Yl[o.textBaseline||nn],u=a&&a.lineWidth?a.lineWidth:0;return{label:r,anchorX:l*(r.width/s-2*o.scale[0])+2*(.5-l)*u,anchorY:h*r.height/s+2*(.5-h)*u}},t.prototype.execute_=function(t,e,n,i,o,r,a,s){var l,h,u;this.pixelCoordinates_&&x(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ao(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=n,(h=this.renderedTransform_)[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5]);for(var c,p,f,d,g,_,y,v,m,C,A,w,E,b,S,T,O=0,R=i.length,I=0,P=0,F=0,M=null,L=null,k=this.coordinateCache_,D=this.viewRotation_,N=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,j={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},B=this.instructions!=i||this.overlaps?0:200;O<R;){var z=i[O];switch(z[0]){case Ol.BEGIN_GEOMETRY:E=z[1],T=z[3],E.getGeometry()?void 0===a||yt(a,T.getExtent())?++O:O=z[2]+1:O=z[2];break;case Ol.BEGIN_PATH:P>B&&(this.fill_(t),P=0),F>B&&(t.stroke(),F=0),P||F||(t.beginPath(),d=NaN,g=NaN),++O;break;case Ol.CIRCLE:var G=l[I=z[1]],W=l[I+1],X=l[I+2]-G,Y=l[I+3]-W,Z=Math.sqrt(X*X+Y*Y);t.moveTo(G+Z,W),t.arc(G,W,Z,0,2*Math.PI,!0),++O;break;case Ol.CLOSE_PATH:t.closePath(),++O;break;case Ol.CUSTOM:I=z[1],c=z[2];var K=z[3],U=z[4],V=6==z.length?z[5]:void 0;j.geometry=K,j.feature=E,O in k||(k[O]=[]);var q=k[O];V?V(l,I,c,2,q):(q[0]=l[I],q[1]=l[I+1],q.length=2),U(q,j),++O;break;case Ol.DRAW_IMAGE:I=z[1],c=z[2],v=z[3],p=z[4],f=z[5];var H=z[6],J=z[7],Q=z[8],$=z[9],tt=z[10],et=z[11],nt=z[12],it=z[13],ot=z[14];if(!v&&z.length>=19){m=z[18],C=z[19],A=z[20],w=z[21];var rt=this.drawLabelWithPointPlacement_(m,C,A,w);v=rt.label,z[3]=v;var at=z[22];p=(rt.anchorX-at)*this.pixelRatio,z[4]=p;var st=z[23];f=(rt.anchorY-st)*this.pixelRatio,z[5]=f,H=v.height,z[6]=H,it=v.width,z[13]=it}var lt=void 0;z.length>24&&(lt=z[24]);var ht=void 0,ut=void 0,ct=void 0;z.length>16?(ht=z[15],ut=z[16],ct=z[17]):(ht=on,ut=!1,ct=!1),tt&&N?et+=D:tt||N||(et-=D);for(var pt=0;I<c;I+=2)if(!(lt&&lt[pt++]<it/this.pixelRatio)){var ft=[t,e,v,Gt=this.calculateImageOrLabelDimensions_(v.width,v.height,l[I],l[I+1],it,H,p,f,Q,$,et,nt,o,ht,ut||ct,E),J,ut?M:null,ct?L:null],dt=void 0,gt=void 0;if(s&&ot){var _t=c-I;if(!ot[_t]){ot[_t]=ft;continue}if(dt=ot[_t],delete ot[_t],gt=sh(dt),s.collides(gt))continue}s&&s.collides(Gt.declutterBox)||(dt&&(s&&s.insert(gt),this.replayImageOrLabel_.apply(this,dt)),s&&s.insert(Gt.declutterBox),this.replayImageOrLabel_.apply(this,ft))}++O;break;case Ol.DRAW_CHARS:var vt=z[1],mt=z[2],xt=z[3],Ct=z[4];w=z[5];var At=z[6],wt=z[7],Et=z[8];A=z[9];var bt=z[10];m=z[11],C=z[12];var St=[z[13],z[13]],Tt=this.textStates[C],Ot=Tt.font,Rt=[Tt.scale[0]*wt,Tt.scale[1]*wt],It=void 0;Ot in this.widths_?It=this.widths_[Ot]:(It={},this.widths_[Ot]=It);var Pt=eh(l,vt,mt,2),Ft=Math.abs(Rt[0])*fn(Ot,m,It);if(Ct||Ft<=Pt){var Mt=this.textStates[C].textAlign,Lt=th(l,vt,mt,2,m,(Pt-Ft)*Yl[Mt],At,Math.abs(Rt[0]),fn,Ot,It,N?0:this.viewRotation_);t:if(Lt){var kt=[],Dt=void 0,Nt=void 0,jt=void 0,Bt=void 0,zt=void 0;if(A)for(Dt=0,Nt=Lt.length;Dt<Nt;++Dt){jt=(zt=Lt[Dt])[4],Bt=this.createLabel(jt,C,"",A),p=zt[2]+(Rt[0]<0?-bt:bt),f=xt*Bt.height+2*(.5-xt)*bt*Rt[1]/Rt[0]-Et;var Gt=this.calculateImageOrLabelDimensions_(Bt.width,Bt.height,zt[0],zt[1],Bt.width,Bt.height,p,f,0,0,zt[3],St,!1,on,!1,E);if(s&&s.collides(Gt.declutterBox))break t;kt.push([t,e,Bt,Gt,1,null,null])}if(w)for(Dt=0,Nt=Lt.length;Dt<Nt;++Dt){if(jt=(zt=Lt[Dt])[4],Bt=this.createLabel(jt,C,w,""),p=zt[2],f=xt*Bt.height-Et,Gt=this.calculateImageOrLabelDimensions_(Bt.width,Bt.height,zt[0],zt[1],Bt.width,Bt.height,p,f,0,0,zt[3],St,!1,on,!1,E),s&&s.collides(Gt.declutterBox))break t;kt.push([t,e,Bt,Gt,1,null,null])}s&&s.load(kt.map(sh));for(var Wt=0,Xt=kt.length;Wt<Xt;++Wt)this.replayImageOrLabel_.apply(this,kt[Wt])}}++O;break;case Ol.END_GEOMETRY:if(void 0!==r){var Yt=r(E=z[1],T);if(Yt)return Yt}++O;break;case Ol.FILL:B?P++:this.fill_(t),++O;break;case Ol.MOVE_TO_LINE_TO:for(I=z[1],c=z[2],b=l[I],y=(S=l[I+1])+.5|0,(_=b+.5|0)===d&&y===g||(t.moveTo(b,S),d=_,g=y),I+=2;I<c;I+=2)_=(b=l[I])+.5|0,y=(S=l[I+1])+.5|0,I!=c-2&&_===d&&y===g||(t.lineTo(b,S),d=_,g=y);++O;break;case Ol.SET_FILL_STYLE:M=z,this.alignFill_=z[2],P&&(this.fill_(t),P=0,F&&(t.stroke(),F=0)),t.fillStyle=z[1],++O;break;case Ol.SET_STROKE_STYLE:L=z,F&&(t.stroke(),F=0),this.setStrokeStyle_(t,z),++O;break;case Ol.STROKE:B?F++:t.stroke(),++O;break;default:++O}}P&&this.fill_(t),F&&t.stroke()},t.prototype.execute=function(t,e,n,i,o,r){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,o,void 0,void 0,r)},t.prototype.executeHitDetection=function(t,e,n,i,o){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,o)},t}();const ch=uh;var ph=[Ql,Vl,Jl,Hl,$l,ql],fh=function(){function t(t,e,n,i,o,r){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e];for(var o in i){var r=i[o];n[o]=new ch(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,o=t.length;i<o;++i)if(t[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r){var a=2*(i=Math.round(i))+1,s=G(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Ke(a,a));var h,u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):l||u.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(nt(h=[1/0,1/0,-1/0,-1/0],t),K(h,e*(this.renderBuffer_+i),h));var c,p=function(t){if(void 0!==dh[t])return dh[t];for(var e=2*t+1,n=t*t,i=new Array(n+1),o=0;o<=t;++o)for(var r=0;r<=t;++r){var a=o*o+r*r;if(a>n)break;var s=i[a];s||(s=[],i[a]=s),s.push(4*((t+o)*e+(t+r))+3),o>0&&s.push(4*((t-o)*e+(t+r))+3),r>0&&(s.push(4*((t+o)*e+(t-r))+3),o>0&&s.push(4*((t-o)*e+(t-r))+3))}for(var l=[],h=(o=0,i.length);o<h;++o)i[o]&&l.push.apply(l,i[o]);return dh[t]=l,l}(i);function f(t,e){for(var n=u.getImageData(0,0,a,a).data,s=0,l=p.length;s<l;s++)if(n[p[s]]>0){if(!r||c!==Hl&&c!==$l||-1!==r.indexOf(t)){var h=(p[s]-3)/4,f=i-h%a,d=i-(h/a|0),g=o(t,e,f*f+d*d);if(g)return g}u.clearRect(0,0,a,a);break}}var d,g,y,v,m,x=Object.keys(this.executorsByZIndex_).map(Number);for(x.sort(_),d=x.length-1;d>=0;--d){var C=x[d].toString();for(y=this.executorsByZIndex_[C],g=ph.length-1;g>=0;--g)if(void 0!==(v=y[c=ph[g]])&&(m=v.executeHitDetection(u,s,n,f,h)))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],o=e[2],r=e[3],a=[n,i,n,r,o,r,o,i];return ao(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Zt(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,i,o,r,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(_),this.maxExtent_&&(t.save(),this.clip(t,n));var l,h,u,c,p,f,d=r||ph;for(a&&s.reverse(),l=0,h=s.length;l<h;++l){var g=s[l].toString();for(p=this.executorsByZIndex_[g],u=0,c=d.length;u<c;++u)void 0!==(f=p[d[u]])&&f.execute(t,e,n,i,o,a)}this.maxExtent_&&t.restore()},t}(),dh={};const gh=fh;var _h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yh=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=o,l.viewRotation_=r,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return _h(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=ao(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var h=0,u=o.length;h<u;h+=2){var c=o[h]-this.imageAnchorX_,p=o[h+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=c+this.imageAnchorX_,d=p+this.imageAnchorY_;G(a,f,d,1,1,l,-f,-d),r.setTransform.apply(r,a),r.translate(f,d),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=ao(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var h=G(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);r.setTransform.apply(r,h),r.translate(s,l),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&r.strokeText(this.text_,s,l),this.textFillState_&&r.fillText(this.text_,s,l)}}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,a=ao(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)r.lineTo(a[l],a[l+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(yt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var o=t.getStride();return ao(i,0,i.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case Un:this.drawPoint(t);break;case Vn:this.drawLineString(t);break;case qn:this.drawPolygon(t);break;case Hn:this.drawMultiPoint(t);break;case Jn:this.drawMultiLineString(t);break;case Qn:this.drawMultiPolygon(t);break;case $n:this.drawGeometryCollection(t);break;case ti:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&yt(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),yt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(yt(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=r.length;s<l;++s)o=this.moveToLineTo_(i,o,r[s],a,!1);n.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),yt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),yt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];i=this.drawRings_(n,i,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(x(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:en;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var i=t.getColor();this.fillState_={fillStyle:il(i||He)}}else this.fillState_=null;if(e){var o=e.getColor(),r=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),h=e.getWidth(),u=e.getMiterLimit(),c=a||Qe;this.strokeState_={lineCap:void 0!==r?r:Je,lineDash:1===this.pixelRatio_?c:c.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==l?l:$e,lineWidth:(void 0!==h?h:1)*this.pixelRatio_,miterLimit:void 0!==u?u:10,strokeStyle:il(o||tn)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:il(n||He)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),h=i.getWidth(),u=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:Je,lineDash:a||Qe,lineDashOffset:s||0,lineJoin:void 0!==l?l:$e,lineWidth:void 0!==h?h:1,miterLimit:void 0!==u?u:10,strokeStyle:il(o||tn)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),_=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:qe,textAlign:void 0!==v?v:en,textBaseline:void 0!==m?m:nn},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},e}(Rl);const vh=yh,mh="fraction",xh="pixels",Ch="bottom-left",Ah="bottom-right",wh="top-left",Eh="top-right";var bh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sh=null,Th=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=r,s.size_=i,s.src_=n,s.tainted_,s}return bh(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){Sh||(Sh=Ke(1,1)),Sh.drawImage(this.image_,0,0);try{Sh.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Sh=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(qt)},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Ke(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Za(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&2===this.imageState_){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Ft(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,e.width,e.height),o=i.data,r=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],h=0,u=o.length;h<u;h+=4)o[h]*=r,o[h+1]*=a,o[h+2]*=s,o[h+3]*=l;n.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Vt),Oh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rh=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.opacity?i.opacity:1,r=void 0!==i.rotation?i.rotation:0,a=void 0!==i.scale?i.scale:1,s=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:o,rotation:r,scale:a,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:s})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:wh,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:mh,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:mh,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,h=void 0!==i.imgSize?i.imgSize:null,u=i.src;j(!(void 0!==u&&l),4),j(!l||l&&h,5),void 0!==u&&0!==u.length||!l||(u=l.src||S(l)),j(void 0!==u&&u.length>0,6);var c=void 0!==i.src?0:2;return n.color_=void 0!==i.color?Lt(i.color):null,n.iconImage_=function(t,e,n,i,o,r){var a=Bt.get(e,i,r);return a||(a=new Th(t,e,n,i,o,r),Bt.set(e,i,r,a)),a}(l,u,h,n.crossOrigin_,c,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:wh,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return Oh(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==mh||this.anchorYUnits_==mh){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==mh&&(t[0]*=e[0]),this.anchorYUnits_==mh&&(t[1]*=e[1])}if(this.anchorOrigin_!=wh){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Eh&&this.anchorOrigin_!=Ah||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Ch&&this.anchorOrigin_!=Ah||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=wh){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Eh&&this.offsetOrigin_!=Ah||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Ch&&this.offsetOrigin_!=Ah||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(qt,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(qt,t)},e}(nl);const Ih=Rh;var Ph=.5,Fh={Point:function(t,e,n,i,o){var r,a=n.getImage(),s=n.getText();if(o&&(t=o,r=a&&s&&s.getText()?{}:void 0),a){if(2!=a.getImageState())return;var l=t.getBuilder(n.getZIndex(),Hl);l.setImageStyle(a,r),l.drawPoint(e,i)}if(s&&s.getText()){var h=t.getBuilder(n.getZIndex(),$l);h.setTextStyle(s,r),h.drawText(e,i)}},LineString:function(t,e,n,i,o){var r=n.getStroke();if(r){var a=t.getBuilder(n.getZIndex(),Jl);a.setFillStrokeStyle(null,r),a.drawLineString(e,i)}var s=n.getText();if(s&&s.getText()){var l=(o||t).getBuilder(n.getZIndex(),$l);l.setTextStyle(s),l.drawText(e,i)}},Polygon:function(t,e,n,i,o){var r=n.getFill(),a=n.getStroke();if(r||a){var s=t.getBuilder(n.getZIndex(),Ql);s.setFillStrokeStyle(r,a),s.drawPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var h=(o||t).getBuilder(n.getZIndex(),$l);h.setTextStyle(l),h.drawText(e,i)}},MultiPoint:function(t,e,n,i,o){var r,a=n.getImage(),s=n.getText();if(o&&(t=o,r=a&&s&&s.getText()?{}:void 0),a){if(2!=a.getImageState())return;var l=t.getBuilder(n.getZIndex(),Hl);l.setImageStyle(a,r),l.drawMultiPoint(e,i)}if(s&&s.getText()){var h=(o||t).getBuilder(n.getZIndex(),$l);h.setTextStyle(s,r),h.drawText(e,i)}},MultiLineString:function(t,e,n,i,o){var r=n.getStroke();if(r){var a=t.getBuilder(n.getZIndex(),Jl);a.setFillStrokeStyle(null,r),a.drawMultiLineString(e,i)}var s=n.getText();if(s&&s.getText()){var l=(o||t).getBuilder(n.getZIndex(),$l);l.setTextStyle(s),l.drawText(e,i)}},MultiPolygon:function(t,e,n,i,o){var r=n.getFill(),a=n.getStroke();if(a||r){var s=t.getBuilder(n.getZIndex(),Ql);s.setFillStrokeStyle(r,a),s.drawMultiPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var h=(o||t).getBuilder(n.getZIndex(),$l);h.setTextStyle(l),h.drawText(e,i)}},GeometryCollection:function(t,e,n,i,o){var r,a,s=e.getGeometriesArray();for(r=0,a=s.length;r<a;++r)(0,Fh[s[r].getType()])(t,s[r],n,i,o)},Circle:function(t,e,n,i,o){var r=n.getFill(),a=n.getStroke();if(r||a){var s=t.getBuilder(n.getZIndex(),Vl);s.setFillStrokeStyle(r,a),s.drawCircle(e,i)}var l=n.getText();if(l&&l.getText()){var h=(o||t).getBuilder(n.getZIndex(),$l);h.setTextStyle(l),h.drawText(e,i)}}};function Mh(t,e){return parseInt(S(t),10)-parseInt(S(e),10)}function Lh(t,e){return.5*t/e}function kh(t,e,n,i,o,r,a){var s=!1,l=n.getImage();if(l){var h=l.getImageState();2==h||3==h?l.unlistenImageChange(o):(0==h&&l.load(),h=l.getImageState(),l.listenImageChange(o),s=!0)}return function(t,e,n,i,o,r){var a=n.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(i,o);n.getRenderer()?Dh(t,s,n,e):(0,Fh[s.getType()])(t,s,n,e,r)}}(t,e,n,i,r,a),s}function Dh(t,e,n,i){if(e.getType()!=$n)t.getBuilder(n.getZIndex(),ql).drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer());else for(var o=e.getGeometries(),r=0,a=o.length;r<a;++r)Dh(t,o[r],n,i)}var Nh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jh=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return Nh(e,t),e.prototype.renderWorlds=function(t,e,n){var i=e.extent,o=e.viewState,r=o.center,a=o.resolution,s=o.projection,l=o.rotation,h=s.getExtent(),u=this.getLayer().getSource(),c=e.pixelRatio,p=e.viewHints,f=!(p[0]||p[1]),d=this.context,g=Math.round(e.size[0]*c),_=Math.round(e.size[1]*c),y=u.getWrapX()&&s.canWrapX(),v=y?_t(h):null,m=y?Math.ceil((i[2]-h[2])/v)+1:1,x=y?Math.floor((i[0]-h[0])/v):0;do{var C=this.getRenderTransform(r,a,l,c,g,_,x*v);t.execute(d,1,C,l,f,void 0,n)}while(++x<m)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){!function(t,e,n,i,o,r,a){t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=a}(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),W(this.inversePixelTransform,this.pixelTransform);var o=X(this.pixelTransform);this.useContainer(e,o,i.opacity,this.getBackground(t));var r=this.context,a=r.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var h=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);a.width!=h||a.height!=u?(a.width=h,a.height=u,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||r.clearRect(0,0,h,u),this.preRender(r,t);var c=t.viewState,p=(c.projection,!1),f=!0;if(i.extent&&this.clipping){var d=Zi(i.extent);(p=(f=yt(d,t.extent))&&!H(d,t.extent))&&this.clipUnrotated(r,t,d)}f&&this.renderWorlds(s,t),p&&r.restore(),this.postRender(r,t);var g=Ze(i.opacity),_=this.container;return g!==_.style.opacity&&(_.style.opacity=g),this.renderedRotation_!==c.rotation&&(this.renderedRotation_=c.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];z(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,r=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),h=[],u=n[0]*Ph,c=n[1]*Ph;h.push(this.getRenderTransform(i,o,r,Ph,u,c,0).slice());var p=l.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!H(f,s)){for(var d=s[0],g=_t(f),y=0,v=void 0;d<f[0];)v=g*--y,h.push(this.getRenderTransform(i,o,r,Ph,u,c,v).slice()),d+=g;for(y=0,d=s[2];d>f[2];)v=g*++y,h.push(this.getRenderTransform(i,o,r,Ph,u,c,v).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,i,o,r,a){var s=Ke(t[0]*Ph,t[1]*Ph);s.imageSmoothingEnabled=!1;for(var l=s.canvas,h=new vh(s,Ph,o,null,a),u=n.length,c=Math.floor(16777215/u),p={},f=1;f<=u;++f){var d=n[f-1],g=d.getStyleFunction()||i;if(i){var y=g(d,r);if(y){Array.isArray(y)||(y=[y]);for(var v="#"+("000000"+(f*c).toString(16)).slice(-6),m=0,x=y.length;m<x;++m){var C=y[m],A=C.getGeometryFunction()(d);if(A&&yt(o,A.getExtent())){var w=C.clone(),E=w.getFill();E&&E.setColor(v);var b=w.getStroke();b&&(b.setColor(v),b.setLineDash(null)),w.setText(void 0);var S=C.getImage();if(S&&0!==S.getOpacity()){var T=S.getImageSize();if(!T)continue;var O=Ke(T[0],T[1],void 0,{alpha:!1}),R=O.canvas;O.fillStyle=v,O.fillRect(0,0,R.width,R.height),w.setImage(new Ih({img:R,imgSize:T,anchor:S.getAnchor(),anchorXUnits:xh,anchorYUnits:xh,offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var I=w.getZIndex()||0;(M=p[I])||(M={},p[I]=M,M.Polygon=[],M.Circle=[],M.LineString=[],M.Point=[]),M[A.getType().replace("Multi","")].push(A,w)}}}}}for(var P=Object.keys(p).map(Number).sort(_),F=(f=0,P.length);f<F;++f){var M=p[P[f]];for(var L in M){var k=M[L];for(m=0,x=k.length;m<x;m+=2){h.setStyle(k[m+1]);for(var D=0,N=e.length;D<N;++D)h.setTransform(e[D]),h.drawGeometry(k[m])}}}return s.getImageData(0,0,l.width,l.height)}(n,h,this.renderedFeatures_,l.getStyleFunction(),s,o,r)}e(function(t,e,n){var i=[];if(n){var o=Math.floor(Math.round(t[0])*Ph),r=Math.floor(Math.round(t[1])*Ph),a=4*(mt(o,0,n.width-1)+mt(r,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],h=n.data[a+2]+256*(l+256*s),u=Math.floor(16777215/e.length);h&&h%u==0&&i.push(e[h/u-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){var r=this;if(this.replayGroup_){var a,s=e.viewState.resolution,l=e.viewState.rotation,h=this.getLayer(),u={},c=function(t,e,n){var r=S(t),a=u[r];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return u[r]=!0,o.splice(o.lastIndexOf(a),1),i(t,h,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return u[r]=!0,i(t,h,e);o.push(u[r]={feature:t,layer:h,geometry:e,distanceSq:n,callback:i})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(i){return a=i.forEachFeatureAtCoordinate(t,s,l,n,c,i===r.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var i=t.viewHints[0],o=t.viewHints[1],r=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!r&&i||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,h=l.projection,u=l.resolution,c=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Mh);var g=l.center.slice(),_=K(s,f*u),y=_.slice(),v=[_.slice()],m=h.getExtent();if(n.getWrapX()&&h.canWrapX()&&!H(m,t.extent)){var C=_t(m),A=Math.max(_t(_)/2,C);_[0]=m[0]-A,_[2]=m[2]+A,Me(g,h);var w=function(t,e){var n=e.getExtent(),i=ht(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var o=_t(n),r=Math.floor((i[0]-n[0])/o)*o;t[0]-=r,t[2]-=r}return t}(v[0],h);w[0]<m[0]&&w[2]<m[2]?v.push([w[0]+C,w[1],w[2]+C,w[3]]):w[0]>m[0]&&w[2]>m[2]&&v.push([w[0]-C,w[1],w[2]-C,w[3]])}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&H(this.wrappedRenderedExtent_,_))return x(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E,b=new Ul(Lh(u,c),_,u,c);this.getLayer().getDeclutter()&&(E=new Ul(Lh(u,c),_,u,c));var S,T=Gi();if(T){for(var O=0,R=v.length;O<R;++O){var I=Yi(v[O]);n.loadFeatures(I,Ki(u),T)}S=Li(T,h)}else for(O=0,R=v.length;O<R;++O)n.loadFeatures(v[O],u,h);var P=function(t,e){var n=Lh(t,e);return n*n}(u,c),F=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,u)),n){var o=this.renderFeature(t,P,n,b,S,E);this.dirty_=this.dirty_||o}}.bind(this),M=Yi(_),L=n.getFeaturesInExtent(M);for(d&&L.sort(d),O=0,R=L.length;O<R;++O)F(L[O]);this.renderedFeatures_=L;var k=b.finish(),D=new gh(_,u,c,n.getOverlaps(),k,e.getRenderBuffer());return E&&(this.declutterExecutorGroup=new gh(_,u,c,n.getOverlaps(),E.finish(),e.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=y,this.wrappedRenderedExtent_=_,this.renderedCenter_=g,this.renderedProjection_=h,this.replayGroup_=D,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,o,r){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)a=kh(i,t,n[s],e,this.boundHandleStyleImageChange_,o,r)||a;else a=kh(i,t,n,e,this.boundHandleStyleImageChange_,o,r);return a},e}(Oa);const Bh=jh;var zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const Gh=function(t){function e(e){return t.call(this,e)||this}return zh(e,t),e.prototype.createRenderer=function(){return new Bh(this)},e}(Al),Wh=JSON.parse('{"aT":[{"dangerCount":3,"dangerLevel":1,"dangerPros":[{"dangerAreas":[{"areaName":"武川县上秃亥乡圪奔村","cityName":"呼和浩特"}],"provinceId":"15","provinceName":"内蒙古自治区","provinceShortName":"内蒙古"},{"dangerAreas":[{"areaName":"绥中县加碑岩乡窝岭村","cityName":"葫芦岛"}],"provinceId":"21","provinceName":"辽宁省","provinceShortName":"辽宁"},{"dangerAreas":[{"areaName":"德保县都安乡伏计村陇意屯","cityName":"百色"}],"provinceId":"45","provinceName":"广西壮族自治区","provinceShortName":"广西"}]},{"dangerCount":93,"dangerLevel":2,"dangerPros":[{"dangerAreas":[{"areaName":"成吉思汗大街道代洲营村","cityName":"呼和浩特"},{"areaName":"成吉思汗大街道毫沁营村","cityName":"呼和浩特"},{"areaName":"敕勒川街道怡水园社区","cityName":"呼和浩特"},{"areaName":"东风路街道丽苑社区","cityName":"呼和浩特"},{"areaName":"东影北街社区","cityName":"呼和浩特"},{"areaName":"芳汀花园社区","cityName":"呼和浩特"},{"areaName":"回民区环河街街道县府街社区","cityName":"呼和浩特"},{"areaName":"巨海社区","cityName":"呼和浩特"},{"areaName":"军区第三干休所社区","cityName":"呼和浩特"},{"areaName":"林县经济开发区第一农场","cityName":"呼和浩特"},{"areaName":"赛罕区巴彦镇学苑社区","cityName":"呼和浩特"},{"areaName":"赛罕区昭乌达南路街道小台什社区","cityName":"呼和浩特"},{"areaName":"土左旗白庙子镇碱房村","cityName":"呼和浩特"},{"areaName":"土左旗白庙子镇瓦房院新村","cityName":"呼和浩特"},{"areaName":"武川县可镇新东街社区","cityName":"呼和浩特"},{"areaName":"乌兰察布路街道长乐宫社区","cityName":"呼和浩特"},{"areaName":"新城区成吉思汗街道东河社区","cityName":"呼和浩特"},{"areaName":"祥园社区","cityName":"呼和浩特"},{"areaName":"玉泉区石东路街道苁蓉社区","cityName":"呼和浩特"},{"areaName":"玉泉区兴隆巷街道四里营东社区","cityName":"呼和浩特"},{"areaName":"玉泉区兴隆巷街道小黑河镇祥和苑社区","cityName":"呼和浩特"},{"areaName":"攸攸板镇攸攸板村","cityName":"呼和浩特"},{"areaName":"中专路街道园艺所社区","cityName":"呼和浩特"},{"areaName":"满洲里市南区街道","cityName":"呼伦贝尔"}],"provinceId":"15","provinceName":"内蒙古自治区","provinceShortName":"内蒙古"},{"dangerAreas":[{"areaName":"绥中县绥中镇工人社区盛华园二期","cityName":"葫芦岛"}],"provinceId":"21","provinceName":"辽宁省","provinceShortName":"辽宁"},{"dangerAreas":[{"areaName":"爱辉区鹿源春社区金达之家小区中房49号楼","cityName":"黑河"},{"areaName":"爱辉区武庙屯社区之路佳苑小区4号楼","cityName":"黑河"},{"areaName":"爱辉区向阳社区水岸阳光小区9号楼","cityName":"黑河"}],"provinceId":"23","provinceName":"黑龙江省","provinceShortName":"黑龙江"},{"dangerAreas":[{"areaName":"常熟市紫晶城5幢","cityName":"苏州","X":"120.62","Y":"31.31"},{"areaName":"常熟市中欧假日花园9幢","cityName":"苏州"},{"areaName":"姑苏区大竹园3号楼","cityName":"苏州"},{"areaName":"姑苏区天辰花园小区18幢","cityName":"苏州"},{"areaName":"姑苏区吴门桥街道长欣苑南区4幢","cityName":"苏州"},{"areaName":"姑苏区胥江路361号（东方苑）1幢","cityName":"苏州"},{"areaName":"姑苏区永林二区12幢","cityName":"苏州"},{"areaName":"苏州工业园区东城郡115幢","cityName":"苏州"},{"areaName":"苏州工业园区东湖大郡花园二期22幢","cityName":"苏州"},{"areaName":"苏州工业园区凤凰城49幢","cityName":"苏州"},{"areaName":"苏州工业园区湖畔天城花园16幢","cityName":"苏州"},{"areaName":"苏州工业园区花语江南20幢","cityName":"苏州"},{"areaName":"苏州工业园区京隆生活区","cityName":"苏州"},{"areaName":"苏州工业园区锦溪苑26幢","cityName":"苏州"},{"areaName":"苏州工业园区绿地·华尔道名邸小区","cityName":"苏州"},{"areaName":"苏州工业园区澜溪苑18幢","cityName":"苏州"},{"areaName":"苏州工业园区明日之星1幢","cityName":"苏州"},{"areaName":"苏州工业园区南山·丽舍40幢","cityName":"苏州"},{"areaName":"苏州工业园区文华公寓4号楼","cityName":"苏州"},{"areaName":"苏州工业园区夏家桥118号9幢","cityName":"苏州"},{"areaName":"苏州工业园区星胜客11幢","cityName":"苏州"},{"areaName":"苏州工业园区斜塘老街12号","cityName":"苏州"},{"areaName":"苏州工业园区阳浦路150号1幢","cityName":"苏州"},{"areaName":"吴江区八坼街道邮电街23号2幢","cityName":"苏州"},{"areaName":"吴江区江陵街道城南花苑2167幢","cityName":"苏州"},{"areaName":"吴江区盛泽镇绿洲华庭小区41栋","cityName":"苏州"},{"areaName":"吴江区长安花园21幢","cityName":"苏州"},{"areaName":"吴江区长安路2358号吴江科技创业园","cityName":"苏州"},{"areaName":"吴中区碧堤半岛53幢","cityName":"苏州"},{"areaName":"吴中区碧水湾花园60幢","cityName":"苏州"},{"areaName":"吴中区郭巷街道独墅湖西金悦花园一期19幢","cityName":"苏州"},{"areaName":"吴中区郭巷街道国泰社区国泰一村105幢","cityName":"苏州"},{"areaName":"吴中区郭巷街道建发独墅湾82幢","cityName":"苏州"},{"areaName":"吴中区郭巷街道双湾花园35幢","cityName":"苏州"},{"areaName":"吴中区龙西新村（箭阙苑）40幢","cityName":"苏州"},{"areaName":"吴中区甪直镇长巨村下扒浜马娄里172号","cityName":"苏州"},{"areaName":"吴中区木渎镇沈巷村47～69号","cityName":"苏州"},{"areaName":"吴中区水岸清华97幢","cityName":"苏州"},{"areaName":"吴中区世茂石湖湾花园二期273幢","cityName":"苏州"},{"areaName":"吴中区尹山湖景花园三期43幢","cityName":"苏州"},{"areaName":"相城区北桥街道漕韵家园28幢","cityName":"苏州"},{"areaName":"相城区北桥街道盛北花园45幢","cityName":"苏州"},{"areaName":"相城区官渡花园26幢","cityName":"苏州"},{"areaName":"相城区合景峰汇8期12幢","cityName":"苏州"},{"areaName":"相城区苏州万科魅力花园3幢","cityName":"苏州"},{"areaName":"相城区万宇名都花园5幢","cityName":"苏州"},{"areaName":"张家港市凤凰镇金谷小区18、19幢","cityName":"苏州"},{"areaName":"张家港市凤凰镇双龙花园62幢","cityName":"苏州"},{"areaName":"张家港市杨舍镇君临新城6号楼","cityName":"苏州"},{"areaName":"张家港市杨舍镇民丰苑西区21幢、29幢","cityName":"苏州"}],"provinceId":"32","provinceName":"江苏省","provinceShortName":"江苏"},{"dangerAreas":[{"areaName":"龙岗区坂田街道马安堂社区侨联东10巷1号顺兴楼","cityName":"深圳"},{"areaName":"罗湖区东门街道新园路明华广场1至6楼（含6A与M层）商业区","cityName":"深圳"},{"areaName":"中兴路高时石材B区A钢构厂房","cityName":"深圳"}],"provinceId":"44","provinceName":"广东省","provinceShortName":"广东"},{"dangerAreas":[{"areaName":"城关镇隆盛社区东蒙荣盛二巷25号","cityName":"百色"},{"areaName":"城关镇隆盛社区盛象名都小区","cityName":"百色"},{"areaName":"都安乡坡那村多麦屯","cityName":"百色"},{"areaName":"德保县都安乡福记村山金屯","cityName":"百色"},{"areaName":"德保县维也纳酒店（德保腾飞广场店）","cityName":"百色"},{"areaName":"东凌镇登限村念洞屯","cityName":"百色"},{"areaName":"敬德镇陇正村多果屯","cityName":"百色"},{"areaName":"靖西市武平镇大道街大定屯","cityName":"百色"},{"areaName":"莲城社区德立山庄","cityName":"百色"},{"areaName":"弄贴村新村屯","cityName":"百色"}],"provinceId":"45","provinceName":"广西壮族自治区","provinceShortName":"广西"},{"dangerAreas":[{"areaName":"麻栗坡县杨万乡哪都村委会达干村小组","cityName":"文山州"},{"areaName":"河口县河口农场23队","cityName":"红河州"}],"provinceId":"53","provinceName":"云南省","provinceShortName":"云南"}]}]}'),Xh=n.p+"images/marker.png",Yh=Oi("EPSG:3857"),Zh=Yh.getExtent(),Kh=_t(Zh)/256,Uh=new Array(19),Vh=new Array(19);for(let t=0;t<=19;++t)Uh[t]=Kh/Math.pow(2,t),Vh[t]=t;let qh=new ya({target:"map",layers:[new ja({opacity:.7,source:new Ds({attributions:'Tiles © <a href="https://mrdata.usgs.gov/geology/state/" target="_blank">USGS</a>',url:"http://t0.tianditu.gov.cn/vec_w/wmts?tk=1b5c70b0b006efdd020b4e374c73b1b9",layer:"vec",matrixSet:"w",format:"tiles",projection:Yh,tileGrid:new Bs({origin:dt(Zh),resolutions:Uh,matrixIds:Vh}),style:"default",wrapX:!0})})],view:new qo({projection:Yh,center:Fi([120.62,31.31]),zoom:12})});for(var Hh=[],Jh=0;Jh<Wh.aT.length;Jh++)if(2==Wh.aT[Jh].dangerLevel){var Qh=Wh.aT[Jh];Qh=Qh.dangerPros;for(var $h=0;$h<Qh.length;$h++)if("江苏"==Qh[$h].provinceShortName){Qh=(Qh=Qh[$h]).dangerAreas;for(var tu=0;tu<Qh.length;tu++)"苏州"==Qh[tu].cityName&&Hh.push(Qh[tu])}}Hh[0];const eu=new vl({image:new Ih({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",color:"#ffffff",src:Xh})});var nu=new Ws({geometry:new Fo(Fi([120.62,31.31]))});nu.setStyle(eu);var iu=new Gh({source:new tl({features:[nu]})});qh.addLayer(iu)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WG54QixXQUFZQSxHQUNaak8sT0FBUWdsQixHQUFXLENBQUMsT0FBUSxRQUM1QnBYLEtBQU0sT0FNZCxJQURBLElBQUk2M0UsR0FBVyxHQUNOajRGLEdBQUcsRUFBRUEsR0FBRSxhQUFpQkEsS0FDN0IsR0FBZ0MsR0FBNUIsTUFBVUEsSUFBR2s0RixZQUFpQixDQUM5QixJQUFJQyxHQUFhLE1BQVVuNEYsSUFDM0JtNEYsR0FBYUEsR0FBV0MsV0FFeEIsSUFBSyxJQUFJaDJFLEdBQUksRUFBRUEsR0FBRSsxRSxHQUFXcjRGLE9BQU9zaUIsS0FDL0IsR0FBdUMsTUFBbkMrMUUsR0FBVy8xRSxJQUFHaTJFLGtCQUEwQixDQUV4Q0YsSUFEQUEsR0FBYUEsR0FBVy8xRSxLQUNBazJFLFlBRXhCLElBQUssSUFBSTkzRixHQUFHLEVBQUVBLEdBQUUyM0YsR0FBV3I0RixPQUFPVSxLQUNBLE1BQTFCMjNGLEdBQVczM0YsSUFBRyszRixVQUVkTixHQUFTaDVGLEtBQUtrNUYsR0FBVzMzRixNQVEvQnkzRixHQUFTLEdBTXZCLE1BQU1PLEdBQVksSUFBSSxHQUFNLENBQ3hCbnZDLE1BQU8sSUFBSSxHQUFLLENBQ1oxdUIsT0FBUSxDQUFDLEdBQUssSUFDZDYzRCxhQUFjLFdBQ2RHLGFBQWMsU0FDaEJoK0UsTUFBTyxVQUNQbEssSUFBS2d1RixPQUlYLElBQUk3MkUsR0FBVSxJQUFJLEdBQVEsQ0FDdEJDLFNBQVUsSUFBSSxHQUFNMlYsR0FBVyxDQUFDLE9BQU8sV0FNM0M1VixHQUFRbW1ELFNBQVN5d0IsSUFDakIsSUFJSSxHQUFRLElBQUksR0FBWSxDQUN4Qm4zRixPQUxTLElBQUlxM0YsR0FBYSxDQUMxQmpqRCxTQUFVLENBQUM3ekIsUUFNZm8yRSxHQUFTampELFNBQVMsSyIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9vbC5jc3MiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvcmJ1c2gvcmJ1c2gubWluLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvb2wuY3NzP2VlM2MiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL0Rpc3Bvc2FibGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2FycmF5LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3V0aWwuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL0Fzc2VydGlvbkVycm9yLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9oYXMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2Fzc2VydHMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50L0Nvcm5lci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9leHRlbnQvUmVsYXRpb25zaGlwLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9tYXRoLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9jb2xvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9FdmVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0RXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9vYmouanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Qcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1N0YXRlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9MYXllci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29vcmRpbmF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvTWFwLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2Nzcy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZG9tLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9Db21wb3NpdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL0NvbGxlY3Rpb25FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL0NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0dyb3VwLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wb2ludGVyL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwRXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9NYXBQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9UaWxlUXVldWUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVTdGF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9HZW9tZXRyeVR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovVW5pdHMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1ZpZXdQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvY29tbW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL1Byb2plY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovZXBzZzM4NTcuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovZXBzZzQzMjYuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovcHJvamVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovdHJhbnNmb3Jtcy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3BoZXJlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9wcm9qLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9jZW50ZXJjb25zdHJhaW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZXNvbHV0aW9uY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9lYXNpbmcuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnlMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vU2ltcGxlR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9jbG9zZXN0LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvZGVmbGF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW5mbGF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2FyZWEuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vTGluZWFyUmluZy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9Qb2ludC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NvbnRhaW5zLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJzZWN0c2V4dGVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NlZ21lbnRzLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvcmV2ZXJzZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L29yaWVudC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9Qb2x5Z29uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvVmlldy5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvVmlld0hpbnQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NpemUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1BsdWdnYWJsZU1hcC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9Db250cm9sLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL0F0dHJpYnV0aW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9ab29tLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Qcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUG9pbnRlci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL2NvbmRpdGlvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0JveC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ0JveC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFuLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvS2V5Q29kZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9LaW5ldGljLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BpbmNoWm9vbS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvTWFwLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVGlsZVByb3BlcnR5LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVGlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9MYXllci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVJhbmdlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvY29tbW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9UaWxlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9UaWxlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZUJhc2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVRpbGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ouanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9UaWxlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ovY29tbW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL0xSVUNhY2hlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC90aWxlY29vcmQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVDYWNoZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvVGlsZUdyaWQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvdGlsZXVybGZ1bmN0aW9uLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVXJsVGlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGVFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9XTVRTUmVxdWVzdEVuY29kaW5nLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC91cmkuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9XTVRTLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC90aWxlZ3JpZC9XTVRTLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9GZWF0dXJlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL1JCdXNoLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVmVjdG9yRXZlbnRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sb2FkaW5nc3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2Zvcm1hdC9Gb3JtYXRUeXBlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVmVjdG9yLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JbWFnZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvY29sb3JsaWtlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9SZWd1bGFyU2hhcGUuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvRmlsbC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3Ryb2tlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9TdHlsZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZVZlY3Rvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbWFnZUJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvUG9seWdvbkJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1RleHRCdWlsZGVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9UZXh0UGxhY2VtZW50LmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyVHlwZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvbGVuZ3RoLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uQW5jaG9yVW5pdHMuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25PcmlnaW4uanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZS5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbi5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3QuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL3ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9jb3Zfc3V6aG91XzIwMjIvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyLmpzIiwid2VicGFjazovL2Nvdl9zdXpob3VfMjAyMi8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9WZWN0b3IuanMiLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vaW1hZ2VzL21hcmtlci5wbmciLCJ3ZWJwYWNrOi8vY292X3N1emhvdV8yMDIyLy4vYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5vbC1ib3gge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJvcmRlcjogMS41cHggc29saWQgcmdiKDE3OSwxOTcsMjE5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTtcXG59XFxuXFxuLm9sLW1vdXNlLXBvc2l0aW9uIHtcXG4gIHRvcDogOHB4O1xcbiAgcmlnaHQ6IDhweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLm9sLXNjYWxlLWxpbmUge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDYwLDEzNiwwLjMpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxuICBwYWRkaW5nOiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1zY2FsZS1saW5lLWlubmVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XFxuICBib3JkZXItdG9wOiBub25lO1xcbiAgY29sb3I6ICNlZWU7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDFweDtcXG4gIHdpbGwtY2hhbmdlOiBjb250ZW50cywgd2lkdGg7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XFxufVxcbi5vbC1zY2FsZS1iYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxufVxcbi5vbC1zY2FsZS1zdGVwLW1hcmtlciB7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHotSW5kZXg6IDEwO1xcbn1cXG4ub2wtc2NhbGUtc3RlcC10ZXh0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogLTVweDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHotSW5kZXg6IDExO1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICB0ZXh0LXNoYWRvdzogLTJweCAwICNGRkZGRkYsIDAgMnB4ICNGRkZGRkYsIDJweCAwICNGRkZGRkYsIDAgLTJweCAjRkZGRkZGO1xcbn1cXG4ub2wtc2NhbGUtdGV4dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3R0b206IDI1cHg7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIHRleHQtc2hhZG93OiAtMnB4IDAgI0ZGRkZGRiwgMCAycHggI0ZGRkZGRiwgMnB4IDAgI0ZGRkZGRiwgMCAtMnB4ICNGRkZGRkY7XFxufVxcbi5vbC1zY2FsZS1zaW5nbGViYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbiAgei1JbmRleDogOTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLm9sLXVuc3VwcG9ydGVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC12aWV3cG9ydCwgLm9sLXVuc2VsZWN0YWJsZSB7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbn1cXG4ub2wtdmlld3BvcnQgY2FudmFzIHtcXG4gIGFsbDogdW5zZXQ7XFxufVxcbi5vbC1zZWxlY3RhYmxlIHtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogZGVmYXVsdDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgdXNlci1zZWxlY3Q6IHRleHQ7XFxufVxcbi5vbC1ncmFiYmluZyB7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICBjdXJzb3I6IC1tb3otZ3JhYmJpbmc7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbn1cXG4ub2wtZ3JhYiB7XFxuICBjdXJzb3I6IG1vdmU7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcXG4gIGN1cnNvcjogLW1vei1ncmFiO1xcbiAgY3Vyc29yOiBncmFiO1xcbn1cXG4ub2wtY29udHJvbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwYWRkaW5nOiAycHg7XFxufVxcbi5vbC1jb250cm9sOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcXG59XFxuLm9sLXpvb20ge1xcbiAgdG9wOiAuNWVtO1xcbiAgbGVmdDogLjVlbTtcXG59XFxuLm9sLXJvdGF0ZSB7XFxuICB0b3A6IC41ZW07XFxuICByaWdodDogLjVlbTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjI1cyBsaW5lYXIsIHZpc2liaWxpdHkgMHMgbGluZWFyO1xcbn1cXG4ub2wtcm90YXRlLm9sLWhpZGRlbiB7XFxuICBvcGFjaXR5OiAwO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMjVzIGxpbmVhciwgdmlzaWJpbGl0eSAwcyBsaW5lYXIgLjI1cztcXG59XFxuLm9sLXpvb20tZXh0ZW50IHtcXG4gIHRvcDogNC42NDNlbTtcXG4gIGxlZnQ6IC41ZW07XFxufVxcbi5vbC1mdWxsLXNjcmVlbiB7XFxuICByaWdodDogLjVlbTtcXG4gIHRvcDogLjVlbTtcXG59XFxuXFxuLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWFyZ2luOiAxcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBoZWlnaHQ6IDEuMzc1ZW07XFxuICB3aWR0aDogMS4zNzVlbTtcXG4gIGxpbmUtaGVpZ2h0OiAuNGVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDYwLDEzNiwwLjUpO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4ub2wtY29udHJvbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG59XFxuLm9sLXpvb20tZXh0ZW50IGJ1dHRvbiB7XFxuICBsaW5lLWhlaWdodDogMS40ZW07XFxufVxcbi5vbC1jb21wYXNzIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbn1cXG4ub2wtdG91Y2ggLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGZvbnQtc2l6ZTogMS41ZW07XFxufVxcbi5vbC10b3VjaCAub2wtem9vbS1leHRlbnQge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuLm9sLWNvbnRyb2wgYnV0dG9uOmhvdmVyLFxcbi5vbC1jb250cm9sIGJ1dHRvbjpmb2N1cyB7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxufVxcbi5vbC16b29tIC5vbC16b29tLWluIHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweCAycHggMCAwO1xcbn1cXG4ub2wtem9vbSAub2wtem9vbS1vdXQge1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDJweCAycHg7XFxufVxcblxcblxcbi5vbC1hdHRyaWJ1dGlvbiB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGJvdHRvbTogLjVlbTtcXG4gIHJpZ2h0OiAuNWVtO1xcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxLjNlbSk7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1mbG93OiByb3ctcmV2ZXJzZTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBhIHtcXG4gIGNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiB1bCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAxcHggLjVlbTtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgdGV4dC1zaGFkb3c6IDAgMCAycHggI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGxpIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBsaTpub3QoOmxhc3QtY2hpbGQpOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgXFxcIjtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGltZyB7XFxuICBtYXgtaGVpZ2h0OiAyZW07XFxuICBtYXgtd2lkdGg6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG4ub2wtYXR0cmlidXRpb24gYnV0dG9uIHtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtY29sbGFwc2VkIHVsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbjpub3QoLm9sLWNvbGxhcHNlZCkge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjgpO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSB7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweCAwIDA7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbi5vbC11bmNvbGxhcHNpYmxlIGltZyB7XFxuICBtYXJnaW4tdG9wOiAtLjJlbTtcXG4gIG1heC1oZWlnaHQ6IDEuNmVtO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA0LjVlbTtcXG4gIGxlZnQ6IC41ZW07XFxuICBoZWlnaHQ6IDIwMHB4O1xcbn1cXG4ub2wtem9vbXNsaWRlciBidXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbn1cXG5cXG4ub2wtdG91Y2ggLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIHtcXG4gIGxlZnQ6IDAuNWVtO1xcbiAgYm90dG9tOiAwLjVlbTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwLm9sLXVuY29sbGFwc2libGUge1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDAgNHB4IDAgMDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAsXFxuLm9sLW92ZXJ2aWV3bWFwIGJ1dHRvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzdiOThiYztcXG4gIGhlaWdodDogMTUwcHg7XFxuICBtYXJnaW46IDJweDtcXG4gIHdpZHRoOiAxNTBweDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSBidXR0b24ge1xcbiAgYm90dG9tOiAycHg7XFxuICBsZWZ0OiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1vdmVydmlld21hcC5vbC1jb2xsYXBzZWQgLm9sLW92ZXJ2aWV3bWFwLW1hcCxcXG4ub2wtb3ZlcnZpZXdtYXAub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7XFxufVxcbi5vbC1vdmVydmlld21hcC1ib3gge1xcbiAgYm9yZGVyOiAycHggZG90dGVkIHJnYmEoMCw2MCwxMzYsMC43KTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1ib3g6aG92ZXIge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvb2wvb2wuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0Usc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixvQ0FBb0M7RUFDcEMsdUNBQXVDO0FBQ3pDOztBQUVBO0VBQ0UsUUFBUTtFQUNSLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTO0VBQ1QsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsNEJBQTRCO0VBQzVCLHFCQUFxQjtBQUN2QjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTO0FBQ1g7QUFDQTtFQUNFLFVBQVU7RUFDVixZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixXQUFXO0FBQ2I7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osZUFBZTtFQUNmLFdBQVc7RUFDWCxjQUFjO0VBQ2QseUVBQXlFO0FBQzNFO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osY0FBYztFQUNkLHlFQUF5RTtBQUMzRTtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixVQUFVO0VBQ1Ysc0JBQXNCO0VBQ3RCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0UsMkJBQTJCO0VBQzNCLHlCQUF5QjtFQUN6QixzQkFBc0I7RUFDdEIscUJBQXFCO0VBQ3JCLGlCQUFpQjtFQUNqQiwwQ0FBMEM7QUFDNUM7QUFDQTtFQUNFLFVBQVU7QUFDWjtBQUNBO0VBQ0UsOEJBQThCO0VBQzlCLHlCQUF5QjtFQUN6QixzQkFBc0I7RUFDdEIscUJBQXFCO0VBQ3JCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0Usd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLFlBQVk7RUFDWixvQkFBb0I7RUFDcEIsaUJBQWlCO0VBQ2pCLFlBQVk7QUFDZDtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLHVDQUF1QztFQUN2QyxrQkFBa0I7RUFDbEIsWUFBWTtBQUNkO0FBQ0E7RUFDRSx1Q0FBdUM7QUFDekM7QUFDQTtFQUNFLFNBQVM7RUFDVCxVQUFVO0FBQ1o7QUFDQTtFQUNFLFNBQVM7RUFDVCxXQUFXO0VBQ1gscURBQXFEO0FBQ3ZEO0FBQ0E7RUFDRSxVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLDBEQUEwRDtBQUM1RDtBQUNBO0VBQ0UsWUFBWTtFQUNaLFVBQVU7QUFDWjtBQUNBO0VBQ0UsV0FBVztFQUNYLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsVUFBVTtFQUNWLFlBQVk7RUFDWixpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIsb0NBQW9DO0VBQ3BDLFlBQVk7RUFDWixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLFlBQVk7RUFDWixVQUFVO0FBQ1o7QUFDQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSxnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLFVBQVU7QUFDWjtBQUNBOztFQUVFLHFCQUFxQjtFQUNyQixvQ0FBb0M7QUFDdEM7QUFDQTtFQUNFLDBCQUEwQjtBQUM1QjtBQUNBO0VBQ0UsMEJBQTBCO0FBQzVCOzs7QUFHQTtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osV0FBVztFQUNYLDZCQUE2QjtFQUM3QixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLHFCQUFxQjtBQUN2QjtBQUNBO0VBQ0UsU0FBUztFQUNULGlCQUFpQjtFQUNqQixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGVBQWU7QUFDakI7QUFDQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLFlBQVk7QUFDZDtBQUNBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixzQkFBc0I7QUFDeEI7QUFDQTtFQUNFLGNBQWM7QUFDaEI7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0UsaUNBQWlDO0FBQ25DO0FBQ0E7RUFDRSxTQUFTO0VBQ1QsUUFBUTtFQUNSLHNCQUFzQjtBQUN4QjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFVBQVU7RUFDVixhQUFhO0FBQ2Y7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtBQUNmO0FBQ0E7RUFDRSxTQUFTO0VBQ1QsT0FBTztFQUNQLHdCQUF3QjtBQUMxQjtBQUNBOztFQUVFLGNBQWM7QUFDaEI7QUFDQTtFQUNFLHlCQUF5QjtFQUN6QixhQUFhO0VBQ2IsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0UsV0FBVztFQUNYLFNBQVM7RUFDVCxrQkFBa0I7QUFDcEI7QUFDQTs7RUFFRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLGlDQUFpQztBQUNuQztBQUNBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsWUFBWTtBQUNkXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5vbC1ib3gge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJvcmRlcjogMS41cHggc29saWQgcmdiKDE3OSwxOTcsMjE5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTtcXG59XFxuXFxuLm9sLW1vdXNlLXBvc2l0aW9uIHtcXG4gIHRvcDogOHB4O1xcbiAgcmlnaHQ6IDhweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLm9sLXNjYWxlLWxpbmUge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDYwLDEzNiwwLjMpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxuICBwYWRkaW5nOiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1zY2FsZS1saW5lLWlubmVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XFxuICBib3JkZXItdG9wOiBub25lO1xcbiAgY29sb3I6ICNlZWU7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDFweDtcXG4gIHdpbGwtY2hhbmdlOiBjb250ZW50cywgd2lkdGg7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XFxufVxcbi5vbC1zY2FsZS1iYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiA4cHg7XFxuICBsZWZ0OiA4cHg7XFxufVxcbi5vbC1zY2FsZS1zdGVwLW1hcmtlciB7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHotSW5kZXg6IDEwO1xcbn1cXG4ub2wtc2NhbGUtc3RlcC10ZXh0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogLTVweDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHotSW5kZXg6IDExO1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICB0ZXh0LXNoYWRvdzogLTJweCAwICNGRkZGRkYsIDAgMnB4ICNGRkZGRkYsIDJweCAwICNGRkZGRkYsIDAgLTJweCAjRkZGRkZGO1xcbn1cXG4ub2wtc2NhbGUtdGV4dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3R0b206IDI1cHg7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIHRleHQtc2hhZG93OiAtMnB4IDAgI0ZGRkZGRiwgMCAycHggI0ZGRkZGRiwgMnB4IDAgI0ZGRkZGRiwgMCAtMnB4ICNGRkZGRkY7XFxufVxcbi5vbC1zY2FsZS1zaW5nbGViYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbiAgei1JbmRleDogOTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLm9sLXVuc3VwcG9ydGVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC12aWV3cG9ydCwgLm9sLXVuc2VsZWN0YWJsZSB7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbn1cXG4ub2wtdmlld3BvcnQgY2FudmFzIHtcXG4gIGFsbDogdW5zZXQ7XFxufVxcbi5vbC1zZWxlY3RhYmxlIHtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogZGVmYXVsdDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgdXNlci1zZWxlY3Q6IHRleHQ7XFxufVxcbi5vbC1ncmFiYmluZyB7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICBjdXJzb3I6IC1tb3otZ3JhYmJpbmc7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbn1cXG4ub2wtZ3JhYiB7XFxuICBjdXJzb3I6IG1vdmU7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcXG4gIGN1cnNvcjogLW1vei1ncmFiO1xcbiAgY3Vyc29yOiBncmFiO1xcbn1cXG4ub2wtY29udHJvbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwYWRkaW5nOiAycHg7XFxufVxcbi5vbC1jb250cm9sOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcXG59XFxuLm9sLXpvb20ge1xcbiAgdG9wOiAuNWVtO1xcbiAgbGVmdDogLjVlbTtcXG59XFxuLm9sLXJvdGF0ZSB7XFxuICB0b3A6IC41ZW07XFxuICByaWdodDogLjVlbTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjI1cyBsaW5lYXIsIHZpc2liaWxpdHkgMHMgbGluZWFyO1xcbn1cXG4ub2wtcm90YXRlLm9sLWhpZGRlbiB7XFxuICBvcGFjaXR5OiAwO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMjVzIGxpbmVhciwgdmlzaWJpbGl0eSAwcyBsaW5lYXIgLjI1cztcXG59XFxuLm9sLXpvb20tZXh0ZW50IHtcXG4gIHRvcDogNC42NDNlbTtcXG4gIGxlZnQ6IC41ZW07XFxufVxcbi5vbC1mdWxsLXNjcmVlbiB7XFxuICByaWdodDogLjVlbTtcXG4gIHRvcDogLjVlbTtcXG59XFxuXFxuLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWFyZ2luOiAxcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBoZWlnaHQ6IDEuMzc1ZW07XFxuICB3aWR0aDogMS4zNzVlbTtcXG4gIGxpbmUtaGVpZ2h0OiAuNGVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDYwLDEzNiwwLjUpO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4ub2wtY29udHJvbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG59XFxuLm9sLXpvb20tZXh0ZW50IGJ1dHRvbiB7XFxuICBsaW5lLWhlaWdodDogMS40ZW07XFxufVxcbi5vbC1jb21wYXNzIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbn1cXG4ub2wtdG91Y2ggLm9sLWNvbnRyb2wgYnV0dG9uIHtcXG4gIGZvbnQtc2l6ZTogMS41ZW07XFxufVxcbi5vbC10b3VjaCAub2wtem9vbS1leHRlbnQge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuLm9sLWNvbnRyb2wgYnV0dG9uOmhvdmVyLFxcbi5vbC1jb250cm9sIGJ1dHRvbjpmb2N1cyB7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxufVxcbi5vbC16b29tIC5vbC16b29tLWluIHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweCAycHggMCAwO1xcbn1cXG4ub2wtem9vbSAub2wtem9vbS1vdXQge1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDJweCAycHg7XFxufVxcblxcblxcbi5vbC1hdHRyaWJ1dGlvbiB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGJvdHRvbTogLjVlbTtcXG4gIHJpZ2h0OiAuNWVtO1xcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxLjNlbSk7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1mbG93OiByb3ctcmV2ZXJzZTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBhIHtcXG4gIGNvbG9yOiByZ2JhKDAsNjAsMTM2LDAuNyk7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiB1bCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAxcHggLjVlbTtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgdGV4dC1zaGFkb3c6IDAgMCAycHggI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGxpIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbiBsaTpub3QoOmxhc3QtY2hpbGQpOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgXFxcIjtcXG59XFxuLm9sLWF0dHJpYnV0aW9uIGltZyB7XFxuICBtYXgtaGVpZ2h0OiAyZW07XFxuICBtYXgtd2lkdGg6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG4ub2wtYXR0cmlidXRpb24gYnV0dG9uIHtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtY29sbGFwc2VkIHVsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbjpub3QoLm9sLWNvbGxhcHNlZCkge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjgpO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSB7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweCAwIDA7XFxufVxcbi5vbC1hdHRyaWJ1dGlvbi5vbC11bmNvbGxhcHNpYmxlIGltZyB7XFxuICBtYXJnaW4tdG9wOiAtLjJlbTtcXG4gIG1heC1oZWlnaHQ6IDEuNmVtO1xcbn1cXG4ub2wtYXR0cmlidXRpb24ub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA0LjVlbTtcXG4gIGxlZnQ6IC41ZW07XFxuICBoZWlnaHQ6IDIwMHB4O1xcbn1cXG4ub2wtem9vbXNsaWRlciBidXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbn1cXG5cXG4ub2wtdG91Y2ggLm9sLXpvb21zbGlkZXIge1xcbiAgdG9wOiA1LjVlbTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIHtcXG4gIGxlZnQ6IDAuNWVtO1xcbiAgYm90dG9tOiAwLjVlbTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwLm9sLXVuY29sbGFwc2libGUge1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDAgNHB4IDAgMDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAsXFxuLm9sLW92ZXJ2aWV3bWFwIGJ1dHRvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1tYXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzdiOThiYztcXG4gIGhlaWdodDogMTUwcHg7XFxuICBtYXJnaW46IDJweDtcXG4gIHdpZHRoOiAxNTBweDtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSBidXR0b24ge1xcbiAgYm90dG9tOiAycHg7XFxuICBsZWZ0OiAycHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5vbC1vdmVydmlld21hcC5vbC1jb2xsYXBzZWQgLm9sLW92ZXJ2aWV3bWFwLW1hcCxcXG4ub2wtb3ZlcnZpZXdtYXAub2wtdW5jb2xsYXBzaWJsZSBidXR0b24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLm9sLW92ZXJ2aWV3bWFwOm5vdCgub2wtY29sbGFwc2VkKSB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7XFxufVxcbi5vbC1vdmVydmlld21hcC1ib3gge1xcbiAgYm9yZGVyOiAycHggZG90dGVkIHJnYmEoMCw2MCwxMzYsMC43KTtcXG59XFxuXFxuLm9sLW92ZXJ2aWV3bWFwIC5vbC1vdmVydmlld21hcC1ib3g6aG92ZXIge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiIWZ1bmN0aW9uKHQsaSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9aSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoaSk6KHQ9dHx8c2VsZikuUkJ1c2g9aSgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LHIsZSxhLGgpeyFmdW5jdGlvbiB0KG4scixlLGEsaCl7Zm9yKDthPmU7KXtpZihhLWU+NjAwKXt2YXIgbz1hLWUrMSxzPXItZSsxLGw9TWF0aC5sb2cobyksZj0uNSpNYXRoLmV4cCgyKmwvMyksdT0uNSpNYXRoLnNxcnQobCpmKihvLWYpL28pKihzLW8vMjwwPy0xOjEpLG09TWF0aC5tYXgoZSxNYXRoLmZsb29yKHItcypmL28rdSkpLGM9TWF0aC5taW4oYSxNYXRoLmZsb29yKHIrKG8tcykqZi9vK3UpKTt0KG4scixtLGMsaCl9dmFyIHA9bltyXSxkPWUseD1hO2ZvcihpKG4sZSxyKSxoKG5bYV0scCk+MCYmaShuLGUsYSk7ZDx4Oyl7Zm9yKGkobixkLHgpLGQrKyx4LS07aChuW2RdLHApPDA7KWQrKztmb3IoO2goblt4XSxwKT4wOyl4LS19MD09PWgobltlXSxwKT9pKG4sZSx4KTppKG4sKyt4LGEpLHg8PXImJihlPXgrMSkscjw9eCYmKGE9eC0xKX19KHQscixlfHwwLGF8fHQubGVuZ3RoLTEsaHx8bil9ZnVuY3Rpb24gaSh0LGksbil7dmFyIHI9dFtpXTt0W2ldPXRbbl0sdFtuXT1yfWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gdDxpPy0xOnQ+aT8xOjB9dmFyIHI9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9OSksdGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHQpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLHRoaXMuY2xlYXIoKX07ZnVuY3Rpb24gZSh0LGksbil7aWYoIW4pcmV0dXJuIGkuaW5kZXhPZih0KTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylpZihuKHQsaVtyXSkpcmV0dXJuIHI7cmV0dXJuLTF9ZnVuY3Rpb24gYSh0LGkpe2godCwwLHQuY2hpbGRyZW4ubGVuZ3RoLGksdCl9ZnVuY3Rpb24gaCh0LGksbixyLGUpe2V8fChlPXAobnVsbCkpLGUubWluWD0xLzAsZS5taW5ZPTEvMCxlLm1heFg9LTEvMCxlLm1heFk9LTEvMDtmb3IodmFyIGE9aTthPG47YSsrKXt2YXIgaD10LmNoaWxkcmVuW2FdO28oZSx0LmxlYWY/cihoKTpoKX1yZXR1cm4gZX1mdW5jdGlvbiBvKHQsaSl7cmV0dXJuIHQubWluWD1NYXRoLm1pbih0Lm1pblgsaS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGkubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxpLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksaS5tYXhZKSx0fWZ1bmN0aW9uIHModCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH1mdW5jdGlvbiBsKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9ZnVuY3Rpb24gZih0KXtyZXR1cm4odC5tYXhYLXQubWluWCkqKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubWF4WC10Lm1pblgrKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIG0odCxpKXtyZXR1cm4gdC5taW5YPD1pLm1pblgmJnQubWluWTw9aS5taW5ZJiZpLm1heFg8PXQubWF4WCYmaS5tYXhZPD10Lm1heFl9ZnVuY3Rpb24gYyh0LGkpe3JldHVybiBpLm1pblg8PXQubWF4WCYmaS5taW5ZPD10Lm1heFkmJmkubWF4WD49dC5taW5YJiZpLm1heFk+PXQubWluWX1mdW5jdGlvbiBwKHQpe3JldHVybntjaGlsZHJlbjp0LGhlaWdodDoxLGxlYWY6ITAsbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH19ZnVuY3Rpb24gZChpLG4scixlLGEpe2Zvcih2YXIgaD1bbixyXTtoLmxlbmd0aDspaWYoISgocj1oLnBvcCgpKS0obj1oLnBvcCgpKTw9ZSkpe3ZhciBvPW4rTWF0aC5jZWlsKChyLW4pL2UvMikqZTt0KGksbyxuLHIsYSksaC5wdXNoKG4sbyxvLHIpfX1yZXR1cm4gci5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsW10pfSxyLnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhLG49W107aWYoIWModCxpKSlyZXR1cm4gbjtmb3IodmFyIHI9dGhpcy50b0JCb3gsZT1bXTtpOyl7Zm9yKHZhciBhPTA7YTxpLmNoaWxkcmVuLmxlbmd0aDthKyspe3ZhciBoPWkuY2hpbGRyZW5bYV0sbz1pLmxlYWY/cihoKTpoO2ModCxvKSYmKGkubGVhZj9uLnB1c2goaCk6bSh0LG8pP3RoaXMuX2FsbChoLG4pOmUucHVzaChoKSl9aT1lLnBvcCgpfXJldHVybiBufSxyLnByb3RvdHlwZS5jb2xsaWRlcz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGE7aWYoIWModCxpKSlyZXR1cm4hMTtmb3IodmFyIG49W107aTspe2Zvcih2YXIgcj0wO3I8aS5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgZT1pLmNoaWxkcmVuW3JdLGE9aS5sZWFmP3RoaXMudG9CQm94KGUpOmU7aWYoYyh0LGEpKXtpZihpLmxlYWZ8fG0odCxhKSlyZXR1cm4hMDtuLnB1c2goZSl9fWk9bi5wb3AoKX1yZXR1cm4hMX0sci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiB0aGlzO2lmKHQubGVuZ3RoPHRoaXMuX21pbkVudHJpZXMpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW5zZXJ0KHRbaV0pO3JldHVybiB0aGlzfXZhciBuPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09bi5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxuKTtlbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8bi5oZWlnaHQpe3ZhciByPXRoaXMuZGF0YTt0aGlzLmRhdGE9bixuPXJ9dGhpcy5faW5zZXJ0KG4sdGhpcy5kYXRhLmhlaWdodC1uLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuZGF0YT1uO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuZGF0YS5oZWlnaHQtMSksdGhpc30sci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPXAoW10pLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiB0aGlzO2Zvcih2YXIgbixyLGEsaD10aGlzLmRhdGEsbz10aGlzLnRvQkJveCh0KSxzPVtdLGw9W107aHx8cy5sZW5ndGg7KXtpZihofHwoaD1zLnBvcCgpLHI9c1tzLmxlbmd0aC0xXSxuPWwucG9wKCksYT0hMCksaC5sZWFmKXt2YXIgZj1lKHQsaC5jaGlsZHJlbixpKTtpZigtMSE9PWYpcmV0dXJuIGguY2hpbGRyZW4uc3BsaWNlKGYsMSkscy5wdXNoKGgpLHRoaXMuX2NvbmRlbnNlKHMpLHRoaXN9YXx8aC5sZWFmfHwhbShoLG8pP3I/KG4rKyxoPXIuY2hpbGRyZW5bbl0sYT0hMSk6aD1udWxsOihzLnB1c2goaCksbC5wdXNoKG4pLG49MCxyPWgsaD1oLmNoaWxkcmVuWzBdKX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUudG9CQm94PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxyLnByb3RvdHlwZS5jb21wYXJlTWluWD1mdW5jdGlvbih0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfSxyLnByb3RvdHlwZS5jb21wYXJlTWluWT1mdW5jdGlvbih0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxyLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhPXQsdGhpc30sci5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1bXTt0Oyl0LmxlYWY/aS5wdXNoLmFwcGx5KGksdC5jaGlsZHJlbik6bi5wdXNoLmFwcGx5KG4sdC5jaGlsZHJlbiksdD1uLnBvcCgpO3JldHVybiBpfSxyLnByb3RvdHlwZS5fYnVpbGQ9ZnVuY3Rpb24odCxpLG4scil7dmFyIGUsaD1uLWkrMSxvPXRoaXMuX21heEVudHJpZXM7aWYoaDw9bylyZXR1cm4gYShlPXAodC5zbGljZShpLG4rMSkpLHRoaXMudG9CQm94KSxlO3J8fChyPU1hdGguY2VpbChNYXRoLmxvZyhoKS9NYXRoLmxvZyhvKSksbz1NYXRoLmNlaWwoaC9NYXRoLnBvdyhvLHItMSkpKSwoZT1wKFtdKSkubGVhZj0hMSxlLmhlaWdodD1yO3ZhciBzPU1hdGguY2VpbChoL28pLGw9cypNYXRoLmNlaWwoTWF0aC5zcXJ0KG8pKTtkKHQsaSxuLGwsdGhpcy5jb21wYXJlTWluWCk7Zm9yKHZhciBmPWk7Zjw9bjtmKz1sKXt2YXIgdT1NYXRoLm1pbihmK2wtMSxuKTtkKHQsZix1LHMsdGhpcy5jb21wYXJlTWluWSk7Zm9yKHZhciBtPWY7bTw9dTttKz1zKXt2YXIgYz1NYXRoLm1pbihtK3MtMSx1KTtlLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCxtLGMsci0xKSl9fXJldHVybiBhKGUsdGhpcy50b0JCb3gpLGV9LHIucHJvdG90eXBlLl9jaG9vc2VTdWJ0cmVlPWZ1bmN0aW9uKHQsaSxuLHIpe2Zvcig7ci5wdXNoKGkpLCFpLmxlYWYmJnIubGVuZ3RoLTEhPT1uOyl7Zm9yKHZhciBlPTEvMCxhPTEvMCxoPXZvaWQgMCxvPTA7bzxpLmNoaWxkcmVuLmxlbmd0aDtvKyspe3ZhciBzPWkuY2hpbGRyZW5bb10sbD1mKHMpLHU9KG09dCxjPXMsKE1hdGgubWF4KGMubWF4WCxtLm1heFgpLU1hdGgubWluKGMubWluWCxtLm1pblgpKSooTWF0aC5tYXgoYy5tYXhZLG0ubWF4WSktTWF0aC5taW4oYy5taW5ZLG0ubWluWSkpLWwpO3U8YT8oYT11LGU9bDxlP2w6ZSxoPXMpOnU9PT1hJiZsPGUmJihlPWwsaD1zKX1pPWh8fGkuY2hpbGRyZW5bMF19dmFyIG0sYztyZXR1cm4gaX0sci5wcm90b3R5cGUuX2luc2VydD1mdW5jdGlvbih0LGksbil7dmFyIHI9bj90OnRoaXMudG9CQm94KHQpLGU9W10sYT10aGlzLl9jaG9vc2VTdWJ0cmVlKHIsdGhpcy5kYXRhLGksZSk7Zm9yKGEuY2hpbGRyZW4ucHVzaCh0KSxvKGEscik7aT49MCYmZVtpXS5jaGlsZHJlbi5sZW5ndGg+dGhpcy5fbWF4RW50cmllczspdGhpcy5fc3BsaXQoZSxpKSxpLS07dGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKHIsZSxpKX0sci5wcm90b3R5cGUuX3NwbGl0PWZ1bmN0aW9uKHQsaSl7dmFyIG49dFtpXSxyPW4uY2hpbGRyZW4ubGVuZ3RoLGU9dGhpcy5fbWluRW50cmllczt0aGlzLl9jaG9vc2VTcGxpdEF4aXMobixlLHIpO3ZhciBoPXRoaXMuX2Nob29zZVNwbGl0SW5kZXgobixlLHIpLG89cChuLmNoaWxkcmVuLnNwbGljZShoLG4uY2hpbGRyZW4ubGVuZ3RoLWgpKTtvLmhlaWdodD1uLmhlaWdodCxvLmxlYWY9bi5sZWFmLGEobix0aGlzLnRvQkJveCksYShvLHRoaXMudG9CQm94KSxpP3RbaS0xXS5jaGlsZHJlbi5wdXNoKG8pOnRoaXMuX3NwbGl0Um9vdChuLG8pfSxyLnByb3RvdHlwZS5fc3BsaXRSb290PWZ1bmN0aW9uKHQsaSl7dGhpcy5kYXRhPXAoW3QsaV0pLHRoaXMuZGF0YS5oZWlnaHQ9dC5oZWlnaHQrMSx0aGlzLmRhdGEubGVhZj0hMSxhKHRoaXMuZGF0YSx0aGlzLnRvQkJveCl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEluZGV4PWZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIHIsZSxhLG8scyxsLHUsbT0xLzAsYz0xLzAscD1pO3A8PW4taTtwKyspe3ZhciBkPWgodCwwLHAsdGhpcy50b0JCb3gpLHg9aCh0LHAsbix0aGlzLnRvQkJveCksdj0oZT1kLGE9eCxvPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMCx1PXZvaWQgMCxvPU1hdGgubWF4KGUubWluWCxhLm1pblgpLHM9TWF0aC5tYXgoZS5taW5ZLGEubWluWSksbD1NYXRoLm1pbihlLm1heFgsYS5tYXhYKSx1PU1hdGgubWluKGUubWF4WSxhLm1heFkpLE1hdGgubWF4KDAsbC1vKSpNYXRoLm1heCgwLHUtcykpLE09ZihkKStmKHgpO3Y8bT8obT12LHI9cCxjPU08Yz9NOmMpOnY9PT1tJiZNPGMmJihjPU0scj1wKX1yZXR1cm4gcnx8bi1pfSxyLnByb3RvdHlwZS5fY2hvb3NlU3BsaXRBeGlzPWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj10LmxlYWY/dGhpcy5jb21wYXJlTWluWDpzLGU9dC5sZWFmP3RoaXMuY29tcGFyZU1pblk6bDt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLHIpPHRoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4sZSkmJnQuY2hpbGRyZW4uc29ydChyKX0sci5wcm90b3R5cGUuX2FsbERpc3RNYXJnaW49ZnVuY3Rpb24odCxpLG4scil7dC5jaGlsZHJlbi5zb3J0KHIpO2Zvcih2YXIgZT10aGlzLnRvQkJveCxhPWgodCwwLGksZSkscz1oKHQsbi1pLG4sZSksbD11KGEpK3UocyksZj1pO2Y8bi1pO2YrKyl7dmFyIG09dC5jaGlsZHJlbltmXTtvKGEsdC5sZWFmP2UobSk6bSksbCs9dShhKX1mb3IodmFyIGM9bi1pLTE7Yz49aTtjLS0pe3ZhciBwPXQuY2hpbGRyZW5bY107byhzLHQubGVhZj9lKHApOnApLGwrPXUocyl9cmV0dXJuIGx9LHIucHJvdG90eXBlLl9hZGp1c3RQYXJlbnRCQm94ZXM9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcj1uO3I+PTA7ci0tKW8oaVtyXSx0KX0sci5wcm90b3R5cGUuX2NvbmRlbnNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10Lmxlbmd0aC0xLG49dm9pZCAwO2k+PTA7aS0tKTA9PT10W2ldLmNoaWxkcmVuLmxlbmd0aD9pPjA/KG49dFtpLTFdLmNoaWxkcmVuKS5zcGxpY2Uobi5pbmRleE9mKHRbaV0pLDEpOnRoaXMuY2xlYXIoKTphKHRbaV0sdGhpcy50b0JCb3gpfSxyfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9vbC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vb2wuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0Rpc3Bvc2FibGVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBPYmplY3RzIHRoYXQgbmVlZCB0byBjbGVhbiB1cCBhZnRlciB0aGVtc2VsdmVzLlxuICovXG52YXIgRGlzcG9zYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEaXNwb3NhYmxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0ZW5zaW9uIHBvaW50IGZvciBkaXNwb3NhYmxlIG9iamVjdHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIERpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICByZXR1cm4gRGlzcG9zYWJsZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEaXNwb3NhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlzcG9zYWJsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvYXJyYXlcbiAqL1xuLyoqXG4gKiBQZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb24gdGhlIHByb3ZpZGVkIHNvcnRlZCBsaXN0IGFuZCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgaXRlbSBpZiBmb3VuZC4gSWYgaXQgY2FuJ3QgYmUgZm91bmQgaXQnbGwgcmV0dXJuIC0xLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvYmluYXJ5LXNlYXJjaFxuICpcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGhheXN0YWNrIEl0ZW1zIHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHsqfSBuZWVkbGUgVGhlIGl0ZW0gdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0X2NvbXBhcmF0b3JdIENvbXBhcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgaXRlbSBpZiBmb3VuZCwgLTEgaWYgbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGhheXN0YWNrLCBuZWVkbGUsIG9wdF9jb21wYXJhdG9yKSB7XG4gICAgdmFyIG1pZCwgY21wO1xuICAgIHZhciBjb21wYXJhdG9yID0gb3B0X2NvbXBhcmF0b3IgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgICB2YXIgbG93ID0gMDtcbiAgICB2YXIgaGlnaCA9IGhheXN0YWNrLmxlbmd0aDtcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAvKiBOb3RlIHRoYXQgXCIobG93ICsgaGlnaCkgPj4+IDFcIiBtYXkgb3ZlcmZsb3csIGFuZCByZXN1bHRzIGluIGEgdHlwZWNhc3RcbiAgICAgICAgICogdG8gZG91YmxlICh3aGljaCBnaXZlcyB0aGUgd3JvbmcgcmVzdWx0cykuICovXG4gICAgICAgIG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGNtcCA9ICtjb21wYXJhdG9yKGhheXN0YWNrW21pZF0sIG5lZWRsZSk7XG4gICAgICAgIGlmIChjbXAgPCAwLjApIHtcbiAgICAgICAgICAgIC8qIFRvbyBsb3cuICovXG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogS2V5IGZvdW5kIG9yIHRvbyBoaWdoICovXG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgICAgZm91bmQgPSAhY21wO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIEtleSBub3QgZm91bmQuICovXG4gICAgcmV0dXJuIGZvdW5kID8gbG93IDogfmxvdztcbn1cbi8qKlxuICogQ29tcGFyZSBmdW5jdGlvbiBmb3IgYXJyYXkgc29ydCB0aGF0IGlzIHNhZmUgZm9yIG51bWJlcnMuXG4gKiBAcGFyYW0geyp9IGEgVGhlIGZpcnN0IG9iamVjdCB0byBiZSBjb21wYXJlZC5cbiAqIEBwYXJhbSB7Kn0gYiBUaGUgc2Vjb25kIG9iamVjdCB0byBiZSBjb21wYXJlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gQSBuZWdhdGl2ZSBudW1iZXIsIHplcm8sIG9yIGEgcG9zaXRpdmUgbnVtYmVyIGFzIHRoZSBmaXJzdFxuICogICAgIGFyZ3VtZW50IGlzIGxlc3MgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuLyoqXG4gKiBXaGV0aGVyIHRoZSBhcnJheSBjb250YWlucyB0aGUgZ2l2ZW4gb2JqZWN0LlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byB0ZXN0IGZvciB0aGUgcHJlc2VuY2Ugb2YgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iaiBUaGUgb2JqZWN0IGZvciB3aGljaCB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBpbiB0aGUgYXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmNsdWRlcyhhcnIsIG9iaikge1xuICAgIHJldHVybiBhcnIuaW5kZXhPZihvYmopID49IDA7XG59XG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259IGNhbiB1c2UgYSBmdW5jdGlvblxuICogb2YgdGhpcyB0eXBlIHRvIGRldGVybWluZSB3aGljaCBuZWFyZXN0IHJlc29sdXRpb24gdG8gdXNlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyBhIHZhbHVlIGJldHdlZW4gdHdvIGFycmF5IGVudHJpZXMsXG4gKiBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBoaWdoZXIgZW50cnkgYW5kXG4gKiBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBsb3dlciBlbnRyeVxuICogYXMgYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgYHtudW1iZXJ9YC4gSWYgYSBuZWdhdGl2ZSBudW1iZXIgb3IgemVybyBpcyByZXR1cm5lZFxuICogdGhlIGxvd2VyIHZhbHVlIHdpbGwgYmUgdXNlZCwgaWYgYSBwb3NpdGl2ZSBudW1iZXIgaXMgcmV0dXJuZWQgdGhlIGhpZ2hlciB2YWx1ZVxuICogd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIpOiBudW1iZXJ9IE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYXJyIEFycmF5IGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IFRhcmdldC5cbiAqIEBwYXJhbSB7bnVtYmVyfE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gZGlyZWN0aW9uXG4gKiAgICAwIG1lYW5zIHJldHVybiB0aGUgbmVhcmVzdCxcbiAqICAgID4gMCBtZWFucyByZXR1cm4gdGhlIGxhcmdlc3QgbmVhcmVzdCxcbiAqICAgIDwgMCBtZWFucyByZXR1cm4gdGhlIHNtYWxsZXN0IG5lYXJlc3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyRmluZE5lYXJlc3QoYXJyLCB0YXJnZXQsIGRpcmVjdGlvbikge1xuICAgIHZhciBuID0gYXJyLmxlbmd0aDtcbiAgICBpZiAoYXJyWzBdIDw9IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0IDw9IGFycltuIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyW2ldIDw9IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpcmVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbih0YXJnZXQsIGFycltpIC0gMV0sIGFycltpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJyW2kgLSAxXSAtIHRhcmdldCA8IHRhcmdldCAtIGFycltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luIEJlZ2luIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlU3ViQXJyYXkoYXJyLCBiZWdpbiwgZW5kKSB7XG4gICAgd2hpbGUgKGJlZ2luIDwgZW5kKSB7XG4gICAgICAgIHZhciB0bXAgPSBhcnJbYmVnaW5dO1xuICAgICAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgICAgIGFycltlbmRdID0gdG1wO1xuICAgICAgICArK2JlZ2luO1xuICAgICAgICAtLWVuZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7IUFycmF5PFZBTFVFPnxWQUxVRX0gZGF0YSBUaGUgZWxlbWVudHMgb3IgYXJyYXlzIG9mIGVsZW1lbnRzIHRvIGFkZCB0byBhcnIuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhcnIsIGRhdGEpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gICAgdmFyIGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICAgIHZhciBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgICB2YXIgZm91bmQgPSBpID4gLTE7XG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbihWQUxVRSwgbnVtYmVyLCA/KSA6IGJvb2xlYW59IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbXBhcmUuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqIEByZXR1cm4ge1ZBTFVFfG51bGx9IFRoZSBlbGVtZW50IGZvdW5kIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFyciwgZnVuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoID4+PiAwO1xuICAgIHZhciB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gYXJyW2ldO1xuICAgICAgICBpZiAoZnVuYyh2YWx1ZSwgaSwgYXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIxIFRoZSBmaXJzdCBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMiBUaGUgc2Vjb25kIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB0d28gYXJyYXlzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhcnIxLCBhcnIyKSB7XG4gICAgdmFyIGxlbjEgPSBhcnIxLmxlbmd0aDtcbiAgICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjE7IGkrKykge1xuICAgICAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBTb3J0IHRoZSBwYXNzZWQgYXJyYXkgc3VjaCB0aGF0IHRoZSByZWxhdGl2ZSBvcmRlciBvZiBlcXVhbCBlbGVtZW50cyBpcyBwcmVzZXJ2ZWQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29ydGluZ19hbGdvcml0aG0jU3RhYmlsaXR5IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzb3J0IChtb2RpZmllcyBvcmlnaW5hbCkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigqLCAqKTogbnVtYmVyfSBjb21wYXJlRm5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFibGVTb3J0KGFyciwgY29tcGFyZUZuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG1wW2ldID0geyBpbmRleDogaSwgdmFsdWU6IGFycltpXSB9O1xuICAgIH1cbiAgICB0bXAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IHRtcFtpXS52YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBmdW5jKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIHZhciBmb3VuZCA9ICFhcnIuZXZlcnkoZnVuY3Rpb24gKGVsLCBpZHgpIHtcbiAgICAgICAgaW5kZXggPSBpZHg7XG4gICAgICAgIHJldHVybiAhZnVuYyhlbCwgaWR4LCBhcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZCA/IGluZGV4IDogLTE7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRfZnVuY10gQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zdHJpY3RdIFN0cmljdGx5IHNvcnRlZCAoZGVmYXVsdCBmYWxzZSkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NvcnRlZChhcnIsIG9wdF9mdW5jLCBvcHRfc3RyaWN0KSB7XG4gICAgdmFyIGNvbXBhcmUgPSBvcHRfZnVuYyB8fCBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uO1xuICAgIHJldHVybiBhcnIuZXZlcnkoZnVuY3Rpb24gKGN1cnJlbnRWYWwsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcyA9IGNvbXBhcmUoYXJyW2luZGV4IC0gMV0sIGN1cnJlbnRWYWwpO1xuICAgICAgICByZXR1cm4gIShyZXMgPiAwIHx8IChvcHRfc3RyaWN0ICYmIHJlcyA9PT0gMCkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Z1bmN0aW9uc1xuICovXG5pbXBvcnQgeyBlcXVhbHMgYXMgYXJyYXlFcXVhbHMgfSBmcm9tICcuL2FycmF5LmpzJztcbi8qKlxuICogQWx3YXlzIHJldHVybnMgdHJ1ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUUlVFKCkge1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyBmYWxzZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gRkFMU0UoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBBIHJldXNhYmxlIGZ1bmN0aW9uLCB1c2VkIGUuZy4gYXMgYSBkZWZhdWx0IGZvciBjYWxsYmFja3MuXG4gKlxuICogQHJldHVybiB7dm9pZH0gTm90aGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFZPSUQoKSB7IH1cbi8qKlxuICogV3JhcCBhIGZ1bmN0aW9uIGluIGFub3RoZXIgZnVuY3Rpb24gdGhhdCByZW1lbWJlcnMgdGhlIGxhc3QgcmV0dXJuLiAgSWYgdGhlXG4gKiByZXR1cm5lZCBmdW5jdGlvbiBpcyBjYWxsZWQgdHdpY2UgaW4gYSByb3cgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgYW5kIHRoZSBzYW1lXG4gKiB0aGlzIG9iamVjdCwgaXQgd2lsbCByZXR1cm4gdGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IGNhbGwgaW4gdGhlIHNlY29uZCBjYWxsLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uYW55KTogUmV0dXJuVHlwZX0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1lbW9pemUuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi5hbnkpOiBSZXR1cm5UeXBlfSBUaGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAdGVtcGxhdGUgUmV0dXJuVHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZU9uZShmbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge1JldHVyblR5cGV9ICovXG4gICAgdmFyIGxhc3RSZXN1bHQ7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxhbnk+fSAqL1xuICAgIHZhciBsYXN0QXJncztcbiAgICB2YXIgbGFzdFRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKCFjYWxsZWQgfHwgdGhpcyAhPT0gbGFzdFRoaXMgfHwgIWFycmF5RXF1YWxzKG5leHRBcmdzLCBsYXN0QXJncykpIHtcbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBsYXN0QXJncyA9IG5leHRBcmdzO1xuICAgICAgICAgICAgbGFzdFJlc3VsdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgfTtcbn1cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogKFQgfCBQcm9taXNlPFQ+KX0gZ2V0dGVyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWUgb3IgYSBwcm9taXNlIGZvciBhIHZhbHVlLlxuICogQHJldHVybiB7UHJvbWlzZTxUPn0gQSBwcm9taXNlIGZvciB0aGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1Byb21pc2UoZ2V0dGVyKSB7XG4gICAgZnVuY3Rpb24gcHJvbWlzZUdldHRlcigpIHtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBnZXR0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlR2V0dGVyKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5jdGlvbnMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3V0aWxcbiAqL1xuLyoqXG4gKiBAcmV0dXJuIHs/fSBBbnkgcmV0dXJuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWJzdHJhY3QoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7P30gKi8gKChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QuJyk7XG4gICAgfSkoKSk7XG59XG4vKipcbiAqIENvdW50ZXIgZm9yIGdldFVpZC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgdWlkQ291bnRlcl8gPSAwO1xuLyoqXG4gKiBHZXRzIGEgdW5pcXVlIElEIGZvciBhbiBvYmplY3QuIFRoaXMgbXV0YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgZnVydGhlciBjYWxsc1xuICogd2l0aCB0aGUgc2FtZSBvYmplY3QgYXMgYSBwYXJhbWV0ZXIgcmV0dXJucyB0aGUgc2FtZSB2YWx1ZS4gVW5pcXVlIElEcyBhcmUgZ2VuZXJhdGVkXG4gKiBhcyBhIHN0cmljdGx5IGluY3JlYXNpbmcgc2VxdWVuY2UuIEFkYXB0ZWQgZnJvbSBnb29nLmdldFVpZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZ2V0IHRoZSB1bmlxdWUgSUQgZm9yLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdW5pcXVlIElEIGZvciB0aGUgb2JqZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VWlkKG9iaikge1xuICAgIHJldHVybiBvYmoub2xfdWlkIHx8IChvYmoub2xfdWlkID0gU3RyaW5nKCsrdWlkQ291bnRlcl8pKTtcbn1cbi8qKlxuICogT3BlbkxheWVycyB2ZXJzaW9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBWRVJTSU9OID0gJzYuMTIuMCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvQXNzZXJ0aW9uRXJyb3JcbiAqL1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIEVycm9yIG9iamVjdCB0aHJvd24gd2hlbiBhbiBhc3NlcnRpb24gZmFpbGVkLiBUaGlzIGlzIGFuIEVDTUEtMjYyIEVycm9yLFxuICogZXh0ZW5kZWQgd2l0aCBhIGBjb2RlYCBwcm9wZXJ0eS5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvci5cbiAqL1xudmFyIEFzc2VydGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3NlcnRpb25FcnJvciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSBFcnJvciBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKGNvZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHBhdGggPSBWRVJTSU9OID09PSAnbGF0ZXN0JyA/IFZFUlNJT04gOiAndicgKyBWRVJTSU9OLnNwbGl0KCctJylbMF07XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0Fzc2VydGlvbiBmYWlsZWQuIFNlZSBodHRwczovL29wZW5sYXllcnMub3JnL2VuLycgK1xuICAgICAgICAgICAgcGF0aCArXG4gICAgICAgICAgICAnL2RvYy9lcnJvcnMvIycgK1xuICAgICAgICAgICAgY29kZSArXG4gICAgICAgICAgICAnIGZvciBkZXRhaWxzLic7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIGNvZGUuIFRoZSBtZWFuaW5nIG9mIHRoZSBjb2RlIGNhbiBiZSBmb3VuZCBvblxuICAgICAgICAgKiBodHRwczovL29wZW5sYXllcnMub3JnL2VuL2xhdGVzdC9kb2MvZXJyb3JzLyAocmVwbGFjZSBgbGF0ZXN0YCB3aXRoXG4gICAgICAgICAqIHRoZSB2ZXJzaW9uIGZvdW5kIGluIHRoZSBPcGVuTGF5ZXJzIHNjcmlwdCdzIGhlYWRlciBjb21tZW50IGlmIGEgdmVyc2lvblxuICAgICAgICAgKiBvdGhlciB0aGFuIHRoZSBsYXRlc3QgaXMgdXNlZCkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICAgICAgICAvLyBSZS1hc3NpZ24gbWVzc2FnZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SaWNoLUhhcnJpcy9idWJsZS9pc3N1ZXMvNDBcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEFzc2VydGlvbkVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IGRlZmF1bHQgQXNzZXJ0aW9uRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3NlcnRpb25FcnJvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaGFzXG4gKi9cbnZhciB1YSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpXG4gICAgOiAnJztcbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIEZpcmVmb3ggYXMgYnJvd3Nlci5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIEZJUkVGT1ggPSB1YS5pbmRleE9mKCdmaXJlZm94JykgIT09IC0xO1xuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggU2FmYXJpIGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBTQUZBUkkgPSB1YS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignY2hyb20nKSA9PSAtMTtcbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgV2ViS2l0IGVuZ2luZS5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIFdFQktJVCA9IHVhLmluZGV4T2YoJ3dlYmtpdCcpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdlZGdlJykgPT0gLTE7XG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBhIE1hYyBhcyBwbGF0Zm9ybS5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIE1BQyA9IHVhLmluZGV4T2YoJ21hY2ludG9zaCcpICE9PSAtMTtcbi8qKlxuICogVGhlIHJhdGlvIGJldHdlZW4gcGh5c2ljYWwgcGl4ZWxzIGFuZCBkZXZpY2UtaW5kZXBlbmRlbnQgcGl4ZWxzXG4gKiAoZGlwcykgb24gdGhlIGRldmljZSAoYHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvYCkuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgREVWSUNFX1BJWEVMX1JBVElPID0gdHlwZW9mIGRldmljZVBpeGVsUmF0aW8gIT09ICd1bmRlZmluZWQnID8gZGV2aWNlUGl4ZWxSYXRpbyA6IDE7XG4vKipcbiAqIFRoZSBleGVjdXRpb24gY29udGV4dCBpcyBhIHdvcmtlciB3aXRoIE9mZnNjcmVlbkNhbnZhcyBhdmFpbGFibGUuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTID0gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBPZmZzY3JlZW5DYW52YXMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlOyAvL2VzbGludC1kaXNhYmxlLWxpbmVcbi8qKlxuICogSW1hZ2UucHJvdG90eXBlLmRlY29kZSgpIGlzIHN1cHBvcnRlZC5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIElNQUdFX0RFQ09ERSA9IHR5cGVvZiBJbWFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSW1hZ2UucHJvdG90eXBlLmRlY29kZTtcbi8qKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXNzaXZlID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZSA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ18nLCBudWxsLCBvcHRpb25zKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ18nLCBudWxsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIHBhc3NpdmUgbm90IHN1cHBvcnRlZFxuICAgIH1cbiAgICByZXR1cm4gcGFzc2l2ZTtcbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Fzc2VydHNcbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuLyoqXG4gKiBAcGFyYW0geyp9IGFzc2VydGlvbiBBc3NlcnRpb24gd2UgZXhwZWN0ZWQgdG8gYmUgdHJ1dGh5LlxuICogQHBhcmFtIHtudW1iZXJ9IGVycm9yQ29kZSBFcnJvciBjb2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGFzc2VydGlvbiwgZXJyb3JDb2RlKSB7XG4gICAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKGVycm9yQ29kZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdHJhbnNmb3JtXG4gKi9cbmltcG9ydCB7IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIH0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQW4gYXJyYXkgcmVwcmVzZW50aW5nIGFuIGFmZmluZSAyZCB0cmFuc2Zvcm1hdGlvbiBmb3IgdXNlIHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvdHJhbnNmb3JtfSBmdW5jdGlvbnMuIFRoZSBhcnJheSBoYXMgNiBlbGVtZW50cy5cbiAqIEB0eXBlZGVmIHshQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhZmZpbmUgMmQgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLiBUaGUgZnVuY3Rpb25zIHdvcmsgb24gYW5cbiAqIGFycmF5IG9mIDYgZWxlbWVudHMuIFRoZSBlbGVtZW50IG9yZGVyIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgW1NWR01hdHJpeFxuICogaW50ZXJmYWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU1ZHTWF0cml4KSBhbmQgaXNcbiAqIGEgc3Vic2V0IChlbGVtZW50cyBhIHRvIGYpIG9mIGEgM8OXMyBtYXRyaXg6XG4gKiBgYGBcbiAqIFsgYSBjIGUgXVxuICogWyBiIGQgZiBdXG4gKiBbIDAgMCAxIF1cbiAqIGBgYFxuICovXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7VHJhbnNmb3JtfVxuICovXG52YXIgdG1wXyA9IG5ldyBBcnJheSg2KTtcbi8qKlxuICogQ3JlYXRlIGFuIGlkZW50aXR5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IElkZW50aXR5IHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gWzEsIDAsIDAsIDEsIDAsIDBdO1xufVxuLyoqXG4gKiBSZXNldHMgdGhlIGdpdmVuIHRyYW5zZm9ybSB0byBhbiBpZGVudGl0eSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUcmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldCh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gc2V0KHRyYW5zZm9ybSwgMSwgMCwgMCwgMSwgMCwgMCk7XG59XG4vKipcbiAqIE11bHRpcGx5IHRoZSB1bmRlcmx5aW5nIG1hdHJpY2VzIG9mIHR3byB0cmFuc2Zvcm1zIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBpblxuICogdGhlIGZpcnN0IHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBUcmFuc2Zvcm0gcGFyYW1ldGVycyBvZiBtYXRyaXggMS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMiBUcmFuc2Zvcm0gcGFyYW1ldGVycyBvZiBtYXRyaXggMi5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgbXVsdGlwbGllZCB3aXRoIHRyYW5zZm9ybTIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseSh0cmFuc2Zvcm0xLCB0cmFuc2Zvcm0yKSB7XG4gICAgdmFyIGExID0gdHJhbnNmb3JtMVswXTtcbiAgICB2YXIgYjEgPSB0cmFuc2Zvcm0xWzFdO1xuICAgIHZhciBjMSA9IHRyYW5zZm9ybTFbMl07XG4gICAgdmFyIGQxID0gdHJhbnNmb3JtMVszXTtcbiAgICB2YXIgZTEgPSB0cmFuc2Zvcm0xWzRdO1xuICAgIHZhciBmMSA9IHRyYW5zZm9ybTFbNV07XG4gICAgdmFyIGEyID0gdHJhbnNmb3JtMlswXTtcbiAgICB2YXIgYjIgPSB0cmFuc2Zvcm0yWzFdO1xuICAgIHZhciBjMiA9IHRyYW5zZm9ybTJbMl07XG4gICAgdmFyIGQyID0gdHJhbnNmb3JtMlszXTtcbiAgICB2YXIgZTIgPSB0cmFuc2Zvcm0yWzRdO1xuICAgIHZhciBmMiA9IHRyYW5zZm9ybTJbNV07XG4gICAgdHJhbnNmb3JtMVswXSA9IGExICogYTIgKyBjMSAqIGIyO1xuICAgIHRyYW5zZm9ybTFbMV0gPSBiMSAqIGEyICsgZDEgKiBiMjtcbiAgICB0cmFuc2Zvcm0xWzJdID0gYTEgKiBjMiArIGMxICogZDI7XG4gICAgdHJhbnNmb3JtMVszXSA9IGIxICogYzIgKyBkMSAqIGQyO1xuICAgIHRyYW5zZm9ybTFbNF0gPSBhMSAqIGUyICsgYzEgKiBmMiArIGUxO1xuICAgIHRyYW5zZm9ybTFbNV0gPSBiMSAqIGUyICsgZDEgKiBmMiArIGYxO1xuICAgIHJldHVybiB0cmFuc2Zvcm0xO1xufVxuLyoqXG4gKiBTZXQgdGhlIHRyYW5zZm9ybSBjb21wb25lbnRzIGEtZiBvbiBhIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBhIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIGIgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYyBUaGUgYyBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkIFRoZSBkIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGUgVGhlIGUgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZiBUaGUgZiBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IE1hdHJpeCB3aXRoIHRyYW5zZm9ybSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KHRyYW5zZm9ybSwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIHRyYW5zZm9ybVswXSA9IGE7XG4gICAgdHJhbnNmb3JtWzFdID0gYjtcbiAgICB0cmFuc2Zvcm1bMl0gPSBjO1xuICAgIHRyYW5zZm9ybVszXSA9IGQ7XG4gICAgdHJhbnNmb3JtWzRdID0gZTtcbiAgICB0cmFuc2Zvcm1bNV0gPSBmO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vKipcbiAqIFNldCB0cmFuc2Zvcm0gb24gb25lIG1hdHJpeCBmcm9tIGFub3RoZXIgbWF0cml4LlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIE1hdHJpeCB0byBzZXQgdHJhbnNmb3JtIHRvLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0yIE1hdHJpeCB0byBzZXQgdHJhbnNmb3JtIGZyb20uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIHdpdGggdHJhbnNmb3JtIGZyb20gdHJhbnNmb3JtMiBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RnJvbUFycmF5KHRyYW5zZm9ybTEsIHRyYW5zZm9ybTIpIHtcbiAgICB0cmFuc2Zvcm0xWzBdID0gdHJhbnNmb3JtMlswXTtcbiAgICB0cmFuc2Zvcm0xWzFdID0gdHJhbnNmb3JtMlsxXTtcbiAgICB0cmFuc2Zvcm0xWzJdID0gdHJhbnNmb3JtMlsyXTtcbiAgICB0cmFuc2Zvcm0xWzNdID0gdHJhbnNmb3JtMlszXTtcbiAgICB0cmFuc2Zvcm0xWzRdID0gdHJhbnNmb3JtMls0XTtcbiAgICB0cmFuc2Zvcm0xWzVdID0gdHJhbnNmb3JtMls1XTtcbiAgICByZXR1cm4gdHJhbnNmb3JtMTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4gY29vcmRpbmF0ZSB3aXRoIHRoZSBnaXZlbiB0cmFuc2Zvcm0gcmV0dXJuaW5nIHRoZVxuICogcmVzdWx0aW5nLCB0cmFuc2Zvcm1lZCBjb29yZGluYXRlLiBUaGUgY29vcmRpbmF0ZSB3aWxsIGJlIG1vZGlmaWVkIGluLXBsYWNlLlxuICpcbiAqIEBwYXJhbSB7VHJhbnNmb3JtfSB0cmFuc2Zvcm0gVGhlIHRyYW5zZm9ybWF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlIHRvIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfGltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHJldHVybiBjb29yZGluYXRlIHNvIHRoYXQgb3BlcmF0aW9ucyBjYW4gYmVcbiAqICAgICBjaGFpbmVkIHRvZ2V0aGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHkodHJhbnNmb3JtLCBjb29yZGluYXRlKSB7XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgICBjb29yZGluYXRlWzBdID0gdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF07XG4gICAgY29vcmRpbmF0ZVsxXSA9IHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdO1xuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBBcHBsaWVzIHJvdGF0aW9uIHRvIHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFucy5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSByb3RhdGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZSh0cmFuc2Zvcm0sIGFuZ2xlKSB7XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCBjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwKSk7XG59XG4vKipcbiAqIEFwcGxpZXMgc2NhbGUgdG8gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0geCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFNjYWxlIGZhY3RvciB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHNjYWxlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZSh0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgeCwgMCwgMCwgeSwgMCwgMCkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgc2NhbGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0YXJnZXQgVHJhbnNmb3JtIHRvIG92ZXJ3cml0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHkgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgc2NhbGUgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVNjYWxlKHRhcmdldCwgeCwgeSkge1xuICAgIHJldHVybiBzZXQodGFyZ2V0LCB4LCAwLCAwLCB5LCAwLCAwKTtcbn1cbi8qKlxuICogQXBwbGllcyB0cmFuc2xhdGlvbiB0byB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4IFRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkgVHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSB0cmFuc2xhdGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0cmFuc2Zvcm0sIGR4LCBkeSkge1xuICAgIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCAxLCAwLCAwLCAxLCBkeCwgZHkpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB0cmFuc2Zvcm0gZ2l2ZW4gYW4gaW5pdGlhbCB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCBhbmRcbiAqIGZpbmFsIHRyYW5zbGF0aW9uIChpbiB0aGF0IG9yZGVyIG9ubHksIG5vdCBjb21tdXRhdGl2ZSkuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUaGUgdHJhbnNmb3JtICh3aWxsIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDEgSW5pdGlhbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MSBJbml0aWFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gKGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MiBGaW5hbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MiBGaW5hbCB0cmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGNvbXBvc2l0ZSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlKHRyYW5zZm9ybSwgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSB7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHRyYW5zZm9ybVswXSA9IHN4ICogY29zO1xuICAgIHRyYW5zZm9ybVsxXSA9IHN5ICogc2luO1xuICAgIHRyYW5zZm9ybVsyXSA9IC1zeCAqIHNpbjtcbiAgICB0cmFuc2Zvcm1bM10gPSBzeSAqIGNvcztcbiAgICB0cmFuc2Zvcm1bNF0gPSBkeDIgKiBzeCAqIGNvcyAtIGR5MiAqIHN4ICogc2luICsgZHgxO1xuICAgIHRyYW5zZm9ybVs1XSA9IGR4MiAqIHN5ICogc2luICsgZHkyICogc3kgKiBjb3MgKyBkeTE7XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB0cmFuc2Zvcm0gZ2l2ZW4gYW4gaW5pdGlhbCB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCBhbmRcbiAqIGZpbmFsIHRyYW5zbGF0aW9uIChpbiB0aGF0IG9yZGVyIG9ubHksIG5vdCBjb21tdXRhdGl2ZSkuIFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtXG4gKiBzdHJpbmcgY2FuIGJlIGFwcGxpZWQgYXMgYHRyYW5zZm9ybWAgcHJvcGVydHkgb2YgYW4gSFRNTEVsZW1lbnQncyBzdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDEgSW5pdGlhbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MSBJbml0aWFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gKGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MiBGaW5hbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MiBGaW5hbCB0cmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29tcG9zaXRlIGNzcyB0cmFuc2Zvcm0uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlQ3NzVHJhbnNmb3JtKGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5Mikge1xuICAgIHJldHVybiB0b1N0cmluZyhjb21wb3NlKGNyZWF0ZSgpLCBkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpKTtcbn1cbi8qKlxuICogSW52ZXJ0IHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHNvdXJjZSBUaGUgc291cmNlIHRyYW5zZm9ybSB0byBpbnZlcnQuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgaW52ZXJ0ZWQgKHNvdXJjZSkgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KHNvdXJjZSkge1xuICAgIHJldHVybiBtYWtlSW52ZXJzZShzb3VyY2UsIHNvdXJjZSk7XG59XG4vKipcbiAqIEludmVydCB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0YXJnZXQgVHJhbnNmb3JtIHRvIGJlIHNldCBhcyB0aGUgaW52ZXJzZSBvZlxuICogICAgIHRoZSBzb3VyY2UgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBzb3VyY2UgVGhlIHNvdXJjZSB0cmFuc2Zvcm0gdG8gaW52ZXJ0LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGludmVydGVkICh0YXJnZXQpIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbnZlcnNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgdmFyIGRldCA9IGRldGVybWluYW50KHNvdXJjZSk7XG4gICAgYXNzZXJ0KGRldCAhPT0gMCwgMzIpOyAvLyBUcmFuc2Zvcm1hdGlvbiBtYXRyaXggY2Fubm90IGJlIGludmVydGVkXG4gICAgdmFyIGEgPSBzb3VyY2VbMF07XG4gICAgdmFyIGIgPSBzb3VyY2VbMV07XG4gICAgdmFyIGMgPSBzb3VyY2VbMl07XG4gICAgdmFyIGQgPSBzb3VyY2VbM107XG4gICAgdmFyIGUgPSBzb3VyY2VbNF07XG4gICAgdmFyIGYgPSBzb3VyY2VbNV07XG4gICAgdGFyZ2V0WzBdID0gZCAvIGRldDtcbiAgICB0YXJnZXRbMV0gPSAtYiAvIGRldDtcbiAgICB0YXJnZXRbMl0gPSAtYyAvIGRldDtcbiAgICB0YXJnZXRbM10gPSBhIC8gZGV0O1xuICAgIHRhcmdldFs0XSA9IChjICogZiAtIGQgKiBlKSAvIGRldDtcbiAgICB0YXJnZXRbNV0gPSAtKGEgKiBmIC0gYiAqIGUpIC8gZGV0O1xuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRldGVybWluYW50IG9mIHRoZSBnaXZlbiBtYXRyaXguXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IG1hdCBNYXRyaXguXG4gKiBAcmV0dXJuIHtudW1iZXJ9IERldGVybWluYW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQobWF0KSB7XG4gICAgcmV0dXJuIG1hdFswXSAqIG1hdFszXSAtIG1hdFsxXSAqIG1hdFsyXTtcbn1cbi8qKlxuICogQHR5cGUge0hUTUxFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xudmFyIHRyYW5zZm9ybVN0cmluZ0Rpdjtcbi8qKlxuICogQSByb3VuZGVkIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSB0cmFuc2Zvcm0uICBUaGlzIGNhbiBiZSB1c2VkXG4gKiBmb3IgQ1NTIHRyYW5zZm9ybXMuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IG1hdCBNYXRyaXguXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0cmFuc2Zvcm0gYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhtYXQpIHtcbiAgICB2YXIgdHJhbnNmb3JtU3RyaW5nID0gJ21hdHJpeCgnICsgbWF0LmpvaW4oJywgJykgKyAnKSc7XG4gICAgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1TdHJpbmc7XG4gICAgfVxuICAgIHZhciBub2RlID0gdHJhbnNmb3JtU3RyaW5nRGl2IHx8ICh0cmFuc2Zvcm1TdHJpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1TdHJpbmc7XG4gICAgcmV0dXJuIG5vZGUuc3R5bGUudHJhbnNmb3JtO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnQvQ29ybmVyXG4gKi9cbi8qKlxuICogRXh0ZW50IGNvcm5lci5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBCT1RUT01fTEVGVDogJ2JvdHRvbS1sZWZ0JyxcbiAgICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICAgIFRPUF9MRUZUOiAndG9wLWxlZnQnLFxuICAgIFRPUF9SSUdIVDogJ3RvcC1yaWdodCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ybmVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnRcbiAqL1xuaW1wb3J0IENvcm5lciBmcm9tICcuL2V4dGVudC9Db3JuZXIuanMnO1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuL2V4dGVudC9SZWxhdGlvbnNoaXAuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYW4gZXh0ZW50OiBgW21pbngsIG1pbnksIG1heHgsIG1heHldYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBFeHRlbnRcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBCdWlsZCBhbiBleHRlbnQgdGhhdCBpbmNsdWRlcyBhbGwgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBCb3VuZGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZGluZ0V4dGVudChjb29yZGluYXRlcykge1xuICAgIHZhciBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4cyBYcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geXMgWXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW29wdF9leHRlbnRdIERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZnVuY3Rpb24gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCkge1xuICAgIHZhciBtaW5YID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtaW5ZID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeXMpO1xuICAgIHZhciBtYXhYID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtYXhZID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeXMpO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogUmV0dXJuIGV4dGVudCBpbmNyZWFzZWQgYnkgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGFtb3VudCBieSB3aGljaCB0aGUgZXh0ZW50IHNob3VsZCBiZSBidWZmZXJlZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIoZXh0ZW50LCB2YWx1ZSwgb3B0X2V4dGVudCkge1xuICAgIGlmIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIG9wdF9leHRlbnRbMF0gPSBleHRlbnRbMF0gLSB2YWx1ZTtcbiAgICAgICAgb3B0X2V4dGVudFsxXSA9IGV4dGVudFsxXSAtIHZhbHVlO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdICsgdmFsdWU7XG4gICAgICAgIG9wdF9leHRlbnRbM10gPSBleHRlbnRbM10gKyB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG9wdF9leHRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZXh0ZW50WzBdIC0gdmFsdWUsXG4gICAgICAgICAgICBleHRlbnRbMV0gLSB2YWx1ZSxcbiAgICAgICAgICAgIGV4dGVudFsyXSArIHZhbHVlLFxuICAgICAgICAgICAgZXh0ZW50WzNdICsgdmFsdWUsXG4gICAgICAgIF07XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYW4gZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50IHRvIGNsb25lLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IFRoZSBjbG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGV4dGVudCwgb3B0X2V4dGVudCkge1xuICAgIGlmIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIG9wdF9leHRlbnRbMF0gPSBleHRlbnRbMF07XG4gICAgICAgIG9wdF9leHRlbnRbMV0gPSBleHRlbnRbMV07XG4gICAgICAgIG9wdF9leHRlbnRbMl0gPSBleHRlbnRbMl07XG4gICAgICAgIG9wdF9leHRlbnRbM10gPSBleHRlbnRbM107XG4gICAgICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudC5zbGljZSgpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge251bWJlcn0gQ2xvc2VzdCBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKGV4dGVudCwgeCwgeSkge1xuICAgIHZhciBkeCwgZHk7XG4gICAgaWYgKHggPCBleHRlbnRbMF0pIHtcbiAgICAgICAgZHggPSBleHRlbnRbMF0gLSB4O1xuICAgIH1cbiAgICBlbHNlIGlmIChleHRlbnRbMl0gPCB4KSB7XG4gICAgICAgIGR4ID0geCAtIGV4dGVudFsyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGR4ID0gMDtcbiAgICB9XG4gICAgaWYgKHkgPCBleHRlbnRbMV0pIHtcbiAgICAgICAgZHkgPSBleHRlbnRbMV0gLSB5O1xuICAgIH1cbiAgICBlbHNlIGlmIChleHRlbnRbM10gPCB5KSB7XG4gICAgICAgIGR5ID0geSAtIGV4dGVudFszXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGR5ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgaW4gdGhlIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gY29udGFpbnNYWShleHRlbnQsIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xufVxuLyoqXG4gKiBDaGVjayBpZiBvbmUgZXh0ZW50IGNvbnRhaW5zIGFub3RoZXIuXG4gKlxuICogQW4gZXh0ZW50IGlzIGRlZW1lZCBjb250YWluZWQgaWYgaXQgbGllcyBjb21wbGV0ZWx5IHdpdGhpbiB0aGUgb3RoZXIgZXh0ZW50LFxuICogaW5jbHVkaW5nIGlmIHRoZXkgc2hhcmUgb25lIG9yIG1vcmUgZWRnZXMuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWNvbmQgZXh0ZW50IGlzIGNvbnRhaW5lZCBieSBvciBvbiB0aGUgZWRnZSBvZiB0aGVcbiAqICAgICBmaXJzdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zRXh0ZW50KGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICByZXR1cm4gKGV4dGVudDFbMF0gPD0gZXh0ZW50MlswXSAmJlxuICAgICAgICBleHRlbnQyWzJdIDw9IGV4dGVudDFbMl0gJiZcbiAgICAgICAgZXh0ZW50MVsxXSA8PSBleHRlbnQyWzFdICYmXG4gICAgICAgIGV4dGVudDJbM10gPD0gZXh0ZW50MVszXSk7XG59XG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB4LCB5IHZhbHVlcyBhcmUgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1hZKGV4dGVudCwgeCwgeSkge1xuICAgIHJldHVybiBleHRlbnRbMF0gPD0geCAmJiB4IDw9IGV4dGVudFsyXSAmJiBleHRlbnRbMV0gPD0geSAmJiB5IDw9IGV4dGVudFszXTtcbn1cbi8qKlxuICogR2V0IHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhIGNvb3JkaW5hdGUgYW5kIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuZGVmYXVsdH0gVGhlIHJlbGF0aW9uc2hpcCAoYml0d2lzZSBjb21wYXJlIHdpdGhcbiAqICAgICBpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuUmVsYXRpb25zaGlwKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gICAgdmFyIG1pblggPSBleHRlbnRbMF07XG4gICAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gICAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gICAgdmFyIG1heFkgPSBleHRlbnRbM107XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgICB2YXIgcmVsYXRpb25zaGlwID0gUmVsYXRpb25zaGlwLlVOS05PV047XG4gICAgaWYgKHggPCBtaW5YKSB7XG4gICAgICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5MRUZUO1xuICAgIH1cbiAgICBlbHNlIGlmICh4ID4gbWF4WCkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuUklHSFQ7XG4gICAgfVxuICAgIGlmICh5IDwgbWluWSkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQkVMT1c7XG4gICAgfVxuICAgIGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5BQk9WRTtcbiAgICB9XG4gICAgaWYgKHJlbGF0aW9uc2hpcCA9PT0gUmVsYXRpb25zaGlwLlVOS05PV04pIHtcbiAgICAgICAgcmVsYXRpb25zaGlwID0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORztcbiAgICB9XG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGVtcHR5IGV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRW1wdHkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1wdHkoKSB7XG4gICAgcmV0dXJuIFtJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5XTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGV4dGVudCBvciB1cGRhdGUgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IG1pblg7XG4gICAgICAgIG9wdF9leHRlbnRbMV0gPSBtaW5ZO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gbWF4WDtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IG1heFk7XG4gICAgICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlbXB0eSBleHRlbnQgb3IgbWFrZSB0aGUgcHJvdmlkZWQgb25lIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCkge1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5LCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgb3B0X2V4dGVudCkge1xuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKHgsIHksIHgsIHksIG9wdF9leHRlbnQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW29wdF9leHRlbnRdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIG9wdF9leHRlbnQpIHtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KTtcbiAgICByZXR1cm4gZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCBjb29yZGluYXRlcyk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0V4dGVudH0gW29wdF9leHRlbnRdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgb3B0X2V4dGVudCkge1xuICAgIHZhciBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KG9wdF9leHRlbnQpO1xuICAgIHJldHVybiBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IHJpbmdzIFJpbmdzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbVJpbmdzKHJpbmdzLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCk7XG4gICAgcmV0dXJuIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGV4dGVudHMgYXJlIGVxdWl2YWxlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICByZXR1cm4gKGV4dGVudDFbMF0gPT0gZXh0ZW50MlswXSAmJlxuICAgICAgICBleHRlbnQxWzJdID09IGV4dGVudDJbMl0gJiZcbiAgICAgICAgZXh0ZW50MVsxXSA9PSBleHRlbnQyWzFdICYmXG4gICAgICAgIGV4dGVudDFbM10gPT0gZXh0ZW50MlszXSk7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0d28gZXh0ZW50cyBhcmUgYXBwcm94aW1hdGVseSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlIGluIGV4dGVudCBjb29yZGluYXRlIHVuaXRzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGRpZmZlciBieSBsZXNzIHRoYW4gdGhlIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcHJveGltYXRlbHlFcXVhbHMoZXh0ZW50MSwgZXh0ZW50MiwgdG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIChNYXRoLmFicyhleHRlbnQxWzBdIC0gZXh0ZW50MlswXSkgPCB0b2xlcmFuY2UgJiZcbiAgICAgICAgTWF0aC5hYnMoZXh0ZW50MVsyXSAtIGV4dGVudDJbMl0pIDwgdG9sZXJhbmNlICYmXG4gICAgICAgIE1hdGguYWJzKGV4dGVudDFbMV0gLSBleHRlbnQyWzFdKSA8IHRvbGVyYW5jZSAmJlxuICAgICAgICBNYXRoLmFicyhleHRlbnQxWzNdIC0gZXh0ZW50MlszXSkgPCB0b2xlcmFuY2UpO1xufVxuLyoqXG4gKiBNb2RpZnkgYW4gZXh0ZW50IHRvIGluY2x1ZGUgYW5vdGhlciBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBUaGUgZXh0ZW50IHRvIGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgVGhlIGV4dGVudCB0aGF0IHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIGZpcnN0LlxuICogQHJldHVybiB7RXh0ZW50fSBBIHJlZmVyZW5jZSB0byB0aGUgZmlyc3QgKGV4dGVuZGVkKSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIGlmIChleHRlbnQyWzBdIDwgZXh0ZW50MVswXSkge1xuICAgICAgICBleHRlbnQxWzBdID0gZXh0ZW50MlswXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDJbMl0gPiBleHRlbnQxWzJdKSB7XG4gICAgICAgIGV4dGVudDFbMl0gPSBleHRlbnQyWzJdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MlsxXSA8IGV4dGVudDFbMV0pIHtcbiAgICAgICAgZXh0ZW50MVsxXSA9IGV4dGVudDJbMV07XG4gICAgfVxuICAgIGlmIChleHRlbnQyWzNdID4gZXh0ZW50MVszXSkge1xuICAgICAgICBleHRlbnQxWzNdID0gZXh0ZW50MlszXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDE7XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgICBpZiAoY29vcmRpbmF0ZVswXSA8IGV4dGVudFswXSkge1xuICAgICAgICBleHRlbnRbMF0gPSBjb29yZGluYXRlWzBdO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZVswXSA+IGV4dGVudFsyXSkge1xuICAgICAgICBleHRlbnRbMl0gPSBjb29yZGluYXRlWzBdO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZVsxXSA8IGV4dGVudFsxXSkge1xuICAgICAgICBleHRlbnRbMV0gPSBjb29yZGluYXRlWzFdO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZVsxXSA+IGV4dGVudFszXSkge1xuICAgICAgICBleHRlbnRbM10gPSBjb29yZGluYXRlWzFdO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgY29vcmRpbmF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQ7XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKGV4dGVudCwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICBleHRlbmRYWShleHRlbnQsIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByaW5ncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgcmluZ3NbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kWFkoZXh0ZW50LCB4LCB5KSB7XG4gICAgZXh0ZW50WzBdID0gTWF0aC5taW4oZXh0ZW50WzBdLCB4KTtcbiAgICBleHRlbnRbMV0gPSBNYXRoLm1pbihleHRlbnRbMV0sIHkpO1xuICAgIGV4dGVudFsyXSA9IE1hdGgubWF4KGV4dGVudFsyXSwgeCk7XG4gICAgZXh0ZW50WzNdID0gTWF0aC5tYXgoZXh0ZW50WzNdLCB5KTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIGNvcm5lciBvZiB0aGUgZXh0ZW50LiBJZiB0aGVcbiAqIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdCB2YWx1ZVxuICogaW1tZWRpYXRlbHkuIE90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogU30gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcmV0dXJuIHtTfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hDb3JuZXIoZXh0ZW50LCBjYWxsYmFjaykge1xuICAgIHZhciB2YWw7XG4gICAgdmFsID0gY2FsbGJhY2soZ2V0Qm90dG9tTGVmdChleHRlbnQpKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHZhbCA9IGNhbGxiYWNrKGdldEJvdHRvbVJpZ2h0KGV4dGVudCkpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgdmFsID0gY2FsbGJhY2soZ2V0VG9wUmlnaHQoZXh0ZW50KSk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB2YWwgPSBjYWxsYmFjayhnZXRUb3BMZWZ0KGV4dGVudCkpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBHZXQgdGhlIHNpemUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmVhKGV4dGVudCkge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICBpZiAoIWlzRW1wdHkoZXh0ZW50KSkge1xuICAgICAgICBhcmVhID0gZ2V0V2lkdGgoZXh0ZW50KSAqIGdldEhlaWdodChleHRlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8qKlxuICogR2V0IHRoZSBib3R0b20gbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEJvdHRvbSBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3R0b21MZWZ0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbMV1dO1xufVxuLyoqXG4gKiBHZXQgdGhlIGJvdHRvbSByaWdodCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEJvdHRvbSByaWdodCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFsxXV07XG59XG4vKipcbiAqIEdldCB0aGUgY2VudGVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2VudGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyKGV4dGVudCkge1xuICAgIHJldHVybiBbKGV4dGVudFswXSArIGV4dGVudFsyXSkgLyAyLCAoZXh0ZW50WzFdICsgZXh0ZW50WzNdKSAvIDJdO1xufVxuLyoqXG4gKiBHZXQgYSBjb3JuZXIgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQvQ29ybmVyLmpzXCIpLmRlZmF1bHR9IGNvcm5lciBDb3JuZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29ybmVyIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JuZXIoZXh0ZW50LCBjb3JuZXIpIHtcbiAgICB2YXIgY29vcmRpbmF0ZTtcbiAgICBpZiAoY29ybmVyID09PSBDb3JuZXIuQk9UVE9NX0xFRlQpIHtcbiAgICAgICAgY29vcmRpbmF0ZSA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21SaWdodChleHRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb3JuZXIgPT09IENvcm5lci5UT1BfTEVGVCkge1xuICAgICAgICBjb29yZGluYXRlID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb3JuZXIgPT09IENvcm5lci5UT1BfUklHSFQpIHtcbiAgICAgICAgY29vcmRpbmF0ZSA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIDEzKTsgLy8gSW52YWxpZCBjb3JuZXJcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVubGFyZ2VkIGFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmxhcmdlZEFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHZhciBtaW5YID0gTWF0aC5taW4oZXh0ZW50MVswXSwgZXh0ZW50MlswXSk7XG4gICAgdmFyIG1pblkgPSBNYXRoLm1pbihleHRlbnQxWzFdLCBleHRlbnQyWzFdKTtcbiAgICB2YXIgbWF4WCA9IE1hdGgubWF4KGV4dGVudDFbMl0sIGV4dGVudDJbMl0pO1xuICAgIHZhciBtYXhZID0gTWF0aC5tYXgoZXh0ZW50MVszXSwgZXh0ZW50MlszXSk7XG4gICAgcmV0dXJuIChtYXhYIC0gbWluWCkgKiAobWF4WSAtIG1pblkpO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGR4ID0gKHJlc29sdXRpb24gKiBzaXplWzBdKSAvIDI7XG4gICAgdmFyIGR5ID0gKHJlc29sdXRpb24gKiBzaXplWzFdKSAvIDI7XG4gICAgdmFyIGNvc1JvdGF0aW9uID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIHZhciBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICB2YXIgeENvcyA9IGR4ICogY29zUm90YXRpb247XG4gICAgdmFyIHhTaW4gPSBkeCAqIHNpblJvdGF0aW9uO1xuICAgIHZhciB5Q29zID0gZHkgKiBjb3NSb3RhdGlvbjtcbiAgICB2YXIgeVNpbiA9IGR5ICogc2luUm90YXRpb247XG4gICAgdmFyIHggPSBjZW50ZXJbMF07XG4gICAgdmFyIHkgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgwID0geCAtIHhDb3MgKyB5U2luO1xuICAgIHZhciB4MSA9IHggLSB4Q29zIC0geVNpbjtcbiAgICB2YXIgeDIgPSB4ICsgeENvcyAtIHlTaW47XG4gICAgdmFyIHgzID0geCArIHhDb3MgKyB5U2luO1xuICAgIHZhciB5MCA9IHkgLSB4U2luIC0geUNvcztcbiAgICB2YXIgeTEgPSB5IC0geFNpbiArIHlDb3M7XG4gICAgdmFyIHkyID0geSArIHhTaW4gKyB5Q29zO1xuICAgIHZhciB5MyA9IHkgKyB4U2luIC0geUNvcztcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4oeDAsIHgxLCB4MiwgeDMpLCBNYXRoLm1pbih5MCwgeTEsIHkyLCB5MyksIE1hdGgubWF4KHgwLCB4MSwgeDIsIHgzKSwgTWF0aC5tYXgoeTAsIHkxLCB5MiwgeTMpLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlaWdodChleHRlbnQpIHtcbiAgICByZXR1cm4gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBJbnRlcnNlY3Rpb24gYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Mik7XG4gICAgcmV0dXJuIGdldEFyZWEoaW50ZXJzZWN0aW9uKTtcbn1cbi8qKlxuICogR2V0IHRoZSBpbnRlcnNlY3Rpb24gb2YgdHdvIGV4dGVudHMuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBPcHRpb25hbCBleHRlbnQgdG8gcG9wdWxhdGUgd2l0aCBpbnRlcnNlY3Rpb24uXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEludGVyc2VjdGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Miwgb3B0X2V4dGVudCkge1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBvcHRfZXh0ZW50ID8gb3B0X2V4dGVudCA6IGNyZWF0ZUVtcHR5KCk7XG4gICAgaWYgKGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50MikpIHtcbiAgICAgICAgaWYgKGV4dGVudDFbMF0gPiBleHRlbnQyWzBdKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMF0gPSBleHRlbnQxWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzBdID0gZXh0ZW50MlswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW50MVsxXSA+IGV4dGVudDJbMV0pIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblsxXSA9IGV4dGVudDFbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMV0gPSBleHRlbnQyWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbnQxWzJdIDwgZXh0ZW50MlsyXSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzJdID0gZXh0ZW50MVsyXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblsyXSA9IGV4dGVudDJbMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dGVudDFbM10gPCBleHRlbnQyWzNdKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bM10gPSBleHRlbnQxWzNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzNdID0gZXh0ZW50MlszXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY3JlYXRlT3JVcGRhdGVFbXB0eShpbnRlcnNlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWFyZ2luLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFyZ2luKGV4dGVudCkge1xuICAgIHJldHVybiBnZXRXaWR0aChleHRlbnQpICsgZ2V0SGVpZ2h0KGV4dGVudCk7XG59XG4vKipcbiAqIEdldCB0aGUgc2l6ZSAod2lkdGgsIGhlaWdodCkgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFRoZSBleHRlbnQgc2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFtleHRlbnRbMl0gLSBleHRlbnRbMF0sIGV4dGVudFszXSAtIGV4dGVudFsxXV07XG59XG4vKipcbiAqIEdldCB0aGUgdG9wIGxlZnQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUb3AgbGVmdCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wTGVmdChleHRlbnQpIHtcbiAgICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzNdXTtcbn1cbi8qKlxuICogR2V0IHRoZSB0b3AgcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUb3AgcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcFJpZ2h0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzJdLCBleHRlbnRbM11dO1xufVxuLyoqXG4gKiBHZXQgdGhlIHdpZHRoIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpZHRoKGV4dGVudCkge1xuICAgIHJldHVybiBleHRlbnRbMl0gLSBleHRlbnRbMF07XG59XG4vKipcbiAqIERldGVybWluZSBpZiBvbmUgZXh0ZW50IGludGVyc2VjdHMgYW5vdGhlci5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGludGVyc2VjdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHJldHVybiAoZXh0ZW50MVswXSA8PSBleHRlbnQyWzJdICYmXG4gICAgICAgIGV4dGVudDFbMl0gPj0gZXh0ZW50MlswXSAmJlxuICAgICAgICBleHRlbnQxWzFdIDw9IGV4dGVudDJbM10gJiZcbiAgICAgICAgZXh0ZW50MVszXSA+PSBleHRlbnQyWzFdKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIGV4dGVudCBpcyBlbXB0eS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KGV4dGVudCkge1xuICAgIHJldHVybiBleHRlbnRbMl0gPCBleHRlbnRbMF0gfHwgZXh0ZW50WzNdIDwgZXh0ZW50WzFdO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbb3B0X2V4dGVudF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5PclVwZGF0ZShleHRlbnQsIG9wdF9leHRlbnQpIHtcbiAgICBpZiAob3B0X2V4dGVudCkge1xuICAgICAgICBvcHRfZXh0ZW50WzBdID0gZXh0ZW50WzBdO1xuICAgICAgICBvcHRfZXh0ZW50WzFdID0gZXh0ZW50WzFdO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdO1xuICAgICAgICBvcHRfZXh0ZW50WzNdID0gZXh0ZW50WzNdO1xuICAgICAgICByZXR1cm4gb3B0X2V4dGVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlRnJvbUNlbnRlcihleHRlbnQsIHZhbHVlKSB7XG4gICAgdmFyIGRlbHRhWCA9ICgoZXh0ZW50WzJdIC0gZXh0ZW50WzBdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gICAgdmFyIGRlbHRhWSA9ICgoZXh0ZW50WzNdIC0gZXh0ZW50WzFdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gICAgZXh0ZW50WzBdIC09IGRlbHRhWDtcbiAgICBleHRlbnRbMl0gKz0gZGVsdGFYO1xuICAgIGV4dGVudFsxXSAtPSBkZWx0YVk7XG4gICAgZXh0ZW50WzNdICs9IGRlbHRhWTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBzZWdtZW50IGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzIGludGVyc2VjdHMgKGNyb3NzZXMsXG4gKiB0b3VjaGVzLCBvciBpcyBjb250YWluZWQgYnkpIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBzdGFydCBTZWdtZW50IHN0YXJ0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBlbmQgU2VnbWVudCBlbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWdtZW50IGludGVyc2VjdHMgdGhlIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgc3RhcnQsIGVuZCkge1xuICAgIHZhciBpbnRlcnNlY3RzID0gZmFsc2U7XG4gICAgdmFyIHN0YXJ0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIHN0YXJ0KTtcbiAgICB2YXIgZW5kUmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIGVuZCk7XG4gICAgaWYgKHN0YXJ0UmVsID09PSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HIHx8XG4gICAgICAgIGVuZFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORykge1xuICAgICAgICBpbnRlcnNlY3RzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgICAgICB2YXIgbWluWSA9IGV4dGVudFsxXTtcbiAgICAgICAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gICAgICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgICAgICB2YXIgc3RhcnRYID0gc3RhcnRbMF07XG4gICAgICAgIHZhciBzdGFydFkgPSBzdGFydFsxXTtcbiAgICAgICAgdmFyIGVuZFggPSBlbmRbMF07XG4gICAgICAgIHZhciBlbmRZID0gZW5kWzFdO1xuICAgICAgICB2YXIgc2xvcGUgPSAoZW5kWSAtIHN0YXJ0WSkgLyAoZW5kWCAtIHN0YXJ0WCk7XG4gICAgICAgIHZhciB4ID0gdm9pZCAwLCB5ID0gdm9pZCAwO1xuICAgICAgICBpZiAoISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLkFCT1ZFKSAmJiAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkFCT1ZFKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyB0b3BcbiAgICAgICAgICAgIHggPSBlbmRYIC0gKGVuZFkgLSBtYXhZKSAvIHNsb3BlO1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzICYmXG4gICAgICAgICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuUklHSFQpICYmXG4gICAgICAgICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLlJJR0hUKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyByaWdodFxuICAgICAgICAgICAgeSA9IGVuZFkgLSAoZW5kWCAtIG1heFgpICogc2xvcGU7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0geSA+PSBtaW5ZICYmIHkgPD0gbWF4WTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHMgJiZcbiAgICAgICAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5CRUxPVykgJiZcbiAgICAgICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpKSB7XG4gICAgICAgICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIGJvdHRvbVxuICAgICAgICAgICAgeCA9IGVuZFggLSAoZW5kWSAtIG1pblkpIC8gc2xvcGU7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0geCA+PSBtaW5YICYmIHggPD0gbWF4WDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHMgJiZcbiAgICAgICAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5MRUZUKSAmJlxuICAgICAgICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5MRUZUKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyBsZWZ0XG4gICAgICAgICAgICB5ID0gZW5kWSAtIChlbmRYIC0gbWluWCkgKiBzbG9wZTtcbiAgICAgICAgICAgIGludGVyc2VjdHMgPSB5ID49IG1pblkgJiYgeSA8PSBtYXhZO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnRlcnNlY3RzO1xufVxuLyoqXG4gKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICogQ2FsbGVkIHdpdGggYFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXWAgZXh0ZW50IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtvcHRfZXh0ZW50XSBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zdG9wc10gTnVtYmVyIG9mIHN0b3BzIHBlciBzaWRlIHVzZWQgZm9yIHRoZSB0cmFuc2Zvcm0uXG4gKiBCeSBkZWZhdWx0IG9ubHkgdGhlIGNvcm5lcnMgYXJlIHVzZWQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5VHJhbnNmb3JtKGV4dGVudCwgdHJhbnNmb3JtRm4sIG9wdF9leHRlbnQsIG9wdF9zdG9wcykge1xuICAgIHZhciBjb29yZGluYXRlcyA9IFtdO1xuICAgIGlmIChvcHRfc3RvcHMgPiAxKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGV4dGVudFsyXSAtIGV4dGVudFswXTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGV4dGVudFszXSAtIGV4dGVudFsxXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRfc3RvcHM7ICsraSkge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChleHRlbnRbMF0gKyAod2lkdGggKiBpKSAvIG9wdF9zdG9wcywgZXh0ZW50WzFdLCBleHRlbnRbMl0sIGV4dGVudFsxXSArIChoZWlnaHQgKiBpKSAvIG9wdF9zdG9wcywgZXh0ZW50WzJdIC0gKHdpZHRoICogaSkgLyBvcHRfc3RvcHMsIGV4dGVudFszXSwgZXh0ZW50WzBdLCBleHRlbnRbM10gLSAoaGVpZ2h0ICogaSkgLyBvcHRfc3RvcHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb29yZGluYXRlcyA9IFtcbiAgICAgICAgICAgIGV4dGVudFswXSxcbiAgICAgICAgICAgIGV4dGVudFsxXSxcbiAgICAgICAgICAgIGV4dGVudFsyXSxcbiAgICAgICAgICAgIGV4dGVudFsxXSxcbiAgICAgICAgICAgIGV4dGVudFsyXSxcbiAgICAgICAgICAgIGV4dGVudFszXSxcbiAgICAgICAgICAgIGV4dGVudFswXSxcbiAgICAgICAgICAgIGV4dGVudFszXSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgdHJhbnNmb3JtRm4oY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzLCAyKTtcbiAgICB2YXIgeHMgPSBbXTtcbiAgICB2YXIgeXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICB4cy5wdXNoKGNvb3JkaW5hdGVzW2ldKTtcbiAgICAgICAgeXMucHVzaChjb29yZGluYXRlc1tpICsgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCk7XG59XG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBleHRlbnQgaW4tcGxhY2UgdG8gYmUgd2l0aGluIHRoZSByZWFsIHdvcmxkXG4gKiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvblxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgZXh0ZW50IHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChleHRlbnQsIHByb2plY3Rpb24pIHtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGNlbnRlciA9IGdldENlbnRlcihleHRlbnQpO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgKGNlbnRlclswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgY2VudGVyWzBdID49IHByb2plY3Rpb25FeHRlbnRbMl0pKSB7XG4gICAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgIHZhciB3b3JsZHNBd2F5ID0gTWF0aC5mbG9vcigoY2VudGVyWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyB3b3JsZFdpZHRoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgICAgICBleHRlbnRbMF0gLT0gb2Zmc2V0O1xuICAgICAgICBleHRlbnRbMl0gLT0gb2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnQvUmVsYXRpb25zaGlwXG4gKi9cbi8qKlxuICogUmVsYXRpb25zaGlwIHRvIGFuIGV4dGVudC5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIElOVEVSU0VDVElORzogMSxcbiAgICBBQk9WRTogMixcbiAgICBSSUdIVDogNCxcbiAgICBCRUxPVzogOCxcbiAgICBMRUZUOiAxNixcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWxhdGlvbnNoaXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL21hdGhcbiAqL1xuLyoqXG4gKiBUYWtlcyBhIG51bWJlciBhbmQgY2xhbXBzIGl0IHRvIHdpdGhpbiB0aGUgcHJvdmlkZWQgYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRvIHJldHVybi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5wdXQgbnVtYmVyIGlmIGl0IGlzIHdpdGhpbiBib3VuZHMsIG9yIHRoZSBuZWFyZXN0XG4gKiAgICAgbnVtYmVyIHdpdGhpbiB0aGUgYm91bmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgZ2l2ZW4gbnVtYmVyLiBUaGUgbWV0aG9kIHdpbGwgdXNlIHRoZVxuICogbmF0aXZlIGBNYXRoLmNvc2hgIGZ1bmN0aW9uIGlmIGl0IGlzIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHRoZSBoeXBlcmJvbGljXG4gKiBjb3NpbmUgd2lsbCBiZSBjYWxjdWxhdGVkIHZpYSB0aGUgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBNb3ppbGxhXG4gKiBkZXZlbG9wZXIgbmV0d29yay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHJldHVybiB7bnVtYmVyfSBIeXBlcmJvbGljIGNvc2luZSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGNvc2ggPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGNvc2g7XG4gICAgaWYgKCdjb3NoJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGguY29zaCBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGNvc2ggPSBNYXRoLmNvc2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBjb3NoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHZhciB5ID0gLyoqIEB0eXBlIHtNYXRofSAqLyAoTWF0aCkuZXhwKHgpO1xuICAgICAgICAgICAgcmV0dXJuICh5ICsgMSAvIHkpIC8gMjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvc2g7XG59KSgpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYSBnaXZlbiBudW1iZXIuIFRoZSBtZXRob2Qgd2lsbCB1c2UgdGhlXG4gKiBuYXRpdmUgYE1hdGgubG9nMmAgZnVuY3Rpb24gaWYgaXQgaXMgYXZhaWxhYmxlLCBvdGhlcndpc2UgdGhlIGJhc2UgMlxuICogbG9nYXJpdGhtIHdpbGwgYmUgY2FsY3VsYXRlZCB2aWEgdGhlIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAqIE1vemlsbGEgZGV2ZWxvcGVyIG5ldHdvcmsuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEByZXR1cm4ge251bWJlcn0gQmFzZSAyIGxvZ2FyaXRobSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGxvZzIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGxvZzI7XG4gICAgaWYgKCdsb2cyJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGgubG9nMiBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGxvZzIgPSBNYXRoLmxvZzI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBsb2cyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMkU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsb2cyO1xufSkoKTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3F1YXJlIG9mIHRoZSBjbG9zZXN0IGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50ICh4LCB5KSBhbmQgdGhlXG4gKiBsaW5lIHNlZ21lbnQgKHgxLCB5MSkgdG8gKHgyLCB5MikuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRTZWdtZW50RGlzdGFuY2UoeCwgeSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICB2YXIgZHggPSB4MiAtIHgxO1xuICAgIHZhciBkeSA9IHkyIC0geTE7XG4gICAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgICAgIHkxID0geTI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA+IDApIHtcbiAgICAgICAgICAgIHgxICs9IGR4ICogdDtcbiAgICAgICAgICAgIHkxICs9IGR5ICogdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKHgsIHksIHgxLCB5MSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnRzICh4MSwgeTEpIGFuZCAoeDIsIHkyKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5Mikge1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG4vKipcbiAqIFNvbHZlcyBzeXN0ZW0gb2YgbGluZWFyIGVxdWF0aW9ucyB1c2luZyBHYXVzc2lhbiBlbGltaW5hdGlvbiBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gbWF0IEF1Z21lbnRlZCBtYXRyaXggKG4geCBuICsgMSBjb2x1bW4pXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiByb3ctbWFqb3Igb3JkZXIuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgcmVzdWx0aW5nIHZlY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlTGluZWFyU3lzdGVtKG1hdCkge1xuICAgIHZhciBuID0gbWF0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBGaW5kIG1heCBpbiB0aGUgaS10aCBjb2x1bW4gKGlnbm9yaW5nIGkgLSAxIGZpcnN0IHJvd3MpXG4gICAgICAgIHZhciBtYXhSb3cgPSBpO1xuICAgICAgICB2YXIgbWF4RWwgPSBNYXRoLmFicyhtYXRbaV1baV0pO1xuICAgICAgICBmb3IgKHZhciByID0gaSArIDE7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICAgIHZhciBhYnNWYWx1ZSA9IE1hdGguYWJzKG1hdFtyXVtpXSk7XG4gICAgICAgICAgICBpZiAoYWJzVmFsdWUgPiBtYXhFbCkge1xuICAgICAgICAgICAgICAgIG1heEVsID0gYWJzVmFsdWU7XG4gICAgICAgICAgICAgICAgbWF4Um93ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RWwgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBtYXRyaXggaXMgc2luZ3VsYXJcbiAgICAgICAgfVxuICAgICAgICAvLyBTd2FwIG1heCByb3cgd2l0aCBpLXRoIChjdXJyZW50KSByb3dcbiAgICAgICAgdmFyIHRtcCA9IG1hdFttYXhSb3ddO1xuICAgICAgICBtYXRbbWF4Um93XSA9IG1hdFtpXTtcbiAgICAgICAgbWF0W2ldID0gdG1wO1xuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgaS10aCByb3cgdG8gbWFrZSBhbGwgdGhlIHJlbWFpbmluZyByb3dzIDAgaW4gdGhlIGktdGggY29sdW1uXG4gICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG47IGorKykge1xuICAgICAgICAgICAgdmFyIGNvZWYgPSAtbWF0W2pdW2ldIC8gbWF0W2ldW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPCBuICsgMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gaykge1xuICAgICAgICAgICAgICAgICAgICBtYXRbal1ba10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0W2pdW2tdICs9IGNvZWYgKiBtYXRbaV1ba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNvbHZlIEF4PWIgZm9yIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4IEEgKG1hdClcbiAgICB2YXIgeCA9IG5ldyBBcnJheShuKTtcbiAgICBmb3IgKHZhciBsID0gbiAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICAgIHhbbF0gPSBtYXRbbF1bbl0gLyBtYXRbbF1bbF07XG4gICAgICAgIGZvciAodmFyIG0gPSBsIC0gMTsgbSA+PSAwOyBtLS0pIHtcbiAgICAgICAgICAgIG1hdFttXVtuXSAtPSBtYXRbbV1bbF0gKiB4W2xdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIGRlZ3JlZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMoYW5nbGVJblJhZGlhbnMpIHtcbiAgICByZXR1cm4gKGFuZ2xlSW5SYWRpYW5zICogMTgwKSAvIE1hdGguUEk7XG59XG4vKipcbiAqIENvbnZlcnRzIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgQW5nbGUgaW4gZGVncmVlcy5cbiAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZUluRGVncmVlcykge1xuICAgIHJldHVybiAoYW5nbGVJbkRlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbW9kdWxvIG9mIGEgLyBiLCBkZXBlbmRpbmcgb24gdGhlIHNpZ24gb2YgYi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSBEaXZpZGVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIERpdmlzb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1vZHVsby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhhLCBiKSB7XG4gICAgdmFyIHIgPSBhICUgYjtcbiAgICByZXR1cm4gciAqIGIgPCAwID8gciArIGIgOiByO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgeCBiZXR3ZWVuIGEgYW5kIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFZhbHVlIHRvIGJlIGludGVycG9sYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJwb2xhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB4KSB7XG4gICAgcmV0dXJuIGEgKyB4ICogKGIgLSBhKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5wdXQgbnVtYmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGlucHV0IG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKG4sIGRlY2ltYWxzKSB7XG4gICAgdmFyIGZhY3RvciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobiAqIGZhY3RvcikgLyBmYWN0b3I7XG59XG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIHZhbHVlIGNvbnNpZGVyaW5nIG9ubHkgdGhlIGdpdmVuIG51bWJlclxuICogb2YgZGVjaW1hbCBkaWdpdHMgKHdpdGggcm91bmRpbmcgb24gdGhlIGZpbmFsIGRpZ2l0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobiwgZGVjaW1hbHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0b0ZpeGVkKG4sIGRlY2ltYWxzKSk7XG59XG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmV4dCBzbWFsbGVyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHNtYWxsZXIgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG4sIGRlY2ltYWxzKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodG9GaXhlZChuLCBkZWNpbWFscykpO1xufVxuLyoqXG4gKiBSb3VuZHMgYSBudW1iZXIgdG8gdGhlIG5leHQgYmlnZ2VyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IGJpZ2dlciBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChuLCBkZWNpbWFscykge1xuICAgIHJldHVybiBNYXRoLmNlaWwodG9GaXhlZChuLCBkZWNpbWFscykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JcbiAqL1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogQSBjb2xvciByZXByZXNlbnRlZCBhcyBhIHNob3J0IGFycmF5IFtyZWQsIGdyZWVuLCBibHVlLCBhbHBoYV0uXG4gKiByZWQsIGdyZWVuLCBhbmQgYmx1ZSBzaG91bGQgYmUgaW50ZWdlcnMgaW4gdGhlIHJhbmdlIDAuLjI1NSBpbmNsdXNpdmUuXG4gKiBhbHBoYSBzaG91bGQgYmUgYSBmbG9hdCBpbiB0aGUgcmFuZ2UgMC4uMSBpbmNsdXNpdmUuIElmIG5vIGFscGhhIHZhbHVlIGlzXG4gKiBnaXZlbiB0aGVuIGAxYCB3aWxsIGJlIHVzZWQuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gQ29sb3JcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBUaGlzIFJlZ0V4cCBtYXRjaGVzICMgZm9sbG93ZWQgYnkgMywgNCwgNiwgb3IgOCBoZXggZGlnaXRzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xudmFyIEhFWF9DT0xPUl9SRV8gPSAvXiMoW2EtZjAtOV17M318W2EtZjAtOV17NH0oPzpbYS1mMC05XXsyfSl7MCwyfSkkL2k7XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgbWF0Y2hpbmcgcG90ZW50aWFsIG5hbWVkIGNvbG9yIHN0eWxlIHN0cmluZ3MuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfQ09MT1JfUkVfID0gL14oW2Etel0qKSR8XmhzbGE/XFwoLipcXCkkL2k7XG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYmEgc3RyaW5nLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcoY29sb3IpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIG5hbWVkIGNvbG9yIGFzIGFuIHJnYmEgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIE5hbWVkIGNvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBSZ2Igc3RyaW5nLlxuICovXG5mdW5jdGlvbiBmcm9tTmFtZWQoY29sb3IpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgIGlmIChlbC5zdHlsZS5jb2xvciAhPT0gJycpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZ2IgPSBnZXRDb21wdXRlZFN0eWxlKGVsKS5jb2xvcjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIHJldHVybiByZ2I7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmV4cG9ydCB2YXIgZnJvbVN0cmluZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gV2UgbWFpbnRhaW4gYSBzbWFsbCBjYWNoZSBvZiBwYXJzZWQgc3RyaW5ncy4gIFRvIHByb3ZpZGUgY2hlYXAgTFJVLWxpa2VcbiAgICAvLyBzZW1hbnRpY3MsIHdoZW5ldmVyIHRoZSBjYWNoZSBncm93cyB0b28gbGFyZ2Ugd2Ugc2ltcGx5IGRlbGV0ZSBhblxuICAgIC8vIGFyYml0cmFyeSAyNSUgb2YgdGhlIGVudHJpZXMuXG4gICAgLyoqXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB2YXIgTUFYX0NBQ0hFX1NJWkUgPSAxMDI0O1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBDb2xvcj59XG4gICAgICovXG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB2YXIgY2FjaGVTaXplID0gMDtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGNvbG9yO1xuICAgICAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkocykpIHtcbiAgICAgICAgICAgIGNvbG9yID0gY2FjaGVbc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2FjaGVTaXplID49IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGkrKyAmIDMpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC0tY2FjaGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sb3IgPSBmcm9tU3RyaW5nSW50ZXJuYWxfKHMpO1xuICAgICAgICAgICAgY2FjaGVbc10gPSBjb2xvcjtcbiAgICAgICAgICAgICsrY2FjaGVTaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9KTtcbn0pKCk7XG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gYXJyYXkuIFRoaXMgZnVuY3Rpb24gbWFpbnRhaW5zIGEgY2FjaGUgb2YgY2FsY3VsYXRlZFxuICogYXJyYXlzIHdoaWNoIG1lYW5zIHRoZSByZXN1bHQgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7Q29sb3J8c3RyaW5nfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQXJyYXkoY29sb3IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcoY29sb3IpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqL1xuZnVuY3Rpb24gZnJvbVN0cmluZ0ludGVybmFsXyhzKSB7XG4gICAgdmFyIHIsIGcsIGIsIGEsIGNvbG9yO1xuICAgIGlmIChOQU1FRF9DT0xPUl9SRV8uZXhlYyhzKSkge1xuICAgICAgICBzID0gZnJvbU5hbWVkKHMpO1xuICAgIH1cbiAgICBpZiAoSEVYX0NPTE9SX1JFXy5leGVjKHMpKSB7XG4gICAgICAgIC8vIGhleFxuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoIC0gMTsgLy8gbnVtYmVyIG9mIGhleCBkaWdpdHNcbiAgICAgICAgdmFyIGQgPSAvLyBudW1iZXIgb2YgZGlnaXRzIHBlciBjaGFubmVsXG4gICAgICAgICB2b2lkIDA7IC8vIG51bWJlciBvZiBkaWdpdHMgcGVyIGNoYW5uZWxcbiAgICAgICAgaWYgKG4gPD0gNCkge1xuICAgICAgICAgICAgZCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkID0gMjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzQWxwaGEgPSBuID09PSA0IHx8IG4gPT09IDg7XG4gICAgICAgIHIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMCAqIGQsIGQpLCAxNik7XG4gICAgICAgIGcgPSBwYXJzZUludChzLnN1YnN0cigxICsgMSAqIGQsIGQpLCAxNik7XG4gICAgICAgIGIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMiAqIGQsIGQpLCAxNik7XG4gICAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICAgICAgYSA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAzICogZCwgZCksIDE2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGEgPSAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQgPT0gMSkge1xuICAgICAgICAgICAgciA9IChyIDw8IDQpICsgcjtcbiAgICAgICAgICAgIGcgPSAoZyA8PCA0KSArIGc7XG4gICAgICAgICAgICBiID0gKGIgPDwgNCkgKyBiO1xuICAgICAgICAgICAgaWYgKGhhc0FscGhhKSB7XG4gICAgICAgICAgICAgICAgYSA9IChhIDw8IDQpICsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IFtyLCBnLCBiLCBhIC8gMjU1XTtcbiAgICB9XG4gICAgZWxzZSBpZiAocy5pbmRleE9mKCdyZ2JhKCcpID09IDApIHtcbiAgICAgICAgLy8gcmdiYSgpXG4gICAgICAgIGNvbG9yID0gcy5zbGljZSg1LCAtMSkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgbm9ybWFsaXplKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocy5pbmRleE9mKCdyZ2IoJykgPT0gMCkge1xuICAgICAgICAvLyByZ2IoKVxuICAgICAgICBjb2xvciA9IHMuc2xpY2UoNCwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIGNvbG9yLnB1c2goMSk7XG4gICAgICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIDE0KTsgLy8gSW52YWxpZCBjb2xvclxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG4vKipcbiAqIFRPRE8gdGhpcyBmdW5jdGlvbiBpcyBvbmx5IHVzZWQgaW4gdGhlIHRlc3QsIHdlIHByb2JhYmx5IHNob3VsZG4ndCBleHBvcnQgaXRcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3J9IENsYW1wZWQgY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoY29sb3IpIHtcbiAgICBjb2xvclswXSA9IGNsYW1wKChjb2xvclswXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICAgIGNvbG9yWzFdID0gY2xhbXAoKGNvbG9yWzFdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gICAgY29sb3JbMl0gPSBjbGFtcCgoY29sb3JbMl0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgICBjb2xvclszXSA9IGNsYW1wKGNvbG9yWzNdLCAwLCAxKTtcbiAgICByZXR1cm4gY29sb3I7XG59XG4vKipcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhjb2xvcikge1xuICAgIHZhciByID0gY29sb3JbMF07XG4gICAgaWYgKHIgIT0gKHIgfCAwKSkge1xuICAgICAgICByID0gKHIgKyAwLjUpIHwgMDtcbiAgICB9XG4gICAgdmFyIGcgPSBjb2xvclsxXTtcbiAgICBpZiAoZyAhPSAoZyB8IDApKSB7XG4gICAgICAgIGcgPSAoZyArIDAuNSkgfCAwO1xuICAgIH1cbiAgICB2YXIgYiA9IGNvbG9yWzJdO1xuICAgIGlmIChiICE9IChiIHwgMCkpIHtcbiAgICAgICAgYiA9IChiICsgMC41KSB8IDA7XG4gICAgfVxuICAgIHZhciBhID0gY29sb3JbM10gPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLnJvdW5kKGNvbG9yWzNdICogMTAwKSAvIDEwMDtcbiAgICByZXR1cm4gJ3JnYmEoJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICcsJyArIGEgKyAnKSc7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHN0cmluZyBpcyBhY3R1YWxseSBhIHZhbGlkIGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZ0NvbG9yKHMpIHtcbiAgICBpZiAoTkFNRURfQ09MT1JfUkVfLnRlc3QocykpIHtcbiAgICAgICAgcyA9IGZyb21OYW1lZChzKTtcbiAgICB9XG4gICAgcmV0dXJuIChIRVhfQ09MT1JfUkVfLnRlc3QocykgfHwgcy5pbmRleE9mKCdyZ2JhKCcpID09PSAwIHx8IHMuaW5kZXhPZigncmdiKCcpID09PSAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZVxuICovXG5pbXBvcnQgeyBhc1N0cmluZyB9IGZyb20gJy4uL2NvbG9yLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2luZ2xldG9uIGNsYXNzLiBBdmFpbGFibGUgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfnNoYXJlZH0uXG4gKi9cbnZhciBJY29uSW1hZ2VDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJY29uSW1hZ2VDYWNoZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVTaXplXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhDYWNoZVNpemVfID0gMzI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWNoZV8gPSB7fTtcbiAgICAgICAgdGhpcy5jYWNoZVNpemVfID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVNpemVfID4gdGhpcy5tYXhDYWNoZVNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmV4cGlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGVfKSB7XG4gICAgICAgICAgICAgICAgdmFyIGljb25JbWFnZSA9IHRoaXMuY2FjaGVfW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCAmJiAhaWNvbkltYWdlLmhhc0xpc3RlbmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVfW2tleV07XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jYWNoZVNpemVfO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH0gSWNvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gICAgICAgIHZhciBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMuY2FjaGVfID8gdGhpcy5jYWNoZV9ba2V5XSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IGljb25JbWFnZSBJY29uIGltYWdlLlxuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IsIGljb25JbWFnZSkge1xuICAgICAgICB2YXIga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICAgICAgdGhpcy5jYWNoZV9ba2V5XSA9IGljb25JbWFnZTtcbiAgICAgICAgKyt0aGlzLmNhY2hlU2l6ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNhY2hlIHNpemUgb2YgdGhlIGljb24gY2FjaGUuIERlZmF1bHQgaXMgYDMyYC4gQ2hhbmdlIHRoaXMgdmFsdWUgd2hlblxuICAgICAqIHlvdXIgbWFwIHVzZXMgbW9yZSB0aGFuIDMyIGRpZmZlcmVudCBpY29uIGltYWdlcyBhbmQgeW91IGFyZSBub3QgY2FjaGluZyBpY29uXG4gICAgICogc3R5bGVzIG9uIHRoZSBhcHBsaWNhdGlvbiBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Q2FjaGVTaXplIENhY2hlIG1heCBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChtYXhDYWNoZVNpemUpIHtcbiAgICAgICAgdGhpcy5tYXhDYWNoZVNpemVfID0gbWF4Q2FjaGVTaXplO1xuICAgICAgICB0aGlzLmV4cGlyZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEljb25JbWFnZUNhY2hlO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBDYWNoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIGdldEtleShzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcikge1xuICAgIHZhciBjb2xvclN0cmluZyA9IGNvbG9yID8gYXNTdHJpbmcoY29sb3IpIDogJ251bGwnO1xuICAgIHJldHVybiBjcm9zc09yaWdpbiArICc6JyArIHNyYyArICc6JyArIGNvbG9yU3RyaW5nO1xufVxuZXhwb3J0IGRlZmF1bHQgSWNvbkltYWdlQ2FjaGU7XG4vKipcbiAqIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfkljb25JbWFnZUNhY2hlfSBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSBpbWFnZXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2hhcmVkID0gbmV3IEljb25JbWFnZUNhY2hlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uSW1hZ2VDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU3RyaXBwZWQgZG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItRXZlbnRzL2V2ZW50cy5odG1sI0V2ZW50cy1pbnRlcmZhY2UuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IHByb3ZpZGVzIGB0eXBlYCBhbmQgYHRhcmdldGAgcHJvcGVydGllcywgYW5kXG4gKiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBtZXRob2RzLiBJdCBpcyBtZWFudCBhcyBiYXNlIGNsYXNzXG4gKiBmb3IgaGlnaGVyIGxldmVsIGV2ZW50cyBkZWZpbmVkIGluIHRoZSBsaWJyYXJ5LCBhbmQgd29ya3Mgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvVGFyZ2V0flRhcmdldH0uXG4gKi9cbnZhciBCYXNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlRXZlbnQodHlwZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXZlbnQgdGFyZ2V0LlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgZGVmYXVsdC4gVGhpcyBtZWFucyB0aGF0IG5vIGVtdWxhdGVkIGBjbGlja2AsIGBzaW5nbGVjbGlja2Agb3IgYGRvdWJsZWNsaWNrYCBldmVudHNcbiAgICAgKiB3aWxsIGJlIGZpcmVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlRXZlbnQ7XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdH0gZXZ0IEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZXZ0KSB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdH0gZXZ0IEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IEJhc2VFdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9PYmplY3RFdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBwcm9wZXJ0eSBpcyBjaGFuZ2VkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvT2JqZWN0Lk9iamVjdEV2ZW50I3Byb3BlcnR5Y2hhbmdlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBST1BFUlRZQ0hBTkdFOiAncHJvcGVydHljaGFuZ2UnLFxufTtcbi8qKlxuICogQHR5cGVkZWYgeydwcm9wZXJ0eWNoYW5nZSd9IFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdEV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvb2JqXG4gKi9cbi8qKlxuICogUG9seWZpbGwgZm9yIE9iamVjdC5hc3NpZ24oKS4gIEFzc2lnbnMgZW51bWVyYWJsZSBhbmQgb3duIHByb3BlcnRpZXMgZnJvbVxuICogb25lIG9yIG1vcmUgc291cmNlIG9iamVjdHMgdG8gYSB0YXJnZXQgb2JqZWN0LlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24uXG4gKlxuICogQHBhcmFtIHshT2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gdmFyX3NvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3QocykuXG4gKiBAcmV0dXJuIHshT2JqZWN0fSBUaGUgbW9kaWZpZWQgdGFyZ2V0IG9iamVjdC5cbiAqL1xuZXhwb3J0IHZhciBhc3NpZ24gPSB0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gT2JqZWN0LmFzc2lnblxuICAgIDogZnVuY3Rpb24gKHRhcmdldCwgdmFyX3NvdXJjZXMpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4vKipcbiAqIFJlbW92ZXMgYWxsIHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xlYXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihvYmplY3QpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfVxufVxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgT2JqZWN0LnZhbHVlcygpLiAgR2V0IGFuIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcyBmcm9tIGFuIG9iamVjdC5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvdmFsdWVzXG4gKlxuICogQHBhcmFtIHshT2JqZWN0PEssVj59IG9iamVjdCBUaGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSB2YWx1ZXMuXG4gKiBAcmV0dXJuIHshQXJyYXk8Vj59IFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiBAdGVtcGxhdGUgSyxWXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VmFsdWVzID0gdHlwZW9mIE9iamVjdC52YWx1ZXMgPT09ICdmdW5jdGlvbidcbiAgICA/IE9iamVjdC52YWx1ZXNcbiAgICA6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKG9iamVjdFtwcm9wZXJ0eV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBoYXMgYW55IHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgb2JqZWN0IGlzIGVtcHR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eShvYmplY3QpIHtcbiAgICB2YXIgcHJvcGVydHk7XG4gICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIXByb3BlcnR5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL1RhcmdldFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuL0V2ZW50LmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7RXZlbnRUYXJnZXR8VGFyZ2V0fSBFdmVudFRhcmdldExpa2VcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHNpbXBsaWZpZWQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFczQyBET00gTGV2ZWwgMiBFdmVudFRhcmdldCBpbnRlcmZhY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDAvUkVDLURPTS1MZXZlbC0yLUV2ZW50cy0yMDAwMTExMy9ldmVudHMuaHRtbCNFdmVudHMtRXZlbnRUYXJnZXQuXG4gKlxuICogVGhlcmUgYXJlIHR3byBpbXBvcnRhbnQgc2ltcGxpZmljYXRpb25zIGNvbXBhcmVkIHRvIHRoZSBzcGVjaWZpY2F0aW9uOlxuICpcbiAqIDEuIFRoZSBoYW5kbGluZyBvZiBgdXNlQ2FwdHVyZWAgaW4gYGFkZEV2ZW50TGlzdGVuZXJgIGFuZFxuICogICAgYHJlbW92ZUV2ZW50TGlzdGVuZXJgLiBUaGVyZSBpcyBubyByZWFsIGNhcHR1cmUgbW9kZWwuXG4gKiAyLiBUaGUgaGFuZGxpbmcgb2YgYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBwcmV2ZW50RGVmYXVsdGAgb24gYGRpc3BhdGNoRXZlbnRgLlxuICogICAgVGhlcmUgaXMgbm8gZXZlbnQgdGFyZ2V0IGhpZXJhcmNoeS4gV2hlbiBhIGxpc3RlbmVyIGNhbGxzXG4gKiAgICBgc3RvcFByb3BhZ2F0aW9uYCBvciBgcHJldmVudERlZmF1bHRgIG9uIGFuIGV2ZW50IG9iamVjdCwgaXQgbWVhbnMgdGhhdCBub1xuICogICAgbW9yZSBsaXN0ZW5lcnMgYWZ0ZXIgdGhpcyBvbmUgd2lsbCBiZSBjYWxsZWQuIFNhbWUgYXMgd2hlbiB0aGUgbGlzdGVuZXJcbiAqICAgIHJldHVybnMgZmFsc2UuXG4gKi9cbnZhciBUYXJnZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRhcmdldCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRfdGFyZ2V0XSBEZWZhdWx0IGV2ZW50IHRhcmdldCBmb3IgZGlzcGF0Y2hlZCBldmVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGFyZ2V0KG9wdF90YXJnZXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnRUYXJnZXRfID0gb3B0X3RhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGVuZGluZ1JlbW92YWxzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpc3BhdGNoaW5nXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyPj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saXN0ZW5lcnNfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0eXBlIHx8ICFsaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gfHwgKHRoaXMubGlzdGVuZXJzXyA9IHt9KTtcbiAgICAgICAgdmFyIGxpc3RlbmVyc0ZvclR5cGUgPSBsaXN0ZW5lcnNbdHlwZV0gfHwgKGxpc3RlbmVyc1t0eXBlXSA9IFtdKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyc0ZvclR5cGUuaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNGb3JUeXBlLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCBjYWxscyBhbGwgbGlzdGVuZXJzIGxpc3RlbmluZyBmb3IgZXZlbnRzXG4gICAgICogb2YgdGhpcyB0eXBlLiBUaGUgZXZlbnQgcGFyYW1ldGVyIGNhbiBlaXRoZXIgYmUgYSBzdHJpbmcgb3IgYW5cbiAgICAgKiBPYmplY3Qgd2l0aCBhIGB0eXBlYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gZXZlbnQgRXZlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBgZmFsc2VgIGlmIGFueW9uZSBjYWxsZWQgcHJldmVudERlZmF1bHQgb24gdGhlXG4gICAgICogICAgIGV2ZW50IG9iamVjdCBvciBpZiBhbnkgb2YgdGhlIGxpc3RlbmVycyByZXR1cm5lZCBmYWxzZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fEV2ZW50fSAqL1xuICAgICAgICB2YXIgZXZ0ID0gdHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJyA/IG5ldyBFdmVudChldmVudCkgOiBldmVudDtcbiAgICAgICAgdmFyIHR5cGUgPSBldnQudHlwZTtcbiAgICAgICAgaWYgKCFldnQudGFyZ2V0KSB7XG4gICAgICAgICAgICBldnQudGFyZ2V0ID0gdGhpcy5ldmVudFRhcmdldF8gfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXTtcbiAgICAgICAgdmFyIHByb3BhZ2F0ZTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgdmFyIGRpc3BhdGNoaW5nID0gdGhpcy5kaXNwYXRjaGluZ18gfHwgKHRoaXMuZGlzcGF0Y2hpbmdfID0ge30pO1xuICAgICAgICAgICAgdmFyIHBlbmRpbmdSZW1vdmFscyA9IHRoaXMucGVuZGluZ1JlbW92YWxzXyB8fCAodGhpcy5wZW5kaW5nUmVtb3ZhbHNfID0ge30pO1xuICAgICAgICAgICAgaWYgKCEodHlwZSBpbiBkaXNwYXRjaGluZykpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaGluZ1t0eXBlXSA9IDA7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1JlbW92YWxzW3R5cGVdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsrZGlzcGF0Y2hpbmdbdHlwZV07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICgnaGFuZGxlRXZlbnQnIGluIGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lck9iamVjdH0gKi8gKGxpc3RlbmVyc1tpXSkuaGFuZGxlRXZlbnQoZXZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyRnVuY3Rpb259ICovIChsaXN0ZW5lcnNbaV0pLmNhbGwodGhpcywgZXZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByb3BhZ2F0ZSA9PT0gZmFsc2UgfHwgZXZ0LnByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLS1kaXNwYXRjaGluZ1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChkaXNwYXRjaGluZ1t0eXBlXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwciA9IHBlbmRpbmdSZW1vdmFsc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGVuZGluZ1JlbW92YWxzW3R5cGVdO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBWT0lEKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BhdGNoaW5nW3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzXyAmJiBjbGVhcih0aGlzLmxpc3RlbmVyc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaXN0ZW5lcnMgZm9yIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUuIExpc3RlbmVycyBhcmUgcmV0dXJuZWQgaW4gdGhlXG4gICAgICogb3JkZXIgdGhhdCB0aGV5IHdpbGwgYmUgY2FsbGVkIGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXI+fHVuZGVmaW5lZH0gTGlzdGVuZXJzLlxuICAgICAqL1xuICAgIFRhcmdldC5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdKSB8fCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdF90eXBlXSBUeXBlLiBJZiBub3QgcHJvdmlkZWQsXG4gICAgICogICAgIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZXZlbnQgdGFyZ2V0IGhhcyBhbnkgbGlzdGVuZXJzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uIChvcHRfdHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzXykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRfdHlwZVxuICAgICAgICAgICAgPyBvcHRfdHlwZSBpbiB0aGlzLmxpc3RlbmVyc19cbiAgICAgICAgICAgIDogT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNfKS5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlbW92YWxzXyAmJiB0eXBlIGluIHRoaXMucGVuZGluZ1JlbW92YWxzXykge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGxpc3RlbmVyIGEgbm8tb3AsIGFuZCByZW1vdmUgbGF0ZXIgaW4gI2Rpc3BhdGNoRXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaW5kZXhdID0gVk9JRDtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnBlbmRpbmdSZW1vdmFsc19bdHlwZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUYXJnZXQ7XG59KERpc3Bvc2FibGUpKTtcbmV4cG9ydCBkZWZhdWx0IFRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRhcmdldC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgY2hhbmdlIGV2ZW50LiBUcmlnZ2VyZWQgd2hlbiB0aGUgcmV2aXNpb24gY291bnRlciBpcyBpbmNyZWFzZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2NoYW5nZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDSEFOR0U6ICdjaGFuZ2UnLFxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgZXJyb3IgZXZlbnQuIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjZXJyb3JcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgQkxVUjogJ2JsdXInLFxuICAgIENMRUFSOiAnY2xlYXInLFxuICAgIENPTlRFWFRNRU5VOiAnY29udGV4dG1lbnUnLFxuICAgIENMSUNLOiAnY2xpY2snLFxuICAgIERCTENMSUNLOiAnZGJsY2xpY2snLFxuICAgIERSQUdFTlRFUjogJ2RyYWdlbnRlcicsXG4gICAgRFJBR09WRVI6ICdkcmFnb3ZlcicsXG4gICAgRFJPUDogJ2Ryb3AnLFxuICAgIEZPQ1VTOiAnZm9jdXMnLFxuICAgIEtFWURPV046ICdrZXlkb3duJyxcbiAgICBLRVlQUkVTUzogJ2tleXByZXNzJyxcbiAgICBMT0FEOiAnbG9hZCcsXG4gICAgUkVTSVpFOiAncmVzaXplJyxcbiAgICBUT1VDSE1PVkU6ICd0b3VjaG1vdmUnLFxuICAgIFdIRUVMOiAnd2hlZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzXG4gKi9cbmltcG9ydCB7IGNsZWFyIH0gZnJvbSAnLi9vYmouanMnO1xuLyoqXG4gKiBLZXkgdG8gdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfk9ic2VydmFibGUjdW5CeUtleX0uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFdmVudHNLZXlcbiAqIEBwcm9wZXJ0eSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBUYXJnZXQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUeXBlLlxuICogQGFwaVxuICovXG4vKipcbiAqIExpc3RlbmVyIGZ1bmN0aW9uLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFuIGV2ZW50IG9iamVjdCBhcyBhcmd1bWVudC5cbiAqIFdoZW4gdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCwgZXZlbnQgcHJvcGFnYXRpb24gd2lsbCBzdG9wLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCkpOiAodm9pZHxib29sZWFuKX0gTGlzdGVuZXJGdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpc3RlbmVyT2JqZWN0XG4gKiBAcHJvcGVydHkge0xpc3RlbmVyRnVuY3Rpb259IGhhbmRsZUV2ZW50IEhhbmRsZUV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtMaXN0ZW5lckZ1bmN0aW9ufExpc3RlbmVyT2JqZWN0fSBMaXN0ZW5lclxuICovXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zXG4gKiBhIGtleSBmb3IgdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMudW5saXN0ZW5CeUtleX0uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdF90aGlzXSBPYmplY3QgcmVmZXJlbmNlZCBieSB0aGUgYHRoaXNgIGtleXdvcmQgaW4gdGhlXG4gKiAgICAgbGlzdGVuZXIuIERlZmF1bHQgaXMgdGhlIGB0YXJnZXRgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0X29uY2VdIElmIHRydWUsIGFkZCB0aGUgbGlzdGVuZXIgYXMgb25lLW9mZiBsaXN0ZW5lci5cbiAqIEByZXR1cm4ge0V2ZW50c0tleX0gVW5pcXVlIGtleSBmb3IgdGhlIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdF90aGlzLCBvcHRfb25jZSkge1xuICAgIGlmIChvcHRfdGhpcyAmJiBvcHRfdGhpcyAhPT0gdGFyZ2V0KSB7XG4gICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuYmluZChvcHRfdGhpcyk7XG4gICAgfVxuICAgIGlmIChvcHRfb25jZSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxMaXN0ZW5lcl8xID0gbGlzdGVuZXI7XG4gICAgICAgIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lcl8xLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBldmVudHNLZXkgPSB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gICAgfTtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGV2ZW50c0tleTtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIGEgb25lLW9mZiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCBhcyBzZWxmLXVucmVnaXN0ZXJpbmcgbGlzdGVuZXJcbiAqIHRvIGEgYHRoaXNgIG9iamVjdCwgYW5kIHJldHVybnMgYSBrZXkgZm9yIHVzZSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy51bmxpc3RlbkJ5S2V5fSBpbiBjYXNlIHRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZVxuICogdW5yZWdpc3RlcmVkIGJlZm9yZSBpdCBpcyBjYWxsZWQuXG4gKlxuICogV2hlbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy5saXN0ZW59IGlzIGNhbGxlZCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cyBhZnRlciB0aGlzXG4gKiBmdW5jdGlvbiwgdGhlIHNlbGYtdW5yZWdpc3RlcmluZyBsaXN0ZW5lciB3aWxsIGJlIHR1cm5lZCBpbnRvIGEgcGVybWFuZW50XG4gKiBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBFdmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFdmVudCB0eXBlLlxuICogQHBhcmFtIHtMaXN0ZW5lckZ1bmN0aW9ufSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0X3RoaXNdIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IEtleSBmb3IgdW5saXN0ZW5CeUtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0X3RoaXMpIHtcbiAgICByZXR1cm4gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdF90aGlzLCB0cnVlKTtcbn1cbi8qKlxuICogVW5yZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBpcyB0aGUga2V5IHJldHVybmVkIGZyb21cbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLmxpc3Rlbn0gb3Ige0BsaW5rIG1vZHVsZTpvbC9ldmVudHMubGlzdGVuT25jZX0uXG4gKlxuICogQHBhcmFtIHtFdmVudHNLZXl9IGtleSBUaGUga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5saXN0ZW5CeUtleShrZXkpIHtcbiAgICBpZiAoa2V5ICYmIGtleS50YXJnZXQpIHtcbiAgICAgICAga2V5LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS50eXBlLCBrZXkubGlzdGVuZXIpO1xuICAgICAgICBjbGVhcihrZXkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL09ic2VydmFibGVcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIGxpc3Rlbk9uY2UsIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG4vKioqXG4gKiBAdGVtcGxhdGUge3N0cmluZ30gVHlwZVxuICogQHRlbXBsYXRlIHtFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBFdmVudENsYXNzXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7KHR5cGU6IFR5cGUsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50Q2xhc3MpID0+ID8pID0+IFJldHVybn0gT25TaWduYXR1cmVcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIHtzdHJpbmd9IFR5cGVcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHsodHlwZTogVHlwZVtdLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSA9PiA/KSA9PiBSZXR1cm4gZXh0ZW5kcyB2b2lkID8gdm9pZCA6IFJldHVybltdfSBDb21iaW5lZE9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgeydjaGFuZ2UnfCdlcnJvcid9IEV2ZW50VHlwZXNcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge09uU2lnbmF0dXJlPEV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJiBDb21iaW5lZE9uU2lnbmF0dXJlPEV2ZW50VHlwZXMsIFJldHVybj59IE9ic2VydmFibGVPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEFuIGV2ZW50IHRhcmdldCBwcm92aWRpbmcgY29udmVuaWVudCBtZXRob2RzIGZvciBsaXN0ZW5lciByZWdpc3RyYXRpb25cbiAqIGFuZCB1bnJlZ2lzdHJhdGlvbi4gQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIGFsd2F5cyBhdmFpbGFibGUgdGhyb3VnaFxuICoge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfk9ic2VydmFibGUjY2hhbmdlZH0uXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHRcbiAqIEBhcGlcbiAqL1xudmFyIE9ic2VydmFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub24gPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtPYnNlcnZhYmxlT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn0gKi8gKF90aGlzLm9uSW50ZXJuYWwpO1xuICAgICAgICBfdGhpcy5vbmNlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59ICovIChfdGhpcy5vbmNlSW50ZXJuYWwpO1xuICAgICAgICBfdGhpcy51biA9IC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPHZvaWQ+fSAqLyAoX3RoaXMudW5JbnRlcm5hbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmV2aXNpb25fID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIHJldmlzaW9uIGNvdW50ZXIgYW5kIGRpc3BhdGNoZXMgYSAnY2hhbmdlJyBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgKyt0aGlzLnJldmlzaW9uXztcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2ZXJzaW9uIG51bWJlciBmb3IgdGhpcyBvYmplY3QuICBFYWNoIHRpbWUgdGhlIG9iamVjdCBpcyBtb2RpZmllZCxcbiAgICAgKiBpdHMgdmVyc2lvbiBudW1iZXIgd2lsbCBiZSBpbmNyZW1lbnRlZC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldmlzaW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5nZXRSZXZpc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2aXNpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IEV2ZW50IGtleS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25JbnRlcm5hbCA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBrZXlzW2ldID0gbGlzdGVuKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Rlbih0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBFdmVudCBrZXkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLm9uY2VJbnRlcm5hbCA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAga2V5W2ldID0gbGlzdGVuT25jZSh0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBsaXN0ZW5PbmNlKHRoaXMsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXkgPSBrZXk7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnVuSW50ZXJuYWwgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGtleSA9IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAobGlzdGVuZXIpLm9sX2tleTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgdW5CeUtleShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHR5cGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oRXZlbnRUYXJnZXQpKTtcbi8qKlxuICogTGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAqICAgICBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZiBldmVudCB0eXBlcyBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSByZXR1cm5cbiAqICAgICB3aWxsIGJlIGFuIGFycmF5IG9mIGtleXMuXG4gKiBAYXBpXG4gKi9cbk9ic2VydmFibGUucHJvdG90eXBlLm9uO1xuLyoqXG4gKiBMaXN0ZW4gb25jZSBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gKiAgICAgd2lsbCBiZSBhbiBhcnJheSBvZiBrZXlzLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5vbmNlO1xuLyoqXG4gKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBhcGlcbiAqL1xuT2JzZXJ2YWJsZS5wcm90b3R5cGUudW47XG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIGtleSByZXR1cm5lZCBieSBgb24oKWAgb3IgYG9uY2UoKWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBrZXkgVGhlIGtleSByZXR1cm5lZCBieSBgb24oKWBcbiAqICAgICBvciBgb25jZSgpYCAob3IgYW4gYXJyYXkgb2Yga2V5cykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bkJ5S2V5KGtleSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0ga2V5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoa2V5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSgvKiogQHR5cGUge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX0gKi8gKGtleSkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvT2JqZWN0XG4gKi9cbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYnNlcnZhYmxlIGZyb20gJy4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgeyBhc3NpZ24sIGlzRW1wdHkgfSBmcm9tICcuL29iai5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuL3V0aWwuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKi9cbnZhciBPYmplY3RFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JqZWN0RXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9iamVjdEV2ZW50KHR5cGUsIGtleSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3aG9zZSB2YWx1ZSBpcyBjaGFuZ2luZy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9sZCB2YWx1ZS4gVG8gZ2V0IHRoZSBuZXcgdmFsdWUgdXNlIGBlLnRhcmdldC5nZXQoZS5rZXkpYCB3aGVyZVxuICAgICAgICAgKiBgZWAgaXMgdGhlIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgT2JqZWN0RXZlbnQgfTtcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBPYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlcywgUmV0dXJuPn0gT2JqZWN0T25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBNb3N0IG5vbi10cml2aWFsIGNsYXNzZXMgaW5oZXJpdCBmcm9tIHRoaXMuXG4gKlxuICogVGhpcyBleHRlbmRzIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX0gd2l0aCBvYnNlcnZhYmxlXG4gKiBwcm9wZXJ0aWVzLCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIG9ic2VydmFibGUgYXMgd2VsbCBhcyB0aGUgb2JqZWN0IGFzIGFcbiAqIHdob2xlLlxuICpcbiAqIENsYXNzZXMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyBoYXZlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMsIHRvIHdoaWNoIHlvdSBjYW5cbiAqIGFkZCB5b3VyIG93bnMuIFRoZSBwcmUtZGVmaW5lZCBwcm9wZXJ0aWVzIGFyZSBsaXN0ZWQgaW4gdGhpcyBkb2N1bWVudGF0aW9uIGFzXG4gKiAnT2JzZXJ2YWJsZSBQcm9wZXJ0aWVzJywgYW5kIGhhdmUgdGhlaXIgb3duIGFjY2Vzc29yczsgZm9yIGV4YW1wbGUsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9IGhhcyBhIGB0YXJnZXRgIHByb3BlcnR5LCBhY2Nlc3NlZCB3aXRoXG4gKiBgZ2V0VGFyZ2V0KClgIGFuZCBjaGFuZ2VkIHdpdGggYHNldFRhcmdldCgpYC4gTm90IGFsbCBwcm9wZXJ0aWVzIGFyZSBob3dldmVyXG4gKiBzZXR0YWJsZS4gVGhlcmUgYXJlIGFsc28gZ2VuZXJhbC1wdXJwb3NlIGFjY2Vzc29ycyBgZ2V0KClgIGFuZCBgc2V0KClgLiBGb3JcbiAqIGV4YW1wbGUsIGBnZXQoJ3RhcmdldCcpYCBpcyBlcXVpdmFsZW50IHRvIGBnZXRUYXJnZXQoKWAuXG4gKlxuICogVGhlIGBzZXRgIGFjY2Vzc29ycyB0cmlnZ2VyIGEgY2hhbmdlIGV2ZW50LCBhbmQgeW91IGNhbiBtb25pdG9yIHRoaXMgYnlcbiAqIHJlZ2lzdGVyaW5nIGEgbGlzdGVuZXIuIEZvciBleGFtcGxlLCB7QGxpbmsgbW9kdWxlOm9sL1ZpZXd+Vmlld30gaGFzIGFcbiAqIGBjZW50ZXJgIHByb3BlcnR5LCBzbyBgdmlldy5vbignY2hhbmdlOmNlbnRlcicsIGZ1bmN0aW9uKGV2dCkgey4uLn0pO2Agd291bGRcbiAqIGNhbGwgdGhlIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSB2YWx1ZSBvZiB0aGUgY2VudGVyIHByb3BlcnR5IGNoYW5nZXMuIFdpdGhpblxuICogdGhlIGZ1bmN0aW9uLCBgZXZ0LnRhcmdldGAgd291bGQgYmUgdGhlIHZpZXcsIHNvIGBldnQudGFyZ2V0LmdldENlbnRlcigpYFxuICogd291bGQgcmV0dXJuIHRoZSBuZXcgY2VudGVyLlxuICpcbiAqIFlvdSBjYW4gYWRkIHlvdXIgb3duIG9ic2VydmFibGUgcHJvcGVydGllcyB3aXRoXG4gKiBgb2JqZWN0LnNldCgncHJvcCcsICd2YWx1ZScpYCwgYW5kIHJldHJpZXZlIHRoYXQgd2l0aCBgb2JqZWN0LmdldCgncHJvcCcpYC5cbiAqIFlvdSBjYW4gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoYXQgcHJvcGVydHkgdmFsdWUgd2l0aFxuICogYG9iamVjdC5vbignY2hhbmdlOnByb3AnLCBsaXN0ZW5lcilgLiBZb3UgY2FuIGdldCBhIGxpc3Qgb2YgYWxsXG4gKiBwcm9wZXJ0aWVzIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdCNnZXRQcm9wZXJ0aWVzfS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIG9ic2VydmFibGUgcHJvcGVydGllcyBhcmUgc2VwYXJhdGUgZnJvbSBzdGFuZGFyZCBKUyBwcm9wZXJ0aWVzLlxuICogWW91IGNhbiwgZm9yIGV4YW1wbGUsIGdpdmUgeW91ciBtYXAgb2JqZWN0IGEgdGl0bGUgd2l0aFxuICogYG1hcC50aXRsZT0nTmV3IHRpdGxlJ2AgYW5kIHdpdGggYG1hcC5zZXQoJ3RpdGxlJywgJ0Fub3RoZXIgdGl0bGUnKWAuIFRoZVxuICogZmlyc3Qgd2lsbCBiZSBhIGBoYXNPd25Qcm9wZXJ0eWA7IHRoZSBzZWNvbmQgd2lsbCBhcHBlYXIgaW5cbiAqIGBnZXRQcm9wZXJ0aWVzKClgLiBPbmx5IHRoZSBzZWNvbmQgaXMgb2JzZXJ2YWJsZS5cbiAqXG4gKiBQcm9wZXJ0aWVzIGNhbiBiZSBkZWxldGVkIGJ5IHVzaW5nIHRoZSB1bnNldCBtZXRob2QuIEUuZy5cbiAqIG9iamVjdC51bnNldCgnZm9vJykuXG4gKlxuICogQGZpcmVzIE9iamVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBCYXNlT2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlT2JqZWN0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IFtvcHRfdmFsdWVzXSBBbiBvYmplY3Qgd2l0aCBrZXktdmFsdWUgcGFpcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZU9iamVjdChvcHRfdmFsdWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIC8vIENhbGwge0BsaW5rIG1vZHVsZTpvbC91dGlsLmdldFVpZH0gdG8gZW5zdXJlIHRoYXQgdGhlIG9yZGVyIG9mIG9iamVjdHMnIGlkcyBpc1xuICAgICAgICAvLyB0aGUgc2FtZSBhcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGNyZWF0ZWQuICBUaGlzIGFsc28gaGVscHMgdG9cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBhZGRlZCBpbiB0aGUgc2FtZSBvcmRlciwgd2hpY2hcbiAgICAgICAgLy8gaGVscHMgbWFueSBKYXZhU2NyaXB0IGVuZ2luZXMgZ2VuZXJhdGUgZmFzdGVyIGNvZGUuXG4gICAgICAgIGdldFVpZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWx1ZXNfID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdF92YWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhvcHRfdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgICAqIEByZXR1cm4geyp9IFZhbHVlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzXyAmJiB0aGlzLnZhbHVlc18uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIG9iamVjdCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBMaXN0IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMudmFsdWVzXyAmJiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlc18pKSB8fCBbXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbiBvYmplY3Qgb2YgYWxsIHByb3BlcnR5IG5hbWVzIGFuZCB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgKj59IE9iamVjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlc18gJiYgYXNzaWduKHt9LCB0aGlzLnZhbHVlc18pKSB8fCB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaGFzIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuaGFzUHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy52YWx1ZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIE9sZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoa2V5LCBvbGRWYWx1ZSkge1xuICAgICAgICB2YXIgZXZlbnRUeXBlO1xuICAgICAgICBldmVudFR5cGUgPSBcImNoYW5nZTpcIiArIGtleTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICAgICAgZXZlbnRUeXBlID0gT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE9iamVjdEV2ZW50KGV2ZW50VHlwZSwga2V5LCBvbGRWYWx1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5hZGRDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChrZXksIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZTpcIiArIGtleSwgbGlzdGVuZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChrZXksIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZTpcIiArIGtleSwgbGlzdGVuZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2lsZW50XSBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgb3B0X3NpbGVudCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXNfIHx8ICh0aGlzLnZhbHVlc18gPSB7fSk7XG4gICAgICAgIGlmIChvcHRfc2lsZW50KSB7XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY29sbGVjdGlvbiBvZiBrZXktdmFsdWUgcGFpcnMuICBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIGFueSBleGlzdGluZ1xuICAgICAqIHByb3BlcnRpZXMgYW5kIGFkZHMgbmV3IG9uZXMgKGl0IGRvZXMgbm90IHJlbW92ZSBhbnkgZXhpc3RpbmcgcHJvcGVydGllcykuXG4gICAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2lsZW50XSBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHZhbHVlcywgb3B0X3NpbGVudCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIHZhbHVlc1trZXldLCBvcHRfc2lsZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYW55IHByb3BlcnRpZXMgZnJvbSBhbm90aGVyIG9iamVjdCB3aXRob3V0IHRyaWdnZXJpbmcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7QmFzZU9iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5hcHBseVByb3BlcnRpZXMgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmICghc291cmNlLnZhbHVlc18pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24odGhpcy52YWx1ZXNfIHx8ICh0aGlzLnZhbHVlc18gPSB7fSksIHNvdXJjZS52YWx1ZXNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0cyBhIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X3NpbGVudF0gVW5zZXQgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS51bnNldCA9IGZ1bmN0aW9uIChrZXksIG9wdF9zaWxlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzXyAmJiBrZXkgaW4gdGhpcy52YWx1ZXNfKSB7XG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHRoaXMudmFsdWVzXykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc18gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvcHRfc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoa2V5LCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCYXNlT2JqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlT2JqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Qcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBPUEFDSVRZOiAnb3BhY2l0eScsXG4gICAgVklTSUJMRTogJ3Zpc2libGUnLFxuICAgIEVYVEVOVDogJ2V4dGVudCcsXG4gICAgWl9JTkRFWDogJ3pJbmRleCcsXG4gICAgTUFYX1JFU09MVVRJT046ICdtYXhSZXNvbHV0aW9uJyxcbiAgICBNSU5fUkVTT0xVVElPTjogJ21pblJlc29sdXRpb24nLFxuICAgIE1BWF9aT09NOiAnbWF4Wm9vbScsXG4gICAgTUlOX1pPT006ICdtaW5ab29tJyxcbiAgICBTT1VSQ0U6ICdzb3VyY2UnLFxuICAgIE1BUDogJ21hcCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvcGVydHkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgTGF5ZXJQcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBBIGNzcyBjb2xvciwgb3IgYSBmdW5jdGlvbiBjYWxsZWQgd2l0aCBhIHZpZXcgcmVzb2x1dGlvbiByZXR1cm5pbmcgYSBjc3MgY29sb3IuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xmdW5jdGlvbihudW1iZXIpOnN0cmluZ30gQmFja2dyb3VuZENvbG9yXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmV4dGVudCd8J2NoYW5nZTptYXhSZXNvbHV0aW9uJ3wnY2hhbmdlOm1heFpvb20nfFxuICogICAgJ2NoYW5nZTptaW5SZXNvbHV0aW9uJ3wnY2hhbmdlOm1pblpvb20nfCdjaGFuZ2U6b3BhY2l0eSd8J2NoYW5nZTp2aXNpYmxlJ3wnY2hhbmdlOnpJbmRleCd9IEJhc2VMYXllck9iamVjdEV2ZW50VHlwZXNcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8QmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xCYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzLCBSZXR1cm4+fSBCYXNlTGF5ZXJPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge0JhY2tncm91bmRDb2xvcn0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm8gYmFja2dyb3VuZFxuICogd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTm90ZSB0aGF0IHdpdGgge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfSBhbmQgYWxsIGl0cyBzdWJjbGFzc2VzLCBhbnkgcHJvcGVydHkgc2V0IGluXG4gKiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH0gcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdCwgc29cbiAqIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG52YXIgQmFzZUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUxheWVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0JhY2tncm91bmRDb2xvcnxmYWxzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhY2tncm91bmRfID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICBhc3NpZ24ocHJvcGVydGllcywgb3B0aW9ucy5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuT1BBQ0lUWV0gPVxuICAgICAgICAgICAgb3B0aW9ucy5vcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYWNpdHkgOiAxO1xuICAgICAgICBhc3NlcnQodHlwZW9mIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZXSA9PT0gJ251bWJlcicsIDY0KTsgLy8gTGF5ZXIgb3BhY2l0eSBtdXN0IGJlIGEgbnVtYmVyXG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFXSA9XG4gICAgICAgICAgICBvcHRpb25zLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmlzaWJsZSA6IHRydWU7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5aX0lOREVYXSA9IG9wdGlvbnMuekluZGV4O1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT05dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhSZXNvbHV0aW9uIDogSW5maW5pdHk7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTl0gPVxuICAgICAgICAgICAgb3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblJlc29sdXRpb24gOiAwO1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUlOX1pPT01dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogLUluZmluaXR5O1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1pPT01dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xhc3NOYW1lXyA9XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtbGF5ZXInO1xuICAgICAgICBkZWxldGUgcHJvcGVydGllcy5jbGFzc05hbWU7XG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlXyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBiYWNrZ3JvdW5kIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge0JhY2tncm91bmRDb2xvcnxmYWxzZX0gTGF5ZXIgYmFja2dyb3VuZC5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldEJhY2tncm91bmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBDU1MgY2xhc3MgbmFtZS5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldENsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NOYW1lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBtZWFudCB0byBiZSBjYWxsZWQgYnkgbGF5ZXJzIG9yIGxheWVyIHJlbmRlcmVycyBiZWNhdXNlIHRoZSBzdGF0ZVxuICAgICAqIGlzIGluY29ycmVjdCBpZiB0aGUgbGF5ZXIgaXMgaW5jbHVkZWQgaW4gYSBsYXllciBncm91cC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9tYW5hZ2VkXSBMYXllciBpcyBtYW5hZ2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9IExheWVyIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZSA9IGZ1bmN0aW9uIChvcHRfbWFuYWdlZCkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9ICovXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVfIHx8XG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovICh7XG4gICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgbWFuYWdlZDogb3B0X21hbmFnZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRfbWFuYWdlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB2YXIgekluZGV4ID0gdGhpcy5nZXRaSW5kZXgoKTtcbiAgICAgICAgc3RhdGUub3BhY2l0eSA9IGNsYW1wKE1hdGgucm91bmQodGhpcy5nZXRPcGFjaXR5KCkgKiAxMDApIC8gMTAwLCAwLCAxKTtcbiAgICAgICAgc3RhdGUuc291cmNlU3RhdGUgPSB0aGlzLmdldFNvdXJjZVN0YXRlKCk7XG4gICAgICAgIHN0YXRlLnZpc2libGUgPSB0aGlzLmdldFZpc2libGUoKTtcbiAgICAgICAgc3RhdGUuZXh0ZW50ID0gdGhpcy5nZXRFeHRlbnQoKTtcbiAgICAgICAgc3RhdGUuekluZGV4ID0gekluZGV4ID09PSB1bmRlZmluZWQgJiYgIXN0YXRlLm1hbmFnZWQgPyBJbmZpbml0eSA6IHpJbmRleDtcbiAgICAgICAgc3RhdGUubWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0TWF4UmVzb2x1dGlvbigpO1xuICAgICAgICBzdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgodGhpcy5nZXRNaW5SZXNvbHV0aW9uKCksIDApO1xuICAgICAgICBzdGF0ZS5taW5ab29tID0gdGhpcy5nZXRNaW5ab29tKCk7XG4gICAgICAgIHN0YXRlLm1heFpvb20gPSB0aGlzLmdldE1heFpvb20oKTtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBbb3B0X2FycmF5XSBBcnJheSBvZiBsYXllcnMgKHRvIGJlXG4gICAgICogICAgIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBbb3B0X3N0YXRlc10gT3B0aW9uYWwgbGlzdCBvZiBsYXllclxuICAgICAqICAgICBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlc0FycmF5ID0gZnVuY3Rpb24gKG9wdF9zdGF0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudCBleHRlbnR9IG9mIHRoZSBsYXllciBvciBgdW5kZWZpbmVkYCBpZiBpdFxuICAgICAqIHdpbGwgYmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIGV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gVGhlIGxheWVyIGV4dGVudC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LkVYVEVOVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldE1pblJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TWluWm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9aT09NKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyIChiZXR3ZWVuIDAgYW5kIDEpLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlZJU0lCTEUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZVxuICAgICAqIHJlbmRlcmluZy4gVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIFotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0WkluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlpfSU5ERVgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJhY2tncmxvdW5kIGNvbG9yLlxuICAgICAqIEBwYXJhbSB7QmFja2dyb3VuZENvbG9yfSBbb3B0X2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKG9wdF9iYWNrZ3JvdW5kKSB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZF8gPSBvcHRfYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGV4dGVudCBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS4gIElmIGB1bmRlZmluZWRgLCB0aGUgbGF5ZXJcbiAgICAgKiB3aWxsIGJlIHZpc2libGUgYXQgYWxsIGV4dGVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gZXh0ZW50IFRoZSBleHRlbnQgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0RXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5LkVYVEVOVCwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF4aW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0TWF4UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChtYXhSZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT04sIG1heFJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtaW5pbXVtIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKG1pblJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTiwgbWluUmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1heGltdW0gem9vbSAoZXhjbHVzaXZlKSBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIHpvb20gbGV2ZWxzIGZvciBsYXllciB2aXNpYmlsaXR5IGFyZSBiYXNlZCBvbiB0aGVcbiAgICAgKiB2aWV3IHpvb20gbGV2ZWwsIHdoaWNoIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBhIHRpbGUgc291cmNlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFpvb20gVGhlIG1heGltdW0gem9vbSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNYXhab29tID0gZnVuY3Rpb24gKG1heFpvb20pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfWk9PTSwgbWF4Wm9vbSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1pbmltdW0gem9vbSAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIHpvb20gbGV2ZWxzIGZvciBsYXllciB2aXNpYmlsaXR5IGFyZSBiYXNlZCBvbiB0aGVcbiAgICAgKiB2aWV3IHpvb20gbGV2ZWwsIHdoaWNoIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBhIHRpbGUgc291cmNlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblpvb20gVGhlIG1pbmltdW0gem9vbSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNaW5ab29tID0gZnVuY3Rpb24gKG1pblpvb20pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSwgbWluWm9vbSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLCBhbGxvd2VkIHZhbHVlcyByYW5nZSBmcm9tIDAgdG8gMS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBUaGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRPcGFjaXR5ID0gZnVuY3Rpb24gKG9wYWNpdHkpIHtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiBvcGFjaXR5ID09PSAnbnVtYmVyJywgNjQpOyAvLyBMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXJcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZLCBvcGFjaXR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIgKGB0cnVlYCBvciBgZmFsc2VgKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZpc2libGUgVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuVklTSUJMRSwgdmlzaWJsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6aW5kZXggVGhlIHotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0WkluZGV4ID0gZnVuY3Rpb24gKHppbmRleCkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5LlpfSU5ERVgsIHppbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVfKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlXy5sYXllciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN0YXRlXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlTGF5ZXI7XG59KEJhc2VPYmplY3QpKTtcbmV4cG9ydCBkZWZhdWx0IEJhc2VMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3ByZXJlbmRlclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQUkVSRU5ERVI6ICdwcmVyZW5kZXInLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3RyZW5kZXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUE9TVFJFTkRFUjogJ3Bvc3RyZW5kZXInLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgbGF5ZXJzIGFyZSBjb21wb3NlZC4gIFdoZW4gZGlzcGF0Y2hlZCBieSB0aGUgbWFwLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmVcbiAgICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgICAqIFdlYkdMIGxheWVycyBjdXJyZW50bHkgZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVjb21wb3NlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBSRUNPTVBPU0U6ICdwcmVjb21wb3NlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgbGF5ZXJzIGFyZSBjb21wb3NlZC4gIFdoZW4gZGlzcGF0Y2hlZCBieSB0aGUgbWFwLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmVcbiAgICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgICAqIFdlYkdMIGxheWVycyBjdXJyZW50bHkgZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0Y29tcG9zZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT1NUQ09NUE9TRTogJ3Bvc3Rjb21wb3NlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUsIGkuZS4gYWxsIHNvdXJjZXMgYW5kIHRpbGVzIGhhdmVcbiAgICAgKiBmaW5pc2hlZCBsb2FkaW5nIGZvciB0aGUgY3VycmVudCB2aWV3cG9ydCwgYW5kIGFsbCB0aWxlcyBhcmUgZmFkZWQgaW4uXG4gICAgICogVGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlIGEgYGNvbnRleHRgIHNldC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSRU5ERVJDT01QTEVURTogJ3JlbmRlcmNvbXBsZXRlJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHsncG9zdHJlbmRlcid8J3ByZWNvbXBvc2UnfCdwb3N0Y29tcG9zZSd8J3JlbmRlcmNvbXBsZXRlJ30gTWFwUmVuZGVyRXZlbnRUeXBlc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHsncG9zdHJlbmRlcid8J3ByZXJlbmRlcid9IExheWVyUmVuZGVyRXZlbnRUeXBlc1xuICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9TdGF0ZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBTdGF0ZSBvZiB0aGUgc291cmNlLCBvbmUgb2YgJ3VuZGVmaW5lZCcsICdsb2FkaW5nJywgJ3JlYWR5JyBvciAnZXJyb3InLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgVU5ERUZJTkVEOiAndW5kZWZpbmVkJyxcbiAgICBMT0FESU5HOiAnbG9hZGluZycsXG4gICAgUkVBRFk6ICdyZWFkeScsXG4gICAgRVJST1I6ICdlcnJvcicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9MYXllclxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGUpOkhUTUxFbGVtZW50fSBSZW5kZXJGdW5jdGlvblxuICovXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICAnY2hhbmdlOnNvdXJjZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3wnY2hhbmdlOnNvdXJjZSd8XG4gKiAgICAgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IExheWVyT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdH0gU291cmNlVHlwZVxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7U291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLiAgSWYgbm90IHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3RvcixcbiAqIHRoZSBzb3VyY2UgY2FuIGJlIHNldCBieSBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0U291cmNlIGxheWVyLnNldFNvdXJjZShzb3VyY2UpfSBhZnRlclxuICogY29uc3RydWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gTWFwLlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW3JlbmRlcl0gUmVuZGVyIGZ1bmN0aW9uLiBUYWtlcyB0aGUgZnJhbWUgc3RhdGUgYXMgaW5wdXQgYW5kIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhblxuICogSFRNTCBlbGVtZW50LiBXaWxsIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCByZW5kZXJpbmcgZm9yIHRoZSBsYXllci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHksIHRoZSB2YWx1ZSBpcyByb3VuZGVkIHRvIHR3byBkaWdpdHMgdG8gYXBwZWFyIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gc291cmNlU3RhdGUgU291cmNlU3RhdGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHZpc2libGUgVmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbWFuYWdlZCBNYW5hZ2VkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gekluZGV4IFpJbmRleC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ab29tIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhab29tIE1heGltdW0gem9vbS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZyb20gd2hpY2ggYWxsIGxheWVyIHR5cGVzIGFyZSBkZXJpdmVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZFxuICogaW4gdGhlIGNhc2Ugd2hlcmUgYSBjdXN0b20gbGF5ZXIgaXMgYmUgYWRkZWQgdG8gdGhlIG1hcCB3aXRoIGEgY3VzdG9tIGByZW5kZXJgIGZ1bmN0aW9uLlxuICogU3VjaCBhIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIGBvcHRpb25zYCBvYmplY3QsIGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYW4gSFRNTCBlbGVtZW50LlxuICpcbiAqIEEgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9mIHJhc3RlciBvciB2ZWN0b3IgbWFwIGRhdGEuXG4gKiBMYXllcnMgZ3JvdXAgdG9nZXRoZXIgdGhvc2UgcHJvcGVydGllcyB0aGF0IHBlcnRhaW4gdG8gaG93IHRoZSBkYXRhIGlzIHRvIGJlXG4gKiBkaXNwbGF5ZWQsIGlycmVzcGVjdGl2ZSBvZiB0aGUgc291cmNlIG9mIHRoYXQgZGF0YS5cbiAqXG4gKiBMYXllcnMgYXJlIHVzdWFsbHkgYWRkZWQgdG8gYSBtYXAgd2l0aCB7QGxpbmsgaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXIgbWFwLmFkZExheWVyKCl9LiBDb21wb25lbnRzXG4gKiBsaWtlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhd35EcmF3fSB1c2UgdW5tYW5hZ2VkIGxheWVyc1xuICogaW50ZXJuYWxseS4gVGhlc2UgdW5tYW5hZ2VkIGxheWVycyBhcmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAgdXNpbmdcbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0TWFwfSBpbnN0ZWFkLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBzZXZlcmFsIGxheWVycyBtaWdodCBnZXQgcmVuZGVyZWQgdG9cbiAqIHRoZSBzYW1lIEhUTUwgZWxlbWVudCwgd2hpY2ggd2lsbCBjYXVzZSB7QGxpbmsgaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHQjZm9yRWFjaExheWVyQXRQaXhlbCBtYXAuZm9yRWFjaExheWVyQXRQaXhlbCgpfSB0b1xuICogZ2l2ZSBmYWxzZSBwb3NpdGl2ZXMuIFRvIGF2b2lkIHRoaXMsIGFwcGx5IGRpZmZlcmVudCBgY2xhc3NOYW1lYCBwcm9wZXJ0aWVzIHRvIHRoZVxuICogbGF5ZXJzIGF0IGNyZWF0aW9uIHRpbWUuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnQjcG9zdHJlbmRlclxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2VUeXBlXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyVHlwZVxuICogQGFwaVxuICovXG52YXIgTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uczxTb3VyY2VUeXBlPn0gb3B0aW9ucyBMYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExheWVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGJhc2VPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnNvdXJjZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwUHJlY29tcG9zZUtleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwUmVuZGVyS2V5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJlclR5cGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuICAgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCByZW5kZXIgbWV0aG9kIHdpdGggYSBjdXN0b20gb25lXG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWFwKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRNYXAob3B0aW9ucy5tYXApO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFkZENoYW5nZUxpc3RlbmVyKExheWVyUHJvcGVydHkuU09VUkNFLCBfdGhpcy5oYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8pO1xuICAgICAgICB2YXIgc291cmNlID0gb3B0aW9ucy5zb3VyY2VcbiAgICAgICAgICAgID8gLyoqIEB0eXBlIHtTb3VyY2VUeXBlfSAqLyAob3B0aW9ucy5zb3VyY2UpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIF90aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gW29wdF9hcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gb3B0X2FycmF5ID8gb3B0X2FycmF5IDogW107XG4gICAgICAgIGFycmF5LnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IFtvcHRfc3RhdGVzXSBPcHRpb25hbCBsaXN0IG9mIGxheWVyIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIChvcHRfc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzID8gb3B0X3N0YXRlcyA6IFtdO1xuICAgICAgICBzdGF0ZXMucHVzaCh0aGlzLmdldExheWVyU3RhdGUoKSk7XG4gICAgICAgIHJldHVybiBzdGF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtTb3VyY2VUeXBlfSBUaGUgbGF5ZXIgc291cmNlIChvciBgbnVsbGAgaWYgbm90IHlldCBzZXQpLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge1NvdXJjZVR5cGV9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlNPVVJDRSkpIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICAgIHJldHVybiAhc291cmNlID8gU291cmNlU3RhdGUuVU5ERUZJTkVEIDogc291cmNlLmdldFN0YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5oYW5kbGVTb3VyY2VDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnNvdXJjZUNoYW5nZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbGlzdGVuKHNvdXJjZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVTb3VyY2VDaGFuZ2VfLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5kZWZhdWx0Pj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoXG4gICAgICogYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXR1cm4gcmVzb2x2ZShbXSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbiBjaGFyZ2UgdG8gbWFuYWdlIHRoZSByZW5kZXJpbmcgb2YgdGhlIGxheWVyLiBPbmUgbGF5ZXIgdHlwZSBpc1xuICAgICAqIGJvdW5kZWQgd2l0aCBvbmUgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB3aGljaCB0aGUgcmVuZGVyZXIgbWF5IChidXQgbmVlZCBub3QpIHVzZVxuICAgICAqIGZvciByZW5kZXJpbmcgaXRzIGNvbnRlbnQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gdGhpcy5nZXRSZW5kZXJlcigpO1xuICAgICAgICBpZiAobGF5ZXJSZW5kZXJlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllclJlbmRlcmVyLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvciB1c2UgaW5zaWRlIHRoZSBsaWJyYXJ5IG9ubHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuc2V0TWFwSW50ZXJuYWwgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFQLCBtYXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yIHVzZSBpbnNpZGUgdGhlIGxpYnJhcnkgb25seS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRNYXBJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFQKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxheWVyIHRvIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBsYXllcnMgb24gYSBtYXAuIFRoZSBtYXAgd2lsbFxuICAgICAqIG5vdCBtYW5hZ2UgdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgY2FsbGJhY2sgaW5cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjZm9yRWFjaExheWVyQXRQaXhlbH0gd2lsbCByZWNlaXZlIGBudWxsYCBhcyBsYXllci4gVGhpc1xuICAgICAqIGlzIHVzZWZ1bCBmb3IgdGVtcG9yYXJ5IGxheWVycy4gVG8gcmVtb3ZlIGFuIHVubWFuYWdlZCBsYXllciBmcm9tIHRoZSBtYXAsXG4gICAgICogdXNlIGAjc2V0TWFwKG51bGwpYC5cbiAgICAgKlxuICAgICAqIFRvIGFkZCB0aGUgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwLCB1c2VcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjYWRkTGF5ZXJ9IGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwUHJlY29tcG9zZUtleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQcmVjb21wb3NlS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFwUmVuZGVyS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLm1hcFJlbmRlcktleV8pO1xuICAgICAgICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbGlzdGVuKG1hcCwgUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyRXZlbnQgPSBcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0KTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IHJlbmRlckV2ZW50LmZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gQSBsYXllciBjYW4gb25seSBiZSBhZGRlZCB0byB0aGUgbWFwIG9uY2UuIFVzZSBlaXRoZXIgYGxheWVyLnNldE1hcCgpYCBvciBgbWFwLmFkZExheWVyKClgLCBub3QgYm90aC5cbiAgICAgICAgICAgICAgICBhc3NlcnQoIWxheWVyU3RhdGVzQXJyYXkuc29tZShmdW5jdGlvbiAoYXJyYXlMYXllclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheUxheWVyU3RhdGUubGF5ZXIgPT09IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICAgICAgfSksIDY3KTtcbiAgICAgICAgICAgICAgICBsYXllclN0YXRlc0FycmF5LnB1c2gobGF5ZXJTdGF0ZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IGxpc3Rlbih0aGlzLCBFdmVudFR5cGUuQ0hBTkdFLCBtYXAucmVuZGVyLCBtYXApO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U291cmNlVHlwZX0gc291cmNlIFRoZSBsYXllciBzb3VyY2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNldFNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UsIHNvdXJjZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge1JlbmRlcmVyVHlwZX0gVGhlIGxheWVyIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGhhcyBhIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5oYXNSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5yZW5kZXJlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSByZW5kZXJlciBmb3IgdGhpcyBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtSZW5kZXJlclR5cGV9IEEgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXJfLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlbmRlcmVyXztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFNvdXJjZShudWxsKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBMYXllcjtcbn0oQmFzZUxheWVyKSk7XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGxheWVyIGlzIHZpc2libGUgYW5kIGlmIHRoZSBwcm92aWRlZCB2aWV3IHN0YXRlXG4gKiBoYXMgcmVzb2x1dGlvbiBhbmQgem9vbSBsZXZlbHMgdGhhdCBhcmUgaW4gcmFuZ2Ugb2YgdGhlIGxheWVyJ3MgbWluL21heC5cbiAqIEBwYXJhbSB7U3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuU3RhdGV9IHZpZXdTdGF0ZSBWaWV3IHN0YXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGlzIHZpc2libGUgYXQgdGhlIGdpdmVuIHZpZXcgc3RhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSB7XG4gICAgaWYgKCFsYXllclN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGlmIChyZXNvbHV0aW9uIDwgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uIHx8XG4gICAgICAgIHJlc29sdXRpb24gPj0gbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHpvb20gPSB2aWV3U3RhdGUuem9vbTtcbiAgICByZXR1cm4gem9vbSA+IGxheWVyU3RhdGUubWluWm9vbSAmJiB6b29tIDw9IGxheWVyU3RhdGUubWF4Wm9vbTtcbn1cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nvb3JkaW5hdGVcbiAqL1xuaW1wb3J0IHsgZ2V0V2lkdGggfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHsgcGFkTnVtYmVyIH0gZnJvbSAnLi9zdHJpbmcuanMnO1xuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhbiB4eSBjb29yZGluYXRlLiBFeGFtcGxlOiBgWzE2LCA0OF1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvb3JkaW5hdGVcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYW5kXG4gKiB0cmFuc2Zvcm1zIGl0IGludG8gYSBge3N0cmluZ31gLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogc3RyaW5nfSBDb29yZGluYXRlRm9ybWF0XG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQWRkIGBkZWx0YWAgdG8gYGNvb3JkaW5hdGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHthZGR9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBhZGQoY29vcmQsIFstMiwgNF0pO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbNS44NSwgNTEuOTgzMzMzXVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBpbnB1dCBjb29yZGluYXRlIGFkanVzdGVkIGJ5XG4gKiB0aGUgZ2l2ZW4gZGVsdGEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29vcmRpbmF0ZSwgZGVsdGEpIHtcbiAgICBjb29yZGluYXRlWzBdICs9ICtkZWx0YVswXTtcbiAgICBjb29yZGluYXRlWzFdICs9ICtkZWx0YVsxXTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludCBvbiB0aGUgY2lyY3VtZmVyZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPbkNpcmNsZShjb29yZGluYXRlLCBjaXJjbGUpIHtcbiAgICB2YXIgciA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgICB2YXIgY2VudGVyID0gY2lyY2xlLmdldENlbnRlcigpO1xuICAgIHZhciB4MCA9IGNlbnRlclswXTtcbiAgICB2YXIgeTAgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgxID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeTEgPSBjb29yZGluYXRlWzFdO1xuICAgIHZhciBkeCA9IHgxIC0geDA7XG4gICAgdmFyIGR5ID0geTEgLSB5MDtcbiAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgZHggPSAxO1xuICAgIH1cbiAgICB2YXIgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgdmFyIHggPSB4MCArIChyICogZHgpIC8gZDtcbiAgICB2YXIgeSA9IHkwICsgKHIgKiBkeSkgLyBkO1xuICAgIHJldHVybiBbeCwgeV07XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHBhc3NlZCBjb29yZGluYXRlIG9uIHRoZSBwYXNzZWQgc2VnbWVudC5cbiAqIFRoaXMgaXMgdGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2YgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQgd2hlblxuICogdGhlIGZvb3QgaXMgb24gdGhlIHNlZ21lbnQsIG9yIHRoZSBjbG9zZXN0IHNlZ21lbnQgY29vcmRpbmF0ZSB3aGVuIHRoZSBmb290XG4gKiBpcyBvdXRzaWRlIHRoZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgVGhlIHR3byBjb29yZGluYXRlc1xuICogb2YgdGhlIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZlxuICogdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgICB2YXIgeDAgPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5MCA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIHN0YXJ0ID0gc2VnbWVudFswXTtcbiAgICB2YXIgZW5kID0gc2VnbWVudFsxXTtcbiAgICB2YXIgeDEgPSBzdGFydFswXTtcbiAgICB2YXIgeTEgPSBzdGFydFsxXTtcbiAgICB2YXIgeDIgPSBlbmRbMF07XG4gICAgdmFyIHkyID0gZW5kWzFdO1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICB2YXIgYWxvbmcgPSBkeCA9PT0gMCAmJiBkeSA9PT0gMFxuICAgICAgICA/IDBcbiAgICAgICAgOiAoZHggKiAoeDAgLSB4MSkgKyBkeSAqICh5MCAtIHkxKSkgLyAoZHggKiBkeCArIGR5ICogZHkgfHwgMCk7XG4gICAgdmFyIHgsIHk7XG4gICAgaWYgKGFsb25nIDw9IDApIHtcbiAgICAgICAgeCA9IHgxO1xuICAgICAgICB5ID0geTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFsb25nID49IDEpIHtcbiAgICAgICAgeCA9IHgyO1xuICAgICAgICB5ID0geTI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB4ID0geDEgKyBhbG9uZyAqIGR4O1xuICAgICAgICB5ID0geTEgKyBhbG9uZyAqIGR5O1xuICAgIH1cbiAgICByZXR1cm4gW3gsIHldO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGVGb3JtYXR9IGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gKiB1c2VkIHRvIGZvcm1hdFxuICogYSB7Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIHdpdGggZXhwbGljaXRseSBzcGVjaWZ5aW5nIDIgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKDIpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3Ljg1LCA0Ny45OCdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9mcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZUZvcm1hdH0gQ29vcmRpbmF0ZSBmb3JtYXQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJpbmdYWShvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIFhZLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZ1hZKGNvb3JkaW5hdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZW1pc3BoZXJlcyBIZW1pc3BoZXJlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9mcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzVG9TdHJpbmdIRE1TKGhlbWlzcGhlcmVzLCBkZWdyZWVzLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICB2YXIgbm9ybWFsaXplZERlZ3JlZXMgPSBtb2R1bG8oZGVncmVlcyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgICB2YXIgeCA9IE1hdGguYWJzKDM2MDAgKiBub3JtYWxpemVkRGVncmVlcyk7XG4gICAgdmFyIGRmbFByZWNpc2lvbiA9IG9wdF9mcmFjdGlvbkRpZ2l0cyB8fCAwO1xuICAgIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgZGZsUHJlY2lzaW9uKTtcbiAgICB2YXIgZGVnID0gTWF0aC5mbG9vcih4IC8gMzYwMCk7XG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKHggLSBkZWcgKiAzNjAwKSAvIDYwKTtcbiAgICB2YXIgc2VjID0geCAtIGRlZyAqIDM2MDAgLSBtaW4gKiA2MDtcbiAgICBzZWMgPSBNYXRoLmNlaWwoc2VjICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcbiAgICBpZiAoc2VjID49IDYwKSB7XG4gICAgICAgIHNlYyA9IDA7XG4gICAgICAgIG1pbiArPSAxO1xuICAgIH1cbiAgICBpZiAobWluID49IDYwKSB7XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICAgIGRlZyArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gKGRlZyArXG4gICAgICAgICdcXHUwMGIwICcgK1xuICAgICAgICBwYWROdW1iZXIobWluLCAyKSArXG4gICAgICAgICdcXHUyMDMyICcgK1xuICAgICAgICBwYWROdW1iZXIoc2VjLCAyLCBkZmxQcmVjaXNpb24pICtcbiAgICAgICAgJ1xcdTIwMzMnICtcbiAgICAgICAgKG5vcm1hbGl6ZWREZWdyZWVzID09IDBcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogJyAnICsgaGVtaXNwaGVyZXMuY2hhckF0KG5vcm1hbGl6ZWREZWdyZWVzIDwgMCA/IDEgOiAwKSkpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmdcbiAqIHVzaW5nIHRoZSBnaXZlbiBzdHJpbmcgdGVtcGxhdGUuIFRoZSBzdHJpbmdzIGB7eH1gIGFuZCBge3l9YCBpbiB0aGUgdGVtcGxhdGVcbiAqIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcyByZXNwZWN0aXZlbHkuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg4fDQ4KS4nXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlLCAyKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg3Ljg1fDQ3Ljk4KS4nXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgQSB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCBge3h9YCBhbmQgYHt5fWAgcGxhY2Vob2xkZXJzXG4gKiAgICAgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9mcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBGb3JtYXR0ZWQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChjb29yZGluYXRlLCB0ZW1wbGF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne3h9JywgY29vcmRpbmF0ZVswXS50b0ZpeGVkKG9wdF9mcmFjdGlvbkRpZ2l0cykpXG4gICAgICAgICAgICAucmVwbGFjZSgne3l9JywgY29vcmRpbmF0ZVsxXS50b0ZpeGVkKG9wdF9mcmFjdGlvbkRpZ2l0cykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gY29vcmRpbmF0ZXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGNvb3JkaW5hdGUxLCBjb29yZGluYXRlMikge1xuICAgIHZhciBlcXVhbHMgPSB0cnVlO1xuICAgIGZvciAodmFyIGkgPSBjb29yZGluYXRlMS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAoY29vcmRpbmF0ZTFbaV0gIT0gY29vcmRpbmF0ZTJbaV0pIHtcbiAgICAgICAgICAgIGVxdWFscyA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVxdWFscztcbn1cbi8qKlxuICogUm90YXRlIGBjb29yZGluYXRlYCBieSBgYW5nbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kXG4gKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtyb3RhdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgcm90YXRlUmFkaWFucyA9IE1hdGguUEkgLyAyOyAvLyA5MCBkZWdyZWVzXG4gKiAgICAgcm90YXRlKGNvb3JkLCByb3RhdGVSYWRpYW5zKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWy00Ny45ODMzMzMsIDcuODVdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFuLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShjb29yZGluYXRlLCBhbmdsZSkge1xuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gICAgdmFyIHkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gICAgY29vcmRpbmF0ZVswXSA9IHg7XG4gICAgY29vcmRpbmF0ZVsxXSA9IHk7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG4vKipcbiAqIFNjYWxlIGBjb29yZGluYXRlYCBieSBgc2NhbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc2NhbGUgPSAxLjI7XG4gKiAgICAgc2NhbGVDb29yZGluYXRlKGNvb3JkLCBzY2FsZSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs5LjQyLCA1Ny41Nzk5OTk2XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFNjYWxlIGZhY3Rvci5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShjb29yZGluYXRlLCBzY2FsZSkge1xuICAgIGNvb3JkaW5hdGVbMF0gKj0gc2NhbGU7XG4gICAgY29vcmRpbmF0ZVsxXSAqPSBzY2FsZTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICB2YXIgZHggPSBjb29yZDFbMF0gLSBjb29yZDJbMF07XG4gICAgdmFyIGR5ID0gY29vcmQxWzFdIC0gY29vcmQyWzFdO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNxdWFyZWQgZGlzdGFuY2UgZnJvbSBhIGNvb3JkaW5hdGUgdG8gYSBsaW5lIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxDb29yZGluYXRlPn0gc2VnbWVudCBMaW5lIHNlZ21lbnQgKDJcbiAqIGNvb3JkaW5hdGVzKS5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZSBmcm9tIHRoZSBwb2ludCB0byB0aGUgbGluZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKGNvb3JkaW5hdGUsIGNsb3Nlc3RPblNlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkpO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBnZW9ncmFwaGljIGNvb3JkaW5hdGUgd2l0aCB0aGUgaGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcywgYW5kXG4gKiBzZWNvbmRzLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjDigLMgTiA3wrAgNTDigLIgNjDigLMgRSdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MC4w4oCzIE4gN8KwIDUw4oCyIDYwLjDigLMgRSdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEhlbWlzcGhlcmUsIGRlZ3JlZXMsIG1pbnV0ZXMgYW5kIHNlY29uZHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZ0hETVMoY29vcmRpbmF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIChkZWdyZWVzVG9TdHJpbmdIRE1TKCdOUycsIGNvb3JkaW5hdGVbMV0sIG9wdF9mcmFjdGlvbkRpZ2l0cykgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGRlZ3JlZXNUb1N0cmluZ0hETVMoJ0VXJywgY29vcmRpbmF0ZVswXSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuLyoqXG4gKiBGb3JtYXQgYSBjb29yZGluYXRlIGFzIGEgY29tbWEgZGVsaW1pdGVkIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nWFkoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzgsIDQ4J1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nWFkoY29vcmQsIDEpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzcuOCwgNDguMCdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFhZLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICByZXR1cm4gZm9ybWF0KGNvb3JkaW5hdGUsICd7eH0sIHt5fScsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG59XG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBjb29yZGluYXRlIGluLXBsYWNlIHRvIGJlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZFxuICogZXh0ZW50LiBUaGUgbG93ZXIgcHJvamVjdGlvbiBleHRlbnQgYm91bmRhcnkgaXMgaW5jbHVzaXZlLCB0aGUgdXBwZXIgb25lXG4gKiBleGNsdXNpdmUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChjb29yZGluYXRlLCBwcm9qZWN0aW9uKSB7XG4gICAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSkge1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb24uZ2V0RXh0ZW50KCkpO1xuICAgICAgICB2YXIgd29ybGRzQXdheSA9IGdldFdvcmxkc0F3YXkoY29vcmRpbmF0ZSwgcHJvamVjdGlvbiwgd29ybGRXaWR0aCk7XG4gICAgICAgIGlmICh3b3JsZHNBd2F5KSB7XG4gICAgICAgICAgICBjb29yZGluYXRlWzBdIC09IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfc291cmNlRXh0ZW50V2lkdGhdIFdpZHRoIG9mIHRoZSBzb3VyY2UgZXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQgaW4gd29ybGQgd2lkdGhzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ybGRzQXdheShjb29yZGluYXRlLCBwcm9qZWN0aW9uLCBvcHRfc291cmNlRXh0ZW50V2lkdGgpIHtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIHdvcmxkc0F3YXkgPSAwO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgKGNvb3JkaW5hdGVbMF0gPCBwcm9qZWN0aW9uRXh0ZW50WzBdIHx8IGNvb3JkaW5hdGVbMF0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSkge1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50V2lkdGggPSBvcHRfc291cmNlRXh0ZW50V2lkdGggfHwgZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgIHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKChjb29yZGluYXRlWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyBzb3VyY2VFeHRlbnRXaWR0aCk7XG4gICAgfVxuICAgIHJldHVybiB3b3JsZHNBd2F5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29vcmRpbmF0ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCB7IFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UgfSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZ2V0V2lkdGggfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgc2hhcmVkIGFzIGljb25JbWFnZUNhY2hlIH0gZnJvbSAnLi4vc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMnO1xuaW1wb3J0IHsgaW5WaWV3IH0gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHsgd3JhcFggfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYgSGl0TWF0Y2hcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXN0YW5jZVNxIFNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAdGVtcGxhdGUgVFxuICovXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgTWFwUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwUmVuZGVyZXIobWFwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBfID0gbWFwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5jYWxjdWxhdGVNYXRyaWNlczJEID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtO1xuICAgICAgICBjb21wb3NlVHJhbnNmb3JtKGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLnNpemVbMF0gLyAyLCBmcmFtZVN0YXRlLnNpemVbMV0gLyAyLCAxIC8gdmlld1N0YXRlLnJlc29sdXRpb24sIC0xIC8gdmlld1N0YXRlLnJlc29sdXRpb24sIC12aWV3U3RhdGUucm90YXRpb24sIC12aWV3U3RhdGUuY2VudGVyWzBdLCAtdmlld1N0YXRlLmNlbnRlclsxXSk7XG4gICAgICAgIG1ha2VJbnZlcnNlKHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtTfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGNhbGxiYWNrYC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgICAqICAgICByZXR1cm5zIGB0cnVlYCB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuICBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZVxuICAgICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAgICogQHBhcmFtIHtVfSB0aGlzQXJnMiBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGNhbGxiYWNrLCB0aGlzQXJnLCBsYXllckZpbHRlciwgdGhpc0FyZzIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBtYW5hZ2VkIE1hbmFnZWQgbGF5ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShtYW5hZ2VkLCBmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIG1hbmFnZWQgPyBsYXllciA6IG51bGwsIGdlb21ldHJ5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSB3cmFwWChjb29yZGluYXRlLnNsaWNlKCksIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgb2Zmc2V0cyA9IFtbMCwgMF1dO1xuICAgICAgICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpICYmIGNoZWNrV3JhcHBlZCkge1xuICAgICAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgIG9mZnNldHMucHVzaChbLXdvcmxkV2lkdGgsIDBdLCBbd29ybGRXaWR0aCwgMF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgdmFyIG51bUxheWVycyA9IGxheWVyU3RhdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAvKiogQHR5cGUge0FycmF5PEhpdE1hdGNoPFQ+Pn0gKi8gKFtdKTtcbiAgICAgICAgdmFyIHRtcENvb3JkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2Zmc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG51bUxheWVycyAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc1tqXTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5oYXNSZW5kZXJlcigpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyLmNhbGwodGhpc0FyZzIsIGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IGxheWVyLmdldFJlbmRlcmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyUmVuZGVyZXIgJiYgc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBzb3VyY2UuZ2V0V3JhcFgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJhbnNsYXRlZENvb3JkaW5hdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvb3JkaW5hdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tfMSA9IGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlLmJpbmQobnVsbCwgbGF5ZXJTdGF0ZS5tYW5hZ2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcENvb3JkWzBdID0gY29vcmRpbmF0ZXNbMF0gKyBvZmZzZXRzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wQ29vcmRbMV0gPSBjb29yZGluYXRlc1sxXSArIG9mZnNldHNbaV1bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKHRtcENvb3JkLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrXzEsIG1hdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcmRlciA9IDEgLyBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChtLCBpKSB7IHJldHVybiAobS5kaXN0YW5jZVNxICs9IGkgKiBvcmRlcik7IH0pO1xuICAgICAgICBtYXRjaGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuZGlzdGFuY2VTcSAtIGIuZGlzdGFuY2VTcTsgfSk7XG4gICAgICAgIG1hdGNoZXMuc29tZShmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBtLmNhbGxiYWNrKG0uZmVhdHVyZSwgbS5sYXllciwgbS5nZW9tZXRyeSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgICAqICAgICBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0Pik6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIGxheWVyRmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrV3JhcHBlZCBDaGVjayBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcGFyYW0ge1V9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZT9cbiAgICAgKiBAdGVtcGxhdGUgVVxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2hlY2tXcmFwcGVkLCBsYXllckZpbHRlciwgdGhpc0FyZykge1xuICAgICAgICB2YXIgaGFzRmVhdHVyZSA9IHRoaXMuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIFRSVUUsIHRoaXMsIGxheWVyRmlsdGVyLCB0aGlzQXJnKTtcbiAgICAgICAgcmV0dXJuIGhhc0ZlYXR1cmUgIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBNYXAuXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKGljb25JbWFnZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGV4cGlyZUljb25DYWNoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYXBSZW5kZXJlcjtcbn0oRGlzcG9zYWJsZSkpO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqL1xuZnVuY3Rpb24gZXhwaXJlSWNvbkNhY2hlKG1hcCwgZnJhbWVTdGF0ZSkge1xuICAgIGljb25JbWFnZUNhY2hlLmV4cGlyZSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgTWFwUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG52YXIgUmVuZGVyRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlckV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gW29wdF9pbnZlcnNlUGl4ZWxUcmFuc2Zvcm1dIFRyYW5zZm9ybSBmb3JcbiAgICAgKiAgICAgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gW29wdF9mcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gez8oQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfFdlYkdMUmVuZGVyaW5nQ29udGV4dCl9IFtvcHRfY29udGV4dF0gQ29udGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJFdmVudCh0eXBlLCBvcHRfaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCBvcHRfZnJhbWVTdGF0ZSwgb3B0X2NvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zZm9ybSBmcm9tIENTUyBwaXhlbHMgKHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIG1hcCB2aWV3cG9ydClcbiAgICAgICAgICogdG8gcmVuZGVyZWQgcGl4ZWxzIG9uIHRoaXMgZXZlbnQncyBgY29udGV4dGAuIE9ubHkgYXZhaWxhYmxlIHdoZW4gYSBDYW52YXMgcmVuZGVyZXIgaXMgdXNlZCwgbnVsbCBvdGhlcndpc2UuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtID0gb3B0X2ludmVyc2VQaXhlbFRyYW5zZm9ybTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcmVuZGVyIGZyYW1lIHN0YXRlLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZVN0YXRlID0gb3B0X2ZyYW1lU3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgY29udGV4dC4gTm90IGF2YWlsYWJsZSB3aGVuIHRoZSBldmVudCBpcyBkaXNwYXRjaGVkIGJ5IHRoZSBtYXAuIEZvciBDYW52YXMgMkQgbGF5ZXJzLFxuICAgICAgICAgKiB0aGUgY29udGV4dCB3aWxsIGJlIHRoZSAyRCByZW5kZXJpbmcgY29udGV4dC4gIEZvciBXZWJHTCBsYXllcnMsIHRoZSBjb250ZXh0IHdpbGwgYmUgdGhlIFdlYkdMXG4gICAgICAgICAqIGNvbnRleHQuXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8V2ViR0xSZW5kZXJpbmdDb250ZXh0fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IG9wdF9jb250ZXh0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZW5kZXJFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbmRlckV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbnRQYXJhbWV0ZXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3R5bGUgU3R5bGUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdmFyaWFudCBWYXJpYW50LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHdlaWdodCBXZWlnaHQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVIZWlnaHQgTGluZUhlaWdodC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmYW1pbHkgRmFtaWx5LlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBmYW1pbGllcyBGYW1pbGllcy5cbiAqL1xuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHNlbGVjdGFibGUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1NFTEVDVEFCTEUgPSAnb2wtc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHVuc2VsZWN0YWJsZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfVU5TRUxFQ1RBQkxFID0gJ29sLXVuc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgY29udHJvbHMuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX0NPTlRST0wgPSAnb2wtY29udHJvbCc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdGhhdCBhcmUgY29sbGFwc2VkLCBpLmUuXG4gKiB0byB0aG9zZSBlbGVtZW50cyB3aGljaCB1c3VhbGx5IGNhbiBiZSBleHBhbmRlZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfQ09MTEFQU0VEID0gJ29sLWNvbGxhcHNlZCc7XG4vKipcbiAqIEZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAxMzU2OTcvcmVnZXgtdG8tcGFyc2UtYW55LWNzcy1mb250XG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG52YXIgZm9udFJlZ0V4ID0gbmV3IFJlZ0V4cChbXG4gICAgJ15cXFxccyooPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KGl0YWxpY3xvYmxpcXVlKSk/KScsXG4gICAgJyg/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oc21hbGwtY2FwcykpPyknLFxuICAgICcoPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KGJvbGQoPzplcik/fGxpZ2h0ZXJ8WzEtOV0wMCApKT8pJyxcbiAgICAnKD86KD86bm9ybWFsfFxcXFwxfFxcXFwyfFxcXFwzKVxcXFxzKil7MCwzfSgoPzp4eD8tKT8nLFxuICAgICcoPzpzbWFsbHxsYXJnZSl8bWVkaXVtfHNtYWxsZXJ8bGFyZ2VyfFtcXFxcLlxcXFxkXSsoPzpcXFxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSknLFxuICAgICcoPzpcXFxccypcXFxcL1xcXFxzKihub3JtYWx8W1xcXFwuXFxcXGRdKyg/OlxcXFwlfGlufFtjZW1dbXxleHxwW2N0eF0pPykpJyxcbiAgICAnP1xcXFxzKihbLSxcXFxcXCJcXFxcXFwnXFxcXHNhLXpdKz8pXFxcXHMqJCcsXG5dLmpvaW4oJycpLCAnaScpO1xudmFyIGZvbnRSZWdFeE1hdGNoSW5kZXggPSBbXG4gICAgJ3N0eWxlJyxcbiAgICAndmFyaWFudCcsXG4gICAgJ3dlaWdodCcsXG4gICAgJ3NpemUnLFxuICAgICdsaW5lSGVpZ2h0JyxcbiAgICAnZmFtaWx5Jyxcbl07XG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiBmb250IGZhbWlsaWVzIGZyb20gYSBmb250IHNwZWMuICBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IHdvcmtcbiAqIGZvciBmb250IGZhbWlsaWVzIHRoYXQgaGF2ZSBjb21tYXMgaW4gdGhlbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBUaGUgQ1NTIGZvbnQgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtGb250UGFyYW1ldGVyc30gVGhlIGZvbnQgcGFyYW1ldGVycyAob3IgbnVsbCBpZiB0aGUgaW5wdXQgc3BlYyBpcyBpbnZhbGlkKS5cbiAqL1xuZXhwb3J0IHZhciBnZXRGb250UGFyYW1ldGVycyA9IGZ1bmN0aW9uIChmb250U3BlYykge1xuICAgIHZhciBtYXRjaCA9IGZvbnRTcGVjLm1hdGNoKGZvbnRSZWdFeCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHN0eWxlID0gLyoqIEB0eXBlIHtGb250UGFyYW1ldGVyc30gKi8gKHtcbiAgICAgICAgbGluZUhlaWdodDogJ25vcm1hbCcsXG4gICAgICAgIHNpemU6ICcxLjJlbScsXG4gICAgICAgIHN0eWxlOiAnbm9ybWFsJyxcbiAgICAgICAgd2VpZ2h0OiAnbm9ybWFsJyxcbiAgICAgICAgdmFyaWFudDogJ25vcm1hbCcsXG4gICAgfSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udFJlZ0V4TWF0Y2hJbmRleC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoW2kgKyAxXTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0eWxlW2ZvbnRSZWdFeE1hdGNoSW5kZXhbaV1dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3R5bGUuZmFtaWxpZXMgPSBzdHlsZS5mYW1pbHkuc3BsaXQoLyxcXHM/Lyk7XG4gICAgcmV0dXJuIHN0eWxlO1xufTtcbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eSAoMC4uMSkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENTUyBvcGFjaXR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzT3BhY2l0eShvcGFjaXR5KSB7XG4gICAgcmV0dXJuIG9wYWNpdHkgPT09IDEgPyAnJyA6IFN0cmluZyhNYXRoLnJvdW5kKG9wYWNpdHkgKiAxMDApIC8gMTAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy5qcy5tYXAiLCJpbXBvcnQgeyBXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUyB9IGZyb20gJy4vaGFzLmpzJztcbi8qKlxuICogQG1vZHVsZSBvbC9kb21cbiAqL1xuLy9GSVhNRSBNb3ZlIHRoaXMgZnVuY3Rpb24gdG8gdGhlIGNhbnZhcyBtb2R1bGVcbi8qKlxuICogQ3JlYXRlIGFuIGh0bWwgY2FudmFzIGVsZW1lbnQgYW5kIHJldHVybnMgaXRzIDJkIGNvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF93aWR0aF0gQ2FudmFzIHdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfaGVpZ2h0XSBDYW52YXMgaGVpZ2h0LlxuICogQHBhcmFtIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59IFtvcHRfY2FudmFzUG9vbF0gQ2FudmFzIHBvb2wgdG8gdGFrZSBleGlzdGluZyBjYW52YXMgZnJvbS5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEU2V0dGluZ3N9IFtvcHRfQ29udGV4dDJEU2V0dGluZ3NdIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFNldHRpbmdzXG4gKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FudmFzQ29udGV4dDJEKG9wdF93aWR0aCwgb3B0X2hlaWdodCwgb3B0X2NhbnZhc1Bvb2wsIG9wdF9Db250ZXh0MkRTZXR0aW5ncykge1xuICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSAqL1xuICAgIHZhciBjYW52YXM7XG4gICAgaWYgKG9wdF9jYW52YXNQb29sICYmIG9wdF9jYW52YXNQb29sLmxlbmd0aCkge1xuICAgICAgICBjYW52YXMgPSBvcHRfY2FudmFzUG9vbC5zaGlmdCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUykge1xuICAgICAgICBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKG9wdF93aWR0aCB8fCAzMDAsIG9wdF9oZWlnaHQgfHwgMzAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBpZiAob3B0X3dpZHRoKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9wdF93aWR0aDtcbiAgICB9XG4gICAgaWYgKG9wdF9oZWlnaHQpIHtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdF9oZWlnaHQ7XG4gICAgfVxuICAgIC8vRklYTUUgQWxsb3cgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIGFzIHJldHVybiB0eXBlXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqLyAoY2FudmFzLmdldENvbnRleHQoJzJkJywgb3B0X0NvbnRleHQyRFNldHRpbmdzKSk7XG59XG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBjb21wdXRlZCB3aWR0aCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgaW5jbHVkaW5nIG1hcmdpbixcbiAqIHBhZGRpbmcgYW5kIGJvcmRlci5cbiAqIEVxdWl2YWxlbnQgdG8galF1ZXJ5J3MgYCQoZWwpLm91dGVyV2lkdGgodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHdpZHRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3V0ZXJXaWR0aChlbGVtZW50KSB7XG4gICAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIHdpZHRoICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQsIDEwKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0LCAxMCk7XG4gICAgcmV0dXJuIHdpZHRoO1xufVxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgaGVpZ2h0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBpbmNsdWRpbmcgbWFyZ2luLFxuICogcGFkZGluZyBhbmQgYm9yZGVyLlxuICogRXF1aXZhbGVudCB0byBqUXVlcnkncyBgJChlbCkub3V0ZXJIZWlnaHQodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGhlaWdodC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVySGVpZ2h0KGVsZW1lbnQpIHtcbiAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBoZWlnaHQgKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wLCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKTtcbiAgICByZXR1cm4gaGVpZ2h0O1xufVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgTm9kZSB0byByZXBsYWNlIG9sZCBub2RlXG4gKiBAcGFyYW0ge05vZGV9IG9sZE5vZGUgVGhlIG5vZGUgdG8gYmUgcmVwbGFjZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VOb2RlKG5ld05vZGUsIG9sZE5vZGUpIHtcbiAgICB2YXIgcGFyZW50ID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUuXG4gKiBAcmV0dXJuIHtOb2RlfSBUaGUgbm9kZSB0aGF0IHdhcyByZW1vdmVkIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBjaGlsZHJlbiBmcm9tLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4obm9kZSkge1xuICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgICB9XG59XG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgY2hpbGRyZW4gb2YgYSBwYXJlbnQgbm9kZSBzbyB0aGV5IG1hdGNoIHRoZVxuICogcHJvdmlkZWQgbGlzdCBvZiBjaGlsZHJlbi4gIFRoaXMgZnVuY3Rpb24gYWltcyB0byBlZmZpY2llbnRseVxuICogcmVtb3ZlLCBhZGQsIGFuZCByZW9yZGVyIGNoaWxkIG5vZGVzIHdoaWxlIG1haW50YWluaW5nIGEgc2ltcGxlXG4gKiBpbXBsZW1lbnRhdGlvbiAoaXQgaXMgbm90IGd1YXJhbnRlZWQgdG8gbWluaW1pemUgRE9NIG9wZXJhdGlvbnMpLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBwYXJlbnQgbm9kZSB3aG9zZSBjaGlsZHJlbiBuZWVkIHJld29ya2luZy5cbiAqIEBwYXJhbSB7QXJyYXk8Tm9kZT59IGNoaWxkcmVuIFRoZSBkZXNpcmVkIGNoaWxkcmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUNoaWxkcmVuKG5vZGUsIGNoaWxkcmVuKSB7XG4gICAgdmFyIG9sZENoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgIGZvciAodmFyIGkgPSAwOyB0cnVlOyArK2kpIHtcbiAgICAgICAgdmFyIG9sZENoaWxkID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICAgIHZhciBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAvLyBjaGVjayBpZiBvdXIgd29yayBpcyBkb25lXG4gICAgICAgIGlmICghb2xkQ2hpbGQgJiYgIW5ld0NoaWxkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBjaGlsZHJlbiBtYXRjaFxuICAgICAgICBpZiAob2xkQ2hpbGQgPT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBhIG5ldyBjaGlsZCBuZWVkcyB0byBiZSBhZGRlZFxuICAgICAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGFuIG9sZCBjaGlsZCBuZWVkcyB0byBiZSByZW1vdmVkXG4gICAgICAgIGlmICghbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGQpO1xuICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVvcmRlclxuICAgICAgICBub2RlLmluc2VydEJlZm9yZShuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhc1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IHsgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7IGdldEZvbnRQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vY3NzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZSBGaWxsU3R5bGUuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgTGFiZWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCBXaWR0aC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmd8bnVtYmVyPn0gY29udGV4dEluc3RydWN0aW9ucyBDb250ZXh0SW5zdHJ1Y3Rpb25zLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpbGxTdHJva2VTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY3VycmVudEZpbGxTdHlsZV0gQ3VycmVudCBGaWxsU3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjdXJyZW50U3Ryb2tlU3R5bGVdIEN1cnJlbnQgU3Ryb2tlU3R5bGUuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtjdXJyZW50TGluZUNhcF0gQ3VycmVudCBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBjdXJyZW50TGluZURhc2ggQ3VycmVudCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudExpbmVEYXNoT2Zmc2V0XSBDdXJyZW50IExpbmVEYXNoT2Zmc2V0LlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW2N1cnJlbnRMaW5lSm9pbl0gQ3VycmVudCBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudExpbmVXaWR0aF0gQ3VycmVudCBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRNaXRlckxpbWl0XSBDdXJyZW50IE1pdGVyTGltaXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xhc3RTdHJva2VdIExhc3Qgc3Ryb2tlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbFN0eWxlXSBGaWxsU3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2VTdHlsZV0gU3Ryb2tlU3R5bGUuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtsaW5lQ2FwXSBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZURhc2hPZmZzZXRdIExpbmVEYXNoT2Zmc2V0LlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW2xpbmVKb2luXSBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZVdpZHRoXSBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXRdIE1pdGVyTGltaXQuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gbGluZUNhcCBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVXaWR0aCBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlckxpbWl0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBzdHJva2VTdHlsZSBTdHJva2VTdHlsZS5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0U3RhdGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RleHRBbGlnbl0gVGV4dEFsaWduLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRleHRCYXNlbGluZSBUZXh0QmFzZWxpbmUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BsYWNlbWVudF0gUGxhY2VtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhBbmdsZV0gTWF4QW5nbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvd10gT3ZlcmZsb3cuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRGaWxsXSBCYWNrZ3JvdW5kRmlsbC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBCYWNrZ3JvdW5kU3Ryb2tlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nXSBQYWRkaW5nLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcmlhbGl6YWJsZUluc3RydWN0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaW5zdHJ1Y3Rpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIFRoZSBhcnJheSBvZiBhbGwgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBUZXh0U3RhdGU+fSBbdGV4dFN0YXRlc10gVGhlIHRleHQgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgRmlsbFN0YXRlPn0gW2ZpbGxTdGF0ZXNdIFRoZSBmaWxsIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFN0cm9rZVN0YXRlPn0gW3N0cm9rZVN0YXRlc10gVGhlIHN0cm9rZSBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdDxudW1iZXIsIGltcG9ydChcIi4vY2FudmFzL0V4ZWN1dG9yLmpzXCIpLlJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSBEZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XG4gKi9cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRGb250ID0gJzEwcHggc2Fucy1zZXJpZic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdEZpbGxTdHlsZSA9ICcjMDAwJztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzTGluZUNhcH1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUNhcCA9ICdyb3VuZCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVEYXNoID0gW107XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZURhc2hPZmZzZXQgPSAwO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUpvaW4gPSAncm91bmQnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdE1pdGVyTGltaXQgPSAxMDtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0U3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEFsaWduID0gJ2NlbnRlcic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZVdpZHRoID0gMTtcbi8qKlxuICogQHR5cGUge0Jhc2VPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgY2hlY2tlZEZvbnRzID0gbmV3IEJhc2VPYmplY3QoKTtcbi8qKlxuICogVGhlIGxhYmVsIGNhY2hlIGZvciB0ZXh0IHJlbmRlcmluZy4gVG8gY2hhbmdlIHRoZSBkZWZhdWx0IGNhY2hlIHNpemUgb2YgMjA0OFxuICogZW50cmllcywgdXNlIHtAbGluayBtb2R1bGU6b2wvc3RydWN0cy9MUlVDYWNoZX5MUlVDYWNoZSNzZXRTaXplIGNhY2hlLnNldFNpemUoKX0uXG4gKiBEZXByZWNhdGVkIC0gdGhlcmUgaXMgbm8gbGFiZWwgY2FjaGUgYW55IG1vcmUuXG4gKiBAdHlwZSB7P31cbiAqIEBhcGlcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCB2YXIgbGFiZWxDYWNoZSA9IG5ldyBFdmVudFRhcmdldCgpO1xubGFiZWxDYWNoZS5zZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUud2FybignbGFiZWxDYWNoZSBpcyBkZXByZWNhdGVkLicpOyAvL2VzbGludC1kaXNhYmxlLWxpbmVcbn07XG4vKipcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKi9cbnZhciBtZWFzdXJlQ29udGV4dCA9IG51bGw7XG4vKipcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBtZWFzdXJlRm9udDtcbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICovXG5leHBvcnQgdmFyIHRleHRIZWlnaHRzID0ge307XG4vKipcbiAqIENsZWFycyB0aGUgbGFiZWwgY2FjaGUgd2hlbiBhIGZvbnQgYmVjb21lcyBhdmFpbGFibGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udFNwZWMgQ1NTIGZvbnQgc3BlYy5cbiAqL1xuZXhwb3J0IHZhciByZWdpc3RlckZvbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXRyaWVzID0gMTAwO1xuICAgIHZhciBzaXplID0gJzMycHggJztcbiAgICB2YXIgcmVmZXJlbmNlRm9udHMgPSBbJ21vbm9zcGFjZScsICdzZXJpZiddO1xuICAgIHZhciBsZW4gPSByZWZlcmVuY2VGb250cy5sZW5ndGg7XG4gICAgdmFyIHRleHQgPSAnd215dHppbFdNWVRaSUxAIy8mPyQlMTBcXHVGMDEzJztcbiAgICB2YXIgaW50ZXJ2YWwsIHJlZmVyZW5jZVdpZHRoO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgQ3NzIGZvbnQtc3R5bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udFdlaWdodCBDc3MgZm9udC13ZWlnaHRcbiAgICAgKiBAcGFyYW0geyp9IGZvbnRGYW1pbHkgQ3NzIGZvbnQtZmFtaWx5XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRm9udCB3aXRoIHN0eWxlIGFuZCB3ZWlnaHQgaXMgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdmFpbGFibGUoZm9udFN0eWxlLCBmb250V2VpZ2h0LCBmb250RmFtaWx5KSB7XG4gICAgICAgIHZhciBhdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlRm9udCA9IHJlZmVyZW5jZUZvbnRzW2ldO1xuICAgICAgICAgICAgcmVmZXJlbmNlV2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnRTdHlsZSArICcgJyArIGZvbnRXZWlnaHQgKyAnICcgKyBzaXplICsgcmVmZXJlbmNlRm9udCwgdGV4dCk7XG4gICAgICAgICAgICBpZiAoZm9udEZhbWlseSAhPSByZWZlcmVuY2VGb250KSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250U3R5bGUgK1xuICAgICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSArXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgK1xuICAgICAgICAgICAgICAgICAgICAnLCcgK1xuICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VGb250LCB0ZXh0KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3aWR0aCBhbmQgcmVmZXJlbmNlV2lkdGggYXJlIHRoZSBzYW1lLCB0aGVuIHRoZSBmYWxsYmFjayB3YXMgdXNlZFxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgdGhlIGZvbnQgd2Ugd2FudGVkLCBzbyB0aGUgZm9udCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZSA9IGF2YWlsYWJsZSAmJiB3aWR0aCAhPSByZWZlcmVuY2VXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXZhaWxhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgICAgICB2YXIgZG9uZSA9IHRydWU7XG4gICAgICAgIHZhciBmb250cyA9IGNoZWNrZWRGb250cy5nZXRLZXlzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZvbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBmb250ID0gZm9udHNbaV07XG4gICAgICAgICAgICBpZiAoY2hlY2tlZEZvbnRzLmdldChmb250KSA8IHJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBdmFpbGFibGUuYXBwbHkodGhpcywgZm9udC5zcGxpdCgnXFxuJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKHRleHRIZWlnaHRzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbG9hZGVkIGZvbnRzIGFyZSBwaWNrZWQgdXAgYnkgU2FmYXJpXG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUZvbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgcmV0cmllcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkRm9udHMuc2V0KGZvbnQsIGNoZWNrZWRGb250cy5nZXQoZm9udCkgKyAxLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICBpbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgICAgIHZhciBmb250ID0gZ2V0Rm9udFBhcmFtZXRlcnMoZm9udFNwZWMpO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmFtaWxpZXMgPSBmb250LmZhbWlsaWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmYW1pbGllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gZmFtaWxpZXNbaV07XG4gICAgICAgICAgICB2YXIga2V5ID0gZm9udC5zdHlsZSArICdcXG4nICsgZm9udC53ZWlnaHQgKyAnXFxuJyArIGZhbWlseTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkRm9udHMuZ2V0KGtleSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCByZXRyaWVzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXZhaWxhYmxlKGZvbnQuc3R5bGUsIGZvbnQud2VpZ2h0LCBmYW1pbHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVydmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoY2hlY2ssIDMyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250IHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBNZWFzdXJlbWVudC5cbiAqL1xuZXhwb3J0IHZhciBtZWFzdXJlVGV4dEhlaWdodCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAqL1xuICAgIHZhciBtZWFzdXJlRWxlbWVudDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0SGVpZ2h0c1tmb250U3BlY107XG4gICAgICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICAgICAgICAgICAgICB2YXIgbWV0cmljcyA9IG1lYXN1cmVUZXh0KGZvbnRTcGVjLCAnxb1nJyk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBpc05hTihOdW1iZXIoZm9udC5saW5lSGVpZ2h0KSlcbiAgICAgICAgICAgICAgICAgICAgPyAxLjJcbiAgICAgICAgICAgICAgICAgICAgOiBOdW1iZXIoZm9udC5saW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtZWFzdXJlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudC5pbm5lckhUTUwgPSAnTSc7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUubGVmdCA9ICctOTk5OTlweCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnQgPSBmb250U3BlYztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lYXN1cmVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBtZWFzdXJlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtZWFzdXJlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0c1tmb250U3BlY10gPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gKiBAcmV0dXJuIHtUZXh0TWV0cmljc30gVGV4dCBtZXRyaWNzLlxuICovXG5mdW5jdGlvbiBtZWFzdXJlVGV4dChmb250LCB0ZXh0KSB7XG4gICAgaWYgKCFtZWFzdXJlQ29udGV4dCkge1xuICAgICAgICBtZWFzdXJlQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICB9XG4gICAgaWYgKGZvbnQgIT0gbWVhc3VyZUZvbnQpIHtcbiAgICAgICAgbWVhc3VyZUNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIG1lYXN1cmVGb250ID0gbWVhc3VyZUNvbnRleHQuZm9udDtcbiAgICB9XG4gICAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpIHtcbiAgICByZXR1cm4gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkud2lkdGg7XG59XG4vKipcbiAqIE1lYXN1cmUgdGV4dCB3aWR0aCB1c2luZyBhIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGxvb2t1cCBvZiBjYWNoZWQgd2lkdGhzIGJ5IHRleHQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB0ZXh0IHdpZHRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlKSB7XG4gICAgaWYgKHRleHQgaW4gY2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW3RleHRdO1xuICAgIH1cbiAgICB2YXIgd2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpO1xuICAgIGNhY2hlW3RleHRdID0gd2lkdGg7XG4gICAgcmV0dXJuIHdpZHRoO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250IHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBsaW5lcyBMaW5lcyB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB3aWR0aHMgQXJyYXkgd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCB0aGUgd2lkdGhzIG9mXG4gKiBlYWNoIGxpbmUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoIG9mIHRoZSB3aG9sZSB0ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZVRleHRXaWR0aHMoZm9udCwgbGluZXMsIHdpZHRocykge1xuICAgIHZhciBudW1MaW5lcyA9IGxpbmVzLmxlbmd0aDtcbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250LCBsaW5lc1tpXSk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGN1cnJlbnRXaWR0aCk7XG4gICAgICAgIHdpZHRocy5wdXNoKGN1cnJlbnRXaWR0aCk7XG4gICAgfVxuICAgIHJldHVybiB3aWR0aDtcbn1cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIFggb2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFkgWSBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUocm90YXRpb24pO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybXxudWxsfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBwYXJhbSB7TGFiZWx8SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBsYWJlbE9ySW1hZ2UgTGFiZWwuXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGguXG4gKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdJbWFnZU9yTGFiZWwoY29udGV4dCwgdHJhbnNmb3JtLCBvcGFjaXR5LCBsYWJlbE9ySW1hZ2UsIG9yaWdpblgsIG9yaWdpblksIHcsIGgsIHgsIHksIHNjYWxlKSB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgaWYgKG9wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSAqPSBvcGFjaXR5O1xuICAgIH1cbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIHRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGlmICggLyoqIEB0eXBlIHsqfSAqLyhsYWJlbE9ySW1hZ2UpLmNvbnRleHRJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdKTtcbiAgICAgICAgZXhlY3V0ZUxhYmVsSW5zdHJ1Y3Rpb25zKC8qKiBAdHlwZSB7TGFiZWx9ICovIChsYWJlbE9ySW1hZ2UpLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NhbGVbMF0gPCAwIHx8IHNjYWxlWzFdIDwgMCkge1xuICAgICAgICAvLyBmbGlwcGVkIGltYWdlXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKGxhYmVsT3JJbWFnZSksIG9yaWdpblgsIG9yaWdpblksIHcsIGgsIDAsIDAsIHcsIGgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaWYgaW1hZ2Ugbm90IGZsaXBwZWQgdHJhbnNsYXRlIGFuZCBzY2FsZSBjYW4gYmUgYXZvaWRlZFxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChsYWJlbE9ySW1hZ2UpLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCB3ICogc2NhbGVbMF0sIGggKiBzY2FsZVsxXSk7XG4gICAgfVxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0xhYmVsfSBsYWJlbCBMYWJlbC5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucyhsYWJlbCwgY29udGV4dCkge1xuICAgIHZhciBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gbGFiZWwuY29udGV4dEluc3RydWN0aW9ucztcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb250ZXh0SW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dEluc3RydWN0aW9uc1tpICsgMV0pKSB7XG4gICAgICAgICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dLmFwcGx5KGNvbnRleHQsIGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHRbY29udGV4dEluc3RydWN0aW9uc1tpXV0gPSBjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL0NvbXBvc2l0ZVxuICovXG5pbXBvcnQgTWFwUmVuZGVyZXIgZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgY2hlY2tlZEZvbnRzIH0gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVwbGFjZUNoaWxkcmVuIH0gZnJvbSAnLi4vZG9tLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIG1hcCByZW5kZXJlci5cbiAqIEBhcGlcbiAqL1xudmFyIENvbXBvc2l0ZU1hcFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21wb3NpdGVNYXBSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvc2l0ZU1hcFJlbmRlcmVyKG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtYXApIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4oY2hlY2tlZEZvbnRzLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIG1hcC5yZWRyYXdUZXh0LmJpbmQobWFwKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgc3R5bGUgPSBfdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICAgICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBzdHlsZS56SW5kZXggPSAnMCc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9IENMQVNTX1VOU0VMRUNUQUJMRSArICcgb2wtbGF5ZXJzJztcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IG1hcC5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKF90aGlzLmVsZW1lbnRfLCBjb250YWluZXIuZmlyc3RDaGlsZCB8fCBudWxsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGlsZHJlbl8gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZU1hcFJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaFJlbmRlckV2ZW50ID0gZnVuY3Rpb24gKHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmIChtYXAuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHVuZGVmaW5lZCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgICAgICBtYXAuZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlTWF0cmljZXMyRChmcmFtZVN0YXRlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5fLmxlbmd0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWNsdXR0ZXJMYXllcnMgPSBbXTtcbiAgICAgICAgdmFyIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5sYXllckluZGV4ID0gaTtcbiAgICAgICAgICAgIGlmICghaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAobGF5ZXJTdGF0ZS5zb3VyY2VTdGF0ZSAhPSBTb3VyY2VTdGF0ZS5SRUFEWSAmJlxuICAgICAgICAgICAgICAgICAgICBsYXllclN0YXRlLnNvdXJjZVN0YXRlICE9IFNvdXJjZVN0YXRlLlVOREVGSU5FRCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGxheWVyLnJlbmRlcihmcmFtZVN0YXRlLCBwcmV2aW91c0VsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gcHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbl8ucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdnZXREZWNsdXR0ZXInIGluIGxheWVyKSB7XG4gICAgICAgICAgICAgICAgZGVjbHV0dGVyTGF5ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9CYXNlVmVjdG9yLmpzXCIpLmRlZmF1bHR9ICovIChsYXllcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWNsdXR0ZXJMYXllcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGRlY2x1dHRlckxheWVyc1tpXS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZUNoaWxkcmVuKHRoaXMuZWxlbWVudF8sIHRoaXMuY2hpbGRyZW5fKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QT1NUQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgICAqICAgICBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0Pik6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIGxheWVyRmlsdGVyKSB7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgICAgICB2YXIgbnVtTGF5ZXJzID0gbGF5ZXJTdGF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gbnVtTGF5ZXJzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNbaV07XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgaWYgKGxheWVyLmhhc1JlbmRlcmVyKCkgJiZcbiAgICAgICAgICAgICAgICBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSAmJlxuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGxheWVyUmVuZGVyZXIuZ2V0RGF0YUF0UGl4ZWwocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGxheWVyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBvc2l0ZU1hcFJlbmRlcmVyO1xufShNYXBSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ29tcG9zaXRlTWFwUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21wb3NpdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbi5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL0NvbGxlY3Rpb24uQ29sbGVjdGlvbkV2ZW50I2FkZFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBREQ6ICdhZGQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjcmVtb3ZlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJFTU9WRTogJ3JlbW92ZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbkV2ZW50VHlwZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25cbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gICAgTEVOR1RIOiAnbGVuZ3RoJyxcbn07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG52YXIgQ29sbGVjdGlvbkV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xsZWN0aW9uRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb25FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdF9lbGVtZW50XSBFbGVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2luZGV4XSBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uRXZlbnQodHlwZSwgb3B0X2VsZW1lbnQsIG9wdF9pbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gb3B0X2VsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kZXggPSBvcHRfaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbGxlY3Rpb25FdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IENvbGxlY3Rpb25FdmVudCB9O1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmxlbmd0aCcsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPCdhZGQnfCdyZW1vdmUnLCBDb2xsZWN0aW9uRXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmxlbmd0aCd8J2FkZCd8J3JlbW92ZScsUmV0dXJuPn0gQ29sbGVjdGlvbk9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbdW5pcXVlPWZhbHNlXSBEaXNhbGxvdyB0aGUgc2FtZSBpdGVtIGZyb20gYmVpbmcgYWRkZWQgdG9cbiAqIHRoZSBjb2xsZWN0aW9uIHR3aWNlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFuIGV4cGFuZGVkIHZlcnNpb24gb2Ygc3RhbmRhcmQgSlMgQXJyYXksIGFkZGluZyBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogbWFuaXB1bGF0aW9uLiBBZGQgYW5kIHJlbW92ZSBjaGFuZ2VzIHRvIHRoZSBDb2xsZWN0aW9uIHRyaWdnZXIgYSBDb2xsZWN0aW9uXG4gKiBldmVudC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY292ZXIgY2hhbmdlcyB0byB0aGUgb2JqZWN0cyBfd2l0aGluXyB0aGVcbiAqIENvbGxlY3Rpb247IHRoZXkgdHJpZ2dlciBldmVudHMgb24gdGhlIGFwcHJvcHJpYXRlIG9iamVjdCwgbm90IG9uIHRoZVxuICogQ29sbGVjdGlvbiBhcyBhIHdob2xlLlxuICpcbiAqIEBmaXJlcyBDb2xsZWN0aW9uRXZlbnRcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQGFwaVxuICovXG52YXIgQ29sbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29sbGVjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PFQ+fSBbb3B0X2FycmF5XSBBcnJheS5cbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gQ29sbGVjdGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24ob3B0X2FycmF5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0NvbGxlY3Rpb25PblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmlxdWVfID0gISFvcHRpb25zLnVuaXF1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8VD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hcnJheV8gPSBvcHRfYXJyYXkgPyBvcHRfYXJyYXkgOiBbXTtcbiAgICAgICAgaWYgKF90aGlzLnVuaXF1ZV8pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IF90aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXNzZXJ0VW5pcXVlXyhfdGhpcy5hcnJheV9baV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5nZXRMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50cyB0byB0aGUgY29sbGVjdGlvbi4gIFRoaXMgcHVzaGVzIGVhY2ggaXRlbSBpbiB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgICAgKiB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxUPn0gVGhpcyBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goYXJyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCBBcnJheTxUPik6ICp9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGxcbiAgICAgKiAgICAgZm9yIGV2ZXJ5IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHRoZSBlbGVtZW50LCB0aGVcbiAgICAgKiAgICAgaW5kZXggYW5kIHRoZSBhcnJheSkuIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXlfO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBBcnJheSBvYmplY3QuIFdhcm5pbmc6IGlmIHRoZSBhcnJheVxuICAgICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICAgKiBjb2xsZWN0aW9uJ3MgXCJsZW5ndGhcIiBwcm9wZXJ0eSB3b24ndCBiZSBpbiBzeW5jIHdpdGggdGhlIGFjdHVhbCBsZW5ndGhcbiAgICAgKiBvZiB0aGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFByb3BlcnR5LkxFTkdUSCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYW4gZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIChpbmRleCwgZWxlbSkge1xuICAgICAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICAgICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IHRoZSBwcm92aWRlZCBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgdGhpcy5pbnNlcnRBdChuLCBlbGVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBlbGVtZW50IG9yIHVuZGVmaW5lZCBpZiBub25lIGZvdW5kLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgYXJyID0gdGhpcy5hcnJheV87XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXggYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVmFsdWUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgICAgICB0aGlzLmFycmF5Xy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDb2xsZWN0aW9uRXZlbnQoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHByZXYsIGluZGV4KSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNldEF0ID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbikge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldiA9IHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICAgICAgICAgIHRoaXMuYXJyYXlfW2luZGV4XSA9IGVsZW07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG47IGogPCBpbmRleDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChqLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChpbmRleCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudXBkYXRlTGVuZ3RoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9leGNlcHRdIE9wdGlvbmFsIGluZGV4IHRvIGlnbm9yZS5cbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5hc3NlcnRVbmlxdWVfID0gZnVuY3Rpb24gKGVsZW0sIG9wdF9leGNlcHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJyYXlfW2ldID09PSBlbGVtICYmIGkgIT09IG9wdF9leGNlcHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoNTgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29sbGVjdGlvbjtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29sbGVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbGxlY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Hcm91cFxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiwgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgZ2V0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYgeydhZGRsYXllcid8J3JlbW92ZWxheWVyJ30gRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBsYXllciBncm91cCB0cmlnZ2VycyAnYWRkbGF5ZXInIGFuZCAncmVtb3ZlbGF5ZXInIGV2ZW50cyB3aGVuIGxheWVycyBhcmUgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tXG4gKiB0aGUgZ3JvdXAgb3Igb25lIG9mIGl0cyBjaGlsZCBncm91cHMuICBXaGVuIGEgbGF5ZXIgZ3JvdXAgaXMgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tIGFub3RoZXIgbGF5ZXIgZ3JvdXAsXG4gKiBhIHNpbmdsZSBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCAoaW5zdGVhZCBvZiBvbmUgcGVyIGxheWVyIGluIHRoZSBncm91cCBhZGRlZCBvciByZW1vdmVkKS5cbiAqL1xudmFyIEdyb3VwRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdyb3VwRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFdmVudFR5cGV9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtCYXNlTGF5ZXJ9IGxheWVyIFRoZSBsYXllci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcm91cEV2ZW50KHR5cGUsIGxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWRkZWQgb3IgcmVtb3ZlZCBsYXllci5cbiAgICAgICAgICogQHR5cGUge0Jhc2VMYXllcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gR3JvdXBFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IEdyb3VwRXZlbnQgfTtcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAgICdjaGFuZ2U6bGF5ZXJzJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3wnY2hhbmdlOmxheWVycycsIFJldHVybj59IEdyb3VwT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fGltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IFtsYXllcnNdIENoaWxkIGxheWVycy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQcm9wZXJ0eSA9IHtcbiAgICBMQVlFUlM6ICdsYXllcnMnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0gb2YgbGF5ZXJzIHRoYXQgYXJlIGhhbmRsZWQgdG9nZXRoZXIuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBncm91cC9Db2xsZWN0aW9uIGNoYW5nZXMuXG4gKlxuICogQGFwaVxuICovXG52YXIgTGF5ZXJHcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGF5ZXJHcm91cCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gTGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllckdyb3VwKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKGFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMubGF5ZXJzO1xuICAgICAgICB2YXIgbGF5ZXJzID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7R3JvdXBPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyc0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saXN0ZW5lcktleXNfID0ge307XG4gICAgICAgIF90aGlzLmFkZENoYW5nZUxpc3RlbmVyKFByb3BlcnR5LkxBWUVSUywgX3RoaXMuaGFuZGxlTGF5ZXJzQ2hhbmdlZF8pO1xuICAgICAgICBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24obGF5ZXJzLnNsaWNlKCksIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8obGF5ZXJzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsIDQzKTsgLy8gRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxheWVycyA9IG5ldyBDb2xsZWN0aW9uKHVuZGVmaW5lZCwgeyB1bmlxdWU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2V0TGF5ZXJzKGxheWVycyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllckNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLnB1c2gobGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuaGFuZGxlTGF5ZXJzQWRkXywgdGhpcyksIGxpc3RlbihsYXllcnMsIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCB0aGlzLmhhbmRsZUxheWVyc1JlbW92ZV8sIHRoaXMpKTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5saXN0ZW5lcktleXNfKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyS2V5c19baWRdLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXIodGhpcy5saXN0ZW5lcktleXNfKTtcbiAgICAgICAgdmFyIGxheWVyc0FycmF5ID0gbGF5ZXJzLmdldEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyc0FycmF5W2ldO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckxheWVyTGlzdGVuZXJzXyhsYXllcik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QmFzZUxheWVyfSBsYXllciBUaGUgbGF5ZXIuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUucmVnaXN0ZXJMYXllckxpc3RlbmVyc18gPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyS2V5cyA9IFtcbiAgICAgICAgICAgIGxpc3RlbihsYXllciwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcyksXG4gICAgICAgICAgICBsaXN0ZW4obGF5ZXIsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgbGlzdGVuZXJLZXlzLnB1c2gobGlzdGVuKGxheWVyLCAnYWRkbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBBZGRfLCB0aGlzKSwgbGlzdGVuKGxheWVyLCAncmVtb3ZlbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBSZW1vdmVfLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2dldFVpZChsYXllcildID0gbGlzdGVuZXJLZXlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtHcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgZ3JvdXAgZXZlbnQuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuaGFuZGxlTGF5ZXJHcm91cEFkZF8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdhZGRsYXllcicsIGV2ZW50LmxheWVyKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0dyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciBncm91cCBldmVudC5cbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllckdyb3VwUmVtb3ZlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgZXZlbnQubGF5ZXIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGNvbGxlY3Rpb25FdmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNBZGRfID0gZnVuY3Rpb24gKGNvbGxlY3Rpb25FdmVudCkge1xuICAgICAgICB2YXIgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0fSAqLyAoY29sbGVjdGlvbkV2ZW50LmVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdhZGRsYXllcicsIGxheWVyKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmhhbmRsZUxheWVyc1JlbW92ZV8gPSBmdW5jdGlvbiAoY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHR9ICovIChjb2xsZWN0aW9uRXZlbnQuZWxlbWVudCk7XG4gICAgICAgIHZhciBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyS2V5c19ba2V5XS5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcktleXNfW2tleV07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgncmVtb3ZlbGF5ZXInLCBsYXllcikpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbiBjb2xsZWN0aW9ufSBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyc31cbiAgICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBDb2xsZWN0aW9uIG9mXG4gICAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2UgbGF5ZXJzfSB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgZ3JvdXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LkxBWUVSUykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb24gY29sbGVjdGlvbn0gb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcnN9XG4gICAgICogaW4gdGhpcyBncm91cC5cbiAgICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgQ29sbGVjdGlvbiBvZlxuICAgICAqICAge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLnNldExheWVycyA9IGZ1bmN0aW9uIChsYXllcnMpIHtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLmdldExheWVycygpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRMYXllcnMgPSBjb2xsZWN0aW9uLmdldEFycmF5KCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjdXJyZW50TGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgY3VycmVudExheWVyc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LkxBWUVSUywgbGF5ZXJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gW29wdF9hcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmdldExheWVyc0FycmF5ID0gZnVuY3Rpb24gKG9wdF9hcnJheSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBvcHRfYXJyYXkgIT09IHVuZGVmaW5lZCA/IG9wdF9hcnJheSA6IFtdO1xuICAgICAgICB0aGlzLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBsYXllci5nZXRMYXllcnNBcnJheShhcnJheSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxheWVyIHN0YXRlcyBsaXN0IGFuZCB1c2UgdGhpcyBncm91cHMgei1pbmRleCBhcyB0aGUgZGVmYXVsdFxuICAgICAqIGZvciBhbGwgbGF5ZXJzIGluIHRoaXMgYW5kIG5lc3RlZCBncm91cHMsIGlmIGl0IGlzIHVuc2V0IGF0IHRoaXMgcG9pbnQuXG4gICAgICogSWYgb3B0X3N0YXRlcyBpcyBub3QgcHJvdmlkZWQgYW5kIHRoaXMgZ3JvdXAncyB6LWluZGV4IGlzIHVuZGVmaW5lZFxuICAgICAqIDAgaXMgdXNlZCBhIHRoZSBkZWZhdWx0IHotaW5kZXguXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gW29wdF9zdGF0ZXNdIE9wdGlvbmFsIGxpc3RcbiAgICAgKiBvZiBsYXllciBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIChvcHRfc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzICE9PSB1bmRlZmluZWQgPyBvcHRfc3RhdGVzIDogW107XG4gICAgICAgIHZhciBwb3MgPSBzdGF0ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBsYXllci5nZXRMYXllclN0YXRlc0FycmF5KHN0YXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb3duTGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgZGVmYXVsdFpJbmRleCA9IG93bkxheWVyU3RhdGUuekluZGV4O1xuICAgICAgICBpZiAoIW9wdF9zdGF0ZXMgJiYgb3duTGF5ZXJTdGF0ZS56SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVmYXVsdFpJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHBvcywgaWkgPSBzdGF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBzdGF0ZXNbaV07XG4gICAgICAgICAgICBsYXllclN0YXRlLm9wYWNpdHkgKj0gb3duTGF5ZXJTdGF0ZS5vcGFjaXR5O1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS52aXNpYmxlID0gbGF5ZXJTdGF0ZS52aXNpYmxlICYmIG93bkxheWVyU3RhdGUudmlzaWJsZTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbiA9IE1hdGgubWluKGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiA9IE1hdGgubWF4KGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWluWm9vbSA9IE1hdGgubWF4KGxheWVyU3RhdGUubWluWm9vbSwgb3duTGF5ZXJTdGF0ZS5taW5ab29tKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWF4Wm9vbSA9IE1hdGgubWluKGxheWVyU3RhdGUubWF4Wm9vbSwgb3duTGF5ZXJTdGF0ZS5tYXhab29tKTtcbiAgICAgICAgICAgIGlmIChvd25MYXllclN0YXRlLmV4dGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obGF5ZXJTdGF0ZS5leHRlbnQsIG93bkxheWVyU3RhdGUuZXh0ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50ID0gb3duTGF5ZXJTdGF0ZS5leHRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxheWVyU3RhdGUuekluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsYXllclN0YXRlLnpJbmRleCA9IGRlZmF1bHRaSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2Ugc3RhdGUuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTb3VyY2VTdGF0ZS5SRUFEWTtcbiAgICB9O1xuICAgIHJldHVybiBMYXllckdyb3VwO1xufShCYXNlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IExheWVyR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hcm91cC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL01hcEV2ZW50XG4gKi9cbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9QbHVnZ2FibGVNYXB+UGx1Z2dhYmxlTWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgZXZlbnQuXG4gKi9cbnZhciBNYXBFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gW29wdF9mcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBFdmVudCh0eXBlLCBtYXAsIG9wdF9mcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZSBzdGF0ZSBhdCB0aGUgdGltZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZnJhbWVTdGF0ZSA9IG9wdF9mcmFtZVN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRfZnJhbWVTdGF0ZSA6IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE1hcEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFwRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBFdmVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudFxuICovXG5pbXBvcnQgTWFwRXZlbnQgZnJvbSAnLi9NYXBFdmVudC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBicm93c2VyIGV2ZW50cyBhcmUgaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL1BsdWdnYWJsZU1hcH5QbHVnZ2FibGVNYXB9IGZvciB3aGljaCBldmVudHMgdHJpZ2dlciBhIG1hcCBicm93c2VyIGV2ZW50LlxuICogQHRlbXBsYXRlIHtVSUV2ZW50fSBFVkVOVFxuICovXG52YXIgTWFwQnJvd3NlckV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXBCcm93c2VyRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQHBhcmFtIHtFVkVOVH0gb3JpZ2luYWxFdmVudCBPcmlnaW5hbCBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfZHJhZ2dpbmddIElzIHRoZSBtYXAgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQ/XG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gW29wdF9mcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnQodHlwZSwgbWFwLCBvcmlnaW5hbEV2ZW50LCBvcHRfZHJhZ2dpbmcsIG9wdF9mcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUsIG1hcCwgb3B0X2ZyYW1lU3RhdGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtFVkVOVH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29vcmRpbmF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBtYXAgaXMgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQuIE9ubHkgc2V0IGZvclxuICAgICAgICAgKiBgUE9JTlRFUkRSQUdgIGFuZCBgUE9JTlRFUk1PVkVgIGV2ZW50cy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhZ2dpbmcgPSBvcHRfZHJhZ2dpbmcgIT09IHVuZGVmaW5lZCA/IG9wdF9kcmFnZ2luZyA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLCBcInBpeGVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgcGl4ZWwgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGl4ZWxfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbF8gPSB0aGlzLm1hcC5nZXRFdmVudFBpeGVsKHRoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXhlbF87XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgICAgICB0aGlzLnBpeGVsXyA9IHBpeGVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUsIFwiY29vcmRpbmF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LiAgVGhpcyB3aWxsIGJlIGluIHRoZSB1c2VyXG4gICAgICAgICAqIHByb2plY3Rpb24gaWYgb25lIGlzIHNldC4gIE90aGVyd2lzZSBpdCB3aWxsIGJlIGluIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29vcmRpbmF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVfID0gdGhpcy5tYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCh0aGlzLnBpeGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVfO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVfID0gY29vcmRpbmF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJyb3dzZXIgYWN0aW9uLlxuICAgICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQucHJldmVudERlZmF1bHQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKCdwcmV2ZW50RGVmYXVsdCcgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGZ1cnRoZXIgcHJvcGFnYXRpb24gb2YgdGhlIGN1cnJlbnQgZXZlbnQuXG4gICAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ldmVudC5zdG9wUHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoJ3N0b3BQcm9wYWdhdGlvbicgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWFwQnJvd3NlckV2ZW50O1xufShNYXBFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFwQnJvd3NlckV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwQnJvd3NlckV2ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRUeXBlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICAgKiBldmVudCBpcyBkZWxheWVkIGJ5IDI1MCBtcyB0byBlbnN1cmUgdGhhdCBpdCBpcyBub3QgYSBkb3VibGUgY2xpY2suXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3NpbmdsZWNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNJTkdMRUNMSUNLOiAnc2luZ2xlY2xpY2snLFxuICAgIC8qKlxuICAgICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNjbGlja1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDTElDSzogRXZlbnRUeXBlLkNMSUNLLFxuICAgIC8qKlxuICAgICAqIEEgdHJ1ZSBkb3VibGUgY2xpY2ssIHdpdGggbm8gZHJhZ2dpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBwb2ludGVyIGlzIGRyYWdnZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPSU5URVJEUkFHOiAncG9pbnRlcmRyYWcnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgICAqIHRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgaXMgcGFubmVkLCBzbyBpcyBub3QgdGhlIHNhbWUgYXMgbW91c2Vtb3ZlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNwb2ludGVybW92ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8qKipcbiAqIEB0eXBlZGVmIHsnc2luZ2xlY2xpY2snfCdjbGljayd8J2RibGNsaWNrJ3wncG9pbnRlcmRyYWcnfCdwb2ludGVybW92ZSd9IFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlclxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IFBvaW50ZXJFdmVudFR5cGUgZnJvbSAnLi9wb2ludGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgeyBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyB9IGZyb20gJy4vaGFzLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG52YXIgTWFwQnJvd3NlckV2ZW50SGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwQnJvd3NlckV2ZW50SGFuZGxlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBUaGUgbWFwIHdpdGggdGhlIHZpZXdwb3J0IHRvIGxpc3RlbiB0byBldmVudHMgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttb3ZlVG9sZXJhbmNlXSBUaGUgbWluaW1hbCBkaXN0YW5jZSB0aGUgcG9pbnRlciBtdXN0IHRyYXZlbCB0byB0cmlnZ2VyIGEgbW92ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnRIYW5kbGVyKG1hcCwgbW92ZVRvbGVyYW5jZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtYXApIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBlbGVtZW50IHRoYXQgd2Ugd2lsbCBsaXN0ZW4gdG8gdGhlIHJlYWwgZXZlbnRzIG9uLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBtYXA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7YW55fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xpY2tUaW1lb3V0SWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW11bGF0ZSBkYmxjbGljayBhbmQgc2luZ2xlY2xpY2suIFdpbGwgYmUgdHJ1ZSB3aGVuIG9ubHkgb25lIHBvaW50ZXIgaXMgYWN0aXZlLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtdWxhdGVDbGlja3NfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhZ0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlVG9sZXJhbmNlXyA9IG1vdmVUb2xlcmFuY2UgPT09IHVuZGVmaW5lZCA/IDEgOiBtb3ZlVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50IFwiZG93blwiIHR5cGUgZXZlbnQgKG9yIG51bGwgaWYgbm9uZSBoYXZlIG9jY3VycmVkKS5cbiAgICAgICAgICogU2V0IG9uIHBvaW50ZXJkb3duLlxuICAgICAgICAgKiBAdHlwZSB7UG9pbnRlckV2ZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZG93bl8gPSBudWxsO1xuICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLm1hcF8uZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVQb2ludGVyc18gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLCBib29sZWFuPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYWNrZWRUb3VjaGVzXyA9IHt9O1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbGlzdGVuKGVsZW1lbnQsIFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sIF90aGlzLmhhbmRsZVBvaW50ZXJEb3duXywgX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BvaW50ZXJFdmVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBsaXN0ZW4oZWxlbWVudCwgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgX3RoaXMucmVsYXlFdmVudF8sIF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8gPSBfdGhpcy5oYW5kbGVUb3VjaE1vdmVfLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UT1VDSE1PVkUsIF90aGlzLmJvdW5kSGFuZGxlVG91Y2hNb3ZlXywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5lbXVsYXRlQ2xpY2tfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tUaW1lb3V0SWRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGRvdWJsZS1jbGlja1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lb3V0SWRfKTtcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjbGlja1xuICAgICAgICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgLyoqIEB0aGlzIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfSAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDI1MCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRyYWNrIG9uIGhvdyBtYW55IHBvaW50ZXJzIGFyZSBjdXJyZW50bHkgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVBY3RpdmVQb2ludGVyc18gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAgfHxcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50cmFja2VkVG91Y2hlc19bZXZlbnQucG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tlZFRvdWNoZXNfW2V2ZW50LnBvaW50ZXJJZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkVG91Y2hlc18pLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlclVwXyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAvLyBXZSBlbXVsYXRlIGNsaWNrIGV2ZW50cyBvbiBsZWZ0IG1vdXNlIGJ1dHRvbiBjbGljaywgdG91Y2ggY29udGFjdCwgYW5kIHBlblxuICAgICAgICAvLyBjb250YWN0LiBpc01vdXNlQWN0aW9uQnV0dG9uIHJldHVybnMgdHJ1ZSBpbiB0aGVzZSBjYXNlcyAoZXZ0LmJ1dHRvbiBpcyBzZXRcbiAgICAgICAgLy8gdG8gMCkuXG4gICAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyNidXR0b24tc3RhdGVzXG4gICAgICAgIC8vIFdlIG9ubHkgZmlyZSBjbGljaywgc2luZ2xlY2xpY2ssIGFuZCBkb3VibGVjbGljayBpZiBub2JvZHkgaGFzIGNhbGxlZFxuICAgICAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLlxuICAgICAgICBpZiAodGhpcy5lbXVsYXRlQ2xpY2tzXyAmJlxuICAgICAgICAgICAgIW5ld0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiZcbiAgICAgICAgICAgICF0aGlzLmRyYWdnaW5nXyAmJlxuICAgICAgICAgICAgdGhpcy5pc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVtdWxhdGVDbGlja18odGhpcy5kb3duXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG9pbnRlcnNfID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kb3duXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiB3YXMgcHJlc3NlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmlzTW91c2VBY3Rpb25CdXR0b25fID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlckRvd25fID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLmVtdWxhdGVDbGlja3NfID0gdGhpcy5hY3RpdmVQb2ludGVyc18gPT09IDA7XG4gICAgICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAvLyBTdG9yZSBhIGNvcHkgb2YgdGhlIGRvd24gZXZlbnRcbiAgICAgICAgdGhpcy5kb3duXyA9IC8qKiBAdHlwZSB7UG9pbnRlckV2ZW50fSAqLyAoe30pO1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBvaW50ZXJFdmVudFtwcm9wZXJ0eV07XG4gICAgICAgICAgICB0aGlzLmRvd25fW3Byb3BlcnR5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IFZPSUQgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLm1hcF8uZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKGxpc3Rlbihkb2MsIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmVfLCB0aGlzKSwgbGlzdGVuKGRvYywgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAsIHRoaXMuaGFuZGxlUG9pbnRlclVwXywgdGhpcyksIFxuICAgICAgICAgICAgLyogTm90ZSB0aGF0IHRoZSBsaXN0ZW5lciBmb3IgYHBvaW50ZXJjYW5jZWwgaXMgc2V0IHVwIG9uXG4gICAgICAgICAgICAgKiBgcG9pbnRlckV2ZW50SGFuZGxlcl9gIGFuZCBub3QgYGRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl9gIGxpa2VcbiAgICAgICAgICAgICAqIHRoZSBgcG9pbnRlcnVwYCBhbmQgYHBvaW50ZXJtb3ZlYCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGUgZm9sbG93aW5nOiBgVG91Y2hTb3VyY2UudmFjdXVtVG91Y2hlc18oKWBcbiAgICAgICAgICAgICAqIGlzc3VlcyBgcG9pbnRlcmNhbmNlbGAgZXZlbnRzLCB3aGVuIHRoZXJlIHdhcyBubyBgdG91Y2hlbmRgIGZvciBhXG4gICAgICAgICAgICAgKiBgdG91Y2hzdGFydGAuIE5vdywgbGV0J3Mgc2F5IGEgZmlyc3QgYHRvdWNoc3RhcnRgIGlzIHJlZ2lzdGVyZWQgb25cbiAgICAgICAgICAgICAqIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AuIFRoZSBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgaXMgc2V0IHVwLlxuICAgICAgICAgICAgICogQnV0IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBkb2Vzbid0IGtub3cgYWJvdXQgdGhlIGZpcnN0XG4gICAgICAgICAgICAgKiBgdG91Y2hzdGFydGAuIElmIHRoZXJlIGlzIG5vIGB0b3VjaGVuZGAgZm9yIHRoZSBgdG91Y2hzdGFydGAsIHdlIGNhblxuICAgICAgICAgICAgICogb25seSByZWNlaXZlIGEgYHRvdWNoY2FuY2VsYCBmcm9tIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AsIGJlY2F1c2UgaXQgaXNcbiAgICAgICAgICAgICAqIG9ubHkgcmVnaXN0ZXJlZCB0aGVyZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGlzdGVuKHRoaXMuZWxlbWVudF8sIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSAmJiB0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlKCkgIT09IGRvYykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ucHVzaChsaXN0ZW4odGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSgpLCBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlck1vdmVfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICAvLyBCZXR3ZWVuIHBvaW50ZXJkb3duIGFuZCBwb2ludGVydXAsIHBvaW50ZXJtb3ZlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLlxuICAgICAgICAvLyBUbyBhdm9pZCBhICdmYWxzZScgdG91Y2htb3ZlIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQsIHdlIHRlc3QgaWYgdGhlIHBvaW50ZXJcbiAgICAgICAgLy8gbW92ZWQgYSBzaWduaWZpY2FudCBkaXN0YW5jZS5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQsIHRoaXMuZHJhZ2dpbmdfKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyYXAgYW5kIHJlbGF5IGEgcG9pbnRlciBldmVudC4gIE5vdGUgdGhhdCB0aGlzIHJlcXVpcmVzIHRoYXQgdGhlIHR5cGVcbiAgICAgKiBzdHJpbmcgZm9yIHRoZSBNYXBCcm93c2VyRXZlbnQgbWF0Y2hlcyB0aGUgUG9pbnRlckV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZWxheUV2ZW50XyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfID0gcG9pbnRlckV2ZW50O1xuICAgICAgICB2YXIgZHJhZ2dpbmcgPSAhISh0aGlzLmRvd25fICYmIHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEJyb3dzZXJFdmVudChwb2ludGVyRXZlbnQudHlwZSwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQsIGRyYWdnaW5nKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbGV4aWJsZSBoYW5kbGluZyBvZiBhIGB0b3VjaC1hY3Rpb246IG5vbmVgIGNzcyBlcXVpdmFsZW50OiBiZWNhdXNlIGNhbGxpbmdcbiAgICAgKiBgcHJldmVudERlZmF1bHQoKWAgb24gYSBgcG9pbnRlcm1vdmVgIGV2ZW50IGRvZXMgbm90IHN0b3AgbmF0aXZlIHBhZ2Ugc2Nyb2xsaW5nXG4gICAgICogYW5kIHpvb21pbmcsIHdlIGFsc28gbGlzdGVuIGZvciBgdG91Y2htb3ZlYCBhbmQgY2FsbCBgcHJldmVudERlZmF1bHQoKWAgb24gaXRcbiAgICAgKiB3aGVuIGFuIGludGVyYWN0aW9uIChjdXJyZW50bHkgYERyYWdQYW5gIGhhbmRsZXMgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVUb3VjaE1vdmVfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIER1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbXBpemVuYmVyZy9lbG0tcGVwL2lzc3Vlcy8yLCBgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfYFxuICAgICAgICAvLyBtYXkgbm90IGJlIGluaXRpYWxpemVkIHlldCB3aGVuIHdlIGdldCBoZXJlIG9uIGEgcGxhdGZvcm0gd2l0aG91dCBuYXRpdmUgcG9pbnRlciBldmVudHMuXG4gICAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfO1xuICAgICAgICBpZiAoKCFvcmlnaW5hbEV2ZW50IHx8IG9yaWdpbmFsRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgJiZcbiAgICAgICAgICAgICh0eXBlb2YgZXZlbnQuY2FuY2VsYWJsZSAhPT0gJ2Jvb2xlYW4nIHx8IGV2ZW50LmNhbmNlbGFibGUgPT09IHRydWUpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICAgKiBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBtb3ZpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5pc01vdmluZ18gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kcmFnZ2luZ18gfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXJFdmVudC5jbGllbnRYIC0gdGhpcy5kb3duXy5jbGllbnRYKSA+XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyB8fFxuICAgICAgICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFkgLSB0aGlzLmRvd25fLmNsaWVudFkpID4gdGhpcy5tb3ZlVG9sZXJhbmNlXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMucmVsYXllZExpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UT1VDSE1PVkUsIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfKTtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5lbGVtZW50XyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwQnJvd3NlckV2ZW50SGFuZGxlcjtcbn0oVGFyZ2V0KSk7XG5leHBvcnQgZGVmYXVsdCBNYXBCcm93c2VyRXZlbnRIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBhIG1hcCBmcmFtZSBpcyByZW5kZXJlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I3Bvc3RyZW5kZXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUE9TVFJFTkRFUjogJ3Bvc3RyZW5kZXInLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIG1vdmluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I21vdmVzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNT1ZFU1RBUlQ6ICdtb3Zlc3RhcnQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgbWFwIGlzIG1vdmVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbW92ZWVuZFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNT1ZFRU5EOiAnbW92ZWVuZCcsXG59O1xuLyoqKlxuICogQHR5cGVkZWYgeydwb3N0cmVuZGVyJ3wnbW92ZXN0YXJ0J3wnbW92ZWVuZCd9IFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgTEFZRVJHUk9VUDogJ2xheWVyZ3JvdXAnLFxuICAgIFNJWkU6ICdzaXplJyxcbiAgICBUQVJHRVQ6ICd0YXJnZXQnLFxuICAgIFZJRVc6ICd2aWV3Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERST1AgPSBJbmZpbml0eTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJpb3JpdHkgcXVldWUuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGlzIGluc3BpcmVkIGZyb20gdGhlIENsb3N1cmUgTGlicmFyeSdzIEhlYXAgY2xhc3MgYW5kXG4gKiBQeXRob24ncyBoZWFwcSBtb2R1bGUuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9zdHJ1Y3RzL2hlYXAuanNcbiAqIGFuZCBodHRwczovL2hnLnB5dGhvbi5vcmcvY3B5dGhvbi9maWxlLzIuNy9MaWIvaGVhcHEucHkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIFByaW9yaXR5UXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogbnVtYmVyfSBwcmlvcml0eUZ1bmN0aW9uIFByaW9yaXR5IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6IHN0cmluZ30ga2V5RnVuY3Rpb24gS2V5IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByaW9yaXR5UXVldWUocHJpb3JpdHlGdW5jdGlvbiwga2V5RnVuY3Rpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihUKTogbnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eUZ1bmN0aW9uXyA9IHByaW9yaXR5RnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IHN0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2V5RnVuY3Rpb25fID0ga2V5RnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8VD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsZW1lbnRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXRpZXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZWRFbGVtZW50c18gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucHJpb3JpdGllc18ubGVuZ3RoID0gMDtcbiAgICAgICAgY2xlYXIodGhpcy5xdWV1ZWRFbGVtZW50c18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuZCByZXR1cm4gdGhlIGhpZ2hlc3QtcHJpb3JpdHkgZWxlbWVudC4gTyhsb2cgTikuXG4gICAgICogQHJldHVybiB7VH0gRWxlbWVudC5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzWzBdO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBwcmlvcml0aWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50c1swXSA9IGVsZW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgcHJpb3JpdGllc1swXSA9IHByaW9yaXRpZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcF8oMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRLZXkgPSB0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KTtcbiAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW2VsZW1lbnRLZXldO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVucXVldWUgYW4gZWxlbWVudC4gTyhsb2cgTikuXG4gICAgICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0KCEodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkgaW4gdGhpcy5xdWV1ZWRFbGVtZW50c18pLCAzMSk7IC8vIFRyaWVkIHRvIGVucXVldWUgYW4gYGVsZW1lbnRgIHRoYXQgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHF1ZXVlXG4gICAgICAgIHZhciBwcmlvcml0eSA9IHRoaXMucHJpb3JpdHlGdW5jdGlvbl8oZWxlbWVudCk7XG4gICAgICAgIGlmIChwcmlvcml0eSAhPSBEUk9QKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzXy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5wcmlvcml0aWVzXy5wdXNoKHByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNpZnREb3duXygwLCB0aGlzLmVsZW1lbnRzXy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIGxlZnQgY2hpbGQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0TGVmdENoaWxkSW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCAqIDIgKyAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIHJpZ2h0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcmlnaHQgY2hpbGQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldFJpZ2h0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMiArIDI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcGFyZW50IGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcGFyZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0UGFyZW50SW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiAoaW5kZXggLSAxKSA+PiAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSB0aGlzIGEgaGVhcC4gTyhOKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmhlYXBpZnlfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gKHRoaXMuZWxlbWVudHNfLmxlbmd0aCA+PiAxKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcF8oaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBrZXkgcXVldWVkLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzS2V5UXVldWVkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMucXVldWVkRWxlbWVudHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcXVldWVkLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzUXVldWVkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNLZXlRdWV1ZWQodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBtb3ZlIGRvd24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5zaWZ0VXBfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgICAgICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgICAgIHZhciBjb3VudCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgIHZhciBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBjb3VudCA+PiAxKSB7XG4gICAgICAgICAgICB2YXIgbEluZGV4ID0gdGhpcy5nZXRMZWZ0Q2hpbGRJbmRleF8oaW5kZXgpO1xuICAgICAgICAgICAgdmFyIHJJbmRleCA9IHRoaXMuZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCk7XG4gICAgICAgICAgICB2YXIgc21hbGxlckNoaWxkSW5kZXggPSBySW5kZXggPCBjb3VudCAmJiBwcmlvcml0aWVzW3JJbmRleF0gPCBwcmlvcml0aWVzW2xJbmRleF1cbiAgICAgICAgICAgICAgICA/IHJJbmRleFxuICAgICAgICAgICAgICAgIDogbEluZGV4O1xuICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgICAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0aWVzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgICAgICAgIGluZGV4ID0gc21hbGxlckNoaWxkSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudDtcbiAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgdGhpcy5zaWZ0RG93bl8oc3RhcnRJbmRleCwgaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggVGhlIGluZGV4IG9mIHRoZSByb290LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSB1cC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnNpZnREb3duXyA9IGZ1bmN0aW9uIChzdGFydEluZGV4LCBpbmRleCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gcHJpb3JpdGllc1tpbmRleF07XG4gICAgICAgIHdoaWxlIChpbmRleCA+IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IHRoaXMuZ2V0UGFyZW50SW5kZXhfKGluZGV4KTtcbiAgICAgICAgICAgIGlmIChwcmlvcml0aWVzW3BhcmVudEluZGV4XSA+IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbcGFyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1twYXJlbnRJbmRleF07XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5yZXByaW9yaXRpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmlvcml0eUZ1bmN0aW9uID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgICAgIHZhciBwcmlvcml0aWVzID0gdGhpcy5wcmlvcml0aWVzXztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG4gPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBlbGVtZW50LCBpLCBwcmlvcml0eTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHByaW9yaXR5ID09IERST1ApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5xdWV1ZWRFbGVtZW50c19bdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1tpbmRleCsrXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIHByaW9yaXRpZXMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIHRoaXMuaGVhcGlmeV8oKTtcbiAgICB9O1xuICAgIHJldHVybiBQcmlvcml0eVF1ZXVlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFByaW9yaXR5UXVldWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcmlvcml0eVF1ZXVlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVGlsZVF1ZXVlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQcmlvcml0eVF1ZXVlLCB7IERST1AgfSBmcm9tICcuL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0LCBzdHJpbmcsIGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBudW1iZXIpOiBudW1iZXJ9IFByaW9yaXR5RnVuY3Rpb25cbiAqL1xudmFyIFRpbGVRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVF1ZXVlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UHJpb3JpdHlGdW5jdGlvbn0gdGlsZVByaW9yaXR5RnVuY3Rpb24gVGlsZSBwcmlvcml0eSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6ID99IHRpbGVDaGFuZ2VDYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgb24gZWFjaCB0aWxlIGNoYW5nZSBldmVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlUXVldWUodGlsZVByaW9yaXR5RnVuY3Rpb24sIHRpbGVDaGFuZ2VDYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSBQcmlvcml0eS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVByaW9yaXR5RnVuY3Rpb24uYXBwbHkobnVsbCwgZWxlbWVudCk7XG4gICAgICAgIH0sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGVsZW1lbnRbMF0pLmdldEtleSgpO1xuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKiogQHByaXZhdGUgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyA9IF90aGlzLmhhbmRsZVRpbGVDaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZXNMb2FkaW5nXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsYm9vbGVhbj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlc0xvYWRpbmdLZXlzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZWxlbWVudCB3YXMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIFRpbGVRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBhZGRlZCA9IF9zdXBlci5wcm90b3R5cGUuZW5xdWV1ZS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgICBpZiAoYWRkZWQpIHtcbiAgICAgICAgICAgIHZhciB0aWxlID0gZWxlbWVudFswXTtcbiAgICAgICAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZGRlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHRpbGVzIGxvYWRpbmcuXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5nZXRUaWxlc0xvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlUXVldWUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IgfHxcbiAgICAgICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFkpIHtcbiAgICAgICAgICAgIHRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgICAgICAgdmFyIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgICAgICAgaWYgKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgIC0tdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb3RhbExvYWRpbmcgTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZCBzaW11bHRhbmVvdXNseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TmV3TG9hZHMgTWF4aW11bSBudW1iZXIgb2YgbmV3IHRpbGVzIHRvIGxvYWQuXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5sb2FkTW9yZVRpbGVzID0gZnVuY3Rpb24gKG1heFRvdGFsTG9hZGluZywgbWF4TmV3TG9hZHMpIHtcbiAgICAgICAgdmFyIG5ld0xvYWRzID0gMDtcbiAgICAgICAgdmFyIHN0YXRlLCB0aWxlLCB0aWxlS2V5O1xuICAgICAgICB3aGlsZSAodGhpcy50aWxlc0xvYWRpbmdfIDwgbWF4VG90YWxMb2FkaW5nICYmXG4gICAgICAgICAgICBuZXdMb2FkcyA8IG1heE5ld0xvYWRzICYmXG4gICAgICAgICAgICB0aGlzLmdldENvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZGVxdWV1ZSgpWzBdKTtcbiAgICAgICAgICAgIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgICAgICAgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5JRExFICYmICEodGlsZUtleSBpbiB0aGlzLnRpbGVzTG9hZGluZ0tleXNfKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c19bdGlsZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICAgICAgICAgICsrbmV3TG9hZHM7XG4gICAgICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWxlUXVldWU7XG59KFByaW9yaXR5UXVldWUpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVRdWV1ZTtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vUGx1Z2dhYmxlTWFwLmpzJykuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlU291cmNlS2V5IFRpbGUgc291cmNlIGtleS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGlsZVJlc29sdXRpb24gVGlsZSByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHByaW9yaXR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGlsZVByaW9yaXR5KGZyYW1lU3RhdGUsIHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKSB7XG4gICAgLy8gRmlsdGVyIG91dCB0aWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgdGhhbiB0aGUgY3VycmVudCB6b29tIGxldmVsLCBvciB0aGF0XG4gICAgLy8gYXJlIG91dHNpZGUgdGhlIHZpc2libGUgZXh0ZW50LlxuICAgIGlmICghZnJhbWVTdGF0ZSB8fCAhKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgICAgcmV0dXJuIERST1A7XG4gICAgfVxuICAgIGlmICghZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSkge1xuICAgICAgICByZXR1cm4gRFJPUDtcbiAgICB9XG4gICAgLy8gUHJpb3JpdGl6ZSB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRpbGVzIGNsb3Nlc3QgdG8gdGhlIGZvY3VzLlxuICAgIC8vIFRpbGVzIGF0IGhpZ2hlciB6b29tIGxldmVscyBhcmUgcHJpb3JpdGl6ZWQgdXNpbmcgTWF0aC5sb2codGlsZVJlc29sdXRpb24pLlxuICAgIC8vIFdpdGhpbiBhIHpvb20gbGV2ZWwsIHRpbGVzIGFyZSBwcmlvcml0aXplZCBieSB0aGUgZGlzdGFuY2UgaW4gcGl4ZWxzIGJldHdlZW5cbiAgICAvLyB0aGUgY2VudGVyIG9mIHRoZSB0aWxlIGFuZCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC4gIFRoZSBmYWN0b3Igb2YgNjU1MzZcbiAgICAvLyBtZWFucyB0aGF0IHRoZSBwcmlvcml0aXphdGlvbiBzaG91bGQgYmVoYXZlIGFzIGRlc2lyZWQgZm9yIHRpbGVzIHVwIHRvXG4gICAgLy8gNjU1MzYgKiBNYXRoLmxvZygyKSA9IDQ1NDI2IHBpeGVscyBmcm9tIHRoZSBmb2N1cy5cbiAgICB2YXIgY2VudGVyID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUuY2VudGVyO1xuICAgIHZhciBkZWx0YVggPSB0aWxlQ2VudGVyWzBdIC0gY2VudGVyWzBdO1xuICAgIHZhciBkZWx0YVkgPSB0aWxlQ2VudGVyWzFdIC0gY2VudGVyWzFdO1xuICAgIHJldHVybiAoNjU1MzYgKiBNYXRoLmxvZyh0aWxlUmVzb2x1dGlvbikgK1xuICAgICAgICBNYXRoLnNxcnQoZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZKSAvIHRpbGVSZXNvbHV0aW9uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVRdWV1ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVN0YXRlXG4gKi9cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIElETEU6IDAsXG4gICAgTE9BRElORzogMSxcbiAgICBMT0FERUQ6IDIsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGlsZSBsb2FkaW5nIGZhaWxlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgRVJST1I6IDMsXG4gICAgRU1QVFk6IDQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0dlb21ldHJ5VHlwZVxuICovXG4vKipcbiAqIFRoZSBnZW9tZXRyeSB0eXBlLiBPbmUgb2YgYCdQb2ludCdgLCBgJ0xpbmVTdHJpbmcnYCwgYCdMaW5lYXJSaW5nJ2AsXG4gKiBgJ1BvbHlnb24nYCwgYCdNdWx0aVBvaW50J2AsIGAnTXVsdGlMaW5lU3RyaW5nJ2AsIGAnTXVsdGlQb2x5Z29uJ2AsXG4gKiBgJ0dlb21ldHJ5Q29sbGVjdGlvbidgLCBgJ0NpcmNsZSdgLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFBPSU5UOiAnUG9pbnQnLFxuICAgIExJTkVfU1RSSU5HOiAnTGluZVN0cmluZycsXG4gICAgTElORUFSX1JJTkc6ICdMaW5lYXJSaW5nJyxcbiAgICBQT0xZR09OOiAnUG9seWdvbicsXG4gICAgTVVMVElfUE9JTlQ6ICdNdWx0aVBvaW50JyxcbiAgICBNVUxUSV9MSU5FX1NUUklORzogJ011bHRpTGluZVN0cmluZycsXG4gICAgTVVMVElfUE9MWUdPTjogJ011bHRpUG9seWdvbicsXG4gICAgR0VPTUVUUllfQ09MTEVDVElPTjogJ0dlb21ldHJ5Q29sbGVjdGlvbicsXG4gICAgQ0lSQ0xFOiAnQ2lyY2xlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW9tZXRyeVR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovVW5pdHNcbiAqL1xuLyoqXG4gKiBQcm9qZWN0aW9uIHVuaXRzOiBgJ2RlZ3JlZXMnYCwgYCdmdCdgLCBgJ20nYCwgYCdwaXhlbHMnYCwgYCd0aWxlLXBpeGVscydgIG9yXG4gKiBgJ3VzLWZ0J2AuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgVW5pdHMgPSB7XG4gICAgLyoqXG4gICAgICogUmFkaWFuc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSQURJQU5TOiAncmFkaWFucycsXG4gICAgLyoqXG4gICAgICogRGVncmVlc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBERUdSRUVTOiAnZGVncmVlcycsXG4gICAgLyoqXG4gICAgICogRmVldFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUVUOiAnZnQnLFxuICAgIC8qKlxuICAgICAqIE1ldGVyc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNRVRFUlM6ICdtJyxcbiAgICAvKipcbiAgICAgKiBQaXhlbHNcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUElYRUxTOiAncGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBUaWxlIFBpeGVsc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFX1BJWEVMUzogJ3RpbGUtcGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBVUyBGZWV0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVTRkVFVDogJ3VzLWZ0Jyxcbn07XG4vKipcbiAqIFNlZSBodHRwOi8vZHVmZi5lc3Mud2FzaGluZ3Rvbi5lZHUvZGF0YS9yYXN0ZXIvZHJnL2RvY3MvZ2VvdGlmZi50eHRcbiAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBVbml0cz59XG4gKi9cbnZhciB1bml0QnlDb2RlID0ge1xuICAgICc5MDAxJzogVW5pdHMuTUVURVJTLFxuICAgICc5MDAyJzogVW5pdHMuRkVFVCxcbiAgICAnOTAwMyc6IFVuaXRzLlVTRkVFVCxcbiAgICAnOTEwMSc6IFVuaXRzLlJBRElBTlMsXG4gICAgJzkxMDInOiBVbml0cy5ERUdSRUVTLFxufTtcbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGUgVW5pdCBjb2RlLlxuICogQHJldHVybiB7VW5pdHN9IFVuaXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUNvZGUoY29kZSkge1xuICAgIHJldHVybiB1bml0QnlDb2RlW2NvZGVdO1xufVxuLyoqXG4gKiBNZXRlcnMgcGVyIHVuaXQgbG9va3VwIHRhYmxlLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0PFVuaXRzLCBudW1iZXI+fVxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIE1FVEVSU19QRVJfVU5JVCA9IHt9O1xuLy8gdXNlIHRoZSByYWRpdXMgb2YgdGhlIE5vcm1hbCBzcGhlcmVcbk1FVEVSU19QRVJfVU5JVFtVbml0cy5SQURJQU5TXSA9IDYzNzA5OTcgLyAoMiAqIE1hdGguUEkpO1xuTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdID0gKDIgKiBNYXRoLlBJICogNjM3MDk5NykgLyAzNjA7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuRkVFVF0gPSAwLjMwNDg7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuTUVURVJTXSA9IDE7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuVVNGRUVUXSA9IDEyMDAgLyAzOTM3O1xuZXhwb3J0IGRlZmF1bHQgVW5pdHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbml0cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1Byb3BlcnR5XG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIENFTlRFUjogJ2NlbnRlcicsXG4gICAgUkVTT0xVVElPTjogJ3Jlc29sdXRpb24nLFxuICAgIFJPVEFUSU9OOiAncm90YXRpb24nLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvY29tbW9uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIHpvb20gZm9yIGRlZmF1bHQgdGlsZSBncmlkcy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9NQVhfWk9PTSA9IDQyO1xuLyoqXG4gKiBEZWZhdWx0IHRpbGUgc2l6ZS5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9USUxFX1NJWkUgPSAyNTY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovUHJvamVjdGlvblxuICovXG5pbXBvcnQgeyBNRVRFUlNfUEVSX1VOSVQgfSBmcm9tICcuL1VuaXRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGUgVGhlIFNSUyBpZGVudGlmaWVyIGNvZGUsIGUuZy4gYEVQU0c6NDMyNmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVW5pdHMuanNcIikuZGVmYXVsdHxzdHJpbmd9IFt1bml0c10gVW5pdHMuIFJlcXVpcmVkIHVubGVzcyBhXG4gKiBwcm9qNCBwcm9qZWN0aW9uIGlzIGRlZmluZWQgZm9yIGBjb2RlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhlIFNSUy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXhpc09yaWVudGF0aW9uPSdlbnUnXSBUaGUgYXhpcyBvcmllbnRhdGlvbiBhcyBzcGVjaWZpZWQgaW4gUHJvajQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtnbG9iYWw9ZmFsc2VdIFdoZXRoZXIgdGhlIHByb2plY3Rpb24gaXMgdmFsaWQgZm9yIHRoZSB3aG9sZSBnbG9iZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWV0ZXJzUGVyVW5pdF0gVGhlIG1ldGVycyBwZXIgdW5pdCBmb3IgdGhlIFNSUy5cbiAqIElmIG5vdCBwcm92aWRlZCwgdGhlIGB1bml0c2AgYXJlIHVzZWQgdG8gZ2V0IHRoZSBtZXRlcnMgcGVyIHVuaXQgZnJvbSB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1VuaXRzfk1FVEVSU19QRVJfVU5JVH1cbiAqIGxvb2t1cCB0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3dvcmxkRXh0ZW50XSBUaGUgd29ybGQgZXh0ZW50IGZvciB0aGUgU1JTLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfSBbZ2V0UG9pbnRSZXNvbHV0aW9uXVxuICogRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHJlc29sdXRpb24gYXQgYSBwb2ludC4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcbiAqIGBudW1iZXJgIHZpZXcgcmVzb2x1dGlvbiBhbmQgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZSBDb29yZGluYXRlfSBhcyBhcmd1bWVudHMsIGFuZCByZXR1cm5zXG4gKiB0aGUgYG51bWJlcmAgcmVzb2x1dGlvbiBpbiBwcm9qZWN0aW9uIHVuaXRzIGF0IHRoZSBwYXNzZWQgY29vcmRpbmF0ZS4gSWYgdGhpcyBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoZSBkZWZhdWx0IHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXRQb2ludFJlc29sdXRpb24gZ2V0UG9pbnRSZXNvbHV0aW9uKCl9IGZ1bmN0aW9uIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIGRlZmluaXRpb24gY2xhc3MuIE9uZSBvZiB0aGVzZSBpcyBjcmVhdGVkIGZvciBlYWNoIHByb2plY3Rpb25cbiAqIHN1cHBvcnRlZCBpbiB0aGUgYXBwbGljYXRpb24gYW5kIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qfSBuYW1lc3BhY2UuXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBpbiBhcHBsaWNhdGlvbnMsIGJ1dCB0aGlzIGlzIG5vdCByZXF1aXJlZCwgYXMgQVBJIHBhcmFtc1xuICogYW5kIG9wdGlvbnMgdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5Qcm9qZWN0aW9uTGlrZX0gd2hpY2ggbWVhbnMgdGhlIHNpbXBsZSBzdHJpbmdcbiAqIGNvZGUgd2lsbCBzdWZmaWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXR9IHRvIHJldHJpZXZlIHRoZSBvYmplY3QgZm9yIGEgcGFydGljdWxhclxuICogcHJvamVjdGlvbi5cbiAqXG4gKiBUaGUgbGlicmFyeSBpbmNsdWRlcyBkZWZpbml0aW9ucyBmb3IgYEVQU0c6NDMyNmAgYW5kIGBFUFNHOjM4NTdgLCB0b2dldGhlclxuICogd2l0aCB0aGUgZm9sbG93aW5nIGFsaWFzZXM6XG4gKiAqIGBFUFNHOjQzMjZgOiBDUlM6ODQsIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuNjo0MzI2LFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0LCB1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQsXG4gKiAgICAgaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYsXG4gKiAgICAgdXJuOngtb2djOmRlZjpjcnM6RVBTRzo0MzI2XG4gKiAqIGBFUFNHOjM4NTdgOiBFUFNHOjEwMjEwMCwgRVBTRzoxMDIxMTMsIEVQU0c6OTAwOTEzLFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XG4gKlxuICogSWYgeW91IHVzZSBbcHJvajRqc10oaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyksIGFsaWFzZXMgY2FuXG4gKiBiZSBhZGRlZCB1c2luZyBgcHJvajQuZGVmcygpYC4gQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlXG4gKiBhZGRlZCwgY2FsbCB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL3Byb2o0LnJlZ2lzdGVyfSBmdW5jdGlvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBQcm9qZWN0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvamVjdGlvbihvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2RlXyA9IG9wdGlvbnMuY29kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXRzIG9mIHByb2plY3RlZCBjb29yZGluYXRlcy4gV2hlbiBzZXQgdG8gYFRJTEVfUElYRUxTYCwgYVxuICAgICAgICAgKiBgdGhpcy5leHRlbnRfYCBhbmQgYHRoaXMud29ybGRFeHRlbnRfYCBtdXN0IGJlIGNvbmZpZ3VyZWQgcHJvcGVybHkgZm9yIGVhY2hcbiAgICAgICAgICogdGlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vVW5pdHMuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pdHNfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1VuaXRzLmpzXCIpLmRlZmF1bHR9ICovIChvcHRpb25zLnVuaXRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkaXR5IGV4dGVudCBvZiB0aGUgcHJvamVjdGlvbiBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuIEZvciBwcm9qZWN0aW9uc1xuICAgICAgICAgKiB3aXRoIGBUSUxFX1BJWEVMU2AgdW5pdHMsIHRoaXMgaXMgdGhlIGV4dGVudCBvZiB0aGUgdGlsZSBpblxuICAgICAgICAgKiB0aWxlIHBpeGVsIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmV4dGVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnQgb2YgdGhlIHdvcmxkIGluIEVQU0c6NDMyNi4gRm9yIHByb2plY3Rpb25zIHdpdGhcbiAgICAgICAgICogYFRJTEVfUElYRUxTYCB1bml0cywgdGhpcyBpcyB0aGUgZXh0ZW50IG9mIHRoZSB0aWxlIGluXG4gICAgICAgICAqIHByb2plY3RlZCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID1cbiAgICAgICAgICAgIG9wdGlvbnMud29ybGRFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud29ybGRFeHRlbnQgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXhpc09yaWVudGF0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5heGlzT3JpZW50YXRpb24gOiAnZW51JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxfID0gb3B0aW9ucy5nbG9iYWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ2xvYmFsIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIHRoaXMuZXh0ZW50Xyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gb3B0aW9ucy5nZXRQb2ludFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFRpbGVHcmlkXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0ZXJzUGVyVW5pdF8gPSBvcHRpb25zLm1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBwcm9qZWN0aW9uIGlzIHN1aXRhYmxlIGZvciB3cmFwcGluZyB0aGUgeC1heGlzXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuY2FuV3JhcFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbldyYXBYXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29kZSBmb3IgdGhpcyBwcm9qZWN0aW9uLCBlLmcuICdFUFNHOjQzMjYnLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQ29kZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1bml0cyBvZiB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5kZWZhdWx0fSBVbml0cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0VW5pdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW1vdW50IG9mIG1ldGVycyBwZXIgdW5pdCBvZiB0aGlzIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBpc1xuICAgICAqIG5vdCBjb25maWd1cmVkIHdpdGggYG1ldGVyc1BlclVuaXRgIG9yIGEgdW5pdHMgaWRlbnRpZmllciwgdGhlIHJldHVybiBpc1xuICAgICAqIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1ldGVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0TWV0ZXJzUGVyVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0ZXJzUGVyVW5pdF8gfHwgTUVURVJTX1BFUl9VTklUW3RoaXMudW5pdHNfXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRXb3JsZEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRFeHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBheGlzIG9yaWVudGF0aW9uIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBFeGFtcGxlIHZhbHVlcyBhcmU6XG4gICAgICogZW51IC0gdGhlIGRlZmF1bHQgZWFzdGluZywgbm9ydGhpbmcsIGVsZXZhdGlvbi5cbiAgICAgKiBuZXUgLSBub3J0aGluZywgZWFzdGluZywgdXAgLSB1c2VmdWwgZm9yIFwibGF0L2xvbmdcIiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLFxuICAgICAqICAgICBvciBzb3V0aCBvcmllbnRhdGVkIHRyYW5zdmVyc2UgbWVyY2F0b3IuXG4gICAgICogd251IC0gd2VzdGluZywgbm9ydGhpbmcsIHVwIC0gc29tZSBwbGFuZXRhcnkgY29vcmRpbmF0ZSBzeXN0ZW1zIGhhdmVcbiAgICAgKiAgICAgXCJ3ZXN0IHBvc2l0aXZlXCIgY29vcmRpbmF0ZSBzeXN0ZW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBeGlzIG9yaWVudGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRBeGlzT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF4aXNPcmllbnRhdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHByb2plY3Rpb24gYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGQ/XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmlzR2xvYmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGlmIHRoZSBwcm9qZWN0aW9uIGlzIGEgZ2xvYmFsIHByb2plY3Rpb24gd2hpY2ggc3BhbnMgdGhlIHdob2xlIHdvcmxkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBnbG9iYWwgV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldEdsb2JhbCA9IGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxfID0gZ2xvYmFsO1xuICAgICAgICB0aGlzLmNhbldyYXBYXyA9ICEhKGdsb2JhbCAmJiB0aGlzLmV4dGVudF8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRpbGVHcmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICh0aWxlR3JpZCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRUaWxlR3JpZF8gPSB0aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgdGhpcy5jYW5XcmFwWF8gPSAhISh0aGlzLmdsb2JhbF8gJiYgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSB3b3JsZEV4dGVudCBXb3JsZCBleHRlbnRcbiAgICAgKiAgICAgW21pbmxvbiwgbWlubGF0LCBtYXhsb24sIG1heGxhdF0uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldFdvcmxkRXh0ZW50ID0gZnVuY3Rpb24gKHdvcmxkRXh0ZW50KSB7XG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID0gd29ybGRFeHRlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdldFBvaW50UmVzb2x1dGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXRQb2ludFJlc29sdXRpb259XG4gICAgICogZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IGZ1bmMgRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuc2V0R2V0UG9pbnRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5nZXRQb2ludFJlc29sdXRpb25GdW5jXyA9IGZ1bmM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSBwb2ludCByZXNvbHV0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIHByb2plY3Rpb24gKGlmIHNldCkuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9IFRoZSBjdXN0b20gcG9pbnRcbiAgICAgKiByZXNvbHV0aW9uIGZ1bmN0aW9uIChpZiBzZXQpLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldFBvaW50UmVzb2x1dGlvbkZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2plY3Rpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUHJvamVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb2plY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2czODU3XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9Vbml0cy5qcyc7XG5pbXBvcnQgeyBjb3NoIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIFJhZGl1cyBvZiBXR1M4NCBzcGhlcmVcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgUkFESVVTID0gNjM3ODEzNztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIEhBTEZfU0laRSA9IE1hdGguUEkgKiBSQURJVVM7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbmV4cG9ydCB2YXIgRVhURU5UID0gWy1IQUxGX1NJWkUsIC1IQUxGX1NJWkUsIEhBTEZfU0laRSwgSEFMRl9TSVpFXTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IHZhciBXT1JMRF9FWFRFTlQgPSBbLTE4MCwgLTg1LCAxODAsIDg1XTtcbi8qKlxuICogTWF4aW11bSBzYWZlIHZhbHVlIGluIHkgZGlyZWN0aW9uXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgTUFYX1NBRkVfWSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyAyKSk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciB3ZWIvc3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICovXG52YXIgRVBTRzM4NTdQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFUFNHMzg1N1Byb2plY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFUFNHMzg1N1Byb2plY3Rpb24oY29kZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIHVuaXRzOiBVbml0cy5NRVRFUlMsXG4gICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdvcmxkRXh0ZW50OiBXT1JMRF9FWFRFTlQsXG4gICAgICAgICAgICBnZXRQb2ludFJlc29sdXRpb246IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uIC8gY29zaChwb2ludFsxXSAvIFJBRElVUyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRVBTRzM4NTdQcm9qZWN0aW9uO1xufShQcm9qZWN0aW9uKSk7XG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgUFJPSkVDVElPTlMgPSBbXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzozODU3JyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzoxMDIxMDAnKSxcbiAgICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjEwMjExMycpLFxuICAgIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6OTAwOTEzJyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvY3JzL0VQU0cvMC8zODU3JyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzM4NTcnKSxcbl07XG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZyb20gRVBTRzo0MzI2IHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZGltZW5zaW9uXSBEaW1lbnNpb24gKGRlZmF1bHQgaXMgYDJgKS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FUFNHNDMyNihpbnB1dCwgb3B0X291dHB1dCwgb3B0X2RpbWVuc2lvbikge1xuICAgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgdmFyIGRpbWVuc2lvbiA9IG9wdF9kaW1lbnNpb24gPiAxID8gb3B0X2RpbWVuc2lvbiA6IDI7XG4gICAgdmFyIG91dHB1dCA9IG9wdF9vdXRwdXQ7XG4gICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChkaW1lbnNpb24gPiAyKSB7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSB2YWx1ZXMgYmV5b25kIHNlY29uZCBkaW1lbnNpb25cbiAgICAgICAgICAgIG91dHB1dCA9IGlucHV0LnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSBkaW1lbnNpb24pIHtcbiAgICAgICAgb3V0cHV0W2ldID0gKEhBTEZfU0laRSAqIGlucHV0W2ldKSAvIDE4MDtcbiAgICAgICAgdmFyIHkgPSBSQURJVVMgKiBNYXRoLmxvZyhNYXRoLnRhbigoTWF0aC5QSSAqICgraW5wdXRbaSArIDFdICsgOTApKSAvIDM2MCkpO1xuICAgICAgICBpZiAoeSA+IE1BWF9TQUZFX1kpIHtcbiAgICAgICAgICAgIHkgPSBNQVhfU0FGRV9ZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHkgPCAtTUFYX1NBRkVfWSkge1xuICAgICAgICAgICAgeSA9IC1NQVhfU0FGRV9ZO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dFtpICsgMV0gPSB5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1hdGlvbiBmcm9tIEVQU0c6Mzg1NyB0byBFUFNHOjQzMjYuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9vdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2RpbWVuc2lvbl0gRGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYCkuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0VQU0c0MzI2KGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICB2YXIgZGltZW5zaW9uID0gb3B0X2RpbWVuc2lvbiA+IDEgPyBvcHRfZGltZW5zaW9uIDogMjtcbiAgICB2YXIgb3V0cHV0ID0gb3B0X291dHB1dDtcbiAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGRpbWVuc2lvbiA+IDIpIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIHZhbHVlcyBiZXlvbmQgc2Vjb25kIGRpbWVuc2lvblxuICAgICAgICAgICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgICAgICBvdXRwdXRbaV0gPSAoMTgwICogaW5wdXRbaV0pIC8gSEFMRl9TSVpFO1xuICAgICAgICBvdXRwdXRbaSArIDFdID1cbiAgICAgICAgICAgICgzNjAgKiBNYXRoLmF0YW4oTWF0aC5leHAoaW5wdXRbaSArIDFdIC8gUkFESVVTKSkpIC8gTWF0aC5QSSAtIDkwO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXBzZzM4NTcuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2c0MzI2XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9Vbml0cy5qcyc7XG4vKipcbiAqIFNlbWktbWFqb3IgcmFkaXVzIG9mIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIFJBRElVUyA9IDYzNzgxMzc7XG4vKipcbiAqIEV4dGVudCBvZiB0aGUgRVBTRzo0MzI2IHByb2plY3Rpb24gd2hpY2ggaXMgdGhlIHdob2xlIHdvcmxkLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbmV4cG9ydCB2YXIgRVhURU5UID0gWy0xODAsIC05MCwgMTgwLCA5MF07XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBNRVRFUlNfUEVSX1VOSVQgPSAoTWF0aC5QSSAqIFJBRElVUykgLyAxODA7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciBXR1M4NCBnZW9ncmFwaGljIGNvb3JkaW5hdGVzIChFUFNHOjQzMjYpLlxuICpcbiAqIE5vdGUgdGhhdCBPcGVuTGF5ZXJzIGRvZXMgbm90IHN0cmljdGx5IGNvbXBseSB3aXRoIHRoZSBFUFNHIGRlZmluaXRpb24uXG4gKiBUaGUgRVBTRyByZWdpc3RyeSBkZWZpbmVzIDQzMjYgYXMgYSBDUlMgZm9yIExhdGl0dWRlLExvbmdpdHVkZSAoeSx4KS5cbiAqIE9wZW5MYXllcnMgdHJlYXRzIEVQU0c6NDMyNiBhcyBhIHBzZXVkby1wcm9qZWN0aW9uLCB3aXRoIHgseSBjb29yZGluYXRlcy5cbiAqL1xudmFyIEVQU0c0MzI2UHJvamVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRVBTRzQzMjZQcm9qZWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIENvZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRfYXhpc09yaWVudGF0aW9uXSBBeGlzIG9yaWVudGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEVQU0c0MzI2UHJvamVjdGlvbihjb2RlLCBvcHRfYXhpc09yaWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgdW5pdHM6IFVuaXRzLkRFR1JFRVMsXG4gICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgIGF4aXNPcmllbnRhdGlvbjogb3B0X2F4aXNPcmllbnRhdGlvbixcbiAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgIG1ldGVyc1BlclVuaXQ6IE1FVEVSU19QRVJfVU5JVCxcbiAgICAgICAgICAgIHdvcmxkRXh0ZW50OiBFWFRFTlQsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBFUFNHNDMyNlByb2plY3Rpb247XG59KFByb2plY3Rpb24pKTtcbi8qKlxuICogUHJvamVjdGlvbnMgZXF1YWwgdG8gRVBTRzo0MzI2LlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xuZXhwb3J0IHZhciBQUk9KRUNUSU9OUyA9IFtcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdDUlM6ODQnKSxcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdFUFNHOjQzMjYnLCAnbmV1JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbigndXJuOm9nYzpkZWY6Y3JzOk9HQzoxLjM6Q1JTODQnKSxcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCd1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQnKSxcbiAgICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9jcnMvT0dDLzEuMy9DUlM4NCcpLFxuICAgIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCM0MzI2JywgJ25ldScpLFxuICAgIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2Nycy9FUFNHLzAvNDMyNicsICduZXUnKSxcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcHNnNDMyNi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9wcm9qZWN0aW9uc1xuICovXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbnZhciBjYWNoZSA9IHt9O1xuLyoqXG4gKiBDbGVhciB0aGUgcHJvamVjdGlvbnMgY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBjYWNoZSA9IHt9O1xufVxuLyoqXG4gKiBHZXQgYSBjYWNoZWQgcHJvamVjdGlvbiBieSBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIGNvZGUgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIChpZiBjYWNoZWQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGNvZGUpIHtcbiAgICByZXR1cm4gKGNhY2hlW2NvZGVdIHx8XG4gICAgICAgIGNhY2hlW2NvZGUucmVwbGFjZSgvdXJuOih4LSk/b2djOmRlZjpjcnM6RVBTRzooLio6KT8oXFx3KykkLywgJ0VQU0c6JDMnKV0gfHxcbiAgICAgICAgbnVsbCk7XG59XG4vKipcbiAqIEFkZCBhIHByb2plY3Rpb24gdG8gdGhlIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIHByb2plY3Rpb24gY29kZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24gdG8gY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29kZSwgcHJvamVjdGlvbikge1xuICAgIGNhY2hlW2NvZGVdID0gcHJvamVjdGlvbjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2plY3Rpb25zLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL3RyYW5zZm9ybXNcbiAqL1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb24+Pn1cbiAqL1xudmFyIHRyYW5zZm9ybXMgPSB7fTtcbi8qKlxuICogQ2xlYXIgdGhlIHRyYW5zZm9ybSBjYWNoZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRyYW5zZm9ybXMgPSB7fTtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIGEgY29udmVyc2lvbiBmdW5jdGlvbiB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZVxuICogcHJvamVjdGlvbiB0byB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChzb3VyY2UsIGRlc3RpbmF0aW9uLCB0cmFuc2Zvcm1Gbikge1xuICAgIHZhciBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgICB2YXIgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICAgIGlmICghKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcykpIHtcbiAgICAgICAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSA9IHt9O1xuICAgIH1cbiAgICB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV0gPSB0cmFuc2Zvcm1Gbjtcbn1cbi8qKlxuICogVW5yZWdpc3RlcnMgdGhlIGNvbnZlcnNpb24gZnVuY3Rpb24gdG8gY29udmVydCBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2VcbiAqIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNsZWFuIHVwXG4gKiBjYWNoZWQgdHJhbnNmb3JtcyBkdXJpbmcgdGVzdGluZy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVGhlIHVucmVnaXN0ZXJlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgICB2YXIgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICAgIHZhciB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gICAgZGVsZXRlIHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXTtcbiAgICBpZiAoaXNFbXB0eSh0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdKSkge1xuICAgICAgICBkZWxldGUgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbi8qKlxuICogR2V0IGEgdHJhbnNmb3JtIGdpdmVuIGEgc291cmNlIGNvZGUgYW5kIGEgZGVzdGluYXRpb24gY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VDb2RlIFRoZSBjb2RlIGZvciB0aGUgc291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVzdGluYXRpb25Db2RlIFRoZSBjb2RlIGZvciB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb258dW5kZWZpbmVkfSBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIChpZiBmb3VuZCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoc291cmNlQ29kZSwgZGVzdGluYXRpb25Db2RlKSB7XG4gICAgdmFyIHRyYW5zZm9ybTtcbiAgICBpZiAoc291cmNlQ29kZSBpbiB0cmFuc2Zvcm1zICYmIGRlc3RpbmF0aW9uQ29kZSBpbiB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdKSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybXMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NwaGVyZVxuICovXG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IHsgdG9EZWdyZWVzLCB0b1JhZGlhbnMgfSBmcm9tICcuL21hdGguanMnO1xuLyoqXG4gKiBPYmplY3QgbGl0ZXJhbCB3aXRoIG9wdGlvbnMgZm9yIHRoZSB7QGxpbmsgZ2V0TGVuZ3RofSBvciB7QGxpbmsgZ2V0QXJlYX1cbiAqIGZ1bmN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNwaGVyZU1ldHJpY09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J11cbiAqIFByb2plY3Rpb24gb2YgdGhlICBnZW9tZXRyeS4gIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSBpcyBhc3N1bWVkIHRvIGJlIGluXG4gKiBXZWIgTWVyY2F0b3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1cz02MzcxMDA4LjhdIFNwaGVyZSByYWRpdXMuICBCeSBkZWZhdWx0LCB0aGVcbiAqIFttZWFuIEVhcnRoIHJhZGl1c10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRWFydGhfcmFkaXVzI01lYW5fcmFkaXVzKVxuICogZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQgaXMgdXNlZC5cbiAqL1xuLyoqXG4gKiBUaGUgbWVhbiBFYXJ0aCByYWRpdXMgKDEvMyAqICgyYSArIGIpKSBmb3IgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VhcnRoX3JhZGl1cyNNZWFuX3JhZGl1c1xuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1JBRElVUyA9IDYzNzEwMDguODtcbi8qKlxuICogR2V0IHRoZSBncmVhdCBjaXJjbGUgZGlzdGFuY2UgKGluIG1ldGVycykgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpYyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXl9IGMxIFN0YXJ0aW5nIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0FycmF5fSBjMiBFbmRpbmcgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3JhZGl1c10gVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLiAgRGVmYXVsdHMgdG8gdGhlIEVhcnRoJ3NcbiAqICAgICBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50cyAoaW4gbWV0ZXJzKS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlKGMxLCBjMiwgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbGF0MiA9IHRvUmFkaWFucyhjMlsxXSk7XG4gICAgdmFyIGRlbHRhTGF0QnkyID0gKGxhdDIgLSBsYXQxKSAvIDI7XG4gICAgdmFyIGRlbHRhTG9uQnkyID0gdG9SYWRpYW5zKGMyWzBdIC0gYzFbMF0pIC8gMjtcbiAgICB2YXIgYSA9IE1hdGguc2luKGRlbHRhTGF0QnkyKSAqIE1hdGguc2luKGRlbHRhTGF0QnkyKSArXG4gICAgICAgIE1hdGguc2luKGRlbHRhTG9uQnkyKSAqXG4gICAgICAgICAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0MSkgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0Mik7XG4gICAgcmV0dXJuIDIgKiByYWRpdXMgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG59XG4vKipcbiAqIEdldCB0aGUgY3VtdWxhdGl2ZSBncmVhdCBjaXJjbGUgbGVuZ3RoIG9mIGxpbmVzdHJpbmcgY29vcmRpbmF0ZXMgKGdlb2dyYXBoaWMpLlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRpbmF0ZXMgTGluZXN0cmluZyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKSB7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWkgLSAxOyArK2kpIHtcbiAgICAgICAgbGVuZ3RoICs9IGdldERpc3RhbmNlKGNvb3JkaW5hdGVzW2ldLCBjb29yZGluYXRlc1tpICsgMV0sIHJhZGl1cyk7XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGxlbmd0aCBvZiBhIGdlb21ldHJ5LiAgVGhpcyBsZW5ndGggaXMgdGhlIHN1bSBvZiB0aGVcbiAqIGdyZWF0IGNpcmNsZSBkaXN0YW5jZXMgYmV0d2VlbiBjb29yZGluYXRlcy4gIEZvciBwb2x5Z29ucywgdGhlIGxlbmd0aCBpc1xuICogdGhlIHN1bSBvZiBhbGwgcmluZ3MuICBGb3IgcG9pbnRzLCB0aGUgbGVuZ3RoIGlzIHplcm8uICBGb3IgbXVsdGktcGFydFxuICogZ2VvbWV0cmllcywgdGhlIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZSBsZW5ndGggb2YgZWFjaCBwYXJ0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7U3BoZXJlTWV0cmljT3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zIGZvciB0aGVcbiAqIGxlbmd0aCBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiBZb3UgY2FuIGNoYW5nZSB0aGlzIGJ5IHByb3ZpZGluZyBhIGBwcm9qZWN0aW9uYCBvcHRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzcGhlcmljYWwgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGVuZ3RoKGdlb21ldHJ5LCBvcHRfb3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgdmFyIHJhZGl1cyA9IG9wdGlvbnMucmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uIHx8ICdFUFNHOjM4NTcnO1xuICAgIHZhciB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIGlmICh0eXBlICE9PSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTikge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCkudHJhbnNmb3JtKHByb2plY3Rpb24sICdFUFNHOjQzMjYnKTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgdmFyIGNvb3JkaW5hdGVzLCBjb29yZHMsIGksIGlpLCBqLCBqajtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc6IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgbGVuZ3RoID0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXNbaV0sIHJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OOiB7XG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvb3JkcyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gY29vcmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoICs9IGdldExlbmd0aEludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OOiB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cmllcyA9IFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoKGdlb21ldHJpZXNbaV0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNwaGVyaWNhbCBhcmVhIGZvciBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMuXG4gKlxuICogW1JlZmVyZW5jZV0oaHR0cHM6Ly90cnMuanBsLm5hc2EuZ292L2hhbmRsZS8yMDE0LzQwNDA5KVxuICogUm9iZXJ0LiBHLiBDaGFtYmVybGFpbiBhbmQgV2lsbGlhbSBILiBEdXF1ZXR0ZSwgXCJTb21lIEFsZ29yaXRobXMgZm9yXG4gKiBQb2x5Z29ucyBvbiBhIFNwaGVyZVwiLCBKUEwgUHVibGljYXRpb24gMDctMDMsIEpldCBQcm9wdWxzaW9uXG4gKiBMYWJvcmF0b3J5LCBQYXNhZGVuYSwgQ0EsIEp1bmUgMjAwN1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBMaXN0IG9mIGNvb3JkaW5hdGVzIG9mIGEgbGluZWFyXG4gKiByaW5nLiBJZiB0aGUgcmluZyBpcyBvcmllbnRlZCBjbG9ja3dpc2UsIHRoZSBhcmVhIHdpbGwgYmUgcG9zaXRpdmUsXG4gKiBvdGhlcndpc2UgaXQgd2lsbCBiZSBuZWdhdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cykge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICB2YXIgbGVuID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIHZhciB4MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzBdO1xuICAgIHZhciB5MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzFdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHgyID0gY29vcmRpbmF0ZXNbaV1bMF07XG4gICAgICAgIHZhciB5MiA9IGNvb3JkaW5hdGVzW2ldWzFdO1xuICAgICAgICBhcmVhICs9XG4gICAgICAgICAgICB0b1JhZGlhbnMoeDIgLSB4MSkgKlxuICAgICAgICAgICAgICAgICgyICsgTWF0aC5zaW4odG9SYWRpYW5zKHkxKSkgKyBNYXRoLnNpbih0b1JhZGlhbnMoeTIpKSk7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiAoYXJlYSAqIHJhZGl1cyAqIHJhZGl1cykgLyAyLjA7XG59XG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGFyZWEgb2YgYSBnZW9tZXRyeS4gIFRoaXMgaXMgdGhlIGFyZWEgKGluIG1ldGVycykgYXNzdW1pbmdcbiAqIHRoYXQgcG9seWdvbiBlZGdlcyBhcmUgc2VnbWVudHMgb2YgZ3JlYXQgY2lyY2xlcyBvbiBhIHNwaGVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEEgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge1NwaGVyZU1ldHJpY09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlIGFyZWFcbiAqICAgICBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiAgICAgWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShnZW9tZXRyeSwgb3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgIHZhciByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgICB2YXIgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiB8fCAnRVBTRzozODU3JztcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBpZiAodHlwZSAhPT0gR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT04pIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpLnRyYW5zZm9ybShwcm9qZWN0aW9uLCAnRVBTRzo0MzI2Jyk7XG4gICAgfVxuICAgIHZhciBhcmVhID0gMDtcbiAgICB2YXIgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBhcmVhID0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzW2ldLCByYWRpdXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICAgICAgYXJlYSArPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjoge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJpZXMgPSBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEdlb21ldHJpZXMoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgYXJlYSArPSBnZXRBcmVhKGdlb21ldHJpZXNbaV0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcmVhO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGF0IHRoZSBnaXZlbiBkaXN0YW5jZSBhbmQgYmVhcmluZyBmcm9tIGBjMWAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYzEgVGhlIG9yaWdpbiBwb2ludCAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIFRoZSBncmVhdC1jaXJjbGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgb3JpZ2luXG4gKiAgICAgcG9pbnQgYW5kIHRoZSB0YXJnZXQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBUaGUgYmVhcmluZyAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9yYWRpdXNdIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgdGFyZ2V0IHBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGMxLCBkaXN0YW5jZSwgYmVhcmluZywgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbG9uMSA9IHRvUmFkaWFucyhjMVswXSk7XG4gICAgdmFyIGRCeVIgPSBkaXN0YW5jZSAvIHJhZGl1cztcbiAgICB2YXIgbGF0ID0gTWF0aC5hc2luKE1hdGguc2luKGxhdDEpICogTWF0aC5jb3MoZEJ5UikgK1xuICAgICAgICBNYXRoLmNvcyhsYXQxKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MoYmVhcmluZykpO1xuICAgIHZhciBsb24gPSBsb24xICtcbiAgICAgICAgTWF0aC5hdGFuMihNYXRoLnNpbihiZWFyaW5nKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MobGF0MSksIE1hdGguY29zKGRCeVIpIC0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQpKTtcbiAgICByZXR1cm4gW3RvRGVncmVlcyhsb24pLCB0b0RlZ3JlZXMobGF0KV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGhlcmUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2pcbiAqL1xuLyoqXG4gKiBUaGUgb2wvcHJvaiBtb2R1bGUgc3RvcmVzOlxuICogKiBhIGxpc3Qgb2Yge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259XG4gKiBvYmplY3RzLCBvbmUgZm9yIGVhY2ggcHJvamVjdGlvbiBzdXBwb3J0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uXG4gKiAqIGEgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIG5lZWRlZCB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGluIG9uZSBwcm9qZWN0aW9uXG4gKiBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIHN0YXRpYyBmdW5jdGlvbnMgYXJlIHRoZSBtZXRob2RzIHVzZWQgdG8gbWFpbnRhaW4gdGhlc2UuXG4gKiBFYWNoIHRyYW5zZm9ybSBmdW5jdGlvbiBjYW4gaGFuZGxlIG5vdCBvbmx5IHNpbXBsZSBjb29yZGluYXRlIHBhaXJzLCBidXQgYWxzb1xuICogbGFyZ2UgYXJyYXlzIG9mIGNvb3JkaW5hdGVzIHN1Y2ggYXMgdmVjdG9yIGdlb21ldHJpZXMuXG4gKlxuICogV2hlbiBsb2FkZWQsIHRoZSBsaWJyYXJ5IGFkZHMgcHJvamVjdGlvbiBvYmplY3RzIGZvciBFUFNHOjQzMjYgKFdHUzg0XG4gKiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzKSBhbmQgRVBTRzozODU3IChXZWIgb3IgU3BoZXJpY2FsIE1lcmNhdG9yLCBhcyB1c2VkXG4gKiBmb3IgZXhhbXBsZSBieSBCaW5nIE1hcHMgb3IgT3BlblN0cmVldE1hcCksIHRvZ2V0aGVyIHdpdGggdGhlIHJlbGV2YW50XG4gKiB0cmFuc2Zvcm0gZnVuY3Rpb25zLlxuICpcbiAqIEFkZGl0aW9uYWwgdHJhbnNmb3JtcyBtYXkgYmUgYWRkZWQgYnkgdXNpbmcgdGhlIGh0dHA6Ly9wcm9qNGpzLm9yZy9cbiAqIGxpYnJhcnkgKHZlcnNpb24gMi4yIG9yIGxhdGVyKS4gWW91IGNhbiB1c2UgdGhlIGZ1bGwgYnVpbGQgc3VwcGxpZWQgYnlcbiAqIFByb2o0anMsIG9yIGNyZWF0ZSBhIGN1c3RvbSBidWlsZCB0byBzdXBwb3J0IHRob3NlIHByb2plY3Rpb25zIHlvdSBuZWVkOyBzZWVcbiAqIHRoZSBQcm9qNGpzIHdlYnNpdGUgZm9yIGhvdyB0byBkbyB0aGlzLiBZb3UgYWxzbyBuZWVkIHRoZSBQcm9qNGpzIGRlZmluaXRpb25zXG4gKiBmb3IgdGhlIHJlcXVpcmVkIHByb2plY3Rpb25zLiBUaGVzZSBkZWZpbml0aW9ucyBjYW4gYmUgb2J0YWluZWQgZnJvbVxuICogaHR0cHM6Ly9lcHNnLmlvLywgYW5kIGFyZSBhIEpTIGZ1bmN0aW9uLCBzbyBjYW4gYmUgbG9hZGVkIGluIGEgc2NyaXB0XG4gKiB0YWcgKGFzIGluIHRoZSBleGFtcGxlcykgb3IgcGFzdGVkIGludG8geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBBZnRlciBhbGwgcmVxdWlyZWQgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBhcmUgYWRkZWQgdG8gcHJvajQncyByZWdpc3RyeSAoYnlcbiAqIHVzaW5nIGBwcm9qNC5kZWZzKClgKSwgc2ltcGx5IGNhbGwgYHJlZ2lzdGVyKHByb2o0KWAgZnJvbSB0aGUgYG9sL3Byb2ovcHJvajRgXG4gKiBwYWNrYWdlLiBFeGlzdGluZyB0cmFuc2Zvcm1zIGFyZSBub3QgY2hhbmdlZCBieSB0aGlzIGZ1bmN0aW9uLiBTZWVcbiAqIGV4YW1wbGVzL3dtcy1pbWFnZS1jdXN0b20tcHJvaiBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxuICpcbiAqIEFkZGl0aW9uYWwgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBjYW4gYmUgcmVnaXN0ZXJlZCB3aXRoIGBwcm9qNC5kZWZzKClgIGFueVxuICogdGltZS4gSnVzdCBtYWtlIHN1cmUgdG8gY2FsbCBgcmVnaXN0ZXIocHJvajQpYCBhZ2FpbjsgZm9yIGV4YW1wbGUsIHdpdGggdXNlci1zdXBwbGllZCBkYXRhIHdoZXJlIHlvdSBkb24ndFxuICoga25vdyBpbiBhZHZhbmNlIHdoYXQgcHJvamVjdGlvbnMgYXJlIG5lZWRlZCwgeW91IGNhbiBpbml0aWFsbHkgbG9hZCBtaW5pbWFsXG4gKiBzdXBwb3J0IGFuZCB0aGVuIGxvYWQgd2hpY2hldmVyIGFyZSByZXF1ZXN0ZWQuXG4gKlxuICogTm90ZSB0aGF0IFByb2o0anMgZG9lcyBub3Qgc3VwcG9ydCBwcm9qZWN0aW9uIGV4dGVudHMuIElmIHlvdSB3YW50IHRvIGFkZFxuICogb25lIGZvciBjcmVhdGluZyBkZWZhdWx0IHRpbGUgZ3JpZHMsIHlvdSBjYW4gYWRkIGl0IGFmdGVyIHRoZSBQcm9qZWN0aW9uXG4gKiBvYmplY3QgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGBzZXRFeHRlbnRgLCBmb3IgZXhhbXBsZSxcbiAqIGBnZXQoJ0VQU0c6MTIzNCcpLnNldEV4dGVudChleHRlbnQpYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBQcm9qNGpzIHN1cHBvcnQsIGFueSB0cmFuc2Zvcm0gZnVuY3Rpb25zIGNhbiBiZSBhZGRlZCB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouYWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXN9LiBUbyB1c2UgdGhpcywgeW91IG11c3QgZmlyc3QgY3JlYXRlXG4gKiBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBvYmplY3QgZm9yIHRoZSBuZXcgcHJvamVjdGlvbiBhbmQgYWRkIGl0IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gWW91IGNhbiB0aGVuIGFkZCB0aGUgZm9yd2FyZCBhbmQgaW52ZXJzZVxuICogZnVuY3Rpb25zIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gU2VlXG4gKiBleGFtcGxlcy93bXMtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgbm8gdHJhbnNmb3JtcyBhcmUgbmVlZGVkIGFuZCB5b3Ugb25seSBuZWVkIHRvIGRlZmluZSB0aGVcbiAqIHByb2plY3Rpb24sIGp1c3QgYWRkIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gU2VlIGV4YW1wbGVzL3dtcy1uby1wcm9qIGZvciBhbiBleGFtcGxlIG9mXG4gKiB0aGlzLlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL3Byb2ovUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMsIHsgTUVURVJTX1BFUl9VTklUIH0gZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0czODU3X1BST0pFQ1RJT05TLCBmcm9tRVBTRzQzMjYsIHRvRVBTRzQzMjYsIH0gZnJvbSAnLi9wcm9qL2Vwc2czODU3LmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0c0MzI2X1BST0pFQ1RJT05TIH0gZnJvbSAnLi9wcm9qL2Vwc2c0MzI2LmpzJztcbmltcG9ydCB7IGFkZCBhcyBhZGRQcm9qLCBjbGVhciBhcyBjbGVhclByb2osIGdldCBhcyBnZXRQcm9qLCB9IGZyb20gJy4vcHJvai9wcm9qZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhZGQgYXMgYWRkVHJhbnNmb3JtRnVuYywgY2xlYXIgYXMgY2xlYXJUcmFuc2Zvcm1GdW5jcywgZ2V0IGFzIGdldFRyYW5zZm9ybUZ1bmMsIH0gZnJvbSAnLi9wcm9qL3RyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHsgYXBwbHlUcmFuc2Zvcm0sIGdldFdpZHRoIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXREaXN0YW5jZSB9IGZyb20gJy4vc3BoZXJlLmpzJztcbmltcG9ydCB7IGdldFdvcmxkc0F3YXkgfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBBIHByb2plY3Rpb24gYXMge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259LCBTUlMgaWRlbnRpZmllclxuICogc3RyaW5nIG9yIHVuZGVmaW5lZC5cbiAqIEB0eXBlZGVmIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IFByb2plY3Rpb25MaWtlXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQSB0cmFuc2Zvcm0gZnVuY3Rpb24gYWNjZXB0cyBhbiBhcnJheSBvZiBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgYW4gb3B0aW9uYWxcbiAqIG91dHB1dCBhcnJheSwgYW5kIGFuIG9wdGlvbmFsIGRpbWVuc2lvbiAoZGVmYXVsdCBzaG91bGQgYmUgMikuICBUaGUgZnVuY3Rpb25cbiAqIHRyYW5zZm9ybXMgdGhlIGlucHV0IGNvb3JkaW5hdGUgdmFsdWVzLCBwb3B1bGF0ZXMgdGhlIG91dHB1dCBhcnJheSwgYW5kXG4gKiByZXR1cm5zIHRoZSBvdXRwdXQgYXJyYXkuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEFycmF5PG51bWJlcj4sIEFycmF5PG51bWJlcj49LCBudW1iZXI9KTogQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHsgTUVURVJTX1BFUl9VTklUIH07XG5leHBvcnQgeyBQcm9qZWN0aW9uIH07XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9vdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2RpbWVuc2lvbl0gRGltZW5zaW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0IGNvb3JkaW5hdGUgYXJyYXkgKG5ldyBhcnJheSwgc2FtZSBjb29yZGluYXRlXG4gKiAgICAgdmFsdWVzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lVHJhbnNmb3JtKGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgdmFyIG91dHB1dDtcbiAgICBpZiAob3B0X291dHB1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9wdF9vdXRwdXRbaV0gPSBpbnB1dFtpXTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQgPSBvcHRfb3V0cHV0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBjb29yZGluYXRlIGFycmF5LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZGltZW5zaW9uXSBEaW1lbnNpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnB1dCBjb29yZGluYXRlIGFycmF5IChzYW1lIGFycmF5IGFzIGlucHV0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5VHJhbnNmb3JtKGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgaWYgKG9wdF9vdXRwdXQgIT09IHVuZGVmaW5lZCAmJiBpbnB1dCAhPT0gb3B0X291dHB1dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvcHRfb3V0cHV0W2ldID0gaW5wdXRbaV07XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBvcHRfb3V0cHV0O1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQ7XG59XG4vKipcbiAqIEFkZCBhIFByb2plY3Rpb24gb2JqZWN0IHRvIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBwcm9qZWN0aW9ucyB0aGF0IGNhbiBiZVxuICogbG9va2VkIHVwIGJ5IHRoZWlyIGNvZGUuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uIFByb2plY3Rpb24gaW5zdGFuY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBhZGRQcm9qKHByb2plY3Rpb24uZ2V0Q29kZSgpLCBwcm9qZWN0aW9uKTtcbiAgICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24sIHByb2plY3Rpb24sIGNsb25lVHJhbnNmb3JtKTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMgUHJvamVjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICAgIHByb2plY3Rpb25zLmZvckVhY2goYWRkUHJvamVjdGlvbik7XG59XG4vKipcbiAqIEZldGNoZXMgYSBQcm9qZWN0aW9uIG9iamVjdCBmb3IgdGhlIGNvZGUgc3BlY2lmaWVkLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb25MaWtlIEVpdGhlciBhIGNvZGUgc3RyaW5nIHdoaWNoIGlzXG4gKiAgICAgYSBjb21iaW5hdGlvbiBvZiBhdXRob3JpdHkgYW5kIGlkZW50aWZpZXIgc3VjaCBhcyBcIkVQU0c6NDMyNlwiLCBvciBhblxuICogICAgIGV4aXN0aW5nIHByb2plY3Rpb24gb2JqZWN0LCBvciB1bmRlZmluZWQuXG4gKiBAcmV0dXJuIHtQcm9qZWN0aW9ufSBQcm9qZWN0aW9uIG9iamVjdCwgb3IgbnVsbCBpZiBub3QgaW4gbGlzdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChwcm9qZWN0aW9uTGlrZSkge1xuICAgIHJldHVybiB0eXBlb2YgcHJvamVjdGlvbkxpa2UgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZ2V0UHJvaigvKiogQHR5cGUge3N0cmluZ30gKi8gKHByb2plY3Rpb25MaWtlKSlcbiAgICAgICAgOiAvKiogQHR5cGUge1Byb2plY3Rpb259ICovIChwcm9qZWN0aW9uTGlrZSkgfHwgbnVsbDtcbn1cbi8qKlxuICogR2V0IHRoZSByZXNvbHV0aW9uIG9mIHRoZSBwb2ludCBpbiBkZWdyZWVzIG9yIGRpc3RhbmNlIHVuaXRzLlxuICogRm9yIHByb2plY3Rpb25zIHdpdGggZGVncmVlcyBhcyB0aGUgdW5pdCB0aGlzIHdpbGwgc2ltcGx5IHJldHVybiB0aGVcbiAqIHByb3ZpZGVkIHJlc29sdXRpb24uIEZvciBvdGhlciBwcm9qZWN0aW9ucyB0aGUgcG9pbnQgcmVzb2x1dGlvbiBpc1xuICogYnkgZGVmYXVsdCBlc3RpbWF0ZWQgYnkgdHJhbnNmb3JtaW5nIHRoZSAncG9pbnQnIHBpeGVsIHRvIEVQU0c6NDMyNixcbiAqIG1lYXN1cmluZyBpdHMgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbm9ybWFsIHNwaGVyZSxcbiAqIGFuZCB0YWtpbmcgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gKiBBIGN1c3RvbSBmdW5jdGlvbiBjYW4gYmUgcHJvdmlkZWQgZm9yIGEgc3BlY2lmaWMgcHJvamVjdGlvbiwgZWl0aGVyXG4gKiBieSBzZXR0aW5nIHRoZSBgZ2V0UG9pbnRSZXNvbHV0aW9uYCBvcHRpb24gaW4gdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBjb25zdHJ1Y3RvciBvciBieSB1c2luZ1xuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbiNzZXRHZXRQb2ludFJlc29sdXRpb259IHRvIGNoYW5nZSBhbiBleGlzdGluZ1xuICogcHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gTm9taW5hbCByZXNvbHV0aW9uIGluIHByb2plY3Rpb24gdW5pdHMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludCBQb2ludCB0byBmaW5kIGFkanVzdGVkIHJlc29sdXRpb24gYXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Vbml0cy5qc1wiKS5kZWZhdWx0fSBbb3B0X3VuaXRzXSBVbml0cyB0byBnZXQgdGhlIHBvaW50IHJlc29sdXRpb24gaW4uXG4gKiBEZWZhdWx0IGlzIHRoZSBwcm9qZWN0aW9uJ3MgdW5pdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBvaW50IHJlc29sdXRpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludFJlc29sdXRpb24ocHJvamVjdGlvbiwgcmVzb2x1dGlvbiwgcG9pbnQsIG9wdF91bml0cykge1xuICAgIHByb2plY3Rpb24gPSBnZXQocHJvamVjdGlvbik7XG4gICAgdmFyIHBvaW50UmVzb2x1dGlvbjtcbiAgICB2YXIgZ2V0dGVyID0gcHJvamVjdGlvbi5nZXRQb2ludFJlc29sdXRpb25GdW5jKCk7XG4gICAgaWYgKGdldHRlcikge1xuICAgICAgICBwb2ludFJlc29sdXRpb24gPSBnZXR0ZXIocmVzb2x1dGlvbiwgcG9pbnQpO1xuICAgICAgICBpZiAob3B0X3VuaXRzICYmIG9wdF91bml0cyAhPT0gcHJvamVjdGlvbi5nZXRVbml0cygpKSB7XG4gICAgICAgICAgICB2YXIgbWV0ZXJzUGVyVW5pdCA9IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICAgICAgaWYgKG1ldGVyc1BlclVuaXQpIHtcbiAgICAgICAgICAgICAgICBwb2ludFJlc29sdXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAocG9pbnRSZXNvbHV0aW9uICogbWV0ZXJzUGVyVW5pdCkgLyBNRVRFUlNfUEVSX1VOSVRbb3B0X3VuaXRzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHVuaXRzID0gcHJvamVjdGlvbi5nZXRVbml0cygpO1xuICAgICAgICBpZiAoKHVuaXRzID09IFVuaXRzLkRFR1JFRVMgJiYgIW9wdF91bml0cykgfHwgb3B0X3VuaXRzID09IFVuaXRzLkRFR1JFRVMpIHtcbiAgICAgICAgICAgIHBvaW50UmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFc3RpbWF0ZSBwb2ludCByZXNvbHV0aW9uIGJ5IHRyYW5zZm9ybWluZyB0aGUgY2VudGVyIHBpeGVsIHRvIEVQU0c6NDMyNixcbiAgICAgICAgICAgIC8vIG1lYXN1cmluZyBpdHMgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbm9ybWFsIHNwaGVyZSwgYW5kIHRha2luZyB0aGVcbiAgICAgICAgICAgIC8vIGF2ZXJhZ2Ugb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICAgICAgICB2YXIgdG9FUFNHNDMyNl8xID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKHByb2plY3Rpb24sIGdldCgnRVBTRzo0MzI2JykpO1xuICAgICAgICAgICAgaWYgKHRvRVBTRzQzMjZfMSA9PT0gaWRlbnRpdHlUcmFuc2Zvcm0gJiYgdW5pdHMgIT09IFVuaXRzLkRFR1JFRVMpIHtcbiAgICAgICAgICAgICAgICAvLyBubyB0cmFuc2Zvcm0gaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gcmVzb2x1dGlvbiAqIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBwb2ludFswXSAtIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFsxXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMF0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzBdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFsxXSAtIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gdG9FUFNHNDMyNl8xKHZlcnRpY2VzLCB2ZXJ0aWNlcywgMik7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoMCwgMiksIHZlcnRpY2VzLnNsaWNlKDIsIDQpKTtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoNCwgNiksIHZlcnRpY2VzLnNsaWNlKDYsIDgpKTtcbiAgICAgICAgICAgICAgICBwb2ludFJlc29sdXRpb24gPSAod2lkdGggKyBoZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZXRlcnNQZXJVbml0ID0gb3B0X3VuaXRzXG4gICAgICAgICAgICAgICAgPyBNRVRFUlNfUEVSX1VOSVRbb3B0X3VuaXRzXVxuICAgICAgICAgICAgICAgIDogcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICAgICAgICBpZiAobWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uIC89IG1ldGVyc1BlclVuaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvaW50UmVzb2x1dGlvbjtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0aGF0IGRvbid0IGFsdGVyIGNvb3JkaW5hdGVzLiBUaG9zZSBhbGxvd1xuICogdG8gdHJhbnNmb3JtIGJldHdlZW4gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8UHJvamVjdGlvbj59IHByb2plY3Rpb25zIFByb2plY3Rpb25zLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKHByb2plY3Rpb25zKSB7XG4gICAgYWRkUHJvamVjdGlvbnMocHJvamVjdGlvbnMpO1xuICAgIHByb2plY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBwcm9qZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZXN0aW5hdGlvbikge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHNvdXJjZSwgZGVzdGluYXRpb24sIGNsb25lVHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBpbiBhbnkgcHJvamVjdGlvblxuICogaW4gcHJvamVjdGlvbjEgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMxIFByb2plY3Rpb25zIHdpdGggZXF1YWxcbiAqICAgICBtZWFuaW5nLlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMyIFByb2plY3Rpb25zIHdpdGggZXF1YWxcbiAqICAgICBtZWFuaW5nLlxuICogQHBhcmFtIHtUcmFuc2Zvcm1GdW5jdGlvbn0gZm9yd2FyZFRyYW5zZm9ybSBUcmFuc2Zvcm1hdGlvbiBmcm9tIGFueVxuICogICBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24xIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24yLlxuICogQHBhcmFtIHtUcmFuc2Zvcm1GdW5jdGlvbn0gaW52ZXJzZVRyYW5zZm9ybSBUcmFuc2Zvcm0gZnJvbSBhbnkgcHJvamVjdGlvblxuICogICBpbiBwcm9qZWN0aW9uMiB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMS4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFcXVpdmFsZW50VHJhbnNmb3Jtcyhwcm9qZWN0aW9uczEsIHByb2plY3Rpb25zMiwgZm9yd2FyZFRyYW5zZm9ybSwgaW52ZXJzZVRyYW5zZm9ybSkge1xuICAgIHByb2plY3Rpb25zMS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9qZWN0aW9uMSkge1xuICAgICAgICBwcm9qZWN0aW9uczIuZm9yRWFjaChmdW5jdGlvbiAocHJvamVjdGlvbjIpIHtcbiAgICAgICAgICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yLCBmb3J3YXJkVHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbjIsIHByb2plY3Rpb24xLCBpbnZlcnNlVHJhbnNmb3JtKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIENsZWFyIGFsbCBjYWNoZWQgcHJvamVjdGlvbnMgYW5kIHRyYW5zZm9ybXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbFByb2plY3Rpb25zKCkge1xuICAgIGNsZWFyUHJvaigpO1xuICAgIGNsZWFyVHJhbnNmb3JtRnVuY3MoKTtcbn1cbi8qKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0Q29kZSBEZWZhdWx0IGNvZGUuXG4gKiBAcmV0dXJuIHtQcm9qZWN0aW9ufSBQcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdGlvbihwcm9qZWN0aW9uLCBkZWZhdWx0Q29kZSkge1xuICAgIGlmICghcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0KGRlZmF1bHRDb2RlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHByb2plY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBnZXQocHJvamVjdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtQcm9qZWN0aW9ufSAqLyAocHJvamVjdGlvbik7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qflRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tIGEgc2ltcGxlIDJEIGNvb3JkaW5hdGUgdHJhbnNmb3JtXG4gKiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRUcmFuc2Zvcm0gQ29vcmRpbmF0ZVxuICogICAgIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShjb29yZFRyYW5zZm9ybSkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfb3V0cHV0XSBPdXRwdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZGltZW5zaW9uXSBEaW1lbnNpb24uXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChpbnB1dCwgb3B0X291dHB1dCwgb3B0X2RpbWVuc2lvbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICB2YXIgZGltZW5zaW9uID0gb3B0X2RpbWVuc2lvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2RpbWVuc2lvbiA6IDI7XG4gICAgICAgIHZhciBvdXRwdXQgPSBvcHRfb3V0cHV0ICE9PSB1bmRlZmluZWQgPyBvcHRfb3V0cHV0IDogbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gY29vcmRUcmFuc2Zvcm0oW2lucHV0W2ldLCBpbnB1dFtpICsgMV1dKTtcbiAgICAgICAgICAgIG91dHB1dFtpXSA9IHBvaW50WzBdO1xuICAgICAgICAgICAgb3V0cHV0W2kgKyAxXSA9IHBvaW50WzFdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDE7IGogPj0gMjsgLS1qKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W2kgKyBqXSA9IGlucHV0W2kgKyBqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgYmV0d2VlbiB0aGVcbiAqIHNvdXJjZSBwcm9qZWN0aW9uIGFuZCB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIFRoZSBmb3J3YXJkIGFuZCBpbnZlcnNlIGZ1bmN0aW9ucyBjb252ZXJ0IGNvb3JkaW5hdGUgcGFpcnM7IHRoaXMgZnVuY3Rpb25cbiAqIGNvbnZlcnRzIHRoZXNlIGludG8gdGhlIGZ1bmN0aW9ucyB1c2VkIGludGVybmFsbHkgd2hpY2ggYWxzbyBoYW5kbGVcbiAqIGV4dGVudHMgYW5kIGNvb3JkaW5hdGUgYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGZvcndhcmQgVGhlIGZvcndhcmQgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvblxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBpbnZlcnNlIFRoZSBpbnZlcnNlIHRyYW5zZm9ybVxuICogICAgIGZ1bmN0aW9uICh0aGF0IGlzLCBmcm9tIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uIHRvIHRoZSBzb3VyY2VcbiAqICAgICBwcm9qZWN0aW9uKSB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zXG4gKiAgICAgdGhlIHRyYW5zZm9ybWVkIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zKHNvdXJjZSwgZGVzdGluYXRpb24sIGZvcndhcmQsIGludmVyc2UpIHtcbiAgICB2YXIgc291cmNlUHJvaiA9IGdldChzb3VyY2UpO1xuICAgIHZhciBkZXN0UHJvaiA9IGdldChkZXN0aW5hdGlvbik7XG4gICAgYWRkVHJhbnNmb3JtRnVuYyhzb3VyY2VQcm9qLCBkZXN0UHJvaiwgY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oZm9yd2FyZCkpO1xuICAgIGFkZFRyYW5zZm9ybUZ1bmMoZGVzdFByb2osIHNvdXJjZVByb2osIGNyZWF0ZVRyYW5zZm9ybUZyb21Db29yZGluYXRlVHJhbnNmb3JtKGludmVyc2UpKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhIGNvb3JkaW5hdGUgZnJvbSBsb25naXR1ZGUvbGF0aXR1ZGUgdG8gYSBkaWZmZXJlbnQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZSBhcyBsb25naXR1ZGUgYW5kIGxhdGl0dWRlLCBpLmUuXG4gKiAgICAgYW4gYXJyYXkgd2l0aCBsb25naXR1ZGUgYXMgMXN0IGFuZCBsYXRpdHVkZSBhcyAybmQgZWxlbWVudC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IFtvcHRfcHJvamVjdGlvbl0gVGFyZ2V0IHByb2plY3Rpb24uIFRoZVxuICogICAgIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgcHJvamVjdGVkIHRvIHRoZSB0YXJnZXQgcHJvamVjdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Mb25MYXQoY29vcmRpbmF0ZSwgb3B0X3Byb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtKGNvb3JkaW5hdGUsICdFUFNHOjQzMjYnLCBvcHRfcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X3Byb2plY3Rpb24gOiAnRVBTRzozODU3Jyk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSBjb29yZGluYXRlIHRvIGxvbmdpdHVkZS9sYXRpdHVkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgUHJvamVjdGVkIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBbb3B0X3Byb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGNvb3JkaW5hdGUuXG4gKiAgICAgVGhlIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLiBhbiBhcnJheVxuICogICAgIHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0xvbkxhdChjb29yZGluYXRlLCBvcHRfcHJvamVjdGlvbikge1xuICAgIHZhciBsb25MYXQgPSB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcbiAgICB2YXIgbG9uID0gbG9uTGF0WzBdO1xuICAgIGlmIChsb24gPCAtMTgwIHx8IGxvbiA+IDE4MCkge1xuICAgICAgICBsb25MYXRbMF0gPSBtb2R1bG8obG9uICsgMTgwLCAzNjApIC0gMTgwO1xuICAgIH1cbiAgICByZXR1cm4gbG9uTGF0O1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIHByb2plY3Rpb25zIGFyZSB0aGUgc2FtZSwgdGhhdCBpcyBldmVyeSBjb29yZGluYXRlIGluIG9uZVxuICogcHJvamVjdGlvbiBkb2VzIHJlcHJlc2VudCB0aGUgc2FtZSBnZW9ncmFwaGljIHBvaW50IGFzIHRoZSBzYW1lIGNvb3JkaW5hdGUgaW5cbiAqIHRoZSBvdGhlciBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbjEgUHJvamVjdGlvbiAxLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMiBQcm9qZWN0aW9uIDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBFcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudChwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIpIHtcbiAgICBpZiAocHJvamVjdGlvbjEgPT09IHByb2plY3Rpb24yKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgZXF1YWxVbml0cyA9IHByb2plY3Rpb24xLmdldFVuaXRzKCkgPT09IHByb2plY3Rpb24yLmdldFVuaXRzKCk7XG4gICAgaWYgKHByb2plY3Rpb24xLmdldENvZGUoKSA9PT0gcHJvamVjdGlvbjIuZ2V0Q29kZSgpKSB7XG4gICAgICAgIHJldHVybiBlcXVhbFVuaXRzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMgPT09IGNsb25lVHJhbnNmb3JtICYmIGVxdWFsVW5pdHM7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyBpbiB0aGUgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIGZvciB0aGUgZnVuY3Rpb24gZm9yIGNvbnZlcnRpbmdcbiAqIGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvamVjdGlvbiBTb3VyY2UgUHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RpbmF0aW9uUHJvamVjdGlvbiBEZXN0aW5hdGlvbiBQcm9qZWN0aW9uXG4gKiAgICAgb2JqZWN0LlxuICogQHJldHVybiB7VHJhbnNmb3JtRnVuY3Rpb259IFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZVByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciBkZXN0aW5hdGlvbkNvZGUgPSBkZXN0aW5hdGlvblByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnVuYyhzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpO1xuICAgIGlmICghdHJhbnNmb3JtRnVuYykge1xuICAgICAgICB0cmFuc2Zvcm1GdW5jID0gaWRlbnRpdHlUcmFuc2Zvcm07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jO1xufVxuLyoqXG4gKiBHaXZlbiB0aGUgcHJvamVjdGlvbi1saWtlIG9iamVjdHMsIHNlYXJjaGVzIGZvciBhIHRyYW5zZm9ybWF0aW9uXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IGEgY29vcmRpbmF0ZXMgYXJyYXkgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gZ2V0KHNvdXJjZSk7XG4gICAgdmFyIGRlc3RpbmF0aW9uUHJvamVjdGlvbiA9IGdldChkZXN0aW5hdGlvbik7XG4gICAgcmV0dXJuIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIHNvdXJjZSBwcm9qZWN0aW9uIHRvIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBUaGlzIHJldHVybnMgYSBuZXcgY29vcmRpbmF0ZSAoYW5kIGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwpLlxuICpcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2oudHJhbnNmb3JtRXh0ZW50fSBmb3IgZXh0ZW50IHRyYW5zZm9ybWF0aW9uLlxuICogU2VlIHRoZSB0cmFuc2Zvcm0gbWV0aG9kIG9mIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gYW5kIGl0c1xuICogc3ViY2xhc3NlcyBmb3IgZ2VvbWV0cnkgdHJhbnNmb3Jtcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24tbGlrZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24tbGlrZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtRnVuYyhjb29yZGluYXRlLCB1bmRlZmluZWQsIGNvb3JkaW5hdGUubGVuZ3RoKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBleHRlbnQgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpc1xuICogcmV0dXJucyBhIG5ldyBleHRlbnQgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zdG9wc10gTnVtYmVyIG9mIHN0b3BzIHBlciBzaWRlIHVzZWQgZm9yIHRoZSB0cmFuc2Zvcm0uXG4gKiBCeSBkZWZhdWx0IG9ubHkgdGhlIGNvcm5lcnMgYXJlIHVzZWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSB0cmFuc2Zvcm1lZCBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCBzb3VyY2UsIGRlc3RpbmF0aW9uLCBvcHRfc3RvcHMpIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gYXBwbHlUcmFuc2Zvcm0oZXh0ZW50LCB0cmFuc2Zvcm1GdW5jLCB1bmRlZmluZWQsIG9wdF9zdG9wcyk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qZWN0aW9uIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0aW5hdGlvblByb2plY3Rpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBQb2ludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVdpdGhQcm9qZWN0aW9ucyhwb2ludCwgc291cmNlUHJvamVjdGlvbiwgZGVzdGluYXRpb25Qcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoc291cmNlUHJvamVjdGlvbiwgZGVzdGluYXRpb25Qcm9qZWN0aW9uKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtRnVuYyhwb2ludCk7XG59XG4vKipcbiAqIEB0eXBlIHs/UHJvamVjdGlvbn1cbiAqL1xudmFyIHVzZXJQcm9qZWN0aW9uID0gbnVsbDtcbi8qKlxuICogU2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZiB0aGUgc3RhYmxlIEFQSS4gIFN1cHBvcnQgZm9yIHVzZXJcbiAqIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZCBiZSBjb25zaWRlcmVkIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFVzZXJQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICB1c2VyUHJvamVjdGlvbiA9IGdldChwcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogQ2xlYXIgdGhlIHVzZXIgcHJvamVjdGlvbiBpZiBzZXQuICBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgbm90IHlldCBhIHBhcnQgb2ZcbiAqIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlciBwcm9qZWN0aW9ucyBpcyBub3QgeWV0IGNvbXBsZXRlIGFuZCBzaG91bGRcbiAqIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJVc2VyUHJvamVjdGlvbigpIHtcbiAgICB1c2VyUHJvamVjdGlvbiA9IG51bGw7XG59XG4vKipcbiAqIEdldCB0aGUgcHJvamVjdGlvbiBmb3IgY29vcmRpbmF0ZXMgc3VwcGxpZWQgZnJvbSBhbmQgcmV0dXJuZWQgYnkgQVBJIG1ldGhvZHMuXG4gKiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgbm90IHlldCBhIHBhcnQgb2YgdGhlIHN0YWJsZSBBUEkuICBTdXBwb3J0IGZvciB1c2VyXG4gKiBwcm9qZWN0aW9ucyBpcyBub3QgeWV0IGNvbXBsZXRlIGFuZCBzaG91bGQgYmUgY29uc2lkZXJlZCBleHBlcmltZW50YWwuXG4gKiBAcmV0dXJuIHs/UHJvamVjdGlvbn0gVGhlIHVzZXIgcHJvamVjdGlvbiAob3IgbnVsbCBpZiBub3Qgc2V0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJQcm9qZWN0aW9uKCkge1xuICAgIHJldHVybiB1c2VyUHJvamVjdGlvbjtcbn1cbi8qKlxuICogVXNlIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKFdHUy04NCBkYXR1bSkgaW4gQVBJIG1ldGhvZHMuICBOb3RlIHRoYXQgdGhpc1xuICogbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlciBwcm9qZWN0aW9ucyBpc1xuICogbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlR2VvZ3JhcGhpYygpIHtcbiAgICBzZXRVc2VyUHJvamVjdGlvbignRVBTRzo0MzI2Jyk7XG59XG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2VQcm9qZWN0aW9uIFRoZSBpbnB1dCBjb29yZGluYXRlIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgaW5wdXQgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyQ29vcmRpbmF0ZShjb29yZGluYXRlLCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCBzb3VyY2VQcm9qZWN0aW9uLCB1c2VyUHJvamVjdGlvbik7XG59XG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgZnJvbSB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRoZSBpbnB1dCBjb29yZGluYXRlIHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVVzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIGRlc3RQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCB1c2VyUHJvamVjdGlvbiwgZGVzdFByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBSZXR1cm4gYW4gZXh0ZW50IHRyYW5zZm9ybWVkIGludG8gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgZXh0ZW50IGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBJbnB1dCBleHRlbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2VQcm9qZWN0aW9uIFRoZSBpbnB1dCBleHRlbnQgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGlucHV0IGV4dGVudCBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyRXh0ZW50KGV4dGVudCwgc291cmNlUHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24sIHVzZXJQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBpbnB1dCBleHRlbnQgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckV4dGVudChleHRlbnQsIGRlc3RQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtRXh0ZW50KGV4dGVudCwgdXNlclByb2plY3Rpb24sIGRlc3RQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSByZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCBvciBzb3VyY2Ugb3IgdXNlciBwcm9qZWN0aW9uIGFyZSBtaXNzaW5nIHVuaXRzLCB0aGUgb3JpZ2luYWwgcmVzb2x1dGlvblxuICogaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIGluIGlucHV0IHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9XG4gICAgdmFyIHNvdXJjZVVuaXRzID0gZ2V0KHNvdXJjZVByb2plY3Rpb24pLmdldFVuaXRzKCk7XG4gICAgdmFyIHVzZXJVbml0cyA9IHVzZXJQcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gICAgcmV0dXJuIHNvdXJjZVVuaXRzICYmIHVzZXJVbml0c1xuICAgICAgICA/IChyZXNvbHV0aW9uICogTUVURVJTX1BFUl9VTklUW3NvdXJjZVVuaXRzXSkgLyBNRVRFUlNfUEVSX1VOSVRbdXNlclVuaXRzXVxuICAgICAgICA6IHJlc29sdXRpb247XG59XG4vKipcbiAqIFJldHVybiB0aGUgcmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLiBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgb3Igc291cmNlIG9yIHVzZXIgcHJvamVjdGlvbiBhcmUgbWlzc2luZyB1bml0cywgdGhlIG9yaWdpbmFsIHJlc29sdXRpb25cbiAqIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gaW4gZGVzdGluYXRpb24gcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlclJlc29sdXRpb24ocmVzb2x1dGlvbiwgZGVzdFByb2plY3Rpb24pIHtcbiAgICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH1cbiAgICB2YXIgc291cmNlVW5pdHMgPSBnZXQoZGVzdFByb2plY3Rpb24pLmdldFVuaXRzKCk7XG4gICAgdmFyIHVzZXJVbml0cyA9IHVzZXJQcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gICAgcmV0dXJuIHNvdXJjZVVuaXRzICYmIHVzZXJVbml0c1xuICAgICAgICA/IChyZXNvbHV0aW9uICogTUVURVJTX1BFUl9VTklUW3VzZXJVbml0c10pIC8gTUVURVJTX1BFUl9VTklUW3NvdXJjZVVuaXRzXVxuICAgICAgICA6IHJlc29sdXRpb247XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzYWZlIGNvb3JkaW5hdGUgdHJhbnNmb3JtIGZ1bmN0aW9uIGZyb20gYSBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIFwiU2FmZVwiIG1lYW5zIHRoYXQgaXQgY2FuIGhhbmRsZSB3cmFwcGluZyBvZiB4LWNvb3JkaW5hdGVzIGZvciBnbG9iYWwgcHJvamVjdGlvbnMsXG4gKiBhbmQgdGhhdCBjb29yZGluYXRlcyBleGNlZWRpbmcgdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHZhbGlkaXR5IGV4dGVudCdzIHJhbmdlIHdpbGwgYmVcbiAqIGNsYW1wZWQgdG8gdGhlIHZhbGlkaXR5IHJhbmdlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0UHJvaiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0cmFuc2Zvcm0gVHJhbnNmb3JtIGZ1bmN0aW9uIChzb3VyY2UgdG8gZGVzdGlhdGlvbikuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBTYWZlIHRyYW5zZm9ybSBmdW5jdGlvbiAoc291cmNlIHRvIGRlc3RpYXRpb24pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2FmZUNvb3JkaW5hdGVUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdFByb2osIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgdmFyIHNvdXJjZVggPSBjb29yZFswXTtcbiAgICAgICAgdmFyIHNvdXJjZVkgPSBjb29yZFsxXTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkLCB3b3JsZHNBd2F5O1xuICAgICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VFeHRlbnRXaWR0aCA9IGdldFdpZHRoKHNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB3b3JsZHNBd2F5ID0gZ2V0V29ybGRzQXdheShjb29yZCwgc291cmNlUHJvaiwgc291cmNlRXh0ZW50V2lkdGgpO1xuICAgICAgICAgICAgaWYgKHdvcmxkc0F3YXkpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHggdG8gdGhlIHJlYWwgd29ybGRcbiAgICAgICAgICAgICAgICBzb3VyY2VYID0gc291cmNlWCAtIHdvcmxkc0F3YXkgKiBzb3VyY2VFeHRlbnRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZVggPSBjbGFtcChzb3VyY2VYLCBzb3VyY2VFeHRlbnRbMF0sIHNvdXJjZUV4dGVudFsyXSk7XG4gICAgICAgICAgICBzb3VyY2VZID0gY2xhbXAoc291cmNlWSwgc291cmNlRXh0ZW50WzFdLCBzb3VyY2VFeHRlbnRbM10pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm0oW3NvdXJjZVgsIHNvdXJjZVldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ybGRzQXdheSAmJiBkZXN0UHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUgYmFjayB0byB0aGUgb2Zmc2V0IHdvcmxkXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZFswXSArPSB3b3JsZHNBd2F5ICogZ2V0V2lkdGgoZGVzdFByb2ouZ2V0RXh0ZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZDtcbiAgICB9O1xufVxuLyoqXG4gKiBBZGQgdHJhbnNmb3JtcyB0byBhbmQgZnJvbSBFUFNHOjQzMjYgYW5kIEVQU0c6Mzg1Ny4gIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiBieSB3aGVuIHRoaXMgbW9kdWxlIGlzIGV4ZWN1dGVkIGFuZCBzaG91bGQgb25seSBuZWVkIHRvIGJlIGNhbGxlZCBhZ2FpbiBhZnRlclxuICogYGNsZWFyQWxsUHJvamVjdGlvbnMoKWAgaXMgY2FsbGVkIChlLmcuIGluIHRlc3RzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1vbigpIHtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRoYXQgZG9uJ3QgYWx0ZXIgY29vcmRpbmF0ZXMgdG8gY29udmVydCB3aXRoaW4gc2V0IG9mXG4gICAgLy8gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICAgIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhFUFNHMzg1N19QUk9KRUNUSU9OUyk7XG4gICAgYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKEVQU0c0MzI2X1BST0pFQ1RJT05TKTtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRvIGNvbnZlcnQgRVBTRzo0MzI2IGxpa2UgY29vcmRpbmF0ZXMgdG8gRVBTRzozODU3IGxpa2VcbiAgICAvLyBjb29yZGluYXRlcyBhbmQgYmFjay5cbiAgICBhZGRFcXVpdmFsZW50VHJhbnNmb3JtcyhFUFNHNDMyNl9QUk9KRUNUSU9OUywgRVBTRzM4NTdfUFJPSkVDVElPTlMsIGZyb21FUFNHNDMyNiwgdG9FUFNHNDMyNik7XG59XG5hZGRDb21tb24oKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NlbnRlcmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL21hdGguanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCksIG51bWJlciwgaW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemUsIGJvb2xlYW49LCBBcnJheTxudW1iZXI+PSk6IChpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWQpfSBUeXBlXG4gKi9cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9ubHlDZW50ZXIgSWYgdHJ1ZSwgdGhlIGNvbnN0cmFpbnQgd2lsbCBvbmx5IGFwcGx5IHRvIHRoZSB2aWV3IGNlbnRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc21vb3RoIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBnbyBzbGlnaHRseSBvdXQgb2YgdGhlIGdpdmVuIGV4dGVudFxuICogKG9ubHkgZHVyaW5nIGludGVyYWN0aW9uIGFuZCBhbmltYXRpb24pLlxuICogQHJldHVybiB7VHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFeHRlbnQoZXh0ZW50LCBvbmx5Q2VudGVyLCBzbW9vdGgpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplOyB1bnVzZWQgaWYgYG9ubHlDZW50ZXJgIHdhcyBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfY2VudGVyU2hpZnRdIFNoaWZ0IGJldHdlZW4gbWFwIGNlbnRlciBhbmQgdmlld3BvcnQgY2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHNpemUsIG9wdF9pc01vdmluZywgb3B0X2NlbnRlclNoaWZ0KSB7XG4gICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciB2aWV3V2lkdGggPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHZpZXdIZWlnaHQgPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHNoaWZ0WCA9IG9wdF9jZW50ZXJTaGlmdCA/IG9wdF9jZW50ZXJTaGlmdFswXSA6IDA7XG4gICAgICAgICAgICB2YXIgc2hpZnRZID0gb3B0X2NlbnRlclNoaWZ0ID8gb3B0X2NlbnRlclNoaWZ0WzFdIDogMDtcbiAgICAgICAgICAgIHZhciBtaW5YID0gZXh0ZW50WzBdICsgdmlld1dpZHRoIC8gMiArIHNoaWZ0WDtcbiAgICAgICAgICAgIHZhciBtYXhYID0gZXh0ZW50WzJdIC0gdmlld1dpZHRoIC8gMiArIHNoaWZ0WDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdICsgdmlld0hlaWdodCAvIDIgKyBzaGlmdFk7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IGV4dGVudFszXSAtIHZpZXdIZWlnaHQgLyAyICsgc2hpZnRZO1xuICAgICAgICAgICAgLy8gbm90ZTogd2hlbiB6b29taW5nIG91dCBvZiBib3VuZHMsIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgeCBhbmQgeSBtYXlcbiAgICAgICAgICAgIC8vIGVuZCB1cCBpbnZlcnRlZCAobWluID4gbWF4KTsgdGhpcyBoYXMgdG8gYmUgYWNjb3VudGVkIGZvclxuICAgICAgICAgICAgaWYgKG1pblggPiBtYXhYKSB7XG4gICAgICAgICAgICAgICAgbWluWCA9IChtYXhYICsgbWluWCkgLyAyO1xuICAgICAgICAgICAgICAgIG1heFggPSBtaW5YO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pblkgPiBtYXhZKSB7XG4gICAgICAgICAgICAgICAgbWluWSA9IChtYXhZICsgbWluWSkgLyAyO1xuICAgICAgICAgICAgICAgIG1heFkgPSBtaW5ZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHggPSBjbGFtcChjZW50ZXJbMF0sIG1pblgsIG1heFgpO1xuICAgICAgICAgICAgdmFyIHkgPSBjbGFtcChjZW50ZXJbMV0sIG1pblksIG1heFkpO1xuICAgICAgICAgICAgdmFyIHJhdGlvID0gMzAgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGFuIGludGVyYWN0aW9uLCBhbGxvdyBzb21lIG92ZXJzY3JvbGxcbiAgICAgICAgICAgIGlmIChvcHRfaXNNb3ZpbmcgJiYgc21vb3RoKSB7XG4gICAgICAgICAgICAgICAgeCArPVxuICAgICAgICAgICAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWCAtIGNlbnRlclswXSkgLyByYXRpbykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzBdIC0gbWF4WCkgLyByYXRpbyk7XG4gICAgICAgICAgICAgICAgeSArPVxuICAgICAgICAgICAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWSAtIGNlbnRlclsxXSkgLyByYXRpbykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzFdIC0gbWF4WSkgLyByYXRpbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBDZW50ZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoY2VudGVyKSB7XG4gICAgcmV0dXJuIGNlbnRlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNlbnRlcmNvbnN0cmFpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Jlc29sdXRpb25jb25zdHJhaW50XG4gKi9cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7IGdldEhlaWdodCwgZ2V0V2lkdGggfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBsaW5lYXJGaW5kTmVhcmVzdCB9IGZyb20gJy4vYXJyYXkuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBudW1iZXIsIGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplLCBib29sZWFuPSk6IChudW1iZXJ8dW5kZWZpbmVkKX0gVHlwZVxuICovXG4vKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCByZXNvbHV0aW9uIHRha2luZyBpbnRvIGFjY291bnQgdGhlIHZpZXdwb3J0IHNpemUgYW5kIG1heGltdW1cbiAqIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvblxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gdmlld3BvcnRTaXplIFZpZXdwb3J0IHNpemUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dGdWxsRXh0ZW50IFdoZXRoZXIgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENhcHBlZCByZXNvbHV0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG1heEV4dGVudCwgdmlld3BvcnRTaXplLCBzaG93RnVsbEV4dGVudCkge1xuICAgIHZhciB4UmVzb2x1dGlvbiA9IGdldFdpZHRoKG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMF07XG4gICAgdmFyIHlSZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMV07XG4gICAgaWYgKHNob3dGdWxsRXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihyZXNvbHV0aW9uLCBNYXRoLm1heCh4UmVzb2x1dGlvbiwgeVJlc29sdXRpb24pKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKHJlc29sdXRpb24sIE1hdGgubWluKHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbikpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgcmVzb2x1dGlvbiB0byBiZSBiZXR3ZWVuIG1heFJlc29sdXRpb24gYW5kIG1pblJlc29sdXRpb24gd2hpbGVcbiAqIHN0aWxsIGFsbG93aW5nIHRoZSB2YWx1ZSB0byBiZSBzbGlnaHRseSBvdXQgb2YgYm91bmRzLlxuICogTm90ZTogdGhlIGNvbXB1dGF0aW9uIGlzIGJhc2VkIG9uIHRoZSBsb2dhcml0aG0gZnVuY3Rpb24gKGxuKTpcbiAqICAtIGF0IDEsIGxuKHgpIGlzIDBcbiAqICAtIGFib3ZlIDEsIGxuKHgpIGtlZXBzIGluY3JlYXNpbmcgYnV0IGF0IGEgbXVjaCBzbG93ZXIgcGFjZSB0aGFuIHhcbiAqIFRoZSBmaW5hbCByZXN1bHQgaXMgY2xhbXBlZCB0byBwcmV2ZW50IGdldHRpbmcgdG9vIGZhciBhd2F5IGZyb20gYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNtb290aGVkIHJlc29sdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24sIG1pblJlc29sdXRpb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgbWF4UmVzb2x1dGlvbik7XG4gICAgdmFyIHJhdGlvID0gNTA7XG4gICAgcmVzdWx0ICo9XG4gICAgICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIHJlc29sdXRpb24gLyBtYXhSZXNvbHV0aW9uIC0gMSkpIC8gcmF0aW8gK1xuICAgICAgICAgICAgMTtcbiAgICBpZiAobWluUmVzb2x1dGlvbikge1xuICAgICAgICByZXN1bHQgPSBNYXRoLm1heChyZXN1bHQsIG1pblJlc29sdXRpb24pO1xuICAgICAgICByZXN1bHQgLz1cbiAgICAgICAgICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIG1pblJlc29sdXRpb24gLyByZXNvbHV0aW9uIC0gMSkpIC9cbiAgICAgICAgICAgICAgICByYXRpbyArXG4gICAgICAgICAgICAgICAgMTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYW1wKHJlc3VsdCwgbWluUmVzb2x1dGlvbiAvIDIsIG1heFJlc29sdXRpb24gKiAyKTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9tYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMocmVzb2x1dGlvbnMsIG9wdF9zbW9vdGgsIG9wdF9tYXhFeHRlbnQsIG9wdF9zaG93RnVsbEV4dGVudCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9pc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1swXTtcbiAgICAgICAgICAgIHZhciBtaW5SZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbcmVzb2x1dGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgY2FwcGVkTWF4UmVzID0gb3B0X21heEV4dGVudFxuICAgICAgICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBvcHRfbWF4RXh0ZW50LCBzaXplLCBvcHRfc2hvd0Z1bGxFeHRlbnQpXG4gICAgICAgICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbW9vdGggPSBvcHRfc21vb3RoICE9PSB1bmRlZmluZWQgPyBvcHRfc21vb3RoIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhbXAocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIGNhcHBlZE1heFJlcywgbWluUmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FwcGVkID0gTWF0aC5taW4oY2FwcGVkTWF4UmVzLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHZhciB6ID0gTWF0aC5mbG9vcihsaW5lYXJGaW5kTmVhcmVzdChyZXNvbHV0aW9ucywgY2FwcGVkLCBkaXJlY3Rpb24pKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uc1t6XSA+IGNhcHBlZE1heFJlcyAmJiB6IDwgcmVzb2x1dGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uc1t6ICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbel07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3dlciBQb3dlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21pblJlc29sdXRpb25dIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9tYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUG93ZXIocG93ZXIsIG1heFJlc29sdXRpb24sIG9wdF9taW5SZXNvbHV0aW9uLCBvcHRfc21vb3RoLCBvcHRfbWF4RXh0ZW50LCBvcHRfc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBjYXBwZWRNYXhSZXMgPSBvcHRfbWF4RXh0ZW50XG4gICAgICAgICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKG1heFJlc29sdXRpb24sIG9wdF9tYXhFeHRlbnQsIHNpemUsIG9wdF9zaG93RnVsbEV4dGVudClcbiAgICAgICAgICAgICAgICA6IG1heFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IG9wdF9taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRfbWluUmVzb2x1dGlvbiA6IDA7XG4gICAgICAgICAgICAvLyBkdXJpbmcgaW50ZXJhY3Rpbmcgb3IgYW5pbWF0aW5nLCBhbGxvdyBpbnRlcm1lZGlhcnkgdmFsdWVzXG4gICAgICAgICAgICBpZiAob3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNtb290aCA9IG9wdF9zbW9vdGggIT09IHVuZGVmaW5lZCA/IG9wdF9zbW9vdGggOiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghc21vb3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFtcChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzLCBtaW5SZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0b2xlcmFuY2UgPSAxZS05O1xuICAgICAgICAgICAgdmFyIG1pblpvb21MZXZlbCA9IE1hdGguY2VpbChNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkTWF4UmVzKSAvIE1hdGgubG9nKHBvd2VyKSAtIHRvbGVyYW5jZSk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gLWRpcmVjdGlvbiAqICgwLjUgLSB0b2xlcmFuY2UpICsgMC41O1xuICAgICAgICAgICAgdmFyIGNhcHBlZCA9IE1hdGgubWluKGNhcHBlZE1heFJlcywgcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB2YXIgY2FwcGVkWm9vbUxldmVsID0gTWF0aC5mbG9vcihNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkKSAvIE1hdGgubG9nKHBvd2VyKSArIG9mZnNldCk7XG4gICAgICAgICAgICB2YXIgem9vbUxldmVsID0gTWF0aC5tYXgobWluWm9vbUxldmVsLCBjYXBwZWRab29tTGV2ZWwpO1xuICAgICAgICAgICAgdmFyIG5ld1Jlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICByZXR1cm4gY2xhbXAobmV3UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4IHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBNaW4gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9zbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9tYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBvcHRfc21vb3RoLCBvcHRfbWF4RXh0ZW50LCBvcHRfc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBjYXBwZWRNYXhSZXMgPSBvcHRfbWF4RXh0ZW50XG4gICAgICAgICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKG1heFJlc29sdXRpb24sIG9wdF9tYXhFeHRlbnQsIHNpemUsIG9wdF9zaG93RnVsbEV4dGVudClcbiAgICAgICAgICAgICAgICA6IG1heFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgc21vb3RoID0gb3B0X3Ntb290aCAhPT0gdW5kZWZpbmVkID8gb3B0X3Ntb290aCA6IHRydWU7XG4gICAgICAgICAgICBpZiAoIXNtb290aCB8fCAhb3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzLCBtaW5SZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdXRpb25jb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yb3RhdGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHsgdG9SYWRpYW5zIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlKHJvdGF0aW9uKSB7XG4gICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShyb3RhdGlvbikge1xuICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbiBOLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb04obikge1xuICAgIHZhciB0aGV0YSA9ICgyICogTWF0aC5QSSkgLyBuO1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyb3RhdGlvbiwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcm90YXRpb24gPSBNYXRoLmZsb29yKHJvdGF0aW9uIC8gdGhldGEgKyAwLjUpICogdGhldGE7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3RvbGVyYW5jZV0gVG9sZXJhbmNlLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1plcm8ob3B0X3RvbGVyYW5jZSkge1xuICAgIHZhciB0b2xlcmFuY2UgPSBvcHRfdG9sZXJhbmNlIHx8IHRvUmFkaWFucyg1KTtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0X2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocm90YXRpb24sIG9wdF9pc01vdmluZykge1xuICAgICAgICBpZiAob3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGlvbikgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3RhdGlvbmNvbnN0cmFpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Vhc2luZ1xuICovXG4vKipcbiAqIFN0YXJ0IHNsb3cgYW5kIHNwZWVkIHVwLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3codCwgMyk7XG59XG4vKipcbiAqIFN0YXJ0IGZhc3QgYW5kIHNsb3cgZG93bi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXQodCkge1xuICAgIHJldHVybiAxIC0gZWFzZUluKDEgLSB0KTtcbn1cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCB0aGVuIHNsb3cgZG93biBhZ2Fpbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluQW5kT3V0KHQpIHtcbiAgICByZXR1cm4gMyAqIHQgKiB0IC0gMiAqIHQgKiB0ICogdDtcbn1cbi8qKlxuICogTWFpbnRhaW4gYSBjb25zdGFudCBzcGVlZCBvdmVyIHRpbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXIodCkge1xuICAgIHJldHVybiB0O1xufVxuLyoqXG4gKiBTdGFydCBzbG93LCBzcGVlZCB1cCwgYW5kIGF0IHRoZSB2ZXJ5IGVuZCBzbG93IGRvd24gYWdhaW4uICBUaGlzIGhhcyB0aGVcbiAqIHNhbWUgZ2VuZXJhbCBiZWhhdmlvciBhcyB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZy5pbkFuZE91dH0sIGJ1dCB0aGUgZmluYWxcbiAqIHNsb3dkb3duIGlzIGRlbGF5ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cEFuZERvd24odCkge1xuICAgIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiBpbkFuZE91dCgyICogdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMSAtIGluQW5kT3V0KDIgKiAodCAtIDAuNSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVhc2luZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9HZW9tZXRyeUxheW91dFxuICovXG4vKipcbiAqIFRoZSBjb29yZGluYXRlIGxheW91dCBmb3IgZ2VvbWV0cmllcywgaW5kaWNhdGluZyB3aGV0aGVyIGEgM3JkIG9yIDR0aCB6ICgnWicpXG4gKiBvciBtZWFzdXJlICgnTScpIGNvb3JkaW5hdGUgaXMgYXZhaWxhYmxlLiBTdXBwb3J0ZWQgdmFsdWVzIGFyZSBgJ1hZJ2AsXG4gKiBgJ1hZWidgLCBgJ1hZTSdgLCBgJ1hZWk0nYC5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBYWTogJ1hZJyxcbiAgICBYWVo6ICdYWVonLFxuICAgIFhZTTogJ1hZTScsXG4gICAgWFlaTTogJ1hZWk0nLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlb21ldHJ5TGF5b3V0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdHJhbnNmb3JtXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9kZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0cmFuc2Zvcm0sIG9wdF9kZXN0KSB7XG4gICAgdmFyIGRlc3QgPSBvcHRfZGVzdCA/IG9wdF9kZXN0IDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4ID0gZmxhdENvb3JkaW5hdGVzW2pdO1xuICAgICAgICB2YXIgeSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV07XG4gICAgICAgIGRlc3RbaSsrXSA9IHRyYW5zZm9ybVswXSAqIHggKyB0cmFuc2Zvcm1bMl0gKiB5ICsgdHJhbnNmb3JtWzRdO1xuICAgICAgICBkZXN0W2krK10gPSB0cmFuc2Zvcm1bMV0gKiB4ICsgdHJhbnNmb3JtWzNdICogeSArIHRyYW5zZm9ybVs1XTtcbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIFJvdGF0aW9uIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9kZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgYW5nbGUsIGFuY2hvciwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgZGVzdCA9IG9wdF9kZXN0ID8gb3B0X2Rlc3QgOiBbXTtcbiAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIGFuY2hvclggPSBhbmNob3JbMF07XG4gICAgdmFyIGFuY2hvclkgPSBhbmNob3JbMV07XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBmbGF0Q29vcmRpbmF0ZXNbal0gLSBhbmNob3JYO1xuICAgICAgICB2YXIgZGVsdGFZID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSAtIGFuY2hvclk7XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclggKyBkZWx0YVggKiBjb3MgLSBkZWx0YVkgKiBzaW47XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBkZWx0YVggKiBzaW4gKyBkZWx0YVkgKiBjb3M7XG4gICAgICAgIGZvciAodmFyIGsgPSBqICsgMjsgayA8IGogKyBzdHJpZGU7ICsraykge1xuICAgICAgICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2tdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRfZGVzdCAmJiBkZXN0Lmxlbmd0aCAhPSBpKSB7XG4gICAgICAgIGRlc3QubGVuZ3RoID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59XG4vKipcbiAqIFNjYWxlIHRoZSBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSBTY2FsZSBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgU2NhbGUgYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHN4LCBzeSwgYW5jaG9yLCBvcHRfZGVzdCkge1xuICAgIHZhciBkZXN0ID0gb3B0X2Rlc3QgPyBvcHRfZGVzdCA6IFtdO1xuICAgIHZhciBhbmNob3JYID0gYW5jaG9yWzBdO1xuICAgIHZhciBhbmNob3JZID0gYW5jaG9yWzFdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JYICsgc3ggKiBkZWx0YVg7XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBzeSAqIGRlbHRhWTtcbiAgICAgICAgZm9yICh2YXIgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9kZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZGVsdGFYLCBkZWx0YVksIG9wdF9kZXN0KSB7XG4gICAgdmFyIGRlc3QgPSBvcHRfZGVzdCA/IG9wdF9kZXN0IDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1tqXSArIGRlbHRhWDtcbiAgICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSArIGRlbHRhWTtcbiAgICAgICAgZm9yICh2YXIgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBnZXRIZWlnaHQsIHJldHVybk9yVXBkYXRlLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBtZW1vaXplT25lIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG52YXIgdG1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFRvIGdldCBub3RpZmllZCBvZiBjaGFuZ2VzIHRvIHRoZSBnZW9tZXRyeSwgcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgdGhlXG4gKiBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IG9uIHlvdXIgZ2VvbWV0cnkgaW5zdGFuY2UuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudFJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICogQGFic3RyYWN0XG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXZpc2lvbiBUaGUgZ2VvbWV0cnkgcmV2aXNpb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFtvcHRfdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAocmV2aXNpb24sIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmICghb3B0X3RyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgIGNsb25lLmFwcGx5VHJhbnNmb3JtKG9wdF90cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zaW1wbGlmeVRyYW5zZm9ybWVkID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsKHRoaXMuZ2V0UmV2aXNpb24oKSwgc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7IUdlb21ldHJ5fSBDbG9uZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGNvb3JkID0gdGhpcy5nZXRDbG9zZXN0UG9pbnQoW3gsIHldKTtcbiAgICAgICAgcmV0dXJuIGNvb3JkWzBdID09PSB4ICYmIGNvb3JkWzFdID09PSB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjbG9zZXN0IHBvaW50IG9mIHRoZSBnZW9tZXRyeSB0byB0aGUgcGFzc2VkIHBvaW50IGFzXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGUgY29vcmRpbmF0ZX0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3B0X2Nsb3Nlc3RQb2ludF0gQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENsb3Nlc3QgcG9pbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIG9wdF9jbG9zZXN0UG9pbnQpIHtcbiAgICAgICAgdmFyIGNsb3Nlc3RQb2ludCA9IG9wdF9jbG9zZXN0UG9pbnQgPyBvcHRfY2xvc2VzdFBvaW50IDogW05hTiwgTmFOXTtcbiAgICAgICAgdGhpcy5jbG9zZXN0UG9pbnRYWShwb2ludFswXSwgcG9pbnRbMV0sIGNsb3Nlc3RQb2ludCwgSW5maW5pdHkpO1xuICAgICAgICByZXR1cm4gY2xvc2VzdFBvaW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZ2VvbWV0cnkgaW5jbHVkZXMgdGhlIHNwZWNpZmllZCBjb29yZGluYXRlLiBJZiB0aGVcbiAgICAgKiBjb29yZGluYXRlIGlzIG9uIHRoZSBib3VuZGFyeSBvZiB0aGUgZ2VvbWV0cnksIHJldHVybnMgZmFsc2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc1hZKGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jb21wdXRlRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfZXh0ZW50XSBFeHRlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmV4dGVudFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmNvbXB1dGVFeHRlbnQodGhpcy5leHRlbnRfKTtcbiAgICAgICAgICAgIGlmIChpc05hTihleHRlbnRbMF0pIHx8IGlzTmFOKGV4dGVudFsxXSkpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KGV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV4dGVudFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuT3JVcGRhdGUodGhpcy5leHRlbnRfLCBvcHRfZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgZ2VvbWV0cnkgYXJvdW5kIGEgZ2l2ZW4gY29vcmRpbmF0ZS4gVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUsIGFuY2hvcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2NhbGUgdGhlIGdlb21ldHJ5ICh3aXRoIGFuIG9wdGlvbmFsIG9yaWdpbikuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzeCBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHgtZGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3N5XSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uIChkZWZhdWx0cyB0byBzeCkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgc2NhbGUgb3JpZ2luIChkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAgICogICAgIG9mIHRoZSBnZW9tZXRyeSBleHRlbnQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoc3gsIG9wdF9zeSwgb3B0X2FuY2hvcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkuICBGb3IgbGluZXN0cmluZ3MsIHRoaXMgdXNlc1xuICAgICAqIHRoZSBbRG91Z2xhcyBQZXVja2VyXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtKVxuICAgICAqIGFsZ29yaXRobS4gIEZvciBwb2x5Z29ucywgYSBxdWFudGl6YXRpb24tYmFzZWRcbiAgICAgKiBzaW1wbGlmaWNhdGlvbiBpcyB1c2VkIHRvIHByZXNlcnZlIHRvcG9sb2d5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVGhlIHRvbGVyYW5jZSBkaXN0YW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAgICogQHJldHVybiB7R2VvbWV0cnl9IEEgbmV3LCBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhlIG9yaWdpbmFsIGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuc2ltcGxpZnkgPSBmdW5jdGlvbiAodG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeSh0b2xlcmFuY2UgKiB0b2xlcmFuY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkgdXNpbmcgdGhlIERvdWdsYXMgUGV1Y2tlclxuICAgICAqIGFsZ29yaXRobS5cbiAgICAgKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5ID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHRvIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICAgKiBDYWxsZWQgd2l0aCBhIGZsYXQgYXJyYXkgb2YgZ2VvbWV0cnkgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFwcGx5VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybUZuKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGUgdGhlIGdlb21ldHJ5LiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgaW4gcGxhY2UuICBJZlxuICAgICAqIGluc3RlYWQgeW91IHdhbnQgYSBuZXcgZ2VvbWV0cnksIGZpcnN0IGBjbG9uZSgpYCB0aGlzIGdlb21ldHJ5LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGdlb21ldHJ5IGZyb20gb25lIGNvb3JkaW5hdGUgcmVmZXJlbmNlXG4gICAgICogc3lzdGVtIHRvIGFub3RoZXIuIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICAgKiBGb3IgZXhhbXBsZSwgYSBsaW5lIHdpbGwgYmUgdHJhbnNmb3JtZWQgdG8gYSBsaW5lIGFuZCBhIGNpcmNsZSB0byBhIGNpcmNsZS5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHNvdXJjZSBUaGUgY3VycmVudCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAgICAgKiAgICAgc3RyaW5nIGlkZW50aWZpZXIgb3IgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBUaGUgZGVzaXJlZCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAgICAgKiAgICAgc3RyaW5nIGlkZW50aWZpZXIgb3IgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QuXG4gICAgICogQHJldHVybiB7R2VvbWV0cnl9IFRoaXMgZ2VvbWV0cnkuICBOb3RlIHRoYXQgb3JpZ2luYWwgZ2VvbWV0cnkgaXNcbiAgICAgKiAgICAgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqL1xuICAgICAgICB2YXIgc291cmNlUHJvaiA9IGdldFByb2plY3Rpb24oc291cmNlKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUZuID0gc291cmNlUHJvai5nZXRVbml0cygpID09IFVuaXRzLlRJTEVfUElYRUxTXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChpbkNvb3JkaW5hdGVzLCBvdXRDb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvamVjdGVkRXh0ZW50ID0gc291cmNlUHJvai5nZXRXb3JsZEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IGdldEhlaWdodChwcm9qZWN0ZWRFeHRlbnQpIC8gZ2V0SGVpZ2h0KHBpeGVsRXh0ZW50KTtcbiAgICAgICAgICAgICAgICBjb21wb3NlVHJhbnNmb3JtKHRtcFRyYW5zZm9ybSwgcHJvamVjdGVkRXh0ZW50WzBdLCBwcm9qZWN0ZWRFeHRlbnRbM10sIHNjYWxlLCAtc2NhbGUsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTJEKGluQ29vcmRpbmF0ZXMsIDAsIGluQ29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIHRtcFRyYW5zZm9ybSwgb3V0Q29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdGluYXRpb24pKGluQ29vcmRpbmF0ZXMsIG91dENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBnZXRUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybUZuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gR2VvbWV0cnk7XG59KEJhc2VPYmplY3QpKTtcbmV4cG9ydCBkZWZhdWx0IEdlb21ldHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VvbWV0cnkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL1NpbXBsZUdlb21ldHJ5XG4gKi9cbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuL0dlb21ldHJ5LmpzJztcbmltcG9ydCBHZW9tZXRyeUxheW91dCBmcm9tICcuL0dlb21ldHJ5TGF5b3V0LmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMsIGdldENlbnRlciB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyByb3RhdGUsIHNjYWxlLCB0cmFuc2Zvcm0yRCwgdHJhbnNsYXRlIH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlczsgZG8gbm90IGluc3RhbnRpYXRlXG4gKiBpbiBhcHBzLCBhcyBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBTaW1wbGVHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXlvdXQgPSBHZW9tZXRyeUxheW91dC5YWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cmlkZSA9IDI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmxhdENvb3JkaW5hdGVzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmNvbXB1dGVFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXModGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIGV4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gQ29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZmlyc3QgY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBGaXJzdCBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0Rmlyc3RDb29yZGluYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoMCwgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0RmxhdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxhc3QgY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBMYXN0IHBvaW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0TGFzdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSh0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggLSB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeUxheW91dCBsYXlvdXR9IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IExheW91dC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldExheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkgdXNpbmcgdGhlIERvdWdsYXMgUGV1Y2tlciBhbGdvcml0aG0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7U2ltcGxlR2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldFNpbXBsaWZpZWRHZW9tZXRyeSA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIGlmICh0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uICE9PSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICAgICAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHNxdWFyZWRUb2xlcmFuY2UgaXMgbmVnYXRpdmUgb3IgaWYgd2Uga25vdyB0aGF0IHNpbXBsaWZpY2F0aW9uIHdpbGwgbm90XG4gICAgICAgIC8vIGhhdmUgYW55IGVmZmVjdCB0aGVuIGp1c3QgcmV0dXJuIHRoaXMuXG4gICAgICAgIGlmIChzcXVhcmVkVG9sZXJhbmNlIDwgMCB8fFxuICAgICAgICAgICAgKHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSAhPT0gMCAmJlxuICAgICAgICAgICAgICAgIHNxdWFyZWRUb2xlcmFuY2UgPD0gdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpbXBsaWZpZWRHZW9tZXRyeSA9IHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwoc3F1YXJlZFRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaW1wbGlmaWVkR2VvbWV0cnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTaW1wbGlmaWNhdGlvbiBkaWQgbm90IGFjdHVhbGx5IHJlbW92ZSBhbnkgY29vcmRpbmF0ZXMuICBXZSBub3cga25vd1xuICAgICAgICAgICAgLy8gdGhhdCBhbnkgY2FsbHMgdG8gZ2V0U2ltcGxpZmllZEdlb21ldHJ5IHdpdGggYSBzcXVhcmVkVG9sZXJhbmNlIGxlc3NcbiAgICAgICAgICAgIC8vIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGN1cnJlbnQgc3F1YXJlZFRvbGVyYW5jZSB3aWxsIGFsc28gbm90IGhhdmUgYW55XG4gICAgICAgICAgICAvLyBlZmZlY3QuICBUaGlzIGFsbG93cyB1cyB0byBzaG9ydCBjaXJjdWl0IHNpbXBsaWZpY2F0aW9uIChzYXZpbmcgQ1BVXG4gICAgICAgICAgICAvLyBjeWNsZXMpIGFuZCBwcmV2ZW50cyB0aGUgY2FjaGUgb2Ygc2ltcGxpZmllZCBnZW9tZXRyaWVzIGZyb20gZmlsbGluZ1xuICAgICAgICAgICAgLy8gdXAgd2l0aCB1c2VsZXNzIGlkZW50aWNhbCBjb3BpZXMgb2YgdGhpcyBnZW9tZXRyeSAoc2F2aW5nIG1lbW9yeSkuXG4gICAgICAgICAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UgPSBzcXVhcmVkVG9sZXJhbmNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm4ge1NpbXBsZUdlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgPSBmdW5jdGlvbiAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gU3RyaWRlLlxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRTdHJpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlkZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBsYXlvdXQgTGF5b3V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNldEZsYXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChsYXlvdXQsIGZsYXRDb29yZGluYXRlcykge1xuICAgICAgICB0aGlzLnN0cmlkZSA9IGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpO1xuICAgICAgICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0geyFBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IFtvcHRfbGF5b3V0XSBMYXlvdXQuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IGxheW91dCBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5lc3RpbmcgTmVzdGluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNldExheW91dCA9IGZ1bmN0aW9uIChsYXlvdXQsIGNvb3JkaW5hdGVzLCBuZXN0aW5nKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgICAgICB2YXIgc3RyaWRlO1xuICAgICAgICBpZiAobGF5b3V0KSB7XG4gICAgICAgICAgICBzdHJpZGUgPSBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVzdGluZzsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlkZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtBcnJheX0gKi8gKGNvb3JkaW5hdGVzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJpZGUgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBsYXlvdXQgPSBnZXRMYXlvdXRGb3JTdHJpZGUoc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICogQ2FsbGVkIHdpdGggYSBmbGF0IGFycmF5IG9mIGdlb21ldHJ5IGNvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtRm4pIHtcbiAgICAgICAgaWYgKHRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1Gbih0aGlzLmZsYXRDb29yZGluYXRlcywgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGdlb21ldHJ5IGFyb3VuZCBhIGdpdmVuIGNvb3JkaW5hdGUuIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIGFuZ2xlIGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlLCBhbmNob3IpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgICAgICAgcm90YXRlKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBhbmdsZSwgYW5jaG9yLCBmbGF0Q29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBnZW9tZXRyeSAod2l0aCBhbiBvcHRpb25hbCBvcmlnaW4pLiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3ggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9zeV0gVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbiAoZGVmYXVsdHMgdG8gc3gpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3B0X2FuY2hvcl0gVGhlIHNjYWxlIG9yaWdpbiAoZGVmYXVsdHMgdG8gdGhlIGNlbnRlclxuICAgICAqICAgICBvZiB0aGUgZ2VvbWV0cnkgZXh0ZW50KS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHN4LCBvcHRfc3ksIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIHN5ID0gb3B0X3N5O1xuICAgICAgICBpZiAoc3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3kgPSBzeDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvcjtcbiAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IGdldENlbnRlcih0aGlzLmdldEV4dGVudCgpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgaWYgKGZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IHRoaXMuZ2V0U3RyaWRlKCk7XG4gICAgICAgICAgICBzY2FsZShmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgc3gsIHN5LCBhbmNob3IsIGZsYXRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIHRoZSBnZW9tZXRyeS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5IGNvb3JkaW5hdGVzIGluIHBsYWNlLiAgSWZcbiAgICAgKiBpbnN0ZWFkIHlvdSB3YW50IGEgbmV3IGdlb21ldHJ5LCBmaXJzdCBgY2xvbmUoKWAgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFYIERlbHRhIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWSBEZWx0YSBZLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZShmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgZGVsdGFYLCBkZWx0YVksIGZsYXRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZUdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gbGF5b3V0IExheW91dC5cbiAqL1xuZnVuY3Rpb24gZ2V0TGF5b3V0Rm9yU3RyaWRlKHN0cmlkZSkge1xuICAgIHZhciBsYXlvdXQ7XG4gICAgaWYgKHN0cmlkZSA9PSAyKSB7XG4gICAgICAgIGxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdHJpZGUgPT0gMykge1xuICAgICAgICBsYXlvdXQgPSBHZW9tZXRyeUxheW91dC5YWVo7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0cmlkZSA9PSA0KSB7XG4gICAgICAgIGxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZWk07XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gKi8gKGxheW91dCk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBsYXlvdXQgTGF5b3V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KSB7XG4gICAgdmFyIHN0cmlkZTtcbiAgICBpZiAobGF5b3V0ID09IEdlb21ldHJ5TGF5b3V0LlhZKSB7XG4gICAgICAgIHN0cmlkZSA9IDI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheW91dCA9PSBHZW9tZXRyeUxheW91dC5YWVogfHwgbGF5b3V0ID09IEdlb21ldHJ5TGF5b3V0LlhZTSkge1xuICAgICAgICBzdHJpZGUgPSAzO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXlvdXQgPT0gR2VvbWV0cnlMYXlvdXQuWFlaTSkge1xuICAgICAgICBzdHJpZGUgPSA0O1xuICAgIH1cbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChzdHJpZGUpO1xufVxuLyoqXG4gKiBAcGFyYW0ge1NpbXBsZUdlb21ldHJ5fSBzaW1wbGVHZW9tZXRyeSBTaW1wbGUgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBmbGF0IGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtR2VvbTJEKHNpbXBsZUdlb21ldHJ5LCB0cmFuc2Zvcm0sIG9wdF9kZXN0KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHNpbXBsZUdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGlmICghZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHN0cmlkZSA9IHNpbXBsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIHRyYW5zZm9ybSwgb3B0X2Rlc3QpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZUdlb21ldHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ltcGxlR2VvbWV0cnkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jbG9zZXN0XG4gKi9cbmltcG9ydCB7IGxlcnAsIHNxdWFyZWREaXN0YW5jZSBhcyBzcXVhcmVkRHggfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbi8qKlxuICogUmV0dXJucyB0aGUgcG9pbnQgb24gdGhlIDJEIGxpbmUgc2VnbWVudCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV0gdG9cbiAqIGZsYXRDb29yZGluYXRlc1tvZmZzZXQyXSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIHBvaW50ICh4LCB5KS4gIEV4dHJhXG4gKiBkaW1lbnNpb25zIGFyZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDEgT2Zmc2V0IDEuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0MiBPZmZzZXQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICovXG5mdW5jdGlvbiBhc3NpZ25DbG9zZXN0KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0MSwgb2Zmc2V0Miwgc3RyaWRlLCB4LCB5LCBjbG9zZXN0UG9pbnQpIHtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyAxXTtcbiAgICB2YXIgZHggPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gLSB4MTtcbiAgICB2YXIgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIDFdIC0geTE7XG4gICAgdmFyIG9mZnNldDtcbiAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGxlcnAoZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyBpXSwgZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyBpXSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgICB9XG4gICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBzcXVhcmVkIG9mIHRoZSBsYXJnZXN0IGRpc3RhbmNlIGJldHdlZW4gYW55IHBhaXIgb2YgY29uc2VjdXRpdmVcbiAqIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KSB7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGZvciAob2Zmc2V0ICs9IHN0cmlkZTsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIHZhciBzcXVhcmVkRGVsdGEgPSBzcXVhcmVkRHgoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICBpZiAoc3F1YXJlZERlbHRhID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSBzcXVhcmVkRGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBtYXggPSBtYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBtYXg7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpQXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG1heCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgbWF4ID0gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gbWF4O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF90bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdFBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIG9wdF90bXBQb2ludCkge1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIHZhciBpLCBzcXVhcmVkRGlzdGFuY2U7XG4gICAgaWYgKG1heERlbHRhID09PSAwKSB7XG4gICAgICAgIC8vIEFsbCBwb2ludHMgYXJlIGlkZW50aWNhbCwgc28ganVzdCB0ZXN0IHRoZSBmaXJzdCBwb2ludC5cbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICB2YXIgaW5kZXggPSBvZmZzZXQgKyBzdHJpZGU7XG4gICAgd2hpbGUgKGluZGV4IDwgZW5kKSB7XG4gICAgICAgIGFzc2lnbkNsb3Nlc3QoZmxhdENvb3JkaW5hdGVzLCBpbmRleCAtIHN0cmlkZSwgaW5kZXgsIHN0cmlkZSwgeCwgeSwgdG1wUG9pbnQpO1xuICAgICAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgaW5kZXggKz0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU2tpcCBhaGVhZCBtdWx0aXBsZSBwb2ludHMsIGJlY2F1c2Ugd2Uga25vdyB0aGF0IGFsbCB0aGUgc2tpcHBlZFxuICAgICAgICAgICAgLy8gcG9pbnRzIGNhbm5vdCBiZSBhbnkgY2xvc2VyIHRoYW4gdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzb1xuICAgICAgICAgICAgLy8gZmFyLiAgV2Uga25vdyB0aGlzIGJlY2F1c2Ugd2Uga25vdyBob3cgY2xvc2UgdGhlIGN1cnJlbnQgcG9pbnQgaXMsIGhvd1xuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzbyBmYXIgaXMsIGFuZCB0aGUgbWF4aW11bVxuICAgICAgICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiBjb25zZWN1dGl2ZSBwb2ludHMuICBGb3IgZXhhbXBsZSwgaWYgd2UncmUgY3VycmVudGx5XG4gICAgICAgICAgICAvLyBhdCBkaXN0YW5jZSAxMCwgdGhlIGJlc3Qgd2UndmUgZm91bmQgc28gZmFyIGlzIDMsIGFuZCB0aGF0IHRoZSBtYXhpbXVtXG4gICAgICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cyBpcyAyLCB0aGVuIHdlJ2xsIG5lZWQgdG8gc2tpcCBhdFxuICAgICAgICAgICAgLy8gbGVhc3QgKDEwIC0gMykgLyAyID09IDMgKHJvdW5kZWQgZG93bikgcG9pbnRzIHRvIGhhdmUgYW55IGNoYW5jZSBvZlxuICAgICAgICAgICAgLy8gZmluZGluZyBhIGNsb3NlciBwb2ludC4gIFdlIHVzZSBNYXRoLm1heCguLi4sIDEpIHRvIGVuc3VyZSB0aGF0IHdlXG4gICAgICAgICAgICAvLyBhbHdheXMgYWR2YW5jZSBhdCBsZWFzdCBvbmUgcG9pbnQsIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAgICAgICBpbmRleCArPVxuICAgICAgICAgICAgICAgIHN0cmlkZSAqXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KCgoTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSkgLSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RGVsdGEpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JpbmcpIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhlIGNsb3Npbmcgc2VnbWVudC5cbiAgICAgICAgYXNzaWduQ2xvc2VzdChmbGF0Q29vcmRpbmF0ZXMsIGVuZCAtIHN0cmlkZSwgb2Zmc2V0LCBzdHJpZGUsIHgsIHksIHRtcFBvaW50KTtcbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIHRtcFBvaW50WzBdLCB0bXBQb2ludFsxXSk7XG4gICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IHRtcFBvaW50W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF90bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIG9wdF90bXBQb2ludCkge1xuICAgIHZhciB0bXBQb2ludCA9IG9wdF90bXBQb2ludCA/IG9wdF90bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgdG1wUG9pbnQpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X3RtcFBvaW50XSBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgb3B0X3RtcFBvaW50KSB7XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLCB0bXBQb2ludCk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsb3Nlc3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9kZWZsYXRlXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGUsIHN0cmlkZSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gY29vcmRpbmF0ZVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgY29vcmRpbmF0ZSA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0cmlkZTsgKytqKSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gY29vcmRpbmF0ZVtqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBjb29yZGluYXRlc3MgQ29vcmRpbmF0ZXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRfZW5kc10gRW5kcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEVuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXNzLCBzdHJpZGUsIG9wdF9lbmRzKSB7XG4gICAgdmFyIGVuZHMgPSBvcHRfZW5kcyA/IG9wdF9lbmRzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBlbmQgPSBkZWZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGVzc1tqXSwgc3RyaWRlKTtcbiAgICAgICAgZW5kc1tpKytdID0gZW5kO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGVuZHMubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gZW5kcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IGNvb3JkaW5hdGVzc3MgQ29vcmRpbmF0ZXNzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gW29wdF9lbmRzc10gRW5kc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gRW5kc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlc3NzLCBzdHJpZGUsIG9wdF9lbmRzcykge1xuICAgIHZhciBlbmRzcyA9IG9wdF9lbmRzcyA/IG9wdF9lbmRzcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBjb29yZGluYXRlc3NzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXNzc1tqXSwgc3RyaWRlLCBlbmRzc1tpXSk7XG4gICAgICAgIGVuZHNzW2krK10gPSBlbmRzO1xuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGVuZHNzLmxlbmd0aCA9IGk7XG4gICAgcmV0dXJuIGVuZHNzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5XG4gKi9cbi8vIEJhc2VkIG9uIHNpbXBsaWZ5LWpzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3NpbXBsaWZ5LWpzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTIsIFZsYWRpbWlyIEFnYWZvbmtpblxuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuLy9cbi8vICAgIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbi8vICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gICAgMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbi8vICAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbi8vIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbi8vIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4vLyBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4vLyBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4vLyBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuLy8gU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4vLyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuLy8gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbi8vIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4vLyBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbmltcG9ydCB7IHNxdWFyZWREaXN0YW5jZSwgc3F1YXJlZFNlZ21lbnREaXN0YW5jZSB9IGZyb20gJy4uLy4uL21hdGguanMnO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhpZ2hRdWFsaXR5IEhpZ2hlc3QgcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzXSBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNpbXBsaWZpZWQgbGluZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeUxpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBoaWdoUXVhbGl0eSwgb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IG9wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1xuICAgICAgICA6IFtdO1xuICAgIGlmICghaGlnaFF1YWxpdHkpIHtcbiAgICAgICAgZW5kID0gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgc3RyaWRlID0gMjtcbiAgICB9XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgIHJldHVybiBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgICB2YXIgbiA9IChlbmQgLSBvZmZzZXQpIC8gc3RyaWRlO1xuICAgIGlmIChuIDwgMykge1xuICAgICAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICAgIH1cbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgdmFyIG1hcmtlcnMgPSBuZXcgQXJyYXkobik7XG4gICAgbWFya2Vyc1swXSA9IDE7XG4gICAgbWFya2Vyc1tuIC0gMV0gPSAxO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICB2YXIgc3RhY2sgPSBbb2Zmc2V0LCBlbmQgLSBzdHJpZGVdO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGxhc3QgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpcnN0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBtYXhTcXVhcmVkRGlzdGFuY2UgPSAwO1xuICAgICAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3RdO1xuICAgICAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3QgKyAxXTtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2xhc3RdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbbGFzdCArIDFdO1xuICAgICAgICBmb3IgKHZhciBpID0gZmlyc3QgKyBzdHJpZGU7IGkgPCBsYXN0OyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdmFyIHggPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgc3F1YXJlZERpc3RhbmNlXzEgPSBzcXVhcmVkU2VnbWVudERpc3RhbmNlKHgsIHksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2VfMSA+IG1heFNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBtYXhTcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2VfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4U3F1YXJlZERpc3RhbmNlID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgbWFya2Vyc1soaW5kZXggLSBvZmZzZXQpIC8gc3RyaWRlXSA9IDE7XG4gICAgICAgICAgICBpZiAoZmlyc3QgKyBzdHJpZGUgPCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goZmlyc3QsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCArIHN0cmlkZSA8IGxhc3QpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGluZGV4LCBsYXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAobWFya2Vyc1tpXSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSAqIHN0cmlkZV07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpICogc3RyaWRlICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kc3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgICAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gICAgaWYgKGVuZCA8PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAgICAgLy8gemVybyBvciBvbmUgcG9pbnQsIG5vIHNpbXBsaWZpY2F0aW9uIHBvc3NpYmxlLCBzbyBjb3B5IGFuZCByZXR1cm5cbiAgICAgICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICB9XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIC8vIGNvcHkgZmlyc3QgcG9pbnRcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgICB2YXIgeDIgPSB4MTtcbiAgICB2YXIgeTIgPSB5MTtcbiAgICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5MikgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAvLyBjb3B5IHBvaW50IGF0IG9mZnNldFxuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgICB5MSA9IHkyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh4MiAhPSB4MSB8fCB5MiAhPSB5MSkge1xuICAgICAgICAvLyBjb3B5IGxhc3QgcG9pbnRcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJvdW5kZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmFwKHZhbHVlLCB0b2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdG9sZXJhbmNlICogTWF0aC5yb3VuZCh2YWx1ZSAvIHRvbGVyYW5jZSk7XG59XG4vKipcbiAqIFNpbXBsaWZpZXMgYSBsaW5lIHN0cmluZyB1c2luZyBhbiBhbGdvcml0aG0gZGVzaWduZWQgYnkgVGltIFNjaGF1Yi5cbiAqIENvb3JkaW5hdGVzIGFyZSBzbmFwcGVkIHRvIHRoZSBuZWFyZXN0IHZhbHVlIGluIGEgdmlydHVhbCBncmlkIGFuZFxuICogY29uc2VjdXRpdmUgZHVwbGljYXRlIGNvb3JkaW5hdGVzIGFyZSBkaXNjYXJkZWQuICBUaGlzIGVmZmVjdGl2ZWx5IHByZXNlcnZlc1xuICogdG9wb2xvZ3kgYXMgdGhlIHNpbXBsaWZpY2F0aW9uIG9mIGFueSBzdWJzZWN0aW9uIG9mIGEgbGluZSBzdHJpbmcgaXNcbiAqIGluZGVwZW5kZW50IG9mIHRoZSByZXN0IG9mIHRoZSBsaW5lIHN0cmluZy4gIFRoaXMgbWVhbnMgdGhhdCwgZm9yIGV4YW1wbGVzLFxuICogdGhlIGNvbW1vbiBlZGdlIGJldHdlZW4gdHdvIHBvbHlnb25zIHdpbGwgYmUgc2ltcGxpZmllZCB0byB0aGUgc2FtZSBsaW5lXG4gKiBzdHJpbmcgaW5kZXBlbmRlbnRseSBpbiBib3RoIHBvbHlnb25zLiAgVGhpcyBpbXBsZW1lbnRhdGlvbiB1c2VzIGEgc2luZ2xlXG4gKiBwYXNzIG92ZXIgdGhlIGNvb3JkaW5hdGVzIGFuZCBlbGltaW5hdGVzIGludGVybWVkaWF0ZSBjb2xsaW5lYXIgcG9pbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0b2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBsaW5lIGlzIGVtcHR5XG4gICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgfVxuICAgIC8vIHNuYXAgdGhlIGZpcnN0IGNvb3JkaW5hdGUgKFAxKVxuICAgIHZhciB4MSA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgdmFyIHkxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAvLyBhZGQgdGhlIGZpcnN0IGNvb3JkaW5hdGUgdG8gdGhlIG91dHB1dFxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkxO1xuICAgIC8vIGZpbmQgdGhlIG5leHQgY29vcmRpbmF0ZSB0aGF0IGRvZXMgbm90IHNuYXAgdG8gdGhlIHNhbWUgdmFsdWUgYXMgdGhlIGZpcnN0XG4gICAgLy8gY29vcmRpbmF0ZSAoUDIpXG4gICAgdmFyIHgyLCB5MjtcbiAgICBkbyB7XG4gICAgICAgIHgyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICAgICAgeTIgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgICAgIC8vIGFsbCBjb29yZGluYXRlcyBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlLCB0aGUgbGluZSBjb2xsYXBzZXMgdG8gYSBwb2ludFxuICAgICAgICAgICAgLy8gcHVzaCB0aGUgbGFzdCBzbmFwcGVkIHZhbHVlIGFueXdheSB0byBlbnN1cmUgdGhhdCB0aGUgb3V0cHV0IGNvbnRhaW5zXG4gICAgICAgICAgICAvLyBhdCBsZWFzdCB0d28gcG9pbnRzXG4gICAgICAgICAgICAvLyBGSVhNRSBzaG91bGQgd2UgcmVhbGx5IHJldHVybiBhdCBsZWFzdCB0d28gcG9pbnRzIGFueXdheT9cbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKHgyID09IHgxICYmIHkyID09IHkxKTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kKSB7XG4gICAgICAgIC8vIHNuYXAgdGhlIG5leHQgY29vcmRpbmF0ZSAoUDMpXG4gICAgICAgIHZhciB4MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgICAgIHZhciB5MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgICAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgICAgICAvLyBza2lwIFAzIGlmIGl0IGlzIGVxdWFsIHRvIFAyXG4gICAgICAgIGlmICh4MyA9PSB4MiAmJiB5MyA9PSB5Mikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAxIGFuZCBQMlxuICAgICAgICB2YXIgZHgxID0geDIgLSB4MTtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMyBhbmQgUDFcbiAgICAgICAgdmFyIGR4MiA9IHgzIC0geDE7XG4gICAgICAgIHZhciBkeTIgPSB5MyAtIHkxO1xuICAgICAgICAvLyBpZiBQMSwgUDIsIGFuZCBQMyBhcmUgY29saW5lYXIgYW5kIFAzIGlzIGZ1cnRoZXIgZnJvbSBQMSB0aGFuIFAyIGlzIGZyb21cbiAgICAgICAgLy8gUDEgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIHRoZW4gUDIgaXMgb24gdGhlIHN0cmFpZ2h0IGxpbmUgYmV0d2VlbiBQMSBhbmRcbiAgICAgICAgLy8gUDNcbiAgICAgICAgaWYgKGR4MSAqIGR5MiA9PSBkeTEgKiBkeDIgJiZcbiAgICAgICAgICAgICgoZHgxIDwgMCAmJiBkeDIgPCBkeDEpIHx8IGR4MSA9PSBkeDIgfHwgKGR4MSA+IDAgJiYgZHgyID4gZHgxKSkgJiZcbiAgICAgICAgICAgICgoZHkxIDwgMCAmJiBkeTIgPCBkeTEpIHx8IGR5MSA9PSBkeTIgfHwgKGR5MSA+IDAgJiYgZHkyID4gZHkxKSkpIHtcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgUDIgYW5kIHNldCBQMiA9IFAzXG4gICAgICAgICAgICB4MiA9IHgzO1xuICAgICAgICAgICAgeTIgPSB5MztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVpdGhlciBQMSwgUDIsIGFuZCBQMyBhcmUgbm90IGNvbGluZWFyLCBvciB0aGV5IGFyZSBjb2xpbmVhciBidXQgUDMgaXNcbiAgICAgICAgLy8gYmV0d2VlbiBQMyBhbmQgUDEgb3Igb24gdGhlIG9wcG9zaXRlIGhhbGYgb2YgdGhlIGxpbmUgdG8gUDIuICBhZGQgUDIsXG4gICAgICAgIC8vIGFuZCBjb250aW51ZSB3aXRoIFAxID0gUDIgYW5kIFAyID0gUDNcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgICAgICB4MiA9IHgzO1xuICAgICAgICB5MiA9IHkzO1xuICAgIH1cbiAgICAvLyBhZGQgdGhlIGxhc3QgcG9pbnQgKFAyKVxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICAgICAgc2ltcGxpZmllZEVuZHMucHVzaChzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBzaW1wbGlmaWVkRW5kc3MgU2ltcGxpZmllZCBlbmRzcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZU11bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIHRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHNzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbXBsaWZ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW5mbGF0ZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IFtvcHRfY29vcmRpbmF0ZXNdIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBvcHRfY29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICBjb29yZGluYXRlc1tpKytdID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGosIGogKyBzdHJpZGUpO1xuICAgIH1cbiAgICBjb29yZGluYXRlcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IFtvcHRfY29vcmRpbmF0ZXNzXSBDb29yZGluYXRlc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gQ29vcmRpbmF0ZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzcykge1xuICAgIHZhciBjb29yZGluYXRlc3MgPSBvcHRfY29vcmRpbmF0ZXNzICE9PSB1bmRlZmluZWQgPyBvcHRfY29vcmRpbmF0ZXNzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tqXTtcbiAgICAgICAgY29vcmRpbmF0ZXNzW2krK10gPSBpbmZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjb29yZGluYXRlc3NbaV0pO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGNvb3JkaW5hdGVzcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlc3M7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gW29wdF9jb29yZGluYXRlc3NzXVxuICogICAgIENvb3JkaW5hdGVzc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IENvb3JkaW5hdGVzc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXNzcykge1xuICAgIHZhciBjb29yZGluYXRlc3NzID0gb3B0X2Nvb3JkaW5hdGVzc3MgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlc3NzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHNzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tqXTtcbiAgICAgICAgY29vcmRpbmF0ZXNzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgY29vcmRpbmF0ZXNzc1tpXSk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZXNzcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlc3NzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2FyZWFcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgdHdpY2VBcmVhID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB0d2ljZUFyZWEgKz0geTEgKiB4MiAtIHgxICogeTI7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiB0d2ljZUFyZWEgLyAyO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIGFyZWEgKz0gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBhcmVhO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlKSB7XG4gICAgdmFyIGFyZWEgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgYXJlYSArPSBsaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZWEuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0xpbmVhclJpbmdcbiAqL1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQgeyBhc3NpZ25DbG9zZXN0UG9pbnQsIG1heFNxdWFyZWREZWx0YSB9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZsYXRlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBkb3VnbGFzUGV1Y2tlciB9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5pbXBvcnQgeyBpbmZsYXRlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nIGFzIGxpbmVhclJpbmdBcmVhIH0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMaW5lYXIgcmluZyBnZW9tZXRyeS4gT25seSB1c2VkIGFzIHBhcnQgb2YgcG9seWdvbjsgY2Fubm90IGJlIHJlbmRlcmVkXG4gKiBvbiBpdHMgb3duLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIExpbmVhclJpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpbmVhclJpbmcsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqICAgICBGb3IgaW50ZXJuYWwgdXNlLCBmbGF0IGNvb3JkaW5hdGVzIGluIGNvbWJpbmF0aW9uIHdpdGggYG9wdF9sYXlvdXRgIGFyZSBhbHNvIGFjY2VwdGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBbb3B0X2xheW91dF0gTGF5b3V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpbmVhclJpbmcoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YV8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuICAgICAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldENvb3JkaW5hdGVzKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqLyAoY29vcmRpbmF0ZXMpLCBvcHRfbGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHshTGluZWFyUmluZ30gQ2xvbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQobWF4U3F1YXJlZERlbHRhKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHRoaXMuc3RyaWRlLCAwKSk7XG4gICAgICAgICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NpZ25DbG9zZXN0UG9pbnQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIHRoaXMubWF4RGVsdGFfLCB0cnVlLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIGxpbmVhciByaW5nIG9uIHByb2plY3RlZCBwbGFuZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5nQXJlYSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXModGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7TGluZWFyUmluZ30gU2ltcGxpZmllZCBMaW5lYXJSaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5MSU5FQVJfUklORztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICAgKiBAcGFyYW0geyFBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gW29wdF9sYXlvdXRdIExheW91dC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdGhpcy5zZXRMYXlvdXQob3B0X2xheW91dCwgY29vcmRpbmF0ZXMsIDEpO1xuICAgICAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRlZmxhdGVDb29yZGluYXRlcyh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGluZWFyUmluZztcbn0oU2ltcGxlR2VvbWV0cnkpKTtcbmV4cG9ydCBkZWZhdWx0IExpbmVhclJpbmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lYXJSaW5nLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2ludFxuICovXG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7IGNvbnRhaW5zWFksIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmbGF0ZUNvb3JkaW5hdGUgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4IH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvaW50IGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb2ludCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IFtvcHRfbGF5b3V0XSBMYXlvdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHshUG9pbnR9IENsb25lLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludCA9IG5ldyBQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gICAgICAgIHBvaW50LmFwcGx5UHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgICAgICB2YXIgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIGZsYXRDb29yZGluYXRlc1swXSwgZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IHRoaXMuc3RyaWRlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICAgICAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPyBbXSA6IHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNvbXB1dGVFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBleHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBHZW9tZXRyeVR5cGUuUE9JTlQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBjb250YWluc1hZKGV4dGVudCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMF0sIHRoaXMuZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUFycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gW29wdF9sYXlvdXRdIExheW91dC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgICAgIHRoaXMuc2V0TGF5b3V0KG9wdF9sYXlvdXQsIGNvb3JkaW5hdGVzLCAwKTtcbiAgICAgICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkZWZsYXRlQ29vcmRpbmF0ZSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnQ7XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5leHBvcnQgZGVmYXVsdCBQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY29udGFpbnNcbiAqL1xuaW1wb3J0IHsgZm9yRWFjaENvcm5lciB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgICB2YXIgb3V0c2lkZSA9IGZvckVhY2hDb3JuZXIoZXh0ZW50LCBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gIWxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICFvdXRzaWRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHgsIHkpIHtcbiAgICAvLyBodHRwczovL2dlb21hbGdvcml0aG1zLmNvbS9hMDMtX2luY2x1c2lvbi5odG1sXG4gICAgLy8gQ29weXJpZ2h0IDIwMDAgc29mdFN1cmZlciwgMjAxMiBEYW4gU3VuZGF5XG4gICAgLy8gVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gICAgLy8gcHJvdmlkaW5nIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIGlzIGluY2x1ZGVkIHdpdGggaXQuXG4gICAgLy8gU29mdFN1cmZlciBtYWtlcyBubyB3YXJyYW50eSBmb3IgdGhpcyBjb2RlLCBhbmQgY2Fubm90IGJlIGhlbGRcbiAgICAvLyBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICAgIC8vIFVzZXJzIG9mIHRoaXMgY29kZSBtdXN0IHZlcmlmeSBjb3JyZWN0bmVzcyBmb3IgdGhlaXIgYXBwbGljYXRpb24uXG4gICAgdmFyIHduID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICBpZiAoeTEgPD0geSkge1xuICAgICAgICAgICAgaWYgKHkyID4geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpID4gMCkge1xuICAgICAgICAgICAgICAgIHduKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeTIgPD0geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpIDwgMCkge1xuICAgICAgICAgICAgd24tLTtcbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gd24gIT09IDA7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSB7XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAxLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCB4LCB5KSB7XG4gICAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250YWlucy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnRcbiAqL1xuaW1wb3J0IHsgY29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRGbGF0Q29vcmRpbmF0ZXMsIGludGVyc2VjdHMsIGludGVyc2VjdHNTZWdtZW50LCB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoIGFzIGZvckVhY2hTZWdtZW50IH0gZnJvbSAnLi9zZWdtZW50cy5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQsIGxpbmVhclJpbmdDb250YWluc1hZIH0gZnJvbSAnLi9jb250YWlucy5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIHZhciBjb29yZGluYXRlc0V4dGVudCA9IGV4dGVuZEZsYXRDb29yZGluYXRlcyhjcmVhdGVFbXB0eSgpLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIGlmICghaW50ZXJzZWN0cyhleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjb250YWluc0V4dGVudChleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVzRXh0ZW50WzBdID49IGV4dGVudFswXSAmJiBjb29yZGluYXRlc0V4dGVudFsyXSA8PSBleHRlbnRbMl0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlc0V4dGVudFsxXSA+PSBleHRlbnRbMV0gJiYgY29vcmRpbmF0ZXNFeHRlbnRbM10gPD0gZXh0ZW50WzNdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm9yRWFjaFNlZ21lbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQxIFN0YXJ0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludDIgRW5kIHBvaW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgc2VnbWVudCBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QsXG4gICAgICogICAgIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChwb2ludDEsIHBvaW50Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0c1NlZ21lbnQoZXh0ZW50LCBwb2ludDEsIHBvaW50Mik7XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbaV0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMF0sIGV4dGVudFsxXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFswXSwgZXh0ZW50WzNdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzJdLCBleHRlbnRbMV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMl0sIGV4dGVudFszXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZXh0ZW50KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdDb250YWluc0V4dGVudChmbGF0Q29vcmRpbmF0ZXMsIGVuZHNbaSAtIDFdLCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIGlmICghaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmdNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIGlmIChpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0c2V4dGVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NlZ21lbnRzXG4gKi9cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIHNlZ21lbnQgb2YgdGhlIGZsYXQgY29vcmRpbmF0ZXNcbiAqIGFycmF5LiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0XG4gKiB2YWx1ZSBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFR9IGNhbGxiYWNrIEZ1bmN0aW9uXG4gKiAgICAgY2FsbGVkIGZvciBlYWNoIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtUfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjYWxsYmFjaykge1xuICAgIHZhciByZXQ7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgIHJldCA9IGNhbGxiYWNrKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQgLSBzdHJpZGUsIG9mZnNldCksIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIG9mZnNldCArIHN0cmlkZSkpO1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlZ21lbnRzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvcmV2ZXJzZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV0gPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV07XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV0gPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgZW5kIC09IHN0cmlkZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXZlcnNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvb3JpZW50XG4gKi9cbmltcG9ydCB7IGNvb3JkaW5hdGVzIGFzIHJldmVyc2VDb29yZGluYXRlcyB9IGZyb20gJy4vcmV2ZXJzZS5qcyc7XG4vKipcbiAqIElzIHRoZSBsaW5lYXIgcmluZyBvcmllbnRlZCBjbG9ja3dpc2UgaW4gYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgYm90dG9tLWxlZnRcbiAqIGNvb3JkaW5hdGUgb3JpZ2luPyBGb3IgYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgdG9wLWxlZnQgY29vcmRpbmF0ZSBvcmlnaW4sXG4gKiB0aGUgcmluZydzIG9yaWVudGF0aW9uIGlzIGNsb2Nrd2lzZSB3aGVuIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBmYWxzZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBjbG9ja3dpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzExNjU2NDcvY2xvY2t3aXNlLW1ldGhvZCMxMTY1OTQzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL09TR2VvL2dkYWwvYmxvYi9tYXN0ZXIvZ2RhbC9vZ3Ivb2dybGluZWFycmluZy5jcHBcbiAgICB2YXIgZWRnZSA9IDA7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgZWRnZSArPSAoeDIgLSB4MSkgKiAoeTIgKyB5MSk7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiBlZGdlID09PSAwID8gdW5kZWZpbmVkIDogZWRnZSA+IDA7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgQXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yaWdodF0gVGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvblxuICogICAgIChjb3VudGVyLWNsb2Nrd2lzZSBleHRlcmlvciByaW5nIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmluZ3MgYXJlIGNvcnJlY3RseSBvcmllbnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgdmFyIHJpZ2h0ID0gb3B0X3JpZ2h0ICE9PSB1bmRlZmluZWQgPyBvcHRfcmlnaHQgOiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIHZhciBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0X3JpZ2h0XSBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaWYgKCFsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0X3JpZ2h0XSBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIHZhciByaWdodCA9IG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkID8gb3B0X3JpZ2h0IDogZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICB2YXIgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICAgICAgdmFyIHJldmVyc2UgPSBpID09PSAwXG4gICAgICAgICAgICA/IChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpXG4gICAgICAgICAgICA6IChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpO1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgcmV2ZXJzZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xufVxuLyoqXG4gKiBPcmllbnQgY29vcmRpbmF0ZXMgaW4gYSBmbGF0IGFycmF5IG9mIGxpbmVhciByaW5ncy4gIEJ5IGRlZmF1bHQsIHJpbmdzXG4gKiBhcmUgb3JpZW50ZWQgZm9sbG93aW5nIHRoZSBsZWZ0LWhhbmQgcnVsZSAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmRcbiAqIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBUbyBvcmllbnQgYWNjb3JkaW5nIHRvIHRoZVxuICogcmlnaHQtaGFuZCBydWxlLCB1c2UgdGhlIGBvcHRfcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEFycmF5IG9mIGFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfcmlnaHRdIEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3NBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBvZmZzZXQgPSBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgb3B0X3JpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9yaWVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vUG9seWdvblxuICovXG5pbXBvcnQgR2VvbWV0cnlMYXlvdXQgZnJvbSAnLi9HZW9tZXRyeUxheW91dC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBMaW5lYXJSaW5nIGZyb20gJy4vTGluZWFyUmluZy5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludC5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQgeyBhcnJheU1heFNxdWFyZWREZWx0YSwgYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQgfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFksIGdldENlbnRlciB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSB9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGdldEludGVyaW9yUG9pbnRPZkFycmF5IH0gZnJvbSAnLi9mbGF0L2ludGVyaW9ycG9pbnQuanMnO1xuaW1wb3J0IHsgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkgfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5IH0gZnJvbSAnLi9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMnO1xuaW1wb3J0IHsgbGluZWFyUmluZ3NBcmVPcmllbnRlZCwgb3JpZW50TGluZWFyUmluZ3MgfSBmcm9tICcuL2ZsYXQvb3JpZW50LmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzIGFzIGxpbmVhclJpbmdzQXJlYSB9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzQ29udGFpbnNYWSB9IGZyb20gJy4vZmxhdC9jb250YWlucy5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7IHF1YW50aXplQXJyYXkgfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHsgb2Zmc2V0IGFzIHNwaGVyZU9mZnNldCB9IGZyb20gJy4uL3NwaGVyZS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvbHlnb24gZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG52YXIgUG9seWdvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9seWdvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PnwhQXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXNcbiAgICAgKiAgICAgQXJyYXkgb2YgbGluZWFyIHJpbmdzIHRoYXQgZGVmaW5lIHRoZSBwb2x5Z29uLiBUaGUgZmlyc3QgbGluZWFyIHJpbmcgb2YgdGhlXG4gICAgICogICAgIGFycmF5IGRlZmluZXMgdGhlIG91dGVyLWJvdW5kYXJ5IG9yIHN1cmZhY2Ugb2YgdGhlIHBvbHlnb24uIEVhY2ggc3Vic2VxdWVudFxuICAgICAqICAgICBsaW5lYXIgcmluZyBkZWZpbmVzIGEgaG9sZSBpbiB0aGUgc3VyZmFjZSBvZiB0aGUgcG9seWdvbi4gQSBsaW5lYXIgcmluZyBpc1xuICAgICAqICAgICBhbiBhcnJheSBvZiB2ZXJ0aWNlcycgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIGZpcnN0IGNvb3JkaW5hdGUgYW5kIHRoZSBsYXN0IGFyZVxuICAgICAqICAgICBlcXVpdmFsZW50LiAoRm9yIGludGVybmFsIHVzZSwgZmxhdCBjb29yZGluYXRlcyBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAgICogICAgIGBvcHRfbGF5b3V0YCBhbmQgYG9wdF9lbmRzYCBhcmUgYWxzbyBhY2NlcHRlZC4pXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IFtvcHRfbGF5b3V0XSBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X2VuZHNdIEVuZHMgKGZvciBpbnRlcm5hbCB1c2Ugd2l0aCBmbGF0IGNvb3JkaW5hdGVzKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2x5Z29uKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0LCBvcHRfZW5kcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmxhdEludGVyaW9yUG9pbnRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YV8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWVudGVkUmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRfbGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgb3B0X2VuZHMpIHtcbiAgICAgICAgICAgIF90aGlzLnNldEZsYXRDb29yZGluYXRlcyhvcHRfbGF5b3V0LCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgICAgICAgICBfdGhpcy5lbmRzXyA9IG9wdF9lbmRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuc2V0Q29vcmRpbmF0ZXMoXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSAqLyAoY29vcmRpbmF0ZXMpLCBvcHRfbGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCB0aGUgcGFzc2VkIGxpbmVhciByaW5nIHRvIHRoaXMgcG9seWdvbi5cbiAgICAgKiBAcGFyYW0ge0xpbmVhclJpbmd9IGxpbmVhclJpbmcgTGluZWFyIHJpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmFwcGVuZExpbmVhclJpbmcgPSBmdW5jdGlvbiAobGluZWFyUmluZykge1xuICAgICAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGxpbmVhclJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLmZsYXRDb29yZGluYXRlcywgbGluZWFyUmluZy5nZXRGbGF0Q29vcmRpbmF0ZXMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRzXy5wdXNoKHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4geyFQb2x5Z29ufSBDbG9uZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2x5Z29uID0gbmV3IFBvbHlnb24odGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQsIHRoaXMuZW5kc18uc2xpY2UoKSk7XG4gICAgICAgIHBvbHlnb24uYXBwbHlQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSh0aGlzLmdldEV4dGVudCgpLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KGFycmF5TWF4U3F1YXJlZERlbHRhKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgMCkpO1xuICAgICAgICAgICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCB0aGlzLm1heERlbHRhXywgdHJ1ZSwgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVhclJpbmdzQ29udGFpbnNYWSh0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCB4LCB5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgcG9seWdvbiBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChvbiBwcm9qZWN0ZWQgcGxhbmUpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRBcmVhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbGluZWFyUmluZ3NBcmVhKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb29yZGluYXRlIGFycmF5IGZvciB0aGlzIGdlb21ldHJ5LiAgVGhpcyBhcnJheSBoYXMgdGhlIHN0cnVjdHVyZVxuICAgICAqIG9mIGEgR2VvSlNPTiBjb29yZGluYXRlIGFycmF5IGZvciBwb2x5Z29ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yaWdodF0gT3JpZW50IGNvb3JkaW5hdGVzIGFjY29yZGluZyB0byB0aGUgcmlnaHQtaGFuZFxuICAgICAqICAgICBydWxlIChjb3VudGVyLWNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgICAqICAgICBJZiBgZmFsc2VgLCBjb29yZGluYXRlcyB3aWxsIGJlIG9yaWVudGVkIGFjY29yZGluZyB0byB0aGUgbGVmdC1oYW5kIHJ1bGVcbiAgICAgKiAgICAgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAgICogICAgIEJ5IGRlZmF1bHQsIGNvb3JkaW5hdGUgb3JpZW50YXRpb24gd2lsbCBkZXBlbmQgb24gaG93IHRoZSBnZW9tZXRyeSB3YXNcbiAgICAgKiAgICAgY29uc3RydWN0ZWQuXG4gICAgICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChvcHRfcmlnaHQpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcztcbiAgICAgICAgaWYgKG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgICAgICAgIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIG9wdF9yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEVuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnQuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0RmxhdEludGVyaW9yUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdmFyIGZsYXRDZW50ZXIgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgICAgICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIGZsYXRDZW50ZXIsIDApO1xuICAgICAgICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW50ZXJpb3IgcG9pbnQgb2YgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UG9pbnR9IEludGVyaW9yIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICAgICAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0SW50ZXJpb3JQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLmdldEZsYXRJbnRlcmlvclBvaW50KCksIEdlb21ldHJ5TGF5b3V0LlhZTSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiByaW5ncyBvZiB0aGUgcG9seWdvbiwgIHRoaXMgaW5jbHVkZXMgdGhlIGV4dGVyaW9yXG4gICAgICogcmluZyBhbmQgYW55IGludGVyaW9yIHJpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgcmluZ3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kc18ubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBOdGggbGluZWFyIHJpbmcgb2YgdGhlIHBvbHlnb24gZ2VvbWV0cnkuIFJldHVybiBgbnVsbGAgaWYgdGhlXG4gICAgICogZ2l2ZW4gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICAgICAqIFRoZSBleHRlcmlvciBsaW5lYXIgcmluZyBpcyBhdmFpbGFibGUgYXQgaW5kZXggYDBgIGFuZCB0aGUgaW50ZXJpb3IgcmluZ3NcbiAgICAgKiBhdCBpbmRleCBgMWAgYW5kIGJleW9uZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfSBMaW5lYXIgcmluZy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0TGluZWFyUmluZyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuZW5kc18ubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoaW5kZXggPT09IDAgPyAwIDogdGhpcy5lbmRzX1tpbmRleCAtIDFdLCB0aGlzLmVuZHNfW2luZGV4XSksIHRoaXMubGF5b3V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGluZWFyIHJpbmdzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PExpbmVhclJpbmc+fSBMaW5lYXIgcmluZ3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgdmFyIGVuZHMgPSB0aGlzLmVuZHNfO1xuICAgICAgICB2YXIgbGluZWFyUmluZ3MgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgbGluZWFyUmluZyA9IG5ldyBMaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIGVuZCksIGxheW91dCk7XG4gICAgICAgICAgICBsaW5lYXJSaW5ncy5wdXNoKGxpbmVhclJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5ncztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWVudGVkIGZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWVudGVkUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgICAgICAgICAgaWYgKGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18ubGVuZ3RoID0gb3JpZW50TGluZWFyUmluZ3ModGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18sIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7UG9seWdvbn0gU2ltcGxpZmllZCBQb2x5Z29uLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IHF1YW50aXplQXJyYXkodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBNYXRoLnNxcnQoc3F1YXJlZFRvbGVyYW5jZSksIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDAsIHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gR2VvbWV0cnlUeXBlLlBPTFlHT047XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24uXG4gICAgICogQHBhcmFtIHshQXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBbb3B0X2xheW91dF0gTGF5b3V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMik7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlLCB0aGlzLmVuZHNfKTtcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZW5kcy5sZW5ndGggPT09IDAgPyAwIDogZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBQb2x5Z29uO1xufShTaW1wbGVHZW9tZXRyeSkpO1xuZXhwb3J0IGRlZmF1bHQgUG9seWdvbjtcbi8qKlxuICogQ3JlYXRlIGFuIGFwcHJveGltYXRpb24gb2YgYSBjaXJjbGUgb24gdGhlIHN1cmZhY2Ugb2YgYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlciAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciB0b1xuICogICAgIHRoZSBwb2x5Z29uIHZlcnRpY2VzIGluIG1ldGVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X25dIE9wdGlvbmFsIG51bWJlciBvZiB2ZXJ0aWNlcyBmb3IgdGhlIHJlc3VsdGluZ1xuICogICAgIHBvbHlnb24uIERlZmF1bHQgaXMgYDMyYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3NwaGVyZVJhZGl1c10gT3B0aW9uYWwgcmFkaXVzIGZvciB0aGUgc3BoZXJlIChkZWZhdWx0cyB0b1xuICogICAgIHRoZSBFYXJ0aCdzIG1lYW4gcmFkaXVzIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQpLlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIFwiY2lyY3VsYXJcIiBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY3VsYXIoY2VudGVyLCByYWRpdXMsIG9wdF9uLCBvcHRfc3BoZXJlUmFkaXVzKSB7XG4gICAgdmFyIG4gPSBvcHRfbiA/IG9wdF9uIDogMzI7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBleHRlbmQoZmxhdENvb3JkaW5hdGVzLCBzcGhlcmVPZmZzZXQoY2VudGVyLCByYWRpdXMsICgyICogTWF0aC5QSSAqIGkpIC8gbiwgb3B0X3NwaGVyZVJhZGl1cykpO1xuICAgIH1cbiAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFksIFtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICBdKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgcG9seWdvbiBmcm9tIGFuIGV4dGVudC4gVGhlIGxheW91dCB1c2VkIGlzIGBYWWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXh0ZW50KGV4dGVudCkge1xuICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdO1xuICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1pblksXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1heFksXG4gICAgICAgIG1heFgsXG4gICAgICAgIG1heFksXG4gICAgICAgIG1heFgsXG4gICAgICAgIG1pblksXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1pblksXG4gICAgXTtcbiAgICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgW1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgIF0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZWd1bGFyIHBvbHlnb24gZnJvbSBhIGNpcmNsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIENpcmNsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3NpZGVzXSBOdW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHBvbHlnb24uIERlZmF1bHQgaXMgMzIuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9hbmdsZV0gU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ2lyY2xlKGNpcmNsZSwgb3B0X3NpZGVzLCBvcHRfYW5nbGUpIHtcbiAgICB2YXIgc2lkZXMgPSBvcHRfc2lkZXMgPyBvcHRfc2lkZXMgOiAzMjtcbiAgICB2YXIgc3RyaWRlID0gY2lyY2xlLmdldFN0cmlkZSgpO1xuICAgIHZhciBsYXlvdXQgPSBjaXJjbGUuZ2V0TGF5b3V0KCk7XG4gICAgdmFyIGNlbnRlciA9IGNpcmNsZS5nZXRDZW50ZXIoKTtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSBzdHJpZGUgKiAoc2lkZXMgKyAxKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbmV3IEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpICs9IHN0cmlkZSkge1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbaV0gPSAwO1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdID0gMDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDI7IGogPCBzdHJpZGU7IGorKykge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW2kgKyBqXSA9IGNlbnRlcltqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgbGF5b3V0LCBlbmRzKTtcbiAgICBtYWtlUmVndWxhcihwb2x5Z29uLCBjZW50ZXIsIGNpcmNsZS5nZXRSYWRpdXMoKSwgb3B0X2FuZ2xlKTtcbiAgICByZXR1cm4gcG9seWdvbjtcbn1cbi8qKlxuICogTW9kaWZ5IHRoZSBjb29yZGluYXRlcyBvZiBhIHBvbHlnb24gdG8gbWFrZSBpdCBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBQb2x5Z29uIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9hbmdsZV0gU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgcmFkaXVzLCBvcHRfYW5nbGUpIHtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbi5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gcG9seWdvbi5nZXRTdHJpZGUoKTtcbiAgICB2YXIgc2lkZXMgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlIC0gMTtcbiAgICB2YXIgc3RhcnRBbmdsZSA9IG9wdF9hbmdsZSA/IG9wdF9hbmdsZSA6IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2lkZXM7ICsraSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gaSAqIHN0cmlkZTtcbiAgICAgICAgdmFyIGFuZ2xlID0gc3RhcnRBbmdsZSArIChtb2R1bG8oaSwgc2lkZXMpICogMiAqIE1hdGguUEkpIC8gc2lkZXM7XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdID0gY2VudGVyWzBdICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gPSBjZW50ZXJbMV0gKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgfVxuICAgIHBvbHlnb24uY2hhbmdlZCgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnRcbiAqL1xuaW1wb3J0IHsgbGluZWFyUmluZ3NDb250YWluc1hZIH0gZnJvbSAnLi9jb250YWlucy5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuLyoqXG4gKiBDYWxjdWxhdGVzIGEgcG9pbnQgdGhhdCBpcyBsaWtlbHkgdG8gbGllIGluIHRoZSBpbnRlcmlvciBvZiB0aGUgbGluZWFyIHJpbmdzLlxuICogSW5zcGlyZWQgYnkgSlRTJ3MgY29tLnZpdmlkc29sdXRpb25zLmp0cy5nZW9tLkdlb21ldHJ5I2dldEludGVyaW9yUG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhdENlbnRlcnNPZmZzZXQgRmxhdCBjZW50ZXIgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0X2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGVzdGluYXRpb24gcG9pbnQgYXMgWFlNIGNvb3JkaW5hdGUsIHdoZXJlIE0gaXMgdGhlXG4gKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBmbGF0Q2VudGVycywgZmxhdENlbnRlcnNPZmZzZXQsIG9wdF9kZXN0KSB7XG4gICAgdmFyIGksIGlpLCB4LCB4MSwgeDIsIHkxLCB5MjtcbiAgICB2YXIgeSA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0ICsgMV07XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25zID0gW107XG4gICAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbnMgd2l0aCB0aGUgaG9yaXpvbnRhbCBsaW5lXG4gICAgZm9yICh2YXIgciA9IDAsIHJyID0gZW5kcy5sZW5ndGg7IHIgPCBycjsgKytyKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW3JdO1xuICAgICAgICB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICAgICAgICB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgICAgICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoKHkgPD0geTEgJiYgeTIgPD0geSkgfHwgKHkxIDw9IHkgJiYgeSA8PSB5MikpIHtcbiAgICAgICAgICAgICAgICB4ID0gKCh5IC0geTEpIC8gKHkyIC0geTEpKSAqICh4MiAtIHgxKSArIHgxO1xuICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgICB5MSA9IHkyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGxvbmdlc3Qgc2VnbWVudCBvZiB0aGUgaG9yaXpvbnRhbCBsaW5lIHRoYXQgaGFzIGl0cyBjZW50ZXIgcG9pbnRcbiAgICAvLyBpbnNpZGUgdGhlIGxpbmVhciByaW5nLlxuICAgIHZhciBwb2ludFggPSBOYU47XG4gICAgdmFyIG1heFNlZ21lbnRMZW5ndGggPSAtSW5maW5pdHk7XG4gICAgaW50ZXJzZWN0aW9ucy5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICAgIHgxID0gaW50ZXJzZWN0aW9uc1swXTtcbiAgICBmb3IgKGkgPSAxLCBpaSA9IGludGVyc2VjdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB4MiA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgICAgIHZhciBzZWdtZW50TGVuZ3RoID0gTWF0aC5hYnMoeDIgLSB4MSk7XG4gICAgICAgIGlmIChzZWdtZW50TGVuZ3RoID4gbWF4U2VnbWVudExlbmd0aCkge1xuICAgICAgICAgICAgeCA9ICh4MSArIHgyKSAvIDI7XG4gICAgICAgICAgICBpZiAobGluZWFyUmluZ3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRYID0geDtcbiAgICAgICAgICAgICAgICBtYXhTZWdtZW50TGVuZ3RoID0gc2VnbWVudExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgIH1cbiAgICBpZiAoaXNOYU4ocG9pbnRYKSkge1xuICAgICAgICAvLyBUaGVyZSBpcyBubyBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludCBpbnNpZGUgdGhlIGxpbmVhclxuICAgICAgICAvLyByaW5nLiAgVXNlIHRoZSBjZW50ZXIgb2YgdGhlIHRoZSBsaW5lYXIgcmluZydzIGV4dGVudC5cbiAgICAgICAgcG9pbnRYID0gZmxhdENlbnRlcnNbZmxhdENlbnRlcnNPZmZzZXRdO1xuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QpIHtcbiAgICAgICAgb3B0X2Rlc3QucHVzaChwb2ludFgsIHksIG1heFNlZ21lbnRMZW5ndGgpO1xuICAgICAgICByZXR1cm4gb3B0X2Rlc3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW3BvaW50WCwgeSwgbWF4U2VnbWVudExlbmd0aF07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnRlcmlvciBwb2ludHMgYXMgWFlNIGNvb3JkaW5hdGVzLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIGZsYXRDZW50ZXJzKSB7XG4gICAgdmFyIGludGVyaW9yUG9pbnRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBpbnRlcmlvclBvaW50cyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGZsYXRDZW50ZXJzLCAyICogaSwgaW50ZXJpb3JQb2ludHMpO1xuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBpbnRlcmlvclBvaW50cztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyaW9ycG9pbnQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9WaWV3XG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCBWaWV3UHJvcGVydHkgZnJvbSAnLi9WaWV3UHJvcGVydHkuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9USUxFX1NJWkUgfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBNRVRFUlNfUEVSX1VOSVQsIGNyZWF0ZVByb2plY3Rpb24sIGZyb21Vc2VyQ29vcmRpbmF0ZSwgZnJvbVVzZXJFeHRlbnQsIGdldFVzZXJQcm9qZWN0aW9uLCB0b1VzZXJDb29yZGluYXRlLCB0b1VzZXJFeHRlbnQsIH0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhZGQgYXMgYWRkQ29vcmRpbmF0ZSwgZXF1YWxzIGFzIGNvb3JkaW5hdGVzRXF1YWwsIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLCB9IGZyb20gJy4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgbm9uZSBhcyBjZW50ZXJOb25lLCBjcmVhdGVFeHRlbnQgfSBmcm9tICcuL2NlbnRlcmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNaW5NYXhSZXNvbHV0aW9uIH0gZnJvbSAnLi9yZXNvbHV0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTbmFwVG9OLCBjcmVhdGVTbmFwVG9aZXJvLCBkaXNhYmxlLCBub25lIGFzIHJvdGF0aW9uTm9uZSwgfSBmcm9tICcuL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTbmFwVG9Qb3dlciwgY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMsIH0gZnJvbSAnLi9yZXNvbHV0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi9lYXNpbmcuanMnO1xuaW1wb3J0IHsgZXF1YWxzIH0gZnJvbSAnLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7IGdldENlbnRlciwgZ2V0Rm9yVmlld0FuZFNpemUsIGdldEhlaWdodCwgZ2V0V2lkdGgsIGlzRW1wdHksIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgaW5BbmRPdXQgfSBmcm9tICcuL2Vhc2luZy5qcyc7XG5pbXBvcnQgeyBsaW5lYXJGaW5kTmVhcmVzdCB9IGZyb20gJy4vYXJyYXkuanMnO1xuaW1wb3J0IHsgZnJvbUV4dGVudCBhcyBwb2x5Z29uRnJvbUV4dGVudCB9IGZyb20gJy4vZ2VvbS9Qb2x5Z29uLmpzJztcbi8qKlxuICogQW4gYW5pbWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtzb3VyY2VDZW50ZXJdIFNvdXJjZSBjZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbdGFyZ2V0Q2VudGVyXSBUYXJnZXQgY2VudGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzb3VyY2VSZXNvbHV0aW9uXSBTb3VyY2UgcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFyZ2V0UmVzb2x1dGlvbl0gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJvdGF0aW9uXSBTb3VyY2Ugcm90YXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJvdGF0aW9uXSBUYXJnZXQgcm90YXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBBbmNob3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnQgU3RhcnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvbXBsZXRlIENvbXBsZXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gZWFzaW5nIEVhc2luZy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6dm9pZH0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29uc3RyYWludHNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jZW50ZXJjb25zdHJhaW50LmpzXCIpLlR5cGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaXRPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBib3ggdG8gZml0XG4gKiB0aGUgZXh0ZW50IGludG8uIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgZmlyc3QgbWFwIGluIHRoZSBET00gdGhhdFxuICogdXNlcyB0aGlzIHZpZXcsIG9yIGBbMTAwLCAxMDBdYCBpZiBubyBzdWNoIG1hcCBpcyBmb3VuZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gcGl4ZWxzKSB0byBiZVxuICogY2xlYXJlZCBpbnNpZGUgdGhlIHZpZXcuIFZhbHVlcyBpbiB0aGUgYXJyYXkgYXJlIHRvcCwgcmlnaHQsIGJvdHRvbSBhbmQgbGVmdFxuICogcGFkZGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25lYXJlc3Q9ZmFsc2VdIElmIHRoZSB2aWV3IGBjb25zdHJhaW5SZXNvbHV0aW9uYCBvcHRpb24gaXMgYHRydWVgLFxuICogZ2V0IHRoZSBuZWFyZXN0IGV4dGVudCBpbnN0ZWFkIG9mIHRoZSBjbG9zZXN0IHRoYXQgYWN0dWFsbHkgZml0cyB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbj0wXSBNaW5pbXVtIHJlc29sdXRpb24gdGhhdCB3ZSB6b29tIHRvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgdGhhdCB3ZSB6b29tIHRvLiBJZlxuICogYG1pblJlc29sdXRpb25gIGlzIGdpdmVuLCB0aGlzIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBCeSBkZWZhdWx0LCB0aGVyZSBpcyBubyBhbmltYXRpb24gdG8gdGhlIHRhcmdldCBleHRlbnQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBbZWFzaW5nXSBUaGUgZWFzaW5nIGZ1bmN0aW9uIHVzZWQgZHVyaW5nXG4gKiB0aGUgYW5pbWF0aW9uIChkZWZhdWx0cyB0byB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZy5pbkFuZE91dH0pLlxuICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGZyYW1lIHdpdGggYSBudW1iZXIgcmVwcmVzZW50aW5nIGFcbiAqIGZyYWN0aW9uIG9mIHRoZSBhbmltYXRpb24ncyBkdXJhdGlvbi4gIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgbnVtYmVyXG4gKiBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyB0b3dhcmQgdGhlIGRlc3RpbmF0aW9uIHN0YXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKTp2b2lkfSBbY2FsbGJhY2tdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIGluXG4gKiBpdHMgZmluYWwgcG9zaXRpb24uIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGB0cnVlYCBpZiB0aGUgYW5pbWF0aW9uXG4gKiBzZXJpZXMgY29tcGxldGVkIG9uIGl0cyBvd24gb3IgYGZhbHNlYCBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZpZXdPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgaW5pdGlhbCBjZW50ZXIgZm9yXG4gKiB0aGUgdmlldy4gSWYgYSB1c2VyIHByb2plY3Rpb24gaXMgbm90IHNldCwgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGZvciB0aGUgY2VudGVyIGlzXG4gKiBzcGVjaWZpZWQgd2l0aCB0aGUgYHByb2plY3Rpb25gIG9wdGlvbi4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZSBmZXRjaGVkIGlmIHRoaXNcbiAqIGlzIG5vdCBzZXQsIGJ1dCB0aGUgY2VudGVyIGNhbiBiZSBzZXQgbGF0ZXIgd2l0aCB7QGxpbmsgI3NldENlbnRlcn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58bnVtYmVyfSBbY29uc3RyYWluUm90YXRpb249dHJ1ZV0gUm90YXRpb24gY29uc3RyYWludC5cbiAqIGBmYWxzZWAgbWVhbnMgbm8gY29uc3RyYWludC4gYHRydWVgIG1lYW5zIG5vIGNvbnN0cmFpbnQsIGJ1dCBzbmFwIHRvIHplcm9cbiAqIG5lYXIgemVyby4gQSBudW1iZXIgY29uc3RyYWlucyB0aGUgcm90YXRpb24gdG8gdGhhdCBudW1iZXIgb2YgdmFsdWVzLiBGb3JcbiAqIGV4YW1wbGUsIGA0YCB3aWxsIGNvbnN0cmFpbiB0aGUgcm90YXRpb24gdG8gMCwgOTAsIDE4MCwgYW5kIDI3MCBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZW5hYmxlUm90YXRpb249dHJ1ZV0gRW5hYmxlIHJvdGF0aW9uLlxuICogSWYgYGZhbHNlYCwgYSByb3RhdGlvbiBjb25zdHJhaW50IHRoYXQgYWx3YXlzIHNldHMgdGhlIHJvdGF0aW9uIHRvIHplcm8gaXNcbiAqIHVzZWQuIFRoZSBgY29uc3RyYWluUm90YXRpb25gIG9wdGlvbiBoYXMgbm8gZWZmZWN0IGlmIGBlbmFibGVSb3RhdGlvbmAgaXNcbiAqIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGV4dGVudCB0aGF0IGNvbnN0cmFpbnMgdGhlXG4gKiB2aWV3LCBpbiBvdGhlciB3b3Jkcywgbm90aGluZyBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50IGNhbiBiZSB2aXNpYmxlIG9uIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5Pbmx5Q2VudGVyPWZhbHNlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgb25seSBhcHBseSB0byB0aGUgdmlldyBjZW50ZXIgYW5kIG5vdCB0aGUgd2hvbGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc21vb3RoRXh0ZW50Q29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgYmUgYXBwbGllZCBzbW9vdGhseSwgaS5lLiBhbGxvdyB0aGUgdmlldyB0byBnbyBzbGlnaHRseSBvdXRzaWRlXG4gKiBvZiB0aGUgZ2l2ZW4gYGV4dGVudGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluUmVzb2x1dGlvbmAgKG9yXG4gKiBgbWF4Wm9vbWApIGFuZCBgem9vbUZhY3RvcmAuIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgaW4gc3VjaCBhIHdheVxuICogdGhhdCB0aGUgcHJvamVjdGlvbidzIHZhbGlkaXR5IGV4dGVudCBmaXRzIGluIGEgMjU2eDI1NiBweCB0aWxlLiBJZiB0aGVcbiAqIHByb2plY3Rpb24gaXMgU3BoZXJpY2FsIE1lcmNhdG9yICh0aGUgZGVmYXVsdCkgdGhlbiBgbWF4UmVzb2x1dGlvbmAgZGVmYXVsdHNcbiAqIHRvIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiA9IDE1NjU0My4wMzM5MjgwNDA5N2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuICBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1heFJlc29sdXRpb25gIChvclxuICogYG1pblpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiAgSWYgdW5zcGVjaWZpZWQgaXQgaXMgY2FsY3VsYXRlZCBhc3N1bWluZyAyOVxuICogem9vbSBsZXZlbHMgKHdpdGggYSBmYWN0b3Igb2YgMikuIElmIHRoZSBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvclxuICogKHRoZSBkZWZhdWx0KSB0aGVuIGBtaW5SZXNvbHV0aW9uYCBkZWZhdWx0cyB0b1xuICogYDQwMDc1MDE2LjY4NTU3ODQ5IC8gMjU2IC8gTWF0aC5wb3coMiwgMjgpID0gMC4wMDA1ODMxNjgyNDU1ODM5MjUzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yOF0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtaW5ab29tYCAob3JcbiAqIGBtYXhSZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWluUmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWF4Wm9vbWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhab29tYCAob3JcbiAqIGBtaW5SZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWF4UmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWluWm9vbWAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aVdvcmxkPWZhbHNlXSBJZiBgZmFsc2VgIHRoZSB2aWV3IGlzIGNvbnN0cmFpbmVkIHNvXG4gKiBvbmx5IG9uZSB3b3JsZCBpcyB2aXNpYmxlLCBhbmQgeW91IGNhbm5vdCBwYW4gb2ZmIHRoZSBlZGdlLiAgSWYgYHRydWVgIHRoZSBtYXBcbiAqIG1heSBzaG93IG11bHRpcGxlIHdvcmxkcyBhdCBsb3cgem9vbSBsZXZlbHMuICBPbmx5IHVzZWQgaWYgdGhlIGBwcm9qZWN0aW9uYCBpc1xuICogZ2xvYmFsLiAgTm90ZSB0aGF0IGlmIGBleHRlbnRgIGlzIGFsc28gcHJvdmlkZWQgaXQgaXMgZ2l2ZW4gcHJlY2VkZW5jZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYWx3YXlzXG4gKiBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247IGZhbHNlIG1lYW5zXG4gKiBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgcmVzb2x1dGlvblxuICogbWluL21heCB2YWx1ZXMgd2lsbCBiZSBhcHBsaWVkIHNtb290aGx5LCBpLiBlLiBhbGxvdyB0aGUgdmlldyB0byBleGNlZWQgc2xpZ2h0bHlcbiAqIHRoZSBnaXZlbiByZXNvbHV0aW9uIG9yIHpvb20gYm91bmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnQ9ZmFsc2VdIEFsbG93IHRoZSB2aWV3IHRvIGJlIHpvb21lZCBvdXQgdG9cbiAqIHNob3cgdGhlIGZ1bGwgY29uZmlndXJlZCBleHRlbnQuIEJ5IGRlZmF1bHQsIHdoZW4gYSB2aWV3IGlzIGNvbmZpZ3VyZWQgd2l0aCBhblxuICogZXh0ZW50LCB1c2VycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoZSB2aWV3cG9ydCBleGNlZWRzIHRoZSBleHRlbnQgaW5cbiAqIGVpdGhlciBkaW1lbnNpb24uIFRoaXMgbWVhbnMgdGhlIGZ1bGwgZXh0ZW50IG1heSBub3QgYmUgdmlzaWJsZSBpZiB0aGUgdmlld3BvcnRcbiAqIGlzIHRhbGxlciBvciB3aWRlciB0aGFuIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LiBJZlxuICogc2hvd0Z1bGxFeHRlbnQgaXMgdHJ1ZSwgdGhlIHVzZXIgd2lsbCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoYXQgdGhlIHZpZXdwb3J0XG4gKiBleGNlZWRzIHRoZSBoZWlnaHQgb3Igd2lkdGggb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LCBidXQgbm90IGJvdGgsIGFsbG93aW5nIHRoZVxuICogZnVsbCBleHRlbnQgdG8gYmUgc2hvd24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFRoZVxuICogcHJvamVjdGlvbi4gVGhlIGRlZmF1bHQgaXMgU3BoZXJpY2FsIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy4gVGhlXG4gKiB1bml0cyBhcmUgYHByb2plY3Rpb25gIHVuaXRzIHBlciBwaXhlbCAoZS5nLiBtZXRlcnMgcGVyIHBpeGVsKS4gQW5cbiAqIGFsdGVybmF0aXZlIHRvIHNldHRpbmcgdGhpcyBpcyB0byBzZXQgYHpvb21gLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlXG4gKiBmZXRjaGVkIGlmIG5laXRoZXIgdGhpcyBub3IgYHpvb21gIGFyZSBkZWZpbmVkLCBidXQgdGhleSBjYW4gYmUgc2V0IGxhdGVyXG4gKiB3aXRoIHtAbGluayAjc2V0Wm9vbX0gb3Ige0BsaW5rICNzZXRSZXNvbHV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucyB0aGF0IGRldGVybWluZSB0aGVcbiAqIHpvb20gbGV2ZWxzIGlmIHNwZWNpZmllZC4gVGhlIGluZGV4IGluIHRoZSBhcnJheSBjb3JyZXNwb25kcyB0byB0aGUgem9vbSBsZXZlbCxcbiAqIHRoZXJlZm9yZSB0aGUgcmVzb2x1dGlvbiB2YWx1ZXMgaGF2ZSB0byBiZSBpbiBkZXNjZW5kaW5nIG9yZGVyLiBJdCBhbHNvIGNvbnN0cmFpbnNcbiAqIHRoZSByZXNvbHV0aW9uIGJ5IHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLiBJZiBzZXQgdGhlIGBtYXhSZXNvbHV0aW9uYCxcbiAqIGBtaW5SZXNvbHV0aW9uYCwgYG1pblpvb21gLCBgbWF4Wm9vbWAsIGFuZCBgem9vbUZhY3RvcmAgb3B0aW9ucyBhcmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gVGhlIGluaXRpYWwgcm90YXRpb24gZm9yIHRoZSB2aWV3IGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIDAgbWVhbnMgTm9ydGgpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tXSBPbmx5IHVzZWQgaWYgYHJlc29sdXRpb25gIGlzIG5vdCBkZWZpbmVkLiBab29tXG4gKiBsZXZlbCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUZhY3Rvcj0yXSBUaGUgem9vbSBmYWN0b3IgdXNlZCB0byBjb21wdXRlIHRoZVxuICogY29ycmVzcG9uZGluZyByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBjc3MgcGl4ZWxzKS5cbiAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAqIGl0cyBlZGdlcywgdGhpcyBzZXR0aW5nIGFsbG93cyB0byBzaGlmdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydCBhd2F5IGZyb21cbiAqIHRoYXQgY29udGVudC4gVGhlIG9yZGVyIG9mIHRoZSB2YWx1ZXMgaXMgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZiB0aGVcbiAqIGFuaW1hdGlvbi4gVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYHJlc29sdXRpb25gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kXG4gKiBvZiB0aGUgYW5pbWF0aW9uLiAgSWYgYHpvb21gIGlzIGFsc28gcHJvdmlkZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb25dIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gT3B0aW9uYWwgYW5jaG9yIHRvIHJlbWFpbiBmaXhlZFxuICogZHVyaW5nIGEgcm90YXRpb24gb3IgcmVzb2x1dGlvbiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMDBdIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZFxuICogZHVyaW5nIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbbmV4dENlbnRlcl0gVGhlIG5leHQgY2VudGVyIGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtuZXh0UmVzb2x1dGlvbl0gVGhlIG5leHQgcmVzb2x1dGlvbiBkdXJpbmcgYW4gYW5pbWF0aW9uIHNlcmllcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbmV4dFJvdGF0aW9uXSBUaGUgbmV4dCByb3RhdGlvbiBkdXJpbmcgYW4gYW5pbWF0aW9uIHNlcmllcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tIFpvb20uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtaW4gem9vbSBsZXZlbCBmb3IgdGhlIG1hcCB2aWV3LlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFRkFVTFRfTUlOX1pPT00gPSAwO1xuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8J2NoYW5nZTpjZW50ZXInfCdjaGFuZ2U6cmVzb2x1dGlvbid8J2NoYW5nZTpyb3RhdGlvbid9IFZpZXdPYmplY3RFdmVudFR5cGVzXG4gKi9cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8Vmlld09iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8Vmlld09iamVjdEV2ZW50VHlwZXMsIFJldHVybj59IFZpZXdPblNpZ25hdHVyZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgVmlldyBvYmplY3QgcmVwcmVzZW50cyBhIHNpbXBsZSAyRCB2aWV3IG9mIHRoZSBtYXAuXG4gKlxuICogVGhpcyBpcyB0aGUgb2JqZWN0IHRvIGFjdCB1cG9uIHRvIGNoYW5nZSB0aGUgY2VudGVyLCByZXNvbHV0aW9uLFxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBtYXAuXG4gKlxuICogQSBWaWV3IGhhcyBhIGBwcm9qZWN0aW9uYC4gVGhlIHByb2plY3Rpb24gZGV0ZXJtaW5lcyB0aGVcbiAqIGNvb3JkaW5hdGUgc3lzdGVtIG9mIHRoZSBjZW50ZXIsIGFuZCBpdHMgdW5pdHMgZGV0ZXJtaW5lIHRoZSB1bml0cyBvZiB0aGVcbiAqIHJlc29sdXRpb24gKHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsKS4gVGhlIGRlZmF1bHQgcHJvamVjdGlvbiBpc1xuICogU3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICpcbiAqICMjIyBUaGUgdmlldyBzdGF0ZXNcbiAqXG4gKiBBIFZpZXcgaXMgZGV0ZXJtaW5lZCBieSB0aHJlZSBzdGF0ZXM6IGBjZW50ZXJgLCBgcmVzb2x1dGlvbmAsXG4gKiBhbmQgYHJvdGF0aW9uYC4gRWFjaCBzdGF0ZSBoYXMgYSBjb3JyZXNwb25kaW5nIGdldHRlciBhbmQgc2V0dGVyLCBlLmcuXG4gKiBgZ2V0Q2VudGVyYCBhbmQgYHNldENlbnRlcmAgZm9yIHRoZSBgY2VudGVyYCBzdGF0ZS5cbiAqXG4gKiBUaGUgYHpvb21gIHN0YXRlIGlzIGFjdHVhbGx5IG5vdCBzYXZlZCBvbiB0aGUgdmlldzogYWxsIGNvbXB1dGF0aW9uc1xuICogaW50ZXJuYWxseSB1c2UgdGhlIGByZXNvbHV0aW9uYCBzdGF0ZS4gU3RpbGwsIHRoZSBgc2V0Wm9vbWAgYW5kIGBnZXRab29tYFxuICogbWV0aG9kcyBhcmUgYXZhaWxhYmxlLCBhcyB3ZWxsIGFzIGBnZXRSZXNvbHV0aW9uRm9yWm9vbWAgYW5kXG4gKiBgZ2V0Wm9vbUZvclJlc29sdXRpb25gIHRvIHN3aXRjaCBmcm9tIG9uZSBzeXN0ZW0gdG8gdGhlIG90aGVyLlxuICpcbiAqICMjIyBUaGUgY29uc3RyYWludHNcbiAqXG4gKiBgc2V0Q2VudGVyYCwgYHNldFJlc29sdXRpb25gIGFuZCBgc2V0Um90YXRpb25gIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGVcbiAqIHN0YXRlcyBvZiB0aGUgdmlldywgYnV0IGFueSBjb25zdHJhaW50IGRlZmluZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGJlIGFwcGxpZWQgYWxvbmcgdGhlIHdheS5cbiAqXG4gKiBBIFZpZXcgb2JqZWN0IGNhbiBoYXZlIGEgKnJlc29sdXRpb24gY29uc3RyYWludCosIGEgKnJvdGF0aW9uIGNvbnN0cmFpbnQqXG4gKiBhbmQgYSAqY2VudGVyIGNvbnN0cmFpbnQqLlxuICpcbiAqIFRoZSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiB0eXBpY2FsbHkgcmVzdHJpY3RzIG1pbi9tYXggdmFsdWVzIGFuZFxuICogc25hcHMgdG8gc3BlY2lmaWMgcmVzb2x1dGlvbnMuIEl0IGlzIGRldGVybWluZWQgYnkgdGhlIGZvbGxvd2luZ1xuICogb3B0aW9uczogYHJlc29sdXRpb25zYCwgYG1heFJlc29sdXRpb25gLCBgbWF4Wm9vbWAgYW5kIGB6b29tRmFjdG9yYC5cbiAqIElmIGByZXNvbHV0aW9uc2AgaXMgc2V0LCB0aGUgb3RoZXIgdGhyZWUgb3B0aW9ucyBhcmUgaWdub3JlZC4gU2VlXG4gKiBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9wdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQnkgZGVmYXVsdCwgdGhlIHZpZXdcbiAqIG9ubHkgaGFzIGEgbWluL21heCByZXN0cmljdGlvbiBhbmQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIHdoZW5cbiAqIHBpbmNoLXpvb21pbmcgZm9yIGV4YW1wbGUuXG4gKlxuICogVGhlICpyb3RhdGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyBhbmdsZXMuIEl0IGlzIGRldGVybWluZWRcbiAqIGJ5IHRoZSBmb2xsb3dpbmcgb3B0aW9uczogYGVuYWJsZVJvdGF0aW9uYCBhbmQgYGNvbnN0cmFpblJvdGF0aW9uYC5cbiAqIEJ5IGRlZmF1bHQgcm90YXRpb24gaXMgYWxsb3dlZCBhbmQgaXRzIHZhbHVlIGlzIHNuYXBwZWQgdG8gemVybyB3aGVuIGFwcHJvYWNoaW5nIHRoZVxuICogaG9yaXpvbnRhbC5cbiAqXG4gKiBUaGUgKmNlbnRlciBjb25zdHJhaW50KiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgZXh0ZW50YCBvcHRpb24uIEJ5XG4gKiBkZWZhdWx0IHRoZSB2aWV3IGNlbnRlciBpcyBub3QgY29uc3RyYWluZWQgYXQgYWxsLlxuICpcbiAqICMjIyBDaGFuZ2luZyB0aGUgdmlldyBzdGF0ZVxuICpcbiAqIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgYHNldFpvb21gLCBgc2V0UmVzb2x1dGlvbmAsIGBzZXRDZW50ZXJgIGFuZFxuICogYHNldFJvdGF0aW9uYCBhcmUgc3ViamVjdCB0byB0aGUgYWJvdmUgbWVudGlvbmVkIGNvbnN0cmFpbnRzLiBBcyBzdWNoLCBpdFxuICogbWF5IHNvbWV0aW1lcyBub3QgYmUgcG9zc2libGUgdG8ga25vdyBpbiBhZHZhbmNlIHRoZSByZXN1bHRpbmcgc3RhdGUgb2YgdGhlXG4gKiBWaWV3LiBGb3IgZXhhbXBsZSwgY2FsbGluZyBgc2V0UmVzb2x1dGlvbigxMClgIGRvZXMgbm90IGd1YXJhbnRlZSB0aGF0XG4gKiBgZ2V0UmVzb2x1dGlvbigpYCB3aWxsIHJldHVybiBgMTBgLlxuICpcbiAqIEEgY29uc2VxdWVuY2Ugb2YgdGhpcyBpcyB0aGF0LCB3aGVuIGFwcGx5aW5nIGEgZGVsdGEgb24gdGhlIHZpZXcgc3RhdGUsIG9uZVxuICogc2hvdWxkIHVzZSBgYWRqdXN0Q2VudGVyYCwgYGFkanVzdFJvdGF0aW9uYCwgYGFkanVzdFpvb21gIGFuZCBgYWRqdXN0UmVzb2x1dGlvbmBcbiAqIHJhdGhlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIHNldHRlcnMuIFRoaXMgd2lsbCBsZXQgdmlldyBkbyBpdHMgaW50ZXJuYWxcbiAqIGNvbXB1dGF0aW9ucy4gQmVzaWRlcywgdGhlIGBhZGp1c3QqYCBtZXRob2RzIGFsc28gdGFrZSBhbiBgb3B0X2FuY2hvcmBcbiAqIGFyZ3VtZW50IHdoaWNoIGFsbG93cyBzcGVjaWZ5aW5nIGFuIG9yaWdpbiBmb3IgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICpcbiAqICMjIyBJbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3XG4gKlxuICogVmlldyBjb25zdHJhaW50cyBhcmUgdXN1YWxseSBvbmx5IGFwcGxpZWQgd2hlbiB0aGUgdmlldyBpcyAqYXQgcmVzdCosIG1lYW5pbmcgdGhhdFxuICogbm8gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIG9uZ29pbmcuIEFzIHN1Y2gsIGlmIHRoZSB1c2VyIHB1dHMgdGhlIHZpZXcgaW4gYVxuICogc3RhdGUgdGhhdCBpcyBub3QgZXF1aXZhbGVudCB0byBhIGNvbnN0cmFpbmVkIG9uZSAoZS5nLiByb3RhdGluZyB0aGUgdmlldyB3aGVuXG4gKiB0aGUgc25hcCBhbmdsZSBpcyAwKSwgYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGF0IHRoZSBpbnRlcmFjdGlvbiBlbmQgdG9cbiAqIHB1dCBiYWNrIHRoZSB2aWV3IHRvIGEgc3RhYmxlIHN0YXRlO1xuICpcbiAqIEBhcGlcbiAqL1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZXcsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gW29wdF9vcHRpb25zXSBWaWV3IG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlldyhvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWaWV3T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWaWV3T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge1ZpZXdPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0X29wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaW50c18gPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8QW5pbWF0aW9uPj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVBbmltYXRpb25LZXlfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJvamVjdGlvbl8gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld3BvcnRTaXplXyA9IFsxMDAsIDEwMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0Q2VudGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRSb3RhdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uZXh0Q2VudGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmV4dFJlc29sdXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5leHRSb3RhdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNlbnRlciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRpb25zLmNlbnRlciwgX3RoaXMucHJvamVjdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmV4dGVudCkge1xuICAgICAgICAgICAgb3B0aW9ucy5leHRlbnQgPSBmcm9tVXNlckV4dGVudChvcHRpb25zLmV4dGVudCwgX3RoaXMucHJvamVjdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFwcGx5T3B0aW9uc18ob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHVwIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYXBwbHlPcHRpb25zXyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIFZpZXdQcm9wZXJ0eSkge1xuICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcywgdHJ1ZSk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludEluZm8gPSBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1heFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5SZXNvbHV0aW9uXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5SZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuem9vbUZhY3Rvcl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8uem9vbUZhY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFkZGluZ18gPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ab29tXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5ab29tO1xuICAgICAgICB2YXIgY2VudGVyQ29uc3RyYWludCA9IGNyZWF0ZUNlbnRlckNvbnN0cmFpbnQob3B0aW9ucyk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludCA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5jb25zdHJhaW50O1xuICAgICAgICB2YXIgcm90YXRpb25Db25zdHJhaW50ID0gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NvbnN0cmFpbnRzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25zdHJhaW50c18gPSB7XG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlckNvbnN0cmFpbnQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbkNvbnN0cmFpbnQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24ob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDApO1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKG9wdGlvbnMuY2VudGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNlbnRlciA6IG51bGwpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihvcHRpb25zLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFpvb20ob3B0aW9ucy56b29tKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXcucHJvdG90eXBlLCBcInBhZGRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gICAgICAgICAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAgICAgICAgICogaXRzIGVkZ2VzLCB0aGlzIHNldHRpbmcgYWxsb3dzIHRvIHNoaWZ0IHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0IGF3YXkgZnJvbSB0aGF0XG4gICAgICAgICAqIGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBpcyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIG5vIHBhZGRpbmcsIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gYFswLCAwLCAwLCAwXWAuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYWRkaW5nXztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICAgICAgdmFyIG9sZFBhZGRpbmcgPSB0aGlzLnBhZGRpbmdfO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nXyA9IHBhZGRpbmc7XG4gICAgICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3UGFkZGluZyA9IHBhZGRpbmcgfHwgWzAsIDAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIG9sZFBhZGRpbmcgPSBvbGRQYWRkaW5nIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gKHJlc29sdXRpb24gLyAyKSAqXG4gICAgICAgICAgICAgICAgICAgIChuZXdQYWRkaW5nWzNdIC0gb2xkUGFkZGluZ1szXSArIG9sZFBhZGRpbmdbMV0gLSBuZXdQYWRkaW5nWzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IChyZXNvbHV0aW9uIC8gMikgKlxuICAgICAgICAgICAgICAgICAgICAobmV3UGFkZGluZ1swXSAtIG9sZFBhZGRpbmdbMF0gKyBvbGRQYWRkaW5nWzJdIC0gbmV3UGFkZGluZ1syXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbY2VudGVyWzBdICsgb2Zmc2V0WCwgY2VudGVyWzFdIC0gb2Zmc2V0WV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2V0IGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgdmlldyBvcHRpb25zIHVzZWQgdG8gY29uc3RydWN0IHRoZSB2aWV3LiAgVGhlXG4gICAgICogY3VycmVudCByZXNvbHV0aW9uIChvciB6b29tKSwgY2VudGVyLCBhbmQgcm90YXRpb24gYXJlIGFwcGxpZWQgdG8gYW55IHN0b3JlZFxuICAgICAqIG9wdGlvbnMuICBUaGUgcHJvdmlkZWQgb3B0aW9ucyBjYW4gYmUgdXNlZCB0byBhcHBseSBuZXcgbWluL21heCB6b29tIG9yXG4gICAgICogcmVzb2x1dGlvbiBsaW1pdHMuXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gbmV3T3B0aW9ucyBOZXcgb3B0aW9ucyB0byBiZSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm4ge1ZpZXdPcHRpb25zfSBOZXcgb3B0aW9ucyB1cGRhdGVkIHdpdGggdGhlIGN1cnJlbnQgdmlldyBzdGF0ZS5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRVcGRhdGVkT3B0aW9uc18gPSBmdW5jdGlvbiAobmV3T3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0UHJvcGVydGllcygpO1xuICAgICAgICAvLyBwcmVzZXJ2ZSByZXNvbHV0aW9uIChvciB6b29tKVxuICAgICAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy56b29tID0gdGhpcy5nZXRab29tKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJlc2VydmUgY2VudGVyXG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgICAgICAvLyBwcmVzZXJ2ZSByb3RhdGlvblxuICAgICAgICBvcHRpb25zLnJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgICAgICByZXR1cm4gYXNzaWduKHt9LCBvcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFuaW1hdGUgdGhlIHZpZXcuICBUaGUgdmlldydzIGNlbnRlciwgem9vbSAob3IgcmVzb2x1dGlvbiksIGFuZCByb3RhdGlvblxuICAgICAqIGNhbiBiZSBhbmltYXRlZCBmb3Igc21vb3RoIHRyYW5zaXRpb25zIGJldHdlZW4gdmlldyBzdGF0ZXMuICBGb3IgZXhhbXBsZSxcbiAgICAgKiB0byBhbmltYXRlIHRoZSB2aWV3IHRvIGEgbmV3IHpvb20gbGV2ZWw6XG4gICAgICpcbiAgICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiB2aWV3LmdldFpvb20oKSArIDF9KTtcbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBhbmltYXRpb24gbGFzdHMgb25lIHNlY29uZCBhbmQgdXNlcyBpbi1hbmQtb3V0IGVhc2luZy4gIFlvdVxuICAgICAqIGNhbiBjdXN0b21pemUgdGhpcyBiZWhhdmlvciBieSBpbmNsdWRpbmcgYGR1cmF0aW9uYCAoaW4gbWlsbGlzZWNvbmRzKSBhbmRcbiAgICAgKiBgZWFzaW5nYCBvcHRpb25zIChzZWUge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd9KS5cbiAgICAgKlxuICAgICAqIFRvIGNoYWluIHRvZ2V0aGVyIG11bHRpcGxlIGFuaW1hdGlvbnMsIGNhbGwgdGhlIG1ldGhvZCB3aXRoIG11bHRpcGxlXG4gICAgICogYW5pbWF0aW9uIG9iamVjdHMuICBGb3IgZXhhbXBsZSwgdG8gZmlyc3Qgem9vbSBhbmQgdGhlbiBwYW46XG4gICAgICpcbiAgICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiAxMH0sIHtjZW50ZXI6IFswLCAwXX0pO1xuICAgICAqXG4gICAgICogSWYgeW91IHByb3ZpZGUgYSBmdW5jdGlvbiBhcyB0aGUgbGFzdCBhcmd1bWVudCB0byB0aGUgYW5pbWF0ZSBtZXRob2QsIGl0XG4gICAgICogd2lsbCBnZXQgY2FsbGVkIGF0IHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uIHNlcmllcy4gIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAgICogY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb24gc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWBcbiAgICAgKiBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICAgICAqXG4gICAgICogQW5pbWF0aW9ucyBhcmUgY2FuY2VsbGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIChlLmcuIGRyYWdnaW5nIHRoZSBtYXApIG9yIGJ5XG4gICAgICogY2FsbGluZyBgdmlldy5zZXRDZW50ZXIoKWAsIGB2aWV3LnNldFJlc29sdXRpb24oKWAsIG9yIGB2aWV3LnNldFJvdGF0aW9uKClgXG4gICAgICogKG9yIGFub3RoZXIgbWV0aG9kIHRoYXQgY2FsbHMgb25lIG9mIHRoZXNlKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb25cbiAgICAgKiAgICAgb3B0aW9ucy4gIE11bHRpcGxlIGFuaW1hdGlvbnMgY2FuIGJlIHJ1biBpbiBzZXJpZXMgYnkgcGFzc2luZyBtdWx0aXBsZVxuICAgICAqICAgICBvcHRpb25zIG9iamVjdHMuICBUbyBydW4gbXVsdGlwbGUgYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCwgY2FsbCB0aGUgbWV0aG9kXG4gICAgICogICAgIG11bHRpcGxlIHRpbWVzLiAgQW4gb3B0aW9uYWwgY2FsbGJhY2sgY2FuIGJlIHByb3ZpZGVkIGFzIGEgZmluYWxcbiAgICAgKiAgICAgYXJndW1lbnQuICBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyXG4gICAgICogICAgIHRoZSBhbmltYXRpb24gY29tcGxldGVkIHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKHZhcl9hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGVmKCkgJiYgIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSBmcm9tVXNlckNvb3JkaW5hdGUob3B0aW9ucy5jZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuY2hvcikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKG9wdGlvbnMuYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzW2ldID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hbmltYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAodmFyX2FyZ3MpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICBpZiAoYW5pbWF0aW9uQ291bnQgPiAxICYmXG4gICAgICAgICAgICB0eXBlb2YgYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV07XG4gICAgICAgICAgICAtLWFuaW1hdGlvbkNvdW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudCAmJiAhdGhpcy5pc0RlZigpOyArK2kpIHtcbiAgICAgICAgICAgIC8vIGlmIHZpZXcgcHJvcGVydGllcyBhcmUgbm90IHlldCBzZXQsIHNob3J0Y3V0IHRvIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNlbnRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoc3RhdGUuY2VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFpvb20oc3RhdGUuem9vbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKHN0YXRlLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKHN0YXRlLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gYW5pbWF0aW9uQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy50YXJnZXRDZW50ZXJfLnNsaWNlKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy50YXJnZXRSZXNvbHV0aW9uXztcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy50YXJnZXRSb3RhdGlvbl87XG4gICAgICAgIHZhciBzZXJpZXMgPSBbXTtcbiAgICAgICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uT3B0aW9uc30gKi8gKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBvcHRpb25zLmFuY2hvcixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDEwMDAsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyB8fCBpbkFuZE91dCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZUNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Q2VudGVyID0gb3B0aW9ucy5jZW50ZXIuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShvcHRpb25zLnpvb20pO1xuICAgICAgICAgICAgICAgIHJlc29sdXRpb24gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gbW9kdWxvKG9wdGlvbnMucm90YXRpb24gLSByb3RhdGlvbiArIE1hdGguUEksIDIgKiBNYXRoLlBJKSAtIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uID0gcm90YXRpb24gKyBkZWx0YTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFuaW1hdGlvbiBpcyBhIG5vLW9wXG4gICAgICAgICAgICBpZiAoaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIHdlIHN0aWxsIHB1c2ggaXQgb250byB0aGUgc2VyaWVzIGZvciBjYWxsYmFjayBoYW5kbGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgKz0gYW5pbWF0aW9uLmR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VyaWVzLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnNfLnB1c2goc2VyaWVzKTtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgMSk7XG4gICAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uc18oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiB0aGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0QW5pbWF0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSA+IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdmlldywgc3VjaCBhcyBwYW5uaW5nIG9yIHpvb21pbmcuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgaW50ZXJhY3RlZCB3aXRoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRJbnRlcmFjdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGludHNfW1ZpZXdIaW50LklOVEVSQUNUSU5HXSA+IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYW55IG9uZ29pbmcgYW5pbWF0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuY2FuY2VsQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgLXRoaXMuaGludHNfW1ZpZXdIaW50LkFOSU1BVElOR10pO1xuICAgICAgICB2YXIgYW5jaG9yO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmFuaW1hdGlvbnNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzZXJpZXMgPSB0aGlzLmFuaW1hdGlvbnNfW2ldO1xuICAgICAgICAgICAgaWYgKHNlcmllc1swXS5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKHNlcmllc1swXS5jYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBzZXJpZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gYW5pbWF0aW9uLmFuY2hvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jYW5jZWxBbmNob3JfID0gYW5jaG9yO1xuICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0UmVzb2x1dGlvbl8gPSBOYU47XG4gICAgICAgIHRoaXMubmV4dFJvdGF0aW9uXyA9IE5hTjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhbGwgYW5pbWF0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS51cGRhdGVBbmltYXRpb25zXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbW9yZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICAgICAgICB2YXIgc2VyaWVzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gYW5pbWF0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgICAgIHZhciBmcmFjdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbiA+IDAgPyBlbGFwc2VkIC8gYW5pbWF0aW9uLmR1cmF0aW9uIDogMTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhY3Rpb24gPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmcmFjdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJpZXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBhbmltYXRpb24uZWFzaW5nKGZyYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gYW5pbWF0aW9uLnRhcmdldENlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB4MCArIHByb2dyZXNzICogKHgxIC0geDApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHkwICsgcHJvZ3Jlc3MgKiAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IFt4LCB5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICYmIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gcHJvZ3Jlc3MgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lZFJlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKHJlc29sdXRpb24sIDAsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJab29tKGNvbnN0cmFpbmVkUmVzb2x1dGlvbiwgYW5pbWF0aW9uLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UmVzb2x1dGlvbl8gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Um90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2R1bG8oYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5hbmNob3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lZFJvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24ocm90YXRpb24sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUoY29uc3RyYWluZWRSb3RhdGlvbiwgYW5pbWF0aW9uLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Um90YXRpb25fID0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKHRydWUpO1xuICAgICAgICAgICAgICAgIG1vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXJpZXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc19baV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC0xKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uXyA9IE5hTjtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRSb3RhdGlvbl8gPSBOYU47XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gc2VyaWVzWzBdLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHBydW5lIGNvbXBsZXRlZCBzZXJpZXNcbiAgICAgICAgdGhpcy5hbmltYXRpb25zXyA9IHRoaXMuYW5pbWF0aW9uc18uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBpZiAobW9yZSAmJiB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQW5pbWF0aW9uc18uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBUYXJnZXQgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFJvdGF0aW9uIGFuY2hvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3Igcm90YXRpb24gYW5kIGFuY2hvci5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJSb3RhdGUgPSBmdW5jdGlvbiAocm90YXRpb24sIGFuY2hvcikge1xuICAgICAgICB2YXIgY2VudGVyO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRDZW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2VudGVyID0gW2N1cnJlbnRDZW50ZXJbMF0gLSBhbmNob3JbMF0sIGN1cnJlbnRDZW50ZXJbMV0gLSBhbmNob3JbMV1dO1xuICAgICAgICAgICAgcm90YXRlQ29vcmRpbmF0ZShjZW50ZXIsIHJvdGF0aW9uIC0gdGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgIGFkZENvb3JkaW5hdGUoY2VudGVyLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgWm9vbSBhbmNob3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIgZm9yIHJlc29sdXRpb24gYW5kIGFuY2hvci5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJab29tID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIGFuY2hvcikge1xuICAgICAgICB2YXIgY2VudGVyO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHggPSBhbmNob3JbMF0gLVxuICAgICAgICAgICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclswXSAtIGN1cnJlbnRDZW50ZXJbMF0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHkgPSBhbmNob3JbMV0gLVxuICAgICAgICAgICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclsxXSAtIGN1cnJlbnRDZW50ZXJbMV0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgY2VudGVyID0gW3gsIHldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpZXdwb3J0IHNpemUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9yb3RhdGlvbl0gVGFrZSBpbnRvIGFjY291bnQgdGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3cG9ydCB3aGVuIGdpdmluZyB0aGUgc2l6ZVxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBWaWV3cG9ydCBzaXplIG9yIGBbMTAwLCAxMDBdYCB3aGVuIG5vIHZpZXdwb3J0IGlzIGZvdW5kLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFZpZXdwb3J0U2l6ZV8gPSBmdW5jdGlvbiAob3B0X3JvdGF0aW9uKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy52aWV3cG9ydFNpemVfO1xuICAgICAgICBpZiAob3B0X3JvdGF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdyA9IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgaCA9IHNpemVbMV07XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIE1hdGguYWJzKHcgKiBNYXRoLmNvcyhvcHRfcm90YXRpb24pKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGggKiBNYXRoLnNpbihvcHRfcm90YXRpb24pKSxcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5zaW4ob3B0X3JvdGF0aW9uKSkgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhoICogTWF0aC5jb3Mob3B0X3JvdGF0aW9uKSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyB0aGUgdmlld3BvcnQgc2l6ZSBvbiB0aGUgdmlldy4gVGhlIHZpZXdwb3J0IHNpemUgaXMgbm90IHJlYWQgZXZlcnkgdGltZSBmcm9tIHRoZSBET01cbiAgICAgKiB0byBhdm9pZCBwZXJmb3JtYW5jZSBoaXQgYW5kIGxheW91dCByZWZsb3cuXG4gICAgICogVGhpcyBzaG91bGQgYmUgZG9uZSBvbiBtYXAgc2l6ZSBjaGFuZ2UuXG4gICAgICogTm90ZTogdGhlIGNvbnN0cmFpbnRzIGFyZSBub3QgcmVzb2x2ZWQgZHVyaW5nIGFuIGFuaW1hdGlvbiB0byBhdm9pZCBzdG9wcGluZyBpdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtvcHRfc2l6ZV0gVmlld3BvcnQgc2l6ZTsgaWYgdW5kZWZpbmVkLCBbMTAwLCAxMDBdIGlzIGFzc3VtZWRcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRWaWV3cG9ydFNpemUgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydFNpemVfID0gQXJyYXkuaXNBcnJheShvcHRfc2l6ZSlcbiAgICAgICAgICAgID8gb3B0X3NpemUuc2xpY2UoKVxuICAgICAgICAgICAgOiBbMTAwLCAxMDBdO1xuICAgICAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgY2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgIGlmICghY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKGNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IGNlbnRlciB3aXRob3V0IHRyYW5zZm9ybWluZyB0byB1c2VyIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtDb25zdHJhaW50c30gQ29uc3RyYWludHMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJlc29sdXRpb24gY29uc3RyYWludCBpcyBzZXRcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbnN0cmFpblJlc29sdXRpb24nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdF9oaW50c10gRGVzdGluYXRpb24gYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSGludC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRIaW50cyA9IGZ1bmN0aW9uIChvcHRfaGludHMpIHtcbiAgICAgICAgaWYgKG9wdF9oaW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRfaGludHNbMF0gPSB0aGlzLmhpbnRzX1swXTtcbiAgICAgICAgICAgIG9wdF9oaW50c1sxXSA9IHRoaXMuaGludHNfWzFdO1xuICAgICAgICAgICAgcmV0dXJuIG9wdF9oaW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpbnRzXy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGV4dGVudCBmb3IgdGhlIGN1cnJlbnQgdmlldyBzdGF0ZSBhbmQgdGhlIHBhc3NlZCBzaXplLlxuICAgICAqIFRoZSBzaXplIGlzIHRoZSBwaXhlbCBkaW1lbnNpb25zIG9mIHRoZSBib3ggaW50byB3aGljaCB0aGUgY2FsY3VsYXRlZCBleHRlbnRcbiAgICAgKiBzaG91bGQgZml0LiBJbiBtb3N0IGNhc2VzIHlvdSB3YW50IHRvIGdldCB0aGUgZXh0ZW50IG9mIHRoZSBlbnRpcmUgbWFwLFxuICAgICAqIHRoYXQgaXMgYG1hcC5nZXRTaXplKClgLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtvcHRfc2l6ZV0gQm94IHBpeGVsIHNpemUuIElmIG5vdCBwcm92aWRlZCwgdGhlIHNpemVcbiAgICAgKiBvZiB0aGUgbWFwIHRoYXQgdXNlcyB0aGlzIHZpZXcgd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVFeHRlbnQgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwob3B0X3NpemUpO1xuICAgICAgICByZXR1cm4gdG9Vc2VyRXh0ZW50KGV4dGVudCwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF9zaXplXSBCb3ggcGl4ZWwgc2l6ZS4gSWYgbm90IHByb3ZpZGVkLFxuICAgICAqIHRoZSBtYXAncyBsYXN0IGtub3duIHZpZXdwb3J0IHNpemUgd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUV4dGVudEludGVybmFsID0gZnVuY3Rpb24gKG9wdF9zaXplKSB7XG4gICAgICAgIHZhciBzaXplID0gb3B0X3NpemUgfHwgdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSk7XG4gICAgICAgIGFzc2VydChjZW50ZXIsIDEpOyAvLyBUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSAvKiogQHR5cGUgeyFudW1iZXJ9ICovICh0aGlzLmdldFJlc29sdXRpb24oKSk7XG4gICAgICAgIGFzc2VydChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQsIDIpOyAvLyBUaGUgdmlldyByZXNvbHV0aW9uIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgIHZhciByb3RhdGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIGFzc2VydChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkLCAzKTsgLy8gVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWRcbiAgICAgICAgcmV0dXJuIGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSB6b29tIGxldmVsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWluUmVzb2x1dGlvbl8pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIG5ldyBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldE1heFpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oeyBtYXhab29tOiB6b29tIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldE1pblpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0TWluWm9vbSA9IGZ1bmN0aW9uICh6b29tKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7IG1pblpvb206IHpvb20gfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIHZpZXcgc2hvdWxkIGFsbG93IGludGVybWVkaWFyeSB6b29tIGxldmVscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgV2hldGhlciB0aGUgcmVzb2x1dGlvbiBpcyBjb25zdHJhaW5lZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Q29uc3RyYWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7IGNvbnN0cmFpblJlc29sdXRpb246IGVuYWJsZWQgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gVGhlIHByb2plY3Rpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFByb2plY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlc29sdXRpb25zIGZvciB0aGUgdmlldy4gVGhpcyByZXR1cm5zIHRoZSBhcnJheSBvZiByZXNvbHV0aW9uc1xuICAgICAqIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3Igb2YgdGhlIFZpZXcsIG9yIHVuZGVmaW5lZCBpZiBub25lIHdlcmUgZ2l2ZW4uXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IFRoZSByZXNvbHV0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF9zaXplXSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3JFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50LCBvcHRfc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSksIG9wdF9zaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF9zaXplXSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsID0gZnVuY3Rpb24gKGV4dGVudCwgb3B0X3NpemUpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvcHRfc2l6ZSB8fCB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgICAgdmFyIHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHNpemVbMF07XG4gICAgICAgIHZhciB5UmVzb2x1dGlvbiA9IGdldEhlaWdodChleHRlbnQpIC8gc2l6ZVsxXTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgZm9yIGFcbiAgICAgKiByZXNvbHV0aW9uLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfcG93ZXJdIFBvd2VyLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gUmVzb2x1dGlvbiBmb3IgdmFsdWUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvclZhbHVlRnVuY3Rpb24gPSBmdW5jdGlvbiAob3B0X3Bvd2VyKSB7XG4gICAgICAgIHZhciBwb3dlciA9IG9wdF9wb3dlciB8fCAyO1xuICAgICAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgICAgIHZhciBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBNYXRoLmxvZyhwb3dlcik7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHZhbHVlICogbWF4KTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmlldyByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBpbiByYWRpYW5zLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuUk9UQVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlc29sdXRpb24gZm9yIGEgdmFsdWUgYmV0d2VlblxuICAgICAqIDAgYW5kIDEuIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9wb3dlcl0gUG93ZXIuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBWYWx1ZSBmb3IgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWYWx1ZUZvclJlc29sdXRpb25GdW5jdGlvbiA9IGZ1bmN0aW9uIChvcHRfcG93ZXIpIHtcbiAgICAgICAgdmFyIGxvZ1Bvd2VyID0gTWF0aC5sb2cob3B0X3Bvd2VyIHx8IDIpO1xuICAgICAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgICAgIHZhciBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBsb2dQb3dlcjtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gVmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIHJlc29sdXRpb24pIC8gbG9nUG93ZXIgLyBtYXg7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQgbWludXMgcGFkZGluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3JvdGF0aW9uXSBUYWtlIGludG8gYWNjb3VudCB0aGUgcm90YXRpb24gb2YgdGhlIHZpZXdwb3J0IHdoZW4gZ2l2aW5nIHRoZSBzaXplXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgcmVkdWNlZCBieSB0aGUgcGFkZGluZy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfID0gZnVuY3Rpb24gKG9wdF9yb3RhdGlvbikge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhvcHRfcm90YXRpb24pO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgICAgICBzaXplID0gW1xuICAgICAgICAgICAgICAgIHNpemVbMF0gLSBwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSxcbiAgICAgICAgICAgICAgICBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7U3RhdGV9IFZpZXcgc3RhdGUuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovICh0aGlzLmdldENlbnRlckludGVybmFsKCkpO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcmVkdWNlZFNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgICAgICAgIGNlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKGNlbnRlciwgdGhpcy5nZXRWaWV3cG9ydFNpemVfKCksIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlci5zbGljZSgwKSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiBudWxsLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIG5leHRDZW50ZXI6IHRoaXMubmV4dENlbnRlcl8sXG4gICAgICAgICAgICBuZXh0UmVzb2x1dGlvbjogdGhpcy5uZXh0UmVzb2x1dGlvbl8sXG4gICAgICAgICAgICBuZXh0Um90YXRpb246IHRoaXMubmV4dFJvdGF0aW9uXyxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgIHpvb206IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuIFRoaXMgbWV0aG9kIG1heSByZXR1cm4gbm9uLWludGVnZXIgem9vbSBsZXZlbHNcbiAgICAgKiBpZiB0aGUgdmlldyBkb2VzIG5vdCBjb25zdHJhaW4gdGhlIHJlc29sdXRpb24sIG9yIGlmIGFuIGludGVyYWN0aW9uIG9yXG4gICAgICogYW5pbWF0aW9uIGlzIHVuZGVyd2F5LlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB6b29tO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB6b29tID0gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgem9vbSBsZXZlbCBmb3IgYSByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRoZSByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFRoZSB6b29tIGxldmVsIGZvciB0aGUgcHJvdmlkZWQgcmVzb2x1dGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Wm9vbUZvclJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5taW5ab29tXyB8fCAwO1xuICAgICAgICB2YXIgbWF4LCB6b29tRmFjdG9yO1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgICAgICAgIHZhciBuZWFyZXN0ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIDEpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbmVhcmVzdDtcbiAgICAgICAgICAgIG1heCA9IHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3RdO1xuICAgICAgICAgICAgaWYgKG5lYXJlc3QgPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IG1heCAvIHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3QgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1heCA9IHRoaXMubWF4UmVzb2x1dGlvbl87XG4gICAgICAgICAgICB6b29tRmFjdG9yID0gdGhpcy56b29tRmFjdG9yXztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgTWF0aC5sb2cobWF4IC8gcmVzb2x1dGlvbikgLyBNYXRoLmxvZyh6b29tRmFjdG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgdmlldyByZXNvbHV0aW9uIGZvciB0aGUgcHJvdmlkZWQgem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvclpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJhc2VMZXZlbCA9IGNsYW1wKE1hdGguZmxvb3Ioem9vbSksIDAsIHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgdmFyIHpvb21GYWN0b3IgPSB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC8gdGhpcy5yZXNvbHV0aW9uc19bYmFzZUxldmVsICsgMV07XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucmVzb2x1dGlvbnNfW2Jhc2VMZXZlbF0gL1xuICAgICAgICAgICAgICAgIE1hdGgucG93KHpvb21GYWN0b3IsIGNsYW1wKHpvb20gLSBiYXNlTGV2ZWwsIDAsIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubWF4UmVzb2x1dGlvbl8gLyBNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCB6b29tIC0gdGhpcy5taW5ab29tXykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXQgdGhlIGdpdmVuIGdlb21ldHJ5IG9yIGV4dGVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gbWFwIHNpemUgYW5kIGJvcmRlci5cbiAgICAgKiBUaGUgc2l6ZSBpcyBwaXhlbCBkaW1lbnNpb25zIG9mIHRoZSBib3ggdG8gZml0IHRoZSBleHRlbnQgaW50by5cbiAgICAgKiBJbiBtb3N0IGNhc2VzIHlvdSB3aWxsIHdhbnQgdG8gdXNlIHRoZSBtYXAgc2l6ZSwgdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAgICogVGFrZXMgY2FyZSBvZiB0aGUgbWFwIGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBnZW9tZXRyeU9yRXh0ZW50IFRoZSBnZW9tZXRyeSBvclxuICAgICAqICAgICBleHRlbnQgdG8gZml0IHRoZSB2aWV3IHRvLlxuICAgICAqIEBwYXJhbSB7Rml0T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAoZ2VvbWV0cnlPckV4dGVudCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi9cbiAgICAgICAgdmFyIGdlb21ldHJ5O1xuICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSB8fFxuICAgICAgICAgICAgdHlwZW9mICggLyoqIEB0eXBlIHs/fSAqLyhnZW9tZXRyeU9yRXh0ZW50KS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkpID09PVxuICAgICAgICAgICAgICAgICdmdW5jdGlvbicsIDI0KTsgLy8gSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSkge1xuICAgICAgICAgICAgYXNzZXJ0KCFpc0VtcHR5KGdlb21ldHJ5T3JFeHRlbnQpLCAyNSk7IC8vIENhbm5vdCBmaXQgZW1wdHkgZXh0ZW50IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBmcm9tVXNlckV4dGVudChnZW9tZXRyeU9yRXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlPckV4dGVudC5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBmcm9tVXNlckV4dGVudChnZW9tZXRyeU9yRXh0ZW50LmdldEV4dGVudCgpLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICAgICAgICBnZW9tZXRyeS5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbigpLCBnZXRDZW50ZXIoZXh0ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdXNlclByb2plY3Rpb24gPSBnZXRVc2VyUHJvamVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnlPckV4dGVudFxuICAgICAgICAgICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNmb3JtKHVzZXJQcm9qZWN0aW9uLCB0aGlzLmdldFByb2plY3Rpb24oKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeU9yRXh0ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZml0SW50ZXJuYWwoZ2VvbWV0cnksIG9wdF9vcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSByb3RhdGVkIGV4dGVudFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudFwiKS5FeHRlbnR9IFRoZSByb3RhdGVkIGV4dGVudCBmb3IgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICAgICAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBtaW5Sb3RYID0gK0luZmluaXR5O1xuICAgICAgICB2YXIgbWluUm90WSA9ICtJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFJvdFggPSAtSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhSb3RZID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB2YXIgcm90WCA9IGNvb3Jkc1tpXSAqIGNvc0FuZ2xlIC0gY29vcmRzW2kgKyAxXSAqIHNpbkFuZ2xlO1xuICAgICAgICAgICAgdmFyIHJvdFkgPSBjb29yZHNbaV0gKiBzaW5BbmdsZSArIGNvb3Jkc1tpICsgMV0gKiBjb3NBbmdsZTtcbiAgICAgICAgICAgIG1pblJvdFggPSBNYXRoLm1pbihtaW5Sb3RYLCByb3RYKTtcbiAgICAgICAgICAgIG1pblJvdFkgPSBNYXRoLm1pbihtaW5Sb3RZLCByb3RZKTtcbiAgICAgICAgICAgIG1heFJvdFggPSBNYXRoLm1heChtYXhSb3RYLCByb3RYKTtcbiAgICAgICAgICAgIG1heFJvdFkgPSBNYXRoLm1heChtYXhSb3RZLCByb3RZKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW21pblJvdFgsIG1pblJvdFksIG1heFJvdFgsIG1heFJvdFldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7Rml0T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmZpdEludGVybmFsID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgc2l6ZSA9IG9wdGlvbnMuc2l6ZTtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IFswLCAwLCAwLCAwXTtcbiAgICAgICAgdmFyIG5lYXJlc3QgPSBvcHRpb25zLm5lYXJlc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubmVhcmVzdCA6IGZhbHNlO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShvcHRpb25zLm1heFpvb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWluUmVzb2x1dGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdGF0ZWRFeHRlbnQgPSB0aGlzLnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSByZXNvbHV0aW9uXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwocm90YXRlZEV4dGVudCwgW1xuICAgICAgICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgICAgICAgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdLFxuICAgICAgICBdKTtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGlzTmFOKHJlc29sdXRpb24pXG4gICAgICAgICAgICA/IG1pblJlc29sdXRpb25cbiAgICAgICAgICAgIDogTWF0aC5tYXgocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbik7XG4gICAgICAgIHJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBuZWFyZXN0ID8gMCA6IDEpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgY2VudGVyXG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgY29zQW5nbGUgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBjZW50ZXJSb3QgPSBnZXRDZW50ZXIocm90YXRlZEV4dGVudCk7XG4gICAgICAgIGNlbnRlclJvdFswXSArPSAoKHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdKSAvIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgY2VudGVyUm90WzFdICs9ICgocGFkZGluZ1swXSAtIHBhZGRpbmdbMl0pIC8gMikgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgY2VudGVyWCA9IGNlbnRlclJvdFswXSAqIGNvc0FuZ2xlIC0gY2VudGVyUm90WzFdICogc2luQW5nbGU7XG4gICAgICAgIHZhciBjZW50ZXJZID0gY2VudGVyUm90WzFdICogY29zQW5nbGUgKyBjZW50ZXJSb3RbMF0gKiBzaW5BbmdsZTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q29uc3RyYWluZWRDZW50ZXIoW2NlbnRlclgsIGNlbnRlclldLCByZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayA/IG9wdGlvbnMuY2FsbGJhY2sgOiBWT0lEO1xuICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2VudGVyIG9uIGNvb3JkaW5hdGUgYW5kIHZpZXcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNlbnRlck9uID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuY2VudGVyT25JbnRlcm5hbChmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpLCBzaXplLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jZW50ZXJPbkludGVybmFsID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoY2FsY3VsYXRlQ2VudGVyT24oY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24sIHRoaXMuZ2V0UmVzb2x1dGlvbigpLCB0aGlzLmdldFJvdGF0aW9uKCkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNoaWZ0IGJldHdlZW4gbWFwIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IENlbnRlciBzaGlmdC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJTaGlmdCA9IGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKSB7XG4gICAgICAgIHZhciBjZW50ZXJTaGlmdDtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmdfO1xuICAgICAgICBpZiAocGFkZGluZyAmJiBjZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWR1Y2VkU2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygtcm90YXRpb24pO1xuICAgICAgICAgICAgdmFyIHNoaWZ0ZWRDZW50ZXIgPSBjYWxjdWxhdGVDZW50ZXJPbihjZW50ZXIsIHNpemUsIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICAgICAgY2VudGVyU2hpZnQgPSBbXG4gICAgICAgICAgICAgICAgY2VudGVyWzBdIC0gc2hpZnRlZENlbnRlclswXSxcbiAgICAgICAgICAgICAgICBjZW50ZXJbMV0gLSBzaGlmdGVkQ2VudGVyWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2VudGVyU2hpZnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBkZWZpbmVkLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmlzRGVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldENlbnRlckludGVybmFsKCkgJiYgdGhpcy5nZXRSZXNvbHV0aW9uKCkgIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldy4gQW55IGV4dGVudCBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGFDb29yZGluYXRlcyBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdENlbnRlciA9IGZ1bmN0aW9uIChkZWx0YUNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0b1VzZXJDb29yZGluYXRlKHRoaXMudGFyZ2V0Q2VudGVyXywgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICB0aGlzLnNldENlbnRlcihbXG4gICAgICAgICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGRlbHRhQ29vcmRpbmF0ZXMgUmVsYXRpdmUgdmFsdWUgdG8gYWRkLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMudGFyZ2V0Q2VudGVyXztcbiAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbXG4gICAgICAgICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gVGhlIHJhdGlvIHRvIGFwcGx5IG9uIHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29wdF9hbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJhdGlvLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHZhciBhbmNob3IgPSBvcHRfYW5jaG9yICYmIGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRfYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIHRoaXMuYWRqdXN0UmVzb2x1dGlvbkludGVybmFsKHJhdGlvLCBhbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhlIHZpZXcgcmVzb2x1dGlvbiBieSBhIHJhdGlvLCBvcHRpb25hbGx5IHVzaW5nIGFuIGFuY2hvci4gQW55IHJlc29sdXRpb25cbiAgICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFRoZSByYXRpbyB0byBhcHBseSBvbiB0aGUgdmlldyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAocmF0aW8sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHZhciBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0aGlzLnRhcmdldFJlc29sdXRpb25fICogcmF0aW8sIDAsIHNpemUsIGlzTW92aW5nKTtcbiAgICAgICAgaWYgKG9wdF9hbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyWm9vbShuZXdSZXNvbHV0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fICo9IHJhdGlvO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhlIHZpZXcgem9vbSBsZXZlbCwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29wdF9hbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3Rab29tID0gZnVuY3Rpb24gKGRlbHRhLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuYWRqdXN0UmVzb2x1dGlvbihNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCAtZGVsdGEpLCBvcHRfYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSB2YWx1ZSB0byB0aGUgdmlldyByb3RhdGlvbiwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByb3RhdGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSb3RhdGlvbiA9IGZ1bmN0aW9uIChkZWx0YSwgb3B0X2FuY2hvcikge1xuICAgICAgICBpZiAob3B0X2FuY2hvcikge1xuICAgICAgICAgICAgb3B0X2FuY2hvciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRfYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGp1c3RSb3RhdGlvbkludGVybmFsKGRlbHRhLCBvcHRfYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gcm90YXRpb24sIGluIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29wdF9hbmNob3JdIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0Um90YXRpb25JbnRlcm5hbCA9IGZ1bmN0aW9uIChkZWx0YSwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgaXNNb3ZpbmcgPSB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKTtcbiAgICAgICAgdmFyIG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8gKyBkZWx0YSwgaXNNb3ZpbmcpO1xuICAgICAgICBpZiAob3B0X2FuY2hvcikge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUobmV3Um90YXRpb24sIG9wdF9hbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICs9IGRlbHRhO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRlciBvZiB0aGUgY3VycmVudCB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKGZyb21Vc2VyQ29vcmRpbmF0ZShjZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRlciB1c2luZyB0aGUgdmlldyBwcm9qZWN0aW9uIChub3QgdGhlIHVzZXIgcHJvamVjdGlvbikuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9WaWV3SGludC5qc1wiKS5kZWZhdWx0fSBoaW50IEhpbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IHZhbHVlLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldEhpbnQgPSBmdW5jdGlvbiAoaGludCwgZGVsdGEpIHtcbiAgICAgICAgdGhpcy5oaW50c19baGludF0gKz0gZGVsdGE7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5oaW50c19baGludF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlc29sdXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJlc29sdXRpb24gY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcm90YXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJvdGF0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogWm9vbSB0byBhIHNwZWNpZmljIHpvb20gbGV2ZWwuIEFueSByZXNvbHV0aW9uIGNvbnN0cmFpbiB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldFpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICB0aGlzLnNldFJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvbXB1dGUgcm90YXRpb24vcmVzb2x1dGlvbi9jZW50ZXIgYmFzZWQgb24gdGFyZ2V0IHZhbHVlcy5cbiAgICAgKiBOb3RlOiB3ZSBoYXZlIHRvIGNvbXB1dGUgcm90YXRpb24gZmlyc3QsIHRoZW4gcmVzb2x1dGlvbiBhbmQgY2VudGVyIGNvbnNpZGVyaW5nIHRoYXRcbiAgICAgKiBwYXJhbWV0ZXJzIGNhbiBpbmZsdWVuY2Ugb25lIGFub3RoZXIgaW4gY2FzZSBhIHZpZXcgZXh0ZW50IGNvbnN0cmFpbnQgaXMgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfZG9Ob3RDYW5jZWxBbmltc10gRG8gbm90IGNhbmNlbCBhbmltYXRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9mb3JjZU1vdmluZ10gQXBwbHkgY29uc3RyYWludHMgYXMgaWYgdGhlIHZpZXcgaXMgbW92aW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYXBwbHlUYXJnZXRTdGF0ZV8gPSBmdW5jdGlvbiAob3B0X2RvTm90Q2FuY2VsQW5pbXMsIG9wdF9mb3JjZU1vdmluZykge1xuICAgICAgICB2YXIgaXNNb3ZpbmcgPSB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKSB8fCBvcHRfZm9yY2VNb3Zpbmc7XG4gICAgICAgIC8vIGNvbXB1dGUgcm90YXRpb25cbiAgICAgICAgdmFyIG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8sIGlzTW92aW5nKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGhpcy50YXJnZXRSZXNvbHV0aW9uXywgMCwgc2l6ZSwgaXNNb3ZpbmcpO1xuICAgICAgICB2YXIgbmV3Q2VudGVyID0gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgc2l6ZSwgaXNNb3ZpbmcsIHRoaXMuY2FsY3VsYXRlQ2VudGVyU2hpZnQodGhpcy50YXJnZXRDZW50ZXJfLCBuZXdSZXNvbHV0aW9uLCBuZXdSb3RhdGlvbiwgc2l6ZSkpO1xuICAgICAgICBpZiAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OKSAhPT0gbmV3Um90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTiwgbmV3Um90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTikgIT09IG5ld1Jlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OLCBuZXdSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuc2V0KCd6b29tJywgdGhpcy5nZXRab29tKCksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3Q2VudGVyIHx8XG4gICAgICAgICAgICAhdGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikgfHxcbiAgICAgICAgICAgICFlcXVhbHModGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUiksIG5ld0NlbnRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIG5ld0NlbnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkgJiYgIW9wdF9kb05vdENhbmNlbEFuaW1zKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBhbnkgY29uc3RyYWludHMgbmVlZCB0byBiZSBhcHBsaWVkLCBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAgICogVGhpcyBpcyB0eXBpY2FsbHkgZG9uZSBvbiBpbnRlcmFjdGlvbiBlbmQuXG4gICAgICogTm90ZTogY2FsbGluZyB0aGlzIHdpdGggYSBkdXJhdGlvbiBvZiAwIHdpbGwgYXBwbHkgdGhlIGNvbnN0cmFpbmVkIHZhbHVlcyBzdHJhaWdodCBhd2F5LFxuICAgICAqIHdpdGhvdXQgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2R1cmF0aW9uXSBUaGUgYW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5yZXNvbHZlQ29uc3RyYWludHMgPSBmdW5jdGlvbiAob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBvcHRfZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9kdXJhdGlvbiA6IDIwMDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uIHx8IDA7XG4gICAgICAgIHZhciBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKHRoaXMudGFyZ2V0Um90YXRpb25fKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGhpcy50YXJnZXRSZXNvbHV0aW9uXywgZGlyZWN0aW9uLCBzaXplKTtcbiAgICAgICAgdmFyIG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcih0aGlzLnRhcmdldENlbnRlcl8sIG5ld1Jlc29sdXRpb24sIHNpemUsIGZhbHNlLCB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgbmV3Um90YXRpb24sIHNpemUpKTtcbiAgICAgICAgaWYgKGR1cmF0aW9uID09PSAwICYmICF0aGlzLmNhbmNlbEFuY2hvcl8pIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSBuZXdSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSBuZXdSb3RhdGlvbjtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IG5ld0NlbnRlcjtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvciB8fCAoZHVyYXRpb24gPT09IDAgPyB0aGlzLmNhbmNlbEFuY2hvcl8gOiB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmdldFJlc29sdXRpb24oKSAhPT0gbmV3UmVzb2x1dGlvbiB8fFxuICAgICAgICAgICAgdGhpcy5nZXRSb3RhdGlvbigpICE9PSBuZXdSb3RhdGlvbiB8fFxuICAgICAgICAgICAgIXRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSB8fFxuICAgICAgICAgICAgIWVxdWFscyh0aGlzLmdldENlbnRlckludGVybmFsKCksIG5ld0NlbnRlcikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgcm90YXRpb246IG5ld1JvdGF0aW9uLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3Q2VudGVyLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgc3RhcnRlZC5cbiAgICAgKiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkIHRvIGEgc3RhYmxlIG9uZSBpZiBuZWVkZWRcbiAgICAgKiAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmJlZ2luSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIGVuZGVkLiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkXG4gICAgICogdG8gYSBzdGFibGUgb25lIGlmIG5lZWRlZCAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZHVyYXRpb25dIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9yZXNvbHV0aW9uRGlyZWN0aW9uXSBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3B0X2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmVuZEludGVyYWN0aW9uID0gZnVuY3Rpb24gKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IG9wdF9hbmNob3IgJiYgZnJvbVVzZXJDb29yZGluYXRlKG9wdF9hbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgdGhpcy5lbmRJbnRlcmFjdGlvbkludGVybmFsKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgZW5kZWQuIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWRcbiAgICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9kdXJhdGlvbl0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5lbmRJbnRlcmFjdGlvbkludGVybmFsID0gZnVuY3Rpb24gKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAtMSk7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsaWQgcG9zaXRpb24gZm9yIHRoZSB2aWV3IGNlbnRlciBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3RhcmdldFJlc29sdXRpb25dIFRhcmdldCByZXNvbHV0aW9uLiBJZiBub3Qgc3VwcGxpZWQsIHRoZSBjdXJyZW50IG9uZSB3aWxsIGJlIHVzZWQuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gZ3Vlc3MgYSB2YWxpZCBjZW50ZXIgcG9zaXRpb24gYXQgYSBkaWZmZXJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFZhbGlkIGNlbnRlciBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZENlbnRlciA9IGZ1bmN0aW9uICh0YXJnZXRDZW50ZXIsIG9wdF90YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5jZW50ZXIodGFyZ2V0Q2VudGVyLCBvcHRfdGFyZ2V0UmVzb2x1dGlvbiB8fCB0aGlzLmdldFJlc29sdXRpb24oKSwgc2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWxpZCB6b29tIGxldmVsIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2aWV3IGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0Wm9vbSBUYXJnZXQgem9vbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9kaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgem9vbSBsZXZlbC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZFpvb20gPSBmdW5jdGlvbiAodGFyZ2V0Wm9vbSwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgdGFyZ2V0UmVzID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh0YXJnZXRab29tKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGFyZ2V0UmVzLCBvcHRfZGlyZWN0aW9uKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWxpZCByZXNvbHV0aW9uIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2aWV3IGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9kaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgcmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24gPSBmdW5jdGlvbiAodGFyZ2V0UmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gb3B0X2RpcmVjdGlvbiB8fCAwO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXc7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcGFyYW0geyp9IHJldHVyblZhbHVlIFJldHVybiB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHJldHVyblZhbHVlKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJldHVyblZhbHVlKTtcbiAgICB9LCAwKTtcbn1cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc21vb3RoID0gb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50XG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHRlbnQob3B0aW9ucy5leHRlbnQsIG9wdGlvbnMuY29uc3RyYWluT25seUNlbnRlciwgc21vb3RoKTtcbiAgICB9XG4gICAgdmFyIHByb2plY3Rpb24gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICAgIGlmIChvcHRpb25zLm11bHRpV29ybGQgIT09IHRydWUgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpLnNsaWNlKCk7XG4gICAgICAgIGV4dGVudFswXSA9IC1JbmZpbml0eTtcbiAgICAgICAgZXh0ZW50WzJdID0gSW5maW5pdHk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHRlbnQoZXh0ZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gY2VudGVyTm9uZTtcbn1cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHt7Y29uc3RyYWludDogaW1wb3J0KFwiLi9yZXNvbHV0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlLCBtYXhSZXNvbHV0aW9uOiBudW1iZXIsXG4gKiAgICAgbWluUmVzb2x1dGlvbjogbnVtYmVyLCBtaW5ab29tOiBudW1iZXIsIHpvb21GYWN0b3I6IG51bWJlcn19IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQob3B0aW9ucykge1xuICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludDtcbiAgICB2YXIgbWF4UmVzb2x1dGlvbjtcbiAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICAvLyBUT0RPOiBtb3ZlIHRoZXNlIHRvIGJlIG9sIGNvbnN0YW50c1xuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmxheWVycy9vcGVubGF5ZXJzL2lzc3Vlcy8yMDc2XG4gICAgdmFyIGRlZmF1bHRNYXhab29tID0gMjg7XG4gICAgdmFyIGRlZmF1bHRab29tRmFjdG9yID0gMjtcbiAgICB2YXIgbWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogREVGQVVMVF9NSU5fWk9PTTtcbiAgICB2YXIgbWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogZGVmYXVsdE1heFpvb207XG4gICAgdmFyIHpvb21GYWN0b3IgPSBvcHRpb25zLnpvb21GYWN0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUZhY3RvciA6IGRlZmF1bHRab29tRmFjdG9yO1xuICAgIHZhciBtdWx0aVdvcmxkID0gb3B0aW9ucy5tdWx0aVdvcmxkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpV29ybGQgOiBmYWxzZTtcbiAgICB2YXIgc21vb3RoID0gb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludFxuICAgICAgICA6IHRydWU7XG4gICAgdmFyIHNob3dGdWxsRXh0ZW50ID0gb3B0aW9ucy5zaG93RnVsbEV4dGVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaG93RnVsbEV4dGVudCA6IGZhbHNlO1xuICAgIHZhciBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgICB2YXIgcHJvakV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGNvbnN0cmFpbk9ubHlDZW50ZXIgPSBvcHRpb25zLmNvbnN0cmFpbk9ubHlDZW50ZXI7XG4gICAgdmFyIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50O1xuICAgIGlmICghbXVsdGlXb3JsZCAmJiAhZXh0ZW50ICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgICBjb25zdHJhaW5Pbmx5Q2VudGVyID0gZmFsc2U7XG4gICAgICAgIGV4dGVudCA9IHByb2pFeHRlbnQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJlc29sdXRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb25zID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgbWF4UmVzb2x1dGlvbiA9IHJlc29sdXRpb25zW21pblpvb21dO1xuICAgICAgICBtaW5SZXNvbHV0aW9uID1cbiAgICAgICAgICAgIHJlc29sdXRpb25zW21heFpvb21dICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHJlc29sdXRpb25zW21heFpvb21dXG4gICAgICAgICAgICAgICAgOiByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhyZXNvbHV0aW9ucywgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBzbW9vdGgsICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCwgc2hvd0Z1bGxFeHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGRlZmF1bHQgbWluIGFuZCBtYXggcmVzb2x1dGlvblxuICAgICAgICB2YXIgc2l6ZSA9ICFwcm9qRXh0ZW50XG4gICAgICAgICAgICA/IC8vIHVzZSBhbiBleHRlbnQgdGhhdCBjYW4gZml0IHRoZSB3aG9sZSB3b3JsZCBpZiBuZWVkIGJlXG4gICAgICAgICAgICAgICAgKDM2MCAqIE1FVEVSU19QRVJfVU5JVFtVbml0cy5ERUdSRUVTXSkgLyBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKVxuICAgICAgICAgICAgOiBNYXRoLm1heChnZXRXaWR0aChwcm9qRXh0ZW50KSwgZ2V0SGVpZ2h0KHByb2pFeHRlbnQpKTtcbiAgICAgICAgdmFyIGRlZmF1bHRNYXhSZXNvbHV0aW9uID0gc2l6ZSAvIERFRkFVTFRfVElMRV9TSVpFIC8gTWF0aC5wb3coZGVmYXVsdFpvb21GYWN0b3IsIERFRkFVTFRfTUlOX1pPT00pO1xuICAgICAgICB2YXIgZGVmYXVsdE1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvXG4gICAgICAgICAgICBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgZGVmYXVsdE1heFpvb20gLSBERUZBVUxUX01JTl9aT09NKTtcbiAgICAgICAgLy8gdXNlciBwcm92aWRlZCBtYXhSZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgbWF4UmVzb2x1dGlvbiA9IG9wdGlvbnMubWF4UmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWluWm9vbSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhSZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtaW5ab29tKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1c2VyIHByb3ZpZGVkIG1pblJlc29sdXRpb24gdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgICAgICBpZiAobWluUmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWluUmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBnaXZlbiBkaXNjcmV0ZSB6b29tIGxldmVscywgbWluUmVzb2x1dGlvbiBtYXkgYmUgZGlmZmVyZW50IHRoYW4gcHJvdmlkZWRcbiAgICAgICAgbWF4Wm9vbSA9XG4gICAgICAgICAgICBtaW5ab29tICtcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpKTtcbiAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tIC0gbWluWm9vbSk7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUG93ZXIoem9vbUZhY3RvciwgbWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBzbW9vdGgsICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCwgc2hvd0Z1bGxFeHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnN0cmFpbnQ6IHJlc29sdXRpb25Db25zdHJhaW50LFxuICAgICAgICBtYXhSZXNvbHV0aW9uOiBtYXhSZXNvbHV0aW9uLFxuICAgICAgICBtaW5SZXNvbHV0aW9uOiBtaW5SZXNvbHV0aW9uLFxuICAgICAgICBtaW5ab29tOiBtaW5ab29tLFxuICAgICAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gICAgdmFyIGVuYWJsZVJvdGF0aW9uID0gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiA6IHRydWU7XG4gICAgaWYgKGVuYWJsZVJvdGF0aW9uKSB7XG4gICAgICAgIHZhciBjb25zdHJhaW5Sb3RhdGlvbiA9IG9wdGlvbnMuY29uc3RyYWluUm90YXRpb247XG4gICAgICAgIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGNvbnN0cmFpblJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU25hcFRvWmVybygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnN0cmFpblJvdGF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uTm9uZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWluUm90YXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU25hcFRvTihjb25zdHJhaW5Sb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZGlzYWJsZTtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKiBAcGFyYW0ge0FuaW1hdGlvbn0gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikge1xuICAgIGlmIChhbmltYXRpb24uc291cmNlQ2VudGVyICYmIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpIHtcbiAgICAgICAgaWYgKCFjb29yZGluYXRlc0VxdWFsKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIsIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICE9PSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFNoaWZ0ZWQgY2VudGVyLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDZW50ZXJPbihjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbiwgcmVzb2x1dGlvbiwgcm90YXRpb24pIHtcbiAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBwb3NpdGlvblxuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICB2YXIgcm90WCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgICB2YXIgcm90WSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgICByb3RYICs9IChzaXplWzBdIC8gMiAtIHBvc2l0aW9uWzBdKSAqIHJlc29sdXRpb247XG4gICAgcm90WSArPSAocG9zaXRpb25bMV0gLSBzaXplWzFdIC8gMikgKiByZXNvbHV0aW9uO1xuICAgIC8vIGdvIGJhY2sgdG8gb3JpZ2luYWwgYW5nbGVcbiAgICBzaW5BbmdsZSA9IC1zaW5BbmdsZTsgLy8gZ28gYmFjayB0byBvcmlnaW5hbCByb3RhdGlvblxuICAgIHZhciBjZW50ZXJYID0gcm90WCAqIGNvc0FuZ2xlIC0gcm90WSAqIHNpbkFuZ2xlO1xuICAgIHZhciBjZW50ZXJZID0gcm90WSAqIGNvc0FuZ2xlICsgcm90WCAqIHNpbkFuZ2xlO1xuICAgIHJldHVybiBbY2VudGVyWCwgY2VudGVyWV07XG59XG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld0hpbnRcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQU5JTUFUSU5HOiAwLFxuICAgIElOVEVSQUNUSU5HOiAxLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdIaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zaXplXG4gKi9cbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYSBzaXplOiBgW3dpZHRoLCBoZWlnaHRdYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBTaXplXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIGJ1ZmZlcmVkIHNpemUuXG4gKiBAcGFyYW0ge1NpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIGFtb3VudCBieSB3aGljaCB0byBidWZmZXIuXG4gKiBAcGFyYW0ge1NpemV9IFtvcHRfc2l6ZV0gT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBidWZmZXJlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKHNpemUsIG51bSwgb3B0X3NpemUpIHtcbiAgICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfc2l6ZSA9IFswLCAwXTtcbiAgICB9XG4gICAgb3B0X3NpemVbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgICBvcHRfc2l6ZVsxXSA9IHNpemVbMV0gKyAyICogbnVtO1xuICAgIHJldHVybiBvcHRfc2l6ZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBUaGUgc2l6ZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZWEoc2l6ZSkge1xuICAgIHJldHVybiBzaXplWzBdID4gMCAmJiBzaXplWzFdID4gMDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHNpemUgc2NhbGVkIGJ5IGEgcmF0aW8uIFRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFJhdGlvLlxuICogQHBhcmFtIHtTaXplfSBbb3B0X3NpemVdIE9wdGlvbmFsIHJldXNhYmxlIHNpemUgYXJyYXkuXG4gKiBAcmV0dXJuIHtTaXplfSBUaGUgc2NhbGVkIHNpemUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShzaXplLCByYXRpbywgb3B0X3NpemUpIHtcbiAgICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfc2l6ZSA9IFswLCAwXTtcbiAgICB9XG4gICAgb3B0X3NpemVbMF0gPSAoc2l6ZVswXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gICAgb3B0X3NpemVbMV0gPSAoc2l6ZVsxXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gICAgcmV0dXJuIG9wdF9zaXplO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGBTaXplYCBhcnJheSBmb3IgdGhlIHBhc3NlZCBpbiBudW1iZXIgKG1lYW5pbmc6IHNxdWFyZSkgb3JcbiAqIGBTaXplYCBhcnJheS5cbiAqIChtZWFuaW5nOiBub24tc3F1YXJlKSxcbiAqIEBwYXJhbSB7bnVtYmVyfFNpemV9IHNpemUgV2lkdGggYW5kIGhlaWdodC5cbiAqIEBwYXJhbSB7U2l6ZX0gW29wdF9zaXplXSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gU2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2l6ZShzaXplLCBvcHRfc2l6ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKG9wdF9zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdF9zaXplID0gW3NpemUsIHNpemVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0X3NpemVbMF0gPSBzaXplO1xuICAgICAgICAgICAgb3B0X3NpemVbMV0gPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRfc2l6ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvUGx1Z2dhYmxlTWFwXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyIGZyb20gJy4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IExheWVyR3JvdXAsIHsgR3JvdXBFdmVudCB9IGZyb20gJy4vbGF5ZXIvR3JvdXAuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50SGFuZGxlciBmcm9tICcuL01hcEJyb3dzZXJFdmVudEhhbmRsZXIuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBFdmVudCBmcm9tICcuL01hcEV2ZW50LmpzJztcbmltcG9ydCBNYXBFdmVudFR5cGUgZnJvbSAnLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcFByb3BlcnR5IGZyb20gJy4vTWFwUHJvcGVydHkuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL3BvaW50ZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlUXVldWUsIHsgZ2V0VGlsZVByaW9yaXR5IH0gZnJvbSAnLi9UaWxlUXVldWUuanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQgeyBUUlVFIH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNsb25lLCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBlcXVhbHMsIGdldEZvclZpZXdBbmRTaXplLCBpc0VtcHR5LCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGZyb21Vc2VyQ29vcmRpbmF0ZSwgdG9Vc2VyQ29vcmRpbmF0ZSB9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgaGFzQXJlYSB9IGZyb20gJy4vc2l6ZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlIH0gZnJvbSAnLi9kb20uanMnO1xuLyoqXG4gKiBTdGF0ZSBvZiB0aGUgY3VycmVudCBmcmFtZS4gT25seSBgcGl4ZWxSYXRpb2AsIGB0aW1lYCBhbmQgYHZpZXdTdGF0ZWAgc2hvdWxkXG4gKiBiZSB1c2VkIGluIGFwcGxpY2F0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZyYW1lU3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwaXhlbFJhdGlvIFRoZSBwaXhlbCByYXRpbyBvZiB0aGUgZnJhbWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSBUaGUgdGltZSB3aGVuIHJlbmRlcmluZyBvZiB0aGUgZnJhbWUgd2FzIHJlcXVlc3RlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlN0YXRlfSB2aWV3U3RhdGUgVGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgQW5pbWF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSBDb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gZGVjbHV0dGVyVHJlZSBEZWNsdXR0ZXJUcmVlLlxuICogQHByb3BlcnR5IHtudWxsfGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbmV4dEV4dGVudF0gTmV4dCBleHRlbnQgZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXggSW5kZXguXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGU+fSBsYXllclN0YXRlc0FycmF5IExheWVyU3RhdGVzQXJyYXkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGF5ZXJJbmRleCBMYXllckluZGV4LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtIFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLlxuICogQHByb3BlcnR5IHtBcnJheTxQb3N0UmVuZGVyRnVuY3Rpb24+fSBwb3N0UmVuZGVyRnVuY3Rpb25zIFBvc3RSZW5kZXJGdW5jdGlvbnMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcHJvcGVydHkge1RpbGVRdWV1ZX0gdGlsZVF1ZXVlIFRpbGVRdWV1ZS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gdXNlZFRpbGVzIFVzZWRUaWxlcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gdmlld0hpbnRzIFZpZXdIaW50cy5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gd2FudGVkVGlsZXMgV2FudGVkVGlsZXMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWFwSWQgVGhlIGlkIG9mIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSByZW5kZXJUYXJnZXRzIElkZW50aWZpZXJzIG9mIHByZXZpb3VzbHkgcmVuZGVyZWQgZWxlbWVudHMuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKFBsdWdnYWJsZU1hcCwgP0ZyYW1lU3RhdGUpOiBhbnl9IFBvc3RSZW5kZXJGdW5jdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEF0UGl4ZWxPcHRpb25zXG4gKiBAcHJvcGVydHkge3VuZGVmaW5lZHxmdW5jdGlvbihpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+KTogYm9vbGVhbn0gW2xheWVyRmlsdGVyXSBMYXllciBmaWx0ZXJcbiAqIGZ1bmN0aW9uLiBUaGUgZmlsdGVyIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSBvbmUgYXJndW1lbnQsIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllci1jYW5kaWRhdGV9IGFuZCBpdCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbiB2YWx1ZS5cbiAqIE9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYFxuICogd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZSBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2hpdFRvbGVyYW5jZT0wXSBIaXQtZGV0ZWN0aW9uIHRvbGVyYW5jZSBpbiBjc3MgcGl4ZWxzLiBQaXhlbHNcbiAqIGluc2lkZSB0aGUgcmFkaXVzIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24gd2lsbCBiZSBjaGVja2VkIGZvciBmZWF0dXJlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NoZWNrV3JhcHBlZD10cnVlXSBDaGVjay1XcmFwcGVkIFdpbGwgY2hlY2sgZm9yIGZvciB3cmFwcGVkIGdlb21ldHJpZXMgaW5zaWRlIHRoZSByYW5nZSBvZlxuICogICArLy0gMSB3b3JsZCB3aWR0aC4gV29ya3Mgb25seSBpZiBhIHByb2plY3Rpb24gaXMgdXNlZCB0aGF0IGNhbiBiZSB3cmFwcGVkLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNJbnRlcm5hbFxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdIENvbnRyb2xzLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdIEludGVyYWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9IGtleWJvYXJkRXZlbnRUYXJnZXQgS2V5Ym9hcmRFdmVudFRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IG92ZXJsYXlzIE92ZXJsYXlzLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8J2NoYW5nZTpsYXllcmdyb3VwJ3wnY2hhbmdlOnNpemUnfCdjaGFuZ2U6dGFyZ2V0J3wnY2hhbmdlOnZpZXcnfSBNYXBPYmplY3RFdmVudFR5cGVzXG4gKi9cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPE1hcE9iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFR5cGVcIikuVHlwZXMsIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vTWFwRXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuL01hcEV2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5NYXBSZW5kZXJFdmVudFR5cGVzLCBpbXBvcnQoXCIuL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfE1hcE9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50VHlwZVwiKS5UeXBlc3xpbXBvcnQoXCIuL01hcEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnRUeXBlXCIpLk1hcFJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IFBsdWdnYWJsZU1hcE9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBjb25maWcgb3B0aW9ucyBmb3IgdGhlIG1hcC5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gW2NvbnRyb2xzXVxuICogQ29udHJvbHMgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wuZGVmYXVsdHN9IGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW9dIFRoZSByYXRpbyBiZXR3ZWVuXG4gKiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHMgKGRpcHMpIG9uIHRoZSBkZXZpY2UuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBbaW50ZXJhY3Rpb25zXVxuICogSW50ZXJhY3Rpb25zIHRoYXQgYXJlIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBJZiBub3Qgc3BlY2lmaWVkLFxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi5kZWZhdWx0c30gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR8c3RyaW5nfSBba2V5Ym9hcmRFdmVudFRhcmdldF0gVGhlIGVsZW1lbnQgdG9cbiAqIGxpc3RlbiB0byBrZXlib2FyZCBldmVudHMgb24uIFRoaXMgZGV0ZXJtaW5lcyB3aGVuIHRoZSBgS2V5Ym9hcmRQYW5gIGFuZFxuICogYEtleWJvYXJkWm9vbWAgaW50ZXJhY3Rpb25zIHRyaWdnZXIuIEZvciBleGFtcGxlLCBpZiB0aGlzIG9wdGlvbiBpcyBzZXQgdG9cbiAqIGBkb2N1bWVudGAgdGhlIGtleWJvYXJkIGludGVyYWN0aW9ucyB3aWxsIGFsd2F5cyB0cmlnZ2VyLiBJZiB0aGlzIG9wdGlvbiBpc1xuICogbm90IHNwZWNpZmllZCwgdGhlIGVsZW1lbnQgdGhlIGxpYnJhcnkgbGlzdGVucyB0byBrZXlib2FyZCBldmVudHMgb24gaXMgdGhlXG4gKiBtYXAgdGFyZ2V0IChpLmUuIHRoZSB1c2VyLXByb3ZpZGVkIGRpdiBmb3IgdGhlIG1hcCkuIElmIHRoaXMgaXMgbm90XG4gKiBgZG9jdW1lbnRgLCB0aGUgdGFyZ2V0IGVsZW1lbnQgbmVlZHMgdG8gYmUgZm9jdXNlZCBmb3Iga2V5IGV2ZW50cyB0byBiZVxuICogZW1pdHRlZCwgcmVxdWlyaW5nIHRoYXQgdGhlIHRhcmdldCBlbGVtZW50IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58TGF5ZXJHcm91cH0gW2xheWVyc11cbiAqIExheWVycy4gSWYgdGhpcyBpcyBub3QgZGVmaW5lZCwgYSBtYXAgd2l0aCBubyBsYXllcnMgd2lsbCBiZSByZW5kZXJlZC4gTm90ZVxuICogdGhhdCBsYXllcnMgYXJlIHJlbmRlcmVkIGluIHRoZSBvcmRlciBzdXBwbGllZCwgc28gaWYgeW91IHdhbnQsIGZvciBleGFtcGxlLFxuICogYSB2ZWN0b3IgbGF5ZXIgdG8gYXBwZWFyIG9uIHRvcCBvZiBhIHRpbGUgbGF5ZXIsIGl0IG11c3QgY29tZSBhZnRlciB0aGUgdGlsZVxuICogbGF5ZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFRpbGVzTG9hZGluZz0xNl0gTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZFxuICogc2ltdWx0YW5lb3VzbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21vdmVUb2xlcmFuY2U9MV0gVGhlIG1pbmltdW0gZGlzdGFuY2UgaW4gcGl4ZWxzIHRoZVxuICogY3Vyc29yIG11c3QgbW92ZSB0byBiZSBkZXRlY3RlZCBhcyBhIG1hcCBtb3ZlIGV2ZW50IGluc3RlYWQgb2YgYSBjbGljay5cbiAqIEluY3JlYXNpbmcgdGhpcyB2YWx1ZSBjYW4gbWFrZSBpdCBlYXNpZXIgdG8gY2xpY2sgb24gdGhlIG1hcC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBbb3ZlcmxheXNdXG4gKiBPdmVybGF5cyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gQnkgZGVmYXVsdCwgbm8gb3ZlcmxheXMgYXJlIGFkZGVkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFRoZSBjb250YWluZXIgZm9yIHRoZSBtYXAsIGVpdGhlciB0aGVcbiAqIGVsZW1lbnQgaXRzZWxmIG9yIHRoZSBgaWRgIG9mIHRoZSBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvblxuICogdGltZSwge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI3NldFRhcmdldH0gbXVzdCBiZSBjYWxsZWQgZm9yIHRoZSBtYXAgdG8gYmVcbiAqIHJlbmRlcmVkLiBJZiBwYXNzZWQgYnkgZWxlbWVudCwgdGhlIGNvbnRhaW5lciBjYW4gYmUgaW4gYSBzZWNvbmRhcnkgZG9jdW1lbnQuXG4gKiBAcHJvcGVydHkge1ZpZXd8UHJvbWlzZTxpbXBvcnQoXCIuL1ZpZXcuanNcIikuVmlld09wdGlvbnM+fSBbdmlld10gVGhlIG1hcCdzIHZpZXcuICBObyBsYXllciBzb3VyY2VzIHdpbGwgYmVcbiAqIGZldGNoZWQgdW5sZXNzIHRoaXMgaXMgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIG9yIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNzZXRWaWV3fS5cbiAqL1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTGF5ZXJNYXBQcm9wZXJ0eShsYXllcikge1xuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgICAgIGxheWVyLnNldE1hcEludGVybmFsKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyR3JvdXApIHtcbiAgICAgICAgbGF5ZXIuZ2V0TGF5ZXJzKCkuZm9yRWFjaChyZW1vdmVMYXllck1hcFByb3BlcnR5KTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICogQHBhcmFtIHtQbHVnZ2FibGVNYXB9IG1hcCBNYXAuXG4gKi9cbmZ1bmN0aW9uIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXIsIG1hcCkge1xuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgICAgIGxheWVyLnNldE1hcEludGVybmFsKG1hcCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgICAgICB2YXIgbGF5ZXJzID0gbGF5ZXIuZ2V0TGF5ZXJzKCkuZ2V0QXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXJzW2ldLCBtYXApO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9NYXBCcm93c2VyRXZlbnQuanNcIikuTWFwQnJvd3NlckV2ZW50XG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9NYXBFdmVudC5qc1wiKS5NYXBFdmVudFxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcHJlY29tcG9zZVxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcG9zdGNvbXBvc2VcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0I3JlbmRlcmNvbXBsZXRlXG4gKiBAYXBpXG4gKi9cbnZhciBQbHVnZ2FibGVNYXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsdWdnYWJsZU1hcCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcE9wdGlvbnN9IG9wdGlvbnMgTWFwIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGx1Z2dhYmxlTWFwKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7UGx1Z2dhYmxlTWFwT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtQbHVnZ2FibGVNYXBPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7UGx1Z2dhYmxlTWFwT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgdmFyIG9wdGlvbnNJbnRlcm5hbCA9IGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyQ29tcGxldGVfO1xuICAgICAgICAvKiogQHByaXZhdGUgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfID0gX3RoaXMuaGFuZGxlQnJvd3NlckV2ZW50LmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heFRpbGVzTG9hZGluZ18gPVxuICAgICAgICAgICAgb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4VGlsZXNMb2FkaW5nIDogMTY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxSYXRpb18gPVxuICAgICAgICAgICAgb3B0aW9ucy5waXhlbFJhdGlvICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIDogREVWSUNFX1BJWEVMX1JBVElPO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvbkRlbGF5S2V5XztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25EZWxheV8gPSAvKiogQHRoaXMge1BsdWdnYWJsZU1hcH0gKi8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckZyYW1lXyhEYXRlLm5vdygpKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZUluZGV4XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P0ZyYW1lU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXh0ZW50IGF0IHRoZSBwcmV2aW91cyAnbW92ZWVuZCcgZXZlbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmV2aW91c0V4dGVudF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdwb3J0XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uY2xhc3NOYW1lID1cbiAgICAgICAgICAgICdvbC12aWV3cG9ydCcgKyAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93ID8gJyBvbC10b3VjaCcgOiAnJyk7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS56SW5kZXggPSAnMCc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLmNsYXNzTmFtZSA9ICdvbC1vdmVybGF5Y29udGFpbmVyJztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlDb250YWluZXJfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLnpJbmRleCA9ICcwJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50JztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdmVUb2xlcmFuY2VfID0gb3B0aW9ucy5tb3ZlVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fERvY3VtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5Ym9hcmRFdmVudFRhcmdldF8gPSBvcHRpb25zSW50ZXJuYWwua2V5Ym9hcmRFdmVudFRhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udHJvbHMgPSBvcHRpb25zSW50ZXJuYWwuY29udHJvbHMgfHwgbmV3IENvbGxlY3Rpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9ucyA9IG9wdGlvbnNJbnRlcm5hbC5pbnRlcmFjdGlvbnMgfHwgbmV3IENvbGxlY3Rpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJsYXlzXyA9IG9wdGlvbnNJbnRlcm5hbC5vdmVybGF5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbG9va3VwIG9mIG92ZXJsYXlzIGJ5IGlkLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheUlkSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PFBvc3RSZW5kZXJGdW5jdGlvbj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpbGVRdWV1ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVRdWV1ZV8gPSBuZXcgVGlsZVF1ZXVlKF90aGlzLmdldFRpbGVQcmlvcml0eS5iaW5kKF90aGlzKSwgX3RoaXMuaGFuZGxlVGlsZUNoYW5nZV8uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLCBfdGhpcy5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5WSUVXLCBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5TSVpFLCBfdGhpcy5oYW5kbGVTaXplQ2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5UQVJHRVQsIF90aGlzLmhhbmRsZVRhcmdldENoYW5nZWRfKTtcbiAgICAgICAgLy8gc2V0UHJvcGVydGllcyB3aWxsIHRyaWdnZXIgdGhlIHJlbmRlcmluZyBvZiB0aGUgbWFwIGlmIHRoZSBtYXBcbiAgICAgICAgLy8gaXMgXCJkZWZpbmVkXCIgYWxyZWFkeS5cbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhvcHRpb25zSW50ZXJuYWwudmFsdWVzKTtcbiAgICAgICAgdmFyIG1hcCA9IF90aGlzO1xuICAgICAgICBpZiAob3B0aW9ucy52aWV3ICYmICEob3B0aW9ucy52aWV3IGluc3RhbmNlb2YgVmlldykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudmlldy50aGVuKGZ1bmN0aW9uICh2aWV3T3B0aW9ucykge1xuICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KG5ldyBWaWV3KHZpZXdPcHRpb25zKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5jb250cm9scy5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcCh0aGlzKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheXNfLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3ZlcmxheUludGVybmFsXyhcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9ICovIChldmVudC5lbGVtZW50KSk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5vdmVybGF5c18uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIG92ZXJsYXkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQuZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuY29udHJvbHMuZm9yRWFjaChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgICAgICAgKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIGNvbnRyb2wuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmZvckVhY2goXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24uXG4gICAgICAgICAqIEB0aGlzIHtQbHVnZ2FibGVNYXB9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uLnNldE1hcCh0aGlzKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLm92ZXJsYXlzXy5mb3JFYWNoKF90aGlzLmFkZE92ZXJsYXlJbnRlcm5hbF8uYmluZChfdGhpcykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcmVuZGVyZXIvTWFwLmpzXCIpLmRlZmF1bHR9IFRoZSBtYXAgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZSBhIG1hcCB0eXBlIHRoYXQgaGFzIGEgY3JlYXRlUmVuZGVyZXIgbWV0aG9kJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIGNvbnRyb2wgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5hZGRDb250cm9sID0gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5nZXRDb250cm9scygpLnB1c2goY29udHJvbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIGludGVyYWN0aW9uIHRvIHRoZSBtYXAuIElmIHlvdSB3YW50IHRvIGFkZCBhbiBpbnRlcmFjdGlvblxuICAgICAqIGF0IGFub3RoZXIgcG9pbnQgb2YgdGhlIGNvbGxlY3Rpb24gdXNlIGBnZXRJbnRlcmFjdGlvbigpYCBhbmQgdGhlIG1ldGhvZHNcbiAgICAgKiBhdmFpbGFibGUgb24ge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LiBUaGlzIGNhbiBiZSB1c2VkIHRvXG4gICAgICogc3RvcCB0aGUgZXZlbnQgcHJvcGFnYXRpb24gZnJvbSB0aGUgaGFuZGxlRXZlbnQgZnVuY3Rpb24uIFRoZSBpbnRlcmFjdGlvbnNcbiAgICAgKiBnZXQgdG8gaGFuZGxlIHRoZSBldmVudHMgaW4gdGhlIHJldmVyc2Ugb3JkZXIgb2YgdGhpcyBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5wdXNoKGludGVyYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGdpdmVuIGxheWVyIHRvIHRoZSB0b3Agb2YgdGhpcyBtYXAuIElmIHlvdSB3YW50IHRvIGFkZCBhIGxheWVyXG4gICAgICogZWxzZXdoZXJlIGluIHRoZSBzdGFjaywgdXNlIGBnZXRMYXllcnMoKWAgYW5kIHRoZSBtZXRob2RzIGF2YWlsYWJsZSBvblxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5hZGRMYXllciA9IGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJzKCk7XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9Hcm91cC5qc1wiKS5Hcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgYWRkIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVMYXllckFkZF8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgc2V0TGF5ZXJNYXBQcm9wZXJ0eShldmVudC5sYXllciwgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIG92ZXJsYXkgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheSA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHRoaXMuZ2V0T3ZlcmxheXMoKS5wdXNoKG92ZXJsYXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBkZWFscyB3aXRoIG1hcCdzIG92ZXJsYXkgY29sbGVjdGlvbiBjaGFuZ2VzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheUludGVybmFsXyA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHZhciBpZCA9IG92ZXJsYXkuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gb3ZlcmxheTtcbiAgICAgICAgfVxuICAgICAgICBvdmVybGF5LnNldE1hcCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0KG51bGwpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmQgZXhlY3V0ZSBhXG4gICAgICogY2FsbGJhY2sgd2l0aCBlYWNoIGludGVyc2VjdGluZyBmZWF0dXJlLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlIGRldGVjdGlvbiBjYW5cbiAgICAgKiBiZSBjb25maWd1cmVkIHRocm91Z2ggdGhlIGBsYXllckZpbHRlcmAgb3B0aW9uIGluIGBvcHRfb3B0aW9uc2AuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZVxuICAgICAqICAgICBjYWxsZWQgd2l0aCB0d28gYXJndW1lbnRzLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgb25lXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZSBmZWF0dXJlfSBvclxuICAgICAqICAgICB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlIHJlbmRlciBmZWF0dXJlfSBhdCB0aGUgcGl4ZWwsIHRoZSBzZWNvbmQgaXNcbiAgICAgKiAgICAgdGhlIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9IG9mIHRoZSBmZWF0dXJlIGFuZCB3aWxsIGJlIG51bGwgZm9yXG4gICAgICogICAgIHVubWFuYWdlZCBsYXllcnMuIFRvIHN0b3AgZGV0ZWN0aW9uLCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIHJldHVybiBhXG4gICAgICogICAgIHRydXRoeSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdCwgaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGxhc3RcbiAgICAgKiBjYWxsYmFjayBleGVjdXRpb24sIG9yIHRoZSBmaXJzdCB0cnV0aHkgY2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgICAgIG9wdF9vcHRpb25zID0gb3B0X29wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgICAgIHZhciBjaGVja1dyYXBwZWQgPSBvcHRfb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5mcmFtZVN0YXRlXywgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGNhbGxiYWNrLCBudWxsLCBsYXllckZpbHRlciwgbnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25hbCBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IFRoZSBkZXRlY3RlZCBmZWF0dXJlcyBvclxuICAgICAqIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgd2VyZSBmb3VuZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRQaXhlbChwaXhlbCwgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgIH0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBsYXllcnMgZnJvbSBhbGwgbGF5ZXIgZ3JvdXBzLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEFsbExheWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheWVycyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGRMYXllcnNGcm9tKGxheWVyR3JvdXApIHtcbiAgICAgICAgICAgIGxheWVyR3JvdXAuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZExheWVyc0Zyb20obGF5ZXIuZ2V0TGF5ZXJzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFkZExheWVyc0Zyb20odGhpcy5nZXRMYXllcnMoKSk7XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgbGF5ZXJzIHRoYXQgaGF2ZSBhIGNvbG9yIHZhbHVlIGF0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmRcbiAgICAgKiBleGVjdXRlIGEgY2FsbGJhY2sgd2l0aCBlYWNoIG1hdGNoaW5nIGxheWVyLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggYG9wdF9sYXllckZpbHRlcmAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBJbiBtYXBzIHdpdGggbW9yZSB0aGFuIG9uZSBsYXllciwgdGhpcyBtZXRob2Qgd2lsbCB0eXBpY2FsbHkgcmV0dXJuIHBpeGVsIGRhdGFcbiAgICAgKiByZXByZXNlbnRpbmcgdGhlIGNvbXBvc2VkIGltYWdlIG9mIGFsbCBsYXllcnMgdmlzaWJsZSBhdCB0aGUgZ2l2ZW4gcGl4ZWwg4oCTIGJlY2F1c2UgbGF5ZXJzXG4gICAgICogd2lsbCBnZW5lcmFsbHkgc2hhcmUgdGhlIHNhbWUgcmVuZGVyaW5nIGNvbnRleHQuICBUbyBmb3JjZSBsYXllcnMgdG8gcmVuZGVyIHNlcGFyYXRlbHksIGFuZFxuICAgICAqIHRvIGdldCBwaXhlbCBkYXRhIHJlcHJlc2VudGluZyBvbmx5IG9uZSBsYXllciBhdCBhIHRpbWUsIHlvdSBjYW4gYXNzaWduIGVhY2ggbGF5ZXIgYSB1bmlxdWVcbiAgICAgKiBgY2xhc3NOYW1lYCBpbiBpdHMgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFja1xuICAgICAqICAgICBMYXllciBjYWxsYmFjay4gVGhpcyBjYWxsYmFjayB3aWxsIHJlY2VpdmUgdHdvIGFyZ3VtZW50czogZmlyc3QgaXMgdGhlXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9LCBzZWNvbmQgYXJndW1lbnQgaXMgYW4gYXJyYXkgcmVwcmVzZW50aW5nXG4gICAgICogICAgIFtSLCBHLCBCLCBBXSBwaXhlbCB2YWx1ZXMgKDAgLSAyNTUpIGFuZCB3aWxsIGJlIGBudWxsYCBmb3IgbGF5ZXIgdHlwZXNcbiAgICAgKiAgICAgdGhhdCBkbyBub3QgY3VycmVudGx5IHN1cHBvcnQgdGhpcyBhcmd1bWVudC4gVG8gc3RvcCBkZXRlY3Rpb24sIGNhbGxiYWNrXG4gICAgICogICAgIGZ1bmN0aW9ucyBjYW4gcmV0dXJuIGEgdHJ1dGh5IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnN9IFtvcHRfb3B0aW9uc10gQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQsIGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZiBsYXN0XG4gICAgICogY2FsbGJhY2sgZXhlY3V0aW9uLCBvciB0aGUgZmlyc3QgdHJ1dGh5IGNhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKiBAdGVtcGxhdGUgUyxUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgY2FsbGJhY2ssIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRpb25zLmhpdFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oaXRUb2xlcmFuY2UgOiAwO1xuICAgICAgICB2YXIgbGF5ZXJGaWx0ZXIgPSBvcHRpb25zLmxheWVyRmlsdGVyIHx8IFRSVUU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5mb3JFYWNoTGF5ZXJBdFBpeGVsKHBpeGVsLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBsYXllckZpbHRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgZmVhdHVyZXMgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggYG9wdF9sYXllckZpbHRlcmAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBwaXhlbD9cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgICAgIG9wdF9vcHRpb25zID0gb3B0X29wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgICAgIHZhciBjaGVja1dyYXBwZWQgPSBvcHRfb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNoZWNrV3JhcHBlZCwgbGF5ZXJGaWx0ZXIsIG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB1c2VyIHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEV2ZW50Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB2aWV3IHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwIHBpeGVsIHBvc2l0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7VUlFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gUGl4ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRQaXhlbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdmlld3BvcnRQb3NpdGlvbiA9IHRoaXMudmlld3BvcnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZXZlbnRQb3NpdGlvbiA9IFxuICAgICAgICAvL0ZJWE1FIEFyZSB3ZSByZWFsbHkgY2FsbGluZyB0aGlzIHdpdGggYSBUb3VjaEV2ZW50IGFueXdoZXJlP1xuICAgICAgICAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50XG4gICAgICAgICAgICA/IC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8gKGV2ZW50KS5jaGFuZ2VkVG91Y2hlc1swXVxuICAgICAgICAgICAgOiAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChldmVudCk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBldmVudFBvc2l0aW9uLmNsaWVudFggLSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQsXG4gICAgICAgICAgICBldmVudFBvc2l0aW9uLmNsaWVudFkgLSB2aWV3cG9ydFBvc2l0aW9uLnRvcCxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGFyZ2V0IGluIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgd2hhdCBpcyBlbnRlcmVkIGFzIGFuIG9wdGlvbiBvciBpbiBzZXRUYXJnZXQ6XG4gICAgICogaWYgdGhhdCB3YXMgYW4gZWxlbWVudCwgaXQgcmV0dXJucyBhbiBlbGVtZW50OyBpZiBhIHN0cmluZywgaXQgcmV0dXJucyB0aGF0LlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IFRoZSBFbGVtZW50IG9yIGlkIG9mIHRoZSBFbGVtZW50IHRoYXQgdGhlXG4gICAgICogICAgIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR8c3RyaW5nfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlRBUkdFVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBET00gZWxlbWVudCBpbnRvIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLiBJbiBjb250cmFzdCB0b1xuICAgICAqIGBnZXRUYXJnZXRgIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm4gYW4gYEVsZW1lbnRgLCBvciBgbnVsbGAgaWYgdGhlXG4gICAgICogbWFwIGhhcyBubyB0YXJnZXQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBlbGVtZW50IHRoYXQgdGhlIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoKTtcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldClcbiAgICAgICAgICAgICAgICA6IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgICAqIHVzZXIgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIGZvciB0aGUgcGl4ZWwgcG9zaXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gdG9Vc2VyQ29vcmRpbmF0ZSh0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCksIHRoaXMuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgICAqIG1hcCB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSBmb3IgdGhlIHBpeGVsIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHZhciBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgY29udHJvbHMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgY29udHJvbHNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBDb250cm9scy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBvdmVybGF5cy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBvdmVybGF5c1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBPdmVybGF5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFuIG92ZXJsYXkgYnkgaXRzIGlkZW50aWZpZXIgKHRoZSB2YWx1ZSByZXR1cm5lZCBieSBvdmVybGF5LmdldElkKCkpLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgaW5kZXggdHJlYXRzIHN0cmluZyBhbmQgbnVtZXJpYyBpZGVudGlmaWVycyBhcyB0aGUgc2FtZS4gU29cbiAgICAgKiBgbWFwLmdldE92ZXJsYXlCeUlkKDIpYCB3aWxsIHJldHVybiBhbiBvdmVybGF5IHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgT3ZlcmxheSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBPdmVybGF5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBvdmVybGF5ID0gdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIHJldHVybiBvdmVybGF5ICE9PSB1bmRlZmluZWQgPyBvdmVybGF5IDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFwIGludGVyYWN0aW9ucy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBpbnRlcmFjdGlvbnNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEludGVyYWN0aW9ucyBhcmUgdXNlZCBmb3IgZS5nLiBwYW4sIHpvb20gYW5kIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IEludGVyYWN0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyYWN0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGF5ZXJncm91cCBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAgICogQHJldHVybiB7TGF5ZXJHcm91cH0gQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllckdyb3VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuTEFZRVJHUk9VUCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYW55IGV4aXN0aW5nIGxheWVycyBhbmQgYWRkIGxheWVycyB0byB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgVGhlIGxheWVycyB0byBiZSBhZGRlZCB0byB0aGUgbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldExheWVycyA9IGZ1bmN0aW9uIChsYXllcnMpIHtcbiAgICAgICAgdmFyIGdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgICAgIGlmIChsYXllcnMgaW5zdGFuY2VvZiBDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBncm91cC5zZXRMYXllcnMobGF5ZXJzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGdyb3VwLmdldExheWVycygpO1xuICAgICAgICBjb2xsZWN0aW9uLmNsZWFyKCk7XG4gICAgICAgIGNvbGxlY3Rpb24uZXh0ZW5kKGxheWVycyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbGxlY3Rpb24gb2YgbGF5ZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgcmV0dXJuIGxheWVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVycyBoYXZlIHNvdXJjZXMgdGhhdCBhcmUgc3RpbGwgbG9hZGluZy5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldExvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlc0FycmF5ID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGVzQXJyYXlbaV0ubGF5ZXI7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9ICovIChsYXllcikuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXJcbiAgICAgKiBwcm9qZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQSBtYXAgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHZhciB2aWV3Q29vcmRpbmF0ZSA9IGZyb21Vc2VyQ29vcmRpbmF0ZShjb29yZGluYXRlLCB0aGlzLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwodmlld0Nvb3JkaW5hdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIG1hcCB2aWV3XG4gICAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIEEgbWFwIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gQSBwaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGNvb3JkaW5hdGUuc2xpY2UoMCwgMikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5TSVpFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLiBBIHZpZXcgbWFuYWdlcyBwcm9wZXJ0aWVzIHN1Y2ggYXNcbiAgICAgKiBjZW50ZXIgYW5kIHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7Vmlld30gVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge1ZpZXd9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5WSUVXKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCB0aGF0IHNlcnZlcyBhcyB0aGUgY29udGFpbmVyIGZvciBvdmVybGF5cy4gIEVsZW1lbnRzIGFkZGVkIHRvXG4gICAgICogdGhpcyBjb250YWluZXIgd2lsbCBsZXQgbW91c2Vkb3duIGFuZCB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsXG4gICAgICogc28gY2xpY2tzIGFuZCBnZXN0dXJlcyBvbiBhbiBvdmVybGF5IHdpbGwgdHJpZ2dlciB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9XG4gICAgICogZXZlbnRzLlxuICAgICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheUNvbnRhaW5lcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgYSBjb250YWluZXIgZm9yIG92ZXJsYXlzIHRoYXQgZG9uJ3QgYWxsb3dcbiAgICAgKiBldmVudCBwcm9wYWdhdGlvbi4gRWxlbWVudHMgYWRkZWQgdG8gdGhpcyBjb250YWluZXIgd29uJ3QgbGV0IG1vdXNlZG93biBhbmRcbiAgICAgKiB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheVxuICAgICAqIGRvbid0IHRyaWdnZXIgYW55IHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0uXG4gICAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fSBUaGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIgdGhhdCBzdG9wcyBldmVudHMuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFEb2N1bWVudH0gVGhlIGRvY3VtZW50IHdoZXJlIHRoZSBtYXAgaXMgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3duZXJEb2N1bWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldEVsZW1lbnQgPyB0YXJnZXRFbGVtZW50Lm93bmVyRG9jdW1lbnQgOiBkb2N1bWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdGlsZUNlbnRlciBUaWxlIGNlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGlsZVJlc29sdXRpb24gVGlsZSByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRpbGVQcmlvcml0eSA9IGZ1bmN0aW9uICh0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0VGlsZVByaW9yaXR5KHRoaXMuZnJhbWVTdGF0ZV8sIHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VUlFdmVudH0gYnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRfdHlwZV0gVHlwZS5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUJyb3dzZXJFdmVudCA9IGZ1bmN0aW9uIChicm93c2VyRXZlbnQsIG9wdF90eXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gb3B0X3R5cGUgfHwgYnJvd3NlckV2ZW50LnR5cGU7XG4gICAgICAgIHZhciBtYXBCcm93c2VyRXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KHR5cGUsIHRoaXMsIGJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcEJyb3dzZXJFdmVudH0gbWFwQnJvd3NlckV2ZW50IFRoZSBldmVudCB0byBoYW5kbGUuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVNYXBCcm93c2VyRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgLy8gV2l0aCBubyB2aWV3IGRlZmluZWQsIHdlIGNhbm5vdCB0cmFuc2xhdGUgcGl4ZWxzIGludG8gZ2VvZ3JhcGhpY2FsXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBzbyBpbnRlcmFjdGlvbnMgY2Fubm90IGJlIHVzZWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge1BvaW50ZXJFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IG9yaWdpbmFsRXZlbnQudHlwZTtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgICAgICAgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuV0hFRUwgfHxcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLktFWURPV04pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLmdldE93bmVyRG9jdW1lbnQoKTtcbiAgICAgICAgICAgIHZhciByb290Tm9kZSA9IHRoaXMudmlld3BvcnRfLmdldFJvb3ROb2RlXG4gICAgICAgICAgICAgICAgPyB0aGlzLnZpZXdwb3J0Xy5nZXRSb290Tm9kZSgpXG4gICAgICAgICAgICAgICAgOiBkb2M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gLyoqIEB0eXBlIHtOb2RlfSAqLyAob3JpZ2luYWxFdmVudC50YXJnZXQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhlIHRhcmdldCBpcyBhIGNoaWxkIG9mIHRoZSBjb250YWluZXIgZm9yIGVsZW1lbnRzIHdob3NlIGV2ZW50cyBhcmUgbm90IG1lYW50XG4gICAgICAgICAgICAvLyB0byBiZSBoYW5kbGVkIGJ5IG1hcCBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLmNvbnRhaW5zKHRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIGNvbnRhaW5lciB0aGF0IGlzIG5vIGxvbmdlciBpbiB0aGUgcGFnZS5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIGZvciB0aGUgdGFyZ2V0IHRvIG5vIGxvbmdlciBiZSBpbiB0aGUgcGFnZSBpZiBpdCBoYXMgYmVlbiByZW1vdmVkIGluIGFuXG4gICAgICAgICAgICAgICAgLy8gZXZlbnQgbGlzdGVuZXIsIHRoaXMgbWlnaHQgaGFwcGVuIGluIGEgQ29udHJvbCB0aGF0IHJlY3JlYXRlcyBpdCdzIGNvbnRlbnQgYmFzZWQgb25cbiAgICAgICAgICAgICAgICAvLyB1c2VyIGludGVyYWN0aW9uIGVpdGhlciBtYW51YWxseSBvciB2aWEgYSByZW5kZXIgaW4gc29tZXRoaW5nIGxpa2UgaHR0cHM6Ly9yZWFjdGpzLm9yZy9cbiAgICAgICAgICAgICAgICAhKHJvb3ROb2RlID09PSBkb2MgPyBkb2MuZG9jdW1lbnRFbGVtZW50IDogcm9vdE5vZGUpLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWFwQnJvd3NlckV2ZW50LmZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KG1hcEJyb3dzZXJFdmVudCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25zQXJyYXkgPSB0aGlzLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCkuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbnRlcmFjdGlvbnNBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc0FycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5nZXRNYXAoKSAhPT0gdGhpcyB8fFxuICAgICAgICAgICAgICAgICAgICAhaW50ZXJhY3Rpb24uZ2V0QWN0aXZlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29udCA9IGludGVyYWN0aW9uLmhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250IHx8IG1hcEJyb3dzZXJFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVQb3N0UmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgICAgIC8vIE1hbmFnZSB0aGUgdGlsZSBxdWV1ZVxuICAgICAgICAvLyBJbWFnZSBsb2FkcyBhcmUgZXhwZW5zaXZlIGFuZCBhIGxpbWl0ZWQgcmVzb3VyY2UsIHNvIHRyeSB0byB1c2UgdGhlbVxuICAgICAgICAvLyBlZmZpY2llbnRseTpcbiAgICAgICAgLy8gKiBXaGVuIHRoZSB2aWV3IGlzIHN0YXRpYyB3ZSBhbGxvdyBhIGxhcmdlIG51bWJlciBvZiBwYXJhbGxlbCB0aWxlIGxvYWRzXG4gICAgICAgIC8vICAgdG8gY29tcGxldGUgdGhlIGZyYW1lIGFzIHF1aWNrbHkgYXMgcG9zc2libGUuXG4gICAgICAgIC8vICogV2hlbiBhbmltYXRpbmcgb3IgaW50ZXJhY3RpbmcsIGltYWdlIGxvYWRzIGNhbiBjYXVzZSBqYW5rcywgc28gd2UgcmVkdWNlXG4gICAgICAgIC8vICAgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxvYWRzIHBlciBmcmFtZSBhbmQgbGltaXQgdGhlIG51bWJlciBvZiBwYXJhbGxlbFxuICAgICAgICAvLyAgIHRpbGUgbG9hZHMgdG8gcmVtYWluIHJlYWN0aXZlIHRvIHZpZXcgY2hhbmdlcyBhbmQgdG8gcmVkdWNlIHRoZSBjaGFuY2Ugb2ZcbiAgICAgICAgLy8gICBsb2FkaW5nIHRpbGVzIHRoYXQgd2lsbCBxdWlja2x5IGRpc2FwcGVhciBmcm9tIHZpZXcuXG4gICAgICAgIHZhciB0aWxlUXVldWUgPSB0aGlzLnRpbGVRdWV1ZV87XG4gICAgICAgIGlmICghdGlsZVF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIG1heFRvdGFsTG9hZGluZyA9IHRoaXMubWF4VGlsZXNMb2FkaW5nXztcbiAgICAgICAgICAgIHZhciBtYXhOZXdMb2FkcyA9IG1heFRvdGFsTG9hZGluZztcbiAgICAgICAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgICAgICAgICAgICAgaWYgKGhpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgaGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3dPbkZyYW1lQnVkZ2V0ID0gRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDg7XG4gICAgICAgICAgICAgICAgICAgIG1heFRvdGFsTG9hZGluZyA9IGxvd09uRnJhbWVCdWRnZXQgPyAwIDogODtcbiAgICAgICAgICAgICAgICAgICAgbWF4TmV3TG9hZHMgPSBsb3dPbkZyYW1lQnVkZ2V0ID8gMCA6IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVRdWV1ZS5nZXRUaWxlc0xvYWRpbmcoKSA8IG1heFRvdGFsTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5yZXByaW9yaXRpemUoKTsgLy8gRklYTUUgb25seSBjYWxsIGlmIHZpZXcgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICB0aWxlUXVldWUubG9hZE1vcmVUaWxlcyhtYXhUb3RhbExvYWRpbmcsIG1heE5ld0xvYWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVTdGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy5oYXNMaXN0ZW5lcihSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUpICYmXG4gICAgICAgICAgICAhZnJhbWVTdGF0ZS5hbmltYXRlICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBsZXRlXykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3N0UmVuZGVyRnVuY3Rpb25zID0gdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcG9zdFJlbmRlckZ1bmN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zW2ldKHRoaXMsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVTaXplQ2hhbmdlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldFZpZXcoKSAmJiAhdGhpcy5nZXRWaWV3KCkuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpLnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRhcmdldENoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c19baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ09OVEVYVE1FTlUsIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfKTtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLldIRUVMLCB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50Xyk7XG4gICAgICAgICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGFyZ2V0IG1heSBiZSB1bmRlZmluZWQsIG51bGwsIGEgc3RyaW5nIG9yIGFuIEVsZW1lbnQuXG4gICAgICAgIC8vIElmIGl0J3MgYSBzdHJpbmcgd2UgY29udmVydCBpdCB0byBhbiBFbGVtZW50IGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgICAvLyBJZiBpdCdzIG5vdCBub3cgYW4gRWxlbWVudCB3ZSByZW1vdmUgdGhlIHZpZXdwb3J0IGZyb20gdGhlIERPTS5cbiAgICAgICAgLy8gSWYgaXQncyBhbiBFbGVtZW50IHdlIGFwcGVuZCB0aGUgdmlld3BvcnQgZWxlbWVudCB0byBpdC5cbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfID0gbmV3IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIodGhpcywgdGhpcy5tb3ZlVG9sZXJhbmNlXyk7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gTWFwQnJvd3NlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uYWRkRXZlbnRMaXN0ZW5lcihNYXBCcm93c2VyRXZlbnRUeXBlW2tleV0sIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydF8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ09OVEVYVE1FTlUsIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5XSEVFTCwgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8sIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2UpO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRWaWV3ID0gdGhpcy5nZXRPd25lckRvY3VtZW50KCkuZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICB2YXIga2V5Ym9hcmRFdmVudFRhcmdldCA9ICF0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfXG4gICAgICAgICAgICAgICAgPyB0YXJnZXRFbGVtZW50XG4gICAgICAgICAgICAgICAgOiB0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGtleWJvYXJkRXZlbnRUYXJnZXQsIEV2ZW50VHlwZS5LRVlET1dOLCB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCwgdGhpcyksXG4gICAgICAgICAgICAgICAgbGlzdGVuKGtleWJvYXJkRXZlbnRUYXJnZXQsIEV2ZW50VHlwZS5LRVlQUkVTUywgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpLFxuICAgICAgICAgICAgICAgIGxpc3RlbihkZWZhdWx0VmlldywgRXZlbnRUeXBlLlJFU0laRSwgdGhpcy51cGRhdGVTaXplLCB0aGlzKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTaXplKCk7XG4gICAgICAgIC8vIHVwZGF0ZVNpemUgY2FsbHMgc2V0U2l6ZSwgc28gbm8gbmVlZCB0byBjYWxsIHRoaXMucmVuZGVyXG4gICAgICAgIC8vIG91cnNlbHZlcyBoZXJlLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcbiAgICAgICAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbGlzdGVuKHZpZXcsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4odmlldywgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICAgICAgICB2aWV3LnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXykge1xuICAgICAgICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllckdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgICAgIGlmIChsYXllckdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxheWVyQWRkXyhuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBsYXllckdyb3VwKSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5yZW5kZXIsIHRoaXMpLFxuICAgICAgICAgICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsICdhZGRsYXllcicsIHRoaXMuaGFuZGxlTGF5ZXJBZGRfLCB0aGlzKSxcbiAgICAgICAgICAgICAgICBsaXN0ZW4obGF5ZXJHcm91cCwgJ3JlbW92ZWxheWVyJywgdGhpcy5oYW5kbGVMYXllclJlbW92ZV8sIHRoaXMpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5pc1JlbmRlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmZyYW1lU3RhdGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gaW1tZWRpYXRlIHJlbmRlciBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW5kZXJTeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVkcmF3cyBhbGwgdGV4dCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlZHJhd1RleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlcyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZXNbaV0ubGF5ZXI7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaGFzUmVuZGVyZXIoKSkge1xuICAgICAgICAgICAgICAgIGxheWVyLmdldFJlbmRlcmVyKCkuaGFuZGxlRm9udHNDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgYSBtYXAgcmVuZGVyaW5nIChhdCB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXJfICYmIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBnaXZlbiBjb250cm9sIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgY29udHJvbCAob3IgdW5kZWZpbmVkXG4gICAgICogICAgIGlmIHRoZSBjb250cm9sIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbiAoY29udHJvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb250cm9scygpLnJlbW92ZShjb250cm9sKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZ2l2ZW4gaW50ZXJhY3Rpb24gZnJvbSB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgaW50ZXJhY3Rpb24gKG9yXG4gICAgICogICAgIHVuZGVmaW5lZCBpZiB0aGUgaW50ZXJhY3Rpb24gd2FzIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucmVtb3ZlKGludGVyYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGxheWVyIChvciB1bmRlZmluZWQgaWYgdGhlXG4gICAgICogICAgIGxheWVyIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUxheWVyID0gZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgcmV0dXJuIGxheWVycy5yZW1vdmUobGF5ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0dyb3VwLmpzXCIpLkdyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciByZW1vdmUgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUxheWVyUmVtb3ZlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZW1vdmVMYXllck1hcFByb3BlcnR5KGV2ZW50LmxheWVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZ2l2ZW4gb3ZlcmxheSBmcm9tIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gb3ZlcmxheSBPdmVybGF5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgb3ZlcmxheSAob3IgdW5kZWZpbmVkXG4gICAgICogICAgIGlmIHRoZSBvdmVybGF5IHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZU92ZXJsYXkgPSBmdW5jdGlvbiAob3ZlcmxheSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPdmVybGF5cygpLnJlbW92ZShvdmVybGF5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRpbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbmRlckZyYW1lXyA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICAvKiogQHR5cGUgez9GcmFtZVN0YXRlfSAqL1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQgJiYgaGFzQXJlYShzaXplKSAmJiB2aWV3ICYmIHZpZXcuaXNEZWYoKSkge1xuICAgICAgICAgICAgdmFyIHZpZXdIaW50cyA9IHZpZXcuZ2V0SGludHModGhpcy5mcmFtZVN0YXRlXyA/IHRoaXMuZnJhbWVTdGF0ZV8udmlld0hpbnRzIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciB2aWV3U3RhdGUgPSB2aWV3LmdldFN0YXRlKCk7XG4gICAgICAgICAgICBmcmFtZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGFuaW1hdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtOiB0aGlzLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyxcbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlOiBudWxsLFxuICAgICAgICAgICAgICAgIGV4dGVudDogZ2V0Rm9yVmlld0FuZFNpemUodmlld1N0YXRlLmNlbnRlciwgdmlld1N0YXRlLnJlc29sdXRpb24sIHZpZXdTdGF0ZS5yb3RhdGlvbiwgc2l6ZSksXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuZnJhbWVJbmRleF8rKyxcbiAgICAgICAgICAgICAgICBsYXllckluZGV4OiAwLFxuICAgICAgICAgICAgICAgIGxheWVyU3RhdGVzQXJyYXk6IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKSxcbiAgICAgICAgICAgICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgIHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtOiB0aGlzLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyxcbiAgICAgICAgICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zOiBbXSxcbiAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZTogdGhpcy50aWxlUXVldWVfLFxuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICAgICAgdXNlZFRpbGVzOiB7fSxcbiAgICAgICAgICAgICAgICB2aWV3U3RhdGU6IHZpZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICB2aWV3SGludHM6IHZpZXdIaW50cyxcbiAgICAgICAgICAgICAgICB3YW50ZWRUaWxlczoge30sXG4gICAgICAgICAgICAgICAgbWFwSWQ6IGdldFVpZCh0aGlzKSxcbiAgICAgICAgICAgICAgICByZW5kZXJUYXJnZXRzOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodmlld1N0YXRlLm5leHRDZW50ZXIgJiYgdmlld1N0YXRlLm5leHRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdGF0aW9uID0gaXNOYU4odmlld1N0YXRlLm5leHRSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyB2aWV3U3RhdGUucm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgOiB2aWV3U3RhdGUubmV4dFJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIGZyYW1lU3RhdGUubmV4dEV4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKHZpZXdTdGF0ZS5uZXh0Q2VudGVyLCB2aWV3U3RhdGUubmV4dFJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYW1lU3RhdGVfID0gZnJhbWVTdGF0ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8ucmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoZnJhbWVTdGF0ZS5hbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18sIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucyk7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNGcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmVTdGFydCA9ICF0aGlzLnByZXZpb3VzRXh0ZW50XyB8fFxuICAgICAgICAgICAgICAgICAgICAoIWlzRW1wdHkodGhpcy5wcmV2aW91c0V4dGVudF8pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhZXF1YWxzKGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50XykpO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTU9WRVNUQVJULCB0aGlzLCBwcmV2aW91c0ZyYW1lU3RhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0V4dGVudF8gPSBjcmVhdGVPclVwZGF0ZUVtcHR5KHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaWRsZSA9IHRoaXMucHJldmlvdXNFeHRlbnRfICYmXG4gICAgICAgICAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gJiZcbiAgICAgICAgICAgICAgICAhZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddICYmXG4gICAgICAgICAgICAgICAgIWVxdWFscyhmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuICAgICAgICAgICAgaWYgKGlkbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFRU5ELCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgICAgICAgICAgY2xvbmUoZnJhbWVTdGF0ZS5leHRlbnQsIHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5QT1NUUkVOREVSLCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGVfID1cbiAgICAgICAgICAgICF0aGlzLnRpbGVRdWV1ZV8uZ2V0VGlsZXNMb2FkaW5nKCkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy50aWxlUXVldWVfLmdldENvdW50KCkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5nZXRMb2FkaW5nKCk7XG4gICAgICAgIGlmICghdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pIHtcbiAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVBvc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsYXllcmdyb3VwIG9mIHRoaXMgbWFwLlxuICAgICAqIEBwYXJhbSB7TGF5ZXJHcm91cH0gbGF5ZXJHcm91cCBBIGxheWVyIGdyb3VwIGNvbnRhaW5pbmcgdGhlIGxheWVycyBpbiB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldExheWVyR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xuICAgICAgICB2YXIgb2xkTGF5ZXJHcm91cCA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpO1xuICAgICAgICBpZiAob2xkTGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVMYXllclJlbW92ZV8obmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgb2xkTGF5ZXJHcm91cCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LkxBWUVSR1JPVVAsIGxheWVyR3JvdXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzaXplIG9mIHRoaXMgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBzaXplIFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuU0laRSwgc2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRhcmdldCBlbGVtZW50IHRvIHJlbmRlciB0aGlzIG1hcCBpbnRvLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudFxuICAgICAqICAgICB0aGF0IHRoZSBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlRBUkdFVCwgdGFyZ2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmlldyBmb3IgdGhpcyBtYXAuXG4gICAgICogQHBhcmFtIHtWaWV3fFByb21pc2U8aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn0gdmlldyBUaGUgdmlldyB0aGF0IGNvbnRyb2xzIHRoaXMgbWFwLlxuICAgICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBvcHRpb25zIGZvciBjb25zdHJ1Y3RpbmcgYSB2aWV3LiAgVGhpc1xuICAgICAqIGFsdGVybmF0aXZlIGFsbG93cyB2aWV3IHByb3BlcnRpZXMgdG8gYmUgcmVzb2x2ZWQgYnkgc291cmNlcyBvciBvdGhlciBjb21wb25lbnRzIHRoYXQgbG9hZFxuICAgICAqIHZpZXctcmVsYXRlZCBtZXRhZGF0YS5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldFZpZXcgPSBmdW5jdGlvbiAodmlldykge1xuICAgICAgICBpZiAoIXZpZXcgfHwgdmlldyBpbnN0YW5jZW9mIFZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIHZpZXcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIG5ldyBWaWV3KCkpO1xuICAgICAgICB2YXIgbWFwID0gdGhpcztcbiAgICAgICAgdmlldy50aGVuKGZ1bmN0aW9uICh2aWV3T3B0aW9ucykge1xuICAgICAgICAgICAgbWFwLnNldFZpZXcobmV3IFZpZXcodmlld09wdGlvbnMpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3JjZSBhIHJlY2FsY3VsYXRpb24gb2YgdGhlIG1hcCB2aWV3cG9ydCBzaXplLiAgVGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAgICAgKiB0aGlyZC1wYXJ0eSBjb2RlIGNoYW5nZXMgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS51cGRhdGVTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICAgICAgICB2YXIgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGggLVxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyTGVmdFdpZHRoJ10pIC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdMZWZ0J10pIC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdSaWdodCddKSAtXG4gICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJSaWdodFdpZHRoJ10pO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlclRvcFdpZHRoJ10pIC1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdUb3AnXSkgLVxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0JvdHRvbSddKSAtXG4gICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJCb3R0b21XaWR0aCddKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4od2lkdGgpICYmICFpc05hTihoZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0FyZWEoc2l6ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgISEodGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBtYXAgdmlzaWJsZSBiZWNhdXNlIHRoZSBtYXAgY29udGFpbmVyJ3Mgd2lkdGggb3IgaGVpZ2h0IGFyZSAwLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTaXplKHNpemUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY29tcHV0ZXMgdGhlIHZpZXdwb3J0IHNpemUgYW5kIHNhdmUgaXQgb24gdGhlIHZpZXcgb2JqZWN0IChpZiBhbnkpXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnVwZGF0ZVZpZXdwb3J0U2l6ZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZS53aWR0aCAmJiBjb21wdXRlZFN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNpemUgPSBbXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGNvbXB1dGVkU3R5bGUud2lkdGgsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlldy5zZXRWaWV3cG9ydFNpemUoc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQbHVnZ2FibGVNYXA7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQHBhcmFtIHtNYXBPcHRpb25zfSBvcHRpb25zIE1hcCBvcHRpb25zLlxuICogQHJldHVybiB7TWFwT3B0aW9uc0ludGVybmFsfSBJbnRlcm5hbCBtYXAgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc0ludGVybmFsKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAgICovXG4gICAgdmFyIGtleWJvYXJkRXZlbnRUYXJnZXQgPSBudWxsO1xuICAgIGlmIChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlib2FyZEV2ZW50VGFyZ2V0ID1cbiAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgKi9cbiAgICB2YXIgdmFsdWVzID0ge307XG4gICAgdmFyIGxheWVyR3JvdXAgPSBvcHRpb25zLmxheWVycyAmJlxuICAgICAgICB0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMubGF5ZXJzKS5nZXRMYXllcnMpID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAob3B0aW9ucy5sYXllcnMpXG4gICAgICAgIDogbmV3IExheWVyR3JvdXAoeyBsYXllcnM6IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMubGF5ZXJzKSB9KTtcbiAgICB2YWx1ZXNbTWFwUHJvcGVydHkuTEFZRVJHUk9VUF0gPSBsYXllckdyb3VwO1xuICAgIHZhbHVlc1tNYXBQcm9wZXJ0eS5UQVJHRVRdID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgdmFsdWVzW01hcFByb3BlcnR5LlZJRVddID1cbiAgICAgICAgb3B0aW9ucy52aWV3IGluc3RhbmNlb2YgVmlldyA/IG9wdGlvbnMudmlldyA6IG5ldyBWaWV3KCk7XG4gICAgdmFyIGNvbnRyb2xzO1xuICAgIGlmIChvcHRpb25zLmNvbnRyb2xzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jb250cm9scykpIHtcbiAgICAgICAgICAgIGNvbnRyb2xzID0gbmV3IENvbGxlY3Rpb24ob3B0aW9ucy5jb250cm9scy5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMuY29udHJvbHMpLmdldEFycmF5KSA9PT0gJ2Z1bmN0aW9uJywgNDcpOyAvLyBFeHBlY3RlZCBgY29udHJvbHNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIGNvbnRyb2xzID0gLyoqIEB0eXBlIHtDb2xsZWN0aW9ufSAqLyAob3B0aW9ucy5jb250cm9scyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9ucztcbiAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmludGVyYWN0aW9ucykpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuaW50ZXJhY3Rpb25zLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5pbnRlcmFjdGlvbnMpLmdldEFycmF5KSA9PT1cbiAgICAgICAgICAgICAgICAnZnVuY3Rpb24nLCA0OCk7IC8vIEV4cGVjdGVkIGBpbnRlcmFjdGlvbnNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMuaW50ZXJhY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3ZlcmxheXM7XG4gICAgaWYgKG9wdGlvbnMub3ZlcmxheXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLm92ZXJsYXlzKSkge1xuICAgICAgICAgICAgb3ZlcmxheXMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLm92ZXJsYXlzLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5vdmVybGF5cykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLCA0OSk7IC8vIEV4cGVjdGVkIGBvdmVybGF5c2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYGltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uYFxuICAgICAgICAgICAgb3ZlcmxheXMgPSBvcHRpb25zLm92ZXJsYXlzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRyb2xzOiBjb250cm9scyxcbiAgICAgICAgaW50ZXJhY3Rpb25zOiBpbnRlcmFjdGlvbnMsXG4gICAgICAgIGtleWJvYXJkRXZlbnRUYXJnZXQ6IGtleWJvYXJkRXZlbnRUYXJnZXQsXG4gICAgICAgIG92ZXJsYXlzOiBvdmVybGF5cyxcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBsdWdnYWJsZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsdWdnYWJsZU1hcC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQ29udHJvbFxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XSBUaGUgZWxlbWVudCBpcyB0aGUgY29udHJvbCdzXG4gKiBjb250YWluZXIgZWxlbWVudC4gVGhpcyBvbmx5IG5lZWRzIHRvIGJlIHNwZWNpZmllZCBpZiB5b3UncmUgZGV2ZWxvcGluZ1xuICogYSBjdXN0b20gY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudFxuICogdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIGlzIGEgdmlzaWJsZSB3aWRnZXQgd2l0aCBhIERPTSBlbGVtZW50IGluIGEgZml4ZWQgcG9zaXRpb24gb24gdGhlXG4gKiBzY3JlZW4uIFRoZXkgY2FuIGludm9sdmUgdXNlciBpbnB1dCAoYnV0dG9ucyksIG9yIGJlIGluZm9ybWF0aW9uYWwgb25seTtcbiAqIHRoZSBwb3NpdGlvbiBpcyBkZXRlcm1pbmVkIHVzaW5nIENTUy4gQnkgZGVmYXVsdCB0aGVzZSBhcmUgcGxhY2VkIGluIHRoZVxuICogY29udGFpbmVyIHdpdGggQ1NTIGNsYXNzIG5hbWUgYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCwgYnV0IGNhbiB1c2VcbiAqIGFueSBvdXRzaWRlIERPTSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGNvbnRyb2xzLiBZb3UgY2FuIHVzZSBpdCBmb3Igc2ltcGxlIGN1c3RvbVxuICogY29udHJvbHMgYnkgY3JlYXRpbmcgdGhlIGVsZW1lbnQgd2l0aCBsaXN0ZW5lcnMsIGNyZWF0aW5nIGFuIGluc3RhbmNlOlxuICogYGBganNcbiAqIHZhciBteUNvbnRyb2wgPSBuZXcgQ29udHJvbCh7ZWxlbWVudDogbXlFbGVtZW50fSk7XG4gKiBgYGBcbiAqIGFuZCB0aGVuIGFkZGluZyB0aGlzIHRvIHRoZSBtYXAuXG4gKlxuICogVGhlIG1haW4gYWR2YW50YWdlIG9mIGhhdmluZyB0aGlzIGFzIGEgY29udHJvbCByYXRoZXIgdGhhbiBhIHNpbXBsZSBzZXBhcmF0ZVxuICogRE9NIGVsZW1lbnQgaXMgdGhhdCBwcmV2ZW50aW5nIHByb3BhZ2F0aW9uIGlzIGhhbmRsZWQgZm9yIHlvdS4gQ29udHJvbHNcbiAqIHdpbGwgYWxzbyBiZSBvYmplY3RzIGluIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LCBzbyB5b3UgY2FuIHVzZSB0aGVpciBtZXRob2RzLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBleHRlbmQgdGhpcyBiYXNlIGZvciB5b3VyIG93biBjb250cm9sIGNsYXNzLiBTZWVcbiAqIGV4YW1wbGVzL2N1c3RvbS1jb250cm9scyBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gZG8gdGhpcy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBDb250cm9sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250cm9sLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBDb250cm9sIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udHJvbChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuICAgICAgICBpZiAoZWxlbWVudCAmJiAhb3B0aW9ucy50YXJnZXQgJiYgIWVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVsZW1lbnQgPSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlzdGVuZXJLZXlzID0gW107XG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRUYXJnZXQob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBjb250cm9sLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGNvbnRyb2wgZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICAgKiB0aGUgbWFwIGhlcmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubGlzdGVuZXJLZXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLm1hcF8gPSBtYXA7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldF9cbiAgICAgICAgICAgICAgICA/IHRoaXMudGFyZ2V0X1xuICAgICAgICAgICAgICAgIDogbWFwLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQoKTtcbiAgICAgICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyICE9PSBWT0lEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcktleXMucHVzaChsaXN0ZW4obWFwLCBNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcy5yZW5kZXIsIHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udHJvbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG1hcEV2ZW50KSB7IH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNldCBhIHRhcmdldCBlbGVtZW50IGZvciB0aGUgY29udHJvbC4gSXQgaGFzIG5vXG4gICAgICogZWZmZWN0IGlmIGl0IGlzIGNhbGxlZCBhZnRlciB0aGUgY29udHJvbCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgbWFwIChpLmUuXG4gICAgICogYWZ0ZXIgYHNldE1hcGAgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sKS4gSWYgbm8gYHRhcmdldGAgaXMgc2V0IGluIHRoZVxuICAgICAqIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSBjb250cm9sIGNvbnN0cnVjdG9yIGFuZCBpZiBgc2V0VGFyZ2V0YCBpcyBub3QgY2FsbGVkXG4gICAgICogdGhlbiB0aGUgY29udHJvbCBpcyBhZGRlZCB0byB0aGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IHRhcmdldCBUYXJnZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRfID1cbiAgICAgICAgICAgIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6IHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBDb250cm9sO1xufShCYXNlT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBDb250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQXR0cmlidXRpb25cbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19DT0xMQVBTRUQsIENMQVNTX0NPTlRST0wsIENMQVNTX1VOU0VMRUNUQUJMRSB9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyByZW1vdmVDaGlsZHJlbiwgcmVwbGFjZU5vZGUgfSBmcm9tICcuLi9kb20uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtYXR0cmlidXRpb24nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdVxuICogd2FudCB0aGUgY29udHJvbCB0byBiZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAnc1xuICogdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsYXBzaWJsZV0gU3BlY2lmeSBpZiBhdHRyaWJ1dGlvbnMgY2FuXG4gKiBiZSBjb2xsYXBzZWQuIElmIG5vdCBzcGVjaWZpZWQsIHNvdXJjZXMgY29udHJvbCB0aGlzIGJlaGF2aW9yIHdpdGggdGhlaXJcbiAqIGBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZWAgc2V0dGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxhcHNlZD10cnVlXSBTcGVjaWZ5IGlmIGF0dHJpYnV0aW9ucyBzaG91bGRcbiAqIGJlIGNvbGxhcHNlZCBhdCBzdGFydHVwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nQXR0cmlidXRpb25zJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtsYWJlbD0naSddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2V4cGFuZENsYXNzTmFtZT1jbGFzc05hbWUgKyAnLWV4cGFuZCddIENTUyBjbGFzcyBuYW1lIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtjb2xsYXBzZUxhYmVsPSfigLonXSBUZXh0IGxhYmVsIHRvIHVzZVxuICogZm9yIHRoZSBleHBhbmRlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbGxhcHNlQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctY29sbGFwc2UnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlXG4gKiBleHBhbmRlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlblxuICogdGhlIGNvbnRyb2wgc2hvdWxkIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gKiBjYWxsYmFjay5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250cm9sIHRvIHNob3cgYWxsIHRoZSBhdHRyaWJ1dGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBsYXllciBzb3VyY2VzXG4gKiBpbiB0aGUgbWFwLiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIGluY2x1ZGVkIGluIG1hcHMuXG4gKiBCeSBkZWZhdWx0IGl0IHdpbGwgc2hvdyBpbiB0aGUgYm90dG9tIHJpZ2h0IHBvcnRpb24gb2YgdGhlIG1hcCwgYnV0IHRoaXMgY2FuXG4gKiBiZSBjaGFuZ2VkIGJ5IHVzaW5nIGEgY3NzIHNlbGVjdG9yIGZvciBgLm9sLWF0dHJpYnV0aW9uYC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBBdHRyaWJ1dGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXR0cmlidXRpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIEF0dHJpYnV0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXR0cmlidXRpb24ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVsRWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xsYXBzZWRfID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29sbGFwc2VkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNlZCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVzZXJDb2xsYXBzZWRfID0gX3RoaXMuY29sbGFwc2VkXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcnJpZGVDb2xsYXBzaWJsZV8gPSBvcHRpb25zLmNvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbGxhcHNpYmxlXyA9XG4gICAgICAgICAgICBvcHRpb25zLmNvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNpYmxlIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFfdGhpcy5jb2xsYXBzaWJsZV8pIHtcbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlZF8gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLWF0dHJpYnV0aW9uJztcbiAgICAgICAgdmFyIHRpcExhYmVsID0gb3B0aW9ucy50aXBMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aXBMYWJlbCA6ICdBdHRyaWJ1dGlvbnMnO1xuICAgICAgICB2YXIgZXhwYW5kQ2xhc3NOYW1lID0gb3B0aW9ucy5leHBhbmRDbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmV4cGFuZENsYXNzTmFtZVxuICAgICAgICAgICAgOiBjbGFzc05hbWUgKyAnLWV4cGFuZCc7XG4gICAgICAgIHZhciBjb2xsYXBzZUxhYmVsID0gb3B0aW9ucy5jb2xsYXBzZUxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNlTGFiZWwgOiAnXFx1MjAzQSc7XG4gICAgICAgIHZhciBjb2xsYXBzZUNsYXNzTmFtZSA9IG9wdGlvbnMuY29sbGFwc2VDbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNvbGxhcHNlQ2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctY29sbHBhc2UnO1xuICAgICAgICBpZiAodHlwZW9mIGNvbGxhcHNlTGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlTGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VMYWJlbF8udGV4dENvbnRlbnQgPSBjb2xsYXBzZUxhYmVsO1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VMYWJlbF8uY2xhc3NOYW1lID0gY29sbGFwc2VDbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb2xsYXBzZUxhYmVsXyA9IGNvbGxhcHNlTGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhYmVsID0gb3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYWJlbCA6ICdpJztcbiAgICAgICAgaWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8uY2xhc3NOYW1lID0gZXhwYW5kQ2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2ZUxhYmVsID0gX3RoaXMuY29sbGFwc2libGVfICYmICFfdGhpcy5jb2xsYXBzZWRfID8gX3RoaXMuY29sbGFwc2VMYWJlbF8gOiBfdGhpcy5sYWJlbF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbl8uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghX3RoaXMuY29sbGFwc2VkXykpO1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbl8uYXBwZW5kQ2hpbGQoYWN0aXZlTGFiZWwpO1xuICAgICAgICBfdGhpcy50b2dnbGVCdXR0b25fLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNMSUNLLCBfdGhpcy5oYW5kbGVDbGlja18uYmluZChfdGhpcyksIGZhbHNlKTtcbiAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIENMQVNTX1VOU0VMRUNUQUJMRSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgQ0xBU1NfQ09OVFJPTCArXG4gICAgICAgICAgICAoX3RoaXMuY29sbGFwc2VkXyAmJiBfdGhpcy5jb2xsYXBzaWJsZV8gPyAnICcgKyBDTEFTU19DT0xMQVBTRUQgOiAnJykgK1xuICAgICAgICAgICAgKF90aGlzLmNvbGxhcHNpYmxlXyA/ICcnIDogJyBvbC11bmNvbGxhcHNpYmxlJyk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnRvZ2dsZUJ1dHRvbl8pO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnVsRWxlbWVudF8pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIGN1cnJlbnRseSByZW5kZXJlZCByZXNvbHV0aW9ucy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29sbGVjdCBhIGxpc3Qgb2YgdmlzaWJsZSBhdHRyaWJ1dGlvbnMgYW5kIHNldCB0aGUgY29sbGFwc2libGUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBBdHRyaWJ1dGlvbnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18gPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlcm1pbmUgaWYgYW4gYXR0cmlidXRpb24gYWxyZWFkeSBleGlzdHMuXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbG9va3VwID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdmlzaWJsZSBhdHRyaWJ1dGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHZpc2libGVBdHRyaWJ1dGlvbnMgPSBbXTtcbiAgICAgICAgdmFyIGNvbGxhcHNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgICAgICAgaWYgKCFpblZpZXcobGF5ZXJTdGF0ZSwgZnJhbWVTdGF0ZS52aWV3U3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXJTdGF0ZS5sYXllcikuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9uR2V0dGVyID0gc291cmNlLmdldEF0dHJpYnV0aW9ucygpO1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGlvbkdldHRlcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9ucyA9IGF0dHJpYnV0aW9uR2V0dGVyKGZyYW1lU3RhdGUpO1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbGxhcHNpYmxlID1cbiAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZSAmJiBzb3VyY2UuZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUoKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gYXR0cmlidXRpb25zLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXR0cmlidXRpb25zW2pdIGluIGxvb2t1cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVBdHRyaWJ1dGlvbnMucHVzaChhdHRyaWJ1dGlvbnNbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9va3VwW2F0dHJpYnV0aW9uc1tqXV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoYXR0cmlidXRpb25zIGluIGxvb2t1cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm92ZXJyaWRlQ29sbGFwc2libGVfKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbGxhcHNpYmxlKGNvbGxhcHNpYmxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlzaWJsZUF0dHJpYnV0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnRfID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF0dHJpYnV0aW9ucyA9IHRoaXMuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18oZnJhbWVTdGF0ZSk7XG4gICAgICAgIHZhciB2aXNpYmxlID0gYXR0cmlidXRpb25zLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkVmlzaWJsZV8gIT0gdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB2aXNpYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcXVhbHMoYXR0cmlidXRpb25zLCB0aGlzLnJlbmRlcmVkQXR0cmlidXRpb25zXykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVDaGlsZHJlbih0aGlzLnVsRWxlbWVudF8pO1xuICAgICAgICAvLyBhcHBlbmQgdGhlIGF0dHJpYnV0aW9uc1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhdHRyaWJ1dGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhdHRyaWJ1dGlvbnNbaV07XG4gICAgICAgICAgICB0aGlzLnVsRWxlbWVudF8uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBhdHRyaWJ1dGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBoYW5kbGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgICAgIHRoaXMudXNlckNvbGxhcHNlZF8gPSB0aGlzLmNvbGxhcHNlZF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5oYW5kbGVUb2dnbGVfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShDTEFTU19DT0xMQVBTRUQpO1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzZWRfKSB7XG4gICAgICAgICAgICByZXBsYWNlTm9kZSh0aGlzLmNvbGxhcHNlTGFiZWxfLCB0aGlzLmxhYmVsXyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXBsYWNlTm9kZSh0aGlzLmxhYmVsXywgdGhpcy5jb2xsYXBzZUxhYmVsXyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsYXBzZWRfID0gIXRoaXMuY29sbGFwc2VkXztcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghdGhpcy5jb2xsYXBzZWRfKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGlvbiBpcyBjb2xsYXBzaWJsZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNpYmxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxhcHNpYmxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoZSBhdHRyaWJ1dGlvbiBzaG91bGQgYmUgY29sbGFwc2libGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjb2xsYXBzaWJsZSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2libGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5zZXRDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uIChjb2xsYXBzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZV8gPT09IGNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsYXBzaWJsZV8gPSBjb2xsYXBzaWJsZTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ29sLXVuY29sbGFwc2libGUnKTtcbiAgICAgICAgaWYgKHRoaXMudXNlckNvbGxhcHNlZF8pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsYXBzZSBvciBleHBhbmQgdGhlIGF0dHJpYnV0aW9uIGFjY29yZGluZyB0byB0aGUgcGFzc2VkIHBhcmFtZXRlci4gV2lsbFxuICAgICAqIG5vdCBkbyBhbnl0aGluZyBpZiB0aGUgYXR0cmlidXRpb24gaXNuJ3QgY29sbGFwc2libGUgb3IgaWYgdGhlIGN1cnJlbnRcbiAgICAgKiBjb2xsYXBzZWQgc3RhdGUgaXMgYWxyZWFkeSB0aGUgb25lIHJlcXVlc3RlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbGxhcHNlZCBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuc2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKGNvbGxhcHNlZCkge1xuICAgICAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gY29sbGFwc2VkO1xuICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2libGVfIHx8IHRoaXMuY29sbGFwc2VkXyA9PT0gY29sbGFwc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYHRydWVgIHdoZW4gdGhlIGF0dHJpYnV0aW9uIGlzIGN1cnJlbnRseSBjb2xsYXBzZWQgb3IgYGZhbHNlYFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsYXBzZWRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBhdHRyaWJ1dGlvbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobWFwRXZlbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50XyhtYXBFdmVudC5mcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGlvbjtcbn0oQ29udHJvbCkpO1xuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdHRyaWJ1dGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvUm90YXRlXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgQ0xBU1NfQ09OVFJPTCwgQ0xBU1NfSElEREVOLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1yb3RhdGUnXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbbGFiZWw9J+KHpyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nUmVzZXQgcm90YXRpb24nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHJvdGF0ZSB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbXBhc3NDbGFzc05hbWU9J29sLWNvbXBhc3MnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIGNvbXBhc3MuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9IaWRlPXRydWVdIEhpZGUgdGhlIGNvbnRyb2wgd2hlbiByb3RhdGlvbiBpcyAwLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBzaG91bGRcbiAqIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbigpOnZvaWR9IFtyZXNldE5vcnRoXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBpcyBjbGlja2VkLlxuICogVGhpcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGByZXNldE5vcnRoYC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50IHRoZSBjb250cm9sIHRvIGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGJ1dHRvbiBjb250cm9sIHRvIHJlc2V0IHJvdGF0aW9uIHRvIDAuXG4gKiBUbyBzdHlsZSB0aGlzIGNvbnRyb2wgdXNlIGNzcyBzZWxlY3RvciBgLm9sLXJvdGF0ZWAuIEEgYC5vbC1oaWRkZW5gIGNzc1xuICogc2VsZWN0b3IgaXMgYWRkZWQgdG8gdGhlIGJ1dHRvbiB3aGVuIHRoZSByb3RhdGlvbiBpcyAwLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFJvdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBSb3RhdGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1yb3RhdGUnO1xuICAgICAgICB2YXIgbGFiZWwgPSBvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxhYmVsIDogJ1xcdTIxRTcnO1xuICAgICAgICB2YXIgY29tcGFzc0NsYXNzTmFtZSA9IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZVxuICAgICAgICAgICAgOiAnb2wtY29tcGFzcyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYWJlbF8gPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTmFtZSA9IGNvbXBhc3NDbGFzc05hbWU7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXyA9IGxhYmVsO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTGlzdC5hZGQoY29tcGFzc0NsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpcExhYmVsID0gb3B0aW9ucy50aXBMYWJlbCA/IG9wdGlvbnMudGlwTGFiZWwgOiAnUmVzZXQgcm90YXRpb24nO1xuICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnLXJlc2V0JztcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChfdGhpcy5sYWJlbF8pO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0xJQ0ssIF90aGlzLmhhbmRsZUNsaWNrXy5iaW5kKF90aGlzKSwgZmFsc2UpO1xuICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9IGNsYXNzTmFtZSArICcgJyArIENMQVNTX1VOU0VMRUNUQUJMRSArICcgJyArIENMQVNTX0NPTlRST0w7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIF90aGlzLmNhbGxSZXNldE5vcnRoXyA9IG9wdGlvbnMucmVzZXROb3J0aCA/IG9wdGlvbnMucmVzZXROb3J0aCA6IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvSGlkZV8gPSBvcHRpb25zLmF1dG9IaWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9IaWRlIDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoX3RoaXMuYXV0b0hpZGVfKSB7XG4gICAgICAgICAgICBfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm90YXRlLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FsbFJlc2V0Tm9ydGhfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlc2V0Tm9ydGhfKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Tm9ydGhfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm90YXRlLnByb3RvdHlwZS5yZXNldE5vcnRoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICAvLyB0aGUgbWFwIGRvZXMgbm90IGhhdmUgYSB2aWV3LCBzbyB3ZSBjYW4ndCBhY3RcbiAgICAgICAgICAgIC8vIHVwb24gaXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm90YXRpb24gPSB2aWV3LmdldFJvdGF0aW9uKCk7XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvbl8gPiAwICYmIHJvdGF0aW9uICUgKDIgKiBNYXRoLlBJKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0Um90YXRpb24oMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgcm90YXRlIGNvbnRyb2wgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBSb3RhdGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChtYXBFdmVudCkge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IG1hcEV2ZW50LmZyYW1lU3RhdGU7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICBpZiAocm90YXRpb24gIT0gdGhpcy5yb3RhdGlvbl8pIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9IaWRlXykge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWlucyA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zICYmIHJvdGF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5zICYmIHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX0hJRERFTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYWJlbF8uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUm90YXRlO1xufShDb250cm9sKSk7XG5leHBvcnQgZGVmYXVsdCBSb3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL1pvb21cbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXpvb20nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbUluQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctaW4nXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20taW4gYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0Q2xhc3NOYW1lPWNsYXNzTmFtZSArICctb3V0J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21JbkxhYmVsPScrJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSB6b29tLWluXG4gKiBidXR0b24uIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFt6b29tT3V0TGFiZWw9J+KAkyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgem9vbS1vdXQgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21JblRpcExhYmVsPSdab29tIGluJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0VGlwTGFiZWw9J1pvb20gb3V0J10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggY2xpY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIHdpdGggMiBidXR0b25zLCBvbmUgZm9yIHpvb20gaW4gYW5kIG9uZSBmb3Igem9vbSBvdXQuXG4gKiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIG9mIGEgbWFwLiBUbyBzdHlsZSB0aGlzIGNvbnRyb2xcbiAqIHVzZSBjc3Mgc2VsZWN0b3JzIGAub2wtem9vbS1pbmAgYW5kIGAub2wtem9vbS1vdXRgLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFpvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIFpvb20gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC16b29tJztcbiAgICAgICAgdmFyIGRlbHRhID0gb3B0aW9ucy5kZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWx0YSA6IDE7XG4gICAgICAgIHZhciB6b29tSW5DbGFzc05hbWUgPSBvcHRpb25zLnpvb21JbkNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbUluQ2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctaW4nO1xuICAgICAgICB2YXIgem9vbU91dENsYXNzTmFtZSA9IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZVxuICAgICAgICAgICAgOiBjbGFzc05hbWUgKyAnLW91dCc7XG4gICAgICAgIHZhciB6b29tSW5MYWJlbCA9IG9wdGlvbnMuem9vbUluTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluTGFiZWwgOiAnKyc7XG4gICAgICAgIHZhciB6b29tT3V0TGFiZWwgPSBvcHRpb25zLnpvb21PdXRMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tT3V0TGFiZWwgOiAnXFx1MjAxMyc7XG4gICAgICAgIHZhciB6b29tSW5UaXBMYWJlbCA9IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgOiAnWm9vbSBpbic7XG4gICAgICAgIHZhciB6b29tT3V0VGlwTGFiZWwgPSBvcHRpb25zLnpvb21PdXRUaXBMYWJlbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbU91dFRpcExhYmVsXG4gICAgICAgICAgICA6ICdab29tIG91dCc7XG4gICAgICAgIHZhciBpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaW5FbGVtZW50LmNsYXNzTmFtZSA9IHpvb21JbkNsYXNzTmFtZTtcbiAgICAgICAgaW5FbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgaW5FbGVtZW50LnRpdGxlID0gem9vbUluVGlwTGFiZWw7XG4gICAgICAgIGluRWxlbWVudC5hcHBlbmRDaGlsZCh0eXBlb2Ygem9vbUluTGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21JbkxhYmVsKVxuICAgICAgICAgICAgOiB6b29tSW5MYWJlbCk7XG4gICAgICAgIGluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMsIGRlbHRhKSwgZmFsc2UpO1xuICAgICAgICB2YXIgb3V0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBvdXRFbGVtZW50LmNsYXNzTmFtZSA9IHpvb21PdXRDbGFzc05hbWU7XG4gICAgICAgIG91dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBvdXRFbGVtZW50LnRpdGxlID0gem9vbU91dFRpcExhYmVsO1xuICAgICAgICBvdXRFbGVtZW50LmFwcGVuZENoaWxkKHR5cGVvZiB6b29tT3V0TGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21PdXRMYWJlbClcbiAgICAgICAgICAgIDogem9vbU91dExhYmVsKTtcbiAgICAgICAgb3V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMsIC1kZWx0YSksIGZhbHNlKTtcbiAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3NlcztcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbkVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG91dEVsZW1lbnQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZGVsdGEsIGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuem9vbUJ5RGVsdGFfKGRlbHRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBab29tIGRlbHRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuem9vbUJ5RGVsdGFfID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICghdmlldykge1xuICAgICAgICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAgICAgICAvLyB1cG9uIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRab29tID0gdmlldy5nZXRab29tKCk7XG4gICAgICAgIGlmIChjdXJyZW50Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbmV3Wm9vbSA9IHZpZXcuZ2V0Q29uc3RyYWluZWRab29tKGN1cnJlbnRab29tICsgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh2aWV3LmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBuZXdab29tLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0Wm9vbShuZXdab29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFpvb207XG59KENvbnRyb2wpKTtcbmV4cG9ydCBkZWZhdWx0IFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ab29tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Qcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBBQ1RJVkU6ICdhY3RpdmUnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3BlcnR5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBJbnRlcmFjdGlvblByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHsgZWFzZU91dCwgbGluZWFyIH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJywgUmV0dXJuPn0gSW50ZXJhY3Rpb25PblNpZ25hdHVyZVxuICovXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIGludGVyYWN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEludGVyYWN0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gaGFuZGxlRXZlbnRcbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBwcm9wYWdhdGlvbiBvZlxuICogdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zIGNoYWluIHdpbGwgYmVcbiAqIHByZXZlbnRlZCAodGhpcyBpbmNsdWRlcyBmdW5jdGlvbnMgd2l0aCBubyBleHBsaWNpdCByZXR1cm4pLiBUaGUgaW50ZXJhY3Rpb25zXG4gKiBhcmUgdHJhdmVyc2VkIGluIHJldmVyc2Ugb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBjb2xsZWN0aW9uIG9mIHRoZSBtYXAuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogVXNlciBhY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSBzdGF0ZSBvZiB0aGUgbWFwLiBTb21lIGFyZSBzaW1pbGFyIHRvIGNvbnRyb2xzLFxuICogYnV0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuXG4gKiBGb3IgZXhhbXBsZSwge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfSBpc1xuICogZnVuY3Rpb25hbGx5IHRoZSBzYW1lIGFzIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LCBidXQgdHJpZ2dlcmVkXG4gKiBieSBhIGtleWJvYXJkIGV2ZW50IG5vdCBhIGJ1dHRvbiBlbGVtZW50IGV2ZW50LlxuICogQWx0aG91Z2ggaW50ZXJhY3Rpb25zIGRvIG5vdCBoYXZlIGEgRE9NIGVsZW1lbnQsIHNvbWUgb2YgdGhlbSBkbyByZW5kZXJcbiAqIHZlY3RvcnMgYW5kIHNvIGFyZSB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBJbnRlcmFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtJbnRlcmFjdGlvbk9wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtJbnRlcmFjdGlvbk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub247XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ludGVyYWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtJbnRlcmFjdGlvbk9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlRXZlbnQgPSBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgaW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbi5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSBvciBkZWFjdGl2YXRlIHRoZSBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFjdGl2ZSBBY3RpdmUuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldEFjdGl2ZSA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUsIGFjdGl2ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGludGVyYWN0aW9uIGZyb20gaXRzIGN1cnJlbnQgbWFwIGFuZCBhdHRhY2ggaXQgdG8gdGhlIG5ldyBtYXAuXG4gICAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAgICogdGhlIG1hcCBoZXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdGhpcy5tYXBfID0gbWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9kdXJhdGlvbl0gRHVyYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYW4odmlldywgZGVsdGEsIG9wdF9kdXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50Q2VudGVyID0gdmlldy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSBbY3VycmVudENlbnRlclswXSArIGRlbHRhWzBdLCBjdXJyZW50Q2VudGVyWzFdICsgZGVsdGFbMV1dO1xuICAgICAgICB2aWV3LmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0X2R1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRfZHVyYXRpb24gOiAyNTAsXG4gICAgICAgICAgICBlYXNpbmc6IGxpbmVhcixcbiAgICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihjZW50ZXIpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgRGVsdGEgZnJvbSBwcmV2aW91cyB6b29tIGxldmVsLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcHRfYW5jaG9yXSBBbmNob3IgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZHVyYXRpb25dIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIG9wdF9hbmNob3IsIG9wdF9kdXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50Wm9vbSA9IHZpZXcuZ2V0Wm9vbSgpO1xuICAgIGlmIChjdXJyZW50Wm9vbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvclpvb20obmV3Wm9vbSk7XG4gICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgIGFuY2hvcjogb3B0X2FuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdF9kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2R1cmF0aW9uIDogMjUwLFxuICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tXG4gKi9cbmltcG9ydCBJbnRlcmFjdGlvbiwgeyB6b29tQnlEZWx0YSB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggZG91YmxlIGNsaWNrLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIGJ5IGRvdWJsZS1jbGlja2luZyBvbiB0aGUgbWFwLlxuICogQGFwaVxuICovXG52YXIgRG91YmxlQ2xpY2tab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEb3VibGVDbGlja1pvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRG91YmxlQ2xpY2tab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbHRhXyA9IG9wdGlvbnMuZGVsdGEgPyBvcHRpb25zLmRlbHRhIDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSAoaWYgaXQgd2FzIGFcbiAgICAgKiBkb3VibGVjbGljaykgYW5kIGV2ZW50dWFsbHkgem9vbXMgdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqL1xuICAgIERvdWJsZUNsaWNrWm9vbS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0spIHtcbiAgICAgICAgICAgIHZhciBicm93c2VyRXZlbnQgPSAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGJyb3dzZXJFdmVudC5zaGlmdEtleSA/IC10aGlzLmRlbHRhXyA6IHRoaXMuZGVsdGFfO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIERvdWJsZUNsaWNrWm9vbTtcbn0oSW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IERvdWJsZUNsaWNrWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURvdWJsZUNsaWNrWm9vbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BvaW50ZXJcbiAqL1xuaW1wb3J0IEludGVyYWN0aW9uIGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZXMgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRG93bkV2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkb3duXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgdGhlbiBhIGRyYWdcbiAqIHNlcXVlbmNlIGlzIHN0YXJ0ZWQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbaGFuZGxlRHJhZ0V2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkcmFnXCIgZXZlbnRzLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBcIm1vdmVcIiBldmVudHNcbiAqIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRXZlbnRdXG4gKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBtYXAgdG8gbm90aWZ5IHRoZSBpbnRlcmFjdGlvbiB0aGF0IGEgYnJvd3NlciBldmVudCB3YXNcbiAqIGRpc3BhdGNoZWQgdG8gdGhlIG1hcC4gVGhlIGZ1bmN0aW9uIG1heSByZXR1cm4gYGZhbHNlYCB0byBwcmV2ZW50IHRoZVxuICogcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zXG4gKiBjaGFpbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVNb3ZlRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcIm1vdmVcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50cy5cbiAqIFRoaXMgZnVuY3Rpb25zIGlzIGFsc28gY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UsIHNvIGR1cmluZyBhIGRyYWdcbiAqIHNlcXVlbmNlIGJvdGggdGhlIGBoYW5kbGVEcmFnRXZlbnRgIGZ1bmN0aW9uIGFuZCB0aGlzIGZ1bmN0aW9uIGFyZSBjYWxsZWQuXG4gKiBJZiBgaGFuZGxlRG93bkV2ZW50YCBpcyBkZWZpbmVkIGFuZCBpdCByZXR1cm5zIHRydWUgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdFxuICogYmUgY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlVXBFdmVudF1cbiAqICBGdW5jdGlvbiBoYW5kbGluZyBcInVwXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIHRoZW4gdGhlXG4gKiBjdXJyZW50IGRyYWcgc2VxdWVuY2UgaXMgc3RvcHBlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6Ym9vbGVhbn0gW3N0b3BEb3duXVxuICogU2hvdWxkIHRoZSBkb3duIGV2ZW50IGJlIHByb3BhZ2F0ZWQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zLCBvciBzaG91bGQgYmVcbiAqIHN0b3BwZWQ/XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyB0aGF0IGNhbGxzIHVzZXItZGVmaW5lZCBmdW5jdGlvbnMgb24gYGRvd25gLCBgbW92ZWAgYW5kIGB1cGBcbiAqIGV2ZW50cy4gVGhpcyBjbGFzcyBhbHNvIG1hbmFnZXMgXCJkcmFnIHNlcXVlbmNlc1wiLlxuICpcbiAqIFdoZW4gdGhlIGBoYW5kbGVEb3duRXZlbnRgIHVzZXIgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgYSBkcmFnIHNlcXVlbmNlIGlzXG4gKiBzdGFydGVkLiBEdXJpbmcgYSBkcmFnIHNlcXVlbmNlIHRoZSBgaGFuZGxlRHJhZ0V2ZW50YCB1c2VyIGZ1bmN0aW9uIGlzXG4gKiBjYWxsZWQgb24gYG1vdmVgIGV2ZW50cy4gVGhlIGRyYWcgc2VxdWVuY2UgZW5kcyB3aGVuIHRoZSBgaGFuZGxlVXBFdmVudGBcbiAqIHVzZXIgZnVuY3Rpb24gaXMgY2FsbGVkIGFuZCByZXR1cm5zIGBmYWxzZWAuXG4gKiBAYXBpXG4gKi9cbnZhciBQb2ludGVySW50ZXJhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvaW50ZXJJbnRlcmFjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludGVySW50ZXJhY3Rpb24ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnRlcmFjdGlvbi5qc1wiKS5JbnRlcmFjdGlvbk9wdGlvbnN9ICovIChvcHRpb25zKSkgfHwgdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlRG93bkV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVEb3duRXZlbnQgPSBvcHRpb25zLmhhbmRsZURvd25FdmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5oYW5kbGVEcmFnRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZURyYWdFdmVudCA9IG9wdGlvbnMuaGFuZGxlRHJhZ0V2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZU1vdmVFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlTW92ZUV2ZW50ID0gb3B0aW9ucy5oYW5kbGVNb3ZlRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlVXBFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlVXBFdmVudCA9IG9wdGlvbnMuaGFuZGxlVXBFdmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgICAgICAgX3RoaXMuc3RvcERvd24gPSBvcHRpb25zLnN0b3BEb3duO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBQb2ludGVyRXZlbnQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2tlZFBvaW50ZXJzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFBvaW50ZXJzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBudW1iZXIgb2YgcG9pbnRlcnMgaW52b2x2ZWQgaW4gdGhlIGludGVyYWN0aW9uLFxuICAgICAqIGUuZy4gYDJgIHdoZW4gdHdvIGZpbmdlcnMgYXJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIHBvaW50ZXJzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldFBvaW50ZXJDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBhbmQgbWF5IGNhbGwgaW50b1xuICAgICAqIG90aGVyIGZ1bmN0aW9ucywgaWYgZXZlbnQgc2VxdWVuY2VzIGxpa2UgZS5nLiAnZHJhZycgb3IgJ2Rvd24tdXAnIGV0Yy4gYXJlXG4gICAgICogZGV0ZWN0ZWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0b3BFdmVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYWNrZWRQb2ludGVyc18obWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgcGFnZSBzY3JvbGxpbmcgZHVyaW5nIGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZWRVcCA9IHRoaXMuaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRVcCAmJiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTikge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVkID0gdGhpcy5oYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPSBoYW5kbGVkO1xuICAgICAgICAgICAgICAgIHN0b3BFdmVudCA9IHRoaXMuc3RvcERvd24oaGFuZGxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIG1vdmUgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVNb3ZlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7IH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgXCJkb3duXCIgZXZlbnRzIHNob3VsZCBiZSBwcm9wYWdhdGVkXG4gICAgICogdG8gb3RoZXIgaW50ZXJhY3Rpb25zIG9yIHNob3VsZCBiZSBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFuZGxlZCBXYXMgdGhlIGV2ZW50IGhhbmRsZWQgYnkgdGhlIGludGVyYWN0aW9uP1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFNob3VsZCB0aGUgYGRvd25gIGV2ZW50IGJlIHN0b3BwZWQ/XG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5zdG9wRG93biA9IGZ1bmN0aW9uIChoYW5kbGVkKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS51cGRhdGVUcmFja2VkUG9pbnRlcnNfID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAoaXNQb2ludGVyRHJhZ2dpbmdFdmVudChtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgdmFyIGlkID0gZXZlbnRfMS5wb2ludGVySWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRyYWNrZWRQb2ludGVyc19baWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTikge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlZFBvaW50ZXJzX1tpZF0gPSBldmVudF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaWQgaW4gdGhpcy50cmFja2VkUG9pbnRlcnNfKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9ubHkgd2hlbiB0aGVyZSB3YXMgYSBwb2ludGVyZG93biBldmVudCBmb3IgdGhpcyBwb2ludGVyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2VkUG9pbnRlcnNfW2lkXSA9IGV2ZW50XzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRhcmdldFBvaW50ZXJzID0gZ2V0VmFsdWVzKHRoaXMudHJhY2tlZFBvaW50ZXJzXyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQb2ludGVySW50ZXJhY3Rpb247XG59KEludGVyYWN0aW9uKSk7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnRlckV2ZW50Pn0gcG9pbnRlckV2ZW50cyBMaXN0IG9mIGV2ZW50cy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBDZW50cm9pZCBwaXhlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlbnRyb2lkKHBvaW50ZXJFdmVudHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRlckV2ZW50cy5sZW5ndGg7XG4gICAgdmFyIGNsaWVudFggPSAwO1xuICAgIHZhciBjbGllbnRZID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNsaWVudFggKz0gcG9pbnRlckV2ZW50c1tpXS5jbGllbnRYO1xuICAgICAgICBjbGllbnRZICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WTtcbiAgICB9XG4gICAgcmV0dXJuIFtjbGllbnRYIC8gbGVuZ3RoLCBjbGllbnRZIC8gbGVuZ3RoXTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZXZlbnQgaXMgYSBwb2ludGVyZG93biwgcG9pbnRlcmRyYWdcbiAqICAgICBvciBwb2ludGVydXAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGlzUG9pbnRlckRyYWdnaW5nRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHR5cGUgPSBtYXBCcm93c2VyRXZlbnQudHlwZTtcbiAgICByZXR1cm4gKHR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04gfHxcbiAgICAgICAgdHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRyB8fFxuICAgICAgICB0eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCk7XG59XG5leHBvcnQgZGVmYXVsdCBQb2ludGVySW50ZXJhY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvY29uZGl0aW9uXG4gKi9cbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4uL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgRkFMU0UsIFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgTUFDLCBXRUJLSVQgfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYHtib29sZWFufWAuIElmIHRoZSBjb25kaXRpb24gaXMgbWV0LCB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczogPywgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBDb25kaXRpb25cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgY29uZGl0aW9uIGZ1bmN0aW9uIHRoYXQgcGFzc2VzIHdoZW4gYWxsIHByb3ZpZGVkIGNvbmRpdGlvbnMgcGFzcy5cbiAqIEBwYXJhbSB7Li4uQ29uZGl0aW9ufSB2YXJfYXJncyBDb25kaXRpb25zIHRvIGNoZWNrLlxuICogQHJldHVybiB7Q29uZGl0aW9ufSBDb25kaXRpb24gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwodmFyX2FyZ3MpIHtcbiAgICB2YXIgY29uZGl0aW9ucyA9IGFyZ3VtZW50cztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBBbGwgY29uZGl0aW9ucyBwYXNzZWQuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcGFzcyA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvbmRpdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgcGFzcyA9IHBhc3MgJiYgY29uZGl0aW9uc1tpXShldmVudCk7XG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9O1xufVxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCwgYGZhbHNlYCBvdGhlcndpc2UgKGUuZy4gd2hlblxuICogYWRkaXRpb25hbGx5IHRoZSBzaGlmdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBhbHQga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgYWx0S2V5T25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgcmV0dXJuIChvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBhbmQgc2hpZnQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKiAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGFuZCBzaGlmdCBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGFsdFNoaWZ0S2V5c09ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAob3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAgICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzLiBUaGlzIGNvbmRpdGlvbiByZXF1aXJlcyBhIG1hcCB0YXJnZXRcbiAqIGVsZW1lbnQgd2l0aCBhIGB0YWJpbmRleGAgYXR0cmlidXRlLCBlLmcuIGA8ZGl2IGlkPVwibWFwXCIgdGFiaW5kZXg9XCIxXCI+YC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBmb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZXZlbnQubWFwLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGV2ZW50Lm1hcC5nZXRPd25lckRvY3VtZW50KCkuYWN0aXZlRWxlbWVudDtcbiAgICByZXR1cm4gdGFyZ2V0RWxlbWVudC5jb250YWlucyhhY3RpdmVFbGVtZW50KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzIG9yIG5vICd0YWJpbmRleCcgYXR0cmlidXRlIHNldC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgY29udGFpbmVyIGhhcyB0aGUgZm9jdXMgb3Igbm8gJ3RhYmluZGV4JyBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXNXaXRoVGFiaW5kZXggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQubWFwLmdldFRhcmdldEVsZW1lbnQoKS5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JylcbiAgICAgICAgPyBmb2N1cyhldmVudClcbiAgICAgICAgOiB0cnVlO1xufTtcbi8qKlxuICogUmV0dXJuIGFsd2F5cyB0cnVlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgYWx3YXlzID0gVFJVRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFzIGFuIFwiYWN0aW9uXCItcHJvZHVjaW5nIG1vdXNlIGJ1dHRvbi5cbiAqXG4gKiBCeSBkZWZpbml0aW9uLCB0aGlzIGluY2x1ZGVzIGxlZnQtY2xpY2sgb24gd2luZG93cy9saW51eCwgYW5kIGxlZnQtY2xpY2tcbiAqIHdpdGhvdXQgdGhlIGN0cmwga2V5IG9uIE1hY3MuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IHZhciBtb3VzZUFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gb3JpZ2luYWxFdmVudC5idXR0b24gPT0gMCAmJiAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBhbHdheXMgZmFsc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gRmFsc2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgbmV2ZXIgPSBGQUxTRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBldmVudCBpcyBhIGBwb2ludGVybW92ZWAgZXZlbnQsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBwb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gJ3BvaW50ZXJtb3ZlJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2luZ2xlQ2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0s7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBubyBtb2RpZmllciBrZXkgKGFsdC0sIHNoaWZ0LSBvciBwbGF0Zm9ybS1tb2RpZmllci1rZXkpIGlzXG4gKiBwcmVzc2VkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGVyZSBubyBtb2RpZmllciBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIG5vTW9kaWZpZXJLZXlzID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5ICh0aGUgbWV0YS1rZXkgb24gTWFjLFxuICogY3RybC1rZXkgb3RoZXJ3aXNlKSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseVxuICogdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIHBsYXRmb3JtIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBsYXRmb3JtTW9kaWZpZXJLZXlPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAoTUFDID8gb3JpZ2luYWxFdmVudC5tZXRhS2V5IDogb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBzaGlmdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBzaGlmdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAoIW9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUsIGkuZS4gbm90IGEgYDxpbnB1dD5gLSxcbiAqIGA8c2VsZWN0PmAtIG9yIGA8dGV4dGFyZWE+YC1lbGVtZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIG9ubHkgaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciB0YXJnZXROb3RFZGl0YWJsZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgdmFyIHRhZ05hbWUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChvcmlnaW5hbEV2ZW50LnRhcmdldCkudGFnTmFtZTtcbiAgICByZXR1cm4gdGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiB0YWdOYW1lICE9PSAnU0VMRUNUJyAmJiB0YWdOYW1lICE9PSAnVEVYVEFSRUEnO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIG1vdXNlIGRldmljZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBtb3VzZU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpLm9yaWdpbmFsRXZlbnQ7XG4gICAgYXNzZXJ0KHBvaW50ZXJFdmVudCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09ICdtb3VzZSc7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHRvdWNoYWJsZSBkZXZpY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgdG91Y2hPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKG1hcEJyb3dzZXJFdmVudCkub3JpZ2luYWxFdmVudDtcbiAgICBhc3NlcnQocG9pbnRlckV2dCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2dC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBlbk9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KS5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZ0ICE9PSB1bmRlZmluZWQsIDU2KTsgLy8gbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgLy8gc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyN3aWRsLVBvaW50ZXJFdmVudC1wb2ludGVyVHlwZVxuICAgIHJldHVybiBwb2ludGVyRXZ0LnBvaW50ZXJUeXBlID09PSAncGVuJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlciBpblxuICogY29udGFjdCB3aXRoIHRoZSBzdXJmYWNlIG9yIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyNidXR0b24tc3RhdGVzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBwcmltYXJ5QWN0aW9uID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwb2ludGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KS5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LmlzUHJpbWFyeSAmJiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmRpdGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdQYW5cbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwgeyBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycywgfSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHsgRkFMU0UgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWxsLCBmb2N1c1dpdGhUYWJpbmRleCwgbm9Nb2RpZmllcktleXMsIHByaW1hcnlBY3Rpb24sIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7IHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLCBzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGUsIH0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ubm9Nb2RpZmllcktleXN9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ucHJpbWFyeUFjdGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fSBba2luZXRpY10gS2luZXRpYyBpbmVydGlhIHRvIGFwcGx5IHRvIHRoZSBwYW4uXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIGJ5IGRyYWdnaW5nIHRoZSBtYXAuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnUGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnUGFuLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdQYW4ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2luZXRpY18gPSBvcHRpb25zLmtpbmV0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RQb2ludGVyc0NvdW50XztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFubmluZ18gPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICA6IGFsbChub01vZGlmaWVyS2V5cywgcHJpbWFyeUFjdGlvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5vbkZvY3VzT25seVxuICAgICAgICAgICAgPyBhbGwoZm9jdXNXaXRoVGFiaW5kZXgsIGNvbmRpdGlvbilcbiAgICAgICAgICAgIDogY29uZGl0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0tpbmV0aWNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhbm5pbmdfKSB7XG4gICAgICAgICAgICB0aGlzLnBhbm5pbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TWFwKCkuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFyZ2V0UG9pbnRlcnMgPSB0aGlzLnRhcmdldFBvaW50ZXJzO1xuICAgICAgICB2YXIgY2VudHJvaWQgPSBjZW50cm9pZEZyb21Qb2ludGVycyh0YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGlmICh0YXJnZXRQb2ludGVycy5sZW5ndGggPT0gdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy51cGRhdGUoY2VudHJvaWRbMF0sIGNlbnRyb2lkWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RDZW50cm9pZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWRbMF0gLSBjZW50cm9pZFswXSxcbiAgICAgICAgICAgICAgICAgICAgY2VudHJvaWRbMV0gLSB0aGlzLmxhc3RDZW50cm9pZFsxXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICBzY2FsZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICAgICAgICAgICAgICByb3RhdGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHZpZXcuYWRqdXN0Q2VudGVySW50ZXJuYWwoZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IHNvIHdlIGRvbid0IG92ZXJlc3RpbWF0ZSB0aGUga2luZXRpYyBlbmVyZ3kgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGFmdGVyIG9uZSBmaW5nZXIgZG93biwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIGRvd25cbiAgICAgICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IGNlbnRyb2lkO1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyc0NvdW50XyA9IHRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUGFuLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5ub0tpbmV0aWNfICYmIHRoaXMua2luZXRpY18gJiYgdGhpcy5raW5ldGljXy5lbmQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IHRoaXMua2luZXRpY18uZ2V0RGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSB0aGlzLmtpbmV0aWNfLmdldEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHZpZXcuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVycHggPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKGNlbnRlcik7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3QgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFtcbiAgICAgICAgICAgICAgICAgICAgY2VudGVycHhbMF0gLSBkaXN0YW5jZSAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVycHhbMV0gLSBkaXN0YW5jZSAqIE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB2aWV3LmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihkZXN0KSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFubmluZ18pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgICAgICAgICAvLyByZXNldCBzbyB3ZSBkb24ndCBvdmVyZXN0aW1hdGUgdGhlIGtpbmV0aWMgZW5lcmd5IGFmdGVyXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciB1cCwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIHVwXG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMCAmJiB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBzdG9wIGFueSBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8ga2luZXRpYyBhcyBzb29uIGFzIG1vcmUgdGhhbiBvbmUgcG9pbnRlciBvbiB0aGUgc2NyZWVuIGlzXG4gICAgICAgICAgICAvLyBkZXRlY3RlZC4gVGhpcyBpcyB0byBwcmV2ZW50IG5hc3R5IHBhbnMgYWZ0ZXIgcGluY2guXG4gICAgICAgICAgICB0aGlzLm5vS2luZXRpY18gPSB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyYWdQYW47XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1Bhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdQYW4uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFsdFNoaWZ0S2V5c09ubHksIG1vdXNlQWN0aW9uQnV0dG9uLCBtb3VzZU9ubHksIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyBkaXNhYmxlIH0gZnJvbSAnLi4vcm90YXRpb25jb25zdHJhaW50LmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24uYWx0U2hpZnRLZXlzT25seX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcm90YXRlIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgaGVsZCBkb3duLlxuICpcbiAqIFRoaXMgaW50ZXJhY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgZm9yIG1vdXNlIGRldmljZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnUm90YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBhbHRTaGlmdEtleXNPbmx5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICAgIHZhciB0aGV0YSA9IE1hdGguYXRhbjIoc2l6ZVsxXSAvIDIgLSBvZmZzZXRbMV0sIG9mZnNldFswXSAtIHNpemVbMF0gLyAyKTtcbiAgICAgICAgaWYgKHRoaXMubGFzdEFuZ2xlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGV0YSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgICAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbCgtZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHRoZXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUm90YXRlLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW91c2VBY3Rpb25CdXR0b24obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyYWdSb3RhdGU7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1JvdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdSb3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9Cb3hcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IFBvbHlnb24gZnJvbSAnLi4vZ2VvbS9Qb2x5Z29uLmpzJztcbnZhciBSZW5kZXJCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlckJveCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIENTUyBjbGFzcyBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlckJveChjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9ICdvbC1ib3ggJyArIGNsYXNzTmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5kUGl4ZWxfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBSZW5kZXJCb3gucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRNYXAobnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUucmVuZGVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgICAgICB2YXIgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICAgICAgdmFyIHB4ID0gJ3B4JztcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICAgICAgc3R5bGUubGVmdCA9IE1hdGgubWluKHN0YXJ0UGl4ZWxbMF0sIGVuZFBpeGVsWzBdKSArIHB4O1xuICAgICAgICBzdHlsZS50b3AgPSBNYXRoLm1pbihzdGFydFBpeGVsWzFdLCBlbmRQaXhlbFsxXSkgKyBweDtcbiAgICAgICAgc3R5bGUud2lkdGggPSBNYXRoLmFicyhlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF0pICsgcHg7XG4gICAgICAgIHN0eWxlLmhlaWdodCA9IE1hdGguYWJzKGVuZFBpeGVsWzFdIC0gc3RhcnRQaXhlbFsxXSkgKyBweDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHRoaXMubWFwXy5nZXRPdmVybGF5Q29udGFpbmVyKCkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgICAgICAgICAgc3R5bGUubGVmdCA9ICdpbmhlcml0JztcbiAgICAgICAgICAgIHN0eWxlLnRvcCA9ICdpbmhlcml0JztcbiAgICAgICAgICAgIHN0eWxlLndpZHRoID0gJ2luaGVyaXQnO1xuICAgICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJ2luaGVyaXQnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBTdGFydCBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBlbmRQaXhlbCBFbmQgcGl4ZWwuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRQaXhlbHMgPSBmdW5jdGlvbiAoc3RhcnRQaXhlbCwgZW5kUGl4ZWwpIHtcbiAgICAgICAgdGhpcy5zdGFydFBpeGVsXyA9IHN0YXJ0UGl4ZWw7XG4gICAgICAgIHRoaXMuZW5kUGl4ZWxfID0gZW5kUGl4ZWw7XG4gICAgICAgIHRoaXMuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLnJlbmRlcl8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgdXBkYXRlcyB0aGUgY2FjaGVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgICAgICB2YXIgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICAgICAgdmFyIHBpeGVscyA9IFtcbiAgICAgICAgICAgIHN0YXJ0UGl4ZWwsXG4gICAgICAgICAgICBbc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMV1dLFxuICAgICAgICAgICAgZW5kUGl4ZWwsXG4gICAgICAgICAgICBbZW5kUGl4ZWxbMF0sIHN0YXJ0UGl4ZWxbMV1dLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBwaXhlbHMubWFwKHRoaXMubWFwXy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwsIHRoaXMubWFwXyk7XG4gICAgICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uXG4gICAgICAgIGNvb3JkaW5hdGVzWzRdID0gY29vcmRpbmF0ZXNbMF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLmdlb21ldHJ5Xykge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeV8gPSBuZXcgUG9seWdvbihbY29vcmRpbmF0ZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlfLnNldENvb3JkaW5hdGVzKFtjb29yZGluYXRlc10pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlfO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlckJveDtcbn0oRGlzcG9zYWJsZSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVuZGVyQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm94LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ0JveFxuICovXG4vLyBGSVhNRSBkcmF3IGRyYWcgYm94XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBSZW5kZXJCb3ggZnJvbSAnLi4vcmVuZGVyL0JveC5qcyc7XG5pbXBvcnQgeyBtb3VzZUFjdGlvbkJ1dHRvbiB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIGFuZCByZXR1cm5zIGEgYHtib29sZWFufWAuIElmIHRoZSBjb25kaXRpb24gaXMgbWV0LFxuICogdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczogPywgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsLCBpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbCk6Ym9vbGVhbn0gRW5kQ29uZGl0aW9uXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWdib3gnXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGUgYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBvbC9ldmVudHMvY29uZGl0aW9ufm1vdXNlQWN0aW9uQnV0dG9ufS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluQXJlYT02NF0gVGhlIG1pbmltdW0gYXJlYSBvZiB0aGUgYm94IGluIHBpeGVsLCB0aGlzIHZhbHVlIGlzIHVzZWQgYnkgdGhlIGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICogQHByb3BlcnR5IHtFbmRDb25kaXRpb259IFtib3hFbmRDb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIHRvIGluZGljYXRlIHdoZXRoZXIgYSBgYm94ZW5kYCBldmVudCBzaG91bGQgYmUgZmlyZWQuXG4gKiBEZWZhdWx0IGlzIGB0cnVlYCBpZiB0aGUgYXJlYSBvZiB0aGUgYm94IGlzIGJpZ2dlciB0aGFuIHRoZSBgbWluQXJlYWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbih0aGlzOkRyYWdCb3gsIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbb25Cb3hFbmRdIENvZGUgdG8gZXhlY3V0ZSBqdXN0XG4gKiBiZWZvcmUgYGJveGVuZGAgaXMgZmlyZWQuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIERyYWdCb3hFdmVudFR5cGUgPSB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggc3RhcnQuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hTVEFSVDogJ2JveHN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgb24gZHJhZyB3aGVuIGJveCBpcyBhY3RpdmUuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPWERSQUc6ICdib3hkcmFnJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBlbmQuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9YRU5EOiAnYm94ZW5kJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBjYW5jZWxlZC5cbiAgICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGNhbmNlbFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hDQU5DRUw6ICdib3hjYW5jZWwnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnQm94fkRyYWdCb3h9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mXG4gKiB0aGlzIHR5cGUuXG4gKi9cbnZhciBEcmFnQm94RXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdCb3hFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgZXZlbnQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgT3JpZ2luYXRpbmcgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJhZ0JveEV2ZW50KHR5cGUsIGNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIGRyYWcgZXZlbnQuXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcEJyb3dzZXJFdmVudCA9IG1hcEJyb3dzZXJFdmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRHJhZ0JveEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgRHJhZ0JveEV2ZW50IH07XG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgJ2NoYW5nZTphY3RpdmUnLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPCdib3hjYW5jZWwnfCdib3hkcmFnJ3wnYm94ZW5kJ3wnYm94c3RhcnQnLCBEcmFnQm94RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZSd8J2JveGNhbmNlbCd8J2JveGRyYWcnfCdib3hlbmQnLCBSZXR1cm4+fSBEcmFnQm94T25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gZHJhdyBhIHZlY3RvciBib3ggYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIHNoaWZ0IG9yIG90aGVyIGtleSBpcyBoZWxkIGRvd24uIFRoaXMgaXMgdXNlZCwgZm9yIGV4YW1wbGUsXG4gKiBmb3Igem9vbWluZyB0byBhIHNwZWNpZmljIGFyZWEgb2YgdGhlIG1hcFxuICogKHNlZSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdab29tfkRyYWdab29tfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZUFuZFpvb219KS5cbiAqXG4gKiBAZmlyZXMgRHJhZ0JveEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnQm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnQm94LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdCb3gob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7RHJhZ0JveE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub247XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVuO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvQm94LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3hfID0gbmV3IFJlbmRlckJveChvcHRpb25zLmNsYXNzTmFtZSB8fCAnb2wtZHJhZ2JveCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pbkFyZWFfID0gb3B0aW9ucy5taW5BcmVhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pbkFyZWEgOiA2NDtcbiAgICAgICAgaWYgKG9wdGlvbnMub25Cb3hFbmQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uQm94RW5kID0gb3B0aW9ucy5vbkJveEVuZDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBtb3VzZUFjdGlvbkJ1dHRvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtFbmRDb25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3hFbmRDb25kaXRpb25fID0gb3B0aW9ucy5ib3hFbmRDb25kaXRpb25cbiAgICAgICAgICAgID8gb3B0aW9ucy5ib3hFbmRDb25kaXRpb25cbiAgICAgICAgICAgIDogX3RoaXMuZGVmYXVsdEJveEVuZENvbmRpdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBjb25kaXRpb24gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIGJveGVuZCBldmVudFxuICAgICAqIHNob3VsZCBmaXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBUaGUgb3JpZ2luYXRpbmcgTWFwQnJvd3NlckV2ZW50XG4gICAgICogICAgIGxlYWRpbmcgdG8gdGhlIGJveCBlbmQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBUaGUgc3RhcnRpbmcgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBlbmRQaXhlbCBUaGUgZW5kIHBpeGVsIG9mIHRoZSBib3guXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGJveGVuZCBjb25kaXRpb24gc2hvdWxkIGJlIGZpcmVkLlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmRlZmF1bHRCb3hFbmRDb25kaXRpb24gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50LCBzdGFydFBpeGVsLCBlbmRQaXhlbCkge1xuICAgICAgICB2YXIgd2lkdGggPSBlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF07XG4gICAgICAgIHZhciBoZWlnaHQgPSBlbmRQaXhlbFsxXSAtIHN0YXJ0UGl4ZWxbMV07XG4gICAgICAgIHJldHVybiB3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0ID49IHRoaXMubWluQXJlYV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGdlb21ldHJ5IG9mIGxhc3QgZHJhd24gYm94LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveF8uZ2V0R2VvbWV0cnkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHRoaXMuYm94Xy5zZXRQaXhlbHModGhpcy5zdGFydFBpeGVsXywgbWFwQnJvd3NlckV2ZW50LnBpeGVsKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBEcmFnQm94RXZlbnQoRHJhZ0JveEV2ZW50VHlwZS5CT1hEUkFHLCBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5ib3hfLnNldE1hcChudWxsKTtcbiAgICAgICAgdmFyIGNvbXBsZXRlQm94ID0gdGhpcy5ib3hFbmRDb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCwgdGhpcy5zdGFydFBpeGVsXywgbWFwQnJvd3NlckV2ZW50LnBpeGVsKTtcbiAgICAgICAgaWYgKGNvbXBsZXRlQm94KSB7XG4gICAgICAgICAgICB0aGlzLm9uQm94RW5kKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBEcmFnQm94RXZlbnQoY29tcGxldGVCb3ggPyBEcmFnQm94RXZlbnRUeXBlLkJPWEVORCA6IERyYWdCb3hFdmVudFR5cGUuQk9YQ0FOQ0VMLCBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UGl4ZWxfID0gbWFwQnJvd3NlckV2ZW50LnBpeGVsO1xuICAgICAgICAgICAgdGhpcy5ib3hfLnNldE1hcChtYXBCcm93c2VyRXZlbnQubWFwKTtcbiAgICAgICAgICAgIHRoaXMuYm94Xy5zZXRQaXhlbHModGhpcy5zdGFydFBpeGVsXywgdGhpcy5zdGFydFBpeGVsXyk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IERyYWdCb3hFdmVudChEcmFnQm94RXZlbnRUeXBlLkJPWFNUQVJULCBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGJlZm9yZSBgb25ib3hlbmRgIGlzIGZpcmVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUub25Cb3hFbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHsgfTtcbiAgICByZXR1cm4gRHJhZ0JveDtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBEcmFnQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ0JveC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdab29tXG4gKi9cbmltcG9ydCBEcmFnQm94IGZyb20gJy4vRHJhZ0JveC5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7IHNoaWZ0S2V5T25seSB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtZHJhZ3pvb20nXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGVcbiAqIGJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLnNoaWZ0S2V5T25seX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTIwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW291dD1mYWxzZV0gVXNlIGludGVyYWN0aW9uIGZvciB6b29taW5nIG91dC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluQXJlYT02NF0gVGhlIG1pbmltdW0gYXJlYSBvZiB0aGUgYm94IGluIHBpeGVsLCB0aGlzIHZhbHVlIGlzIHVzZWQgYnkgdGhlIHBhcmVudCBkZWZhdWx0XG4gKiBgYm94RW5kQ29uZGl0aW9uYCBmdW5jdGlvbi5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIGEga2V5LCBzaGlmdCBieSBkZWZhdWx0LCBpcyBoZWxkIGRvd24uXG4gKlxuICogVG8gY2hhbmdlIHRoZSBzdHlsZSBvZiB0aGUgYm94LCB1c2UgQ1NTIGFuZCB0aGUgYC5vbC1kcmFnem9vbWAgc2VsZWN0b3IsIG9yXG4gKiB5b3VyIGN1c3RvbSBvbmUgY29uZmlndXJlZCB3aXRoIGBjbGFzc05hbWVgLlxuICogQGFwaVxuICovXG52YXIgRHJhZ1pvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IHNoaWZ0S2V5T25seTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9ucy5jbGFzc05hbWUgfHwgJ29sLWRyYWd6b29tJyxcbiAgICAgICAgICAgIG1pbkFyZWE6IG9wdGlvbnMubWluQXJlYSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdXRfID0gb3B0aW9ucy5vdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3V0IDogZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGJlZm9yZSBgb25ib3hlbmRgIGlzIGZpcmVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ1pvb20ucHJvdG90eXBlLm9uQm94RW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgdmlldyA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gKi8gKG1hcC5nZXRWaWV3KCkpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmICh0aGlzLm91dF8pIHtcbiAgICAgICAgICAgIHZhciByb3RhdGVkRXh0ZW50ID0gdmlldy5yb3RhdGVkRXh0ZW50Rm9yR2VvbWV0cnkoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2aWV3LmdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbChyb3RhdGVkRXh0ZW50KTtcbiAgICAgICAgICAgIHZhciBmYWN0b3IgPSB2aWV3LmdldFJlc29sdXRpb24oKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgICAgICAgICBnZW9tZXRyeS5zY2FsZShmYWN0b3IgKiBmYWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuZml0SW50ZXJuYWwoZ2VvbWV0cnksIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ1pvb207XG59KERyYWdCb3gpKTtcbmV4cG9ydCBkZWZhdWx0IERyYWdab29tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ1pvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7IHBhbiB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnLi4vZXZlbnRzL0tleUNvZGUuanMnO1xuaW1wb3J0IHsgbm9Nb2RpZmllcktleXMsIHRhcmdldE5vdEVkaXRhYmxlIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyByb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZSB9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5ub01vZGlmaWVyS2V5c30gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24udGFyZ2V0Tm90RWRpdGFibGV9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsRGVsdGE9MTI4XSBUaGUgYW1vdW50IG9mIHBpeGVscyB0byBwYW4gb24gZWFjaCBrZXlcbiAqIHByZXNzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCB1c2luZyBrZXlib2FyZCBhcnJvd3MuXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfS5cbiAqIEBhcGlcbiAqL1xudmFyIEtleWJvYXJkUGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhLZXlib2FyZFBhbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBLZXlib2FyZFBhbihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbWJpbmVkIGNvbmRpdGlvbiByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0Q29uZGl0aW9uXyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAobm9Nb2RpZmllcktleXMobWFwQnJvd3NlckV2ZW50KSAmJiB0YXJnZXROb3RFZGl0YWJsZShtYXBCcm93c2VyRXZlbnQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5jb25kaXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb25kaXRpb25cbiAgICAgICAgICAgICAgICA6IF90aGlzLmRlZmF1bHRDb25kaXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxEZWx0YV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5waXhlbERlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpeGVsRGVsdGEgOiAxMjg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gICAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgdGhlIGRpcmVjdGlvbiB0byBwYW4gdG8gKGlmIGFuIGFycm93IGtleSB3YXNcbiAgICAgKiBwcmVzc2VkKS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEB0aGlzIHtLZXlib2FyZFBhbn1cbiAgICAgKi9cbiAgICBLZXlib2FyZFBhbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlET1dOKSB7XG4gICAgICAgICAgICB2YXIga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGtleUV2ZW50LmtleUNvZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkgJiZcbiAgICAgICAgICAgICAgICAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04gfHxcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLkxFRlQgfHxcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLlJJR0hUIHx8XG4gICAgICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5VUCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcFVuaXRzRGVsdGEgPSB2aWV3LmdldFJlc29sdXRpb24oKSAqIHRoaXMucGl4ZWxEZWx0YV87XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhWCA9IDAsIGRlbHRhWSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5ET1dOKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWSA9IC1tYXBVbml0c0RlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVggPSAtbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLlJJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWCA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVkgPSBtYXBVbml0c0RlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBbZGVsdGFYLCBkZWx0YVldO1xuICAgICAgICAgICAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgICAgICAgICAgcGFuKHZpZXcsIGRlbHRhLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEtleWJvYXJkUGFuO1xufShJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRQYW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1LZXlib2FyZFBhbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0tleUNvZGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBMRUZUOiAzNyxcbiAgICBVUDogMzgsXG4gICAgUklHSFQ6IDM5LFxuICAgIERPV046IDQwLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleUNvZGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21cbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiwgeyB6b29tQnlEZWx0YSB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IHsgdGFyZ2V0Tm90RWRpdGFibGUgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGxldmVsIGRlbHRhIG9uIGVhY2gga2V5IHByZXNzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmQgKyBhbmQgLS5cbiAqIE5vdGUgdGhhdCwgYWx0aG91Z2ggdGhpcyBpbnRlcmFjdGlvbiBpcyBieSBkZWZhdWx0IGluY2x1ZGVkIGluIG1hcHMsXG4gKiB0aGUga2V5cyBjYW4gb25seSBiZSB1c2VkIHdoZW4gYnJvd3NlciBmb2N1cyBpcyBvbiB0aGUgZWxlbWVudCB0byB3aGljaFxuICogdGhlIGtleWJvYXJkIGV2ZW50cyBhcmUgYXR0YWNoZWQuIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIG1hcCBkaXYsXG4gKiB0aG91Z2ggeW91IGNhbiBjaGFuZ2UgdGhpcyB3aXRoIHRoZSBga2V5Ym9hcmRFdmVudFRhcmdldGAgaW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0uIGBkb2N1bWVudGAgbmV2ZXIgbG9zZXMgZm9jdXMgYnV0LCBmb3IgYW55IG90aGVyXG4gKiBlbGVtZW50LCBmb2N1cyB3aWxsIGhhdmUgdG8gYmUgb24sIGFuZCByZXR1cm5lZCB0bywgdGhpcyBlbGVtZW50IGlmIHRoZSBrZXlzXG4gKiBhcmUgdG8gZnVuY3Rpb24uXG4gKiBTZWUgYWxzbyB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFufktleWJvYXJkUGFufS5cbiAqIEBhcGlcbiAqL1xudmFyIEtleWJvYXJkWm9vbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoS2V5Ym9hcmRab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEtleWJvYXJkWm9vbShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogdGFyZ2V0Tm90RWRpdGFibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsdGFfID0gb3B0aW9ucy5kZWx0YSA/IG9wdGlvbnMuZGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gICAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgd2hldGhlciB0byB6b29tIGluIG9yIG91dCAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gICAgICoga2V5IHByZXNzZWQgd2FzICcrJyBvciAnLScpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHRoaXMge0tleWJvYXJkWm9vbX1cbiAgICAgKi9cbiAgICBLZXlib2FyZFpvb20ucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuS0VZRE9XTiB8fFxuICAgICAgICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWVBSRVNTKSB7XG4gICAgICAgICAgICB2YXIga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBrZXlFdmVudC5jaGFyQ29kZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgICAgIChjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSB8fCBjaGFyQ29kZSA9PSAnLScuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSA/IHRoaXMuZGVsdGFfIDogLXRoaXMuZGVsdGFfO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgdW5kZWZpbmVkLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEtleWJvYXJkWm9vbTtcbn0oSW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleWJvYXJkWm9vbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvS2luZXRpY1xuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudGF0aW9uIG9mIGluZXJ0aWFsIGRlY2VsZXJhdGlvbiBmb3IgbWFwIG1vdmVtZW50LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEtpbmV0aWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlY2F5IFJhdGUgb2YgZGVjYXkgKG11c3QgYmUgbmVnYXRpdmUpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5WZWxvY2l0eSBNaW5pbXVtIHZlbG9jaXR5IChwaXhlbHMvbWlsbGlzZWNvbmQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBEZWxheSB0byBjb25zaWRlciB0byBjYWxjdWxhdGUgdGhlIGtpbmV0aWNcbiAgICAgKiAgICAgaW5pdGlhbCB2YWx1ZXMgKG1pbGxpc2Vjb25kcykuXG4gICAgICovXG4gICAgZnVuY3Rpb24gS2luZXRpYyhkZWNheSwgbWluVmVsb2NpdHksIGRlbGF5KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWNheV8gPSBkZWNheTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblZlbG9jaXR5XyA9IG1pblZlbG9jaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXlfID0gZGVsYXk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluaXRpYWxWZWxvY2l0eV8gPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wb2ludHNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnBvaW50c18ucHVzaCh4LCB5LCBEYXRlLm5vdygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgd2Ugc2hvdWxkIGRvIGtpbmV0aWMgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIEtpbmV0aWMucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzXy5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgICAvLyBhdCBsZWFzdCAyIHBvaW50cyBhcmUgcmVxdWlyZWQgKGkuZS4gdGhlcmUgbXVzdCBiZSBhdCBsZWFzdCA2IGVsZW1lbnRzXG4gICAgICAgICAgICAvLyBpbiB0aGUgYXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGF5ID0gRGF0ZS5ub3coKSAtIHRoaXMuZGVsYXlfO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5wb2ludHNfLmxlbmd0aCAtIDM7XG4gICAgICAgIGlmICh0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMl0gPCBkZWxheSkge1xuICAgICAgICAgICAgLy8gdGhlIGxhc3QgdHJhY2tlZCBwb2ludCBpcyB0b28gb2xkLCB3aGljaCBtZWFucyB0aGF0IHRoZSB1c2VyIHN0b3BwZWRcbiAgICAgICAgICAgIC8vIHBhbm5pbmcgYmVmb3JlIHJlbGVhc2luZyB0aGUgbWFwXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2V0IHRoZSBmaXJzdCBwb2ludCB3aGljaCBzdGlsbCBmYWxscyBpbnRvIHRoZSBkZWxheSB0aW1lXG4gICAgICAgIHZhciBmaXJzdEluZGV4ID0gbGFzdEluZGV4IC0gMztcbiAgICAgICAgd2hpbGUgKGZpcnN0SW5kZXggPiAwICYmIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl0gPiBkZWxheSkge1xuICAgICAgICAgICAgZmlyc3RJbmRleCAtPSAzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXggKyAyXSAtIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl07XG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgYSBkdXJhdGlvbiBvZiAwIChkaXZpZGUgYnkgemVybylcbiAgICAgICAgLy8gd2UgYWxzbyBtYWtlIHN1cmUgdGhlIHVzZXIgcGFubmVkIGZvciBhIGR1cmF0aW9uIG9mIGF0IGxlYXN0IG9uZSBmcmFtZVxuICAgICAgICAvLyAoMS82MHMpIHRvIGNvbXB1dGUgc2FuZSBkaXNwbGFjZW1lbnQgdmFsdWVzXG4gICAgICAgIGlmIChkdXJhdGlvbiA8IDEwMDAgLyA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXhdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXhdO1xuICAgICAgICB2YXIgZHkgPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMV0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDFdO1xuICAgICAgICB0aGlzLmFuZ2xlXyA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAvIGR1cmF0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsVmVsb2NpdHlfID4gdGhpcy5taW5WZWxvY2l0eV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRvdGFsIGRpc3RhbmNlIHRyYXZlbGxlZCAocGl4ZWxzKS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblZlbG9jaXR5XyAtIHRoaXMuaW5pdGlhbFZlbG9jaXR5XykgLyB0aGlzLmRlY2F5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgb2YgdGhlIGtpbmV0aWMgcGFubmluZyBhbmltYXRpb24gKHJhZGlhbnMpLlxuICAgICAqL1xuICAgIEtpbmV0aWMucHJvdG90eXBlLmdldEFuZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZV87XG4gICAgfTtcbiAgICByZXR1cm4gS2luZXRpYztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBLaW5ldGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2luZXRpYy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHsgem9vbUJ5RGVsdGEgfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgRklSRUZPWCB9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQgeyBhbGwsIGFsd2F5cywgZm9jdXNXaXRoVGFiaW5kZXggfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgTW9kZSA9IHtcbiAgICBUUkFDS1BBRDogJ3RyYWNrcGFkJyxcbiAgICBXSEVFTDogJ3doZWVsJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLmFsd2F5c30uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4RGVsdGE9MV0gTWF4aW11bSBtb3VzZSB3aGVlbCBkZWx0YS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTgwXSBNb3VzZSB3aGVlbCB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUFuY2hvcj10cnVlXSBFbmFibGUgem9vbWluZyB1c2luZyB0aGUgbW91c2Unc1xuICogbG9jYXRpb24gYXMgdGhlIGFuY2hvci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgem9vbWluZyBpbiBhbmQgb3V0IHdpbGwgem9vbSB0b1xuICogdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIGluc3RlYWQgb2Ygem9vbWluZyBvbiB0aGUgbW91c2UncyBsb2NhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSBtb3VzZSB3aGVlbCB6b29tXG4gKiBldmVudCB3aWxsIGFsd2F5cyBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247XG4gKiBmYWxzZSBtZWFucyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcgdGhlIG1vdXNlIHdoZWVsLlxuICogQGFwaVxuICovXG52YXIgTW91c2VXaGVlbFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1vdXNlV2hlZWxab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1vdXNlV2hlZWxab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucykpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG90YWxEZWx0YV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3REZWx0YV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhXyA9IG9wdGlvbnMubWF4RGVsdGEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4RGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGltZW91dF8gPSBvcHRpb25zLnRpbWVvdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGltZW91dCA6IDgwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VBbmNob3JfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXNlQW5jaG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZUFuY2hvciA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnN0cmFpblJlc29sdXRpb25fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb25cbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICB2YXIgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IGFsd2F5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLm9uRm9jdXNPbmx5XG4gICAgICAgICAgICA/IGFsbChmb2N1c1dpdGhUYWJpbmRleCwgY29uZGl0aW9uKVxuICAgICAgICAgICAgOiBjb25kaXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGltZW91dElkXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtNb2RlfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2twYWQgZXZlbnRzIHNlcGFyYXRlZCBieSB0aGlzIGRlbGF5IHdpbGwgYmUgY29uc2lkZXJlZCBzZXBhcmF0ZVxuICAgICAgICAgKiBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFja3BhZEV2ZW50R2FwXyA9IDQwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2twYWRUaW1lb3V0SWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBkZWx0YSB2YWx1ZXMgcGVyIHpvb20gbGV2ZWxcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbHRhUGVyWm9vbV8gPSAzMDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuZW5kSW50ZXJhY3Rpb25fID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmdldE1hcCgpLmdldFZpZXcoKTtcbiAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih1bmRlZmluZWQsIHRoaXMubGFzdERlbHRhXyA/ICh0aGlzLmxhc3REZWx0YV8gPiAwID8gMSA6IC0xKSA6IDAsIHRoaXMubGFzdEFuY2hvcl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IChpZiBpdCB3YXMgYSBtb3VzZXdoZWVsLWV2ZW50KSBhbmQgZXZlbnR1YWxseVxuICAgICAqIHpvb21zIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gbWFwQnJvd3NlckV2ZW50LnR5cGU7XG4gICAgICAgIGlmICh0eXBlICE9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgd2hlZWxFdmVudCA9IC8qKiBAdHlwZSB7V2hlZWxFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgd2hlZWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy51c2VBbmNob3JfKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JfID0gbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsdGEgbm9ybWFsaXNhdGlvbiBpbnNwaXJlZCBieVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9ibG9iLzAwMWM3YjkvanMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qc1xuICAgICAgICB2YXIgZGVsdGE7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgICAgICAgIGRlbHRhID0gd2hlZWxFdmVudC5kZWx0YVk7XG4gICAgICAgICAgICBpZiAoRklSRUZPWCAmJiB3aGVlbEV2ZW50LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfUElYRUwpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAvPSBERVZJQ0VfUElYRUxfUkFUSU87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2hlZWxFdmVudC5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSA0MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFzdERlbHRhXyA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWVfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IG5vdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW9kZV8gfHwgbm93IC0gdGhpcy5zdGFydFRpbWVfID4gdGhpcy50cmFja3BhZEV2ZW50R2FwXykge1xuICAgICAgICAgICAgdGhpcy5tb2RlXyA9IE1hdGguYWJzKGRlbHRhKSA8IDQgPyBNb2RlLlRSQUNLUEFEIDogTW9kZS5XSEVFTDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlRSQUNLUEFEICYmXG4gICAgICAgICAgICAhKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KHRoaXMuZW5kSW50ZXJhY3Rpb25fLmJpbmQodGhpcyksIHRoaXMudGltZW91dF8pO1xuICAgICAgICAgICAgdmlldy5hZGp1c3Rab29tKC1kZWx0YSAvIHRoaXMuZGVsdGFQZXJab29tXywgdGhpcy5sYXN0QW5jaG9yXyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSBub3c7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyArPSBkZWx0YTtcbiAgICAgICAgdmFyIHRpbWVMZWZ0ID0gTWF0aC5tYXgodGhpcy50aW1lb3V0XyAtIChub3cgLSB0aGlzLnN0YXJ0VGltZV8pLCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkXyk7XG4gICAgICAgIHRoaXMudGltZW91dElkXyA9IHNldFRpbWVvdXQodGhpcy5oYW5kbGVXaGVlbFpvb21fLmJpbmQodGhpcywgbWFwKSwgdGltZUxlZnQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgTW91c2VXaGVlbFpvb20ucHJvdG90eXBlLmhhbmRsZVdoZWVsWm9vbV8gPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IC1jbGFtcCh0aGlzLnRvdGFsRGVsdGFfLCAtdGhpcy5tYXhEZWx0YV8gKiB0aGlzLmRlbHRhUGVyWm9vbV8sIHRoaXMubWF4RGVsdGFfICogdGhpcy5kZWx0YVBlclpvb21fKSAvIHRoaXMuZGVsdGFQZXJab29tXztcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pIHtcbiAgICAgICAgICAgIC8vIHZpZXcgaGFzIGEgem9vbSBjb25zdHJhaW50LCB6b29tIGJ5IDFcbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgPyAoZGVsdGEgPiAwID8gMSA6IC0xKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIHRoaXMubGFzdEFuY2hvcl8sIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAgdGhpcy5tb2RlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyA9IDA7XG4gICAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHVzaW5nIHRoZSBtb3VzZSdzIGxvY2F0aW9uIGFzIGFuIGFuY2hvciB3aGVuIHpvb21pbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUFuY2hvciB0cnVlIHRvIHpvb20gdG8gdGhlIG1vdXNlJ3MgbG9jYXRpb24sIGZhbHNlXG4gICAgICogdG8gem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZSBtYXBcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTW91c2VXaGVlbFpvb20ucHJvdG90eXBlLnNldE1vdXNlQW5jaG9yID0gZnVuY3Rpb24gKHVzZUFuY2hvcikge1xuICAgICAgICB0aGlzLnVzZUFuY2hvcl8gPSB1c2VBbmNob3I7XG4gICAgICAgIGlmICghdXNlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1vdXNlV2hlZWxab29tO1xufShJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgTW91c2VXaGVlbFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb3VzZVdoZWVsWm9vbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHsgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsIH0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGRpc2FibGUgfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGhyZXNob2xkPTAuM10gTWluaW1hbCBhbmdsZSBpbiByYWRpYW5zIHRvIHN0YXJ0IGEgcm90YXRpb24uXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IHR3aXN0aW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG52YXIgUGluY2hSb3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBpbmNoUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBpbmNoUm90YXRlKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgcG9pbnRlck9wdGlvbnMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyAob3B0aW9ucyk7XG4gICAgICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludGVyT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpbmdfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpb25EZWx0YV8gPSAwLjA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGhyZXNob2xkXyA9IG9wdGlvbnMudGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRocmVzaG9sZCA6IDAuMztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBQaW5jaFJvdGF0ZS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgcm90YXRpb25EZWx0YSA9IDAuMDtcbiAgICAgICAgdmFyIHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgICAgIHZhciB0b3VjaDEgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzFdO1xuICAgICAgICAvLyBhbmdsZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0b3VjaDEuY2xpZW50WSAtIHRvdWNoMC5jbGllbnRZLCB0b3VjaDEuY2xpZW50WCAtIHRvdWNoMC5jbGllbnRYKTtcbiAgICAgICAgaWYgKHRoaXMubGFzdEFuZ2xlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBhbmdsZSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25EZWx0YV8gKz0gZGVsdGE7XG4gICAgICAgICAgICBpZiAoIXRoaXMucm90YXRpbmdfICYmIE1hdGguYWJzKHRoaXMucm90YXRpb25EZWx0YV8pID4gdGhpcy50aHJlc2hvbGRfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGluZ18gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm90YXRpb25EZWx0YSA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IGFuZ2xlO1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAodmlldy5nZXRDb25zdHJhaW50cygpLnJvdGF0aW9uID09PSBkaXNhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcm90YXRlIGFuY2hvciBwb2ludC5cbiAgICAgICAgLy8gRklYTUU6IHNob3VsZCBiZSB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGJldHdlZW4gdGhlIGxpbmVzOlxuICAgICAgICAvLyAgICAgdG91Y2gwLHRvdWNoMSBhbmQgcHJldmlvdXNUb3VjaDAscHJldmlvdXNUb3VjaDFcbiAgICAgICAgdmFyIHZpZXdwb3J0UG9zaXRpb24gPSBtYXAuZ2V0Vmlld3BvcnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGNlbnRyb2lkWzBdIC09IHZpZXdwb3J0UG9zaXRpb24ubGVmdDtcbiAgICAgICAgY2VudHJvaWRbMV0gLT0gdmlld3BvcnRQb3NpdGlvbi50b3A7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwoY2VudHJvaWQpO1xuICAgICAgICAvLyByb3RhdGVcbiAgICAgICAgaWYgKHRoaXMucm90YXRpbmdfKSB7XG4gICAgICAgICAgICBtYXAucmVuZGVyKCk7XG4gICAgICAgICAgICB2aWV3LmFkanVzdFJvdGF0aW9uSW50ZXJuYWwocm90YXRpb25EZWx0YSwgdGhpcy5hbmNob3JfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoUm90YXRlLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoUm90YXRlLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW5nXyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbkRlbHRhXyA9IDAuMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBpbmNoUm90YXRlO1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IFBpbmNoUm90YXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGluY2hSb3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9QaW5jaFpvb21cbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwgeyBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycywgfSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHsgRkFMU0UgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTQwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHBpbmNoaW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG52YXIgUGluY2hab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQaW5jaFpvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGluY2hab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgcG9pbnRlck9wdGlvbnMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyAob3B0aW9ucyk7XG4gICAgICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludGVyT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogNDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0RGlzdGFuY2VfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc2NhbGVEZWx0YSA9IDEuMDtcbiAgICAgICAgdmFyIHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgICAgIHZhciB0b3VjaDEgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzFdO1xuICAgICAgICB2YXIgZHggPSB0b3VjaDAuY2xpZW50WCAtIHRvdWNoMS5jbGllbnRYO1xuICAgICAgICB2YXIgZHkgPSB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZO1xuICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgaWYgKHRoaXMubGFzdERpc3RhbmNlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZURlbHRhID0gdGhpcy5sYXN0RGlzdGFuY2VfIC8gZGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0RGlzdGFuY2VfID0gZGlzdGFuY2U7XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmIChzY2FsZURlbHRhICE9IDEuMCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSBzY2FsZURlbHRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNjYWxlIGFuY2hvciBwb2ludC5cbiAgICAgICAgdmFyIHZpZXdwb3J0UG9zaXRpb24gPSBtYXAuZ2V0Vmlld3BvcnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGNlbnRyb2lkWzBdIC09IHZpZXdwb3J0UG9zaXRpb24ubGVmdDtcbiAgICAgICAgY2VudHJvaWRbMV0gLT0gdmlld3BvcnRQb3NpdGlvbi50b3A7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwoY2VudHJvaWQpO1xuICAgICAgICAvLyBzY2FsZSwgYnlwYXNzIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnRcbiAgICAgICAgbWFwLnJlbmRlcigpO1xuICAgICAgICB2aWV3LmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChzY2FsZURlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5sYXN0U2NhbGVEZWx0YV8gPiAxID8gMSA6IC0xO1xuICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXywgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBQaW5jaFpvb20ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gMTtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBpbmNoWm9vbTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBQaW5jaFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaW5jaFpvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9NYXBcbiAqL1xuaW1wb3J0IENvbXBvc2l0ZU1hcFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIvQ29tcG9zaXRlLmpzJztcbmltcG9ydCBQbHVnZ2FibGVNYXAgZnJvbSAnLi9QbHVnZ2FibGVNYXAuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgZGVmYXVsdHMgYXMgZGVmYXVsdENvbnRyb2xzIH0gZnJvbSAnLi9jb250cm9sLmpzJztcbmltcG9ydCB7IGRlZmF1bHRzIGFzIGRlZmF1bHRJbnRlcmFjdGlvbnMgfSBmcm9tICcuL2ludGVyYWN0aW9uLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVGhlIG1hcCBpcyB0aGUgY29yZSBjb21wb25lbnQgb2YgT3BlbkxheWVycy4gRm9yIGEgbWFwIHRvIHJlbmRlciwgYSB2aWV3LFxuICogb25lIG9yIG1vcmUgbGF5ZXJzLCBhbmQgYSB0YXJnZXQgY29udGFpbmVyIGFyZSBuZWVkZWQ6XG4gKlxuICogICAgIGltcG9ydCBNYXAgZnJvbSAnb2wvTWFwJztcbiAqICAgICBpbXBvcnQgVmlldyBmcm9tICdvbC9WaWV3JztcbiAqICAgICBpbXBvcnQgVGlsZUxheWVyIGZyb20gJ29sL2xheWVyL1RpbGUnO1xuICogICAgIGltcG9ydCBPU00gZnJvbSAnb2wvc291cmNlL09TTSc7XG4gKlxuICogICAgIHZhciBtYXAgPSBuZXcgTWFwKHtcbiAqICAgICAgIHZpZXc6IG5ldyBWaWV3KHtcbiAqICAgICAgICAgY2VudGVyOiBbMCwgMF0sXG4gKiAgICAgICAgIHpvb206IDFcbiAqICAgICAgIH0pLFxuICogICAgICAgbGF5ZXJzOiBbXG4gKiAgICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xuICogICAgICAgICAgIHNvdXJjZTogbmV3IE9TTSgpXG4gKiAgICAgICAgIH0pXG4gKiAgICAgICBdLFxuICogICAgICAgdGFyZ2V0OiAnbWFwJ1xuICogICAgIH0pO1xuICpcbiAqIFRoZSBhYm92ZSBzbmlwcGV0IGNyZWF0ZXMgYSBtYXAgdXNpbmcgYSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1RpbGV9IHRvXG4gKiBkaXNwbGF5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL09TTX5PU019IE9TTSBkYXRhIGFuZCByZW5kZXIgaXQgdG8gYSBET01cbiAqIGVsZW1lbnQgd2l0aCB0aGUgaWQgYG1hcGAuXG4gKlxuICogVGhlIGNvbnN0cnVjdG9yIHBsYWNlcyBhIHZpZXdwb3J0IGNvbnRhaW5lciAod2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLXZpZXdwb3J0YCkgaW4gdGhlIHRhcmdldCBlbGVtZW50IChzZWUgYGdldFZpZXdwb3J0KClgKSwgYW5kIHRoZW4gdHdvXG4gKiBmdXJ0aGVyIGVsZW1lbnRzIHdpdGhpbiB0aGUgdmlld3BvcnQ6IG9uZSB3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgIGZvciBjb250cm9scyBhbmQgc29tZSBvdmVybGF5cywgYW5kIG9uZSB3aXRoXG4gKiBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lcmAgZm9yIG90aGVyIG92ZXJsYXlzIChzZWUgdGhlIGBzdG9wRXZlbnRgXG4gKiBvcHRpb24gb2Yge0BsaW5rIG1vZHVsZTpvbC9PdmVybGF5fk92ZXJsYXl9IGZvciB0aGUgZGlmZmVyZW5jZSkuIFRoZSBtYXBcbiAqIGl0c2VsZiBpcyBwbGFjZWQgaW4gYSBmdXJ0aGVyIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBMYXllcnMgYXJlIHN0b3JlZCBhcyBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpblxuICogbGF5ZXJHcm91cHMuIEEgdG9wLWxldmVsIGdyb3VwIGlzIHByb3ZpZGVkIGJ5IHRoZSBsaWJyYXJ5LiBUaGlzIGlzIHdoYXQgaXNcbiAqIGFjY2Vzc2VkIGJ5IGBnZXRMYXllckdyb3VwYCBhbmQgYHNldExheWVyR3JvdXBgLiBMYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgYXJlIGFkZGVkIHRvIHRoaXMgZ3JvdXAsIGFuZCBgYWRkTGF5ZXJgIGFuZCBgcmVtb3ZlTGF5ZXJgIGNoYW5nZSB0aGVcbiAqIGxheWVyIGNvbGxlY3Rpb24gaW4gdGhlIGdyb3VwLiBgZ2V0TGF5ZXJzYCBpcyBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvclxuICogYGdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKWAuIE5vdGUgdGhhdCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0dyb3Vwfkdyb3VwfVxuICogaXMgYSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V9LCBzbyBsYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgb3IgYWRkZWQgd2l0aCBgYWRkTGF5ZXJgIGNhbiBiZSBncm91cHMsIHdoaWNoIGNhbiBjb250YWluIGZ1cnRoZXJcbiAqIGdyb3VwcywgYW5kIHNvIG9uLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIE1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuTWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNvbnRyb2xzID0gZGVmYXVsdENvbnRyb2xzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmludGVyYWN0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucy5pbnRlcmFjdGlvbnMgPSBkZWZhdWx0SW50ZXJhY3Rpb25zKHtcbiAgICAgICAgICAgICAgICBvbkZvY3VzT25seTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXAucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2l0ZU1hcFJlbmRlcmVyKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcDtcbn0oUGx1Z2dhYmxlTWFwKSk7XG5leHBvcnQgZGVmYXVsdCBNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2xcbiAqL1xuaW1wb3J0IEF0dHJpYnV0aW9uIGZyb20gJy4vY29udHJvbC9BdHRyaWJ1dGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IFJvdGF0ZSBmcm9tICcuL2NvbnRyb2wvUm90YXRlLmpzJztcbmltcG9ydCBab29tIGZyb20gJy4vY29udHJvbC9ab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXR0cmlidXRpb24gfSBmcm9tICcuL2NvbnRyb2wvQXR0cmlidXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb250cm9sIH0gZnJvbSAnLi9jb250cm9sL0NvbnRyb2wuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGdWxsU2NyZWVuIH0gZnJvbSAnLi9jb250cm9sL0Z1bGxTY3JlZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb3VzZVBvc2l0aW9uIH0gZnJvbSAnLi9jb250cm9sL01vdXNlUG9zaXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPdmVydmlld01hcCB9IGZyb20gJy4vY29udHJvbC9PdmVydmlld01hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJvdGF0ZSB9IGZyb20gJy4vY29udHJvbC9Sb3RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY2FsZUxpbmUgfSBmcm9tICcuL2NvbnRyb2wvU2NhbGVMaW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbSB9IGZyb20gJy4vY29udHJvbC9ab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbVNsaWRlciB9IGZyb20gJy4vY29udHJvbC9ab29tU2xpZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbVRvRXh0ZW50IH0gZnJvbSAnLi9jb250cm9sL1pvb21Ub0V4dGVudC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmF1bHRzT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb249dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb250cm9sL0F0dHJpYnV0aW9uLmpzXCIpLk9wdGlvbnN9IFthdHRyaWJ1dGlvbk9wdGlvbnNdXG4gKiBPcHRpb25zIGZvciB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvQXR0cmlidXRpb25+QXR0cmlidXRpb259LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb250cm9sL1JvdGF0ZS5qc1wiKS5PcHRpb25zfSBbcm90YXRlT3B0aW9uc10gT3B0aW9uc1xuICogZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3pvb21dIEluY2x1ZGUge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29udHJvbC9ab29tLmpzXCIpLk9wdGlvbnN9IFt6b29tT3B0aW9uc10gT3B0aW9ucyBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LlxuICogQGFwaVxuICovXG4vKipcbiAqIFNldCBvZiBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFVubGVzcyBjb25maWd1cmVkIG90aGVyd2lzZSxcbiAqIHRoaXMgcmV0dXJucyBhIGNvbGxlY3Rpb24gY29udGFpbmluZyBhbiBpbnN0YW5jZSBvZiBlYWNoIG9mIHRoZSBmb2xsb3dpbmdcbiAqIGNvbnRyb2xzOlxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zfSBbb3B0X29wdGlvbnNdXG4gKiBEZWZhdWx0cyBvcHRpb25zLlxuICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAqIENvbnRyb2xzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMob3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICB2YXIgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICAgIHZhciB6b29tQ29udHJvbCA9IG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tIDogdHJ1ZTtcbiAgICBpZiAoem9vbUNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbHMucHVzaChuZXcgWm9vbShvcHRpb25zLnpvb21PcHRpb25zKSk7XG4gICAgfVxuICAgIHZhciByb3RhdGVDb250cm9sID0gb3B0aW9ucy5yb3RhdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlIDogdHJ1ZTtcbiAgICBpZiAocm90YXRlQ29udHJvbCkge1xuICAgICAgICBjb250cm9scy5wdXNoKG5ldyBSb3RhdGUob3B0aW9ucy5yb3RhdGVPcHRpb25zKSk7XG4gICAgfVxuICAgIHZhciBhdHRyaWJ1dGlvbkNvbnRyb2wgPSBvcHRpb25zLmF0dHJpYnV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF0dHJpYnV0aW9uIDogdHJ1ZTtcbiAgICBpZiAoYXR0cmlidXRpb25Db250cm9sKSB7XG4gICAgICAgIGNvbnRyb2xzLnB1c2gobmV3IEF0dHJpYnV0aW9uKG9wdGlvbnMuYXR0cmlidXRpb25PcHRpb25zKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9scztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2wuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uXG4gKi9cbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmltcG9ydCBEcmFnUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyc7XG5pbXBvcnQgRHJhZ1JvdGF0ZSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMnO1xuaW1wb3J0IERyYWdab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMnO1xuaW1wb3J0IEtleWJvYXJkUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMnO1xuaW1wb3J0IEtleWJvYXJkWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyc7XG5pbXBvcnQgS2luZXRpYyBmcm9tICcuL0tpbmV0aWMuanMnO1xuaW1wb3J0IE1vdXNlV2hlZWxab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMnO1xuaW1wb3J0IFBpbmNoUm90YXRlIGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMnO1xuaW1wb3J0IFBpbmNoWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL1BpbmNoWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERvdWJsZUNsaWNrWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ0FuZERyb3AgfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdBbmREcm9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ0JveCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ0JveC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYWdQYW4gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdQYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnUm90YXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnUm90YXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1JvdGF0ZUFuZFpvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVBbmRab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1pvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhdyB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV4dGVudCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRXh0ZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW50ZXJhY3Rpb24gfSBmcm9tICcuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRQYW4gfSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkUGFuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb2RpZnkgfSBmcm9tICcuL2ludGVyYWN0aW9uL01vZGlmeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1vdXNlV2hlZWxab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpbmNoUm90YXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpbmNoWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9pbnRlciB9IGZyb20gJy4vaW50ZXJhY3Rpb24vUG9pbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlbGVjdCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU2VsZWN0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU25hcCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU25hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRyYW5zbGF0ZSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vVHJhbnNsYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRGVmYXVsdHNPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbHRTaGlmdERyYWdSb3RhdGU9dHJ1ZV0gV2hldGhlciBBbHQtU2hpZnQtZHJhZyByb3RhdGUgaXNcbiAqIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gSW50ZXJhY3Qgb25seSB3aGVuIHRoZSBtYXAgaGFzIHRoZVxuICogZm9jdXMuIFRoaXMgYWZmZWN0cyB0aGUgYE1vdXNlV2hlZWxab29tYCBhbmQgYERyYWdQYW5gIGludGVyYWN0aW9ucyBhbmQgaXNcbiAqIHVzZWZ1bCB3aGVuIHBhZ2Ugc2Nyb2xsIGlzIGRlc2lyZWQgZm9yIG1hcHMgdGhhdCBkbyBub3QgaGF2ZSB0aGUgYnJvd3NlcidzXG4gKiBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RvdWJsZUNsaWNrWm9vbT10cnVlXSBXaGV0aGVyIGRvdWJsZSBjbGljayB6b29tIGlzXG4gKiBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBba2V5Ym9hcmQ9dHJ1ZV0gV2hldGhlciBrZXlib2FyZCBpbnRlcmFjdGlvbiBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbW91c2VXaGVlbFpvb209dHJ1ZV0gV2hldGhlciBtb3VzZXdoZWVsIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NoaWZ0RHJhZ1pvb209dHJ1ZV0gV2hldGhlciBTaGlmdC1kcmFnIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RyYWdQYW49dHJ1ZV0gV2hldGhlciBkcmFnIHBhbiBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGluY2hSb3RhdGU9dHJ1ZV0gV2hldGhlciBwaW5jaCByb3RhdGUgaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpbmNoWm9vbT10cnVlXSBXaGV0aGVyIHBpbmNoIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbURlbHRhXSBab29tIGxldmVsIGRlbHRhIHdoZW4gdXNpbmcga2V5Ym9hcmQgb3IgZG91YmxlIGNsaWNrIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21EdXJhdGlvbl0gRHVyYXRpb24gb2YgdGhlIHpvb20gYW5pbWF0aW9uIGluXG4gKiBtaWxsaXNlY29uZHMuXG4gKi9cbi8qKlxuICogU2V0IG9mIGludGVyYWN0aW9ucyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFNwZWNpZmljIGludGVyYWN0aW9ucyBjYW4gYmVcbiAqIGV4Y2x1ZGVkIGJ5IHNldHRpbmcgdGhlIGFwcHJvcHJpYXRlIG9wdGlvbiB0byBmYWxzZSBpbiB0aGUgY29uc3RydWN0b3JcbiAqIG9wdGlvbnMsIGJ1dCB0aGUgb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBpcyBmaXhlZC4gIElmIHlvdSB3YW50IHRvIHNwZWNpZnlcbiAqIGEgZGlmZmVyZW50IG9yZGVyIGZvciBpbnRlcmFjdGlvbnMsIHlvdSB3aWxsIG5lZWQgdG8gY3JlYXRlIHlvdXIgb3duXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9ufSBpbnN0YW5jZXMgYW5kIGluc2VydFxuICogdGhlbSBpbnRvIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSBpbiB0aGUgb3JkZXIgeW91IHdhbnRcbiAqIGJlZm9yZSBjcmVhdGluZyB5b3VyIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaW5zdGFuY2UuIENoYW5naW5nIHRoZSBvcmRlciBjYW5cbiAqIGJlIG9mIGludGVyZXN0IGlmIHRoZSBldmVudCBwcm9wYWdhdGlvbiBuZWVkcyB0byBiZSBzdG9wcGVkIGF0IGEgcG9pbnQuXG4gKiBUaGUgZGVmYXVsdCBzZXQgb2YgaW50ZXJhY3Rpb25zLCBpbiBzZXF1ZW5jZSwgaXM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZX5EcmFnUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbX5Eb3VibGVDbGlja1pvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbn5EcmFnUGFufVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlflBpbmNoUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoWm9vbX5QaW5jaFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbX5Nb3VzZVdoZWVsWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX1cbiAqXG4gKiBAcGFyYW0ge0RlZmF1bHRzT3B0aW9uc30gW29wdF9vcHRpb25zXSBEZWZhdWx0cyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqIEEgY29sbGVjdGlvbiBvZiBpbnRlcmFjdGlvbnMgdG8gYmUgdXNlZCB3aXRoIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9XG4gKiBjb25zdHJ1Y3RvcidzIGBpbnRlcmFjdGlvbnNgIG9wdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgdmFyIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgdmFyIGtpbmV0aWMgPSBuZXcgS2luZXRpYygtMC4wMDUsIDAuMDUsIDEwMCk7XG4gICAgdmFyIGFsdFNoaWZ0RHJhZ1JvdGF0ZSA9IG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmFsdFNoaWZ0RHJhZ1JvdGF0ZVxuICAgICAgICA6IHRydWU7XG4gICAgaWYgKGFsdFNoaWZ0RHJhZ1JvdGF0ZSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1JvdGF0ZSgpKTtcbiAgICB9XG4gICAgdmFyIGRvdWJsZUNsaWNrWm9vbSA9IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRvdWJsZUNsaWNrWm9vbSA6IHRydWU7XG4gICAgaWYgKGRvdWJsZUNsaWNrWm9vbSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRG91YmxlQ2xpY2tab29tKHtcbiAgICAgICAgICAgIGRlbHRhOiBvcHRpb25zLnpvb21EZWx0YSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgZHJhZ1BhbiA9IG9wdGlvbnMuZHJhZ1BhbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kcmFnUGFuIDogdHJ1ZTtcbiAgICBpZiAoZHJhZ1Bhbikge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1Bhbih7XG4gICAgICAgICAgICBvbkZvY3VzT25seTogb3B0aW9ucy5vbkZvY3VzT25seSxcbiAgICAgICAgICAgIGtpbmV0aWM6IGtpbmV0aWMsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIHBpbmNoUm90YXRlID0gb3B0aW9ucy5waW5jaFJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waW5jaFJvdGF0ZSA6IHRydWU7XG4gICAgaWYgKHBpbmNoUm90YXRlKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBQaW5jaFJvdGF0ZSgpKTtcbiAgICB9XG4gICAgdmFyIHBpbmNoWm9vbSA9IG9wdGlvbnMucGluY2hab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoWm9vbSA6IHRydWU7XG4gICAgaWYgKHBpbmNoWm9vbSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgUGluY2hab29tKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIga2V5Ym9hcmQgPSBvcHRpb25zLmtleWJvYXJkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleWJvYXJkIDogdHJ1ZTtcbiAgICBpZiAoa2V5Ym9hcmQpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IEtleWJvYXJkUGFuKCkpO1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgS2V5Ym9hcmRab29tKHtcbiAgICAgICAgICAgIGRlbHRhOiBvcHRpb25zLnpvb21EZWx0YSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgbW91c2VXaGVlbFpvb20gPSBvcHRpb25zLm1vdXNlV2hlZWxab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1vdXNlV2hlZWxab29tIDogdHJ1ZTtcbiAgICBpZiAobW91c2VXaGVlbFpvb20pIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IE1vdXNlV2hlZWxab29tKHtcbiAgICAgICAgICAgIG9uRm9jdXNPbmx5OiBvcHRpb25zLm9uRm9jdXNPbmx5LFxuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBzaGlmdERyYWdab29tID0gb3B0aW9ucy5zaGlmdERyYWdab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNoaWZ0RHJhZ1pvb20gOiB0cnVlO1xuICAgIGlmIChzaGlmdERyYWdab29tKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnWm9vbSh7XG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGludGVyYWN0aW9ucztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9UaWxlUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgUFJFTE9BRDogJ3ByZWxvYWQnLFxuICAgIFVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SOiAndXNlSW50ZXJpbVRpbGVzT25FcnJvcicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVByb3BlcnR5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVRpbGVcbiAqL1xuaW1wb3J0IExheWVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IFRpbGVQcm9wZXJ0eSBmcm9tICcuL1RpbGVQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9vYmouanMnO1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgJ2NoYW5nZTpzb3VyY2UnfCdjaGFuZ2U6cHJlbG9hZCd8J2NoYW5nZTp1c2VJbnRlcmltVGlsZXNPbkVycm9yJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAnY2hhbmdlOnNvdXJjZSd8J2NoYW5nZTpwcmVsb2FkJ3wnY2hhbmdlOnVzZUludGVyaW1UaWxlc09uRXJyb3InfGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBSZXR1cm4+fSBCYXNlVGlsZUxheWVyT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwcmVsb2FkPTBdIFByZWxvYWQuIExvYWQgbG93LXJlc29sdXRpb24gdGlsZXMgdXAgdG8gYHByZWxvYWRgIGxldmVscy4gYDBgXG4gKiBtZWFucyBubyBwcmVsb2FkaW5nLlxuICogQHByb3BlcnR5IHtUaWxlU291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2Uge0BsaW5rIGltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyIG1hcC5hZGRMYXllcigpfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUludGVyaW1UaWxlc09uRXJyb3I9dHJ1ZV0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvciBsYXllciBzb3VyY2VzIHRoYXQgcHJvdmlkZSBwcmUtcmVuZGVyZWQsIHRpbGVkIGltYWdlcyBpbiBncmlkcyB0aGF0IGFyZVxuICogb3JnYW5pemVkIGJ5IHpvb20gbGV2ZWxzIGZvciBzcGVjaWZpYyByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyPFRpbGVTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG52YXIgQmFzZVRpbGVMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVRpbGVMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM8VGlsZVNvdXJjZVR5cGU+fSBbb3B0X29wdGlvbnNdIFRpbGUgbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVGlsZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgYmFzZU9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMucHJlbG9hZDtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3I7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0Jhc2VUaWxlTGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbmNlO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8dm9pZD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bjtcbiAgICAgICAgX3RoaXMuc2V0UHJlbG9hZChvcHRpb25zLnByZWxvYWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJlbG9hZCA6IDApO1xuICAgICAgICBfdGhpcy5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvclxuICAgICAgICAgICAgOiB0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVGlsZUxheWVyLnByb3RvdHlwZS5nZXRQcmVsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuUFJFTE9BRCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcmVsb2FkIFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLnNldFByZWxvYWQgPSBmdW5jdGlvbiAocHJlbG9hZCkge1xuICAgICAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuUFJFTE9BRCwgcHJlbG9hZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVGlsZUxheWVyLnByb3RvdHlwZS5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yID0gZnVuY3Rpb24gKHVzZUludGVyaW1UaWxlc09uRXJyb3IpIHtcbiAgICAgICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SLCB1c2VJbnRlcmltVGlsZXNPbkVycm9yKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlVGlsZUxheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZVRpbGVMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VUaWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSAnLi4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi4vc291cmNlL1N0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gTGF5ZXJUeXBlXG4gKi9cbnZhciBMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMYXllclJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TGF5ZXJUeXBlfSBsYXllciBMYXllci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllclJlbmRlcmVyKGxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyA9IF90aGlzLmhhbmRsZUltYWdlQ2hhbmdlXy5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0xheWVyVHlwZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyXyA9IGxheWVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cFwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzIGxheWVyIGxldmVsIGhpdCBkZXRlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLmRlZmF1bHQ+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgKiBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dm9pZH0gSWYgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmUgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZGVkVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24gKHRpbGVzLCB6b29tLCB0aWxlKSB7XG4gICAgICAgIGlmICghdGlsZXNbem9vbV0pIHtcbiAgICAgICAgICAgIHRpbGVzW3pvb21dID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGlsZXNbem9vbV1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBhZGRzIGxvYWRlZCB0aWxlcyB0byB0aGUgdGlsZSBsb29rdXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIG9mIHRoZSB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICAgICAqICAgICBjYWxsZWQgd2l0aCBhIHpvb20gbGV2ZWwgYW5kIGEgdGlsZSByYW5nZSB0byBhZGQgbG9hZGVkIHRpbGVzIHRvIHRoZSBsb29rdXAuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIgPSBmdW5jdGlvbiAoc291cmNlLCBwcm9qZWN0aW9uLCB0aWxlcykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIHJhbmdlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgICAgICogQHRoaXMge0xheWVyUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoem9vbSwgdGlsZVJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmxvYWRlZFRpbGVDYWxsYmFjay5iaW5kKHRoaXMsIHRpbGVzLCB6b29tKTtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UuZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgem9vbSwgdGlsZVJhbmdlLCBjYWxsYmFjayk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl9IFRoZSByZXN1bHQuICBJZiB0aGVyZSBpcyBubyBkYXRhIGF0IHRoZSBwaXhlbFxuICAgICAqICAgIGxvY2F0aW9uLCBudWxsIHdpbGwgYmUgcmV0dXJuZWQuICBJZiB0aGVyZSBpcyBkYXRhLCBidXQgcGl4ZWwgdmFsdWVzIGNhbm5vdCBiZVxuICAgICAqICAgIHJldHVybmVkLCBhbmQgZW1wdHkgYXJyYXkgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXREYXRhQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7TGF5ZXJUeXBlfSBMYXllci5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlRm9udHNDaGFuZ2VkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIGNoYW5nZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUltYWdlQ2hhbmdlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLmRlZmF1bHR9ICovIChldmVudC50YXJnZXQpO1xuICAgICAgICBpZiAoaW1hZ2UuZ2V0U3RhdGUoKSA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgICAqIGxpc3RlbmVyIGlmIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlQmFzZS5qc1wiKS5kZWZhdWx0fSBpbWFnZSBJbWFnZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZEltYWdlID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKGltYWdlU3RhdGUgIT0gSW1hZ2VTdGF0ZS5MT0FERUQgJiYgaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgaW1hZ2UubG9hZCgpO1xuICAgICAgICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlLmdldFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVySWZSZWFkeUFuZFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiBsYXllci5nZXRTb3VyY2VTdGF0ZSgpID09IFNvdXJjZVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMYXllclJlbmRlcmVyO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgZGVmYXVsdCBMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlU3RhdGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgSURMRTogMCxcbiAgICBMT0FESU5HOiAxLFxuICAgIExPQURFRDogMixcbiAgICBFUlJPUjogMyxcbiAgICBFTVBUWTogNCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVN0YXRlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL0xheWVyXG4gKi9cbmltcG9ydCBMYXllclJlbmRlcmVyIGZyb20gJy4uL0xheWVyLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudCBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnQuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi8uLi9jb2xvci5qcyc7XG5pbXBvcnQgeyBjb250YWluc0Nvb3JkaW5hdGUsIGdldEJvdHRvbUxlZnQsIGdldEJvdHRvbVJpZ2h0LCBnZXRUb3BMZWZ0LCBnZXRUb3BSaWdodCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbi8qKlxuICogQGFic3RyYWN0XG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyUmVuZGVyZXI8TGF5ZXJUeXBlPn1cbiAqL1xudmFyIENhbnZhc0xheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0xheWVyUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtMYXllclR5cGV9IGxheWVyIExheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0xheWVyUmVuZGVyZXIobGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXBvcmFyeSB0cmFuc2Zvcm0uICBUaGUgdmFsdWVzIGluIHRoaXMgdHJhbnNmb3JtIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gYVxuICAgICAgICAgKiBmdW5jdGlvbiB0aGF0IHNldHMgdGhlIHZhbHVlcy5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRlbXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmVkIHBpeGVscyB0byB2aWV3cG9ydCBDU1MgcGl4ZWxzLiAgVGhpcyB0cmFuc2Zvcm0gbXVzdFxuICAgICAgICAgKiBiZSBzZXQgd2hlbiByZW5kZXJpbmcgYSBmcmFtZSBhbmQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZnVuY3Rpb25zIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciB2aWV3cG9ydCBDU1MgcGl4ZWxzIHRvIHJlbmRlcmVkIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgICAgICogYmUgc2V0IHdoZW4gcmVuZGVyaW5nIGEgZnJhbWUgYW5kIG1heSBiZSB1c2VkIGJ5IG90aGVyIGZ1bmN0aW9ucyBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxDb250ZXh0XyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL1BsdWdnYWJsZU1hcC5qcycpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEJhY2tncm91bmQgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbGF5ZXIuZ2V0QmFja2dyb3VuZCgpO1xuICAgICAgICBpZiAodHlwZW9mIGJhY2tncm91bmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSBiYWNrZ3JvdW5kKGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYWNrZ3JvdW5kIHx8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJlbmRlcmluZyBjb250YWluZXIgZnJvbSBhbiBleGlzdGluZyB0YXJnZXQsIGlmIGNvbXBhdGlibGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFBvdGVudGlhbCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm0gQ1NTIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0X2JhY2tncm91bmRDb2xvcl0gQmFja2dyb3VuZCBjb2xvci5cbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS51c2VDb250YWluZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCB0cmFuc2Zvcm0sIG9wYWNpdHksIG9wdF9iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgdmFyIGxheWVyQ2xhc3NOYW1lID0gdGhpcy5nZXRMYXllcigpLmdldENsYXNzTmFtZSgpO1xuICAgICAgICB2YXIgY29udGFpbmVyLCBjb250ZXh0O1xuICAgICAgICBpZiAodGFyZ2V0ICYmXG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NOYW1lID09PSBsYXllckNsYXNzTmFtZSAmJlxuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLm9wYWNpdHkgPT09ICcnICYmXG4gICAgICAgICAgICBvcGFjaXR5ID09PSAxICYmXG4gICAgICAgICAgICAoIW9wdF9iYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgICAgICAgICAodGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciAmJlxuICAgICAgICAgICAgICAgICAgICBlcXVhbHMoYXNBcnJheSh0YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yKSwgYXNBcnJheShvcHRfYmFja2dyb3VuZENvbG9yKSkpKSkge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRhcmdldC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPT09IHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gQ29udGFpbmVyIG9mIHRoZSBwcmV2aW91cyBsYXllciByZW5kZXJlciBjYW4gYmUgdXNlZC5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gdGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgICAgICAgLy8gUHJldmlvdXNseSByZXVzZWQgY29udGFpbmVyIGNhbm5vdCBiZSB1c2VkIGFueSBtb3JlLlxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gbGF5ZXJDbGFzc05hbWU7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBjb250YWluZXIuc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgIGlmIChvcHRfYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZENvbG9yID0gb3B0X2JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoKTtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgICAgc3R5bGUgPSBjYW52YXMuc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCBsZWZ0JztcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IENsaXAgZXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jbGlwVW5yb3RhdGVkID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUsIGV4dGVudCkge1xuICAgICAgICB2YXIgdG9wTGVmdCA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICAgICAgdmFyIHRvcFJpZ2h0ID0gZ2V0VG9wUmlnaHQoZXh0ZW50KTtcbiAgICAgICAgdmFyIGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICAgICAgdmFyIGJvdHRvbUxlZnQgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcExlZnQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCB0b3BSaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tTGVmdCk7XG4gICAgICAgIHZhciBpbnZlcnRlZCA9IHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgdG9wTGVmdCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCB0b3BSaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21SaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21MZWZ0KTtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKE1hdGgucm91bmQodG9wTGVmdFswXSksIE1hdGgucm91bmQodG9wTGVmdFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKHRvcFJpZ2h0WzBdKSwgTWF0aC5yb3VuZCh0b3BSaWdodFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbVJpZ2h0WzBdKSwgTWF0aC5yb3VuZChib3R0b21SaWdodFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMF0pLCBNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMV0pKTtcbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmRpc3BhdGNoUmVuZGVyRXZlbnRfID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICBpZiAobGF5ZXIuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGxheWVyLmRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50XyhSZW5kZXJFdmVudFR5cGUuUFJFUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucG9zdFJlbmRlciA9IGZ1bmN0aW9uIChjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nIHRvIGFuIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHJvdGF0ZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBPZmZzZXQgb24gdGhlIHgtYXhpcyBpbiB2aWV3IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFJlbmRlclRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBwaXhlbFJhdGlvLCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXRYKSB7XG4gICAgICAgIHZhciBkeDEgPSB3aWR0aCAvIDI7XG4gICAgICAgIHZhciBkeTEgPSBoZWlnaHQgLyAyO1xuICAgICAgICB2YXIgc3ggPSBwaXhlbFJhdGlvIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN5ID0gLXN4O1xuICAgICAgICB2YXIgZHgyID0gLWNlbnRlclswXSArIG9mZnNldFg7XG4gICAgICAgIHZhciBkeTIgPSAtY2VudGVyWzFdO1xuICAgICAgICByZXR1cm4gY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIGR4MSwgZHkxLCBzeCwgc3ksIC1yb3RhdGlvbiwgZHgyLCBkeTIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheX0gVGhlIHJlc3VsdC4gIElmIHRoZXJlIGlzIG5vIGRhdGEgYXQgdGhlIHBpeGVsXG4gICAgICogICAgbG9jYXRpb24sIG51bGwgd2lsbCBiZSByZXR1cm5lZC4gIElmIHRoZXJlIGlzIGRhdGEsIGJ1dCBwaXhlbCB2YWx1ZXMgY2Fubm90IGJlXG4gICAgICogICAgcmV0dXJuZWQsIGFuZCBlbXB0eSBhcnJheSB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldERhdGFBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UpIHtcbiAgICAgICAgdmFyIHJlbmRlclBpeGVsID0gYXBwbHlUcmFuc2Zvcm0odGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgbGF5ZXJFeHRlbnQgPSBsYXllci5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyQ29vcmRpbmF0ZSA9IGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICAgICAgLyoqIGdldCBvbmx5IGRhdGEgaW5zaWRlIG9mIHRoZSBsYXllciBleHRlbnQgKi9cbiAgICAgICAgICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKGxheWVyRXh0ZW50LCByZW5kZXJDb29yZGluYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChyZW5kZXJQaXhlbFswXSk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5yb3VuZChyZW5kZXJQaXhlbFsxXSk7XG4gICAgICAgIHZhciBwaXhlbENvbnRleHQgPSB0aGlzLnBpeGVsQ29udGV4dF87XG4gICAgICAgIGlmICghcGl4ZWxDb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcGl4ZWxDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIHBpeGVsQ2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgICAgIHBpeGVsQ2FudmFzLmhlaWdodCA9IDE7XG4gICAgICAgICAgICBwaXhlbENvbnRleHQgPSBwaXhlbENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgdGhpcy5waXhlbENvbnRleHRfID0gcGl4ZWxDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHBpeGVsQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgMSwgMSk7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGl4ZWxDb250ZXh0LmRyYXdJbWFnZShjb250ZXh0LmNhbnZhcywgeCwgeSwgMSwgMSwgMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICBkYXRhID0gcGl4ZWxDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PT0gJ1NlY3VyaXR5RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgLy8gdGFpbnRlZCBjYW52YXMsIHdlIGFzc3VtZSB0aGVyZSBpcyBkYXRhIGF0IHRoZSBnaXZlbiBwaXhlbCAoYWx0aG91Z2ggdGhlcmUgbWlnaHQgbm90IGJlKVxuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxDb250ZXh0XyA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVszXSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbn0oTGF5ZXJSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUmFuZ2VcbiAqL1xuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY29udGlndW91cyBibG9jayBvZiB0aWxlcy4gIEEgdGlsZSByYW5nZSBpcyBzcGVjaWZpZWRcbiAqIGJ5IGl0cyBtaW4vbWF4IHRpbGUgY29vcmRpbmF0ZXMgYW5kIGlzIGluY2x1c2l2ZSBvZiBjb29yZGluYXRlcy5cbiAqL1xudmFyIFRpbGVSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnNYWSh0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWluc1RpbGVSYW5nZSA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1pblggJiZcbiAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhYIDw9IHRoaXMubWF4WCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICAgICAgICB0aWxlUmFuZ2UubWF4WSA8PSB0aGlzLm1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgY29vcmRpbmF0ZS5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zWFkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YIDw9IHggJiYgeCA8PSB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDw9IHkgJiYgeSA8PSB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRXF1YWxzLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRpbGVSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMubWluWCA9PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZID09IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICAgICAgICB0aGlzLm1heFggPT0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgICAgICAgIHRoaXMubWF4WSA9PSB0aWxlUmFuZ2UubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAodGlsZVJhbmdlKSB7XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWluWCA8IHRoaXMubWluWCkge1xuICAgICAgICAgICAgdGhpcy5taW5YID0gdGlsZVJhbmdlLm1pblg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVSYW5nZS5tYXhYID4gdGhpcy5tYXhYKSB7XG4gICAgICAgICAgICB0aGlzLm1heFggPSB0aWxlUmFuZ2UubWF4WDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZVJhbmdlLm1pblkgPCB0aGlzLm1pblkpIHtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IHRpbGVSYW5nZS5taW5ZO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWF4WSA+IHRoaXMubWF4WSkge1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gdGlsZVJhbmdlLm1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhZIC0gdGhpcy5taW5ZICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmdldFdpZHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhYIC0gdGhpcy5taW5YICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJbnRlcnNlY3RzLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgICAgICAgIHRoaXMubWF4WCA+PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5tYXhZICYmXG4gICAgICAgICAgICB0aGlzLm1heFkgPj0gdGlsZVJhbmdlLm1pblkpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVSYW5nZTtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7VGlsZVJhbmdlfSBbdGlsZVJhbmdlXSBUaWxlUmFuZ2UuXG4gKiBAcmV0dXJuIHtUaWxlUmFuZ2V9IFRpbGUgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZLCB0aWxlUmFuZ2UpIHtcbiAgICBpZiAodGlsZVJhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGlsZVJhbmdlLm1pblggPSBtaW5YO1xuICAgICAgICB0aWxlUmFuZ2UubWF4WCA9IG1heFg7XG4gICAgICAgIHRpbGVSYW5nZS5taW5ZID0gbWluWTtcbiAgICAgICAgdGlsZVJhbmdlLm1heFkgPSBtYXhZO1xuICAgICAgICByZXR1cm4gdGlsZVJhbmdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVGlsZVJhbmdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVJhbmdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvY29tbW9uXG4gKi9cbi8qKlxuICogQ29udGV4dCBvcHRpb25zIHRvIGRpc2FibGUgaW1hZ2Ugc21vb3RoaW5nLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgPSB7XG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiBmYWxzZSxcbiAgICBtc0ltYWdlU21vb3RoaW5nRW5hYmxlZDogZmFsc2UsXG59O1xuLyoqXG4gKiBDb250ZXh0IG9wdGlvbnMgdG8gZW5hYmxlIGltYWdlIHNtb290aGluZy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgSU1BR0VfU01PT1RISU5HX0VOQUJMRUQgPSB7XG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiB0cnVlLFxuICAgIG1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkOiB0cnVlLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0xheWVyUmVuZGVyZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgVGlsZVJhbmdlIGZyb20gJy4uLy4uL1RpbGVSYW5nZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uLy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQsIElNQUdFX1NNT09USElOR19FTkFCTEVEIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UsIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFbXB0eSwgZXF1YWxzLCBnZXRJbnRlcnNlY3Rpb24sIGdldFRvcExlZnQsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNzc09wYWNpdHkgfSBmcm9tICcuLi8uLi9jc3MuanMnO1xuaW1wb3J0IHsgZnJvbVVzZXJFeHRlbnQgfSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IHRvU3RyaW5nIGFzIHRvVHJhbnNmb3JtU3RyaW5nIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB0aWxlIGxheWVycy5cbiAqIEBhcGlcbiAqL1xudmFyIENhbnZhc1RpbGVMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVMYXllciBUaWxlIGxheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1RpbGVMYXllclJlbmRlcmVyKHRpbGVMYXllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0aWxlTGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlZCBleHRlbnQgaGFzIGNoYW5nZWQgc2luY2UgdGhlIHByZXZpb3VzIGByZW5kZXJGcmFtZSgpYCBjYWxsXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW50Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRQaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFByb2plY3Rpb24gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXZpc2lvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRUaWxlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uZXdUaWxlc18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wVGlsZVJhbmdlXyA9IG5ldyBUaWxlUmFuZ2UoMCwgMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBpcyBkcmF3YWJsZS5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaXNEcmF3YWJsZVRpbGUgPSBmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICB2YXIgdXNlSW50ZXJpbVRpbGVzT25FcnJvciA9IHRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCk7XG4gICAgICAgIHJldHVybiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkgfHxcbiAgICAgICAgICAgICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SICYmICF1c2VJbnRlcmltVGlsZXNPbkVycm9yKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVNvdXJjZSA9IHRpbGVMYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgdmFyIHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpZiAoIXRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzZUludGVyaW1UaWxlc09uRXJyb3IgaXMgZmFsc2UsIHdlIGNvbnNpZGVyIHRoZSBlcnJvciB0aWxlIGFzIGxvYWRlZC5cbiAgICAgICAgICAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FERUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlsZUxheWVyLmdldFByZWxvYWQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVsb2FkZWQgdGlsZXMgZm9yIGxvd2VyIHJlc29sdXRpb25zIG1pZ2h0IGhhdmUgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAgICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhd2FibGVUaWxlKHRpbGUpKSB7XG4gICAgICAgICAgICB0aWxlID0gdGlsZS5nZXRJbnRlcmltVGlsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHZvaWR9IElmIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5sb2FkZWRUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAodGlsZXMsIHpvb20sIHRpbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmxvYWRlZFRpbGVDYWxsYmFjay5jYWxsKHRoaXMsIHRpbGVzLCB6b29tLCB0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wcmVwYXJlRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdmFyIHRpbGVTb3VyY2UgPSB0aWxlTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgIHZhciBzb3VyY2VSZXZpc2lvbiA9IHRpbGVTb3VyY2UuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gdGlsZVNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHZhciB6ID0gdGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24odmlld1Jlc29sdXRpb24sIHRpbGVTb3VyY2UuekRpcmVjdGlvbik7XG4gICAgICAgIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIGxheWVyRXh0ZW50ID0gbGF5ZXJTdGF0ZS5leHRlbnQgJiYgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pO1xuICAgICAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgICAgICAgIGV4dGVudCA9IGdldEludGVyc2VjdGlvbihleHRlbnQsIGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCBwcm9qZWN0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbGVQaXhlbFJhdGlvID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgICAgICAgLy8gZGVzaXJlZCBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXMgaW4gcGl4ZWxzXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogdGlsZVBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMV0gKiB0aWxlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgdmFyIHNpemUgPSBNYXRoLnJvdW5kKE1hdGguc3FydCh3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0KSk7XG4gICAgICAgICAgICB3aWR0aCA9IHNpemU7XG4gICAgICAgICAgICBoZWlnaHQgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9ICh0aWxlUmVzb2x1dGlvbiAqIHdpZHRoKSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGR5ID0gKHRpbGVSZXNvbHV0aW9uICogaGVpZ2h0KSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGNhbnZhc0V4dGVudCA9IFtcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMF0gLSBkeCxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMV0gLSBkeSxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMF0gKyBkeCxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMV0gKyBkeSxcbiAgICAgICAgXTtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aWxlc1RvRHJhd0J5WiA9IHt9O1xuICAgICAgICB0aWxlc1RvRHJhd0J5Wlt6XSA9IHt9O1xuICAgICAgICB2YXIgZmluZExvYWRlZFRpbGVzID0gdGhpcy5jcmVhdGVMb2FkZWRUaWxlRmluZGVyKHRpbGVTb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzVG9EcmF3QnlaKTtcbiAgICAgICAgdmFyIHRtcEV4dGVudCA9IHRoaXMudG1wRXh0ZW50O1xuICAgICAgICB2YXIgdG1wVGlsZVJhbmdlID0gdGhpcy50bXBUaWxlUmFuZ2VfO1xuICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciB4ID0gdGlsZVJhbmdlLm1pblg7IHggPD0gdGlsZVJhbmdlLm1heFg7ICsreCkge1xuICAgICAgICAgICAgZm9yICh2YXIgeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMuZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RyYXdhYmxlVGlsZSh0aWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVzVG9EcmF3QnlaW3pdW3RpbGUudGlsZUNvb3JkLnRvU3RyaW5nKCldID0gdGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpblRyYW5zaXRpb24gPSB0aWxlLmluVHJhbnNpdGlvbih1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5ld1RpbGVzXyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpblRyYW5zaXRpb24gfHwgdGhpcy5yZW5kZXJlZFRpbGVzLmluZGV4T2YodGlsZSkgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3VGlsZXNfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGxvb2sgZm9yIGFsdCB0aWxlcyBpZiBhbHBoYSBpcyAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUaWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSh0aWxlLnRpbGVDb29yZCwgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICAgICAgICAgIHZhciBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVGlsZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBmaW5kTG9hZGVkVGlsZXMoeiArIDEsIGNoaWxkVGlsZVJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UodGlsZS50aWxlQ29vcmQsIGZpbmRMb2FkZWRUaWxlcywgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzU2NhbGUgPSB0aWxlUmVzb2x1dGlvbiAvIHZpZXdSZXNvbHV0aW9uO1xuICAgICAgICAvLyBzZXQgZm9yd2FyZCBhbmQgaW52ZXJzZSBwaXhlbCB0cmFuc2Zvcm1zXG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy5waXhlbFRyYW5zZm9ybSwgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMiwgZnJhbWVTdGF0ZS5zaXplWzFdIC8gMiwgMSAvIHRpbGVQaXhlbFJhdGlvLCAxIC8gdGlsZVBpeGVsUmF0aW8sIHJvdGF0aW9uLCAtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMik7XG4gICAgICAgIHZhciBjYW52YXNUcmFuc2Zvcm0gPSB0b1RyYW5zZm9ybVN0cmluZyh0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy51c2VDb250YWluZXIodGFyZ2V0LCBjYW52YXNUcmFuc2Zvcm0sIGxheWVyU3RhdGUub3BhY2l0eSwgdGhpcy5nZXRCYWNrZ3JvdW5kKGZyYW1lU3RhdGUpKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgbWFrZUludmVyc2UodGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuICAgICAgICAvLyBzZXQgc2NhbGUgdHJhbnNmb3JtIGZvciBjYWxjdWxhdGluZyB0aWxlIHBvc2l0aW9ucyBvbiB0aGUgY2FudmFzXG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy50ZW1wVHJhbnNmb3JtLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIsIGNhbnZhc1NjYWxlLCBjYW52YXNTY2FsZSwgMCwgLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIpO1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllckV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aWxlU291cmNlLmdldEludGVycG9sYXRlKCkpIHtcbiAgICAgICAgICAgIGFzc2lnbihjb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlUmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgICAgICB2YXIgenMgPSBPYmplY3Qua2V5cyh0aWxlc1RvRHJhd0J5WikubWFwKE51bWJlcik7XG4gICAgICAgIHpzLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gICAgICAgIHZhciBjbGlwcywgY2xpcFpzLCBjdXJyZW50Q2xpcDtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUub3BhY2l0eSA9PT0gMSAmJlxuICAgICAgICAgICAgKCF0aGlzLmNvbnRhaW5lclJldXNlZCB8fFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2UuZ2V0T3BhcXVlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24pKSkge1xuICAgICAgICAgICAgenMgPSB6cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGlwcyA9IFtdO1xuICAgICAgICAgICAgY2xpcFpzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHpzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFogPSB6c1tpXTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGlsZVBpeGVsU2l6ZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsU2l6ZShjdXJyZW50WiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgICAgICB2YXIgY3VycmVudFJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKGN1cnJlbnRaKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2NhbGUgPSBjdXJyZW50UmVzb2x1dGlvbiAvIHRpbGVSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIGR4XzEgPSBjdXJyZW50VGlsZVBpeGVsU2l6ZVswXSAqIGN1cnJlbnRTY2FsZSAqIGNhbnZhc1NjYWxlO1xuICAgICAgICAgICAgdmFyIGR5XzEgPSBjdXJyZW50VGlsZVBpeGVsU2l6ZVsxXSAqIGN1cnJlbnRTY2FsZSAqIGNhbnZhc1NjYWxlO1xuICAgICAgICAgICAgdmFyIG9yaWdpblRpbGVDb29yZCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihnZXRUb3BMZWZ0KGNhbnZhc0V4dGVudCksIGN1cnJlbnRaKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5UaWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KG9yaWdpblRpbGVDb29yZCk7XG4gICAgICAgICAgICB2YXIgb3JpZ2luXzEgPSBhcHBseVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIFtcbiAgICAgICAgICAgICAgICAodGlsZVBpeGVsUmF0aW8gKiAob3JpZ2luVGlsZUV4dGVudFswXSAtIGNhbnZhc0V4dGVudFswXSkpIC9cbiAgICAgICAgICAgICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgKHRpbGVQaXhlbFJhdGlvICogKGNhbnZhc0V4dGVudFszXSAtIG9yaWdpblRpbGVFeHRlbnRbM10pKSAvXG4gICAgICAgICAgICAgICAgICAgIHRpbGVSZXNvbHV0aW9uLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB2YXIgdGlsZUd1dHRlciA9IHRpbGVQaXhlbFJhdGlvICogdGlsZVNvdXJjZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgdmFyIHRpbGVzVG9EcmF3ID0gdGlsZXNUb0RyYXdCeVpbY3VycmVudFpdO1xuICAgICAgICAgICAgZm9yICh2YXIgdGlsZUNvb3JkS2V5IGluIHRpbGVzVG9EcmF3KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZXNUb0RyYXdbdGlsZUNvb3JkS2V5XSk7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVDb29yZCA9IHRpbGUudGlsZUNvb3JkO1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlZ2VyIHBvc2l0aW9ucyBhbmQgc2l6ZXMgc28gdGhhdCB0aWxlcyBhbGlnblxuICAgICAgICAgICAgICAgIHZhciB4SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMV0gLSB0aWxlQ29vcmRbMV07XG4gICAgICAgICAgICAgICAgdmFyIG5leHRYID0gTWF0aC5yb3VuZChvcmlnaW5fMVswXSAtICh4SW5kZXggLSAxKSAqIGR4XzEpO1xuICAgICAgICAgICAgICAgIHZhciB5SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMl0gLSB0aWxlQ29vcmRbMl07XG4gICAgICAgICAgICAgICAgdmFyIG5leHRZID0gTWF0aC5yb3VuZChvcmlnaW5fMVsxXSAtICh5SW5kZXggLSAxKSAqIGR5XzEpO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChvcmlnaW5fMVswXSAtIHhJbmRleCAqIGR4XzEpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gTWF0aC5yb3VuZChvcmlnaW5fMVsxXSAtIHlJbmRleCAqIGR5XzEpO1xuICAgICAgICAgICAgICAgIHZhciB3ID0gbmV4dFggLSB4O1xuICAgICAgICAgICAgICAgIHZhciBoID0gbmV4dFkgLSB5O1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0geiA9PT0gY3VycmVudFo7XG4gICAgICAgICAgICAgICAgdmFyIGluVHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gJiYgdGlsZS5nZXRBbHBoYShnZXRVaWQodGhpcyksIGZyYW1lU3RhdGUudGltZSkgIT09IDE7XG4gICAgICAgICAgICAgICAgaWYgKCFpblRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaXBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGlwIG1hc2sgZm9yIHJlZ2lvbnMgaW4gdGhpcyB0aWxlIHRoYXQgYWxyZWFkeSBmaWxsZWQgYnkgYSBoaWdoZXIgeiB0aWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDbGlwID0gW3gsIHksIHggKyB3LCB5LCB4ICsgdywgeSArIGgsIHgsIHkgKyBoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDAsIGlpID0gY2xpcHMubGVuZ3RoOyBpXzEgPCBpaTsgKytpXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeiAhPT0gY3VycmVudFogJiYgY3VycmVudFogPCBjbGlwWnNbaV8xXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcCA9IGNsaXBzW2lfMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGN1cnJlbnRDbGlwWzBdLCBjdXJyZW50Q2xpcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzJdLCBjdXJyZW50Q2xpcFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzZdLCBjdXJyZW50Q2xpcFs3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb2Nrd2lzZSAoaW5uZXIgcmluZykgZm9yIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbNF0sIGNsaXBbNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzJdLCBjbGlwWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBzLnB1c2goY3VycmVudENsaXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFpzLnB1c2goY3VycmVudFopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3VGlsZUltYWdlKHRpbGUsIGZyYW1lU3RhdGUsIHgsIHksIHcsIGgsIHRpbGVHdXR0ZXIsIHRyYW5zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChjbGlwcyAmJiAhaW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMudW5zaGlmdCh0aWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRUaWxlcy5wdXNoKHRpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVzZWRUaWxlcyhmcmFtZVN0YXRlLnVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uID0gc291cmNlUmV2aXNpb247XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uID0gdGlsZVJlc29sdXRpb247XG4gICAgICAgIHRoaXMuZXh0ZW50Q2hhbmdlZCA9XG4gICAgICAgICAgICAhdGhpcy5yZW5kZXJlZEV4dGVudF8gfHwgIWVxdWFscyh0aGlzLnJlbmRlcmVkRXh0ZW50XywgY2FudmFzRXh0ZW50KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjYW52YXNFeHRlbnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZWRQaXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFByb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLm1hbmFnZVRpbGVQeXJhbWlkKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UsIHRpbGVHcmlkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBleHRlbnQsIHosIHRpbGVMYXllci5nZXRQcmVsb2FkKCkpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlRXhwaXJlQ2FjaGUoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSk7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50KSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oY29udGV4dCwgSU1BR0VfU01PT1RISU5HX0VOQUJMRUQpO1xuICAgICAgICBpZiAoY2FudmFzVHJhbnNmb3JtICE9PSBjYW52YXMuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUudHJhbnNmb3JtID0gY2FudmFzVHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcGFjaXR5ID0gY3NzT3BhY2l0eShsYXllclN0YXRlLm9wYWNpdHkpO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGlmIChvcGFjaXR5ICE9PSBjb250YWluZXIuc3R5bGUub3BhY2l0eSkge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IExlZnQgb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVG9wIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoIEhlaWdodCBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIFRpbGUgZ3V0dGVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvbiBBcHBseSBhbiBhbHBoYSB0cmFuc2l0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kcmF3VGlsZUltYWdlID0gZnVuY3Rpb24gKHRpbGUsIGZyYW1lU3RhdGUsIHgsIHksIHcsIGgsIGd1dHRlciwgdHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldFRpbGVJbWFnZSh0aWxlKTtcbiAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgICAgIHZhciBhbHBoYSA9IHRyYW5zaXRpb24gPyB0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA6IDE7XG4gICAgICAgIHZhciBhbHBoYUNoYW5nZWQgPSBhbHBoYSAhPT0gdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgICAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZ3V0dGVyLCBndXR0ZXIsIGltYWdlLndpZHRoIC0gMiAqIGd1dHRlciwgaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlciwgeCwgeSwgdywgaCk7XG4gICAgICAgIGlmIChhbHBoYUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFscGhhICE9PSAxKSB7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLmFuaW1hdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHRpbGUuZW5kVHJhbnNpdGlvbih1aWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2VcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IGNvbnRleHQuY2FudmFzIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgZnJvbSBhIHRpbGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRUaWxlSW1hZ2UgPSBmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICByZXR1cm4gdGlsZS5nZXRJbWFnZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5zY2hlZHVsZUV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpIHtcbiAgICAgICAgaWYgKHRpbGVTb3VyY2UuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHBvc3RSZW5kZXJGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlU291cmNlLCBtYXAsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZVNvdXJjZUtleSBpbiBmcmFtZVN0YXRlLnVzZWRUaWxlcykge1xuICAgICAgICAgICAgICAgICAgICB0aWxlU291cmNlLmV4cGlyZUNhY2hlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24sIGZyYW1lU3RhdGUudXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQobnVsbCwgdGlsZVNvdXJjZSk7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLlBvc3RSZW5kZXJGdW5jdGlvbn0gKi8gKHBvc3RSZW5kZXJGdW5jdGlvbikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PHN0cmluZywgYm9vbGVhbj4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL1RpbGUuanMnKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVVc2VkVGlsZXMgPSBmdW5jdGlvbiAodXNlZFRpbGVzLCB0aWxlU291cmNlLCB0aWxlKSB7XG4gICAgICAgIC8vIEZJWE1FIHNob3VsZCB3ZSB1c2UgdGlsZXNUb0RyYXdCeVogaW5zdGVhZD9cbiAgICAgICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gdXNlZFRpbGVzKSkge1xuICAgICAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3RpbGUuZ2V0S2V5KCldID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aWxlIHB5cmFtaWQuXG4gICAgICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIG51bWJlciBvZiBmdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgdGlsZXMgYXQgdGhlXG4gICAgICogY3VycmVudCB6b29tIGFuZCBsb3dlciB6b29tIGxldmVsczpcbiAgICAgKiAtIHJlZ2lzdGVycyBpZGxlIHRpbGVzIGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMgc28gdGhhdCB0aGV5IGFyZSBub3RcbiAgICAgKiAgIGRpc2NhcmRlZCBieSB0aGUgdGlsZSBxdWV1ZVxuICAgICAqIC0gZW5xdWV1ZXMgbWlzc2luZyB0aWxlc1xuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRaIEN1cnJlbnQgWi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBMb2FkIGxvdyByZXNvbHV0aW9uIHRpbGVzIHVwIHRvICdwcmVsb2FkJyBsZXZlbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtvcHRfdGlsZUNhbGxiYWNrXSBUaWxlIGNhbGxiYWNrLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubWFuYWdlVGlsZVB5cmFtaWQgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSwgdGlsZUdyaWQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGV4dGVudCwgY3VycmVudFosIHByZWxvYWQsIG9wdF90aWxlQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2FudGVkVGlsZXMgPSBmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldO1xuICAgICAgICB2YXIgdGlsZVF1ZXVlID0gZnJhbWVTdGF0ZS50aWxlUXVldWU7XG4gICAgICAgIHZhciBtaW5ab29tID0gdGlsZUdyaWQuZ2V0TWluWm9vbSgpO1xuICAgICAgICB2YXIgdGlsZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIHRpbGUsIHRpbGVSYW5nZSwgdGlsZVJlc29sdXRpb24sIHgsIHksIHo7XG4gICAgICAgIGZvciAoeiA9IG1pblpvb207IHogPD0gY3VycmVudFo7ICsreikge1xuICAgICAgICAgICAgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHosIHRpbGVSYW5nZSk7XG4gICAgICAgICAgICB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgICAgICBmb3IgKHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICAgICAgICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFogLSB6IDw9IHByZWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGlsZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YW50ZWRUaWxlc1t0aWxlLmdldEtleSgpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aWxlUXVldWUuaXNLZXlRdWV1ZWQodGlsZS5nZXRLZXkoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVF1ZXVlLmVucXVldWUoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDZW50ZXIodGlsZS50aWxlQ29vcmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfdGlsZUNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfdGlsZUNhbGxiYWNrKHRpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVNvdXJjZS51c2VUaWxlKHosIHgsIHksIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbGVTb3VyY2UudXBkYXRlQ2FjaGVTaXplKHRpbGVDb3VudCwgcHJvamVjdGlvbik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI7XG59KENhbnZhc0xheWVyUmVuZGVyZXIpKTtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICovXG5DYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGF5ZXI7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVMYXllci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1RpbGVcbiAqL1xuaW1wb3J0IEJhc2VUaWxlTGF5ZXIgZnJvbSAnLi9CYXNlVGlsZS5qcyc7XG5pbXBvcnQgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvciBsYXllciBzb3VyY2VzIHRoYXQgcHJvdmlkZSBwcmUtcmVuZGVyZWQsIHRpbGVkIGltYWdlcyBpbiBncmlkcyB0aGF0IGFyZVxuICogb3JnYW5pemVkIGJ5IHpvb20gbGV2ZWxzIGZvciBzcGVjaWZpYyByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAZXh0ZW5kcyBCYXNlVGlsZUxheWVyPFRpbGVTb3VyY2VUeXBlLCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcj5cbiAqIEBhcGlcbiAqL1xudmFyIFRpbGVMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZUxheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlVGlsZS5qc1wiKS5PcHRpb25zPFRpbGVTb3VyY2VUeXBlPn0gW29wdF9vcHRpb25zXSBUaWxlIGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRfb3B0aW9ucykgfHwgdGhpcztcbiAgICB9XG4gICAgVGlsZUxheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcih0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBUaWxlTGF5ZXI7XG59KEJhc2VUaWxlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9UaWxlXG4gKi9cbmltcG9ydCBFdmVudFRhcmdldCBmcm9tICcuL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBlYXNlSW4gfSBmcm9tICcuL2Vhc2luZy5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL1RpbGV9IGZvciB0aGUgdGlsZSBhbmQgYVxuICogYHtzdHJpbmd9YCBmb3IgdGhlIHVybCBhcyBhcmd1bWVudHMuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogc291cmNlLnNldFRpbGVMb2FkRnVuY3Rpb24oZnVuY3Rpb24odGlsZSwgc3JjKSB7XG4gKiAgIHRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9KTtcbiAqIGBgYFxuICogRm9yIG1vcmUgZmluZSBncmFpbmVkIGNvbnRyb2wsIHRoZSBsb2FkIGZ1bmN0aW9uIGNhbiB1c2UgZmV0Y2ggb3IgWE1MSHR0cFJlcXVlc3QgYW5kIGludm9sdmVcbiAqIGVycm9yIGhhbmRsaW5nOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgVGlsZVN0YXRlIGZyb20gJ29sL1RpbGVTdGF0ZSc7XG4gKlxuICogc291cmNlLnNldFRpbGVMb2FkRnVuY3Rpb24oZnVuY3Rpb24odGlsZSwgc3JjKSB7XG4gKiAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAqICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gKiAgICAgdmFyIGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xuICogICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAqICAgICAgIHRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICogICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAqICAgfSk7XG4gKiAgIHhoci5vcGVuKCdHRVQnLCBzcmMpO1xuICogICB4aHIuc2VuZCgpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oVGlsZSwgc3RyaW5nKTogdm9pZH0gTG9hZEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0byBnZXRcbiAqIHRoZSB1cmwgdGhhdCBwcm92aWRlcyBhIHRpbGUgZm9yIGEgZ2l2ZW4gdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC90aWxlY29vcmR+VGlsZUNvb3JkfSBmb3IgdGhlIHRpbGVcbiAqIGNvb3JkaW5hdGUsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHBpeGVsIHJhdGlvIGFuZCBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uICBhcyBhcmd1bWVudHNcbiAqIGFuZCByZXR1cm5zIGEgYHtzdHJpbmd9YCByZXByZXNlbnRpbmcgdGhlIHRpbGUgVVJMLCBvciB1bmRlZmluZWQgaWYgbm8gdGlsZVxuICogc2hvdWxkIGJlIHJlcXVlc3RlZCBmb3IgdGhlIHBhc3NlZCB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCwgbnVtYmVyLFxuICogICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiAoc3RyaW5nfHVuZGVmaW5lZCl9IFVybEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gQSBkdXJhdGlvbiBmb3IgdGlsZSBvcGFjaXR5XG4gKiB0cmFuc2l0aW9ucyBpbiBtaWxsaXNlY29uZHMuIEEgZHVyYXRpb24gb2YgMCBkaXNhYmxlcyB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9ZmFsc2VdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiB0aGUgbmVhcmVzdCBuZWlnaGJvciBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy5cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciB0aWxlcy5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFRpbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRfb3B0aW9uc10gVGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUNvb3JkID0gdGlsZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBcImludGVyaW1cIiB0aWxlIGZvciB0aGlzIHRpbGUuIFRoZSBpbnRlcmltIHRpbGUgbWF5IGJlIHVzZWQgd2hpbGUgdGhpc1xuICAgICAgICAgKiBvbmUgaXMgbG9hZGluZywgZm9yIFwic21vb3RoXCIgdHJhbnNpdGlvbnMgd2hlbiBjaGFuZ2luZyBwYXJhbXMvZGltZW5zaW9uc1xuICAgICAgICAgKiBvbiB0aGUgc291cmNlLlxuICAgICAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyaW1UaWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEga2V5IGFzc2lnbmVkIHRvIHRoZSB0aWxlLiBUaGlzIGlzIHVzZWQgYnkgdGhlIHRpbGUgc291cmNlIHRvIGRldGVybWluZVxuICAgICAgICAgKiBpZiB0aGlzIHRpbGUgY2FuIGVmZmVjdGl2ZWx5IGJlIHVzZWQsIG9yIGlmIGEgbmV3IHRpbGUgc2hvdWxkIGJlIGNyZWF0ZWRcbiAgICAgICAgICogYW5kIHRoaXMgb25lIGJlIHVzZWQgYXMgYW4gaW50ZXJpbSB0aWxlIGZvciB0aGlzIG5ldyB0aWxlLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5ID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLnRyYW5zaXRpb24gPT09IHVuZGVmaW5lZCA/IDI1MCA6IG9wdGlvbnMudHJhbnNpdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvb2t1cCBvZiBzdGFydCB0aW1lcyBmb3IgcmVuZGVyaW5nIHRyYW5zaXRpb25zLiAgSWYgdGhlIHN0YXJ0IHRpbWUgaXNcbiAgICAgICAgICogZXF1YWwgdG8gLTEsIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zaXRpb25TdGFydHNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVycG9sYXRlID0gISFvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYnkgdGhlIHRpbGUgY2FjaGUgd2hlbiB0aGUgdGlsZSBpcyByZW1vdmVkIGZyb20gdGhlIGNhY2hlIGR1ZSB0byBleHBpcnlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ICsgJy8nICsgdGhpcy50aWxlQ29vcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGludGVyaW0gdGlsZSBtb3N0IHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdXNpbmcgdGhlIGNoYWluIG9mIGludGVyaW1cbiAgICAgKiB0aWxlcy4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgIG1vc3QgcmVjZW50IHRpbGUgdGhhdCBoYXMgYmVlbiBsb2FkZWQsIGlmIG5vXG4gICAgICogc3VjaCB0aWxlIGV4aXN0cywgdGhlIG9yaWdpbmFsIHRpbGUgaXMgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7IVRpbGV9IEJlc3QgdGlsZSBmb3IgcmVuZGVyaW5nLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEludGVyaW1UaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgICAgICAgIC8vZW1wdHkgY2hhaW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aWxlID0gdGhpcy5pbnRlcmltVGlsZTtcbiAgICAgICAgLy8gZmluZCB0aGUgZmlyc3QgbG9hZGVkIHRpbGUgYW5kIHJldHVybiBpdC4gU2luY2UgdGhlIGNoYWluIGlzIHNvcnRlZCBpblxuICAgICAgICAvLyBkZWNyZWFzaW5nIG9yZGVyIG9mIGNyZWF0aW9uIHRpbWUsIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2VhcmNoIHRoZSByZW1haW5kZXJcbiAgICAgICAgLy8gb2YgdGhlIGxpc3QgKGFsbCB0aG9zZSB0aWxlcyBjb3JyZXNwb25kIHRvIG9sZGVyIHJlcXVlc3RzIGFuZCB3aWxsIGJlXG4gICAgICAgIC8vIGNsZWFuZWQgdXAgYnkgcmVmcmVzaEludGVyaW1DaGFpbilcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyB0aWxlIGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZmFkaW5nIGl0IGluIGFmdGVyIGxvYWRpbmcsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW50ZXJpbSB0aWxlIGlzIGluIHBsYWNlIGFscmVhZHlcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25fID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgICAgICB9IHdoaWxlICh0aWxlKTtcbiAgICAgICAgLy8gd2UgY2FuIG5vdCBmaW5kIGEgYmV0dGVyIHRpbGVcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHb2VzIHRocm91Z2ggdGhlIGNoYWluIG9mIGludGVyaW0gdGlsZXMgYW5kIGRpc2NhcmRzIHNlY3Rpb25zIG9mIHRoZSBjaGFpblxuICAgICAqIHRoYXQgYXJlIG5vIGxvbmdlciByZWxldmFudC5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5yZWZyZXNoSW50ZXJpbUNoYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBwcmV2ID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgLy93ZSBoYXZlIGEgbG9hZGVkIHRpbGUsIHdlIGNhbiBkaXNjYXJkIHRoZSByZXN0IG9mIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgLy93ZSB3b3VsZCBjb3VsZCBhYm9ydCBhbnkgTE9BRElORyB0aWxlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAvL29sZGVyIHRoYW4gdGhpcyB0aWxlIChpLmUuIGFueSBMT0FESU5HIHRpbGUgZm9sbG93aW5nIHRoaXMgZW50cnkgaW4gdGhlIGNoYWluKVxuICAgICAgICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgICAgICAgLy9rZWVwIHRoaXMgTE9BRElORyB0aWxlIGFueSBsb2FkZWQgdGlsZXMgbGF0ZXIgaW4gdGhlIGNoYWluIGFyZVxuICAgICAgICAgICAgICAgIC8vb2xkZXIgdGhhbiB0aGlzIHRpbGUsIHNvIHdlJ3JlIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIC8vdGhlIGhlYWQgb2YgdGhlIGxpc3QgaXMgdGhlIG1vc3QgY3VycmVudCB0aWxlLCB3ZSBkb24ndCBuZWVkXG4gICAgICAgICAgICAgICAgLy90byBzdGFydCBhbnkgb3RoZXIgcmVxdWVzdHMgZm9yIHRoaXMgY2hhaW5cbiAgICAgICAgICAgICAgICBwcmV2LmludGVyaW1UaWxlID0gdGlsZS5pbnRlcmltVGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXYgPSB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGlsZSA9IHByZXYuaW50ZXJpbVRpbGU7XG4gICAgICAgIH0gd2hpbGUgKHRpbGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoaXMgdGlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldFRpbGVDb29yZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNvb3JkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgdGhpcyB0aWxlLiBJZiB5b3Ugd3JpdGUgeW91ciBvd24ge0BsaW5rIG1vZHVsZTpvbC9UaWxlfkxvYWRGdW5jdGlvbiB0aWxlTG9hZEZ1bmN0aW9ufSAsXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIHNldCB0aGUgc3RhdGUgY29ycmVjdGx5IHRvIHtAbGluayBtb2R1bGU6b2wvVGlsZVN0YXRlfkVSUk9SfVxuICAgICAqIHdoZW4gdGhlIHRpbGUgY2Fubm90IGJlIGxvYWRlZC4gT3RoZXJ3aXNlIHRoZSB0aWxlIGNhbm5vdCBiZSByZW1vdmVkIGZyb21cbiAgICAgKiB0aGUgdGlsZSBxdWV1ZSBhbmQgd2lsbCBibG9jayBvdGhlciByZXF1ZXN0cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gVGlsZVN0YXRlLkVSUk9SICYmIHRoaXMuc3RhdGUgPiBzdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaWxlIGxvYWQgc2VxdWVuY2UgdmlvbGF0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAgICogTG9hZGluZyBpcyB0YWtlbiBjYXJlIG9mIGJ5IHRoZSB0aWxlIHF1ZXVlLCBhbmQgY2FsbGluZyB0aGlzIG1ldGhvZCBpc1xuICAgICAqIG9ubHkgbmVlZGVkIGZvciBwcmVsb2FkaW5nIG9yIGZvciByZWxvYWRpbmcgaW4gY2FzZSBvZiBhbiBlcnJvci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYWxwaGEgdmFsdWUgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBUaGUgcmVuZGVyIGZyYW1lIHRpbWUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuZ2V0QWxwaGEgPSBmdW5jdGlvbiAoaWQsIHRpbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXTtcbiAgICAgICAgaWYgKCFzdGFydCkge1xuICAgICAgICAgICAgc3RhcnQgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IHRpbWUgLSBzdGFydCArIDEwMDAgLyA2MDsgLy8gYXZvaWQgcmVuZGVyaW5nIGF0IDBcbiAgICAgICAgaWYgKGRlbHRhID49IHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlYXNlSW4oZGVsdGEgLyB0aGlzLnRyYW5zaXRpb25fKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiBhIHRpbGUgaXMgaW4gYW4gYWxwaGEgdHJhbnNpdGlvbi4gIEEgdGlsZSBpcyBjb25zaWRlcmVkIGluXG4gICAgICogdHJhbnNpdGlvbiBpZiB0aWxlLmdldEFscGhhKCkgaGFzIG5vdCB5ZXQgYmVlbiBjYWxsZWQgb3IgaGFzIGJlZW4gY2FsbGVkXG4gICAgICogYW5kIHJldHVybmVkIDEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgaXMgaW4gdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5pblRyYW5zaXRpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvblN0YXJ0c19baWRdICE9PSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcmsgYSB0cmFuc2l0aW9uIGFzIGNvbXBsZXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBbiBpZCBmb3IgdGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmVuZFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblN0YXJ0c19baWRdID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWxlO1xufShFdmVudFRhcmdldCkpO1xuZXhwb3J0IGRlZmF1bHQgVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZUJhc2VcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgSW1hZ2VCYXNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUJhc2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VCYXNlKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudCA9IGV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEltYWdlQmFzZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsUmF0aW8uXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbFJhdGlvXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VCYXNlO1xufShFdmVudFRhcmdldCkpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VCYXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VCYXNlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlQmFzZSBmcm9tICcuL0ltYWdlQmFzZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHsgSU1BR0VfREVDT0RFIH0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHsgZ2V0SGVpZ2h0IH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgbGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2V9IGZvciB0aGUgaW1hZ2UgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSBzcmMgYXMgYXJndW1lbnRzLiBJdCBpcyBzdXBwb3NlZCB0byBtYWtlIGl0IHNvIHRoZVxuICogdW5kZXJseWluZyBpbWFnZSB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlfkltYWdlI2dldEltYWdlfSBpcyBhc3NpZ25lZCB0aGVcbiAqIGNvbnRlbnQgc3BlY2lmaWVkIGJ5IHRoZSBzcmMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIGZ1bmN0aW9uKGltYWdlLCBzcmMpIHtcbiAqICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogICAgIH1cbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gYGltYWdlTG9hZEZ1bmN0aW9uYCBjYW4gYmUgdXNlZnVsIHRvIGxvYWQgaW1hZ2VzIHdpdGhcbiAqIHBvc3QgcmVxdWVzdHMgb3IgLSBpbiBnZW5lcmFsIC0gdGhyb3VnaCBYSFIgcmVxdWVzdHMsIHdoZXJlIHRoZSBzcmMgb2YgdGhlXG4gKiBpbWFnZSBlbGVtZW50IHdvdWxkIGJlIHNldCB0byBhIGRhdGEgVVJJIHdoZW4gdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihJbWFnZVdyYXBwZXIsIHN0cmluZyk6IHZvaWR9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG52YXIgSW1hZ2VXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVdyYXBwZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBJbWFnZSBzb3VyY2UgVVJJLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7TG9hZEZ1bmN0aW9ufSBpbWFnZUxvYWRGdW5jdGlvbiBJbWFnZSBsb2FkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlV3JhcHBlcihleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHNyYywgY3Jvc3NPcmlnaW4sIGltYWdlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgSW1hZ2VTdGF0ZS5JRExFKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNyY18gPSBzcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX3RoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLklETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TG9hZEZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gaW1hZ2VMb2FkRnVuY3Rpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IGdldEhlaWdodCh0aGlzLmV4dGVudCkgLyB0aGlzLmltYWdlXy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BREVEO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICAgKiBMb2FkaW5nIGlzIHRha2VuIGNhcmUgb2YgYnkgdGhlIHRpbGUgcXVldWUsIGFuZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGlzXG4gICAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdyYXBwZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSB8fCB0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKHRoaXMsIHRoaXMuc3JjXyk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KHRoaXMuZXh0ZW50KSAvIHRoaXMuaW1hZ2VfLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VXcmFwcGVyO1xufShJbWFnZUJhc2UpKTtcbi8qKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6YW55fSBsb2FkSGFuZGxlciBMb2FkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOmFueX0gZXJyb3JIYW5kbGVyIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHJldHVybiB7ZnVuY3Rpb24oKTp2b2lkfSBDYWxsYmFjayB0byBzdG9wIGxpc3RlbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbkltYWdlKGltYWdlLCBsb2FkSGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gICAgdmFyIGltZyA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKGltYWdlKTtcbiAgICB2YXIgbGlzdGVuaW5nID0gdHJ1ZTtcbiAgICB2YXIgZGVjb2RpbmcgPSBmYWxzZTtcbiAgICB2YXIgbG9hZGVkID0gZmFsc2U7XG4gICAgdmFyIGxpc3RlbmVyS2V5cyA9IFtcbiAgICAgICAgbGlzdGVuT25jZShpbWcsIEV2ZW50VHlwZS5MT0FELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFkZWNvZGluZykge1xuICAgICAgICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgaWYgKGltZy5zcmMgJiYgSU1BR0VfREVDT0RFKSB7XG4gICAgICAgIGRlY29kaW5nID0gdHJ1ZTtcbiAgICAgICAgaW1nXG4gICAgICAgICAgICAuZGVjb2RlKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICBsb2FkSGFuZGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmluZykge1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsaXN0ZW5lcktleXMucHVzaChsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkVSUk9SLCBlcnJvckhhbmRsZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVubGlzdGVuKCkge1xuICAgICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgbGlzdGVuZXJLZXlzLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IEltYWdlV3JhcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VUaWxlXG4gKi9cbmltcG9ydCBUaWxlIGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGxpc3RlbkltYWdlIH0gZnJvbSAnLi9JbWFnZS5qcyc7XG52YXIgSW1hZ2VUaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIEltYWdlIHNvdXJjZSBVUkkuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5PcHRpb25zfSBbb3B0X29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgc3JjLCBjcm9zc09yaWdpbiwgdGlsZUxvYWRGdW5jdGlvbiwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGlsZUNvb3JkLCBzdGF0ZSwgb3B0X29wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyb3NzT3JpZ2luXyA9IGNyb3NzT3JpZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW1hZ2UgVVJJXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcmNfID0gc3JjO1xuICAgICAgICBfdGhpcy5rZXkgPSBzcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIF90aGlzLmltYWdlXy5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkRnVuY3Rpb25fID0gdGlsZUxvYWRGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEhUTUwgaW1hZ2UgZWxlbWVudCBmb3IgdGhpcyB0aWxlIChtYXkgYmUgYSBDYW52YXMsIEltYWdlLCBvciBWaWRlbykuXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhbiBIVE1MIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgdGlsZSAobWF5IGJlIGEgQ2FudmFzIG9yIHByZWxvYWRlZCBJbWFnZSkuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUVycm9yXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgICB0aGlzLmltYWdlXyA9IGdldEJsYW5rSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKHRoaXMuaW1hZ2VfKTtcbiAgICAgICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5JRExFO1xuICAgICAgICAgICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luXyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbl87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnNyY18pO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBsaXN0ZW5JbWFnZSh0aGlzLmltYWdlXywgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VUaWxlO1xufShUaWxlKSk7XG4vKipcbiAqIEdldCBhIDEtcGl4ZWwgYmxhbmsgaW1hZ2UuXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQmxhbmsgaW1hZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldEJsYW5rSW1hZ2UoKSB7XG4gICAgdmFyIGN0eCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCAxLCAxKTtcbiAgICByZXR1cm4gY3R4LmNhbnZhcztcbn1cbmV4cG9ydCBkZWZhdWx0IEltYWdlVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qL1RyaWFuZ3VsYXRpb25cbiAqL1xuaW1wb3J0IHsgYm91bmRpbmdFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRDb29yZGluYXRlLCBnZXRBcmVhLCBnZXRCb3R0b21MZWZ0LCBnZXRCb3R0b21SaWdodCwgZ2V0VG9wTGVmdCwgZ2V0VG9wUmlnaHQsIGdldFdpZHRoLCBpbnRlcnNlY3RzLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm0gfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7IGxvZzIsIG1vZHVsbyB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBTaW5nbGUgdHJpYW5nbGU7IGNvbnNpc3RzIG9mIDMgc291cmNlIHBvaW50cyBhbmQgMyB0YXJnZXQgcG9pbnRzLlxuICogQHR5cGVkZWYge09iamVjdH0gVHJpYW5nbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gc291cmNlIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gdGFyZ2V0IFRhcmdldC5cbiAqL1xuLyoqXG4gKiBNYXhpbXVtIG51bWJlciBvZiBzdWJkaXZpc2lvbiBzdGVwcyBkdXJpbmcgcmFzdGVyIHJlcHJvamVjdGlvbiB0cmlhbmd1bGF0aW9uLlxuICogUHJldmVudHMgaGlnaCBtZW1vcnkgdXNhZ2UgYW5kIGxhcmdlIG51bWJlciBvZiBwcm9qNCBjYWxscyAoZm9yIGNlcnRhaW5cbiAqIHRyYW5zZm9ybWF0aW9ucyBhbmQgYXJlYXMpLiBBdCBtb3N0IGAyKigyXnRoaXMpYCB0cmlhbmdsZXMgYXJlIGNyZWF0ZWQgZm9yXG4gKiBlYWNoIHRyaWFuZ3VsYXRlZCBleHRlbnQgKHRpbGUvaW1hZ2UpLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIE1BWF9TVUJESVZJU0lPTiA9IDEwO1xuLyoqXG4gKiBNYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiB0cmlhbmdsZSByZWxhdGl2ZSB0byB3b3JsZCB3aWR0aC4gV2hlbiB0cmFuc2Zvcm1pbmdcbiAqIGNvcm5lcnMgb2Ygd29ybGQgZXh0ZW50IGJldHdlZW4gY2VydGFpbiBwcm9qZWN0aW9ucywgdGhlIHJlc3VsdGluZ1xuICogdHJpYW5ndWxhdGlvbiBzZWVtcyB0byBoYXZlIHplcm8gZXJyb3IgYW5kIG5vIHN1YmRpdmlzaW9uIGlzIHBlcmZvcm1lZC4gSWZcbiAqIHRoZSB0cmlhbmdsZSB3aWR0aCBpcyBtb3JlIHRoYW4gdGhpcyAocmVsYXRpdmUgdG8gd29ybGQgd2lkdGg7IDAtMSksXG4gKiBzdWJkaXZpc29uIGlzIGZvcmNlZCAodXAgdG8gYE1BWF9TVUJESVZJU0lPTmApLiBEZWZhdWx0IGlzIGAwLjI1YC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBNQVhfVFJJQU5HTEVfV0lEVEggPSAwLjI1O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBjb250YWluaW5nIHRyaWFuZ3VsYXRpb24gb2YgdGhlIGdpdmVuIHRhcmdldCBleHRlbnQuXG4gKiBVc2VkIGZvciBkZXRlcm1pbmluZyBzb3VyY2UgZGF0YSBhbmQgdGhlIHJlcHJvamVjdGlvbiBpdHNlbGYuXG4gKi9cbnZhciBUcmlhbmd1bGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50IHRvIHRyaWFuZ3VsYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4U291cmNlRXh0ZW50IE1heGltYWwgc291cmNlIGV4dGVudCB0aGF0IGNhbiBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlcnJvclRocmVzaG9sZCBBY2NlcHRhYmxlIGVycm9yIChpbiBzb3VyY2UgdW5pdHMpLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gb3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiBUaGUgKG9wdGlvbmFsKSByZXNvbHV0aW9uIG9mIHRoZSBkZXN0aW5hdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmlhbmd1bGF0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgbWF4U291cmNlRXh0ZW50LCBlcnJvclRocmVzaG9sZCwgb3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VQcm9qXyA9IHNvdXJjZVByb2o7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldFByb2pfID0gdGFyZ2V0UHJvajtcbiAgICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gKi9cbiAgICAgICAgdmFyIHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gICAgICAgIHZhciB0cmFuc2Zvcm1JbnYgPSBnZXRUcmFuc2Zvcm0odGhpcy50YXJnZXRQcm9qXywgdGhpcy5zb3VyY2VQcm9qXyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBBIGNvb3JkaW5hdGUuXG4gICAgICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtSW52XyA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY1swXSArICcvJyArIGNbMV07XG4gICAgICAgICAgICBpZiAoIXRyYW5zZm9ybUludkNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1JbnZDYWNoZVtrZXldID0gdHJhbnNmb3JtSW52KGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUludkNhY2hlW2tleV07XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4U291cmNlRXh0ZW50XyA9IG1heFNvdXJjZUV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF8gPSBlcnJvclRocmVzaG9sZCAqIGVycm9yVGhyZXNob2xkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFRyaWFuZ2xlPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpYW5nbGVzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHRyaWFuZ3VsYXRpb24gY3Jvc3NlcyBlZGdlIG9mIHRoZSBzb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbldyYXBYSW5Tb3VyY2VfID1cbiAgICAgICAgICAgIHRoaXMuc291cmNlUHJval8uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgICAgICEhbWF4U291cmNlRXh0ZW50ICYmXG4gICAgICAgICAgICAgICAgISF0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpICYmXG4gICAgICAgICAgICAgICAgZ2V0V2lkdGgobWF4U291cmNlRXh0ZW50KSA9PSBnZXRXaWR0aCh0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyA9IHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KClcbiAgICAgICAgICAgID8gZ2V0V2lkdGgodGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXRXb3JsZFdpZHRoXyA9IHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KClcbiAgICAgICAgICAgID8gZ2V0V2lkdGgodGhpcy50YXJnZXRQcm9qXy5nZXRFeHRlbnQoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uVG9wTGVmdCA9IGdldFRvcExlZnQodGFyZ2V0RXh0ZW50KTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uVG9wUmlnaHQgPSBnZXRUb3BSaWdodCh0YXJnZXRFeHRlbnQpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25Cb3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkJvdHRvbUxlZnQgPSBnZXRCb3R0b21MZWZ0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBzb3VyY2VUb3BMZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uVG9wTGVmdCk7XG4gICAgICAgIHZhciBzb3VyY2VUb3BSaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvblRvcFJpZ2h0KTtcbiAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tUmlnaHQpO1xuICAgICAgICB2YXIgc291cmNlQm90dG9tTGVmdCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvbkJvdHRvbUxlZnQpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgbWF4U3ViZGl2aXNpb24gY29udHJvbHMgaG93IG1hbnkgc3BsaXR0aW5ncyBvZiB0aGUgdGFyZ2V0IGFyZWEgY2FuXG4gICAgICAgICAqIGJlIGRvbmUuIFRoZSBpZGVhIGhlcmUgaXMgdG8gZG8gYSBsaW5lYXIgbWFwcGluZyBvZiB0aGUgdGFyZ2V0IGFyZWFzXG4gICAgICAgICAqIGJ1dCB0aGUgYWN0dWFsIG92ZXJhbCByZXByb2plY3Rpb24gKGNhbiBiZSkgZXh0cmVtZWx5IG5vbi1saW5lYXIuIFRoZVxuICAgICAgICAgKiBkZWZhdWx0IHZhbHVlIG9mIE1BWF9TVUJESVZJU0lPTiB3YXMgY2hvc2VuIGJhc2VkIG9uIG1hcHBpbmcgYSAyNTZ4MjU2XG4gICAgICAgICAqIHRpbGUgc2l6ZS4gSG93ZXZlciB0aGlzIGZ1bmN0aW9uIGlzIGFsc28gY2FsbGVkIHRvIHJlbWFwIGNhbnZhcyByZW5kZXJlZFxuICAgICAgICAgKiBsYXllcnMgd2hpY2ggY2FuIGJlIG11Y2ggbGFyZ2VyLiBUaGlzIGNhbGN1bGF0aW9uIGluY3JlYXNlcyB0aGUgbWF4U3ViZGl2aXNpb25cbiAgICAgICAgICogdmFsdWUgYnkgdGhlIHJpZ2h0IGZhY3RvciBzbyB0aGF0IGVhY2ggMjU2eDI1NiBwaXhlbCBhcmVhIGhhc1xuICAgICAgICAgKiBNQVhfU1VCRElWSVNJT04gZGl2aXNpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1heFN1YmRpdmlzaW9uID0gTUFYX1NVQkRJVklTSU9OICtcbiAgICAgICAgICAgIChvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heCgwLCBNYXRoLmNlaWwobG9nMihnZXRBcmVhKHRhcmdldEV4dGVudCkgL1xuICAgICAgICAgICAgICAgICAgICAob3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiAqXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uICpcbiAgICAgICAgICAgICAgICAgICAgICAgIDI1NiAqXG4gICAgICAgICAgICAgICAgICAgICAgICAyNTYpKSkpXG4gICAgICAgICAgICAgICAgOiAwKTtcbiAgICAgICAgdGhpcy5hZGRRdWFkXyhkZXN0aW5hdGlvblRvcExlZnQsIGRlc3RpbmF0aW9uVG9wUmlnaHQsIGRlc3RpbmF0aW9uQm90dG9tUmlnaHQsIGRlc3RpbmF0aW9uQm90dG9tTGVmdCwgc291cmNlVG9wTGVmdCwgc291cmNlVG9wUmlnaHQsIHNvdXJjZUJvdHRvbVJpZ2h0LCBzb3VyY2VCb3R0b21MZWZ0LCBtYXhTdWJkaXZpc2lvbik7XG4gICAgICAgIGlmICh0aGlzLndyYXBzWEluU291cmNlXykge1xuICAgICAgICAgICAgdmFyIGxlZnRCb3VuZF8xID0gSW5maW5pdHk7XG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAgICAgICAgIGxlZnRCb3VuZF8xID0gTWF0aC5taW4obGVmdEJvdW5kXzEsIHRyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTaGlmdCB0cmlhbmdsZXMgdG8gYmUgYXMgY2xvc2UgdG8gYGxlZnRCb3VuZGAgYXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIChpZiB0aGUgZGlzdGFuY2UgaXMgbW9yZSB0aGFuIGB3b3JsZFdpZHRoIC8gMmAgaXQgY2FuIGJlIGNsb3Nlci5cbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSkge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1heCh0cmlhbmdsZS5zb3VyY2VbMF1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVswXSwgdHJpYW5nbGUuc291cmNlWzJdWzBdKSAtXG4gICAgICAgICAgICAgICAgICAgIGxlZnRCb3VuZF8xID5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RyaWFuZ2xlID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzBdWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMV1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVsxXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzJdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMV1dLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMF1bMF0gLSBsZWZ0Qm91bmRfMSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVsxXVswXSAtIGxlZnRCb3VuZF8xID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzJdWzBdIC0gbGVmdEJvdW5kXzEgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSYXJlbHkgKGlmIHRoZSBleHRlbnQgY29udGFpbnMgYm90aCB0aGUgZGF0ZWxpbmUgYW5kIHByaW1lIG1lcmlkaWFuKVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2hpZnQgY2FuIGluIHR1cm4gYnJlYWsgc29tZSB0cmlhbmdsZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVjdCB0aGlzIGhlcmUgYW5kIGRvbid0IHNoaWZ0IGluIHN1Y2ggY2FzZXMuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5YID0gTWF0aC5taW4obmV3VHJpYW5nbGVbMF1bMF0sIG5ld1RyaWFuZ2xlWzFdWzBdLCBuZXdUcmlhbmdsZVsyXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhYID0gTWF0aC5tYXgobmV3VHJpYW5nbGVbMF1bMF0sIG5ld1RyaWFuZ2xlWzFdWzBdLCBuZXdUcmlhbmdsZVsyXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2UgPSBuZXdUcmlhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNmb3JtSW52Q2FjaGUgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0cmlhbmdsZSB0byB0aGUgdHJpYW5ndWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRyaWFuZ3VsYXRpb24ucHJvdG90eXBlLmFkZFRyaWFuZ2xlXyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBhU3JjLCBiU3JjLCBjU3JjKSB7XG4gICAgICAgIHRoaXMudHJpYW5nbGVzXy5wdXNoKHtcbiAgICAgICAgICAgIHNvdXJjZTogW2FTcmMsIGJTcmMsIGNTcmNdLFxuICAgICAgICAgICAgdGFyZ2V0OiBbYSwgYiwgY10sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBxdWFkIChwb2ludHMgaW4gY2xvY2std2lzZSBvcmRlcikgdG8gdGhlIHRyaWFuZ3VsYXRpb25cbiAgICAgKiAoYW5kIHJlcHJvamVjdHMgdGhlIHZlcnRpY2VzKSBpZiB2YWxpZC5cbiAgICAgKiBQZXJmb3JtcyBxdWFkIHN1YmRpdmlzaW9uIGlmIG5lZWRlZCB0byBpbmNyZWFzZSBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZCBUaGUgdGFyZ2V0IGQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZFNyYyBUaGUgc291cmNlIGQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4U3ViZGl2aXNpb24gTWF4aW1hbCBhbGxvd2VkIHN1YmRpdmlzaW9uIG9mIHRoZSBxdWFkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuYWRkUXVhZF8gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgYVNyYywgYlNyYywgY1NyYywgZFNyYywgbWF4U3ViZGl2aXNpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZVF1YWRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbYVNyYywgYlNyYywgY1NyYywgZFNyY10pO1xuICAgICAgICB2YXIgc291cmNlQ292ZXJhZ2VYID0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoX1xuICAgICAgICAgICAgPyBnZXRXaWR0aChzb3VyY2VRdWFkRXh0ZW50KSAvIHRoaXMuc291cmNlV29ybGRXaWR0aF9cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdmFyIHNvdXJjZVdvcmxkV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuc291cmNlV29ybGRXaWR0aF8pO1xuICAgICAgICAvLyB3aGVuIHRoZSBxdWFkIGlzIHdyYXBwZWQgaW4gdGhlIHNvdXJjZSBwcm9qZWN0aW9uXG4gICAgICAgIC8vIGl0IGNvdmVycyBtb3N0IG9mIHRoZSBwcm9qZWN0aW9uIGV4dGVudCwgYnV0IG5vdCBmdWxseVxuICAgICAgICB2YXIgd3JhcHNYID0gdGhpcy5zb3VyY2VQcm9qXy5jYW5XcmFwWCgpICYmXG4gICAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiAwLjUgJiZcbiAgICAgICAgICAgIHNvdXJjZUNvdmVyYWdlWCA8IDE7XG4gICAgICAgIHZhciBuZWVkc1N1YmRpdmlzaW9uID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldFByb2pfLmlzR2xvYmFsKCkgJiYgdGhpcy50YXJnZXRXb3JsZFdpZHRoXykge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2EsIGIsIGMsIGRdKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0Q292ZXJhZ2VYID0gZ2V0V2lkdGgodGFyZ2V0UXVhZEV4dGVudCkgLyB0aGlzLnRhcmdldFdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghd3JhcHNYICYmIHRoaXMuc291cmNlUHJval8uaXNHbG9iYWwoKSAmJiBzb3VyY2VDb3ZlcmFnZVgpIHtcbiAgICAgICAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID1cbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ292ZXJhZ2VYID4gTUFYX1RSSUFOR0xFX1dJRFRIIHx8IG5lZWRzU3ViZGl2aXNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uICYmIHRoaXMubWF4U291cmNlRXh0ZW50Xykge1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMF0pICYmXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoc291cmNlUXVhZEV4dGVudFsxXSkgJiZcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzJdKSAmJlxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbM10pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZVF1YWRFeHRlbnQsIHRoaXMubWF4U291cmNlRXh0ZW50XykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hvbGUgcXVhZCBvdXRzaWRlIHNvdXJjZSBwcm9qZWN0aW9uIGV4dGVudCAtPiBpZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNOb3RGaW5pdGUgPSAwO1xuICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgIGlmICghaXNGaW5pdGUoYVNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYVNyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYlNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYlNyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY1NyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY1NyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoZFNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoZFNyY1sxXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgbWlnaHQgYmUgdGhlIGNhc2UgdGhhdCBvbmx5IDEgb2YgdGhlIHBvaW50cyBpcyBpbmZpbml0ZS4gSW4gdGhpcyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBkcmF3IGEgc2luZ2xlIHRyaWFuZ2xlIHdpdGggdGhlIG90aGVyIHRocmVlIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICBpc05vdEZpbml0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGFTcmNbMF0pIHx8ICFpc0Zpbml0ZShhU3JjWzFdKSA/IDggOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFpc0Zpbml0ZShiU3JjWzBdKSB8fCAhaXNGaW5pdGUoYlNyY1sxXSkgPyA0IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghaXNGaW5pdGUoY1NyY1swXSkgfHwgIWlzRmluaXRlKGNTcmNbMV0pID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGRTcmNbMF0pIHx8ICFpc0Zpbml0ZShkU3JjWzFdKSA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm90RmluaXRlICE9IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gWyhhWzBdICsgY1swXSkgLyAyLCAoYVsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZW50ZXIpO1xuICAgICAgICAgICAgICAgIHZhciBkeCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXJTcmNFc3RpbVggPSAobW9kdWxvKGFTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsbyhjU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgMjtcbiAgICAgICAgICAgICAgICAgICAgZHggPSBjZW50ZXJTcmNFc3RpbVggLSBtb2R1bG8oY2VudGVyU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gKGFTcmNbMF0gKyBjU3JjWzBdKSAvIDIgLSBjZW50ZXJTcmNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeSA9IChhU3JjWzFdICsgY1NyY1sxXSkgLyAyIC0gY2VudGVyU3JjWzFdO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXJTcmNFcnJvclNxdWFyZWQgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gY2VudGVyU3JjRXJyb3JTcXVhcmVkID4gdGhpcy5lcnJvclRocmVzaG9sZFNxdWFyZWRfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYVswXSAtIGNbMF0pIDw9IE1hdGguYWJzKGFbMV0gLSBjWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGxpdCBob3Jpem9udGFsbHkgKHRvcCAmIGJvdHRvbSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJjID0gWyhiWzBdICsgY1swXSkgLyAyLCAoYlsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBiY1NyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhiYyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IFsoZFswXSArIGFbMF0pIC8gMiwgKGRbMV0gKyBhWzFdKSAvIDJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGFTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oZGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFF1YWRfKGEsIGIsIGJjLCBkYSwgYVNyYywgYlNyYywgYmNTcmMsIGRhU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFF1YWRfKGRhLCBiYywgYywgZCwgZGFTcmMsIGJjU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BsaXQgdmVydGljYWxseSAobGVmdCAmIHJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICB2YXIgYWIgPSBbKGFbMF0gKyBiWzBdKSAvIDIsIChhWzFdICsgYlsxXSkgLyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGFiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gWyhjWzBdICsgZFswXSkgLyAyLCAoY1sxXSArIGRbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZFNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYSwgYWIsIGNkLCBkLCBhU3JjLCBhYlNyYywgY2RTcmMsIGRTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYWIsIGIsIGMsIGNkLCBhYlNyYywgYlNyYywgY1NyYywgY2RTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FuV3JhcFhJblNvdXJjZV8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhhY3RseSB6ZXJvIG9yIG9uZSBvZiAqU3JjIGlzIG5vdCBmaW5pdGVcbiAgICAgICAgLy8gVGhlIHRyaWFuZ2xlcyBtdXN0IGhhdmUgdGhlIGRpYWdvbmFsIGxpbmUgYXMgdGhlIGZpcnN0IHNpZGVcbiAgICAgICAgLy8gVGhpcyBpcyB0byBhbGxvdyBlYXN5IGNvZGUgaW4gcmVwcm9qLnMgdG8gbWFrZSBpdCBzdHJhaWdodCBmb3IgYnJva2VuXG4gICAgICAgIC8vIGJyb3dzZXJzIHRoYXQgY2FuJ3QgaGFuZGxlIGRpYWdvbmFsIGNsaXBwaW5nXG4gICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGIpID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGQsIGFTcmMsIGNTcmMsIGRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGUpID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGIsIGFTcmMsIGNTcmMsIGJTcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05vdEZpbml0ZSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRoZSBvdGhlciB0d28gdHJpYW5nbGVzXG4gICAgICAgICAgICBpZiAoKGlzTm90RmluaXRlICYgMHhkKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYSwgYlNyYywgZFNyYywgYVNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGlzTm90RmluaXRlICYgMHg3KSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYywgYlNyYywgZFNyYywgY1NyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgZXh0ZW50IG9mIHRoZSAnc291cmNlJyBjb29yZGluYXRlcyBmcm9tIGFsbCB0aGUgdHJpYW5nbGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gQ2FsY3VsYXRlZCBleHRlbnQuXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlU291cmNlRXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIHZhciBzcmMgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICAgICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzBdKTtcbiAgICAgICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMV0pO1xuICAgICAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1syXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8VHJpYW5nbGU+fSBBcnJheSBvZiB0aGUgY2FsY3VsYXRlZCB0cmlhbmdsZXMuXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuZ2V0VHJpYW5nbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlhbmdsZXNfO1xuICAgIH07XG4gICAgcmV0dXJuIFRyaWFuZ3VsYXRpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVHJpYW5ndWxhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyaWFuZ3VsYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvalxuICovXG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgfSBmcm9tICcuL3JlbmRlcmVyL2NhbnZhcy9jb21tb24uanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgY29udGFpbnNDb29yZGluYXRlLCBjcmVhdGVFbXB0eSwgZXh0ZW5kLCBmb3JFYWNoQ29ybmVyLCBnZXRDZW50ZXIsIGdldEhlaWdodCwgZ2V0VG9wTGVmdCwgZ2V0V2lkdGgsIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgZ2V0UG9pbnRSZXNvbHV0aW9uLCB0cmFuc2Zvcm0gfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHsgc29sdmVMaW5lYXJTeXN0ZW0gfSBmcm9tICcuL21hdGguanMnO1xudmFyIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbi8qKlxuICogVGhpcyBkcmF3cyBhIHNtYWxsIHRyaWFuZ2xlIGludG8gYSBjYW52YXMgYnkgc2V0dGluZyB0aGUgdHJpYW5nbGUgYXMgdGhlIGNsaXAgcmVnaW9uXG4gKiBhbmQgdGhlbiBkcmF3aW5nIGEgKHRvbyBsYXJnZSkgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoZSB0cmlhbmdsZVxuICogQHBhcmFtIHtudW1iZXJ9IHUxIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBwb2ludC4gVGhlIGZpcnN0IHBvaW50IGlzIDAsMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2MSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdTIgVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdjIgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCB1MSwgdjEsIHUyLCB2Mikge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgIGN0eC5saW5lVG8odTEsIHYxKTtcbiAgICBjdHgubGluZVRvKHUyLCB2Mik7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmNsaXAoKTtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgTWF0aC5tYXgodTEsIHUyKSArIDEsIE1hdGgubWF4KHYxLCB2MikpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG59XG4vKipcbiAqIEdpdmVuIHRoZSBkYXRhIGZyb20gZ2V0SW1hZ2VEYXRhLCBzZWUgaWYgdGhlIHJpZ2h0IHZhbHVlcyBhcHBlYXIgYXQgdGhlIHByb3ZpZGVkIG9mZnNldC5cbiAqIFJldHVybnMgdHJ1ZSBpZiBlaXRoZXIgdGhlIGNvbG9yIG9yIHRyYW5zcGFyZW5jeSBpcyBvZmZcbiAqXG4gKiBAcGFyYW0ge1VpbnQ4Q2xhbXBlZEFycmF5fSBkYXRhIFRoZSBkYXRhIHJldHVybmVkIGZyb20gZ2V0SW1hZ2VEYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBwaXhlbCBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgZGF0YS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGRpYWdvbmFsIHJlbmRlcmluZyBpcyBicm9rZW5cbiAqL1xuZnVuY3Rpb24gdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgb2Zmc2V0KSB7XG4gICAgLy8gdGhlIHZhbHVlcyBvdWdodCB0byBiZSBjbG9zZSB0byB0aGUgcmdiYSgyMTAsIDAsIDAsIDAuNzUpXG4gICAgcmV0dXJuIChNYXRoLmFicyhkYXRhW29mZnNldCAqIDRdIC0gMjEwKSA+IDIgfHxcbiAgICAgICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0ICsgM10gLSAwLjc1ICogMjU1KSA+IDIpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29uZmlndXJhdGlvbiBjYW4gcmVuZGVyIHRyaWFuZ3VsYXIgY2xpcCByZWdpb25zIGNvcnJlY3RseS5cbiAqIFRoaXMgdmFsdWUgaXMgY2FjaGVkIHNvIHRoZSBmdW5jdGlvbiBpcyBvbmx5IGV4cGVuc2l2ZSB0aGUgZmlyc3QgdGltZSBjYWxsZWQuXG4gKiBGaXJlZm94IG9uIFdpbmRvd3MgKGFzIG9mIG5vdykgZG9lcyBub3QgaWYgSFdBIGlzIGVuYWJsZWQuIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjA2OTc2XG4gKiBJRSBhbHNvIGRvZXNuJ3QuIENocm9tZSB3b3JrcywgYW5kIGV2ZXJ5dGhpbmcgc2VlbXMgdG8gd29yayBvbiBPU1ggYW5kIEFuZHJvaWQuIFRoaXMgZnVuY3Rpb24gY2FjaGVzIHRoZVxuICogcmVzdWx0LiBJIHN1cHBvc2UgdGhhdCBpdCBpcyBjb25jZWl2YWJseSBwb3NzaWJsZSB0aGF0IGEgYnJvd3NlciBtaWdodCBmbGlwIG1vZGVzIHdoaWxlIHRoZSBhcHAgaXNcbiAqIHJ1bm5pbmcsIGJ1dCBsZXRzIGhvcGUgbm90LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIERpYWdvbmFsIFJlbmRlcmluZyBpcyBicm9rZW4uXG4gKi9cbmZ1bmN0aW9uIGlzQnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoKSB7XG4gICAgaWYgKGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjEwLCAwLCAwLCAwLjc1KSc7XG4gICAgICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCA0LCAwKTtcbiAgICAgICAgZHJhd1Rlc3RUcmlhbmdsZShjdHgsIDQsIDUsIDAsIDUpO1xuICAgICAgICB2YXIgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMywgMykuZGF0YTtcbiAgICAgICAgYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfID1cbiAgICAgICAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDApIHx8XG4gICAgICAgICAgICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgNCkgfHxcbiAgICAgICAgICAgICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCA4KTtcbiAgICB9XG4gICAgcmV0dXJuIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBpZGVhbCByZXNvbHV0aW9uIHRvIHVzZSBmcm9tIHRoZSBzb3VyY2UgaW4gb3JkZXIgdG8gYWNoaWV2ZVxuICogcGl4ZWwgbWFwcGluZyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byAxOjEgZHVyaW5nIHJlcHJvamVjdGlvbi5cbiAqIFRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgcmVnYXJkbGVzcyBvZiB3aGF0IHJlc29sdXRpb25zXG4gKiBhcmUgYWN0dWFsbHkgYXZhaWxhYmxlIGluIHRoZSBkYXRhc2V0IChUaWxlR3JpZCwgSW1hZ2UsIC4uLikuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdGFyZ2V0Q2VudGVyIFRhcmdldCBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJlc3QgcmVzb2x1dGlvbiB0byB1c2UuIENhbiBiZSArLUluZmluaXR5LCBOYU4gb3IgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgdmFyIHNvdXJjZUNlbnRlciA9IHRyYW5zZm9ybSh0YXJnZXRDZW50ZXIsIHRhcmdldFByb2osIHNvdXJjZVByb2opO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaWRlYWwgcmVzb2x1dGlvbiBvZiB0aGUgc291cmNlIGRhdGFcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGdldFBvaW50UmVzb2x1dGlvbih0YXJnZXRQcm9qLCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRDZW50ZXIpO1xuICAgIHZhciB0YXJnZXRNZXRlcnNQZXJVbml0ID0gdGFyZ2V0UHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgaWYgKHRhcmdldE1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uICo9IHRhcmdldE1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIHZhciBzb3VyY2VNZXRlcnNQZXJVbml0ID0gc291cmNlUHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgaWYgKHNvdXJjZU1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uIC89IHNvdXJjZU1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8vIEJhc2VkIG9uIHRoZSBwcm9qZWN0aW9uIHByb3BlcnRpZXMsIHRoZSBwb2ludCByZXNvbHV0aW9uIGF0IHRoZSBzcGVjaWZpZWRcbiAgICAvLyBjb29yZGluYXRlcyBtYXkgYmUgc2xpZ2h0bHkgZGlmZmVyZW50LiBXZSBuZWVkIHRvIHJldmVyc2UtY29tcGVuc2F0ZSB0aGlzXG4gICAgLy8gaW4gb3JkZXIgdG8gYWNoaWV2ZSBvcHRpbWFsIHJlc3VsdHMuXG4gICAgdmFyIHNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgaWYgKCFzb3VyY2VFeHRlbnQgfHwgY29udGFpbnNDb29yZGluYXRlKHNvdXJjZUV4dGVudCwgc291cmNlQ2VudGVyKSkge1xuICAgICAgICB2YXIgY29tcGVuc2F0aW9uRmFjdG9yID0gZ2V0UG9pbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUNlbnRlcikgL1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKGlzRmluaXRlKGNvbXBlbnNhdGlvbkZhY3RvcikgJiYgY29tcGVuc2F0aW9uRmFjdG9yID4gMCkge1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbiAvPSBjb21wZW5zYXRpb25GYWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgaWRlYWwgcmVzb2x1dGlvbiB0byB1c2UgZnJvbSB0aGUgc291cmNlIGluIG9yZGVyIHRvIGFjaGlldmVcbiAqIHBpeGVsIG1hcHBpbmcgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gMToxIGR1cmluZyByZXByb2plY3Rpb24uXG4gKiBUaGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hhdCByZXNvbHV0aW9uc1xuICogYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSBpbiB0aGUgZGF0YXNldCAoVGlsZUdyaWQsIEltYWdlLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudFxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiZXN0IHJlc29sdXRpb24gdG8gdXNlLiBDYW4gYmUgKy1JbmZpbml0eSwgTmFOIG9yIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIHZhciB0YXJnZXRDZW50ZXIgPSBnZXRDZW50ZXIodGFyZ2V0RXh0ZW50KTtcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICBpZiAoIWlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pIHx8IHNvdXJjZVJlc29sdXRpb24gPD0gMCkge1xuICAgICAgICBmb3JFYWNoQ29ybmVyKHRhcmdldEV4dGVudCwgZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgY29ybmVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSAmJiBzb3VyY2VSZXNvbHV0aW9uID4gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VSZXNvbHV0aW9uO1xufVxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJbWFnZUV4dGVudFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gKi9cbi8qKlxuICogUmVuZGVycyB0aGUgc291cmNlIGRhdGEgaW50byBuZXcgY2FudmFzIGJhc2VkIG9uIHRoZSB0cmlhbmd1bGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtudW1iZXJ9IHNvdXJjZVJlc29sdXRpb24gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gc291cmNlRXh0ZW50IEV4dGVudCBvZiB0aGUgZGF0YSBzb3VyY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9yZXByb2ovVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fSB0cmlhbmd1bGF0aW9uIENhbGN1bGF0ZWQgdHJpYW5ndWxhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8SW1hZ2VFeHRlbnQ+fSBzb3VyY2VzIEFycmF5IG9mIHNvdXJjZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIEd1dHRlciBvZiB0aGUgc291cmNlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yZW5kZXJFZGdlc10gUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0X2ludGVycG9sYXRlXSBVc2UgbGluZWFyIGludGVycG9sYXRpb24gd2hlbiByZXNhbXBsaW5nLlxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IENhbnZhcyB3aXRoIHJlcHJvamVjdGVkIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIod2lkdGgsIGhlaWdodCwgcGl4ZWxSYXRpbywgc291cmNlUmVzb2x1dGlvbiwgc291cmNlRXh0ZW50LCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRFeHRlbnQsIHRyaWFuZ3VsYXRpb24sIHNvdXJjZXMsIGd1dHRlciwgb3B0X3JlbmRlckVkZ2VzLCBvcHRfaW50ZXJwb2xhdGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiB3aWR0aCksIE1hdGgucm91bmQocGl4ZWxSYXRpbyAqIGhlaWdodCkpO1xuICAgIGlmICghb3B0X2ludGVycG9sYXRlKSB7XG4gICAgICAgIGFzc2lnbihjb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpO1xuICAgIH1cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xuICAgIH1cbiAgICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgIGZ1bmN0aW9uIHBpeGVsUm91bmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBwaXhlbFJhdGlvKSAvIHBpeGVsUmF0aW87XG4gICAgfVxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuICAgIHZhciBzb3VyY2VEYXRhRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgICAgIGV4dGVuZChzb3VyY2VEYXRhRXh0ZW50LCBzcmMuZXh0ZW50KTtcbiAgICB9KTtcbiAgICB2YXIgY2FudmFzV2lkdGhJblVuaXRzID0gZ2V0V2lkdGgoc291cmNlRGF0YUV4dGVudCk7XG4gICAgdmFyIGNhbnZhc0hlaWdodEluVW5pdHMgPSBnZXRIZWlnaHQoc291cmNlRGF0YUV4dGVudCk7XG4gICAgdmFyIHN0aXRjaENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc1dpZHRoSW5Vbml0cykgLyBzb3VyY2VSZXNvbHV0aW9uKSwgTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc0hlaWdodEluVW5pdHMpIC8gc291cmNlUmVzb2x1dGlvbikpO1xuICAgIGlmICghb3B0X2ludGVycG9sYXRlKSB7XG4gICAgICAgIGFzc2lnbihzdGl0Y2hDb250ZXh0LCBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpO1xuICAgIH1cbiAgICB2YXIgc3RpdGNoU2NhbGUgPSBwaXhlbFJhdGlvIC8gc291cmNlUmVzb2x1dGlvbjtcbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgICAgIHZhciB4UG9zID0gc3JjLmV4dGVudFswXSAtIHNvdXJjZURhdGFFeHRlbnRbMF07XG4gICAgICAgIHZhciB5UG9zID0gLShzcmMuZXh0ZW50WzNdIC0gc291cmNlRGF0YUV4dGVudFszXSk7XG4gICAgICAgIHZhciBzcmNXaWR0aCA9IGdldFdpZHRoKHNyYy5leHRlbnQpO1xuICAgICAgICB2YXIgc3JjSGVpZ2h0ID0gZ2V0SGVpZ2h0KHNyYy5leHRlbnQpO1xuICAgICAgICAvLyBUaGlzIHRlc3Qgc2hvdWxkIG5ldmVyIGZhaWwgLS0gYnV0IGl0IGRvZXMuIE5lZWQgdG8gZmluZCBhIGZpeCB0aGUgdXBzdHJlYW0gY29uZGl0aW9uXG4gICAgICAgIGlmIChzcmMuaW1hZ2Uud2lkdGggPiAwICYmIHNyYy5pbWFnZS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICBzdGl0Y2hDb250ZXh0LmRyYXdJbWFnZShzcmMuaW1hZ2UsIGd1dHRlciwgZ3V0dGVyLCBzcmMuaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLCBzcmMuaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlciwgeFBvcyAqIHN0aXRjaFNjYWxlLCB5UG9zICogc3RpdGNoU2NhbGUsIHNyY1dpZHRoICogc3RpdGNoU2NhbGUsIHNyY0hlaWdodCAqIHN0aXRjaFNjYWxlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciB0YXJnZXRUb3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgIHRyaWFuZ3VsYXRpb24uZ2V0VHJpYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAvKiBDYWxjdWxhdGUgYWZmaW5lIHRyYW5zZm9ybSAoc3JjIC0+IGRzdClcbiAgICAgICAgICogUmVzdWx0aW5nIG1hdHJpeCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRpbmF0ZVxuICAgICAgICAgKiBmcm9tIGBzb3VyY2VQcm9qZWN0aW9uYCB0byBkZXN0aW5hdGlvbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRvIG9wdGltaXplIG51bWJlciBvZiBjb250ZXh0IGNhbGxzIGFuZCBpbmNyZWFzZSBudW1lcmljYWwgc3RhYmlsaXR5LFxuICAgICAgICAgKiB3ZSBhbHNvIGRvIHRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uczpcbiAgICAgICAgICogdHJhbnMoLXRvcExlZnRFeHRlbnRDb3JuZXIpLCBzY2FsZSgxIC8gdGFyZ2V0UmVzb2x1dGlvbiksIHNjYWxlKDEsIC0xKVxuICAgICAgICAgKiBoZXJlIGJlZm9yZSBzb2x2aW5nIHRoZSBsaW5lYXIgc3lzdGVtIHNvIFt1aSwgdmldIGFyZSBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogU3JjIHBvaW50czogeGksIHlpXG4gICAgICAgICAqIERzdCBwb2ludHM6IHVpLCB2aVxuICAgICAgICAgKiBBZmZpbmUgY29lZmZpY2llbnRzOiBhaWpcbiAgICAgICAgICpcbiAgICAgICAgICogfCB4MCB5MCAxICAwICAwIDAgfCAgIHxhMDB8ICAgfHUwfFxuICAgICAgICAgKiB8IHgxIHkxIDEgIDAgIDAgMCB8ICAgfGEwMXwgICB8dTF8XG4gICAgICAgICAqIHwgeDIgeTIgMSAgMCAgMCAwIHwgeCB8YTAyfCA9IHx1MnxcbiAgICAgICAgICogfCAgMCAgMCAwIHgwIHkwIDEgfCAgIHxhMTB8ICAgfHYwfFxuICAgICAgICAgKiB8ICAwICAwIDAgeDEgeTEgMSB8ICAgfGExMXwgICB8djF8XG4gICAgICAgICAqIHwgIDAgIDAgMCB4MiB5MiAxIHwgICB8YTEyfCAgIHx2MnxcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzb3VyY2UgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0cmlhbmdsZS50YXJnZXQ7XG4gICAgICAgIHZhciB4MCA9IHNvdXJjZVswXVswXSwgeTAgPSBzb3VyY2VbMF1bMV07XG4gICAgICAgIHZhciB4MSA9IHNvdXJjZVsxXVswXSwgeTEgPSBzb3VyY2VbMV1bMV07XG4gICAgICAgIHZhciB4MiA9IHNvdXJjZVsyXVswXSwgeTIgPSBzb3VyY2VbMl1bMV07XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgaXMgb24gcGl4ZWwgYm91bmRhcmllc1xuICAgICAgICB2YXIgdTAgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICB2YXIgdjAgPSBwaXhlbFJvdW5kKC0odGFyZ2V0WzBdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHUxID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHYxID0gcGl4ZWxSb3VuZCgtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB1MiA9IHBpeGVsUm91bmQoKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB2MiA9IHBpeGVsUm91bmQoLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICAvLyBTaGlmdCBhbGwgdGhlIHNvdXJjZSBwb2ludHMgdG8gaW1wcm92ZSBudW1lcmljYWwgc3RhYmlsaXR5XG4gICAgICAgIC8vIG9mIGFsbCB0aGUgc3Vic2VxdWVudCBjYWxjdWxhdGlvbnMuIFRoZSBbeDAsIHkwXSBpcyB1c2VkIGhlcmUuXG4gICAgICAgIC8vIFRoaXMgaXMgYWxzbyB1c2VkIHRvIHNpbXBsaWZ5IHRoZSBsaW5lYXIgc3lzdGVtLlxuICAgICAgICB2YXIgc291cmNlTnVtZXJpY2FsU2hpZnRYID0geDA7XG4gICAgICAgIHZhciBzb3VyY2VOdW1lcmljYWxTaGlmdFkgPSB5MDtcbiAgICAgICAgeDAgPSAwO1xuICAgICAgICB5MCA9IDA7XG4gICAgICAgIHgxIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICAgICAgeTEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuICAgICAgICB4MiAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFg7XG4gICAgICAgIHkyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WTtcbiAgICAgICAgdmFyIGF1Z21lbnRlZE1hdHJpeCA9IFtcbiAgICAgICAgICAgIFt4MSwgeTEsIDAsIDAsIHUxIC0gdTBdLFxuICAgICAgICAgICAgW3gyLCB5MiwgMCwgMCwgdTIgLSB1MF0sXG4gICAgICAgICAgICBbMCwgMCwgeDEsIHkxLCB2MSAtIHYwXSxcbiAgICAgICAgICAgIFswLCAwLCB4MiwgeTIsIHYyIC0gdjBdLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgYWZmaW5lQ29lZnMgPSBzb2x2ZUxpbmVhclN5c3RlbShhdWdtZW50ZWRNYXRyaXgpO1xuICAgICAgICBpZiAoIWFmZmluZUNvZWZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkgfHwgIW9wdF9pbnRlcnBvbGF0ZSkge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgYWxsIGxpbmVzIGFyZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZGlhZ29uYWwgbGluZS4gRG8gaXQgaW4gNCBzdGVwc1xuICAgICAgICAgICAgdmFyIHN0ZXBzID0gNDtcbiAgICAgICAgICAgIHZhciB1ZCA9IHUwIC0gdTE7XG4gICAgICAgICAgICB2YXIgdmQgPSB2MCAtIHYxO1xuICAgICAgICAgICAgZm9yICh2YXIgc3RlcCA9IDA7IHN0ZXAgPCBzdGVwczsgc3RlcCsrKSB7XG4gICAgICAgICAgICAgICAgLy8gR28gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTEgKyBwaXhlbFJvdW5kKCgoc3RlcCArIDEpICogdWQpIC8gc3RlcHMpLCB2MSArIHBpeGVsUm91bmQoKHN0ZXAgKiB2ZCkgLyAoc3RlcHMgLSAxKSkpO1xuICAgICAgICAgICAgICAgIC8vIEdvIHZlcnRpY2FsbHlcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCAhPSBzdGVwcyAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTEgKyBwaXhlbFJvdW5kKCgoc3RlcCArIDEpICogdWQpIC8gc3RlcHMpLCB2MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB2ZCkgLyAoc3RlcHMgLSAxKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGFyZSBhbG1vc3QgYXQgdTByLCB2MHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNmb3JtKGFmZmluZUNvZWZzWzBdLCBhZmZpbmVDb2Vmc1syXSwgYWZmaW5lQ29lZnNbMV0sIGFmZmluZUNvZWZzWzNdLCB1MCwgdjApO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzb3VyY2VEYXRhRXh0ZW50WzBdIC0gc291cmNlTnVtZXJpY2FsU2hpZnRYLCBzb3VyY2VEYXRhRXh0ZW50WzNdIC0gc291cmNlTnVtZXJpY2FsU2hpZnRZKTtcbiAgICAgICAgY29udGV4dC5zY2FsZShzb3VyY2VSZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbywgLXNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvKTtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2Uoc3RpdGNoQ29udGV4dC5jYW52YXMsIDAsIDApO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgICBpZiAob3B0X3JlbmRlckVkZ2VzKSB7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIHRyaWFuZ3VsYXRpb24uZ2V0VHJpYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRyaWFuZ2xlLnRhcmdldDtcbiAgICAgICAgICAgIHZhciB1MCA9ICh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdjAgPSAtKHRhcmdldFswXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB1MSA9ICh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdjEgPSAtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB1MiA9ICh0YXJnZXRbMl1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdjIgPSAtKHRhcmdldFsyXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5jYW52YXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXByb2ouanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovVGlsZVxuICovXG5pbXBvcnQgeyBFUlJPUl9USFJFU0hPTEQgfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVHJpYW5ndWxhdGlvbiBmcm9tICcuL1RyaWFuZ3VsYXRpb24uanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbiwgcmVuZGVyIGFzIHJlbmRlclJlcHJvamVjdGVkLCB9IGZyb20gJy4uL3JlcHJvai5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHsgZ2V0QXJlYSwgZ2V0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIpIDogaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBGdW5jdGlvblR5cGVcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBlbmNhcHN1bGF0aW5nIHNpbmdsZSByZXByb2plY3RlZCB0aWxlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGVJbWFnZX5UaWxlSW1hZ2V9LlxuICpcbiAqL1xudmFyIFJlcHJvalRpbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcHJvalRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVRpbGVHcmlkIFNvdXJjZSB0aWxlIGdyaWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRhcmdldFRpbGVHcmlkIFRhcmdldCB0aWxlIGdyaWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgQ29vcmRpbmF0ZSBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHdyYXBwZWRUaWxlQ29vcmQgQ29vcmRpbmF0ZSBvZiB0aGUgdGlsZSB3cmFwcGVkIGluIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZSB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uVHlwZX0gZ2V0VGlsZUZ1bmN0aW9uXG4gICAgICogICAgIEZ1bmN0aW9uIHJldHVybmluZyBzb3VyY2UgdGlsZXMgKHosIHgsIHksIHBpeGVsUmF0aW8pLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2Vycm9yVGhyZXNob2xkXSBBY2NlcHRhYmxlIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcHgpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9yZW5kZXJFZGdlc10gUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfaW50ZXJwb2xhdGVdIFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVwcm9qVGlsZShzb3VyY2VQcm9qLCBzb3VyY2VUaWxlR3JpZCwgdGFyZ2V0UHJvaiwgdGFyZ2V0VGlsZUdyaWQsIHRpbGVDb29yZCwgd3JhcHBlZFRpbGVDb29yZCwgcGl4ZWxSYXRpbywgZ3V0dGVyLCBnZXRUaWxlRnVuY3Rpb24sIG9wdF9lcnJvclRocmVzaG9sZCwgb3B0X3JlbmRlckVkZ2VzLCBvcHRfaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGlsZUNvb3JkLCBUaWxlU3RhdGUuSURMRSwgeyBpbnRlcnBvbGF0ZTogISFvcHRfaW50ZXJwb2xhdGUgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyRWRnZXNfID0gb3B0X3JlbmRlckVkZ2VzICE9PSB1bmRlZmluZWQgPyBvcHRfcmVuZGVyRWRnZXMgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3V0dGVyXyA9IGd1dHRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VUaWxlR3JpZF8gPSBzb3VyY2VUaWxlR3JpZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0VGlsZUdyaWRfID0gdGFyZ2V0VGlsZUdyaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBwZWRUaWxlQ29vcmRfID0gd3JhcHBlZFRpbGVDb29yZCA/IHdyYXBwZWRUaWxlQ29vcmQgOiB0aWxlQ29vcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VUaWxlc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlWl8gPSAwO1xuICAgICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGFyZ2V0VGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KF90aGlzLndyYXBwZWRUaWxlQ29vcmRfKTtcbiAgICAgICAgdmFyIG1heFRhcmdldEV4dGVudCA9IF90aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIG1heFNvdXJjZUV4dGVudCA9IF90aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIGxpbWl0ZWRUYXJnZXRFeHRlbnQgPSBtYXhUYXJnZXRFeHRlbnRcbiAgICAgICAgICAgID8gZ2V0SW50ZXJzZWN0aW9uKHRhcmdldEV4dGVudCwgbWF4VGFyZ2V0RXh0ZW50KVxuICAgICAgICAgICAgOiB0YXJnZXRFeHRlbnQ7XG4gICAgICAgIGlmIChnZXRBcmVhKGxpbWl0ZWRUYXJnZXRFeHRlbnQpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBUaWxlIGlzIGNvbXBsZXRlbHkgb3V0c2lkZSByYW5nZSAtPiBFTVBUWVxuICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgYWN0dWFsbHkgY29ycmVjdCB0aGF0IHRoZSBzb3VyY2UgZXZlbiBjcmVhdGVzIHRoZSB0aWxlID9cbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2VQcm9qRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKHNvdXJjZVByb2pFeHRlbnQpIHtcbiAgICAgICAgICAgIGlmICghbWF4U291cmNlRXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgbWF4U291cmNlRXh0ZW50ID0gc291cmNlUHJvakV4dGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heFNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVByb2pFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0VGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihfdGhpcy53cmFwcGVkVGlsZUNvb3JkX1swXSk7XG4gICAgICAgIHZhciBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSB8fCBzb3VyY2VSZXNvbHV0aW9uIDw9IDApIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgc291cmNlUmVzb2x1dGlvbiAtPiBFTVBUWVxuICAgICAgICAgICAgLy8gcHJvYmFibHkgZWRnZXMgb2YgdGhlIHByb2plY3Rpb25zIHdoZW4gbm8gZXh0ZW50IGlzIGRlZmluZWRcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvclRocmVzaG9sZEluUGl4ZWxzID0gb3B0X2Vycm9yVGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRfZXJyb3JUaHJlc2hvbGQgOiBFUlJPUl9USFJFU0hPTEQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4vVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpYW5ndWxhdGlvbl8gPSBuZXcgVHJpYW5ndWxhdGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKF90aGlzLnRyaWFuZ3VsYXRpb25fLmdldFRyaWFuZ2xlcygpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gdmFsaWQgdHJpYW5nbGVzIC0+IEVNUFRZXG4gICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zb3VyY2VaXyA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gX3RoaXMudHJpYW5ndWxhdGlvbl8uY2FsY3VsYXRlU291cmNlRXh0ZW50KCk7XG4gICAgICAgIGlmIChtYXhTb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VQcm9qLmNhbldyYXBYKCkpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnRbMV0gPSBjbGFtcChzb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnRbM10gPSBjbGFtcChzb3VyY2VFeHRlbnRbM10sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihzb3VyY2VFeHRlbnQsIG1heFNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnZXRBcmVhKHNvdXJjZUV4dGVudCkpIHtcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNvdXJjZVJhbmdlID0gc291cmNlVGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihzb3VyY2VFeHRlbnQsIF90aGlzLnNvdXJjZVpfKTtcbiAgICAgICAgICAgIGZvciAodmFyIHNyY1ggPSBzb3VyY2VSYW5nZS5taW5YOyBzcmNYIDw9IHNvdXJjZVJhbmdlLm1heFg7IHNyY1grKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHNyY1kgPSBzb3VyY2VSYW5nZS5taW5ZOyBzcmNZIDw9IHNvdXJjZVJhbmdlLm1heFk7IHNyY1krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IGdldFRpbGVGdW5jdGlvbihfdGhpcy5zb3VyY2VaXywgc3JjWCwgc3JjWSwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VUaWxlc18ucHVzaCh0aWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEhUTUwgQ2FudmFzIGVsZW1lbnQgZm9yIHRoaXMgdGlsZS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgICAqL1xuICAgIFJlcHJvalRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS5yZXByb2plY3RfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50OiB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZS50aWxlQ29vcmQpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGlsZS5nZXRJbWFnZSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPSAwO1xuICAgICAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRVJST1I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgeiA9IHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF07XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFRpbGVTaXplKHopO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMV07XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgICAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldFJlc29sdXRpb24odGhpcy5zb3VyY2VaXyk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRoaXMud3JhcHBlZFRpbGVDb29yZF8pO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfID0gcmVuZGVyUmVwcm9qZWN0ZWQod2lkdGgsIGhlaWdodCwgdGhpcy5waXhlbFJhdGlvXywgc291cmNlUmVzb2x1dGlvbiwgdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0RXh0ZW50KCksIHRhcmdldFJlc29sdXRpb24sIHRhcmdldEV4dGVudCwgdGhpcy50cmlhbmd1bGF0aW9uXywgc291cmNlcywgdGhpcy5ndXR0ZXJfLCB0aGlzLnJlbmRlckVkZ2VzXywgdGhpcy5pbnRlcnBvbGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqL1xuICAgIFJlcHJvalRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgICAgIHZhciBsZWZ0VG9Mb2FkXzEgPSAwO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VUaWxlc18uZm9yRWFjaChmdW5jdGlvbiAodGlsZSwgaSwgYXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSB8fCBzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0VG9Mb2FkXzErKztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZUxpc3RlbktleV8xID0gbGlzdGVuKHRpbGUsIEV2ZW50VHlwZS5DSEFOR0UsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FTVBUWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoc291cmNlTGlzdGVuS2V5XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRUb0xvYWRfMS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkXzEgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmxpc3RlblNvdXJjZXNfKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0XygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18ucHVzaChzb3VyY2VMaXN0ZW5LZXlfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkXzEgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVwcm9qZWN0Xy5iaW5kKHRoaXMpLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRpbGUsIGksIGFycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS51bmxpc3RlblNvdXJjZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcHJvalRpbGU7XG59KFRpbGUpKTtcbmV4cG9ydCBkZWZhdWx0IFJlcHJvalRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovY29tbW9uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIGFsbG93ZWQgdGhyZXNob2xkICAoaW4gcGl4ZWxzKSBmb3IgcmVwcm9qZWN0aW9uXG4gKiB0cmlhbmd1bGF0aW9uLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBFUlJPUl9USFJFU0hPTEQgPSAwLjU7XG4vKipcbiAqIEVuYWJsZSBhdXRvbWF0aWMgcmVwcm9qZWN0aW9uIG9mIHJhc3RlciBzb3VyY2VzLiBEZWZhdWx0IGlzIGB0cnVlYC5cbiAqIFRPRE86IGRlY2lkZSBpZiB3ZSB3YW50IHRvIGV4cG9zZSB0aGlzIGFzIGEgYnVpbGQgZmxhZyBvciByZW1vdmUgaXRcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9MUlVDYWNoZVxuICovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW50cnlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBrZXlfIEtleS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBuZXdlciBOZXdlci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvbGRlciBPbGRlci5cbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWVfIFZhbHVlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudHMgYSBMZWFzdC1SZWNlbnRseS1Vc2VkIGNhY2hlIHdoZXJlIHRoZSBrZXlzIGRvIG5vdCBjb25mbGljdCB3aXRoXG4gKiBPYmplY3QncyBwcm9wZXJ0aWVzIChlLmcuICdoYXNPd25Qcm9wZXJ0eScgaXMgbm90IGFsbG93ZWQgYXMgYSBrZXkpLiBFeHBpcmluZ1xuICogaXRlbXMgZnJvbSB0aGUgY2FjaGUgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIExSVUNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2hpZ2hXYXRlck1hcmtdIEhpZ2ggd2F0ZXIgbWFyay5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMUlVDYWNoZShvcHRfaGlnaFdhdGVyTWFyaykge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBtYXggY2FjaGUgc2l6ZSBhZnRlciBleHBpcmVDYWNoZSgpLiBJZiBzZXQgdG8gMCwgbm8gY2FjaGUgZW50cmllc1xuICAgICAgICAgKiB3aWxsIGJlIHBydW5lZCBhdCBhbGwuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPVxuICAgICAgICAgICAgb3B0X2hpZ2hXYXRlck1hcmsgIT09IHVuZGVmaW5lZCA/IG9wdF9oaWdoV2F0ZXJNYXJrIDogMjA0ODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIEVudHJ5Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50cmllc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9FbnRyeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaWdoV2F0ZXJNYXJrID4gMCAmJiB0aGlzLmdldENvdW50KCkgPiB0aGlzLmhpZ2hXYXRlck1hcms7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY291bnRfID0gMDtcbiAgICAgICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuICAgICAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMga2V5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc18uaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgc3RyaW5nLCBMUlVDYWNoZTxUPik6ID99IGYgVGhlIGZ1bmN0aW9uXG4gICAgICogICAgIHRvIGNhbGwgZm9yIGV2ZXJ5IGVudHJ5IGZyb20gdGhlIG9sZGVzdCB0byB0aGUgbmV3ZXIuIFRoaXMgZnVuY3Rpb24gdGFrZXNcbiAgICAgKiAgICAgMyBhcmd1bWVudHMgKHRoZSBlbnRyeSB2YWx1ZSwgdGhlIGVudHJ5IGtleSBhbmQgdGhlIExSVUNhY2hlIG9iamVjdCkuXG4gICAgICogICAgIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICAgICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICAgICAgICBmKGVudHJ5LnZhbHVlXywgZW50cnkua2V5XywgdGhpcyk7XG4gICAgICAgICAgICBlbnRyeSA9IGVudHJ5Lm5ld2VyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRfb3B0aW9uc10gT3B0aW9ucyAocmVzZXJ2ZWQgZm9yIHN1YmNsYXNzZXMpLlxuICAgICAqIEByZXR1cm4ge1R9IFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgICAgIGFzc2VydChlbnRyeSAhPT0gdW5kZWZpbmVkLCAxNSk7IC8vIFRyaWVkIHRvIGdldCBhIHZhbHVlIGZvciBhIGtleSB0aGF0IGRvZXMgbm90IGV4aXN0IGluIHRoZSBjYWNoZVxuICAgICAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAodGhpcy5vbGRlc3RfLm5ld2VyKTtcbiAgICAgICAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5uZXdlciA9IG51bGw7XG4gICAgICAgIGVudHJ5Lm9sZGVyID0gdGhpcy5uZXdlc3RfO1xuICAgICAgICB0aGlzLm5ld2VzdF8ubmV3ZXIgPSBlbnRyeTtcbiAgICAgICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZW50cnkgZnJvbSB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgZW50cnkga2V5LlxuICAgICAqIEByZXR1cm4ge1R9IFRoZSByZW1vdmVkIGVudHJ5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm5ld2VzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkub2xkZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmV3ZXN0Xykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0Xykge1xuICAgICAgICAgICAgdGhpcy5vbGRlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm5ld2VyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9sZGVzdF8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9sZGVzdF8ub2xkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBlbnRyeS5vbGRlcjtcbiAgICAgICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgLS10aGlzLmNvdW50XztcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBLZXlzLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5cyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgICAgICAga2V5c1tpKytdID0gZW50cnkua2V5XztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBWYWx1ZXMuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgICAgICAgdmFsdWVzW2krK10gPSBlbnRyeS52YWx1ZV87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1R9IExhc3QgdmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRlc3RfLnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGFzdCBrZXkuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0S2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRlc3RfLmtleV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGtleSBvZiB0aGUgbmV3ZXN0IGl0ZW0gaW4gdGhlIGNhY2hlLiAgVGhyb3dzIGlmIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBuZXdlc3Qga2V5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wZWVrRmlyc3RLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld2VzdF8ua2V5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc19bZW50cnkua2V5X107XG4gICAgICAgIGlmIChlbnRyeS5uZXdlcikge1xuICAgICAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgICAgIGlmICghdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC0tdGhpcy5jb3VudF87XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5nZXQoa2V5KTsgLy8gdXBkYXRlIGBuZXdlc3RfYFxuICAgICAgICB0aGlzLmVudHJpZXNfW2tleV0udmFsdWVfID0gdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhc3NlcnQoIShrZXkgaW4gdGhpcy5lbnRyaWVzXyksIDE2KTsgLy8gVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgaXMgdXNlZCBhbHJlYWR5XG4gICAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgICAgIGtleV86IGtleSxcbiAgICAgICAgICAgIG5ld2VyOiBudWxsLFxuICAgICAgICAgICAgb2xkZXI6IHRoaXMubmV3ZXN0XyxcbiAgICAgICAgICAgIHZhbHVlXzogdmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IGVudHJ5O1xuICAgICAgICB0aGlzLmVudHJpZXNfW2tleV0gPSBlbnRyeTtcbiAgICAgICAgKyt0aGlzLmNvdW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgZm9yIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBDYWNoZSBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IHNpemU7XG4gICAgfTtcbiAgICByZXR1cm4gTFJVQ2FjaGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MUlVDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWNvb3JkXG4gKi9cbi8qKlxuICogQW4gYXJyYXkgb2YgdGhyZWUgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIGEgdGlsZSBpbiBhIHRpbGVcbiAqIGdyaWQuIFRoZSBvcmRlciBpcyBgemAgKHpvb20gbGV2ZWwpLCBgeGAgKGNvbHVtbiksIGFuZCBgeWAgKHJvdykuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gVGlsZUNvb3JkXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IFtvcHRfdGlsZUNvb3JkXSBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtUaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKHosIHgsIHksIG9wdF90aWxlQ29vcmQpIHtcbiAgICBpZiAob3B0X3RpbGVDb29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdF90aWxlQ29vcmRbMF0gPSB6O1xuICAgICAgICBvcHRfdGlsZUNvb3JkWzFdID0geDtcbiAgICAgICAgb3B0X3RpbGVDb29yZFsyXSA9IHk7XG4gICAgICAgIHJldHVybiBvcHRfdGlsZUNvb3JkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFt6LCB4LCB5XTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5WlhZKHosIHgsIHkpIHtcbiAgICByZXR1cm4geiArICcvJyArIHggKyAnLycgKyB5O1xufVxuLyoqXG4gKiBHZXQgdGhlIGtleSBmb3IgYSB0aWxlIGNvb3JkLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaGUgdGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5KHRpbGVDb29yZCkge1xuICAgIHJldHVybiBnZXRLZXlaWFkodGlsZUNvb3JkWzBdLCB0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG59XG4vKipcbiAqIEdldCB0aGUgdGlsZSBjYWNoZSBrZXkgZm9yIGEgdGlsZSBrZXkgb2J0YWluZWQgdGhyb3VnaCBgdGlsZS5nZXRLZXkoKWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGlsZUtleSBUaGUgdGlsZSBrZXkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjYWNoZSBrZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZUtleUZvclRpbGVLZXkodGlsZUtleSkge1xuICAgIHZhciBfYSA9IHRpbGVLZXlcbiAgICAgICAgLnN1YnN0cmluZyh0aWxlS2V5Lmxhc3RJbmRleE9mKCcvJykgKyAxLCB0aWxlS2V5Lmxlbmd0aClcbiAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgLm1hcChOdW1iZXIpLCB6ID0gX2FbMF0sIHggPSBfYVsxXSwgeSA9IF9hWzJdO1xuICAgIHJldHVybiBnZXRLZXlaWFkoeiwgeCwgeSk7XG59XG4vKipcbiAqIEdldCBhIHRpbGUgY29vcmQgZ2l2ZW4gYSBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSB0aWxlIGNvb3JkIGtleS5cbiAqIEByZXR1cm4ge1RpbGVDb29yZH0gVGhlIHRpbGUgY29vcmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tS2V5KGtleSkge1xuICAgIHJldHVybiBrZXkuc3BsaXQoJy8nKS5tYXAoTnVtYmVyKTtcbn1cbi8qKlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkLlxuICogQHJldHVybiB7bnVtYmVyfSBIYXNoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaCh0aWxlQ29vcmQpIHtcbiAgICByZXR1cm4gKHRpbGVDb29yZFsxXSA8PCB0aWxlQ29vcmRbMF0pICsgdGlsZUNvb3JkWzJdO1xufVxuLyoqXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7IWltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBjb29yZGluYXRlIGlzIHdpdGhpbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW5FeHRlbnRBbmRaKHRpbGVDb29yZCwgdGlsZUdyaWQpIHtcbiAgICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgICB2YXIgeCA9IHRpbGVDb29yZFsxXTtcbiAgICB2YXIgeSA9IHRpbGVDb29yZFsyXTtcbiAgICBpZiAodGlsZUdyaWQuZ2V0TWluWm9vbSgpID4geiB8fCB6ID4gdGlsZUdyaWQuZ2V0TWF4Wm9vbSgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gICAgaWYgKCF0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGlsZVJhbmdlLmNvbnRhaW5zWFkoeCwgeSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZWNvb3JkLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVGlsZUNhY2hlXG4gKi9cbmltcG9ydCBMUlVDYWNoZSBmcm9tICcuL3N0cnVjdHMvTFJVQ2FjaGUuanMnO1xuaW1wb3J0IHsgZnJvbUtleSwgZ2V0S2V5IH0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xudmFyIFRpbGVDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZUNhY2hlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRpbGVDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZUNhY2hlLnByb3RvdHlwZS5leHBpcmVDYWNoZSA9IGZ1bmN0aW9uICh1c2VkVGlsZXMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgdmFyIHRpbGUgPSB0aGlzLnBlZWtMYXN0KCk7XG4gICAgICAgICAgICBpZiAodGlsZS5nZXRLZXkoKSBpbiB1c2VkVGlsZXMpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucG9wKCkucmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcnVuZSBhbGwgdGlsZXMgZnJvbSB0aGUgY2FjaGUgdGhhdCBkb24ndCBoYXZlIHRoZSBzYW1lIHogYXMgdGhlIG5ld2VzdCB0aWxlLlxuICAgICAqL1xuICAgIFRpbGVDYWNoZS5wcm90b3R5cGUucHJ1bmVFeGNlcHROZXdlc3RaID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IHRoaXMucGVla0ZpcnN0S2V5KCk7XG4gICAgICAgIHZhciB0aWxlQ29vcmQgPSBmcm9tS2V5KGtleSk7XG4gICAgICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHRpbGUpIHtcbiAgICAgICAgICAgIGlmICh0aWxlLnRpbGVDb29yZFswXSAhPT0geikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGdldEtleSh0aWxlLnRpbGVDb29yZCkpO1xuICAgICAgICAgICAgICAgIHRpbGUucmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVDYWNoZTtcbn0oTFJVQ2FjaGUpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVDYWNoZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVDYWNoZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9Tb3VyY2VcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiB9IGZyb20gJy4uL3Byb2ouanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL1BsdWdnYWJsZU1hcH5GcmFtZVN0YXRlfSBhbmQgcmV0dXJucyBhIHN0cmluZyBvclxuICogYW4gYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgc291cmNlIGF0dHJpYnV0aW9ucy5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGUpOiAoc3RyaW5nfEFycmF5PHN0cmluZz4pfSBBdHRyaWJ1dGlvblxuICovXG4vKipcbiAqIEEgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYXR0cmlidXRpb24gaW5mb3JtYXRpb24gZm9yIGRhdGEgc291cmNlcy5cbiAqXG4gKiBJdCByZXByZXNlbnRzIGVpdGhlclxuICogKiBhIHNpbXBsZSBzdHJpbmcgKGUuZy4gYCfCqSBBY21lIEluYy4nYClcbiAqICogYW4gYXJyYXkgb2Ygc2ltcGxlIHN0cmluZ3MgKGUuZy4gYFsnwqkgQWNtZSBJbmMuJywgJ8KpIEJhY21lIEluYy4nXWApXG4gKiAqIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgKHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0pXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xBcnJheTxzdHJpbmc+fEF0dHJpYnV0aW9ufSBBdHRyaWJ1dGlvbkxpa2VcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0F0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uIERlZmF1bHQgaXMgdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGU9J3JlYWR5J10gU3RhdGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV3JhcFguXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT1mYWxzZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIHRoZSBuZWFyZXN0IG5laWdoYm9yIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXJ9IHNvdXJjZXMuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIFNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBTb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb3VyY2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9BdHRyaWJ1dGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF0dHJpYnV0aW9uc18gPSBhZGFwdEF0dHJpYnV0aW9ucyhvcHRpb25zLmF0dHJpYnV0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGVcbiAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZyBkYXRhLiBTb3VyY2VzIHRoYXQgZGVmZXIgbG9hZGluZyB0byB0aGVcbiAgICAgICAgICogbWFwJ3MgdGlsZSBxdWV1ZSBuZXZlciBzZXQgdGhpcyB0byBgdHJ1ZWAuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlXyA9XG4gICAgICAgICAgICBvcHRpb25zLnN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXRlIDogU291cmNlU3RhdGUuUkVBRFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBYXyA9IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJwb2xhdGVfID0gISFvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucyk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdSZXNvbHZlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihFcnJvcik6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdSZWplY3RvciA9IG51bGw7XG4gICAgICAgIHZhciBzZWxmID0gX3RoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7UHJvbWlzZTxpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdQcm9taXNlXyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHNlbGYudmlld1Jlc29sdmVyID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHNlbGYudmlld1JlamVjdG9yID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQXR0cmlidXRpb24gZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRpb25zQ29sbGFwc2libGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwcm9qZWN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFByb2plY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59IEEgcHJvbWlzZSBmb3Igdmlldy1yZWxhdGVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3UHJvbWlzZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UsIHNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9TdGF0ZX5TdGF0ZX0gZm9yIHBvc3NpYmxlIHN0YXRlcy5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFN0YXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gV3JhcCBYLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0V3JhcFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBYXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRJbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHRoZSBzb3VyY2UuIFRoZSBzb3VyY2Ugd2lsbCBiZSBjbGVhcmVkLCBhbmQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIgd2lsbCBiZSByZWxvYWRlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXR0cmlidXRpb25zIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtBdHRyaWJ1dGlvbkxpa2V8dW5kZWZpbmVkfSBhdHRyaWJ1dGlvbnMgQXR0cmlidXRpb25zLlxuICAgICAqICAgICBDYW4gYmUgcGFzc2VkIGFzIGBzdHJpbmdgLCBgQXJyYXk8c3RyaW5nPmAsIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0sXG4gICAgICogICAgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU291cmNlO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIFR1cm5zIHRoZSBhdHRyaWJ1dGlvbnMgb3B0aW9uIGludG8gYW4gYXR0cmlidXRpb25zIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtBdHRyaWJ1dGlvbkxpa2V8dW5kZWZpbmVkfSBhdHRyaWJ1dGlvbkxpa2UgVGhlIGF0dHJpYnV0aW9uIG9wdGlvbi5cbiAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQW4gYXR0cmlidXRpb24gZnVuY3Rpb24gKG9yIG51bGwpLlxuICovXG5mdW5jdGlvbiBhZGFwdEF0dHJpYnV0aW9ucyhhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgICBpZiAoIWF0dHJpYnV0aW9uTGlrZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25MaWtlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXR0cmlidXRpb25MaWtlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gW2F0dHJpYnV0aW9uTGlrZV07XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvdXJjZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvVGlsZUdyaWRcbiAqL1xuaW1wb3J0IFRpbGVSYW5nZSwgeyBjcmVhdGVPclVwZGF0ZSBhcyBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSwgfSBmcm9tICcuLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9USUxFX1NJWkUgfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNlaWwsIGNsYW1wLCBmbG9vciB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUsIGdldFRvcExlZnQgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQgfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHsgaXNTb3J0ZWQsIGxpbmVhckZpbmROZWFyZXN0IH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgdG9TaXplIH0gZnJvbSAnLi4vc2l6ZS5qcyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAqL1xudmFyIHRtcFRpbGVDb29yZCA9IFswLCAwLCAwXTtcbi8qKlxuICogTnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzIHRvIGNvbnNpZGVyIGluIGludGVnZXIgdmFsdWVzIHdoZW4gcm91bmRpbmcuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVDSU1BTFMgPSA1O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gTm8gdGlsZXMgb3V0c2lkZSB0aGlzXG4gKiBleHRlbnQgd2lsbCBiZSByZXF1ZXN0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX0gc291cmNlcy4gV2hlbiBubyBgb3JpZ2luYCBvclxuICogYG9yaWdpbnNgIGFyZSBjb25maWd1cmVkLCB0aGUgYG9yaWdpbmAgd2lsbCBiZSBzZXQgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3JpZ2luXSBUaGUgdGlsZSBncmlkIG9yaWdpbiwgaS5lLiB3aGVyZSB0aGUgYHhgXG4gKiBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIGRvd253YXJkcy4gSWYgbm90XG4gKiBzcGVjaWZpZWQsIGBleHRlbnRgIG9yIGBvcmlnaW5zYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBbb3JpZ2luc10gVGlsZSBncmlkIG9yaWdpbnMsIGkuZS4gd2hlcmVcbiAqIHRoZSBgeGAgYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKSwgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogb3JpZ2luLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIGRvd253YXJkcy4gSWYgbm90IHNwZWNpZmllZCwgYGV4dGVudGAgb3JcbiAqIGBvcmlnaW5gIG11c3QgYmUgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkgeyFBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy4gVGhlIGFycmF5IGluZGV4IG9mIGVhY2ggcmVzb2x1dGlvbiBuZWVkc1xuICogdG8gbWF0Y2ggdGhlIHpvb20gbGV2ZWwuIFRoaXMgbWVhbnMgdGhhdCBldmVuIGlmIGEgYG1pblpvb21gIGlzIGNvbmZpZ3VyZWQsIHRoZSByZXNvbHV0aW9uc1xuICogYXJyYXkgd2lsbCBoYXZlIGEgbGVuZ3RoIG9mIGBtYXhab29tICsgMWAuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFtzaXplc10gTnVtYmVyIG9mIHRpbGUgcm93cyBhbmQgY29sdW1uc1xuICogb2YgdGhlIGdyaWQgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWYgc3BlY2lmaWVkIHRoZSB2YWx1ZXNcbiAqIGRlZmluZSBlYWNoIHpvb20gbGV2ZWwncyBleHRlbnQgdG9nZXRoZXIgd2l0aCB0aGUgYG9yaWdpbmAgb3IgYG9yaWdpbnNgLlxuICogQSBncmlkIGBleHRlbnRgIGNhbiBiZSBjb25maWd1cmVkIGluIGFkZGl0aW9uLCBhbmQgd2lsbCBmdXJ0aGVyIGxpbWl0IHRoZSBleHRlbnRcbiAqIGZvciB3aGljaCB0aWxlIHJlcXVlc3RzIGFyZSBtYWRlIGJ5IHNvdXJjZXMuIElmIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgb2ZcbiAqIGFuIGV4dGVudCBpcyB1c2VkIGFzIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCwgdGhlbiB0aGUgYHlgIHZhbHVlIG11c3QgYmVcbiAqIG5lZ2F0aXZlIGJlY2F1c2UgT3BlbkxheWVycyB0aWxlIGNvb3JkaW5hdGVzIHVzZSB0aGUgdG9wIGxlZnQgYXMgdGhlIG9yaWdpbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUuXG4gKiBEZWZhdWx0IGlzIGBbMjU2LCAyNTZdYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3RpbGVTaXplc10gVGlsZSBzaXplcy4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogdGlsZSBzaXplLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHNldHRpbmcgdGhlIGdyaWQgcGF0dGVybiBmb3Igc291cmNlcyBhY2Nlc3NpbmcgdGlsZWQtaW1hZ2VcbiAqIHNlcnZlcnMuXG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgVGlsZSBncmlkIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZUdyaWQob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ab29tID0gb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuICAgICAgICBhc3NlcnQoaXNTb3J0ZWQodGhpcy5yZXNvbHV0aW9uc18sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYiAtIGE7XG4gICAgICAgIH0sIHRydWUpLCAxNyk7IC8vIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBzb3J0ZWQgaW4gZGVzY2VuZGluZyBvcmRlclxuICAgICAgICAvLyBjaGVjayBpZiB3ZSd2ZSBnb3QgYSBjb25zaXN0ZW50IHpvb20gZmFjdG9yIGFuZCBvcmlnaW5cbiAgICAgICAgdmFyIHpvb21GYWN0b3I7XG4gICAgICAgIGlmICghb3B0aW9ucy5vcmlnaW5zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAxOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICghem9vbUZhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICB6b29tRmFjdG9yID0gdGhpcy5yZXNvbHV0aW9uc19baV0gLyB0aGlzLnJlc29sdXRpb25zX1tpICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc19baV0gLyB0aGlzLnJlc29sdXRpb25zX1tpICsgMV0gIT09IHpvb21GYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnpvb21GYWN0b3JfID0gem9vbUZhY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5fID0gb3B0aW9ucy5vcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3JpZ2luIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5zXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLm9yaWdpbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5zXyA9IG9wdGlvbnMub3JpZ2lucztcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLm9yaWdpbnNfLmxlbmd0aCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGgsIDIwKTsgLy8gTnVtYmVyIG9mIGBvcmlnaW5zYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50O1xuICAgICAgICBpZiAoZXh0ZW50ICE9PSB1bmRlZmluZWQgJiYgIXRoaXMub3JpZ2luXyAmJiAhdGhpcy5vcmlnaW5zXykge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5fID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydCgoIXRoaXMub3JpZ2luXyAmJiB0aGlzLm9yaWdpbnNfKSB8fCAodGhpcy5vcmlnaW5fICYmICF0aGlzLm9yaWdpbnNfKSwgMTgpOyAvLyBFaXRoZXIgYG9yaWdpbmAgb3IgYG9yaWdpbnNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aFxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlU2l6ZXNfID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMudGlsZVNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVNpemVzXyA9IG9wdGlvbnMudGlsZVNpemVzO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMudGlsZVNpemVzXy5sZW5ndGggPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoLCAxOSk7IC8vIE51bWJlciBvZiBgdGlsZVNpemVzYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlU2l6ZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy50aWxlU2l6ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnRpbGVTaXplXG4gICAgICAgICAgICAgICAgOiAhdGhpcy50aWxlU2l6ZXNfXG4gICAgICAgICAgICAgICAgICAgID8gREVGQVVMVF9USUxFX1NJWkVcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBhc3NlcnQoKCF0aGlzLnRpbGVTaXplXyAmJiB0aGlzLnRpbGVTaXplc18pIHx8XG4gICAgICAgICAgICAodGhpcy50aWxlU2l6ZV8gJiYgIXRoaXMudGlsZVNpemVzXyksIDIyKTsgLy8gRWl0aGVyIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudCAhPT0gdW5kZWZpbmVkID8gZXh0ZW50IDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50bXBTaXplXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50bXBFeHRlbnRfID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBpZiAob3B0aW9ucy5zaXplcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG9wdGlvbnMuc2l6ZXMubWFwKGZ1bmN0aW9uIChzaXplLCB6KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVSYW5nZSA9IG5ldyBUaWxlUmFuZ2UoTWF0aC5taW4oMCwgc2l6ZVswXSksIE1hdGgubWF4KHNpemVbMF0gLSAxLCAtMSksIE1hdGgubWluKDAsIHNpemVbMV0pLCBNYXRoLm1heChzaXplWzFdIC0gMSwgLTEpKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN0cmljdGVkVGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5taW5YID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5YLCB0aWxlUmFuZ2UubWluWCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhYID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhYLCB0aWxlUmFuZ2UubWF4WCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5taW5ZID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5ZLCB0aWxlUmFuZ2UubWluWSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhZID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhZLCB0aWxlUmFuZ2UubWF4WSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVGlsZVJhbmdlc18oZXh0ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCBlYWNoIHRpbGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCk6IHZvaWR9IGNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIGVhY2ggdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZm9yRWFjaFRpbGVDb29yZCA9IGZ1bmN0aW9uIChleHRlbnQsIHpvb20sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB0aWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6b29tKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRpbGVSYW5nZS5taW5YLCBpaSA9IHRpbGVSYW5nZS5tYXhYOyBpIDw9IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSB0aWxlUmFuZ2UubWluWSwgamogPSB0aWxlUmFuZ2UubWF4WTsgaiA8PSBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soW3pvb20sIGksIGpdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFtvcHRfdGlsZVJhbmdlXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYWxsYmFjayBzdWNjZWVkZWQuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBjYWxsYmFjaywgb3B0X3RpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICAgICAgICB2YXIgdGlsZVJhbmdlLCB4LCB5O1xuICAgICAgICB2YXIgdGlsZUNvb3JkRXh0ZW50ID0gbnVsbDtcbiAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF0gLSAxO1xuICAgICAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgICAgICAgeCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgICAgIHkgPSB0aWxlQ29vcmRbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIG9wdF9leHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh6ID49IHRoaXMubWluWm9vbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5mbG9vcih4IC8gMik7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoeSAvIDIpO1xuICAgICAgICAgICAgICAgIHRpbGVSYW5nZSA9IGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKHgsIHgsIHksIHksIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRpbGVDb29yZEV4dGVudCwgeiwgb3B0X3RpbGVSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2soeiwgdGlsZVJhbmdlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLS16O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZCwgaWYgaXQgd2FzIGNvbmZpZ3VyZWQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWF4IHpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhab29tO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluIHpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRNaW5ab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5ab29tO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvcmlnaW4gZm9yIHRoZSBncmlkIGF0IHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IE9yaWdpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldE9yaWdpbiA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5zX1t6XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t6XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiByZXNvbHV0aW9ucyBmb3IgdGhlIHRpbGUgZ3JpZC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gW29wdF90aWxlUmFuZ2VdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbb3B0X2V4dGVudF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBUaWxlIHJhbmdlLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIG9wdF90aWxlUmFuZ2UsIG9wdF9leHRlbnQpIHtcbiAgICAgICAgaWYgKHRpbGVDb29yZFswXSA8IHRoaXMubWF4Wm9vbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWluWCA9IHRpbGVDb29yZFsxXSAqIDI7XG4gICAgICAgICAgICAgICAgdmFyIG1pblkgPSB0aWxlQ29vcmRbMl0gKiAyO1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtaW5YICsgMSwgbWluWSwgbWluWSArIDEsIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRpbGVDb29yZEV4dGVudCA9IHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgb3B0X2V4dGVudCB8fCB0aGlzLnRtcEV4dGVudF8pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWih0aWxlQ29vcmRFeHRlbnQsIHRpbGVDb29yZFswXSArIDEsIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbb3B0X3RpbGVSYW5nZV0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gVGlsZSByYW5nZS5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZVJhbmdlRm9yVGlsZUNvb3JkQW5kWiA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIHosIG9wdF90aWxlUmFuZ2UpIHtcbiAgICAgICAgaWYgKHogPiB0aGlzLm1heFpvb20gfHwgeiA8IHRoaXMubWluWm9vbSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbGVDb29yZFogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgIHZhciB0aWxlQ29vcmRYID0gdGlsZUNvb3JkWzFdO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWSA9IHRpbGVDb29yZFsyXTtcbiAgICAgICAgaWYgKHogPT09IHRpbGVDb29yZFopIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSh0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy56b29tRmFjdG9yXykge1xuICAgICAgICAgICAgdmFyIGZhY3RvciA9IE1hdGgucG93KHRoaXMuem9vbUZhY3Rvcl8sIHogLSB0aWxlQ29vcmRaKTtcbiAgICAgICAgICAgIHZhciBtaW5YID0gTWF0aC5mbG9vcih0aWxlQ29vcmRYICogZmFjdG9yKTtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih0aWxlQ29vcmRZICogZmFjdG9yKTtcbiAgICAgICAgICAgIGlmICh6IDwgdGlsZUNvb3JkWikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtaW5YLCBtaW5ZLCBtaW5ZLCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXhYID0gTWF0aC5mbG9vcihmYWN0b3IgKiAodGlsZUNvb3JkWCArIDEpKSAtIDE7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IE1hdGguZmxvb3IoZmFjdG9yICogKHRpbGVDb29yZFkgKyAxKSkgLSAxO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFksIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50Xyk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGlsZUNvb3JkRXh0ZW50LCB6LCBvcHRfdGlsZVJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IGZvciBhIHRpbGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVSYW5nZUV4dGVudCA9IGZ1bmN0aW9uICh6LCB0aWxlUmFuZ2UsIG9wdF9leHRlbnQpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgICAgdmFyIHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZV8pO1xuICAgICAgICB2YXIgbWluWCA9IG9yaWdpblswXSArIHRpbGVSYW5nZS5taW5YICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WCA9IG9yaWdpblswXSArICh0aWxlUmFuZ2UubWF4WCArIDEpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWluWSA9IG9yaWdpblsxXSArIHRpbGVSYW5nZS5taW5ZICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WSA9IG9yaWdpblsxXSArICh0aWxlUmFuZ2UubWF4WSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB0aWxlIHJhbmdlIGZvciB0aGUgZ2l2ZW4gZXh0ZW50IGFuZCBpbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbb3B0X3RpbGVSYW5nZV0gVGVtcG9yYXJ5IHRpbGUgcmFuZ2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBUaWxlIHJhbmdlLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaID0gZnVuY3Rpb24gKGV4dGVudCwgeiwgb3B0X3RpbGVSYW5nZSkge1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gdG1wVGlsZUNvb3JkO1xuICAgICAgICB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oZXh0ZW50WzBdLCBleHRlbnRbM10sIHosIGZhbHNlLCB0aWxlQ29vcmQpO1xuICAgICAgICB2YXIgbWluWCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgdmFyIG1pblkgPSB0aWxlQ29vcmRbMl07XG4gICAgICAgIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhleHRlbnRbMl0sIGV4dGVudFsxXSwgeiwgdHJ1ZSwgdGlsZUNvb3JkKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIHRpbGVDb29yZFsxXSwgbWluWSwgdGlsZUNvb3JkWzJdLCBvcHRfdGlsZVJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRpbGUgY2VudGVyLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRDZW50ZXIgPSBmdW5jdGlvbiAodGlsZUNvb3JkKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG9yaWdpblswXSArICh0aWxlQ29vcmRbMV0gKyAwLjUpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDAuNSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb24sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV4dGVudCBvZiBhIHRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfZXh0ZW50XSBUZW1wb3JhcnkgZXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRFeHRlbnQgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBvcHRfZXh0ZW50KSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIG1pblggPSBvcmlnaW5bMF0gKyB0aWxlQ29vcmRbMV0gKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtaW5ZID0gb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WCA9IG1pblggKyB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtYXhZID0gbWluWSArIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIG9wdF9leHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoZSBnaXZlbiBtYXAgY29vcmRpbmF0ZSBhbmQgcmVzb2x1dGlvbi4gIFRoaXNcbiAgICAgKiBtZXRob2QgY29uc2lkZXJzIHRoYXQgY29vcmRpbmF0ZXMgdGhhdCBpbnRlcnNlY3QgdGlsZSBib3VuZGFyaWVzIHNob3VsZCBiZVxuICAgICAqIGFzc2lnbmVkIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIERlc3RpbmF0aW9uIGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCByZXNvbHV0aW9uLCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8oY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSwgcmVzb2x1dGlvbiwgZmFsc2UsIG9wdF90aWxlQ29vcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHNob3VsZCBub3QgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyB0aGF0IGNvcnJlc3BvbmRcbiAgICAgKiB0byBhbiBpbnRlZ2VyIHpvb20gbGV2ZWwuICBJbnN0ZWFkIGNhbGwgdGhlIGBnZXRUaWxlQ29vcmRGb3JYWUFuZFpfYCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24gKGZvciBhIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWwpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSBJbnN0ZWFkIG9mIGxldHRpbmcgZWRnZVxuICAgICAqICAgICBpbnRlcnNlY3Rpb25zIGdvIHRvIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLCBsZXQgZWRnZSBpbnRlcnNlY3Rpb25zXG4gICAgICogICAgIGdvIHRvIHRoZSBsb3dlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fID0gZnVuY3Rpb24gKHgsIHksIHJlc29sdXRpb24sIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgdmFyIHogPSB0aGlzLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgc2NhbGUgPSByZXNvbHV0aW9uIC8gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFggPSAoc2NhbGUgKiAoeCAtIG9yaWdpblswXSkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzBdO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWSA9IChzY2FsZSAqIChvcmlnaW5bMV0gLSB5KSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMV07XG4gICAgICAgIGlmIChyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5KSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRYID0gY2VpbCh0aWxlQ29vcmRYLCBERUNJTUFMUykgLSAxO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IGNlaWwodGlsZUNvb3JkWSwgREVDSU1BTFMpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpbGVDb29yZFggPSBmbG9vcih0aWxlQ29vcmRYLCBERUNJTUFMUyk7XG4gICAgICAgICAgICB0aWxlQ29vcmRZID0gZmxvb3IodGlsZUNvb3JkWSwgREVDSU1BTFMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVDb29yZCh6LCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZUNvb3JkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsdGhvdWdoIHRoZXJlIGlzIHJlcGV0aXRpb24gYmV0d2VlbiB0aGlzIG1ldGhvZCBhbmQgYGdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl9gLFxuICAgICAqIHRoZXkgc2hvdWxkIGhhdmUgc2VwYXJhdGUgaW1wbGVtZW50YXRpb25zLiAgVGhpcyBtZXRob2QgaXMgZm9yIGludGVnZXIgem9vbVxuICAgICAqIGxldmVscy4gIFRoZSBvdGhlciBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyBjb3JyZXNwb25kaW5nXG4gICAgICogdG8gbm9uLWludGVnZXIgem9vbSBsZXZlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggTWFwIHggY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBNYXAgeSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAgICAgKiAgICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICAgICAqICAgICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyA9IGZ1bmN0aW9uICh4LCB5LCB6LCByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5LCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih6KTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFggPSAoeCAtIG9yaWdpblswXSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMF07XG4gICAgICAgIHZhciB0aWxlQ29vcmRZID0gKG9yaWdpblsxXSAtIHkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzFdO1xuICAgICAgICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgICAgICAgICAgdGlsZUNvb3JkWCA9IGNlaWwodGlsZUNvb3JkWCwgREVDSU1BTFMpIC0gMTtcbiAgICAgICAgICAgIHRpbGVDb29yZFkgPSBjZWlsKHRpbGVDb29yZFksIERFQ0lNQUxTKSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRYID0gZmxvb3IodGlsZUNvb3JkWCwgREVDSU1BTFMpO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IGZsb29yKHRpbGVDb29yZFksIERFQ0lNQUxTKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQoeiwgdGlsZUNvb3JkWCwgdGlsZUNvb3JkWSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB0aWxlIGNvb3JkaW5hdGUgZ2l2ZW4gYSBtYXAgY29vcmRpbmF0ZSBhbmQgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gRGVzdGluYXRpb24gaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHosIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdLCB6LCBmYWxzZSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHJlc29sdXRpb24uXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZFJlc29sdXRpb24gPSBmdW5jdGlvbiAodGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t0aWxlQ29vcmRbMF1dO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIHNpemUgZm9yIGEgem9vbSBsZXZlbC4gVGhlIHR5cGUgb2YgdGhlIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZVxuICAgICAqIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgdGhhdCB0aGUgdGlsZSBncmlkIHdhcyBjb25maWd1cmVkIHdpdGguIFRvIGFsd2F5c1xuICAgICAqIGdldCBhbiBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplYCwgcnVuIHRoZSByZXN1bHQgdGhyb3VnaCBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplLnRvU2l6ZSgpYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVTaXplID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZVNpemVfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZV87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZXNfW3pdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBFeHRlbnQgdGlsZSByYW5nZSBmb3IgdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRGdWxsVGlsZVJhbmdlID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgaWYgKCF0aGlzLmZ1bGxUaWxlUmFuZ2VzXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50X1xuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRoaXMuZXh0ZW50XywgeilcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mdWxsVGlsZVJhbmdlc19bel07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbb3B0X2RpcmVjdGlvbl1cbiAgICAgKiAgICAgSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogICAgIElmIDEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIChsb3dlciBaKSB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGVcbiAgICAgKiAgICAgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uIChoaWdoZXIgWikgd2lsbCBiZSB1c2VkLiBEZWZhdWx0IGlzIDAuXG4gICAgICogICAgIFVzZSBhIHtAbGluayBtb2R1bGU6b2wvYXJyYXl+TmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBmb3IgbW9yZSBwcmVjaXNlIGNvbnRyb2wuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSB0byBjaGFuZ2UgdGlsZSBaIGF0IHRoZSBtaWRwb2ludCBvZiB6b29tIGxldmVsc1xuICAgICAqIGBgYGpzXG4gICAgICogZnVuY3Rpb24odmFsdWUsIGhpZ2gsIGxvdykge1xuICAgICAqICAgcmV0dXJuIHZhbHVlIC0gbG93ICogTWF0aC5zcXJ0KGhpZ2ggLyBsb3cpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFouXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRaRm9yUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBvcHRfZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciB6ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIG9wdF9kaXJlY3Rpb24gfHwgMCk7XG4gICAgICAgIHJldHVybiBjbGFtcCh6LCB0aGlzLm1pblpvb20sIHRoaXMubWF4Wm9vbSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5jYWxjdWxhdGVUaWxlUmFuZ2VzXyA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aDtcbiAgICAgICAgdmFyIGZ1bGxUaWxlUmFuZ2VzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIHogPSB0aGlzLm1pblpvb207IHogPCBsZW5ndGg7ICsreikge1xuICAgICAgICAgICAgZnVsbFRpbGVSYW5nZXNbel0gPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IGZ1bGxUaWxlUmFuZ2VzO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVHcmlkO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVHcmlkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUdyaWQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkXG4gKi9cbmltcG9ydCBDb3JuZXIgZnJvbSAnLi9leHRlbnQvQ29ybmVyLmpzJztcbmltcG9ydCBUaWxlR3JpZCBmcm9tICcuL3RpbGVncmlkL1RpbGVHcmlkLmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuL3Byb2ovVW5pdHMuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9NQVhfWk9PTSwgREVGQVVMVF9USUxFX1NJWkUgfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBNRVRFUlNfUEVSX1VOSVQsIGdldCBhcyBnZXRQcm9qZWN0aW9uIH0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zQ29vcmRpbmF0ZSwgY3JlYXRlT3JVcGRhdGUsIGdldENvcm5lciwgZ2V0SGVpZ2h0LCBnZXRXaWR0aCwgfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyB0b1NpemUgfSBmcm9tICcuL3NpemUuanMnO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gRGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZVxuICogcGFzc2VkIHByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGlsZUdyaWQgPSBwcm9qZWN0aW9uLmdldERlZmF1bHRUaWxlR3JpZCgpO1xuICAgIGlmICghdGlsZUdyaWQpIHtcbiAgICAgICAgdGlsZUdyaWQgPSBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBwcm9qZWN0aW9uLnNldERlZmF1bHRUaWxlR3JpZCh0aWxlR3JpZCk7XG4gICAgfVxuICAgIHJldHVybiB0aWxlR3JpZDtcbn1cbi8qKlxuICogQHBhcmFtIHtUaWxlR3JpZH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbikge1xuICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgIHZhciBjZW50ZXIgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDZW50ZXIodGlsZUNvb3JkKTtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKHByb2plY3Rpb25FeHRlbnQsIGNlbnRlcikpIHtcbiAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBNYXRoLmNlaWwoKHByb2plY3Rpb25FeHRlbnRbMF0gLSBjZW50ZXJbMF0pIC8gd29ybGRXaWR0aCk7XG4gICAgICAgIGNlbnRlclswXSArPSB3b3JsZFdpZHRoICogd29ybGRzQXdheTtcbiAgICAgICAgcmV0dXJuIHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihjZW50ZXIsIHopO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRpbGVDb29yZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW29wdF90aWxlU2l6ZV0gVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50L0Nvcm5lci5qc1wiKS5kZWZhdWx0fSBbb3B0X2Nvcm5lcl0gRXh0ZW50IGNvcm5lciAoZGVmYXVsdCBpcyBgJ3RvcC1sZWZ0J2ApLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBUaWxlR3JpZCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpIHtcbiAgICB2YXIgY29ybmVyID0gb3B0X2Nvcm5lciAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvcm5lciA6IENvcm5lci5UT1BfTEVGVDtcbiAgICB2YXIgcmVzb2x1dGlvbnMgPSByZXNvbHV0aW9uc0Zyb21FeHRlbnQoZXh0ZW50LCBvcHRfbWF4Wm9vbSwgb3B0X3RpbGVTaXplKTtcbiAgICByZXR1cm4gbmV3IFRpbGVHcmlkKHtcbiAgICAgICAgZXh0ZW50OiBleHRlbnQsXG4gICAgICAgIG9yaWdpbjogZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSxcbiAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zLFxuICAgICAgICB0aWxlU2l6ZTogb3B0X3RpbGVTaXplLFxuICAgIH0pO1xufVxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBYWVpPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50IGZvciB0aGUgdGlsZSBncmlkLiBUaGUgb3JpZ2luIGZvciBhbiBYWVogdGlsZSBncmlkIGlzIHRoZVxuICogdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBleHRlbnQuIElmIGBtYXhSZXNvbHV0aW9uYCBpcyBub3QgcHJvdmlkZWQgdGhlIHplcm8gbGV2ZWwgb2YgdGhlIGdyaWQgaXMgZGVmaW5lZCBieSB0aGUgcmVzb2x1dGlvblxuICogYXQgd2hpY2ggb25lIHRpbGUgZml0cyBpbiB0aGUgcHJvdmlkZWQgZXh0ZW50LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBleHRlbnQgb2YgdGhlIEVQU0c6Mzg1NyBwcm9qZWN0aW9uIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tLiBUaGUgZGVmYXVsdCBpcyBgNDJgLiBUaGlzIGRldGVybWluZXMgdGhlIG51bWJlciBvZiBsZXZlbHNcbiAqIGluIHRoZSBncmlkIHNldC4gRm9yIGV4YW1wbGUsIGEgYG1heFpvb21gIG9mIDIxIG1lYW5zIHRoZXJlIGFyZSAyMiBsZXZlbHMgaW4gdGhlIGdyaWQgc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9WzI1NiwgMjU2XV0gVGlsZSBzaXplIGluIHBpeGVscy5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdGlsZSBncmlkIHdpdGggYSBzdGFuZGFyZCBYWVogdGlsaW5nIHNjaGVtZS5cbiAqIEBwYXJhbSB7WFlaT3B0aW9uc30gW29wdF9vcHRpb25zXSBUaWxlIGdyaWQgb3B0aW9ucy5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZSBncmlkIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWFlaKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIHh5ek9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZXh0ZW50ID0geHl6T3B0aW9ucy5leHRlbnQgfHwgZ2V0UHJvamVjdGlvbignRVBTRzozODU3JykuZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGdyaWRPcHRpb25zID0ge1xuICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgbWluWm9vbTogeHl6T3B0aW9ucy5taW5ab29tLFxuICAgICAgICB0aWxlU2l6ZTogeHl6T3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIHh5ek9wdGlvbnMubWF4Wm9vbSwgeHl6T3B0aW9ucy50aWxlU2l6ZSwgeHl6T3B0aW9ucy5tYXhSZXNvbHV0aW9uKSxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgVGlsZUdyaWQoZ3JpZE9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZXNvbHV0aW9ucyBhcnJheSBmcm9tIGFuIGV4dGVudC4gIEEgem9vbSBmYWN0b3Igb2YgMiBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9tYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbb3B0X3RpbGVTaXplXSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21heFJlc29sdXRpb25dIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEByZXR1cm4geyFBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSwgb3B0X21heFJlc29sdXRpb24pIHtcbiAgICB2YXIgbWF4Wm9vbSA9IG9wdF9tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRfbWF4Wm9vbSA6IERFRkFVTFRfTUFYX1pPT007XG4gICAgdmFyIGhlaWdodCA9IGdldEhlaWdodChleHRlbnQpO1xuICAgIHZhciB3aWR0aCA9IGdldFdpZHRoKGV4dGVudCk7XG4gICAgdmFyIHRpbGVTaXplID0gdG9TaXplKG9wdF90aWxlU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0X3RpbGVTaXplIDogREVGQVVMVF9USUxFX1NJWkUpO1xuICAgIHZhciBtYXhSZXNvbHV0aW9uID0gb3B0X21heFJlc29sdXRpb24gPiAwXG4gICAgICAgID8gb3B0X21heFJlc29sdXRpb25cbiAgICAgICAgOiBNYXRoLm1heCh3aWR0aCAvIHRpbGVTaXplWzBdLCBoZWlnaHQgLyB0aWxlU2l6ZVsxXSk7XG4gICAgdmFyIGxlbmd0aCA9IG1heFpvb20gKyAxO1xuICAgIHZhciByZXNvbHV0aW9ucyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIHogPSAwOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgICAgcmVzb2x1dGlvbnNbel0gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coMiwgeik7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHV0aW9ucztcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtvcHRfdGlsZVNpemVdIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC9Db3JuZXIuanNcIikuZGVmYXVsdH0gW29wdF9jb3JuZXJdIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24sIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpIHtcbiAgICB2YXIgZXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgcmV0dXJuIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRpbGUgZ3JpZCBleHRlbnQgZnJvbSBhIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBoYXMgYW5cbiAqIGV4dGVudCwgaXQgaXMgdXNlZC4gIElmIG5vdCwgYSBnbG9iYWwgZXh0ZW50IGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgdmFyIGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgdmFyIGhhbGYgPSAoMTgwICogTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdKSAvIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZSgtaGFsZiwgLWhhbGYsIGhhbGYsIGhhbGYpO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZWdyaWQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZVxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgZXF1aXZhbGVudCB9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0S2V5WlhZLCB3aXRoaW5FeHRlbnRBbmRaIH0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7IGdldEZvclByb2plY3Rpb24gYXMgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uLCB3cmFwWCwgfSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQgeyBzY2FsZSBhcyBzY2FsZVNpemUsIHRvU2l6ZSB9IGZyb20gJy4uL3NpemUuanMnO1xuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vVGlsZUV2ZW50VHlwZVwiKS5UaWxlU291cmNlRXZlbnRUeXBlcywgVGlsZVNvdXJjZUV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9UaWxlRXZlbnRUeXBlXCIpLlRpbGVTb3VyY2VFdmVudFR5cGVzLCBSZXR1cm4+fSBUaWxlU291cmNlT25TaWduYXR1cmVcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBDYWNoZVNpemUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dIFRpbGVQaXhlbFJhdGlvLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGVdIFN0YXRlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGVHcmlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgaW1hZ2VzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZC5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG52YXIgVGlsZVNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgU291cmNlVGlsZSBzb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlU291cmNlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtUaWxlU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbjtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9wYXF1ZV8gPSBvcHRpb25zLm9wYXF1ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFxdWUgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlUGl4ZWxSYXRpb18gPVxuICAgICAgICAgICAgb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6IG51bGw7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IFsyNTYsIDI1Nl07XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IG9wdGlvbnMudGlsZUdyaWQ7XG4gICAgICAgIGlmICh0aWxlR3JpZCkge1xuICAgICAgICAgICAgdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHRpbGVHcmlkLmdldE1pblpvb20oKSksIHRpbGVTaXplKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2FjaGUgPSBuZXcgVGlsZUNhY2hlKG9wdGlvbnMuY2FjaGVTaXplIHx8IDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wU2l6ZSA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5rZXlfID0gb3B0aW9ucy5rZXkgfHwgJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLk9wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogekRpcmVjdGlvbiBoaW50LCByZWFkIGJ5IHRoZSByZW5kZXJlci4gSW5kaWNhdGVzIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICogYnkgYSByZW5kZXJlciBpZiB0aGUgdmlld3MgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICAgICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAgICAgICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy56RGlyZWN0aW9uID0gb3B0aW9ucy56RGlyZWN0aW9uID8gb3B0aW9ucy56RGlyZWN0aW9uIDogMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiAocHJvamVjdGlvbiwgdXNlZFRpbGVzKSB7XG4gICAgICAgIHZhciB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aWxlQ2FjaGUpIHtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh1c2VkVGlsZXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogWm9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk6KGJvb2xlYW58dm9pZCl9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2hcbiAgICAgKiAgICAgbG9hZGVkIHRpbGUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgLCB0aGUgdGlsZSB3aWxsIG5vdCBiZVxuICAgICAqICAgICBjb25zaWRlcmVkIGxvYWRlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBjb3ZlcmVkIHdpdGggbG9hZGVkIHRpbGVzLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmZvckVhY2hMb2FkZWRUaWxlID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHosIHRpbGVSYW5nZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0aWxlQ2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY292ZXJlZCA9IHRydWU7XG4gICAgICAgIHZhciB0aWxlLCB0aWxlQ29vcmRLZXksIGxvYWRlZDtcbiAgICAgICAgZm9yICh2YXIgeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgICAgICAgICAgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgICAgICAgICAgICAgIGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkID0gdGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuTE9BREVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQgPSBjYWxsYmFjayh0aWxlKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY292ZXJlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGtleSB0byBiZSB1c2VkIGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIGFsbCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIHRvIGJlIHVzZWQgYXMgdGhlIGtleSBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aWxlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuc2V0S2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodGhpcy5rZXlfICE9PSBrZXkpIHtcbiAgICAgICAgICAgIHRoaXMua2V5XyA9IGtleTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gT3BhcXVlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldE9wYXF1ZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYXF1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBncmlkIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGlsZSBncmlkLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy50aWxlR3JpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9IFRpbGUgY2FjaGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBhc3NlcnQoZXF1aXZhbGVudCh0aGlzLmdldFByb2plY3Rpb24oKSwgcHJvamVjdGlvbiksIDY4IC8vIEEgVmVjdG9yVGlsZSBzb3VyY2UgY2FuIG9ubHkgYmUgcmVuZGVyZWQgaWYgaXQgaGFzIGEgcHJvamVjdGlvbiBjb21wYXRpYmxlIHdpdGggdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIHBpeGVsIHJhdGlvIGZvciB0aGlzIHNvdXJjZS4gU3ViY2xhc3NlcyBtYXkgb3ZlcnJpZGUgdGhpc1xuICAgICAqIG1ldGhvZCwgd2hpY2ggaXMgbWVhbnQgdG8gcmV0dXJuIGEgc3VwcG9ydGVkIHBpeGVsIHJhdGlvIHRoYXQgbWF0Y2hlcyB0aGVcbiAgICAgKiBwcm92aWRlZCBgcGl4ZWxSYXRpb2AgYXMgY2xvc2UgYXMgcG9zc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW9fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBUaWxlIHNpemUuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVBpeGVsU2l6ZSA9IGZ1bmN0aW9uICh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgdGlsZVBpeGVsUmF0aW8gPSB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgICAgIGlmICh0aWxlUGl4ZWxSYXRpbyA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2NhbGVTaXplKHRpbGVTaXplLCB0aWxlUGl4ZWxSYXRpbywgdGhpcy50bXBTaXplKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRpbGUgY29vcmRpbmF0ZSB3cmFwcGVkIGFyb3VuZCB0aGUgeC1heGlzLiBXaGVuIHRoZSB0aWxlIGNvb3JkaW5hdGVcbiAgICAgKiBpcyBvdXRzaWRlIHRoZSByZXNvbHV0aW9uIGFuZCBleHRlbnQgcmFuZ2Ugb2YgdGhlIHRpbGUgZ3JpZCwgYG51bGxgIHdpbGwgYmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gW29wdF9wcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZSB0byBiZSBwYXNzZWQgdG8gdGhlIHRpbGVVcmxGdW5jdGlvbiBvclxuICAgICAqICAgICBudWxsIGlmIG5vIHRpbGUgVVJMIHNob3VsZCBiZSBjcmVhdGVkIGZvciB0aGUgcGFzc2VkIGB0aWxlQ29vcmRgLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIG9wdF9wcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy5nZXRXcmFwWCgpICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgICAgICAgdGlsZUNvb3JkID0gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkgPyB0aWxlQ29vcmQgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBjYWNoZWQgdGlsZXMgZnJvbSB0aGUgc291cmNlLiBUaGUgbmV4dCByZW5kZXIgY3ljbGUgd2lsbCBmZXRjaCBuZXcgdGlsZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgIH07XG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlZnJlc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluY3JlYXNlcyB0aGUgY2FjaGUgc2l6ZSBpZiBuZWVkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGlsZUNvdW50IE1pbmltdW0gbnVtYmVyIG9mIHRpbGVzIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUudXBkYXRlQ2FjaGVTaXplID0gZnVuY3Rpb24gKHRpbGVDb3VudCwgcHJvamVjdGlvbikge1xuICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBpZiAodGlsZUNvdW50ID4gdGlsZUNhY2hlLmhpZ2hXYXRlck1hcmspIHtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrID0gdGlsZUNvdW50O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHRpbGUgY29vcmQgYXMgYmVpbmcgdXNlZCwgd2l0aG91dCB0cmlnZ2VyaW5nIGEgbG9hZC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUudXNlVGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5LCBwcm9qZWN0aW9uKSB7IH07XG4gICAgcmV0dXJuIFRpbGVTb3VyY2U7XG59KFNvdXJjZSkpO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlflRpbGVTb3VyY2V9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKi9cbnZhciBUaWxlU291cmNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVTb3VyY2VFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRoZSB0aWxlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGVTb3VyY2VFdmVudCh0eXBlLCB0aWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGlsZSByZWxhdGVkIHRvIHRoZSBldmVudC5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFRpbGVTb3VyY2VFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IFRpbGVTb3VyY2VFdmVudCB9O1xuZXhwb3J0IGRlZmF1bHQgVGlsZVNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGV1cmxmdW5jdGlvblxuICovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgbW9kdWxvIH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7IGhhc2ggYXMgdGlsZUNvb3JkSGFzaCB9IGZyb20gJy4vdGlsZWNvb3JkLmpzJztcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIFRlbXBsYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHRpbGVHcmlkKSB7XG4gICAgdmFyIHpSZWdFeCA9IC9cXHt6XFx9L2c7XG4gICAgdmFyIHhSZWdFeCA9IC9cXHt4XFx9L2c7XG4gICAgdmFyIHlSZWdFeCA9IC9cXHt5XFx9L2c7XG4gICAgdmFyIGRhc2hZUmVnRXggPSAvXFx7LXlcXH0vZztcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAucmVwbGFjZSh6UmVnRXgsIHRpbGVDb29yZFswXS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKHhSZWdFeCwgdGlsZUNvb3JkWzFdLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoeVJlZ0V4LCB0aWxlQ29vcmRbMl0udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZShkYXNoWVJlZ0V4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGlsZUdyaWQuZ2V0RnVsbFRpbGVSYW5nZSh6KTtcbiAgICAgICAgICAgICAgICBhc3NlcnQocmFuZ2UsIDU1KTsgLy8gVGhlIHsteX0gcGxhY2Vob2xkZXIgcmVxdWlyZXMgYSB0aWxlIGdyaWQgd2l0aCBleHRlbnRcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHJhbmdlLmdldEhlaWdodCgpIC0gdGlsZUNvb3JkWzJdIC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4geS50b1N0cmluZygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB0ZW1wbGF0ZXMgVGVtcGxhdGVzLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGVzKHRlbXBsYXRlcywgdGlsZUdyaWQpIHtcbiAgICB2YXIgbGVuID0gdGVtcGxhdGVzLmxlbmd0aDtcbiAgICB2YXIgdGlsZVVybEZ1bmN0aW9ucyA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdGlsZVVybEZ1bmN0aW9uc1tpXSA9IGNyZWF0ZUZyb21UZW1wbGF0ZSh0ZW1wbGF0ZXNbaV0sIHRpbGVHcmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHRpbGVVcmxGdW5jdGlvbnMpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbj59IHRpbGVVcmxGdW5jdGlvbnMgVGlsZSBVUkwgRnVuY3Rpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHRpbGVVcmxGdW5jdGlvbnMpIHtcbiAgICBpZiAodGlsZVVybEZ1bmN0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRpbGVVcmxGdW5jdGlvbnNbMF07XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBoID0gdGlsZUNvb3JkSGFzaCh0aWxlQ29vcmQpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbW9kdWxvKGgsIHRpbGVVcmxGdW5jdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zW2luZGV4XSh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEFycmF5IG9mIHVybHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRVcmwodXJsKSB7XG4gICAgdmFyIHVybHMgPSBbXTtcbiAgICB2YXIgbWF0Y2ggPSAvXFx7KFthLXpdKS0oW2Etel0pXFx9Ly5leGVjKHVybCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIC8vIGNoYXIgcmFuZ2VcbiAgICAgICAgdmFyIHN0YXJ0Q2hhckNvZGUgPSBtYXRjaFsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgc3RvcENoYXJDb2RlID0gbWF0Y2hbMl0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgdmFyIGNoYXJDb2RlID0gdm9pZCAwO1xuICAgICAgICBmb3IgKGNoYXJDb2RlID0gc3RhcnRDaGFyQ29kZTsgY2hhckNvZGUgPD0gc3RvcENoYXJDb2RlOyArK2NoYXJDb2RlKSB7XG4gICAgICAgICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybHM7XG4gICAgfVxuICAgIG1hdGNoID0gL1xceyhcXGQrKS0oXFxkKylcXH0vLmV4ZWModXJsKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgLy8gbnVtYmVyIHJhbmdlXG4gICAgICAgIHZhciBzdG9wXzEgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgICAgICBmb3IgKHZhciBpID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTsgaSA8PSBzdG9wXzE7IGkrKykge1xuICAgICAgICAgICAgdXJscy5wdXNoKHVybC5yZXBsYWNlKG1hdGNoWzBdLCBpLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJscztcbiAgICB9XG4gICAgdXJscy5wdXNoKHVybCk7XG4gICAgcmV0dXJuIHVybHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWxldXJsZnVuY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVXJsVGlsZVxuICovXG5pbXBvcnQgVGlsZUV2ZW50VHlwZSBmcm9tICcuL1RpbGVFdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGVTb3VyY2UsIHsgVGlsZVNvdXJjZUV2ZW50IH0gZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyb21UZW1wbGF0ZXMsIGV4cGFuZFVybCB9IGZyb20gJy4uL3RpbGV1cmxmdW5jdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRLZXlaWFkgfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIENhY2hlIHNpemUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlR3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb24gVGlsZUxvYWRGdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dIFRpbGVQaXhlbFJhdGlvLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBUaWxlVXJsRnVuY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVXJsLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gVXJscy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgdGlsZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkIG92ZXIgaHR0cC5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9UaWxlLmpzXCIpLlRpbGVTb3VyY2VFdmVudFxuICovXG52YXIgVXJsVGlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVXJsVGlsZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgSW1hZ2UgdGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVybFRpbGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgICAgICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8gPVxuICAgICAgICAgICAgX3RoaXMudGlsZVVybEZ1bmN0aW9uID09PSBVcmxUaWxlLnByb3RvdHlwZS50aWxlVXJsRnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkRnVuY3Rpb24gPSBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb247XG4gICAgICAgIGlmIChvcHRpb25zLnRpbGVVcmxGdW5jdGlvbikge1xuICAgICAgICAgICAgX3RoaXMudGlsZVVybEZ1bmN0aW9uID0gb3B0aW9ucy50aWxlVXJsRnVuY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmxzID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMudXJscykge1xuICAgICAgICAgICAgX3RoaXMuc2V0VXJscyhvcHRpb25zLnVybHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRVcmwob3B0aW9ucy51cmwpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUxvYWRpbmdLZXlzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFRpbGVMb2FkRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUxvYWRGdW5jdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlVXJsRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLnRpbGVVcmxGdW5jdGlvbiA9PT0gdGhpcy50aWxlVXJsRnVuY3Rpb25cbiAgICAgICAgICAgID8gdGhpcy50aWxlVXJsRnVuY3Rpb24uYmluZCh0aGlzKVxuICAgICAgICAgICAgOiB0aGlzLnRpbGVVcmxGdW5jdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgVVJMcyB1c2VkIGZvciB0aGlzIHNvdXJjZS5cbiAgICAgKiBXaGVuIGEgdGlsZVVybEZ1bmN0aW9uIGlzIHVzZWQgaW5zdGVhZCBvZiB1cmwgb3IgdXJscyxcbiAgICAgKiBudWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz58bnVsbH0gVVJMcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VXJscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJscztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWxlIGNoYW5nZSBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGlsZSk7XG4gICAgICAgIHZhciB0aWxlU3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgIHZhciB0eXBlO1xuICAgICAgICBpZiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXSA9IHRydWU7XG4gICAgICAgICAgICB0eXBlID0gVGlsZUV2ZW50VHlwZS5USUxFTE9BRFNUQVJUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVpZCBpbiB0aGlzLnRpbGVMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXTtcbiAgICAgICAgICAgIHR5cGUgPVxuICAgICAgICAgICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICAgICAgICAgICAgPyBUaWxlRXZlbnRUeXBlLlRJTEVMT0FERVJST1JcbiAgICAgICAgICAgICAgICAgICAgOiB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBUaWxlRXZlbnRUeXBlLlRJTEVMT0FERU5EXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVGlsZVNvdXJjZUV2ZW50KHR5cGUsIHRpbGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbiA9IHRpbGVMb2FkRnVuY3Rpb247XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aWxlIFVSTCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gdGlsZVVybEZ1bmN0aW9uIFRpbGUgVVJMIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBPcHRpb25hbCBuZXcgdGlsZSBrZXkgZm9yIHRoZSBzb3VyY2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlVXJsRnVuY3Rpb24sIGtleSkge1xuICAgICAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IHRpbGVVcmxGdW5jdGlvbjtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUucHJ1bmVFeGNlcHROZXdlc3RaKCk7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zZXRLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciB1cmxzID0gZXhwYW5kVXJsKHVybCk7XG4gICAgICAgIHRoaXMudXJscyA9IHVybHM7XG4gICAgICAgIHRoaXMuc2V0VXJscyh1cmxzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVVJMcyB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdXJscyBVUkxzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmxzID0gZnVuY3Rpb24gKHVybHMpIHtcbiAgICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgICAgdmFyIGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlVGlsZVVybEZ1bmN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5zZXRUaWxlVXJsRnVuY3Rpb24oY3JlYXRlRnJvbVRlbXBsYXRlcyh1cmxzLCB0aGlzLnRpbGVHcmlkKSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUudGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUudXNlVGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5KSB7XG4gICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFVybFRpbGU7XG59KFRpbGVTb3VyY2UpKTtcbmV4cG9ydCBkZWZhdWx0IFVybFRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VcmxUaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgc3RhcnRzIGxvYWRpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVGlsZS5UaWxlU291cmNlRXZlbnQjdGlsZWxvYWRzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFTE9BRFNUQVJUOiAndGlsZWxvYWRzdGFydCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSB0aWxlIGZpbmlzaGVzIGxvYWRpbmcsIGVpdGhlciB3aGVuIGl0cyBkYXRhIGlzIGxvYWRlZCxcbiAgICAgKiBvciB3aGVuIGxvYWRpbmcgd2FzIGFib3J0ZWQgYmVjYXVzZSB0aGUgdGlsZSBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZW5kXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FERU5EOiAndGlsZWxvYWRlbmQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBpZiB0aWxlIGxvYWRpbmcgcmVzdWx0cyBpbiBhbiBlcnJvci5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVycm9yXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FERVJST1I6ICd0aWxlbG9hZGVycm9yJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHsndGlsZWxvYWRzdGFydCd8J3RpbGVsb2FkZW5kJ3wndGlsZWxvYWRlcnJvcid9IFRpbGVTb3VyY2VFdmVudFR5cGVzXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVFdmVudFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUltYWdlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VUaWxlIGZyb20gJy4uL0ltYWdlVGlsZS5qcyc7XG5pbXBvcnQgUmVwcm9qVGlsZSBmcm9tICcuLi9yZXByb2ovVGlsZS5qcyc7XG5pbXBvcnQgVGlsZUNhY2hlIGZyb20gJy4uL1RpbGVDYWNoZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVXJsVGlsZSBmcm9tICcuL1VybFRpbGUuanMnO1xuaW1wb3J0IHsgRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfSBmcm9tICcuLi9yZXByb2ovY29tbW9uLmpzJztcbmltcG9ydCB7IGVxdWl2YWxlbnQsIGdldCBhcyBnZXRQcm9qZWN0aW9uIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRLZXksIGdldEtleVpYWSB9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQgeyBnZXRGb3JQcm9qZWN0aW9uIGFzIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiB9IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW1hZ2VTbW9vdGhpbmc9dHJ1ZV0gRGVwcmVjYXRlZC4gIFVzZSB0aGUgYGludGVycG9sYXRlYCBvcHRpb24gaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPXRydWVdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiBsaW5lYXIgaW50ZXJwb2xhdGlvbiBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy4gIFNldCB0byBmYWxzZSB0byB1c2UgdGhlIG5lYXJlc3QgbmVpZ2hib3IgaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gQ2xhc3MgdXNlZCB0byBpbnN0YW50aWF0ZSBpbWFnZSB0aWxlcy5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpbz0xXSBUaGUgcGl4ZWwgcmF0aW8gdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIHRpbGVcbiAqIHNlcnZpY2UgYWR2ZXJ0aXplcyAyNTZweCBieSAyNTZweCB0aWxlcyBidXQgYWN0dWFsbHkgc2VuZHMgNTEycHhcbiAqIGJ5IDUxMnB4IGltYWdlcyAoZm9yIHJldGluYS9oaWRwaSBkZXZpY2VzKSB0aGVuIGB0aWxlUGl4ZWxSYXRpb2BcbiAqIHNob3VsZCBiZSBzZXQgdG8gYDJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBnZXQgdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmVcbiAqIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS4gVGhlIGRlZmF1bHQsIGlzIHRvXG4gKiByZXF1ZXN0IG91dC1vZi1ib3VuZHMgdGlsZXMgZnJvbSB0aGUgc2VydmVyLiBXaGVuIHNldCB0byBgZmFsc2VgLCBvbmx5IG9uZVxuICogd29ybGQgd2lsbCBiZSByZW5kZXJlZC4gV2hlbiBzZXQgdG8gYHRydWVgLCB0aWxlcyB3aWxsIGJlIHJlcXVlc3RlZCBmb3Igb25lXG4gKiB3b3JsZCBvbmx5LCBidXQgdGhleSB3aWxsIGJlIHdyYXBwZWQgaG9yaXpvbnRhbGx5IHRvIHJlbmRlciBtdWx0aXBsZSB3b3JsZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gT3B0aW9uYWwgdGlsZSBrZXkgZm9yIHByb3BlciBjYWNoZSBmZXRjaGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbekRpcmVjdGlvbj0wXVxuICogQ2hvb3NlIHdoZXRoZXIgdG8gdXNlIHRpbGVzIHdpdGggYSBoaWdoZXIgb3IgbG93ZXIgem9vbSBsZXZlbCB3aGVuIGJldHdlZW4gaW50ZWdlclxuICogem9vbSBsZXZlbHMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlSW1hZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVJbWFnZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPcHRpb25zfSBvcHRpb25zIEltYWdlIHRpbGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlSW1hZ2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlU21vb3RoaW5nIDogdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgICAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgdGlsZVVybEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbixcbiAgICAgICAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICAgICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgICAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jcm9zc09yaWdpbiA9XG4gICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzT3JpZ2luIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge3R5cGVvZiBJbWFnZVRpbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2xhc3MgPVxuICAgICAgICAgICAgb3B0aW9ucy50aWxlQ2xhc3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZUNsYXNzIDogSW1hZ2VUaWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIFRpbGVDYWNoZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfID0gb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2tleV0uY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmV4cGlyZUNhY2hlLmNhbGwodGhpcywgcHJvamVjdGlvbiwgdXNlZFRpbGVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlZFRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGhpcy50aWxlQ2FjaGUgPT0gdXNlZFRpbGVDYWNoZSA/IHVzZWRUaWxlcyA6IHt9KTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXTtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh0aWxlQ2FjaGUgPT0gdXNlZFRpbGVDYWNoZSA/IHVzZWRUaWxlcyA6IHt9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiAmJlxuICAgICAgICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgICAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHdXR0ZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRHdXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBrZXkgdG8gYmUgdXNlZCBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUga2V5IGZvciBhbGwgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXkgPSBfc3VwZXIucHJvdG90eXBlLmdldEtleS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoIXRoaXMuZ2V0SW50ZXJwb2xhdGUoKSkge1xuICAgICAgICAgICAga2V5ICs9ICc6ZGlzYWJsZS1pbnRlcnBvbGF0aW9uJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IE9wYXF1ZS5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldE9wYXF1ZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiAmJlxuICAgICAgICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgICAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0T3BhcXVlLmNhbGwodGhpcywgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGlsZSBncmlkLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uLmNhbGwodGhpcywgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLnRpbGVHcmlkICYmICghdGhpc1Byb2ogfHwgZXF1aXZhbGVudCh0aGlzUHJvaiwgcHJvamVjdGlvbikpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm9qS2V5ID0gZ2V0VWlkKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fSBUaWxlIGNhY2hlLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24uY2FsbCh0aGlzLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc1Byb2ogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb2pLZXkgPSBnZXRVaWQocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25bcHJvaktleV0gPSBuZXcgVGlsZUNhY2hlKHRoaXMudGlsZUNhY2hlLmhpZ2hXYXRlck1hcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltwcm9qS2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBzZXQgb24gdGhlIHRpbGUuXG4gICAgICogQHJldHVybiB7IUltYWdlVGlsZX0gVGlsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuY3JlYXRlVGlsZV8gPSBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KSB7XG4gICAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICAgIHZhciB1cmxUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgdGlsZVVybCA9IHVybFRpbGVDb29yZFxuICAgICAgICAgICAgPyB0aGlzLnRpbGVVcmxGdW5jdGlvbih1cmxUaWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHRpbGUgPSBuZXcgdGhpcy50aWxlQ2xhc3ModGlsZUNvb3JkLCB0aWxlVXJsICE9PSB1bmRlZmluZWQgPyBUaWxlU3RhdGUuSURMRSA6IFRpbGVTdGF0ZS5FTVBUWSwgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gdGlsZVVybCA6ICcnLCB0aGlzLmNyb3NzT3JpZ2luLCB0aGlzLnRpbGVMb2FkRnVuY3Rpb24sIHRoaXMudGlsZU9wdGlvbnMpO1xuICAgICAgICB0aWxlLmtleSA9IGtleTtcbiAgICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVGlsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7IShJbWFnZVRpbGV8UmVwcm9qVGlsZSl9IFRpbGUuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiB8fFxuICAgICAgICAgICAgIXNvdXJjZVByb2plY3Rpb24gfHxcbiAgICAgICAgICAgICFwcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICBlcXVpdmFsZW50KHNvdXJjZVByb2plY3Rpb24sIHByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbiB8fCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICAgICAgICB2YXIgdGlsZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXkodGlsZUNvb3JkKTtcbiAgICAgICAgICAgIGlmIChjYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICAgICAgdGlsZSA9IGNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmtleSA9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkVGlsZUNvb3JkID0gdGhpcy5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VGlsZSA9IG5ldyBSZXByb2pUaWxlKHNvdXJjZVByb2plY3Rpb24sIHNvdXJjZVRpbGVHcmlkLCBwcm9qZWN0aW9uLCB0YXJnZXRUaWxlR3JpZCwgdGlsZUNvb3JkLCB3cmFwcGVkVGlsZUNvb3JkLCB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pLCB0aGlzLmdldEd1dHRlcigpLCBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXywgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18sIHRoaXMuZ2V0SW50ZXJwb2xhdGUoKSk7XG4gICAgICAgICAgICAgICAgbmV3VGlsZS5rZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgICAgICAgICAgICAgIG5ld1RpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgbmV3VGlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zZXQodGlsZUNvb3JkS2V5LCBuZXdUaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1RpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7IWltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7IShJbWFnZVRpbGV8UmVwcm9qVGlsZSl9IFRpbGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUludGVybmFsID0gZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHRpbGUgPSBudWxsO1xuICAgICAgICB2YXIgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICAgICAgaWYgKCF0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuICAgICAgICAgICAgdGhpcy50aWxlQ2FjaGUuc2V0KHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlID0gdGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgICAgICAgICBpZiAodGlsZS5rZXkgIT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHNvdXJjZSdzIHBhcmFtcyBjaGFuZ2VkLiBJZiB0aGUgdGlsZSBoYXMgYW4gaW50ZXJpbSB0aWxlIGFuZCBpZiB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiB1c2UgaXQgdGhlbiB3ZSB1c2UgaXQuIE90aGVyd2lzZSB3ZSBjcmVhdGUgYSBuZXcgdGlsZS4gIEluIGJvdGhcbiAgICAgICAgICAgICAgICAvLyBjYXNlcyB3ZSBhdHRlbXB0IHRvIGFzc2lnbiBhbiBpbnRlcmltIHRpbGUgdG8gdGhlIG5ldyB0aWxlLlxuICAgICAgICAgICAgICAgIHZhciBpbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuY3JlYXRlVGlsZV8oeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KTtcbiAgICAgICAgICAgICAgICAvL21ha2UgdGhlIG5ldyB0aWxlIHRoZSBoZWFkIG9mIHRoZSBsaXN0LFxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmltVGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIG9sZCB0aWxlIGhhc24ndCBiZWd1biBsb2FkaW5nIHlldCwgYW5kIGlzIG5vdyBvdXRkYXRlZCwgc28gd2UgY2FuIHNpbXBseSBkaXNjYXJkIGl0XG4gICAgICAgICAgICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBpbnRlcmltVGlsZS5pbnRlcmltVGlsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBpbnRlcmltVGlsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGlsZS5yZWZyZXNoSW50ZXJpbUNoYWluKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlQ2FjaGUucmVwbGFjZSh0aWxlQ29vcmRLZXksIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIHJlbmRlciByZXByb2plY3Rpb24gZWRnZXMgb3Igbm90ICh1c3VhbGx5IGZvciBkZWJ1Z2dpbmcpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVuZGVyIFJlbmRlciB0aGUgZWRnZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXMgPSBmdW5jdGlvbiAocmVuZGVyKSB7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfHxcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID09IHJlbmRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID0gcmVuZGVyO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRpbGUgZ3JpZCB0byB1c2Ugd2hlbiByZXByb2plY3RpbmcgdGhlIHRpbGVzIHRvIHRoZSBnaXZlblxuICAgICAqIHByb2plY3Rpb24gaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gdGhlIGRlZmF1bHQgdGlsZSBncmlkIGNhbm5vdCBiZSBjcmVhdGVkXG4gICAgICogKGUuZy4gcHJvamVjdGlvbiBoYXMgbm8gZXh0ZW50IGRlZmluZWQpIG9yXG4gICAgICogZm9yIG9wdGltaXphdGlvbiByZWFzb25zIChjdXN0b20gdGlsZSBzaXplLCByZXNvbHV0aW9ucywgLi4uKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZWdyaWQgVGlsZSBncmlkIHRvIHVzZSBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuc2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHRpbGVncmlkKSB7XG4gICAgICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgdmFyIHByb2ogPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHByb2opIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvaktleSA9IGdldFVpZChwcm9qKTtcbiAgICAgICAgICAgICAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9IHRpbGVncmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpbGVJbWFnZTtcbn0oVXJsVGlsZSkpO1xuLyoqXG4gKiBAcGFyYW0ge0ltYWdlVGlsZX0gaW1hZ2VUaWxlIEltYWdlIHRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFRpbGVMb2FkRnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAgICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKGltYWdlVGlsZS5nZXRJbWFnZSgpKS5zcmMgPVxuICAgICAgICBzcmM7XG59XG5leHBvcnQgZGVmYXVsdCBUaWxlSW1hZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlSW1hZ2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9XTVRTUmVxdWVzdEVuY29kaW5nXG4gKi9cbi8qKlxuICogUmVxdWVzdCBlbmNvZGluZy4gT25lIG9mICdLVlAnLCAnUkVTVCcuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgS1ZQOiAnS1ZQJyxcbiAgICBSRVNUOiAnUkVTVCcsIC8vIHNlZSBzcGVjIMKnMTBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XTVRTUmVxdWVzdEVuY29kaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC91cmlcbiAqL1xuLyoqXG4gKiBBcHBlbmRzIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gYSBVUkkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVyaSBUaGUgb3JpZ2luYWwgVVJJLCB3aGljaCBtYXkgYWxyZWFkeSBoYXZlIHF1ZXJ5IGRhdGEuXG4gKiBAcGFyYW0geyFPYmplY3R9IHBhcmFtcyBBbiBvYmplY3Qgd2hlcmUga2V5cyBhcmUgVVJJLWVuY29kZWQgcGFyYW1ldGVyIGtleXMsXG4gKiAgICAgYW5kIHRoZSB2YWx1ZXMgYXJlIGFyYml0cmFyeSB0eXBlcyBvciBhcnJheXMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBuZXcgVVJJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kUGFyYW1zKHVyaSwgcGFyYW1zKSB7XG4gICAgdmFyIGtleVBhcmFtcyA9IFtdO1xuICAgIC8vIFNraXAgYW55IG51bGwgb3IgdW5kZWZpbmVkIHBhcmFtZXRlciB2YWx1ZXNcbiAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgaWYgKHBhcmFtc1trXSAhPT0gbnVsbCAmJiBwYXJhbXNba10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2V5UGFyYW1zLnB1c2goayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBxcyA9IGtleVBhcmFtcy5qb2luKCcmJyk7XG4gICAgLy8gcmVtb3ZlIGFueSB0cmFpbGluZyA/IG9yICZcbiAgICB1cmkgPSB1cmkucmVwbGFjZSgvWz8mXSQvLCAnJyk7XG4gICAgLy8gYXBwZW5kID8gb3IgJiBkZXBlbmRpbmcgb24gd2hldGhlciB1cmkgaGFzIGV4aXN0aW5nIHBhcmFtZXRlcnNcbiAgICB1cmkgPSB1cmkuaW5kZXhPZignPycpID09PSAtMSA/IHVyaSArICc/JyA6IHVyaSArICcmJztcbiAgICByZXR1cm4gdXJpICsgcXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9XTVRTXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgVGlsZUltYWdlIGZyb20gJy4vVGlsZUltYWdlLmpzJztcbmltcG9ydCBXTVRTUmVxdWVzdEVuY29kaW5nIGZyb20gJy4vV01UU1JlcXVlc3RFbmNvZGluZy5qcyc7XG5pbXBvcnQgeyBhcHBlbmRQYXJhbXMgfSBmcm9tICcuLi91cmkuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zRXh0ZW50IH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyb21DYXBhYmlsaXRpZXNNYXRyaXhTZXQgfSBmcm9tICcuLi90aWxlZ3JpZC9XTVRTLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zLCBleHBhbmRVcmwgfSBmcm9tICcuLi90aWxldXJsZnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgZXF1aXZhbGVudCwgZ2V0IGFzIGdldFByb2plY3Rpb24sIHRyYW5zZm9ybUV4dGVudCB9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZmluZCwgZmluZEluZGV4LCBpbmNsdWRlcyB9IGZyb20gJy4uL2FycmF5LmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ltYWdlU21vb3RoaW5nPXRydWVdIERlcHJlY2F0ZWQuICBVc2UgdGhlIGBpbnRlcnBvbGF0ZWAgb3B0aW9uIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT10cnVlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogbGluZWFyIGludGVycG9sYXRpb24gaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuICBTZXQgdG8gZmFsc2UgdG8gdXNlIHRoZSBuZWFyZXN0IG5laWdoYm9yIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1dNVFMuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3JlcXVlc3RFbmNvZGluZz0nS1ZQJ10gUmVxdWVzdCBlbmNvZGluZy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYXllciBMYXllciBuYW1lIGFzIGFkdmVydGlzZWQgaW4gdGhlIFdNVFMgY2FwYWJpbGl0aWVzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0eWxlIFN0eWxlIG5hbWUgYXMgYWR2ZXJ0aXNlZCBpbiB0aGUgV01UUyBjYXBhYmlsaXRpZXMuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgdGlsZSBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZm9ybWF0PSdpbWFnZS9qcGVnJ10gSW1hZ2UgZm9ybWF0LiBPbmx5IHVzZWQgd2hlbiBgcmVxdWVzdEVuY29kaW5nYCBpcyBgJ0tWUCdgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt2ZXJzaW9uPScxLjAuMCddIFdNVFMgdmVyc2lvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtYXRyaXhTZXQgTWF0cml4IHNldC5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdH0gW2RpbWVuc2lvbnNdIEFkZGl0aW9uYWwgXCJkaW1lbnNpb25zXCIgZm9yIHRpbGUgcmVxdWVzdHMuXG4gKiBUaGlzIGlzIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmFtZWQgbGlrZSB0aGUgYWR2ZXJ0aXNlZCBXTVRTIGRpbWVuc2lvbnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gIEEgVVJMIGZvciB0aGUgc2VydmljZS5cbiAqIEZvciB0aGUgUkVTVGZ1bCByZXF1ZXN0IGVuY29kaW5nLCB0aGlzIGlzIGEgVVJMXG4gKiB0ZW1wbGF0ZS4gIEZvciBLVlAgZW5jb2RpbmcsIGl0IGlzIG5vcm1hbCBVUkwuIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLFxuICogZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nXG4gKiBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTHMuXG4gKiBSZXF1ZXN0cyB3aWxsIGJlIGRpc3RyaWJ1dGVkIGFtb25nIHRoZSBVUkxzIGluIHRoaXMgYXJyYXkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIGZyb20gV01UUyBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG52YXIgV01UUyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV01UUywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgV01UUyBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdNVFMob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlU21vb3RoaW5nIDogdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBUaWxlTWF0cml4TGltaXRzXG4gICAgICAgIHZhciByZXF1ZXN0RW5jb2RpbmcgPSBvcHRpb25zLnJlcXVlc3RFbmNvZGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9XTVRTUmVxdWVzdEVuY29kaW5nLmpzXCIpLmRlZmF1bHR9ICovIChvcHRpb25zLnJlcXVlc3RFbmNvZGluZylcbiAgICAgICAgICAgIDogV01UU1JlcXVlc3RFbmNvZGluZy5LVlA7XG4gICAgICAgIC8vIEZJWE1FOiBzaG91bGQgd2UgY3JlYXRlIGEgZGVmYXVsdCB0aWxlR3JpZD9cbiAgICAgICAgLy8gd2UgY291bGQgaXNzdWUgYSBnZXRDYXBhYmlsaXRpZXMgeGhyIHRvIHJldHJpZXZlIG1pc3NpbmcgY29uZmlndXJhdGlvblxuICAgICAgICB2YXIgdGlsZUdyaWQgPSBvcHRpb25zLnRpbGVHcmlkO1xuICAgICAgICB2YXIgdXJscyA9IG9wdGlvbnMudXJscztcbiAgICAgICAgaWYgKHVybHMgPT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnVybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cmxzID0gZXhwYW5kVXJsKG9wdGlvbnMudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgICAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgICAgICAgdGlsZUNsYXNzOiBvcHRpb25zLnRpbGVDbGFzcyxcbiAgICAgICAgICAgIHRpbGVHcmlkOiB0aWxlR3JpZCxcbiAgICAgICAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgdXJsczogdXJscyxcbiAgICAgICAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVyc2lvbl8gPSBvcHRpb25zLnZlcnNpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmVyc2lvbiA6ICcxLjAuMCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZvcm1hdCA6ICdpbWFnZS9qcGVnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGltZW5zaW9uc18gPVxuICAgICAgICAgICAgb3B0aW9ucy5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpbWVuc2lvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXllcl8gPSBvcHRpb25zLmxheWVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hdHJpeFNldF8gPSBvcHRpb25zLm1hdHJpeFNldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPSBvcHRpb25zLnN0eWxlO1xuICAgICAgICAvLyBGSVhNRTogc2hvdWxkIHdlIGd1ZXNzIHRoaXMgcmVxdWVzdEVuY29kaW5nIGZyb20gb3B0aW9ucy51cmwocylcbiAgICAgICAgLy8gICAgICAgIHN0cnVjdHVyZT8gdGhhdCB3b3VsZCBtZWFuIEtWUCBvbmx5IGlmIGEgdGVtcGxhdGUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVxdWVzdEVuY29kaW5nXyA9IHJlcXVlc3RFbmNvZGluZztcbiAgICAgICAgX3RoaXMuc2V0S2V5KF90aGlzLmdldEtleUZvckRpbWVuc2lvbnNfKCkpO1xuICAgICAgICBpZiAodXJscyAmJiB1cmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF90aGlzLnRpbGVVcmxGdW5jdGlvbiA9IGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHVybHMubWFwKF90aGlzLmNyZWF0ZUZyb21XTVRTVGVtcGxhdGUuYmluZChfdGhpcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVVJMcyB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIFVSTHMgbWF5IGNvbnRhaW4gT0dDIGNvbmZvcm0gVVJMIFRlbXBsYXRlIFZhcmlhYmxlczoge1RpbGVNYXRyaXh9LCB7VGlsZVJvd30sIHtUaWxlQ29sfS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHVybHMgVVJMcy5cbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5zZXRVcmxzID0gZnVuY3Rpb24gKHVybHMpIHtcbiAgICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgICAgdmFyIGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgICAgIHRoaXMuc2V0VGlsZVVybEZ1bmN0aW9uKGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHVybHMubWFwKHRoaXMuY3JlYXRlRnJvbVdNVFNUZW1wbGF0ZS5iaW5kKHRoaXMpKSksIGtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpbWVuc2lvbnMsIGkuZS4gdGhvc2UgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciB0aHJvdWdoIHRoZVxuICAgICAqIFwiZGltZW5zaW9uc1wiIG9wdGlvbiwgYW5kIHBvc3NpYmx5IHVwZGF0ZWQgdXNpbmcgdGhlIHVwZGF0ZURpbWVuc2lvbnNcbiAgICAgKiBtZXRob2QuXG4gICAgICogQHJldHVybiB7IU9iamVjdH0gRGltZW5zaW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgV01UUy5wcm90b3R5cGUuZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGltYWdlIGZvcm1hdCBvZiB0aGUgV01UUyBzb3VyY2UuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb3JtYXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFdNVFMucHJvdG90eXBlLmdldEZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGF5ZXIgb2YgdGhlIFdNVFMgc291cmNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGF5ZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFdNVFMucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1hdHJpeCBzZXQgb2YgdGhlIFdNVFMgc291cmNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTWF0cml4U2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5nZXRNYXRyaXhTZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeFNldF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHJlcXVlc3QgZW5jb2RpbmcsIGVpdGhlciBcIktWUFwiIG9yIFwiUkVTVFwiLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fSBSZXF1ZXN0IGVuY29kaW5nLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5nZXRSZXF1ZXN0RW5jb2RpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RFbmNvZGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0eWxlIG9mIHRoZSBXTVRTIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5nZXRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2ZXJzaW9uIG9mIHRoZSBXTVRTIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFZlcnNpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFdNVFMucHJvdG90eXBlLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIHRoZSBjdXJyZW50IGRpbWVuc2lvbnMuXG4gICAgICovXG4gICAgV01UUy5wcm90b3R5cGUuZ2V0S2V5Rm9yRGltZW5zaW9uc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5kaW1lbnNpb25zXykge1xuICAgICAgICAgICAgcmVzW2krK10gPSBrZXkgKyAnLScgKyB0aGlzLmRpbWVuc2lvbnNfW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcy5qb2luKCcvJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRpbWVuc2lvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbWVuc2lvbnMgRGltZW5zaW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgV01UUy5wcm90b3R5cGUudXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChkaW1lbnNpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLmRpbWVuc2lvbnNfLCBkaW1lbnNpb25zKTtcbiAgICAgICAgdGhpcy5zZXRLZXkodGhpcy5nZXRLZXlGb3JEaW1lbnNpb25zXygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBXTVRTLnByb3RvdHlwZS5jcmVhdGVGcm9tV01UU1RlbXBsYXRlID0gZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RW5jb2RpbmcgPSB0aGlzLnJlcXVlc3RFbmNvZGluZ187XG4gICAgICAgIC8vIGNvbnRleHQgcHJvcGVydHkgbmFtZXMgYXJlIGxvd2VyIGNhc2UgdG8gYWxsb3cgZm9yIGEgY2FzZSBpbnNlbnNpdGl2ZVxuICAgICAgICAvLyByZXBsYWNlbWVudCBhcyBzb21lIHNlcnZpY2VzIHVzZSBkaWZmZXJlbnQgbmFtaW5nIGNvbnZlbnRpb25zXG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgJ2xheWVyJzogdGhpcy5sYXllcl8sXG4gICAgICAgICAgICAnc3R5bGUnOiB0aGlzLnN0eWxlXyxcbiAgICAgICAgICAgICd0aWxlbWF0cml4c2V0JzogdGhpcy5tYXRyaXhTZXRfLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocmVxdWVzdEVuY29kaW5nID09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSB7XG4gICAgICAgICAgICBhc3NpZ24oY29udGV4dCwge1xuICAgICAgICAgICAgICAgICdTZXJ2aWNlJzogJ1dNVFMnLFxuICAgICAgICAgICAgICAgICdSZXF1ZXN0JzogJ0dldFRpbGUnLFxuICAgICAgICAgICAgICAgICdWZXJzaW9uJzogdGhpcy52ZXJzaW9uXyxcbiAgICAgICAgICAgICAgICAnRm9ybWF0JzogdGhpcy5mb3JtYXRfLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogd2UgbWF5IHdhbnQgdG8gY3JlYXRlIG91ciBvd24gYXBwZW5kUGFyYW1zIGZ1bmN0aW9uIHNvIHRoYXQgcGFyYW1zXG4gICAgICAgIC8vIG9yZGVyIGNvbmZvcm1zIHRvIHdtdHMgc3BlYyBndWlkYW5jZSwgYW5kIHNvIHRoYXQgd2UgY2FuIGF2b2lkIHRvIGVzY2FwZVxuICAgICAgICAvLyBzcGVjaWFsIHRlbXBsYXRlIHBhcmFtc1xuICAgICAgICB0ZW1wbGF0ZSA9XG4gICAgICAgICAgICByZXF1ZXN0RW5jb2RpbmcgPT0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlBcbiAgICAgICAgICAgICAgICA/IGFwcGVuZFBhcmFtcyh0ZW1wbGF0ZSwgY29udGV4dClcbiAgICAgICAgICAgICAgICA6IHRlbXBsYXRlLnJlcGxhY2UoL1xceyhcXHcrPylcXH0vZywgZnVuY3Rpb24gKG0sIHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAudG9Mb3dlckNhc2UoKSBpbiBjb250ZXh0ID8gY29udGV4dFtwLnRvTG93ZXJDYXNlKCldIDogbTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9XTVRTLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLnRpbGVHcmlkKTtcbiAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnNfO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbENvbnRleHRfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ1RpbGVNYXRyaXgnOiB0aWxlR3JpZC5nZXRNYXRyaXhJZCh0aWxlQ29vcmRbMF0pLFxuICAgICAgICAgICAgICAgICAgICAnVGlsZUNvbCc6IHRpbGVDb29yZFsxXSxcbiAgICAgICAgICAgICAgICAgICAgJ1RpbGVSb3cnOiB0aWxlQ29vcmRbMl0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhc3NpZ24obG9jYWxDb250ZXh0XzEsIGRpbWVuc2lvbnMpO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdEVuY29kaW5nID09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGFwcGVuZFBhcmFtcyh1cmwsIGxvY2FsQ29udGV4dF8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXHsoXFx3Kz8pXFx9L2csIGZ1bmN0aW9uIChtLCBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxDb250ZXh0XzFbcF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBXTVRTO1xufShUaWxlSW1hZ2UpKTtcbmV4cG9ydCBkZWZhdWx0IFdNVFM7XG4vKipcbiAqIEdlbmVyYXRlIHNvdXJjZSBvcHRpb25zIGZyb20gYSBjYXBhYmlsaXRpZXMgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHdtdHNDYXAgQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY2FwYWJpbGl0aWVzIGRvY3VtZW50LlxuICogQHBhcmFtIHshT2JqZWN0fSBjb25maWcgQ29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGZvciB0aGUgbGF5ZXIuICBEZWZhdWx0cyBmb3JcbiAqICAgICAgICAgICAgICAgICAgdGhlIGxheWVyIHdpbGwgYXBwbHkgaWYgbm90IHByb3ZpZGVkLlxuICpcbiAqIFJlcXVpcmVkIGNvbmZpZyBwcm9wZXJ0aWVzOlxuICogIC0gbGF5ZXIgLSB7c3RyaW5nfSBUaGUgbGF5ZXIgaWRlbnRpZmllci5cbiAqXG4gKiBPcHRpb25hbCBjb25maWcgcHJvcGVydGllczpcbiAqICAtIG1hdHJpeFNldCAtIHtzdHJpbmd9IFRoZSBtYXRyaXggc2V0IGlkZW50aWZpZXIsIHJlcXVpcmVkIGlmIHRoZXJlIGlzXG4gKiAgICAgICBtb3JlIHRoYW4gb25lIG1hdHJpeCBzZXQgaW4gdGhlIGxheWVyIGNhcGFiaWxpdGllcy5cbiAqICAtIHByb2plY3Rpb24gLSB7c3RyaW5nfSBUaGUgZGVzaXJlZCBDUlMgd2hlbiBubyBtYXRyaXhTZXQgaXMgc3BlY2lmaWVkLlxuICogICAgICAgZWc6IFwiRVBTRzozODU3XCIuIElmIHRoZSBkZXNpcmVkIHByb2plY3Rpb24gaXMgbm90IGF2YWlsYWJsZSxcbiAqICAgICAgIGFuIGVycm9yIGlzIHRocm93bi5cbiAqICAtIHJlcXVlc3RFbmNvZGluZyAtIHtzdHJpbmd9IHVybCBlbmNvZGluZyBmb3JtYXQgZm9yIHRoZSBsYXllci4gRGVmYXVsdCBpc1xuICogICAgICAgdGhlIGZpcnN0IHRpbGUgdXJsIGZvcm1hdCBmb3VuZCBpbiB0aGUgR2V0Q2FwYWJpbGl0aWVzIHJlc3BvbnNlLlxuICogIC0gc3R5bGUgLSB7c3RyaW5nfSBUaGUgbmFtZSBvZiB0aGUgc3R5bGVcbiAqICAtIGZvcm1hdCAtIHtzdHJpbmd9IEltYWdlIGZvcm1hdCBmb3IgdGhlIGxheWVyLiBEZWZhdWx0IGlzIHRoZSBmaXJzdFxuICogICAgICAgZm9ybWF0IHJldHVybmVkIGluIHRoZSBHZXRDYXBhYmlsaXRpZXMgcmVzcG9uc2UuXG4gKiAgLSBjcm9zc09yaWdpbiAtIHtzdHJpbmd8bnVsbHx1bmRlZmluZWR9IENyb3NzIG9yaWdpbi4gRGVmYXVsdCBpcyBgdW5kZWZpbmVkYC5cbiAqIEByZXR1cm4gez9PcHRpb25zfSBXTVRTIHNvdXJjZSBvcHRpb25zIG9iamVjdCBvciBgbnVsbGAgaWYgdGhlIGxheWVyIHdhcyBub3QgZm91bmQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25zRnJvbUNhcGFiaWxpdGllcyh3bXRzQ2FwLCBjb25maWcpIHtcbiAgICB2YXIgbGF5ZXJzID0gd210c0NhcFsnQ29udGVudHMnXVsnTGF5ZXInXTtcbiAgICB2YXIgbCA9IGZpbmQobGF5ZXJzLCBmdW5jdGlvbiAoZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGVsdFsnSWRlbnRpZmllciddID09IGNvbmZpZ1snbGF5ZXInXTtcbiAgICB9KTtcbiAgICBpZiAobCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHRpbGVNYXRyaXhTZXRzID0gd210c0NhcFsnQ29udGVudHMnXVsnVGlsZU1hdHJpeFNldCddO1xuICAgIHZhciBpZHg7XG4gICAgaWYgKGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10ubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAoJ3Byb2plY3Rpb24nIGluIGNvbmZpZykge1xuICAgICAgICAgICAgaWR4ID0gZmluZEluZGV4KGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10sIGZ1bmN0aW9uIChlbHQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIHZhciB0aWxlTWF0cml4U2V0ID0gZmluZCh0aWxlTWF0cml4U2V0cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbFsnSWRlbnRpZmllciddID09IGVsdFsnVGlsZU1hdHJpeFNldCddO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzdXBwb3J0ZWRDUlMgPSB0aWxlTWF0cml4U2V0WydTdXBwb3J0ZWRDUlMnXTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvajEgPSBnZXRQcm9qZWN0aW9uKHN1cHBvcnRlZENSUyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2oyID0gZ2V0UHJvamVjdGlvbihjb25maWdbJ3Byb2plY3Rpb24nXSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2oxICYmIHByb2oyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcXVpdmFsZW50KHByb2oxLCBwcm9qMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkQ1JTID09IGNvbmZpZ1sncHJvamVjdGlvbiddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWR4ID0gZmluZEluZGV4KGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10sIGZ1bmN0aW9uIChlbHQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbHRbJ1RpbGVNYXRyaXhTZXQnXSA9PSBjb25maWdbJ21hdHJpeFNldCddO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgfVxuICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgfVxuICAgIHZhciBtYXRyaXhTZXQgPSBcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAobFsnVGlsZU1hdHJpeFNldExpbmsnXVtpZHhdWydUaWxlTWF0cml4U2V0J10pO1xuICAgIHZhciBtYXRyaXhMaW1pdHMgPSBcbiAgICAvKiogQHR5cGUge0FycmF5PE9iamVjdD59ICovXG4gICAgKGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ11baWR4XVsnVGlsZU1hdHJpeFNldExpbWl0cyddKTtcbiAgICB2YXIgZm9ybWF0ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChsWydGb3JtYXQnXVswXSk7XG4gICAgaWYgKCdmb3JtYXQnIGluIGNvbmZpZykge1xuICAgICAgICBmb3JtYXQgPSBjb25maWdbJ2Zvcm1hdCddO1xuICAgIH1cbiAgICBpZHggPSBmaW5kSW5kZXgobFsnU3R5bGUnXSwgZnVuY3Rpb24gKGVsdCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgIGlmICgnc3R5bGUnIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIGVsdFsnVGl0bGUnXSA9PSBjb25maWdbJ3N0eWxlJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWx0Wydpc0RlZmF1bHQnXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgfVxuICAgIHZhciBzdHlsZSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAobFsnU3R5bGUnXVtpZHhdWydJZGVudGlmaWVyJ10pO1xuICAgIHZhciBkaW1lbnNpb25zID0ge307XG4gICAgaWYgKCdEaW1lbnNpb24nIGluIGwpIHtcbiAgICAgICAgbFsnRGltZW5zaW9uJ10uZm9yRWFjaChmdW5jdGlvbiAoZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBlbHRbJ0lkZW50aWZpZXInXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsdFsnRGVmYXVsdCddO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGVsdFsnVmFsdWUnXVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpbWVuc2lvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIG1hdHJpeFNldHMgPSB3bXRzQ2FwWydDb250ZW50cyddWydUaWxlTWF0cml4U2V0J107XG4gICAgdmFyIG1hdHJpeFNldE9iaiA9IGZpbmQobWF0cml4U2V0cywgZnVuY3Rpb24gKGVsdCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgIHJldHVybiBlbHRbJ0lkZW50aWZpZXInXSA9PSBtYXRyaXhTZXQ7XG4gICAgfSk7XG4gICAgdmFyIHByb2plY3Rpb247XG4gICAgdmFyIGNvZGUgPSBtYXRyaXhTZXRPYmpbJ1N1cHBvcnRlZENSUyddO1xuICAgIGlmIChjb2RlKSB7XG4gICAgICAgIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKGNvZGUpO1xuICAgIH1cbiAgICBpZiAoJ3Byb2plY3Rpb24nIGluIGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvakNvbmZpZyA9IGdldFByb2plY3Rpb24oY29uZmlnWydwcm9qZWN0aW9uJ10pO1xuICAgICAgICBpZiAocHJvakNvbmZpZykge1xuICAgICAgICAgICAgaWYgKCFwcm9qZWN0aW9uIHx8IGVxdWl2YWxlbnQocHJvakNvbmZpZywgcHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uID0gcHJvakNvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgd3JhcFggPSBmYWxzZTtcbiAgICB2YXIgc3dpdGNoT3JpZ2luWFkgPSBwcm9qZWN0aW9uLmdldEF4aXNPcmllbnRhdGlvbigpLnN1YnN0cigwLCAyKSA9PSAnbmUnO1xuICAgIHZhciBtYXRyaXggPSBtYXRyaXhTZXRPYmouVGlsZU1hdHJpeFswXTtcbiAgICAvLyBjcmVhdGUgZGVmYXVsdCBtYXRyaXhMaW1pdFxuICAgIHZhciBzZWxlY3RlZE1hdHJpeExpbWl0ID0ge1xuICAgICAgICBNaW5UaWxlQ29sOiAwLFxuICAgICAgICBNaW5UaWxlUm93OiAwLFxuICAgICAgICAvLyBzdWJ0cmFjdCBvbmUgdG8gZW5kIHVwIGF0IHRpbGUgdG9wIGxlZnRcbiAgICAgICAgTWF4VGlsZUNvbDogbWF0cml4Lk1hdHJpeFdpZHRoIC0gMSxcbiAgICAgICAgTWF4VGlsZVJvdzogbWF0cml4Lk1hdHJpeEhlaWdodCAtIDEsXG4gICAgfTtcbiAgICAvL2luIGNhc2Ugb2YgbWF0cml4IGxpbWl0cywgdXNlIG1hdHJpeCBsaW1pdHMgdG8gY2FsY3VsYXRlIGV4dGVudFxuICAgIGlmIChtYXRyaXhMaW1pdHMpIHtcbiAgICAgICAgc2VsZWN0ZWRNYXRyaXhMaW1pdCA9IG1hdHJpeExpbWl0c1ttYXRyaXhMaW1pdHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBtID0gZmluZChtYXRyaXhTZXRPYmouVGlsZU1hdHJpeCwgZnVuY3Rpb24gKHRpbGVNYXRyaXhWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRpbGVNYXRyaXhWYWx1ZS5JZGVudGlmaWVyID09PSBzZWxlY3RlZE1hdHJpeExpbWl0LlRpbGVNYXRyaXggfHxcbiAgICAgICAgICAgICAgICBtYXRyaXhTZXRPYmouSWRlbnRpZmllciArICc6JyArIHRpbGVNYXRyaXhWYWx1ZS5JZGVudGlmaWVyID09PVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1hdHJpeExpbWl0LlRpbGVNYXRyaXg7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgbWF0cml4ID0gbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmVzb2x1dGlvbiA9IChtYXRyaXguU2NhbGVEZW5vbWluYXRvciAqIDAuMDAwMjgpIC8gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7IC8vIFdNVFMgMS4wLjA6IHN0YW5kYXJkaXplZCByZW5kZXJpbmcgcGl4ZWwgc2l6ZVxuICAgIHZhciBvcmlnaW4gPSBzd2l0Y2hPcmlnaW5YWVxuICAgICAgICA/IFttYXRyaXguVG9wTGVmdENvcm5lclsxXSwgbWF0cml4LlRvcExlZnRDb3JuZXJbMF1dXG4gICAgICAgIDogbWF0cml4LlRvcExlZnRDb3JuZXI7XG4gICAgdmFyIHRpbGVTcGFuWCA9IG1hdHJpeC5UaWxlV2lkdGggKiByZXNvbHV0aW9uO1xuICAgIHZhciB0aWxlU3BhblkgPSBtYXRyaXguVGlsZUhlaWdodCAqIHJlc29sdXRpb247XG4gICAgdmFyIG1hdHJpeFNldEV4dGVudCA9IG1hdHJpeFNldE9ialsnQm91bmRpbmdCb3gnXTtcbiAgICB2YXIgZXh0ZW50ID0gW1xuICAgICAgICBvcmlnaW5bMF0gKyB0aWxlU3BhblggKiBzZWxlY3RlZE1hdHJpeExpbWl0Lk1pblRpbGVDb2wsXG4gICAgICAgIC8vIGFkZCBvbmUgdG8gZ2V0IHByb3BlciBib3R0b20vcmlnaHQgY29vcmRpbmF0ZVxuICAgICAgICBvcmlnaW5bMV0gLSB0aWxlU3BhblkgKiAoMSArIHNlbGVjdGVkTWF0cml4TGltaXQuTWF4VGlsZVJvdyksXG4gICAgICAgIG9yaWdpblswXSArIHRpbGVTcGFuWCAqICgxICsgc2VsZWN0ZWRNYXRyaXhMaW1pdC5NYXhUaWxlQ29sKSxcbiAgICAgICAgb3JpZ2luWzFdIC0gdGlsZVNwYW5ZICogc2VsZWN0ZWRNYXRyaXhMaW1pdC5NaW5UaWxlUm93LFxuICAgIF07XG4gICAgaWYgKG1hdHJpeFNldEV4dGVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICFjb250YWluc0V4dGVudChtYXRyaXhTZXRFeHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgdmFyIHdnczg0Qm91bmRpbmdCb3ggPSBsWydXR1M4NEJvdW5kaW5nQm94J107XG4gICAgICAgIHZhciB3Z3M4NFByb2plY3Rpb25FeHRlbnQgPSBnZXRQcm9qZWN0aW9uKCdFUFNHOjQzMjYnKS5nZXRFeHRlbnQoKTtcbiAgICAgICAgZXh0ZW50ID0gbWF0cml4U2V0RXh0ZW50O1xuICAgICAgICBpZiAod2dzODRCb3VuZGluZ0JveCkge1xuICAgICAgICAgICAgd3JhcFggPVxuICAgICAgICAgICAgICAgIHdnczg0Qm91bmRpbmdCb3hbMF0gPT09IHdnczg0UHJvamVjdGlvbkV4dGVudFswXSAmJlxuICAgICAgICAgICAgICAgICAgICB3Z3M4NEJvdW5kaW5nQm94WzJdID09PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgd2dzODRNYXRyaXhTZXRFeHRlbnQgPSB0cmFuc2Zvcm1FeHRlbnQobWF0cml4U2V0RXh0ZW50LCBtYXRyaXhTZXRPYmpbJ1N1cHBvcnRlZENSUyddLCAnRVBTRzo0MzI2Jyk7XG4gICAgICAgICAgICAvLyBJZ25vcmUgc2xpZ2h0IGRldmlhdGlvbiBmcm9tIHRoZSBjb3JyZWN0IHggbGltaXRzXG4gICAgICAgICAgICB3cmFwWCA9XG4gICAgICAgICAgICAgICAgd2dzODRNYXRyaXhTZXRFeHRlbnRbMF0gLSAxZS0xMCA8PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMF0gJiZcbiAgICAgICAgICAgICAgICAgICAgd2dzODRNYXRyaXhTZXRFeHRlbnRbMl0gKyAxZS0xMCA+PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRpbGVHcmlkID0gY3JlYXRlRnJvbUNhcGFiaWxpdGllc01hdHJpeFNldChtYXRyaXhTZXRPYmosIGV4dGVudCwgbWF0cml4TGltaXRzKTtcbiAgICAvKiogQHR5cGUgeyFBcnJheTxzdHJpbmc+fSAqL1xuICAgIHZhciB1cmxzID0gW107XG4gICAgdmFyIHJlcXVlc3RFbmNvZGluZyA9IGNvbmZpZ1sncmVxdWVzdEVuY29kaW5nJ107XG4gICAgcmVxdWVzdEVuY29kaW5nID0gcmVxdWVzdEVuY29kaW5nICE9PSB1bmRlZmluZWQgPyByZXF1ZXN0RW5jb2RpbmcgOiAnJztcbiAgICBpZiAoJ09wZXJhdGlvbnNNZXRhZGF0YScgaW4gd210c0NhcCAmJlxuICAgICAgICAnR2V0VGlsZScgaW4gd210c0NhcFsnT3BlcmF0aW9uc01ldGFkYXRhJ10pIHtcbiAgICAgICAgdmFyIGdldHMgPSB3bXRzQ2FwWydPcGVyYXRpb25zTWV0YWRhdGEnXVsnR2V0VGlsZSddWydEQ1AnXVsnSFRUUCddWydHZXQnXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ2V0cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoZ2V0c1tpXVsnQ29uc3RyYWludCddKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBmaW5kKGdldHNbaV1bJ0NvbnN0cmFpbnQnXSwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbJ25hbWUnXSA9PSAnR2V0RW5jb2RpbmcnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBlbmNvZGluZ3MgPSBjb25zdHJhaW50WydBbGxvd2VkVmFsdWVzJ11bJ1ZhbHVlJ107XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RFbmNvZGluZyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWVzdEVuY29kaW5nIG5vdCBwcm92aWRlZCwgdXNlIHRoZSBmaXJzdCBlbmNvZGluZyBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RFbmNvZGluZyA9IGVuY29kaW5nc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RFbmNvZGluZyA9PT0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVzKGVuY29kaW5ncywgV01UU1JlcXVlc3RFbmNvZGluZy5LVlApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2goLyoqIEB0eXBlIHtzdHJpbmd9ICovIChnZXRzW2ldWydocmVmJ10pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2V0c1tpXVsnaHJlZiddKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEVuY29kaW5nID0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlA7XG4gICAgICAgICAgICAgICAgdXJscy5wdXNoKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZ2V0c1tpXVsnaHJlZiddKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVybHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlcXVlc3RFbmNvZGluZyA9IFdNVFNSZXF1ZXN0RW5jb2RpbmcuUkVTVDtcbiAgICAgICAgbFsnUmVzb3VyY2VVUkwnXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudFsncmVzb3VyY2VUeXBlJ10gPT09ICd0aWxlJykge1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGVsZW1lbnRbJ2Zvcm1hdCddO1xuICAgICAgICAgICAgICAgIHVybHMucHVzaCgvKiogQHR5cGUge3N0cmluZ30gKi8gKGVsZW1lbnRbJ3RlbXBsYXRlJ10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHVybHM6IHVybHMsXG4gICAgICAgIGxheWVyOiBjb25maWdbJ2xheWVyJ10sXG4gICAgICAgIG1hdHJpeFNldDogbWF0cml4U2V0LFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgICAgcmVxdWVzdEVuY29kaW5nOiByZXF1ZXN0RW5jb2RpbmcsXG4gICAgICAgIHRpbGVHcmlkOiB0aWxlR3JpZCxcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgICAgICB3cmFwWDogd3JhcFgsXG4gICAgICAgIGNyb3NzT3JpZ2luOiBjb25maWdbJ2Nyb3NzT3JpZ2luJ10sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdNVFMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkL1dNVFNcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBUaWxlR3JpZCBmcm9tICcuL1RpbGVHcmlkLmpzJztcbmltcG9ydCB7IGZpbmQgfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiB9IGZyb20gJy4uL3Byb2ouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gTm8gdGlsZXNcbiAqIG91dHNpZGUgdGhpcyBleHRlbnQgd2lsbCBiZSByZXF1ZXN0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX0gc291cmNlcy5cbiAqIFdoZW4gbm8gYG9yaWdpbmAgb3IgYG9yaWdpbnNgIGFyZSBjb25maWd1cmVkLCB0aGUgYG9yaWdpbmAgd2lsbCBiZSBzZXQgdG8gdGhlXG4gKiB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3JpZ2luXSBUaGUgdGlsZSBncmlkIG9yaWdpbiwgaS5lLlxuICogd2hlcmUgdGhlIGB4YCBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnRcbiAqIHRvIHJpZ2h0IGFuZCBkb3dud2FyZHMuIElmIG5vdCBzcGVjaWZpZWQsIGBleHRlbnRgIG9yIGBvcmlnaW5zYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBbb3JpZ2luc10gVGlsZSBncmlkIG9yaWdpbnMsXG4gKiBpLmUuIHdoZXJlIHRoZSBgeGAgYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKSwgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWZcbiAqIGdpdmVuLCB0aGUgYXJyYXkgbGVuZ3RoIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuXG4gKiBlYWNoIHJlc29sdXRpb24gY2FuIGhhdmUgYSBkaWZmZXJlbnQgb3JpZ2luLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG9cbiAqIHJpZ2h0IGFuZCBkb3dud2FyZHMuIElmIG5vdCBzcGVjaWZpZWQsIGBleHRlbnRgIG9yIGBvcmlnaW5gIG11c3QgYmUgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkgeyFBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy4gVGhlIGFycmF5IGluZGV4IG9mIGVhY2hcbiAqIHJlc29sdXRpb24gbmVlZHMgdG8gbWF0Y2ggdGhlIHpvb20gbGV2ZWwuIFRoaXMgbWVhbnMgdGhhdCBldmVuIGlmIGEgYG1pblpvb21gXG4gKiBpcyBjb25maWd1cmVkLCB0aGUgcmVzb2x1dGlvbnMgYXJyYXkgd2lsbCBoYXZlIGEgbGVuZ3RoIG9mIGBtYXhab29tICsgMWBcbiAqIEBwcm9wZXJ0eSB7IUFycmF5PHN0cmluZz59IG1hdHJpeElkcyBtYXRyaXggSURzLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgbmVlZHNcbiAqIHRvIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIGByZXNvbHV0aW9uc2AgYXJyYXkuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFtzaXplc10gTnVtYmVyIG9mIHRpbGUgcm93cyBhbmQgY29sdW1uc1xuICogb2YgdGhlIGdyaWQgZm9yIGVhY2ggem9vbSBsZXZlbC4gVGhlIHZhbHVlcyBoZXJlIGFyZSB0aGUgYFRpbGVNYXRyaXhXaWR0aGAgYW5kXG4gKiBgVGlsZU1hdHJpeEhlaWdodGAgYWR2ZXJ0aXNlZCBpbiB0aGUgR2V0Q2FwYWJpbGl0aWVzIHJlc3BvbnNlIG9mIHRoZSBXTVRTLCBhbmRcbiAqIGRlZmluZSBlYWNoIHpvb20gbGV2ZWwncyBleHRlbnQgdG9nZXRoZXIgd2l0aCB0aGUgYG9yaWdpbmAgb3IgYG9yaWdpbnNgLlxuICogQSBncmlkIGBleHRlbnRgIGNhbiBiZSBjb25maWd1cmVkIGluIGFkZGl0aW9uLCBhbmQgd2lsbCBmdXJ0aGVyIGxpbWl0IHRoZSBleHRlbnQgZm9yXG4gKiB3aGljaCB0aWxlIHJlcXVlc3RzIGFyZSBtYWRlIGJ5IHNvdXJjZXMuIElmIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgb2ZcbiAqIGFuIGV4dGVudCBpcyB1c2VkIGFzIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCwgdGhlbiB0aGUgYHlgIHZhbHVlIG11c3QgYmVcbiAqIG5lZ2F0aXZlIGJlY2F1c2UgT3BlbkxheWVycyB0aWxlIGNvb3JkaW5hdGVzIHVzZSB0aGUgdG9wIGxlZnQgYXMgdGhlIG9yaWdpbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFt0aWxlU2l6ZXNdIFRpbGUgc2l6ZXMuIFRoZSBsZW5ndGggb2ZcbiAqIHRoaXMgYXJyYXkgbmVlZHMgdG8gbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgdGhlIGdyaWQgcGF0dGVybiBmb3Igc291cmNlcyBhY2Nlc3NpbmcgV01UUyB0aWxlZC1pbWFnZSBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG52YXIgV01UU1RpbGVHcmlkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhXTVRTVGlsZUdyaWQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFdNVFMgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXTVRTVGlsZUdyaWQob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBleHRlbnQ6IG9wdGlvbnMuZXh0ZW50LFxuICAgICAgICAgICAgb3JpZ2luOiBvcHRpb25zLm9yaWdpbixcbiAgICAgICAgICAgIG9yaWdpbnM6IG9wdGlvbnMub3JpZ2lucyxcbiAgICAgICAgICAgIHJlc29sdXRpb25zOiBvcHRpb25zLnJlc29sdXRpb25zLFxuICAgICAgICAgICAgdGlsZVNpemU6IG9wdGlvbnMudGlsZVNpemUsXG4gICAgICAgICAgICB0aWxlU2l6ZXM6IG9wdGlvbnMudGlsZVNpemVzLFxuICAgICAgICAgICAgc2l6ZXM6IG9wdGlvbnMuc2l6ZXMsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PHN0cmluZz59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXRyaXhJZHNfID0gb3B0aW9ucy5tYXRyaXhJZHM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1hdHJpeElkLi5cbiAgICAgKi9cbiAgICBXTVRTVGlsZUdyaWQucHJvdG90eXBlLmdldE1hdHJpeElkID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4SWRzX1t6XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiBtYXRyaXggaWRlbnRpZmllcnMuXG4gICAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gTWF0cml4SWRzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBXTVRTVGlsZUdyaWQucHJvdG90eXBlLmdldE1hdHJpeElkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4SWRzXztcbiAgICB9O1xuICAgIHJldHVybiBXTVRTVGlsZUdyaWQ7XG59KFRpbGVHcmlkKSk7XG5leHBvcnQgZGVmYXVsdCBXTVRTVGlsZUdyaWQ7XG4vKipcbiAqIENyZWF0ZSBhIHRpbGUgZ3JpZCBmcm9tIGEgV01UUyBjYXBhYmlsaXRpZXMgbWF0cml4IHNldCBhbmQgYW5cbiAqIG9wdGlvbmFsIFRpbGVNYXRyaXhTZXRMaW1pdHMuXG4gKiBAcGFyYW0ge09iamVjdH0gbWF0cml4U2V0IEFuIG9iamVjdCByZXByZXNlbnRpbmcgYSBtYXRyaXhTZXQgaW4gdGhlXG4gKiAgICAgY2FwYWJpbGl0aWVzIGRvY3VtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbb3B0X2V4dGVudF0gQW4gb3B0aW9uYWwgZXh0ZW50IHRvIHJlc3RyaWN0IHRoZSB0aWxlXG4gKiAgICAgcmFuZ2VzIHRoZSBzZXJ2ZXIgcHJvdmlkZXMuXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IFtvcHRfbWF0cml4TGltaXRzXSBBbiBvcHRpb25hbCBvYmplY3QgcmVwcmVzZW50aW5nXG4gKiAgICAgdGhlIGF2YWlsYWJsZSBtYXRyaWNlcyBmb3IgdGlsZUdyaWQuXG4gKiBAcmV0dXJuIHtXTVRTVGlsZUdyaWR9IFdNVFMgdGlsZUdyaWQgaW5zdGFuY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tQ2FwYWJpbGl0aWVzTWF0cml4U2V0KG1hdHJpeFNldCwgb3B0X2V4dGVudCwgb3B0X21hdHJpeExpbWl0cykge1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PG51bWJlcj59ICovXG4gICAgdmFyIHJlc29sdXRpb25zID0gW107XG4gICAgLyoqIEB0eXBlIHshQXJyYXk8c3RyaW5nPn0gKi9cbiAgICB2YXIgbWF0cml4SWRzID0gW107XG4gICAgLyoqIEB0eXBlIHshQXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gKi9cbiAgICB2YXIgb3JpZ2lucyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59ICovXG4gICAgdmFyIHRpbGVTaXplcyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59ICovXG4gICAgdmFyIHNpemVzID0gW107XG4gICAgdmFyIG1hdHJpeExpbWl0cyA9IG9wdF9tYXRyaXhMaW1pdHMgIT09IHVuZGVmaW5lZCA/IG9wdF9tYXRyaXhMaW1pdHMgOiBbXTtcbiAgICB2YXIgc3VwcG9ydGVkQ1JTUHJvcE5hbWUgPSAnU3VwcG9ydGVkQ1JTJztcbiAgICB2YXIgbWF0cml4SWRzUHJvcE5hbWUgPSAnVGlsZU1hdHJpeCc7XG4gICAgdmFyIGlkZW50aWZpZXJQcm9wTmFtZSA9ICdJZGVudGlmaWVyJztcbiAgICB2YXIgc2NhbGVEZW5vbWluYXRvclByb3BOYW1lID0gJ1NjYWxlRGVub21pbmF0b3InO1xuICAgIHZhciB0b3BMZWZ0Q29ybmVyUHJvcE5hbWUgPSAnVG9wTGVmdENvcm5lcic7XG4gICAgdmFyIHRpbGVXaWR0aFByb3BOYW1lID0gJ1RpbGVXaWR0aCc7XG4gICAgdmFyIHRpbGVIZWlnaHRQcm9wTmFtZSA9ICdUaWxlSGVpZ2h0JztcbiAgICB2YXIgY29kZSA9IG1hdHJpeFNldFtzdXBwb3J0ZWRDUlNQcm9wTmFtZV07XG4gICAgdmFyIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKGNvZGUpO1xuICAgIHZhciBtZXRlcnNQZXJVbml0ID0gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgLy8gc3dhcCBvcmlnaW4geCBhbmQgeSBjb29yZGluYXRlcyBpZiBheGlzIG9yaWVudGF0aW9uIGlzIGxhdC9sb25nXG4gICAgdmFyIHN3aXRjaE9yaWdpblhZID0gcHJvamVjdGlvbi5nZXRBeGlzT3JpZW50YXRpb24oKS5zdWJzdHIoMCwgMikgPT0gJ25lJztcbiAgICBtYXRyaXhTZXRbbWF0cml4SWRzUHJvcE5hbWVdLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGJbc2NhbGVEZW5vbWluYXRvclByb3BOYW1lXSAtIGFbc2NhbGVEZW5vbWluYXRvclByb3BOYW1lXTtcbiAgICB9KTtcbiAgICBtYXRyaXhTZXRbbWF0cml4SWRzUHJvcE5hbWVdLmZvckVhY2goZnVuY3Rpb24gKGVsdCkge1xuICAgICAgICB2YXIgbWF0cml4QXZhaWxhYmxlO1xuICAgICAgICAvLyB1c2Ugb2YgbWF0cml4TGltaXRzIHRvIGZpbHRlciBUaWxlTWF0cmljZXMgZnJvbSBHZXRDYXBhYmlsaXRpZXNcbiAgICAgICAgLy8gVGlsZU1hdHJpeFNldCBmcm9tIHVuYXZhaWxhYmxlIG1hdHJpeCBsZXZlbHMuXG4gICAgICAgIGlmIChtYXRyaXhMaW1pdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbWF0cml4QXZhaWxhYmxlID0gZmluZChtYXRyaXhMaW1pdHMsIGZ1bmN0aW9uIChlbHRfbWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWx0W2lkZW50aWZpZXJQcm9wTmFtZV0gPT0gZWx0X21sW21hdHJpeElkc1Byb3BOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgZm9yIHRpbGVNYXRyaXggaWRlbnRpZmllcnMgdGhhdCBkb24ndCBnZXQgcHJlZml4ZWRcbiAgICAgICAgICAgICAgICAvLyBieSB0aGVpciB0aWxlTWF0cml4U2V0IGlkZW50aWZpZXJzLlxuICAgICAgICAgICAgICAgIGlmIChlbHRbaWRlbnRpZmllclByb3BOYW1lXS5pbmRleE9mKCc6JykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobWF0cml4U2V0W2lkZW50aWZpZXJQcm9wTmFtZV0gKyAnOicgKyBlbHRbaWRlbnRpZmllclByb3BOYW1lXSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsdF9tbFttYXRyaXhJZHNQcm9wTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1hdHJpeEF2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdHJpeEF2YWlsYWJsZSkge1xuICAgICAgICAgICAgbWF0cml4SWRzLnB1c2goZWx0W2lkZW50aWZpZXJQcm9wTmFtZV0pO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSAoZWx0W3NjYWxlRGVub21pbmF0b3JQcm9wTmFtZV0gKiAwLjI4ZS0zKSAvIG1ldGVyc1BlclVuaXQ7XG4gICAgICAgICAgICB2YXIgdGlsZVdpZHRoID0gZWx0W3RpbGVXaWR0aFByb3BOYW1lXTtcbiAgICAgICAgICAgIHZhciB0aWxlSGVpZ2h0ID0gZWx0W3RpbGVIZWlnaHRQcm9wTmFtZV07XG4gICAgICAgICAgICBpZiAoc3dpdGNoT3JpZ2luWFkpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBlbHRbdG9wTGVmdENvcm5lclByb3BOYW1lXVsxXSxcbiAgICAgICAgICAgICAgICAgICAgZWx0W3RvcExlZnRDb3JuZXJQcm9wTmFtZV1bMF0sXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5zLnB1c2goZWx0W3RvcExlZnRDb3JuZXJQcm9wTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x1dGlvbnMucHVzaChyZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHRpbGVTaXplcy5wdXNoKHRpbGVXaWR0aCA9PSB0aWxlSGVpZ2h0ID8gdGlsZVdpZHRoIDogW3RpbGVXaWR0aCwgdGlsZUhlaWdodF0pO1xuICAgICAgICAgICAgc2l6ZXMucHVzaChbZWx0WydNYXRyaXhXaWR0aCddLCBlbHRbJ01hdHJpeEhlaWdodCddXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFdNVFNUaWxlR3JpZCh7XG4gICAgICAgIGV4dGVudDogb3B0X2V4dGVudCxcbiAgICAgICAgb3JpZ2luczogb3JpZ2lucyxcbiAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zLFxuICAgICAgICBtYXRyaXhJZHM6IG1hdHJpeElkcyxcbiAgICAgICAgdGlsZVNpemVzOiB0aWxlU2l6ZXMsXG4gICAgICAgIHNpemVzOiBzaXplcyxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdNVFMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9GZWF0dXJlXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHt0eXBlb2YgRmVhdHVyZXx0eXBlb2YgaW1wb3J0KFwiLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlQ2xhc3NcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7RmVhdHVyZTxpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdD58aW1wb3J0KFwiLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlTGlrZVxuICovXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfCdjaGFuZ2U6Z2VvbWV0cnknLCBpbXBvcnQoXCIuL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzXG4gKiAgICAgfCdjaGFuZ2U6Z2VvbWV0cnknLCBSZXR1cm4+fSBGZWF0dXJlT25TaWduYXR1cmVcbiAqL1xuLyoqKlxuICogQHRlbXBsYXRlIEdlb21ldHJ5XG4gKiBAdHlwZWRlZiB7T2JqZWN0PHN0cmluZywgKj4gJiB7IGdlb21ldHJ5PzogR2VvbWV0cnkgfX0gT2JqZWN0V2l0aEdlb21ldHJ5XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSB2ZWN0b3Igb2JqZWN0IGZvciBnZW9ncmFwaGljIGZlYXR1cmVzIHdpdGggYSBnZW9tZXRyeSBhbmQgb3RoZXJcbiAqIGF0dHJpYnV0ZSBwcm9wZXJ0aWVzLCBzaW1pbGFyIHRvIHRoZSBmZWF0dXJlcyBpbiB2ZWN0b3IgZmlsZSBmb3JtYXRzIGxpa2VcbiAqIEdlb0pTT04uXG4gKlxuICogRmVhdHVyZXMgY2FuIGJlIHN0eWxlZCBpbmRpdmlkdWFsbHkgd2l0aCBgc2V0U3R5bGVgOyBvdGhlcndpc2UgdGhleSB1c2UgdGhlXG4gKiBzdHlsZSBvZiB0aGVpciB2ZWN0b3IgbGF5ZXIuXG4gKlxuICogTm90ZSB0aGF0IGF0dHJpYnV0ZSBwcm9wZXJ0aWVzIGFyZSBzZXQgYXMge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R9IHByb3BlcnRpZXMgb25cbiAqIHRoZSBmZWF0dXJlIG9iamVjdCwgc28gdGhleSBhcmUgb2JzZXJ2YWJsZSwgYW5kIGhhdmUgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogVHlwaWNhbGx5LCBhIGZlYXR1cmUgaGFzIGEgc2luZ2xlIGdlb21ldHJ5IHByb3BlcnR5LiBZb3UgY2FuIHNldCB0aGVcbiAqIGdlb21ldHJ5IHVzaW5nIHRoZSBgc2V0R2VvbWV0cnlgIG1ldGhvZCBhbmQgZ2V0IGl0IHdpdGggYGdldEdlb21ldHJ5YC5cbiAqIEl0IGlzIHBvc3NpYmxlIHRvIHN0b3JlIG1vcmUgdGhhbiBvbmUgZ2VvbWV0cnkgb24gYSBmZWF0dXJlIHVzaW5nIGF0dHJpYnV0ZVxuICogcHJvcGVydGllcy4gQnkgZGVmYXVsdCwgdGhlIGdlb21ldHJ5IHVzZWQgZm9yIHJlbmRlcmluZyBpcyBpZGVudGlmaWVkIGJ5XG4gKiB0aGUgcHJvcGVydHkgbmFtZSBgZ2VvbWV0cnlgLiBJZiB5b3Ugd2FudCB0byB1c2UgYW5vdGhlciBnZW9tZXRyeSBwcm9wZXJ0eVxuICogZm9yIHJlbmRlcmluZywgdXNlIHRoZSBgc2V0R2VvbWV0cnlOYW1lYCBtZXRob2QgdG8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqIHByb3BlcnR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2VvbWV0cnkgZm9yIHRoZSBmZWF0dXJlLiAgRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqXG4gKiBpbXBvcnQgRmVhdHVyZSBmcm9tICdvbC9GZWF0dXJlJztcbiAqIGltcG9ydCBQb2x5Z29uIGZyb20gJ29sL2dlb20vUG9seWdvbic7XG4gKiBpbXBvcnQgUG9pbnQgZnJvbSAnb2wvZ2VvbS9Qb2ludCc7XG4gKlxuICogdmFyIGZlYXR1cmUgPSBuZXcgRmVhdHVyZSh7XG4gKiAgIGdlb21ldHJ5OiBuZXcgUG9seWdvbihwb2x5Q29vcmRzKSxcbiAqICAgbGFiZWxQb2ludDogbmV3IFBvaW50KGxhYmVsQ29vcmRzKSxcbiAqICAgbmFtZTogJ015IFBvbHlnb24nXG4gKiB9KTtcbiAqXG4gKiAvLyBnZXQgdGhlIHBvbHlnb24gZ2VvbWV0cnlcbiAqIHZhciBwb2x5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZmVhdHVyZSBhcyBhIHBvaW50IHVzaW5nIHRoZSBjb29yZGluYXRlcyBmcm9tIGxhYmVsUG9pbnRcbiAqIGZlYXR1cmUuc2V0R2VvbWV0cnlOYW1lKCdsYWJlbFBvaW50Jyk7XG4gKlxuICogLy8gZ2V0IHRoZSBwb2ludCBnZW9tZXRyeVxuICogdmFyIHBvaW50ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICogYGBgXG4gKlxuICogQGFwaVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gR2VvbWV0cnlcbiAqL1xudmFyIEZlYXR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZlYXR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtHZW9tZXRyeXxPYmplY3RXaXRoR2VvbWV0cnk8R2VvbWV0cnk+fSBbb3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzXVxuICAgICAqICAgICBZb3UgbWF5IHBhc3MgYSBHZW9tZXRyeSBvYmplY3QgZGlyZWN0bHksIG9yIGFuIG9iamVjdCBsaXRlcmFsIGNvbnRhaW5pbmdcbiAgICAgKiAgICAgcHJvcGVydGllcy4gSWYgeW91IHBhc3MgYW4gb2JqZWN0IGxpdGVyYWwsIHlvdSBtYXkgaW5jbHVkZSBhIEdlb21ldHJ5XG4gICAgICogICAgIGFzc29jaWF0ZWQgd2l0aCBhIGBnZW9tZXRyeWAga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZlYXR1cmUob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ZlYXR1cmVPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub247XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge0ZlYXR1cmVPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25jZTtcbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBAdHlwZSB7RmVhdHVyZU9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pZF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnlOYW1lXyA9ICdnZW9tZXRyeSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyIHByb3ZpZGVkIHN0eWxlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZUZ1bmN0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnlDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgX3RoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoX3RoaXMuZ2VvbWV0cnlOYW1lXywgX3RoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXyk7XG4gICAgICAgIGlmIChvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHs/fSAqLyAob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtHZW9tZXRyeX0gKi8gKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0R2VvbWV0cnkoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn0gKi9cbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcztcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBmZWF0dXJlLiBJZiB0aGUgb3JpZ2luYWwgZmVhdHVyZSBoYXMgYSBnZW9tZXRyeSBpdFxuICAgICAqIGlzIGFsc28gY2xvbmVkLiBUaGUgZmVhdHVyZSBpZCBpcyBub3Qgc2V0IGluIHRoZSBjbG9uZS5cbiAgICAgKiBAcmV0dXJuIHtGZWF0dXJlPEdlb21ldHJ5Pn0gVGhlIGNsb25lLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsb25lID0gLyoqIEB0eXBlIHtGZWF0dXJlPEdlb21ldHJ5Pn0gKi8gKG5ldyBGZWF0dXJlKHRoaXMuaGFzUHJvcGVydGllcygpID8gdGhpcy5nZXRQcm9wZXJ0aWVzKCkgOiBudWxsKSk7XG4gICAgICAgIGNsb25lLnNldEdlb21ldHJ5TmFtZSh0aGlzLmdldEdlb21ldHJ5TmFtZSgpKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZXRHZW9tZXRyeSgpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIGNsb25lLnNldEdlb21ldHJ5KC8qKiBAdHlwZSB7R2VvbWV0cnl9ICovIChnZW9tZXRyeS5jbG9uZSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRTdHlsZSgpO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNsb25lLnNldFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LiAgQSBmZWF0dXJlIG1heSBoYXZlIGFueSBudW1iZXIgb2YgbmFtZWRcbiAgICAgKiBnZW9tZXRyaWVzLiAgVGhlIFwiZGVmYXVsdFwiIGdlb21ldHJ5ICh0aGUgb25lIHRoYXQgaXMgcmVuZGVyZWQgYnkgZGVmYXVsdCkgaXNcbiAgICAgKiBzZXQgd2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI3NldEdlb21ldHJ5fS5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeXx1bmRlZmluZWR9IFRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7R2VvbWV0cnl8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQodGhpcy5nZW9tZXRyeU5hbWVfKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUgaWRlbnRpZmllci4gIFRoaXMgaXMgYSBzdGFibGUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUgYW5kXG4gICAgICogaXMgZWl0aGVyIHNldCB3aGVuIHJlYWRpbmcgZGF0YSBmcm9tIGEgcmVtb3RlIHNvdXJjZSBvciBzZXQgZXhwbGljaXRseSBieVxuICAgICAqIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0SWR9LlxuICAgICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBJZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSdzIGRlZmF1bHQgZ2VvbWV0cnkuICBCeSBkZWZhdWx0LCB0aGUgZGVmYXVsdFxuICAgICAqIGdlb21ldHJ5IGlzIG5hbWVkIGBnZW9tZXRyeWAuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBHZXQgdGhlIHByb3BlcnR5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBkZWZhdWx0IGdlb21ldHJ5XG4gICAgICogICAgIGZvciB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldEdlb21ldHJ5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlOYW1lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmVhdHVyZSdzIHN0eWxlLiBXaWxsIHJldHVybiB3aGF0IHdhcyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNzZXRTdHlsZX0gbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfHVuZGVmaW5lZH0gVGhlIGZlYXR1cmUgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBzdHlsZSBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBSZXR1cm4gYSBmdW5jdGlvblxuICAgICAqIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdHlsZSBvZiB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZUtleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IGxpc3RlbihnZW9tZXRyeSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZV8sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIFRoaXMgd2lsbCB1cGRhdGUgdGhlIHByb3BlcnR5XG4gICAgICogd2l0aCB0aGUgbmFtZSByZXR1cm5lZCBieSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNnZXRHZW9tZXRyeU5hbWV9LlxuICAgICAqIEBwYXJhbSB7R2VvbWV0cnl8dW5kZWZpbmVkfSBnZW9tZXRyeSBUaGUgbmV3IGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldEdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMuZ2VvbWV0cnlOYW1lXywgZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBmb3IgdGhlIGZlYXR1cmUgdG8gb3ZlcnJpZGUgdGhlIGxheWVyIHN0eWxlLiAgVGhpcyBjYW4gYmUgYVxuICAgICAqIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5IG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFcbiAgICAgKiByZXNvbHV0aW9uIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHN0eWxlcy4gVG8gdW5zZXQgdGhlIGZlYXR1cmUgc3R5bGUsIGNhbGxcbiAgICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgb3IgYSBmYWxzZXkgdmFsdWUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX0gW29wdF9zdHlsZV0gU3R5bGUgZm9yIHRoaXMgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICogQGZpcmVzIG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2V2ZW50OmNoYW5nZVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKG9wdF9zdHlsZSkge1xuICAgICAgICB0aGlzLnN0eWxlXyA9IG9wdF9zdHlsZTtcbiAgICAgICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9ICFvcHRfc3R5bGVcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IGNyZWF0ZVN0eWxlRnVuY3Rpb24ob3B0X3N0eWxlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZlYXR1cmUgaWQuICBUaGUgZmVhdHVyZSBpZCBpcyBjb25zaWRlcmVkIHN0YWJsZSBhbmQgbWF5IGJlIHVzZWQgd2hlblxuICAgICAqIHJlcXVlc3RpbmcgZmVhdHVyZXMgb3IgY29tcGFyaW5nIGlkZW50aWZpZXJzIHJldHVybmVkIGZyb20gYSByZW1vdGUgc291cmNlLlxuICAgICAqIFRoZSBmZWF0dXJlIGlkIGNhbiBiZSB1c2VkIHdpdGggdGhlXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRGZWF0dXJlQnlJZH0gbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR9IGlkIFRoZSBmZWF0dXJlIGlkLlxuICAgICAqIEBhcGlcbiAgICAgKiBAZmlyZXMgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjZXZlbnQ6Y2hhbmdlXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuc2V0SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdGhpcy5pZF8gPSBpZDtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHByb3BlcnR5IG5hbWUgdG8gYmUgdXNlZCB3aGVuIGdldHRpbmcgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LlxuICAgICAqIFdoZW4gY2FsbGluZyB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNnZXRHZW9tZXRyeX0sIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2l0aFxuICAgICAqIHRoaXMgbmFtZSB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBwcm9wZXJ0eSBuYW1lIG9mIHRoZSBkZWZhdWx0IGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5zZXRHZW9tZXRyeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB0aGlzLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuZ2VvbWV0cnlOYW1lXywgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeU5hbWVfID0gbmFtZTtcbiAgICAgICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLmdlb21ldHJ5TmFtZV8sIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXyk7XG4gICAgICAgIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXygpO1xuICAgIH07XG4gICAgcmV0dXJuIEZlYXR1cmU7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQ29udmVydCB0aGUgcHJvdmlkZWQgb2JqZWN0IGludG8gYSBmZWF0dXJlIHN0eWxlIGZ1bmN0aW9uLiAgRnVuY3Rpb25zIHBhc3NlZFxuICogdGhyb3VnaCB1bmNoYW5nZWQuICBBcnJheXMgb2YgU3R5bGUgb3Igc2luZ2xlIHN0eWxlIG9iamVjdHMgd3JhcHBlZFxuICogaW4gYSBuZXcgZmVhdHVyZSBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IWltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnwhQXJyYXk8aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0PnwhaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBvYmpcbiAqICAgICBBIGZlYXR1cmUgc3R5bGUgZnVuY3Rpb24sIGEgc2luZ2xlIHN0eWxlLCBvciBhbiBhcnJheSBvZiBzdHlsZXMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb259IEEgc3R5bGUgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHlsZUZ1bmN0aW9uKG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3R5bGVzXzE7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHN0eWxlc18xID0gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob2JqKS5nZXRaSW5kZXgpID09PSAnZnVuY3Rpb24nLCA0MSk7IC8vIEV4cGVjdGVkIGFuIGBpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlYCBvciBhbiBhcnJheSBvZiBgaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZWBcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSAqLyAob2JqKTtcbiAgICAgICAgICAgIHN0eWxlc18xID0gW3N0eWxlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlc18xO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWF0dXJlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1JCdXNoXG4gKi9cbmltcG9ydCBSQnVzaF8gZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUsIGVxdWFscyB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbnRyeVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblggTWluWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZIE1pblkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WCBNYXhYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFkgTWF4WS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbdmFsdWVdIFZhbHVlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFdyYXBwZXIgYXJvdW5kIHRoZSBSQnVzaCBieSBWbGFkaW1pciBBZ2Fmb25raW4uXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2guXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIFJCdXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X21heEVudHJpZXNdIE1heCBlbnRyaWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJCdXNoKG9wdF9tYXhFbnRyaWVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYnVzaF8gPSBuZXcgUkJ1c2hfKG9wdF9tYXhFbnRyaWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwcGluZyBiZXR3ZWVuIHRoZSBvYmplY3RzIGFkZGVkIHRvIHRoaXMgcmJ1c2ggd3JhcHBlclxuICAgICAgICAgKiBhbmQgdGhlIG9iamVjdHMgdGhhdCBhcmUgYWN0dWFsbHkgYWRkZWQgdG8gdGhlIGludGVybmFsIHJidXNoLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgRW50cnk+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtc18gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGEgdmFsdWUgaW50byB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChleHRlbnQsIHZhbHVlKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7RW50cnl9ICovXG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgbWluWDogZXh0ZW50WzBdLFxuICAgICAgICAgICAgbWluWTogZXh0ZW50WzFdLFxuICAgICAgICAgICAgbWF4WDogZXh0ZW50WzJdLFxuICAgICAgICAgICAgbWF4WTogZXh0ZW50WzNdLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJidXNoXy5pbnNlcnQoaXRlbSk7XG4gICAgICAgIHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldID0gaXRlbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJ1bGstaW5zZXJ0IHZhbHVlcyBpbnRvIHRoZSBSQnVzaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBleHRlbnRzIEV4dGVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheTxUPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChleHRlbnRzLCB2YWx1ZXMpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBleHRlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtFbnRyeX0gKi9cbiAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgICAgICAgICAgICBtaW5ZOiBleHRlbnRbMV0sXG4gICAgICAgICAgICAgICAgbWF4WDogZXh0ZW50WzJdLFxuICAgICAgICAgICAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaXRlbXNbaV0gPSBpdGVtO1xuICAgICAgICAgICAgdGhpcy5pdGVtc19bZ2V0VWlkKHZhbHVlKV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmJ1c2hfLmxvYWQoaXRlbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdmFsdWUgZnJvbSB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZW1vdmVkLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHVpZCA9IGdldFVpZCh2YWx1ZSk7XG4gICAgICAgIC8vIGdldCB0aGUgb2JqZWN0IGluIHdoaWNoIHRoZSB2YWx1ZSB3YXMgd3JhcHBlZCB3aGVuIGFkZGluZyB0byB0aGVcbiAgICAgICAgLy8gaW50ZXJuYWwgcmJ1c2guIHRoZW4gdXNlIHRoYXQgb2JqZWN0IHRvIGRvIHRoZSByZW1vdmFsLlxuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNfW3VpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1zX1t1aWRdO1xuICAgICAgICByZXR1cm4gdGhpcy5yYnVzaF8ucmVtb3ZlKGl0ZW0pICE9PSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBleHRlbnQgb2YgYSB2YWx1ZSBpbiB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChleHRlbnQsIHZhbHVlKSB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc19bZ2V0VWlkKHZhbHVlKV07XG4gICAgICAgIHZhciBiYm94ID0gW2l0ZW0ubWluWCwgaXRlbS5taW5ZLCBpdGVtLm1heFgsIGl0ZW0ubWF4WV07XG4gICAgICAgIGlmICghZXF1YWxzKGJib3gsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGV4dGVudCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIHZhbHVlcyBpbiB0aGUgUkJ1c2guXG4gICAgICogQHJldHVybiB7QXJyYXk8VD59IEFsbC5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnJidXNoXy5hbGwoKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCB2YWx1ZXMgaW4gdGhlIGdpdmVuIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHJldHVybiB7QXJyYXk8VD59IEFsbCBpbiBleHRlbnQuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmdldEluRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICAgICAgICB2YXIgYmJveCA9IHtcbiAgICAgICAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgICAgICAgIG1pblk6IGV4dGVudFsxXSxcbiAgICAgICAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgICAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yYnVzaF8uc2VhcmNoKGJib3gpO1xuICAgICAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxscyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggZWFjaCB2YWx1ZSBpbiB0aGUgdHJlZS5cbiAgICAgKiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhpcyB2YWx1ZSBpcyByZXR1cm5lZCB3aXRob3V0XG4gICAgICogY2hlY2tpbmcgdGhlIHJlc3Qgb2YgdGhlIHRyZWUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogKn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gICAgICogQHJldHVybiB7Kn0gQ2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hfKHRoaXMuZ2V0QWxsKCksIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxzIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBlYWNoIHZhbHVlIGluIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZm9yRWFjaEluRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaF8odGhpcy5nZXRJbkV4dGVudChleHRlbnQpLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PFQ+fSB2YWx1ZXMgVmFsdWVzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Kn0gQ2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5mb3JFYWNoXyA9IGZ1bmN0aW9uICh2YWx1ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2sodmFsdWVzW2ldKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW1wdHkodGhpcy5pdGVtc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCB2YWx1ZXMgZnJvbSB0aGUgUkJ1c2guXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJidXNoXy5jbGVhcigpO1xuICAgICAgICB0aGlzLml0ZW1zXyA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbb3B0X2V4dGVudF0gRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKG9wdF9leHRlbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJidXNoXy50b0pTT04oKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKGRhdGEubWluWCwgZGF0YS5taW5ZLCBkYXRhLm1heFgsIGRhdGEubWF4WSwgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1JCdXNofSByYnVzaCBSLVRyZWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uIChyYnVzaCkge1xuICAgICAgICB0aGlzLnJidXNoXy5sb2FkKHJidXNoLnJidXNoXy5hbGwoKSk7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcmJ1c2guaXRlbXNfKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zX1tpXSA9IHJidXNoLml0ZW1zX1tpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJCdXNoO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJCdXNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UkJ1c2guanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9WZWN0b3JFdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBmZWF0dXJlIGlzIGFkZGVkIHRvIHRoZSBzb3VyY2UuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2FkZGZlYXR1cmVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQURERkVBVFVSRTogJ2FkZGZlYXR1cmUnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyB1cGRhdGVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNjaGFuZ2VmZWF0dXJlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENIQU5HRUZFQVRVUkU6ICdjaGFuZ2VmZWF0dXJlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgY2xlYXIgbWV0aG9kIGlzIGNhbGxlZCBvbiB0aGUgc291cmNlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNjbGVhclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDTEVBUjogJ2NsZWFyJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGZlYXR1cmUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjY2xlYXIgc291cmNlLmNsZWFyKCl9IGZvciBleGNlcHRpb25zLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNyZW1vdmVmZWF0dXJlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJFTU9WRUZFQVRVUkU6ICdyZW1vdmVmZWF0dXJlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBmZWF0dXJlcyBzdGFydHMgbG9hZGluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjZmVhdHVyZXNsb2Fkc3RhcnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRkVBVFVSRVNMT0FEU1RBUlQ6ICdmZWF0dXJlc2xvYWRzdGFydCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gZmVhdHVyZXMgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjZmVhdHVyZXNsb2FkZW5kXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZFQVRVUkVTTE9BREVORDogJ2ZlYXR1cmVzbG9hZGVuZCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGlmIGZlYXR1cmUgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNmZWF0dXJlc2xvYWRlcnJvclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUFUVVJFU0xPQURFUlJPUjogJ2ZlYXR1cmVzbG9hZGVycm9yJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHsnYWRkZmVhdHVyZSd8J2NoYW5nZWZlYXR1cmUnfCdjbGVhcid8J3JlbW92ZWZlYXR1cmUnfCdmZWF0dXJlc2xvYWRzdGFydCd8J2ZlYXR1cmVzbG9hZGVuZCd8J2ZlYXR1cmVzbG9hZGVycm9yJ30gVmVjdG9yU291cmNlRXZlbnRUeXBlc1xuICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xvYWRpbmdzdHJhdGVneVxuICovXG5pbXBvcnQgeyBmcm9tVXNlckV4dGVudCwgZnJvbVVzZXJSZXNvbHV0aW9uLCB0b1VzZXJFeHRlbnQgfSBmcm9tICcuL3Byb2ouanMnO1xuLyoqXG4gKiBTdHJhdGVneSBmdW5jdGlvbiBmb3IgbG9hZGluZyBhbGwgZmVhdHVyZXMgd2l0aCBhIHNpbmdsZSByZXF1ZXN0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gRXh0ZW50cy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsbChleHRlbnQsIHJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gW1stSW5maW5pdHksIC1JbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XV07XG59XG4vKipcbiAqIFN0cmF0ZWd5IGZ1bmN0aW9uIGZvciBsb2FkaW5nIGZlYXR1cmVzIGJhc2VkIG9uIHRoZSB2aWV3J3MgZXh0ZW50IGFuZFxuICogcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYm94KGV4dGVudCwgcmVzb2x1dGlvbikge1xuICAgIHJldHVybiBbZXh0ZW50XTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHN0cmF0ZWd5IGZ1bmN0aW9uIGZvciBsb2FkaW5nIGZlYXR1cmVzIGJhc2VkIG9uIGEgdGlsZSBncmlkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLCBpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbik6IEFycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IExvYWRpbmcgc3RyYXRlZ3kuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWxlKHRpbGVHcmlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb259IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHogPSB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihmcm9tVXNlclJlc29sdXRpb24ocmVzb2x1dGlvbiwgcHJvamVjdGlvbikpO1xuICAgICAgICB2YXIgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihmcm9tVXNlckV4dGVudChleHRlbnQsIHByb2plY3Rpb24pLCB6KTtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSAqL1xuICAgICAgICB2YXIgZXh0ZW50cyA9IFtdO1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gKi9cbiAgICAgICAgdmFyIHRpbGVDb29yZCA9IFt6LCAwLCAwXTtcbiAgICAgICAgZm9yICh0aWxlQ29vcmRbMV0gPSB0aWxlUmFuZ2UubWluWDsgdGlsZUNvb3JkWzFdIDw9IHRpbGVSYW5nZS5tYXhYOyArK3RpbGVDb29yZFsxXSkge1xuICAgICAgICAgICAgZm9yICh0aWxlQ29vcmRbMl0gPSB0aWxlUmFuZ2UubWluWTsgdGlsZUNvb3JkWzJdIDw9IHRpbGVSYW5nZS5tYXhZOyArK3RpbGVDb29yZFsyXSkge1xuICAgICAgICAgICAgICAgIGV4dGVudHMucHVzaCh0b1VzZXJFeHRlbnQodGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCksIHByb2plY3Rpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0ZW50cztcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRpbmdzdHJhdGVneS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZm9ybWF0L0Zvcm1hdFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQVJSQVlfQlVGRkVSOiAnYXJyYXlidWZmZXInLFxuICAgIEpTT046ICdqc29uJyxcbiAgICBURVhUOiAndGV4dCcsXG4gICAgWE1MOiAneG1sJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Gb3JtYXRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9mZWF0dXJlbG9hZGVyXG4gKi9cbmltcG9ydCBGb3JtYXRUeXBlIGZyb20gJy4vZm9ybWF0L0Zvcm1hdFR5cGUuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbi8qKlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xudmFyIHdpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBsb2FkIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgdXAgdG8gNSBhcmd1bWVudHMuIFRoZXNlIGFyZSBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHJlcHJlc2VudGluZ1xuICogdGhlIGFyZWEgdG8gYmUgbG9hZGVkLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKSwgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBmb3IgdGhlIHByb2plY3Rpb24sIGFuIG9wdGlvbmFsIHN1Y2Nlc3MgY2FsbGJhY2sgdGhhdCBzaG91bGQgZ2V0XG4gKiB0aGUgbG9hZGVkIGZlYXR1cmVzIHBhc3NlZCBhcyBhbiBhcmd1bWVudCBhbmQgYW4gb3B0aW9uYWwgZmFpbHVyZSBjYWxsYmFjayB3aXRoIG5vIGFyZ3VtZW50cy4gSWZcbiAqIHRoZSBjYWxsYmFja3MgYXJlIG5vdCB1c2VkLCB0aGUgY29ycmVzcG9uZGluZyB2ZWN0b3Igc291cmNlIHdpbGwgbm90IGZpcmUgYCdmZWF0dXJlc2xvYWRlbmQnYCBhbmRcbiAqIGAnZmVhdHVyZXNsb2FkZXJyb3InYCBldmVudHMuIGB0aGlzYCB3aXRoaW4gdGhlIGZ1bmN0aW9uIGlzIGJvdW5kIHRvIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBpdCdzIGNhbGxlZCBmcm9tLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyB0aGUgZmVhdHVyZXMgYW5kIGFkZGluZyB0aGVtIHRvIHRoZVxuICogc291cmNlLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6KGltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0KSxcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQsXG4gKiAgICAgICAgICAgbnVtYmVyLFxuICogICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQsXG4gKiAgICAgICAgICAgZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+KTogdm9pZD0sXG4gKiAgICAgICAgICAgZnVuY3Rpb24oKTogdm9pZD0pOiB2b2lkfSBGZWF0dXJlTG9hZGVyXG4gKiBAYXBpXG4gKi9cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0b1xuICogZ2V0IHRoZSB1cmwgdG8gbG9hZCBmZWF0dXJlcyBmcm9tLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSByZXByZXNlbnRpbmcgdGhlIGFyZWFcbiAqIHRvIGJlIGxvYWRlZCwgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcmVzb2x1dGlvbiAobWFwIHVuaXRzIHBlciBwaXhlbClcbiAqIGFuZCBhbiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uICBhc1xuICogYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgYHtzdHJpbmd9YCByZXByZXNlbnRpbmcgdGhlIFVSTC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlciwgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCk6IHN0cmluZ30gRmVhdHVyZVVybEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8RmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgRmVhdHVyZSBVUkwgc2VydmljZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogdm9pZH0gc3VjY2VzcyBTdWNjZXNzXG4gKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBsb2FkZWQgZmVhdHVyZXMgYW5kIG9wdGlvbmFsbHkgd2l0aCB0aGUgZGF0YSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBmYWlsdXJlIEZhaWx1cmVcbiAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBmYWlsZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRmVhdHVyZXNYaHIodXJsLCBmb3JtYXQsIGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbiwgc3VjY2VzcywgZmFpbHVyZSkge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbignR0VUJywgdHlwZW9mIHVybCA9PT0gJ2Z1bmN0aW9uJyA/IHVybChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIDogdXJsLCB0cnVlKTtcbiAgICBpZiAoZm9ybWF0LmdldFR5cGUoKSA9PSBGb3JtYXRUeXBlLkFSUkFZX0JVRkZFUikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICB9XG4gICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gc3RhdHVzIHdpbGwgYmUgMCBmb3IgZmlsZTovLyB1cmxzXG4gICAgICAgIGlmICgheGhyLnN0YXR1cyB8fCAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZm9ybWF0LmdldFR5cGUoKTtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7RG9jdW1lbnR8Tm9kZXxPYmplY3R8c3RyaW5nfHVuZGVmaW5lZH0gKi9cbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBGb3JtYXRUeXBlLkpTT04gfHwgdHlwZSA9PSBGb3JtYXRUeXBlLlRFWFQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBGb3JtYXRUeXBlLlhNTCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IHhoci5yZXNwb25zZVhNTDtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhoci5yZXNwb25zZVRleHQsICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IEZvcm1hdFR5cGUuQVJSQVlfQlVGRkVSKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gLyoqIEB0eXBlIHtBcnJheUJ1ZmZlcn0gKi8gKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgICAgICAgICAgICAgICAoZm9ybWF0LnJlYWRGZWF0dXJlcyhzb3VyY2UsIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50OiBleHRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0pKSwgZm9ybWF0LnJlYWRQcm9qZWN0aW9uKHNvdXJjZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmFpbHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHhoci5vbmVycm9yID0gZmFpbHVyZTtcbiAgICB4aHIuc2VuZCgpO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gWEhSIGZlYXR1cmUgbG9hZGVyIGZvciBhIGB1cmxgIGFuZCBgZm9ybWF0YC4gVGhlIGZlYXR1cmUgbG9hZGVyXG4gKiBsb2FkcyBmZWF0dXJlcyAod2l0aCBYSFIpLCBwYXJzZXMgdGhlIGZlYXR1cmVzLCBhbmQgYWRkcyB0aGVtIHRvIHRoZVxuICogdmVjdG9yIHNvdXJjZS5cbiAqIEBwYXJhbSB7c3RyaW5nfEZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIEZlYXR1cmUgVVJMIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZm9ybWF0IEZlYXR1cmUgZm9ybWF0LlxuICogQHJldHVybiB7RmVhdHVyZUxvYWRlcn0gVGhlIGZlYXR1cmUgbG9hZGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24geGhyKHVybCwgZm9ybWF0KSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pik6IHZvaWR9IFtzdWNjZXNzXSBTdWNjZXNzXG4gICAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIHN1Y2NlZWRlZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFtmYWlsdXJlXSBGYWlsdXJlXG4gICAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIGZhaWxlZC5cbiAgICAgKiBAdGhpcyB7aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR9ICovICh0aGlzKTtcbiAgICAgICAgbG9hZEZlYXR1cmVzWGhyKHVybCwgZm9ybWF0LCBleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IGZlYXR1cmVzIFRoZSBsb2FkZWQgZmVhdHVyZXMuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGF0YVByb2plY3Rpb24gRGF0YVxuICAgICAgICAgKiBwcm9qZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmVzLCBkYXRhUHJvamVjdGlvbikge1xuICAgICAgICAgICAgc291cmNlLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKGZlYXR1cmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgXG4gICAgICAgIC8qIEZJWE1FIGhhbmRsZSBlcnJvciAqLyBmYWlsdXJlID8gZmFpbHVyZSA6IFZPSUQpO1xuICAgIH07XG59XG4vKipcbiAqIFNldHRlciBmb3IgdGhlIHdpdGhDcmVkZW50aWFscyBjb25maWd1cmF0aW9uIGZvciB0aGUgWEhSLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geGhyV2l0aENyZWRlbnRpYWxzIFRoZSB2YWx1ZSBvZiB3aXRoQ3JlZGVudGlhbHMgdG8gc2V0LlxuICogQ29tcGFyZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRXaXRoQ3JlZGVudGlhbHMoeGhyV2l0aENyZWRlbnRpYWxzKSB7XG4gICAgd2l0aENyZWRlbnRpYWxzID0geGhyV2l0aENyZWRlbnRpYWxzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZWxvYWRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1ZlY3RvclxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICcuLi9zdHJ1Y3RzL1JCdXNoLmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4vU3RhdGUuanMnO1xuaW1wb3J0IFZlY3RvckV2ZW50VHlwZSBmcm9tICcuL1ZlY3RvckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBUUlVFLCBWT0lEIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFsbCBhcyBhbGxTdHJhdGVneSB9IGZyb20gJy4uL2xvYWRpbmdzdHJhdGVneS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zRXh0ZW50LCBlcXVhbHMgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZXMsIGlzRW1wdHkgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHhociB9IGZyb20gJy4uL2ZlYXR1cmVsb2FkZXIuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSBhbmQgYSByZXNvbHV0aW9uIGFzIGFyZ3VtZW50cywgYW5kXG4gKiByZXR1cm5zIGFuIGFycmF5IG9mIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gd2l0aCB0aGUgZXh0ZW50cyB0byBsb2FkLiBVc3VhbGx5IHRoaXNcbiAqIGlzIG9uZSBvZiB0aGUgc3RhbmRhcmQge0BsaW5rIG1vZHVsZTpvbC9sb2FkaW5nc3RyYXRlZ3l9IHN0cmF0ZWdpZXMuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlciwgaW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiBBcnJheTxpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gTG9hZGluZ1N0cmF0ZWd5XG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5XG4gKi9cbnZhciBWZWN0b3JTb3VyY2VFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmVjdG9yU291cmNlRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IFtvcHRfZmVhdHVyZV0gRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBbb3B0X2ZlYXR1cmVzXSBGZWF0dXJlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWZWN0b3JTb3VyY2VFdmVudCh0eXBlLCBvcHRfZmVhdHVyZSwgb3B0X2ZlYXR1cmVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWRkZWQgb3IgcmVtb3ZlZCBmZWF0dXJlIGZvciB0aGUgYEFEREZFQVRVUkVgIGFuZCBgUkVNT1ZFRkVBVFVSRWAgZXZlbnRzLCBgdW5kZWZpbmVkYCBvdGhlcndpc2UuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZSA9IG9wdF9mZWF0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvYWRlZCBmZWF0dXJlcyBmb3IgdGhlIGBGRUFUVVJFU0xPQURFRGAgZXZlbnQsIGB1bmRlZmluZWRgIG90aGVyd2lzZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZXMgPSBvcHRfZmVhdHVyZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFZlY3RvclNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgVmVjdG9yU291cmNlRXZlbnQgfTtcbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlcywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL1ZlY3RvckV2ZW50VHlwZVwiKS5WZWN0b3JTb3VyY2VFdmVudFR5cGVzLCBWZWN0b3JTb3VyY2VFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgIGltcG9ydChcIi4vVmVjdG9yRXZlbnRUeXBlXCIpLlZlY3RvclNvdXJjZUV2ZW50VHlwZXMsIFJldHVybj59IFZlY3RvclNvdXJjZU9uU2lnbmF0dXJlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IFtmZWF0dXJlc11cbiAqIEZlYXR1cmVzLiBJZiBwcm92aWRlZCBhcyB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259LCB0aGUgZmVhdHVyZXMgaW4gdGhlIHNvdXJjZVxuICogYW5kIHRoZSBjb2xsZWN0aW9uIHdpbGwgc3RheSBpbiBzeW5jLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBbZm9ybWF0XSBUaGUgZmVhdHVyZSBmb3JtYXQgdXNlZCBieSB0aGUgWEhSXG4gKiBmZWF0dXJlIGxvYWRlciB3aGVuIGB1cmxgIGlzIHNldC4gUmVxdWlyZWQgaWYgYHVybGAgaXMgc2V0LCBvdGhlcndpc2UgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfSBbbG9hZGVyXVxuICogVGhlIGxvYWRlciBmdW5jdGlvbiB1c2VkIHRvIGxvYWQgZmVhdHVyZXMsIGZyb20gYSByZW1vdGUgc291cmNlIGZvciBleGFtcGxlLlxuICogSWYgdGhpcyBpcyBub3Qgc2V0IGFuZCBgdXJsYCBpcyBzZXQsIHRoZSBzb3VyY2Ugd2lsbCBjcmVhdGUgYW5kIHVzZSBhbiBYSFJcbiAqIGZlYXR1cmUgbG9hZGVyLiBUaGUgYCdmZWF0dXJlc2xvYWRlbmQnYCBhbmQgYCdmZWF0dXJlc2xvYWRlcnJvcidgIGV2ZW50c1xuICogd2lsbCBvbmx5IGZpcmUgaWYgdGhlIGBzdWNjZXNzYCBhbmQgYGZhaWx1cmVgIGNhbGxiYWNrcyBhcmUgdXNlZC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge1ZlY3Rvcn0gZnJvbSAnb2wvc291cmNlJztcbiAqIGltcG9ydCB7R2VvSlNPTn0gZnJvbSAnb2wvZm9ybWF0JztcbiAqIGltcG9ydCB7YmJveH0gZnJvbSAnb2wvbG9hZGluZ3N0cmF0ZWd5JztcbiAqXG4gKiB2YXIgdmVjdG9yU291cmNlID0gbmV3IFZlY3Rvcih7XG4gKiAgIGZvcm1hdDogbmV3IEdlb0pTT04oKSxcbiAqICAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAqICAgICAgdmFyIHByb2ogPSBwcm9qZWN0aW9uLmdldENvZGUoKTtcbiAqICAgICAgdmFyIHVybCA9ICdodHRwczovL2Fob2NldmFyLmNvbS9nZW9zZXJ2ZXIvd2ZzP3NlcnZpY2U9V0ZTJicgK1xuICogICAgICAgICAgJ3ZlcnNpb249MS4xLjAmcmVxdWVzdD1HZXRGZWF0dXJlJnR5cGVuYW1lPW9zbTp3YXRlcl9hcmVhcyYnICtcbiAqICAgICAgICAgICdvdXRwdXRGb3JtYXQ9YXBwbGljYXRpb24vanNvbiZzcnNuYW1lPScgKyBwcm9qICsgJyYnICtcbiAqICAgICAgICAgICdiYm94PScgKyBleHRlbnQuam9pbignLCcpICsgJywnICsgcHJvajtcbiAqICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICogICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAqICAgICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICB2ZWN0b3JTb3VyY2UucmVtb3ZlTG9hZGVkRXh0ZW50KGV4dGVudCk7XG4gKiAgICAgICAgZmFpbHVyZSgpO1xuICogICAgICB9XG4gKiAgICAgIHhoci5vbmVycm9yID0gb25FcnJvcjtcbiAqICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICogICAgICAgICAgdmFyIGZlYXR1cmVzID0gdmVjdG9yU291cmNlLmdldEZvcm1hdCgpLnJlYWRGZWF0dXJlcyh4aHIucmVzcG9uc2VUZXh0KTtcbiAqICAgICAgICAgIHZlY3RvclNvdXJjZS5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XG4gKiAgICAgICAgICBzdWNjZXNzKGZlYXR1cmVzKTtcbiAqICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgb25FcnJvcigpO1xuICogICAgICAgIH1cbiAqICAgICAgfVxuICogICAgICB4aHIuc2VuZCgpO1xuICogICAgfSxcbiAqICAgIHN0cmF0ZWd5OiBiYm94XG4gKiAgfSk7XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJsYXBzPXRydWVdIFRoaXMgc291cmNlIG1heSBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gKiBTZXR0aW5nIHRoaXMgdG8gYGZhbHNlYCAoZS5nLiBmb3Igc291cmNlcyB3aXRoIHBvbHlnb25zIHRoYXQgcmVwcmVzZW50IGFkbWluaXN0cmF0aXZlXG4gKiBib3VuZGFyaWVzIG9yIFRvcG9KU09OIHNvdXJjZXMpIGFsbG93cyB0aGUgcmVuZGVyZXIgdG8gb3B0aW1pc2UgZmlsbCBhbmRcbiAqIHN0cm9rZSBvcGVyYXRpb25zLlxuICogQHByb3BlcnR5IHtMb2FkaW5nU3RyYXRlZ3l9IFtzdHJhdGVneV0gVGhlIGxvYWRpbmcgc3RyYXRlZ3kgdG8gdXNlLlxuICogQnkgZGVmYXVsdCBhbiB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneS5hbGx9XG4gKiBzdHJhdGVneSBpcyB1c2VkLCBhIG9uZS1vZmYgc3RyYXRlZ3kgd2hpY2ggbG9hZHMgYWxsIGZlYXR1cmVzIGF0IG9uY2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbn0gW3VybF1cbiAqIFNldHRpbmcgdGhpcyBvcHRpb24gaW5zdHJ1Y3RzIHRoZSBzb3VyY2UgdG8gbG9hZCBmZWF0dXJlcyB1c2luZyBhbiBYSFIgbG9hZGVyXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvZmVhdHVyZWxvYWRlci54aHJ9KS4gVXNlIGEgYHN0cmluZ2AgYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneS5hbGx9IGZvciBhIG9uZS1vZmYgZG93bmxvYWQgb2YgYWxsIGZlYXR1cmVzIGZyb21cbiAqIHRoZSBnaXZlbiBVUkwuIFVzZSBhIHtAbGluayBtb2R1bGU6b2wvZmVhdHVyZWxvYWRlcn5GZWF0dXJlVXJsRnVuY3Rpb259IHRvIGdlbmVyYXRlIHRoZSB1cmwgd2l0aFxuICogb3RoZXIgbG9hZGluZyBzdHJhdGVnaWVzLlxuICogUmVxdWlyZXMgYGZvcm1hdGAgdG8gYmUgc2V0IGFzIHdlbGwuXG4gKiBXaGVuIGRlZmF1bHQgWEhSIGZlYXR1cmUgbG9hZGVyIGlzIHByb3ZpZGVkLCB0aGUgZmVhdHVyZXMgd2lsbFxuICogYmUgdHJhbnNmb3JtZWQgZnJvbSB0aGUgZGF0YSBwcm9qZWN0aW9uIHRvIHRoZSB2aWV3IHByb2plY3Rpb25cbiAqIGR1cmluZyBwYXJzaW5nLiBJZiB5b3VyIHJlbW90ZSBkYXRhIHNvdXJjZSBkb2VzIG5vdCBhZHZlcnRpc2UgaXRzIHByb2plY3Rpb25cbiAqIHByb3Blcmx5LCB0aGlzIHRyYW5zZm9ybWF0aW9uIHdpbGwgYmUgaW5jb3JyZWN0LiBGb3Igc29tZSBmb3JtYXRzLCB0aGVcbiAqIGRlZmF1bHQgcHJvamVjdGlvbiAodXN1YWxseSBFUFNHOjQzMjYpIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgdGhlXG4gKiBkYXRhUHJvamVjdGlvbiBjb25zdHJ1Y3RvciBvcHRpb24gb24gdGhlIGZvcm1hdC5cbiAqIE5vdGUgdGhhdCBpZiBhIHNvdXJjZSBjb250YWlucyBub24tZmVhdHVyZSBkYXRhLCBzdWNoIGFzIGEgR2VvSlNPTiBnZW9tZXRyeVxuICogb3IgYSBLTUwgTmV0d29ya0xpbmssIHRoZXNlIHdpbGwgYmUgaWdub3JlZC4gVXNlIGEgY3VzdG9tIGxvYWRlciB0byBsb2FkIHRoZXNlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlU3BhdGlhbEluZGV4PXRydWVdXG4gKiBCeSBkZWZhdWx0LCBhbiBSVHJlZSBpcyB1c2VkIGFzIHNwYXRpYWwgaW5kZXguIFdoZW4gZmVhdHVyZXMgYXJlIHJlbW92ZWQgYW5kXG4gKiBhZGRlZCBmcmVxdWVudGx5LCBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBmZWF0dXJlcyBpcyBsb3csIHNldHRpbmcgdGhpcyB0b1xuICogYGZhbHNlYCBtYXkgaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAqXG4gKiBOb3RlIHRoYXRcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZXNJbkV4dGVudH0sXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RXh0ZW50fSBjYW5ub3QgYmUgdXNlZCB3aGVuIGB1c2VTcGF0aWFsSW5kZXhgIGlzXG4gKiBzZXQgdG8gYGZhbHNlYCwgYW5kIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbkV4dGVudH0gd2lsbCBsb29wXG4gKiB0aHJvdWdoIGFsbCBmZWF0dXJlcy5cbiAqXG4gKiBXaGVuIHNldCB0byBgZmFsc2VgLCB0aGUgZmVhdHVyZXMgd2lsbCBiZSBtYWludGFpbmVkIGluIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259LCB3aGljaCBjYW4gYmUgcmV0cmlldmVkIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZXNDb2xsZWN0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS4gRm9yIHZlY3RvciBlZGl0aW5nIGFjcm9zcyB0aGVcbiAqIC0xODDCsCBhbmQgMTgwwrAgbWVyaWRpYW5zIHRvIHdvcmsgcHJvcGVybHksIHRoaXMgc2hvdWxkIGJlIHNldCB0byBgZmFsc2VgLiBUaGVcbiAqIHJlc3VsdGluZyBnZW9tZXRyeSBjb29yZGluYXRlcyB3aWxsIHRoZW4gZXhjZWVkIHRoZSB3b3JsZCBib3VuZHMuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvdmlkZXMgYSBzb3VyY2Ugb2YgZmVhdHVyZXMgZm9yIHZlY3RvciBsYXllcnMuIFZlY3RvciBmZWF0dXJlcyBwcm92aWRlZFxuICogYnkgdGhpcyBzb3VyY2UgYXJlIHN1aXRhYmxlIGZvciBlZGl0aW5nLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfSBmb3JcbiAqIHZlY3RvciBkYXRhIHRoYXQgaXMgb3B0aW1pemVkIGZvciByZW5kZXJpbmcuXG4gKlxuICogQGZpcmVzIFZlY3RvclNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gR2VvbWV0cnlcbiAqL1xudmFyIFZlY3RvclNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmVjdG9yU291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBWZWN0b3Igc291cmNlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmVjdG9yU291cmNlKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGludGVycG9sYXRlOiB0cnVlLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3RhdGU6IFNvdXJjZVN0YXRlLlJFQURZLFxuICAgICAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWZWN0b3JTb3VyY2VPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uO1xuICAgICAgICAvKioqXG4gICAgICAgICAqIEB0eXBlIHtWZWN0b3JTb3VyY2VPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uY2U7XG4gICAgICAgIC8qKipcbiAgICAgICAgICogQHR5cGUge1ZlY3RvclNvdXJjZU9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGVyXyA9IFZPSUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JtYXRfID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJsYXBzXyA9IG9wdGlvbnMub3ZlcmxhcHMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLm92ZXJsYXBzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmxfID0gb3B0aW9ucy51cmw7XG4gICAgICAgIGlmIChvcHRpb25zLmxvYWRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkZXJfID0gb3B0aW9ucy5sb2FkZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMudXJsXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnQoX3RoaXMuZm9ybWF0XywgNyk7IC8vIGBmb3JtYXRgIG11c3QgYmUgc2V0IHdoZW4gYHVybGAgaXMgc2V0XG4gICAgICAgICAgICAvLyBjcmVhdGUgYSBYSFIgZmVhdHVyZSBsb2FkZXIgZm9yIFwidXJsXCIgYW5kIFwiZm9ybWF0XCJcbiAgICAgICAgICAgIF90aGlzLmxvYWRlcl8gPSB4aHIoX3RoaXMudXJsXywgXG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovIChfdGhpcy5mb3JtYXRfKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtMb2FkaW5nU3RyYXRlZ3l9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJhdGVneV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5zdHJhdGVneSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJhdGVneSA6IGFsbFN0cmF0ZWd5O1xuICAgICAgICB2YXIgdXNlU3BhdGlhbEluZGV4ID0gb3B0aW9ucy51c2VTcGF0aWFsSW5kZXggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlU3BhdGlhbEluZGV4IDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSQnVzaDxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmVzUnRyZWVfID0gdXNlU3BhdGlhbEluZGV4ID8gbmV3IFJCdXNoKCkgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1JCdXNoPHtleHRlbnQ6IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvYWRlZEV4dGVudHNSdHJlZV8gPSBuZXcgUkJ1c2goKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb2FkaW5nRXh0ZW50c0NvdW50XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxvb2t1cCBvZiBmZWF0dXJlcyBieSBpZCAodGhlIHJldHVybiBmcm9tIGZlYXR1cmUuZ2V0SWQoKSkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pZEluZGV4XyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsb29rdXAgb2YgZmVhdHVyZXMgYnkgdWlkICh1c2luZyBnZXRVaWQoZmVhdHVyZSkpLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudWlkSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZUNoYW5nZUtleXNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8gPSBudWxsO1xuICAgICAgICB2YXIgY29sbGVjdGlvbiwgZmVhdHVyZXM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuZmVhdHVyZXMpKSB7XG4gICAgICAgICAgICBmZWF0dXJlcyA9IG9wdGlvbnMuZmVhdHVyZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5mZWF0dXJlcykge1xuICAgICAgICAgICAgY29sbGVjdGlvbiA9IG9wdGlvbnMuZmVhdHVyZXM7XG4gICAgICAgICAgICBmZWF0dXJlcyA9IGNvbGxlY3Rpb24uZ2V0QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVzZVNwYXRpYWxJbmRleCAmJiBjb2xsZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbihmZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlYXR1cmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmFkZEZlYXR1cmVzSW50ZXJuYWwoZmVhdHVyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2xsZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fKGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2luZ2xlIGZlYXR1cmUgdG8gdGhlIHNvdXJjZS4gIElmIHlvdSB3YW50IHRvIGFkZCBhIGJhdGNoIG9mIGZlYXR1cmVzXG4gICAgICogYXQgb25jZSwgY2FsbCB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2FkZEZlYXR1cmVzICNhZGRGZWF0dXJlcygpfVxuICAgICAqIGluc3RlYWQuIEEgZmVhdHVyZSB3aWxsIG5vdCBiZSBhZGRlZCB0byB0aGUgc291cmNlIGlmIGZlYXR1cmUgd2l0aFxuICAgICAqIHRoZSBzYW1lIGlkIGlzIGFscmVhZHkgdGhlcmUuIFRoZSByZWFzb24gZm9yIHRoaXMgYmVoYXZpb3IgaXMgdG8gYXZvaWRcbiAgICAgKiBmZWF0dXJlIGR1cGxpY2F0aW9uIHdoZW4gdXNpbmcgYmJveCBvciB0aWxlIGxvYWRpbmcgc3RyYXRlZ2llcy5cbiAgICAgKiBOb3RlOiB0aGlzIGFsc28gYXBwbGllcyBpZiBhbiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259IGlzIHVzZWQgZm9yIGZlYXR1cmVzLFxuICAgICAqIG1lYW5pbmcgdGhhdCBpZiBhIGZlYXR1cmUgd2l0aCBhIGR1cGxpY2F0ZSBpZCBpcyBhZGRlZCBpbiB0aGUgY29sbGVjdGlvbiwgaXQgd2lsbFxuICAgICAqIGJlIHJlbW92ZWQgZnJvbSBpdCByaWdodCBhd2F5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlIHRvIGFkZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5hZGRGZWF0dXJlSW50ZXJuYWwoZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgZmVhdHVyZSB3aXRob3V0IGZpcmluZyBhIGBjaGFuZ2VgIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVJbnRlcm5hbCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICBpZiAoIXRoaXMuYWRkVG9JbmRleF8oZmVhdHVyZUtleSwgZmVhdHVyZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8ucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXBDaGFuZ2VFdmVudHNfKGZlYXR1cmVLZXksIGZlYXR1cmUpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgdmFyIGV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmluc2VydChleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlS2V5IFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgVGhlIGZlYXR1cmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnNldHVwQ2hhbmdlRXZlbnRzXyA9IGZ1bmN0aW9uIChmZWF0dXJlS2V5LCBmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVLZXldID0gW1xuICAgICAgICAgICAgbGlzdGVuKGZlYXR1cmUsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlRmVhdHVyZUNoYW5nZV8sIHRoaXMpLFxuICAgICAgICAgICAgbGlzdGVuKGZlYXR1cmUsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5oYW5kbGVGZWF0dXJlQ2hhbmdlXywgdGhpcyksXG4gICAgICAgIF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUtleSBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIFRoZSBmZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBmZWF0dXJlIGlzIFwidmFsaWRcIiwgaW4gdGhlIHNlbnNlIHRoYXQgaXQgaXMgYWxzbyBhXG4gICAgICogICAgIGNhbmRpZGF0ZSBmb3IgaW5zZXJ0aW9uIGludG8gdGhlIFJ0cmVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRUb0luZGV4XyA9IGZ1bmN0aW9uIChmZWF0dXJlS2V5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciB2YWxpZCA9IHRydWU7XG4gICAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghKGlkLnRvU3RyaW5nKCkgaW4gdGhpcy5pZEluZGV4XykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gZmVhdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICBhc3NlcnQoIShmZWF0dXJlS2V5IGluIHRoaXMudWlkSW5kZXhfKSwgMzApOyAvLyBUaGUgcGFzc2VkIGBmZWF0dXJlYCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgc291cmNlXG4gICAgICAgICAgICB0aGlzLnVpZEluZGV4X1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgYmF0Y2ggb2YgZmVhdHVyZXMgdG8gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBmZWF0dXJlcyBGZWF0dXJlcyB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgICAgICAgdGhpcy5hZGRGZWF0dXJlc0ludGVybmFsKGZlYXR1cmVzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgZmVhdHVyZXMgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlc0ludGVybmFsID0gZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gICAgICAgIHZhciBleHRlbnRzID0gW107XG4gICAgICAgIHZhciBuZXdGZWF0dXJlcyA9IFtdO1xuICAgICAgICB2YXIgZ2VvbWV0cnlGZWF0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRUb0luZGV4XyhmZWF0dXJlS2V5LCBmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgIG5ld0ZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8yID0gbmV3RmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzI7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBuZXdGZWF0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cENoYW5nZUV2ZW50c18oZmVhdHVyZUtleSwgZmVhdHVyZSk7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICAgICAgZXh0ZW50cy5wdXNoKGV4dGVudCk7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlGZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmxvYWQoZXh0ZW50cywgZ2VvbWV0cnlGZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8zID0gbmV3RmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSwgbmV3RmVhdHVyZXNbaV0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gY29sbGVjdGlvbiBDb2xsZWN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5iaW5kRmVhdHVyZXNDb2xsZWN0aW9uXyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1ZlY3RvclNvdXJjZUV2ZW50PEdlb21ldHJ5Pn0gZXZ0IFRoZSB2ZWN0b3Igc291cmNlIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goZXZ0LmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihWZWN0b3JFdmVudFR5cGUuUkVNT1ZFRkVBVFVSRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1ZlY3RvclNvdXJjZUV2ZW50PEdlb21ldHJ5Pn0gZXZ0IFRoZSB2ZWN0b3Igc291cmNlIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZShldnQuZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBUaGUgY29sbGVjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGZWF0dXJlKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gKi8gKGV2dC5lbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBjb2xsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IFRoZSBjb2xsZWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmUoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSAqLyAoZXZ0LmVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXyA9IGNvbGxlY3Rpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGZlYXR1cmVzIGZyb20gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfZmFzdF0gU2tpcCBkaXNwYXRjaGluZyBvZiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjZXZlbnQ6cmVtb3ZlZmVhdHVyZSByZW1vdmVmZWF0dXJlfSBldmVudHMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAob3B0X2Zhc3QpIHtcbiAgICAgICAgaWYgKG9wdF9mYXN0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBmZWF0dXJlSWQgaW4gdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c18pIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVJZF07XG4gICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuaWRJbmRleF8gPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpZEluZGV4XyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlQW5kSWdub3JlUmV0dXJuID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaChyZW1vdmVBbmRJZ25vcmVSZXR1cm4pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmVhdHVyZUludGVybmFsKHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2lkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18gPSB7fTtcbiAgICAgICAgdmFyIGNsZWFyRXZlbnQgPSBuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkNMRUFSKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsZWFyRXZlbnQpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgb24gdGhlIHNvdXJjZSwgY2FsbGluZyB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcbiAgICAgKiB3aXRoIGVhY2ggb25lLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYW55IFwidHJ1dGh5XCIgdmFsdWUsIGl0ZXJhdGlvbiB3aWxsXG4gICAgICogc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgICAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gb25seSBpdGVyYXRlIHRocm91Z2ggdGhlIGZlYXR1cmUgdGhhdCBoYXZlIGEgZGVmaW5lZCBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgICAqICAgICBvbiB0aGUgc291cmNlLiAgUmV0dXJuIGEgdHJ1dGh5IHZhbHVlIHRvIHN0b3AgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZm9yRWFjaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cmllcyBjb250YWluIHRoZSBwcm92aWRlZFxuICAgICAqIGNvb3JkaW5hdGUsIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHdpdGggZWFjaCBmZWF0dXJlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnNcbiAgICAgKiBhIFwidHJ1dGh5XCIgdmFsdWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZVxuICAgICAqIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICAgKiAgICAgd2hvc2UgZ29lbWV0cnkgY29udGFpbnMgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IFtjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdLCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaEZlYXR1cmVJbkV4dGVudChleHRlbnQsIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW50ZXJzZWN0c0Nvb3JkaW5hdGUoY29vcmRpbmF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkXG4gICAgICogZXh0ZW50IChub3RlIHRoYXQgdGhlIGZlYXR1cmUncyBnZW9tZXRyeSBtYXkgbm90IGludGVyc2VjdCB0aGUgZXh0ZW50KSxcbiAgICAgKiBjYWxsaW5nIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggZmVhdHVyZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgXCJ0cnV0aHlcIlxuICAgICAqIHZhbHVlLCBpdGVyYXRpb24gd2lsbCBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYXJlIGludGVyZXN0ZWQgaW4gZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyBhbiBleHRlbnQsIGNhbGxcbiAgICAgKiB0aGUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCAjZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQoKX0gbWV0aG9kIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBXaGVuIGB1c2VTcGF0aWFsSW5kZXhgIGlzIHNldCB0byBmYWxzZSwgdGhpcyBtZXRob2Qgd2lsbCBsb29wIHRocm91Z2ggYWxsXG4gICAgICogZmVhdHVyZXMsIGVxdWl2YWxlbnQgdG8ge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZSAjZm9yRWFjaEZlYXR1cmUoKX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAgICogICAgIHdob3NlIGJvdW5kaW5nIGJveCBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudCxcbiAgICAgKiBjYWxsaW5nIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggZmVhdHVyZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgXCJ0cnV0aHlcIlxuICAgICAqIHZhbHVlLCBpdGVyYXRpb24gd2lsbCBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugb25seSB3YW50IHRvIHRlc3QgZm9yIGJvdW5kaW5nIGJveCBpbnRlcnNlY3Rpb24sIGNhbGwgdGhlXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZUluRXh0ZW50ICNmb3JFYWNoRmVhdHVyZUluRXh0ZW50KCl9IG1ldGhvZCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgICAqICAgICB3aG9zZSBnZW9tZXRyeSBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaEZlYXR1cmVJbkV4dGVudChleHRlbnQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmludGVyc2VjdHNFeHRlbnQoZXh0ZW50KSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmVhdHVyZXMgY29sbGVjdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyBzb3VyY2UuIFdpbGwgYmUgYG51bGxgXG4gICAgICogdW5sZXNzIHRoZSBzb3VyY2Ugd2FzIGNvbmZpZ3VyZWQgd2l0aCBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYCwgb3JcbiAgICAgKiB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0gYXMgYGZlYXR1cmVzYC5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBUaGUgY29sbGVjdGlvbiBvZiBmZWF0dXJlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBzbmFwc2hvdCBvZiB0aGUgZmVhdHVyZXMgY3VycmVudGx5IG9uIHRoZSBzb3VyY2UgaW4gcmFuZG9tIG9yZGVyLiBUaGUgcmV0dXJuZWQgYXJyYXlcbiAgICAgKiBpcyBhIGNvcHksIHRoZSBmZWF0dXJlcyBhcmUgcmVmZXJlbmNlcyB0byB0aGUgZmVhdHVyZXMgaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gRmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcztcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgZmVhdHVyZXMgPSB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZ2V0QXJyYXkoKS5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICBmZWF0dXJlcyA9IHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0QWxsKCk7XG4gICAgICAgICAgICBpZiAoIWlzRW1wdHkodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKGZlYXR1cmVzLCBnZXRWYWx1ZXModGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gKi8gKGZlYXR1cmVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBGZWF0dXJlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0KGNvb3JkaW5hdGUsIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBmZWF0dXJlcyB3aG9zZSBib3VuZGluZyBib3ggaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LiAgTm90ZSB0aGF0IHRoaXMgcmV0dXJucyBhbiBhcnJheSBvZlxuICAgICAqIGFsbCBmZWF0dXJlcyBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIGV4dGVudCBpbiByYW5kb20gb3JkZXIgKHNvIGl0IG1heSBpbmNsdWRlXG4gICAgICogZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cmllcyBkbyBub3QgaW50ZXJzZWN0IHRoZSBleHRlbnQpLlxuICAgICAqXG4gICAgICogV2hlbiBgdXNlU3BhdGlhbEluZGV4YCBpcyBzZXQgdG8gZmFsc2UsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGFsbFxuICAgICAqIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBGZWF0dXJlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0luRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0SW5FeHRlbnQoZXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZ2V0QXJyYXkoKS5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbG9zZXN0IGZlYXR1cmUgdG8gdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHdoZW4gdGhlIHNvdXJjZSBpcyBjb25maWd1cmVkIHdpdGhcbiAgICAgKiBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6Ym9vbGVhbn0gW29wdF9maWx0ZXJdIEZlYXR1cmUgZmlsdGVyIGZ1bmN0aW9uLlxuICAgICAqICAgICBUaGUgZmlsdGVyIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSBvbmUgYXJndW1lbnQsIHRoZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmUgZmVhdHVyZX1cbiAgICAgKiAgICAgYW5kIGl0IHNob3VsZCByZXR1cm4gYSBib29sZWFuIHZhbHVlLiBCeSBkZWZhdWx0LCBubyBmaWx0ZXJpbmcgaXMgbWFkZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBDbG9zZXN0IGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgb3B0X2ZpbHRlcikge1xuICAgICAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IGZlYXR1cmUgdXNpbmcgYnJhbmNoIGFuZCBib3VuZC4gIFdlIHN0YXJ0IHNlYXJjaGluZyBhblxuICAgICAgICAvLyBpbmZpbml0ZSBleHRlbnQsIGFuZCBmaW5kIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBmaXJzdCBmZWF0dXJlIGZvdW5kLiAgVGhpc1xuICAgICAgICAvLyBiZWNvbWVzIHRoZSBjbG9zZXN0IGZlYXR1cmUuICBXZSB0aGVuIGNvbXB1dGUgYSBzbWFsbGVyIGV4dGVudCB3aGljaCBhbnlcbiAgICAgICAgLy8gY2xvc2VyIGZlYXR1cmUgbXVzdCBpbnRlcnNlY3QuICBXZSBjb250aW51ZSBzZWFyY2hpbmcgd2l0aCB0aGlzIHNtYWxsZXJcbiAgICAgICAgLy8gZXh0ZW50LCB0cnlpbmcgdG8gZmluZCBhIGNsb3NlciBmZWF0dXJlLiAgRXZlcnkgdGltZSB3ZSBmaW5kIGEgY2xvc2VyXG4gICAgICAgIC8vIGZlYXR1cmUsIHdlIHVwZGF0ZSB0aGUgZXh0ZW50IGJlaW5nIHNlYXJjaGVkIHNvIHRoYXQgYW55IGV2ZW4gY2xvc2VyXG4gICAgICAgIC8vIGZlYXR1cmUgbXVzdCBpbnRlcnNlY3QgaXQuICBXZSBjb250aW51ZSB1bnRpbCB3ZSBydW4gb3V0IG9mIGZlYXR1cmVzLlxuICAgICAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgICAgIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgICAgICAgdmFyIGNsb3Nlc3RGZWF0dXJlID0gbnVsbDtcbiAgICAgICAgdmFyIGNsb3Nlc3RQb2ludCA9IFtOYU4sIE5hTl07XG4gICAgICAgIHZhciBtaW5TcXVhcmVkRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIGV4dGVudCA9IFstSW5maW5pdHksIC1JbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XTtcbiAgICAgICAgdmFyIGZpbHRlciA9IG9wdF9maWx0ZXIgPyBvcHRfZmlsdGVyIDogVFJVRTtcbiAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIoZmVhdHVyZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlID0gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGdlb21ldHJ5LmNsb3Nlc3RQb2ludFhZKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgcHJldmlvdXNNaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VzdEZlYXR1cmUgPSBmZWF0dXJlO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHNuZWFreS4gIFJlZHVjZSB0aGUgZXh0ZW50IHRoYXQgaXQgaXMgY3VycmVudGx5IGJlaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlYXJjaGVkIHdoaWxlIHRoZSBSLVRyZWUgdHJhdmVyc2FsIHVzaW5nIHRoaXMgc2FtZSBleHRlbnQgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIHN0aWxsIGluIHByb2dyZXNzLiAgVGhpcyBpcyBzYWZlIGJlY2F1c2UgdGhlIG5ldyBleHRlbnQgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaWN0bHkgY29udGFpbmVkIGJ5IHRoZSBvbGQgZXh0ZW50LlxuICAgICAgICAgICAgICAgICAgICB2YXIgbWluRGlzdGFuY2UgPSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50WzBdID0geCAtIG1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBleHRlbnRbMV0gPSB5IC0gbWluRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudFsyXSA9IHggKyBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50WzNdID0geSArIG1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbG9zZXN0RmVhdHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IG9mIHRoZSBmZWF0dXJlcyBjdXJyZW50bHkgaW4gdGhlIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgd2hlbiB0aGUgc291cmNlIGlzIGNvbmZpZ3VyZWQgd2l0aFxuICAgICAqIGB1c2VTcGF0aWFsSW5kZXhgIHNldCB0byBgZmFsc2VgLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9leHRlbnRdIERlc3RpbmF0aW9uIGV4dGVudC4gSWYgcHJvdmlkZWQsIG5vIG5ldyBleHRlbnRcbiAgICAgKiAgICAgd2lsbCBiZSBjcmVhdGVkLiBJbnN0ZWFkLCB0aGF0IGV4dGVudCdzIGNvb3JkaW5hdGVzIHdpbGwgYmUgb3ZlcndyaXR0ZW4uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIChvcHRfZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEV4dGVudChvcHRfZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIGZlYXR1cmUgYnkgaXRzIGlkZW50aWZpZXIgKHRoZSB2YWx1ZSByZXR1cm5lZCBieSBmZWF0dXJlLmdldElkKCkpLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgaW5kZXggdHJlYXRzIHN0cmluZyBhbmQgbnVtZXJpYyBpZGVudGlmaWVycyBhcyB0aGUgc2FtZS4gIFNvXG4gICAgICogYHNvdXJjZS5nZXRGZWF0dXJlQnlJZCgyKWAgd2lsbCByZXR1cm4gYSBmZWF0dXJlIHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZCBGZWF0dXJlIGlkZW50aWZpZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gVGhlIGZlYXR1cmUgKG9yIGBudWxsYCBpZiBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gdGhpcy5pZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmUgIT09IHVuZGVmaW5lZCA/IGZlYXR1cmUgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgZmVhdHVyZSBieSBpdHMgaW50ZXJuYWwgdW5pcXVlIGlkZW50aWZpZXIgKHVzaW5nIGBnZXRVaWRgKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1aWQgRmVhdHVyZSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IFRoZSBmZWF0dXJlIChvciBgbnVsbGAgaWYgbm90IGZvdW5kKS5cbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVCeVVpZCA9IGZ1bmN0aW9uICh1aWQpIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSB0aGlzLnVpZEluZGV4X1t1aWRdO1xuICAgICAgICByZXR1cm4gZmVhdHVyZSAhPT0gdW5kZWZpbmVkID8gZmVhdHVyZSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZvcm1hdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIGZlYXR1cmUgZm9ybWF0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzb3VyY2UgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldE92ZXJsYXBzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdmVybGFwc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHVybCBhc3NvY2lhdGVkIHdpdGggdGhpcyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb258dW5kZWZpbmVkfSBUaGUgdXJsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5oYW5kbGVGZWF0dXJlQ2hhbmdlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIGlmICghKGZlYXR1cmVLZXkgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlS2V5IGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2ZlYXR1cmVLZXldO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uaW5zZXJ0KGV4dGVudCwgZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy51cGRhdGUoZXh0ZW50LCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNpZCA9IGlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pZEluZGV4X1tzaWRdICE9PSBmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGcm9tSWRJbmRleF8oZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pZEluZGV4X1tzaWRdID0gZmVhdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUlkSW5kZXhfKGZlYXR1cmUpO1xuICAgICAgICAgICAgdGhpcy51aWRJbmRleF9bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5DSEFOR0VGRUFUVVJFLCBmZWF0dXJlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZlYXR1cmUgaXMgY29udGFpbmVkIHdpdGhpbiB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBmZWF0dXJlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmhhc0ZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQgaW4gdGhpcy5pZEluZGV4XztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRVaWQoZmVhdHVyZSkgaW4gdGhpcy51aWRJbmRleF87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uaXNFbXB0eSgpICYmIGlzRW1wdHkodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUubG9hZEZlYXR1cmVzID0gZnVuY3Rpb24gKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICAgICAgICB2YXIgbG9hZGVkRXh0ZW50c1J0cmVlID0gdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfO1xuICAgICAgICB2YXIgZXh0ZW50c1RvTG9hZCA9IHRoaXMuc3RyYXRlZ3lfKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGksIGlpKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50VG9Mb2FkID0gZXh0ZW50c1RvTG9hZFtpXTtcbiAgICAgICAgICAgIHZhciBhbHJlYWR5TG9hZGVkID0gbG9hZGVkRXh0ZW50c1J0cmVlLmZvckVhY2hJbkV4dGVudChleHRlbnRUb0xvYWQsIFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3tleHRlbnQ6IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9fSBvYmplY3QgT2JqZWN0LlxuICAgICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNFeHRlbnQob2JqZWN0LmV4dGVudCwgZXh0ZW50VG9Mb2FkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFhbHJlYWR5TG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgKyt0aGlzXzEubG9hZGluZ0V4dGVudHNDb3VudF87XG4gICAgICAgICAgICAgICAgdGhpc18xLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5GRUFUVVJFU0xPQURTVEFSVCkpO1xuICAgICAgICAgICAgICAgIHRoaXNfMS5sb2FkZXJfLmNhbGwodGhpc18xLCBleHRlbnRUb0xvYWQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIGZ1bmN0aW9uIChmZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICAtLXRoaXMubG9hZGluZ0V4dGVudHNDb3VudF87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkZFQVRVUkVTTE9BREVORCwgdW5kZWZpbmVkLCBmZWF0dXJlcykpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzXzEpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5sb2FkaW5nRXh0ZW50c0NvdW50XztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuRkVBVFVSRVNMT0FERVJST1IpKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpc18xKSk7XG4gICAgICAgICAgICAgICAgbG9hZGVkRXh0ZW50c1J0cmVlLmluc2VydChleHRlbnRUb0xvYWQsIHsgZXh0ZW50OiBleHRlbnRUb0xvYWQuc2xpY2UoKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGV4dGVudHNUb0xvYWQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgX2xvb3BfMShpLCBpaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkaW5nID1cbiAgICAgICAgICAgIHRoaXMubG9hZGVyXy5sZW5ndGggPCA0ID8gZmFsc2UgOiB0aGlzLmxvYWRpbmdFeHRlbnRzQ291bnRfID4gMDtcbiAgICB9O1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhcih0cnVlKTtcbiAgICAgICAgdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfLmNsZWFyKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGV4dGVudCBmcm9tIHRoZSBsaXN0IG9mIGxvYWRlZCBleHRlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVMb2FkZWRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHZhciBsb2FkZWRFeHRlbnRzUnRyZWUgPSB0aGlzLmxvYWRlZEV4dGVudHNSdHJlZV87XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIGxvYWRlZEV4dGVudHNSdHJlZS5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50LCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoZXF1YWxzKG9iamVjdC5leHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICBvYmogPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICBsb2FkZWRFeHRlbnRzUnRyZWUucmVtb3ZlKG9iaik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNpbmdsZSBmZWF0dXJlIGZyb20gdGhlIHNvdXJjZS4gIElmIHlvdSB3YW50IHRvIHJlbW92ZSBhbGwgZmVhdHVyZXNcbiAgICAgKiBhdCBvbmNlLCB1c2UgdGhlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjY2xlYXIgI2NsZWFyKCl9IG1ldGhvZFxuICAgICAqIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUgdG8gcmVtb3ZlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlbW92ZUZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBpZiAoIWZlYXR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgaWYgKGZlYXR1cmVLZXkgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucmVtb3ZlRmVhdHVyZUludGVybmFsKGZlYXR1cmUpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGZlYXR1cmUgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgZmVhdHVyZVxuICAgICAqICAgICAob3IgdW5kZWZpbmVkIGlmIHRoZSBmZWF0dXJlIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVJbnRlcm5hbCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICB2YXIgZmVhdHVyZUNoYW5nZUtleXMgPSB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgaWYgKCFmZWF0dXJlQ2hhbmdlS2V5cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZlYXR1cmVDaGFuZ2VLZXlzLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMudWlkSW5kZXhfW2ZlYXR1cmVLZXldO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLCBmZWF0dXJlKSk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgZmVhdHVyZSBmcm9tIHRoZSBpZCBpbmRleC4gIENhbGxlZCBpbnRlcm5hbGx5IHdoZW4gdGhlIGZlYXR1cmUgaWRcbiAgICAgKiBtYXkgaGF2ZSBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBUaGUgZmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZW1vdmVkIHRoZSBmZWF0dXJlIGZyb20gdGhlIGluZGV4LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVGcm9tSWRJbmRleF8gPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmlkSW5kZXhfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pZEluZGV4X1tpZF0gPT09IGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5pZEluZGV4X1tpZF07XG4gICAgICAgICAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG5ldyBsb2FkZXIgb2YgdGhlIHNvdXJjZS4gVGhlIG5leHQgcmVuZGVyIGN5Y2xlIHdpbGwgdXNlIHRoZVxuICAgICAqIG5ldyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9IGxvYWRlciBUaGUgbG9hZGVyIHRvIHNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5zZXRMb2FkZXIgPSBmdW5jdGlvbiAobG9hZGVyKSB7XG4gICAgICAgIHRoaXMubG9hZGVyXyA9IGxvYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvaW50cyB0aGUgc291cmNlIHRvIGEgbmV3IHVybC4gVGhlIG5leHQgcmVuZGVyIGN5Y2xlIHdpbGwgdXNlIHRoZSBuZXcgdXJsLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgVXJsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnNldFVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZm9ybWF0XywgNyk7IC8vIGBmb3JtYXRgIG11c3QgYmUgc2V0IHdoZW4gYHVybGAgaXMgc2V0XG4gICAgICAgIHRoaXMudXJsXyA9IHVybDtcbiAgICAgICAgdGhpcy5zZXRMb2FkZXIoeGhyKHVybCwgdGhpcy5mb3JtYXRfKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVmVjdG9yU291cmNlO1xufShTb3VyY2UpKTtcbmV4cG9ydCBkZWZhdWx0IFZlY3RvclNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSW1hZ2VcbiAqL1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IHRvU2l6ZSB9IGZyb20gJy4uL3NpemUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICogQHByb3BlcnR5IHtib29sZWFufSByb3RhdGVXaXRoVmlldyBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGdldCByb3RhdGVkIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBkaXNwbGFjZW1lbnQgRGlzcGxhY2VtZW50LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgYmFzZSBjbGFzcyB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3QgaW5zdGFudGlhdGVkIGluXG4gKiBhcHBzLiBCYXNlIGNsYXNzIGZvciB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25+SWNvbn0sIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvQ2lyY2xlfkNpcmNsZVN0eWxlfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvUmVndWxhclNoYXBlflJlZ3VsYXJTaGFwZX0uXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIEltYWdlU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VTdHlsZShvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcGFjaXR5XyA9IG9wdGlvbnMub3BhY2l0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRpb25fID0gb3B0aW9ucy5yb3RhdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZV8gPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGVBcnJheV8gPSB0b1NpemUob3B0aW9ucy5zY2FsZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlzcGxhY2VtZW50XyA9IG9wdGlvbnMuZGlzcGxhY2VtZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge0ltYWdlU3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VTdHlsZSh7XG4gICAgICAgICAgICBvcGFjaXR5OiB0aGlzLmdldE9wYWNpdHkoKSxcbiAgICAgICAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzeW1ib2xpemVyIG9wYWNpdHkuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBPcGFjaXR5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGFjaXR5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBzeW1ib2xpemVyIHJvdGF0ZXMgd2l0aCB0aGUgbWFwLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0Um90YXRlV2l0aFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVdpdGhWaWV3XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ltb2JsaXplciByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJvdGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzeW1ib2xpemVyIHNjYWxlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNjYWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzeW1ib2xpemVyIHNjYWxlIGFycmF5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2NhbGUgYXJyYXkuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0U2NhbGVBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVBcnJheV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpc3BsYWNlbWVudCBvZiB0aGUgc2hhcGVcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBTaGFwZSdzIGNlbnRlciBkaXNwbGFjZW1lbnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0RGlzcGxhY2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGFjZW1lbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAgICogc3ltYm9saXplci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0QW5jaG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgZWxlbWVudCBmb3IgdGhlIHN5bWJvbGl6ZXIuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBwaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBzeW1ib2xpemVyIChpbiBwaXhlbHMpLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZS5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGlzcGxhY2VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBkaXNwbGFjZW1lbnQgRGlzcGxhY2VtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXREaXNwbGFjZW1lbnQgPSBmdW5jdGlvbiAoZGlzcGxhY2VtZW50KSB7XG4gICAgICAgIHRoaXMuZGlzcGxhY2VtZW50XyA9IGRpc3BsYWNlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb3BhY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbiAob3BhY2l0eSkge1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gb3BhY2l0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgc3R5bGUgd2l0aCB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgUm90YXRlIHdpdGggbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRSb3RhdGVXaXRoVmlldyA9IGZ1bmN0aW9uIChyb3RhdGVXaXRoVmlldykge1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHJvdGF0ZVdpdGhWaWV3O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRTY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSkge1xuICAgICAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgICAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VTdHlsZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBJbWFnZVN0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9ybGlrZVxuICovXG5pbXBvcnQgeyB0b1N0cmluZyB9IGZyb20gJy4vY29sb3IuanMnO1xuLyoqXG4gKiBBIHR5cGUgYWNjZXB0ZWQgYnkgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZpbGxTdHlsZVxuICogb3IgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnN0cm9rZVN0eWxlLlxuICogUmVwcmVzZW50cyBhIGNvbG9yLCBwYXR0ZXJuLCBvciBncmFkaWVudC4gVGhlIG9yaWdpbiBmb3IgcGF0dGVybnMgYW5kXG4gKiBncmFkaWVudHMgYXMgZmlsbCBzdHlsZSBpcyBhbiBpbmNyZW1lbnQgb2YgNTEyIGNzcyBwaXhlbHMgZnJvbSBtYXAgY29vcmRpbmF0ZVxuICogYFswLCAwXWAuIEZvciBzZWFtbGVzcyByZXBlYXQgcGF0dGVybnMsIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHBhdHRlcm4gaW1hZ2VcbiAqIG11c3QgYmUgYSBmYWN0b3Igb2YgdHdvICgyLCA0LCA4LCAuLi4sIDUxMikuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xDYW52YXNQYXR0ZXJufENhbnZhc0dyYWRpZW50fSBDb2xvckxpa2VcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29sb3IuanNcIikuQ29sb3J8Q29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yTGlrZX0gVGhlIGNvbG9yIGFzIGFuIHtAbGluayBvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQ29sb3JMaWtlKGNvbG9yKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZyhjb2xvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JsaWtlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9SZWd1bGFyU2hhcGVcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IEltYWdlU3R5bGUgZnJvbSAnLi9JbWFnZS5qcyc7XG5pbXBvcnQgeyBhc0FycmF5IH0gZnJvbSAnLi4vY29sb3IuanMnO1xuaW1wb3J0IHsgYXNDb2xvckxpa2UgfSBmcm9tICcuLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7IGRlZmF1bHRGaWxsU3R5bGUsIGRlZmF1bHRMaW5lSm9pbiwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdE1pdGVyTGltaXQsIGRlZmF1bHRTdHJva2VTdHlsZSwgfSBmcm9tICcuLi9yZW5kZXIvY2FudmFzLmpzJztcbi8qKlxuICogU3BlY2lmeSByYWRpdXMgZm9yIHJlZ3VsYXIgcG9seWdvbnMsIG9yIHJhZGl1czEgYW5kIHJhZGl1czIgZm9yIHN0YXJzLlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcG9pbnRzIE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLiBJbiBjYXNlIG9mIGEgcG9seWdvbiwgdGhlIG51bWJlciBvZiBwb2ludHNcbiAqIGlzIHRoZSBudW1iZXIgb2Ygc2lkZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1c10gUmFkaXVzIG9mIGEgcmVndWxhciBwb2x5Z29uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXMxXSBGaXJzdCByYWRpdXMgb2YgYSBzdGFyLiBJZ25vcmVkIGlmIHJhZGl1cyBpcyBzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czJdIFNlY29uZCByYWRpdXMgb2YgYSBzdGFyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFthbmdsZT0wXSBTaGFwZSdzIGFuZ2xlIGluIHJhZGlhbnMuIEEgdmFsdWUgb2YgMCB3aWxsIGhhdmUgb25lIG9mIHRoZSBzaGFwZSdzIHBvaW50IGZhY2luZyB1cC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS4gVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyXG4gKiByZXN1bHQgbWF5IGJlIG9idGFpbmVkIHdpdGggYXBwcm9wcmlhdGUgc2V0dGluZ3MgZm9yIGByYWRpdXNgLCBgcmFkaXVzMWAgYW5kIGByYWRpdXMyYC5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZW5kZXJPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2VTdHlsZV0gU3Ryb2tlU3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3Ryb2tlV2lkdGggU3Ryb2tlV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pdGVyTGltaXQgTWl0ZXJMaW1pdC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgcmVndWxhciBzaGFwZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLiBUaGUgcmVzdWx0aW5nIHNoYXBlIHdpbGwgYmVcbiAqIGEgcmVndWxhciBwb2x5Z29uIHdoZW4gYHJhZGl1c2AgaXMgcHJvdmlkZWQsIG9yIGEgc3RhciB3aGVuIGByYWRpdXMxYCBhbmRcbiAqIGByYWRpdXMyYCBhcmUgcHJvdmlkZWQuXG4gKiBAYXBpXG4gKi9cbnZhciBSZWd1bGFyU2hhcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlZ3VsYXJTaGFwZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWd1bGFyU2hhcGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcm90YXRlV2l0aFZpZXcgPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiByb3RhdGVXaXRoVmlldyxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMCxcbiAgICAgICAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxudW1iZXIsIEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhc18gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbGxfID0gb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZpbGwgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnaW5fID0gWzAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50c18gPSBvcHRpb25zLnBvaW50cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJhZGl1c18gPVxuICAgICAgICAgICAgb3B0aW9ucy5yYWRpdXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmFkaXVzIDogb3B0aW9ucy5yYWRpdXMxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yYWRpdXMyXyA9IG9wdGlvbnMucmFkaXVzMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmdsZV8gPSBvcHRpb25zLmFuZ2xlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuZ2xlIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1JlbmRlck9wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJPcHRpb25zXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnJlbmRlcigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7UmVndWxhclNoYXBlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgICAgIHZhciBzdHlsZSA9IG5ldyBSZWd1bGFyU2hhcGUoe1xuICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9pbnRzOiB0aGlzLmdldFBvaW50cygpLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxuICAgICAgICAgICAgcmFkaXVzMjogdGhpcy5nZXRSYWRpdXMyKCksXG4gICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRBbmdsZSgpLFxuICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN0eWxlLnNldE9wYWNpdHkodGhpcy5nZXRPcGFjaXR5KCkpO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplXztcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlzcGxhY2VtZW50ID0gdGhpcy5nZXREaXNwbGFjZW1lbnQoKTtcbiAgICAgICAgcmV0dXJuIFtzaXplWzBdIC8gMiAtIGRpc3BsYWNlbWVudFswXSwgc2l6ZVsxXSAvIDIgKyBkaXNwbGFjZW1lbnRbMV1dO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSB1c2VkIGluIGdlbmVyYXRpbmcgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gU2hhcGUncyByb3RhdGlvbiBpbiByYWRpYW5zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEFuZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZpbGwgc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRGaWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxsXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18odGhpcy5yZW5kZXJPcHRpb25zXyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgaWNvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb107XG4gICAgICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJPcHRpb25zID0gdGhpcy5yZW5kZXJPcHRpb25zXztcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHJlbmRlck9wdGlvbnMuc2l6ZSAqIHBpeGVsUmF0aW8sIHJlbmRlck9wdGlvbnMuc2l6ZSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICAgICAgdGhpcy5kcmF3XyhyZW5kZXJPcHRpb25zLCBjb250ZXh0LCBwaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIGltYWdlID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPSBpbWFnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIHBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRJbWFnZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEltYWdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBwb2ludHMgZm9yIGdlbmVyYXRpbmcgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHBvaW50cyBmb3Igc3RhcnMgYW5kIHJlZ3VsYXIgcG9seWdvbnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UG9pbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSAocHJpbWFyeSkgcmFkaXVzIGZvciB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSYWRpdXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UmFkaXVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYWRpdXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZWNvbmRhcnkgcmFkaXVzIGZvciB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmFkaXVzMi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRSYWRpdXMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYWRpdXMyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgc3ltYm9saXplciAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0cm9rZSBzdHlsZSBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRTdHJva2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cm9rZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikgeyB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7IH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGFkZGl0aW9uYWwgY2FudmFzIHNpemUgbmVlZGVkIGZvciB0aGUgbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVKb2luIExpbmUgam9pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJva2VXaWR0aCBTdHJva2Ugd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlciBsaW1pdFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQWRkaXRpb25hbCBjYW52YXMgc2l6ZSBuZWVkZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY2FsY3VsYXRlTGluZUpvaW5TaXplXyA9IGZ1bmN0aW9uIChsaW5lSm9pbiwgc3Ryb2tlV2lkdGgsIG1pdGVyTGltaXQpIHtcbiAgICAgICAgaWYgKHN0cm9rZVdpZHRoID09PSAwIHx8XG4gICAgICAgICAgICB0aGlzLnBvaW50c18gPT09IEluZmluaXR5IHx8XG4gICAgICAgICAgICAobGluZUpvaW4gIT09ICdiZXZlbCcgJiYgbGluZUpvaW4gIT09ICdtaXRlcicpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Ryb2tlV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbSAgfCBeXG4gICAgICAgIC8vIGkgIHwgfFxcICAgICAgICAgICAgICAgICAgLlxuICAgICAgICAvLyB0ID58ICAjXFxcbiAgICAgICAgLy8gZSAgfCB8XFwgXFwgICAgICAgICAgICAgIC5cbiAgICAgICAgLy8gciAgICAgIFxcc1xcXG4gICAgICAgIC8vICAgICAgfCAgXFx0XFwgICAgICAgICAgLiAgICAgICAgICAgICAgICAgLlxuICAgICAgICAvLyAgICAgICAgICBcXHJcXCAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgICAgICAvLyAgICAgIHwgICAgXFxvXFwgICAgICAuICAgICAgICAgIC4gIC4gLiAuXG4gICAgICAgIC8vICAgICAgICAgIGUgXFxrXFwgICAgICAgICAgICAuICAuICAgIC4gLlxuICAgICAgICAvLyAgICAgIHwgICAgICBcXGVcXCAgLiAgICAuICAuICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgICBkICAgICAgXFwgXFwgIC4gIC4gICAgICAgICAgLiAuXG4gICAgICAgIC8vICAgICAgfCBfIF9hXyBfXFwjICAuICAgICAgICAgICAgLiAuXG4gICAgICAgIC8vICAgcjEgICAgICAgICAgLyBgICAgICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgICBiICAgICAvICAgICAgICAgICAgICAgLiAuXG4gICAgICAgIC8vICAgICAgfCAgICAgICAgICAgICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgICAgICAgLyByMiAgICAgICAgICAgIC4gLlxuICAgICAgICAvLyAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgICAgICAvLyAgICAgICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgICAgICAvLyAgICAgIHzOsSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAgICAgLy8gICAgICAgLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAgICAgLy8gICAgICDCsCBjZW50ZXJcbiAgICAgICAgdmFyIHIxID0gdGhpcy5yYWRpdXNfO1xuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgPyByMSA6IHRoaXMucmFkaXVzMl87XG4gICAgICAgIGlmIChyMSA8IHIyKSB7XG4gICAgICAgICAgICB2YXIgdG1wID0gcjE7XG4gICAgICAgICAgICByMSA9IHIyO1xuICAgICAgICAgICAgcjIgPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucmFkaXVzMl8gPT09IHVuZGVmaW5lZCA/IHRoaXMucG9pbnRzXyA6IHRoaXMucG9pbnRzXyAqIDI7XG4gICAgICAgIHZhciBhbHBoYSA9ICgyICogTWF0aC5QSSkgLyBwb2ludHM7XG4gICAgICAgIHZhciBhID0gcjIgKiBNYXRoLnNpbihhbHBoYSk7XG4gICAgICAgIHZhciBiID0gTWF0aC5zcXJ0KHIyICogcjIgLSBhICogYSk7XG4gICAgICAgIHZhciBkID0gcjEgLSBiO1xuICAgICAgICB2YXIgZSA9IE1hdGguc3FydChhICogYSArIGQgKiBkKTtcbiAgICAgICAgdmFyIG1pdGVyUmF0aW8gPSBlIC8gYTtcbiAgICAgICAgaWYgKGxpbmVKb2luID09PSAnbWl0ZXInICYmIG1pdGVyUmF0aW8gPD0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuIG1pdGVyUmF0aW8gKiBzdHJva2VXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RuY2UgZnJvbSBjZW50ZXIgdG8gdGhlIHN0cm9rZSBjb3JuZXIgd2hlcmVcbiAgICAgICAgLy8gaXQgd2FzIGN1dCBzaG9ydCBiZWNhdXNlIG9mIHRoZSBtaXRlciBsaW1pdC5cbiAgICAgICAgLy8gICAgICAgICAgICAgIGxcbiAgICAgICAgLy8gICAgICAgIC0tLS0rLS0tLSA8PSBkaXN0YW5jZSBmcm9tIGNlbnRlciB0byBoZXJlIGlzIG1heHJcbiAgICAgICAgLy8gICAgICAgLyMjIyN8ayAjI1xcXG4gICAgICAgIC8vICAgICAgLyMjIyMjXiMjIyMjXFxcbiAgICAgICAgLy8gICAgIC8jIyMjIC8rXFwjIHMgI1xcXG4gICAgICAgIC8vICAgIC8jIyMgaC8rKytcXCMgdCAjXFxcbiAgICAgICAgLy8gICAvIyMjIHQvKysrKytcXCMgciAjXFxcbiAgICAgICAgLy8gIC8jIyMgYS8rKysrKysrXFwjIG8gI1xcXG4gICAgICAgIC8vIC8jIyMgcC8rKyBmaWxsICtcXCMgayAjXFxcbiAgICAgICAgLy8vIyMjIyAvKysrKyteKysrKytcXCMgZSAjXFxcbiAgICAgICAgLy8jIyMjIy8rKysrKy8rXFwrKysrK1xcIyMjIyNcXFxuICAgICAgICB2YXIgayA9IHN0cm9rZVdpZHRoIC8gMiAvIG1pdGVyUmF0aW87XG4gICAgICAgIHZhciBsID0gKHN0cm9rZVdpZHRoIC8gMikgKiAoZCAvIGUpO1xuICAgICAgICB2YXIgbWF4ciA9IE1hdGguc3FydCgocjEgKyBrKSAqIChyMSArIGspICsgbCAqIGwpO1xuICAgICAgICB2YXIgYmV2ZWxBZGQgPSBtYXhyIC0gcjE7XG4gICAgICAgIGlmICh0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgfHwgbGluZUpvaW4gPT09ICdiZXZlbCcpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXZlbEFkZCAqIDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgb3V0ZXIgbWl0ZXIgaXMgb3ZlciB0aGUgbWl0ZXIgbGltaXQgdGhlIGlubmVyIG1pdGVyIG1heSByZWFjaCB0aHJvdWdoIHRoZVxuICAgICAgICAvLyBjZW50ZXIgYW5kIGJlIGxvbmdlciB0aGFuIHRoZSBiZXZlbCwgc2FtZSBjYWxjdWxhdGlvbiBhcyBhYm92ZSBidXQgc3dhcCByMSAvIHIyLlxuICAgICAgICB2YXIgYWEgPSByMSAqIE1hdGguc2luKGFscGhhKTtcbiAgICAgICAgdmFyIGJiID0gTWF0aC5zcXJ0KHIxICogcjEgLSBhYSAqIGFhKTtcbiAgICAgICAgdmFyIGRkID0gcjIgLSBiYjtcbiAgICAgICAgdmFyIGVlID0gTWF0aC5zcXJ0KGFhICogYWEgKyBkZCAqIGRkKTtcbiAgICAgICAgdmFyIGlubmVyTWl0ZXJSYXRpbyA9IGVlIC8gYWE7XG4gICAgICAgIGlmIChpbm5lck1pdGVyUmF0aW8gPD0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgdmFyIGlubmVyTGVuZ3RoID0gKGlubmVyTWl0ZXJSYXRpbyAqIHN0cm9rZVdpZHRoKSAvIDIgLSByMiAtIHIxO1xuICAgICAgICAgICAgcmV0dXJuIDIgKiBNYXRoLm1heChiZXZlbEFkZCwgaW5uZXJMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXZlbEFkZCAqIDI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtSZW5kZXJPcHRpb25zfSAgVGhlIHJlbmRlciBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IDA7XG4gICAgICAgIHZhciBsaW5lRGFzaCA9IG51bGw7XG4gICAgICAgIHZhciBsaW5lRGFzaE9mZnNldCA9IDA7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gMDtcbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZV8uZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gZGVmYXVsdFN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShzdHJva2VTdHlsZSk7XG4gICAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlXy5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lRGFzaCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZV8uZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgIGxpbmVKb2luID0gdGhpcy5zdHJva2VfLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICBpZiAobGluZUpvaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlXy5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICBpZiAobWl0ZXJMaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWl0ZXJMaW1pdCA9IGRlZmF1bHRNaXRlckxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBhZGQgPSB0aGlzLmNhbGN1bGF0ZUxpbmVKb2luU2l6ZV8obGluZUpvaW4sIHN0cm9rZVdpZHRoLCBtaXRlckxpbWl0KTtcbiAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWF4KHRoaXMucmFkaXVzXywgdGhpcy5yYWRpdXMyXyB8fCAwKTtcbiAgICAgICAgdmFyIHNpemUgPSBNYXRoLmNlaWwoMiAqIG1heFJhZGl1cyArIGFkZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgbGluZURhc2g6IGxpbmVEYXNoLFxuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IGxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgbGluZUpvaW46IGxpbmVKb2luLFxuICAgICAgICAgICAgbWl0ZXJMaW1pdDogbWl0ZXJMaW1pdCxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zXyA9IHRoaXMuY3JlYXRlUmVuZGVyT3B0aW9ucygpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMucmVuZGVyT3B0aW9uc18uc2l6ZTtcbiAgICAgICAgdGhpcy5jYW52YXNfID0ge307XG4gICAgICAgIHRoaXMuc2l6ZV8gPSBbc2l6ZSwgc2l6ZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgcGl4ZWxSYXRpbykge1xuICAgICAgICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgICAgICAvLyBzZXQgb3JpZ2luIHRvIGNhbnZhcyBjZW50ZXJcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUocmVuZGVyT3B0aW9ucy5zaXplIC8gMiwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgIHRoaXMuY3JlYXRlUGF0aF8oY29udGV4dCk7XG4gICAgICAgIGlmICh0aGlzLmZpbGxfKSB7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmZpbGxfLmdldENvbG9yKCk7XG4gICAgICAgICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKGNvbG9yKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSByZW5kZXJPcHRpb25zLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSByZW5kZXJPcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuc2V0TGluZURhc2ggJiYgcmVuZGVyT3B0aW9ucy5saW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2gocmVuZGVyT3B0aW9ucy5saW5lRGFzaCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHJlbmRlck9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gcmVuZGVyT3B0aW9ucy5saW5lSm9pbjtcbiAgICAgICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHJlbmRlck9wdGlvbnMubWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGZ1bmN0aW9uIChyZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbGxfKSB7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmZpbGxfLmdldENvbG9yKCk7XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgZmlsbCBpcyB0cmFuc3BhcmVudCAob3IgcGF0dGVybiBvciBncmFkaWVudClcbiAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBhc0FycmF5KGNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2xvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5ID0gY29sb3IubGVuZ3RoID09PSA0ID8gY29sb3JbM10gOiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBhIHRyYW5zcGFyZW50IGZpbGwgc3R5bGUgaXMgc2V0LCBjcmVhdGUgYW4gZXh0cmEgaGl0LWRldGVjdGlvbiBpbWFnZVxuICAgICAgICAgICAgICAgIC8vIHdpdGggYSBkZWZhdWx0IGZpbGwgc3R5bGVcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChyZW5kZXJPcHRpb25zLnNpemUsIHJlbmRlck9wdGlvbnMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyhyZW5kZXJPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXykge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgY29udGV4dCB0byBkcmF3IGluLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY3JlYXRlUGF0aF8gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHNfO1xuICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5yYWRpdXNfO1xuICAgICAgICBpZiAocG9pbnRzID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzMl8gPT09IHVuZGVmaW5lZCA/IHJhZGl1cyA6IHRoaXMucmFkaXVzMl87XG4gICAgICAgICAgICBpZiAodGhpcy5yYWRpdXMyXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzICo9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IHRoaXMuYW5nbGVfIC0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICB2YXIgc3RlcCA9ICgyICogTWF0aC5QSSkgLyBwb2ludHM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50czsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuZ2xlMCA9IHN0YXJ0QW5nbGUgKyBpICogc3RlcDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzQyA9IGkgJSAyID09PSAwID8gcmFkaXVzIDogcmFkaXVzMjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyYWRpdXNDICogTWF0aC5jb3MoYW5nbGUwKSwgcmFkaXVzQyAqIE1hdGguc2luKGFuZ2xlMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlbmRlck9wdGlvbnN9IHJlbmRlck9wdGlvbnMgUmVuZGVyIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5kcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGZ1bmN0aW9uIChyZW5kZXJPcHRpb25zLCBjb250ZXh0KSB7XG4gICAgICAgIC8vIHNldCBvcmlnaW4gdG8gY2FudmFzIGNlbnRlclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShyZW5kZXJPcHRpb25zLnNpemUgLyAyLCByZW5kZXJPcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVQYXRoXyhjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBkZWZhdWx0RmlsbFN0eWxlO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHJlbmRlck9wdGlvbnMuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHJlbmRlck9wdGlvbnMuc3Ryb2tlV2lkdGg7XG4gICAgICAgICAgICBpZiAocmVuZGVyT3B0aW9ucy5saW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2gocmVuZGVyT3B0aW9ucy5saW5lRGFzaCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHJlbmRlck9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gcmVuZGVyT3B0aW9ucy5saW5lSm9pbjtcbiAgICAgICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHJlbmRlck9wdGlvbnMubWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWd1bGFyU2hhcGU7XG59KEltYWdlU3R5bGUpKTtcbmV4cG9ydCBkZWZhdWx0IFJlZ3VsYXJTaGFwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZ3VsYXJTaGFwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvQ2lyY2xlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgUmVndWxhclNoYXBlIGZyb20gJy4vUmVndWxhclNoYXBlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwwXV0gZGlzcGxhY2VtZW50XG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS4gQSB0d28gZGltZW5zaW9uYWwgc2NhbGUgd2lsbCBwcm9kdWNlIGFuIGVsbGlwc2UuXG4gKiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXIgcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFuIGFwcHJvcHJpYXRlIHNldHRpbmcgZm9yIGByYWRpdXNgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCBtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3XG4gKiAobWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgY2lyY2xlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBDaXJjbGVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2lyY2xlU3R5bGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2lyY2xlU3R5bGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgcG9pbnRzOiBJbmZpbml0eSxcbiAgICAgICAgICAgIGZpbGw6IG9wdGlvbnMuZmlsbCxcbiAgICAgICAgICAgIHJhZGl1czogb3B0aW9ucy5yYWRpdXMsXG4gICAgICAgICAgICBzdHJva2U6IG9wdGlvbnMuc3Ryb2tlLFxuICAgICAgICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxLFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7Q2lyY2xlU3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENpcmNsZVN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICB2YXIgc3R5bGUgPSBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN0eWxlLnNldE9wYWNpdHkodGhpcy5nZXRPcGFjaXR5KCkpO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNpcmNsZSByYWRpdXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENpcmNsZVN0eWxlLnByb3RvdHlwZS5zZXRSYWRpdXMgPSBmdW5jdGlvbiAocmFkaXVzKSB7XG4gICAgICAgIHRoaXMucmFkaXVzXyA9IHJhZGl1cztcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIHJldHVybiBDaXJjbGVTdHlsZTtcbn0oUmVndWxhclNoYXBlKSk7XG5leHBvcnQgZGVmYXVsdCBDaXJjbGVTdHlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNpcmNsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvRmlsbFxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NvbG9yPW51bGxdIEEgY29sb3IsIGdyYWRpZW50IG9yIHBhdHRlcm4uXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9jb2xvcn5Db2xvcn0gYW5kIHtAbGluayBtb2R1bGU6b2wvY29sb3JsaWtlfkNvbG9yTGlrZX0gZm9yIHBvc3NpYmxlIGZvcm1hdHMuXG4gKiBEZWZhdWx0IG51bGw7IGlmIG51bGwsIHRoZSBDYW52YXMvcmVuZGVyZXIgZGVmYXVsdCBibGFjayB3aWxsIGJlIHVzZWQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGZpbGwgc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xudmFyIEZpbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsbChvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9yXyA9IG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sb3IgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLiBUaGUgY29sb3IgaXMgbm90IGNsb25lZCBpZiBpdCBpcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9LlxuICAgICAqIEByZXR1cm4ge0ZpbGx9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZpbGwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmdldENvbG9yKCk7XG4gICAgICAgIHJldHVybiBuZXcgRmlsbCh7XG4gICAgICAgICAgICBjb2xvcjogQXJyYXkuaXNBcnJheShjb2xvcikgPyBjb2xvci5zbGljZSgpIDogY29sb3IgfHwgdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmlsbCBjb2xvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmlsbC5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGaWxsLnByb3RvdHlwZS5zZXRDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICB0aGlzLmNvbG9yXyA9IGNvbG9yO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRmlsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbGwuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0cm9rZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NvbG9yXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbbGluZUNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtsaW5lRGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uIERlZmF1bHQgaXMgYG51bGxgIChubyBkYXNoKS5cbiAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIGRvIG5vdCBzdXBwb3J0IHRoZSBgc2V0TGluZURhc2hgIG1ldGhvZCBvblxuICogdGhlIGBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRgIGFuZCB0aGVyZWZvcmUgdGhpcyBvcHRpb24gd2lsbCBoYXZlIG5vIHZpc3VhbCBlZmZlY3QgaW4gdGhlc2UgYnJvd3NlcnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gV2lkdGguXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHN0cm9rZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogTm90ZSB0aGF0IHRoZSBkZWZhdWx0cyBnaXZlbiBhcmUgdGhlIENhbnZhcyBkZWZhdWx0cywgd2hpY2ggd2lsbCBiZSB1c2VkIGlmXG4gKiBvcHRpb24gaXMgbm90IGRlZmluZWQuIFRoZSBgZ2V0YCBmdW5jdGlvbnMgcmV0dXJuIHdoYXRldmVyIHdhcyBlbnRlcmVkIGluXG4gKiB0aGUgb3B0aW9uczsgdGhleSB3aWxsIG5vdCByZXR1cm4gdGhlIGRlZmF1bHQuXG4gKiBAYXBpXG4gKi9cbnZhciBTdHJva2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3Ryb2tlKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xvciA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzTGluZUNhcHx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVDYXBfID0gb3B0aW9ucy5saW5lQ2FwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVEYXNoXyA9IG9wdGlvbnMubGluZURhc2ggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGluZURhc2ggOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVEYXNoT2Zmc2V0XyA9IG9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzTGluZUpvaW58dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSm9pbl8gPSBvcHRpb25zLmxpbmVKb2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pdGVyTGltaXRfID0gb3B0aW9ucy5taXRlckxpbWl0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoXyA9IG9wdGlvbnMud2lkdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7U3Ryb2tlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmdldENvbG9yKCk7XG4gICAgICAgIHJldHVybiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICAgIGNvbG9yOiBBcnJheS5pc0FycmF5KGNvbG9yKSA/IGNvbG9yLnNsaWNlKCkgOiBjb2xvciB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICBsaW5lQ2FwOiB0aGlzLmdldExpbmVDYXAoKSxcbiAgICAgICAgICAgIGxpbmVEYXNoOiB0aGlzLmdldExpbmVEYXNoKCkgPyB0aGlzLmdldExpbmVEYXNoKCkuc2xpY2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiB0aGlzLmdldExpbmVEYXNoT2Zmc2V0KCksXG4gICAgICAgICAgICBsaW5lSm9pbjogdGhpcy5nZXRMaW5lSm9pbigpLFxuICAgICAgICAgICAgbWl0ZXJMaW1pdDogdGhpcy5nZXRNaXRlckxpbWl0KCksXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3Ryb2tlIGNvbG9yLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IENvbG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldENvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmUgY2FwIHR5cGUgZm9yIHRoZSBzdHJva2UuXG4gICAgICogQHJldHVybiB7Q2FudmFzTGluZUNhcHx1bmRlZmluZWR9IExpbmUgY2FwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldExpbmVDYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVDYXBfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaW5lIGRhc2ggc3R5bGUgZm9yIHRoZSBzdHJva2UuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gTGluZSBkYXNoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldExpbmVEYXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lRGFzaF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQgZm9yIHRoZSBzdHJva2UuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gTGluZSBkYXNoIG9mZnNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRMaW5lRGFzaE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZURhc2hPZmZzZXRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaW5lIGpvaW4gdHlwZSBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9IExpbmUgam9pbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRMaW5lSm9pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUpvaW5fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaXRlciBsaW1pdCBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBNaXRlciBsaW1pdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5nZXRNaXRlckxpbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taXRlckxpbWl0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3Ryb2tlIHdpZHRoLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFdpZHRoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICB0aGlzLmNvbG9yXyA9IGNvbG9yO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaW5lIGNhcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzTGluZUNhcHx1bmRlZmluZWR9IGxpbmVDYXAgTGluZSBjYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0TGluZUNhcCA9IGZ1bmN0aW9uIChsaW5lQ2FwKSB7XG4gICAgICAgIHRoaXMubGluZUNhcF8gPSBsaW5lQ2FwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaW5lIGRhc2guXG4gICAgICpcbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IEludGVybmV0IEV4cGxvcmVyIDEwIGFuZCBsb3dlciBbZG8gbm90IHN1cHBvcnRdW21kbl0gdGhlXG4gICAgICogYHNldExpbmVEYXNoYCBtZXRob2Qgb24gdGhlIGBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRgIGFuZCB0aGVyZWZvcmUgdGhpc1xuICAgICAqIHByb3BlcnR5IHdpbGwgaGF2ZSBubyB2aXN1YWwgZWZmZWN0IGluIHRoZXNlIGJyb3dzZXJzLlxuICAgICAqXG4gICAgICogW21kbl06IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2V0TGluZURhc2gjQnJvd3Nlcl9jb21wYXRpYmlsaXR5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGxpbmVEYXNoIExpbmUgZGFzaC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lRGFzaCA9IGZ1bmN0aW9uIChsaW5lRGFzaCkge1xuICAgICAgICB0aGlzLmxpbmVEYXNoXyA9IGxpbmVEYXNoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaW5lIGRhc2ggb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBsaW5lRGFzaE9mZnNldCBMaW5lIGRhc2ggb2Zmc2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldExpbmVEYXNoT2Zmc2V0ID0gZnVuY3Rpb24gKGxpbmVEYXNoT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMubGluZURhc2hPZmZzZXRfID0gbGluZURhc2hPZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgam9pbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzTGluZUpvaW58dW5kZWZpbmVkfSBsaW5lSm9pbiBMaW5lIGpvaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0TGluZUpvaW4gPSBmdW5jdGlvbiAobGluZUpvaW4pIHtcbiAgICAgICAgdGhpcy5saW5lSm9pbl8gPSBsaW5lSm9pbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWl0ZXIgbGltaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IG1pdGVyTGltaXQgTWl0ZXIgbGltaXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0TWl0ZXJMaW1pdCA9IGZ1bmN0aW9uIChtaXRlckxpbWl0KSB7XG4gICAgICAgIHRoaXMubWl0ZXJMaW1pdF8gPSBtaXRlckxpbWl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB3aWR0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gd2lkdGggV2lkdGguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICAgICAgdGhpcy53aWR0aF8gPSB3aWR0aDtcbiAgICB9O1xuICAgIHJldHVybiBTdHJva2U7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3Ryb2tlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Ryb2tlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9TdHlsZVxuICovXG5pbXBvcnQgQ2lyY2xlU3R5bGUgZnJvbSAnLi9DaXJjbGUuanMnO1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFN0cm9rZSBmcm9tICcuL1N0cm9rZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX0gYW5kIGEgYHtudW1iZXJ9YFxuICogcmVwcmVzZW50aW5nIHRoZSB2aWV3J3MgcmVzb2x1dGlvbi4gVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYVxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5TdHlsZX0gb3IgYW4gYXJyYXkgb2YgdGhlbS4gVGhpcyB3YXkgZS5nLiBhXG4gKiB2ZWN0b3IgbGF5ZXIgY2FuIGJlIHN0eWxlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYHVuZGVmaW5lZGAsIHRoZVxuICogZmVhdHVyZSB3aWxsIG5vdCBiZSByZW5kZXJlZC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgbnVtYmVyKTooU3R5bGV8QXJyYXk8U3R5bGU+fHZvaWQpfSBTdHlsZUZ1bmN0aW9uXG4gKi9cbi8qKlxuICogQSB7QGxpbmsgU3R5bGV9LCBhbiBhcnJheSBvZiB7QGxpbmsgU3R5bGV9LCBvciBhIHtAbGluayBTdHlsZUZ1bmN0aW9ufS5cbiAqIEB0eXBlZGVmIHtTdHlsZXxBcnJheTxTdHlsZT58U3R5bGVGdW5jdGlvbn0gU3R5bGVMaWtlXG4gKi9cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnMgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX0gdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGFuZCBzdHlsZWQgZm9yIHRoZSBmZWF0dXJlLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlKTpcbiAqICAgICAoaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkKX0gR2VvbWV0cnlGdW5jdGlvblxuICovXG4vKipcbiAqIEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi4gVGFrZXMgdHdvIGFyZ3VtZW50czpcbiAqXG4gKiAxLiBUaGUgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIGdlb21ldHJ5IGluIEdlb0pTT04gbm90YXRpb24uXG4gKiAyLiBUaGUge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXJ+U3RhdGV9IG9mIHRoZSBsYXllciByZW5kZXJlci5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+KSxpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuU3RhdGUpOiB2b2lkfVxuICogUmVuZGVyRnVuY3Rpb25cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gW2dlb21ldHJ5XSBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5XG4gKiBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXIgZm9yIHRoaXMgc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBbaW1hZ2VdIEltYWdlIHN0eWxlLlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW3JlbmRlcmVyXSBDdXN0b20gcmVuZGVyZXIuIFdoZW4gY29uZmlndXJlZCwgYGZpbGxgLCBgc3Ryb2tlYCBhbmQgYGltYWdlYCB3aWxsIGJlXG4gKiBpZ25vcmVkLCBhbmQgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCByZW5kZXIgZnJhbWUgZm9yIGVhY2ggZ2VvbWV0cnkuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbaGl0RGV0ZWN0aW9uUmVuZGVyZXJdIEN1c3RvbSByZW5kZXJlciBmb3IgaGl0IGRldGVjdGlvbi4gSWYgcHJvdmlkZWQgd2lsbCBiZSB1c2VkXG4gKiBpbiBoaXQgZGV0ZWN0aW9uIHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gW3RleHRdIFRleHQgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gWiBpbmRleC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250YWluZXIgZm9yIHZlY3RvciBmZWF0dXJlIHJlbmRlcmluZyBzdHlsZXMuIEFueSBjaGFuZ2VzIG1hZGUgdG8gdGhlIHN0eWxlXG4gKiBvciBpdHMgY2hpbGRyZW4gdGhyb3VnaCBgc2V0KigpYCBtZXRob2RzIHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZVxuICogZmVhdHVyZSBvciBsYXllciB0aGF0IHVzZXMgdGhlIHN0eWxlIGlzIHJlLXJlbmRlcmVkLlxuICpcbiAqICMjIEZlYXR1cmUgc3R5bGVzXG4gKlxuICogSWYgbm8gc3R5bGUgaXMgZGVmaW5lZCwgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHN0eWxlIGlzIHVzZWQ6XG4gKiBgYGBqc1xuICogIGltcG9ydCB7Q2lyY2xlLCBGaWxsLCBTdHJva2UsIFN0eWxlfSBmcm9tICdvbC9zdHlsZSc7XG4gKlxuICogIGNvbnN0IGZpbGwgPSBuZXcgRmlsbCh7XG4gKiAgICBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC40KScsXG4gKiAgfSk7XG4gKiAgY29uc3Qgc3Ryb2tlID0gbmV3IFN0cm9rZSh7XG4gKiAgICBjb2xvcjogJyMzMzk5Q0MnLFxuICogICAgd2lkdGg6IDEuMjUsXG4gKiAgfSk7XG4gKiAgY29uc3Qgc3R5bGVzID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgaW1hZ2U6IG5ldyBDaXJjbGUoe1xuICogICAgICAgIGZpbGw6IGZpbGwsXG4gKiAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gKiAgICAgICAgcmFkaXVzOiA1LFxuICogICAgICB9KSxcbiAqICAgICAgZmlsbDogZmlsbCxcbiAqICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gKiAgICB9KSxcbiAqICBdO1xuICogYGBgXG4gKlxuICogQSBzZXBhcmF0ZSBlZGl0aW5nIHN0eWxlIGhhcyB0aGUgZm9sbG93aW5nIGRlZmF1bHRzOlxuICogYGBganNcbiAqICBpbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJ29sL2dlb20vR2VvbWV0cnlUeXBlJztcbiAqICBpbXBvcnQge0NpcmNsZSwgRmlsbCwgU3Ryb2tlLCBTdHlsZX0gZnJvbSAnb2wvc3R5bGUnO1xuICpcbiAqICBjb25zdCBzdHlsZXMgPSB7fTtcbiAqICBjb25zdCB3aGl0ZSA9IFsyNTUsIDI1NSwgMjU1LCAxXTtcbiAqICBjb25zdCBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAqICBjb25zdCB3aWR0aCA9IDM7XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAqICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuNV0sXG4gKiAgICAgIH0pLFxuICogICAgfSksXG4gKiAgXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT05dID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXTtcbiAqXG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGggKyAyLFxuICogICAgICB9KSxcbiAqICAgIH0pLFxuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAqICAgICAgICBjb2xvcjogYmx1ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGgsXG4gKiAgICAgIH0pLFxuICogICAgfSksXG4gKiAgXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddO1xuICpcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLkNJUkNMRV0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLmNvbmNhdChcbiAqICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddXG4gKiAgKTtcbiAqXG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF0gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBpbWFnZTogbmV3IENpcmNsZSh7XG4gKiAgICAgICAgcmFkaXVzOiB3aWR0aCAqIDIsXG4gKiAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICogICAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgfSksXG4gKiAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAqICAgICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICAgIHdpZHRoOiB3aWR0aCAvIDIsXG4gKiAgICAgICAgfSksXG4gKiAgICAgIH0pLFxuICogICAgICB6SW5kZXg6IEluZmluaXR5LFxuICogICAgfSksXG4gKiAgXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdO1xuICpcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dID0gc3R5bGVzW1xuICogICAgR2VvbWV0cnlUeXBlLlBPTFlHT05cbiAqICBdLmNvbmNhdChzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSwgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF0pO1xuICogYGBgXG4gKlxuICogQGFwaVxuICovXG52YXIgU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0X29wdGlvbnNdIFN0eWxlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3R5bGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUdlb21ldHJ5RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG4gICAgICAgIGlmIChvcHRpb25zLmdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0R2VvbWV0cnkob3B0aW9ucy5nZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbF8gPSBvcHRpb25zLmZpbGwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZmlsbCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbWFnZV8gPSBvcHRpb25zLmltYWdlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJGdW5jdGlvbnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBvcHRpb25zLnJlbmRlcmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlcmVyIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJGdW5jdGlvbnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25SZW5kZXJlcl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5oaXREZXRlY3Rpb25SZW5kZXJlciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmhpdERldGVjdGlvblJlbmRlcmVyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0XyA9IG9wdGlvbnMudGV4dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50ZXh0IDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy56SW5kZXhfID0gb3B0aW9ucy56SW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7U3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZXRHZW9tZXRyeSgpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkgJiYgdHlwZW9mIGdlb21ldHJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5jbG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMuZ2V0SW1hZ2UoKSA/IHRoaXMuZ2V0SW1hZ2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmVuZGVyZXI6IHRoaXMuZ2V0UmVuZGVyZXIoKSxcbiAgICAgICAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0VGV4dCgpID8gdGhpcy5nZXRUZXh0KCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHpJbmRleDogdGhpcy5nZXRaSW5kZXgoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiB0aGF0IHdhcyBjb25maWd1cmVkIHdpdGhcbiAgICAgKiB7QGxpbmsgI3NldFJlbmRlcmVyfSBvciB0aGUgYHJlbmRlcmVyYCBjb25zdHJ1Y3RvciBvcHRpb24uXG4gICAgICogQHJldHVybiB7UmVuZGVyRnVuY3Rpb258bnVsbH0gQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gZm9yIHRoaXMgc3R5bGUuIFdoZW4gc2V0LCBgZmlsbGAsIGBzdHJva2VgXG4gICAgICogYW5kIGBpbWFnZWAgb3B0aW9ucyBvZiB0aGUgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSByZW5kZXJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gZm9yIHRoaXMgc3R5bGUgdXNlZFxuICAgICAqIGluIGhpdCBkZXRlY3Rpb24uXG4gICAgICogQHBhcmFtIHtSZW5kZXJGdW5jdGlvbnxudWxsfSByZW5kZXJlciBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRIaXREZXRlY3Rpb25SZW5kZXJlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvblJlbmRlcmVyXyA9IHJlbmRlcmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gdGhhdCB3YXMgY29uZmlndXJlZCB3aXRoXG4gICAgICoge0BsaW5rICNzZXRIaXREZXRlY3Rpb25SZW5kZXJlcn0gb3IgdGhlIGBoaXREZXRlY3Rpb25SZW5kZXJlcmAgY29uc3RydWN0b3Igb3B0aW9uLlxuICAgICAqIEByZXR1cm4ge1JlbmRlckZ1bmN0aW9ufG51bGx9IEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldEhpdERldGVjdGlvblJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXREZXRlY3Rpb25SZW5kZXJlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGdlb21ldHJ5IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn1cbiAgICAgKiBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5IG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZ2VvbWV0cnkgdGhhdCB3aWxsXG4gICAgICogYmUgcmVuZGVyZWQgd2l0aCB0aGlzIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBhIGdlb21ldHJ5IGZvciByZW5kZXJpbmcuXG4gICAgICogQHJldHVybiB7IUdlb21ldHJ5RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggYSBmZWF0dXJlXG4gICAgICogYW5kIHJldHVybnMgdGhlIGdlb21ldHJ5IHRvIHJlbmRlciBpbnN0ZWFkIG9mIHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeUZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmlsbCBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmaWxsIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGwgRmlsbCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldEZpbGwgPSBmdW5jdGlvbiAoZmlsbCkge1xuICAgICAgICB0aGlzLmZpbGxfID0gZmlsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGltYWdlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZSBJbWFnZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldEltYWdlID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0cm9rZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRTdHJva2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cm9rZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0cm9rZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRTdHJva2UgPSBmdW5jdGlvbiAoc3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuc3Ryb2tlXyA9IHN0cm9rZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gVGV4dCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHQgVGV4dCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB0aGlzLnRleHRfID0gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgei1pbmRleCBmb3IgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFpJbmRleC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldFpJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuekluZGV4XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIGdlb21ldHJ5IHRoYXQgaXMgcmVuZGVyZWQgaW5zdGVhZCBvZiB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259IGdlb21ldHJ5XG4gICAgICogICAgIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnkgb3IgZnVuY3Rpb24gcmV0dXJuaW5nIGEgZ2VvbWV0cnkgdG8gcmVuZGVyXG4gICAgICogICAgIGZvciB0aGlzIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZW9tZXRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGdlb21ldHJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBnZW9tZXRyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGZlYXR1cmUuZ2V0KGdlb21ldHJ5KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlb21ldHJ5XyA9IGdlb21ldHJ5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB6LWluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB6SW5kZXggWkluZGV4LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0WkluZGV4ID0gZnVuY3Rpb24gKHpJbmRleCkge1xuICAgICAgICB0aGlzLnpJbmRleF8gPSB6SW5kZXg7XG4gICAgfTtcbiAgICByZXR1cm4gU3R5bGU7XG59KCkpO1xuLyoqXG4gKiBDb252ZXJ0IHRoZSBwcm92aWRlZCBvYmplY3QgaW50byBhIHN0eWxlIGZ1bmN0aW9uLiAgRnVuY3Rpb25zIHBhc3NlZCB0aHJvdWdoXG4gKiB1bmNoYW5nZWQuICBBcnJheXMgb2YgU3R5bGUgb3Igc2luZ2xlIHN0eWxlIG9iamVjdHMgd3JhcHBlZCBpbiBhXG4gKiBuZXcgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge1N0eWxlRnVuY3Rpb258QXJyYXk8U3R5bGU+fFN0eWxlfSBvYmpcbiAqICAgICBBIHN0eWxlIGZ1bmN0aW9uLCBhIHNpbmdsZSBzdHlsZSwgb3IgYW4gYXJyYXkgb2Ygc3R5bGVzLlxuICogQHJldHVybiB7U3R5bGVGdW5jdGlvbn0gQSBzdHlsZSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHN0eWxlRnVuY3Rpb247XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgc3R5bGVGdW5jdGlvbiA9IG9iajtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8U3R5bGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHN0eWxlc18xO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IG9iajtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9iaikuZ2V0WkluZGV4KSA9PT0gJ2Z1bmN0aW9uJywgNDEpOyAvLyBFeHBlY3RlZCBhbiBgU3R5bGVgIG9yIGFuIGFycmF5IG9mIGBTdHlsZWBcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IC8qKiBAdHlwZSB7U3R5bGV9ICovIChvYmopO1xuICAgICAgICAgICAgc3R5bGVzXzEgPSBbc3R5bGVdO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGVzXzE7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBzdHlsZUZ1bmN0aW9uO1xufVxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8U3R5bGU+fVxuICovXG52YXIgZGVmYXVsdFN0eWxlcyA9IG51bGw7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PFN0eWxlPn0gU3R5bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0U3R5bGUoZmVhdHVyZSwgcmVzb2x1dGlvbikge1xuICAgIC8vIFdlIGRvbid0IHVzZSBhbiBpbW1lZGlhdGVseS1pbnZva2VkIGZ1bmN0aW9uXG4gICAgLy8gYW5kIGEgY2xvc3VyZSBzbyB3ZSBkb24ndCBnZXQgYW4gZXJyb3IgYXQgc2NyaXB0IGV2YWx1YXRpb24gdGltZSBpblxuICAgIC8vIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgQ2FudmFzLiAoaW1wb3J0KFwiLi9DaXJjbGUuanNcIikuQ2lyY2xlU3R5bGUgZG9lc1xuICAgIC8vIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGF0IGNvbnN0cnVjdGlvbiB0aW1lLCB3aGljaCB3aWxsIGNhdXNlIGFuLmVycm9yXG4gICAgLy8gaW4gc3VjaCBicm93c2Vycy4pXG4gICAgaWYgKCFkZWZhdWx0U3R5bGVzKSB7XG4gICAgICAgIHZhciBmaWxsID0gbmV3IEZpbGwoe1xuICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgY29sb3I6ICcjMzM5OUNDJyxcbiAgICAgICAgICAgIHdpZHRoOiAxLjI1LFxuICAgICAgICB9KTtcbiAgICAgICAgZGVmYXVsdFN0eWxlcyA9IFtcbiAgICAgICAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgICAgICAgICAgaW1hZ2U6IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IGZpbGwsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgICAgICBzdHJva2U6IHN0cm9rZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFN0eWxlcztcbn1cbi8qKlxuICogRGVmYXVsdCBzdHlsZXMgZm9yIGVkaXRpbmcgZmVhdHVyZXMuXG4gKiBAcmV0dXJuIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdCwgQXJyYXk8U3R5bGU+Pn0gU3R5bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFZGl0aW5nU3R5bGUoKSB7XG4gICAgLyoqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdCwgQXJyYXk8U3R5bGU+Pn0gKi9cbiAgICB2YXIgc3R5bGVzID0ge307XG4gICAgdmFyIHdoaXRlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xuICAgIHZhciBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAgICB2YXIgd2lkdGggPSAzO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0gPSBbXG4gICAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gICAgICAgICAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl07XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXG4gICAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggKyAyLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYmx1ZSxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuQ0lSQ0xFXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0uY29uY2F0KHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddKTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXSA9IFtcbiAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGltYWdlOiBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgICAgICAgICAgIHJhZGl1czogd2lkdGggKiAyLFxuICAgICAgICAgICAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJsdWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB6SW5kZXg6IEluZmluaXR5LFxuICAgICAgICB9KSxcbiAgICBdO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlRdID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF07XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OXSA9IHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0uY29uY2F0KHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddLCBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXSk7XG4gICAgcmV0dXJuIHN0eWxlcztcbn1cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBhIGZlYXR1cmUgYW5kIHJldHVybnMgaXRzIGRlZmF1bHQgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZSB0byBnZXQgdGhlIGdlb21ldHJ5IGZvci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gR2VvbWV0cnkgdG8gcmVuZGVyLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0R2VvbWV0cnlGdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgcmV0dXJuIGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IFN0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3R5bGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlVmVjdG9yXG4gKi9cbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICdyYnVzaCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVmYXVsdFN0eWxlLCB0b0Z1bmN0aW9uIGFzIHRvU3R5bGVGdW5jdGlvbiwgfSBmcm9tICcuLi9zdHlsZS9TdHlsZS5qcyc7XG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFZlY3RvclNvdXJjZVR5cGVcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufSBbcmVuZGVyT3JkZXJdIFJlbmRlciBvcmRlci4gRnVuY3Rpb24gdG8gYmUgdXNlZCB3aGVuIHNvcnRpbmdcbiAqIGZlYXR1cmVzIGJlZm9yZSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQgZmVhdHVyZXMgYXJlIGRyYXduIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIGNyZWF0ZWQuIFVzZVxuICogYG51bGxgIHRvIGF2b2lkIHRoZSBzb3J0LCBidXQgZ2V0IGFuIHVuZGVmaW5lZCBkcmF3IG9yZGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZW5kZXJCdWZmZXI9MTAwXSBUaGUgYnVmZmVyIGluIHBpeGVscyBhcm91bmQgdGhlIHZpZXdwb3J0IGV4dGVudCB1c2VkIGJ5IHRoZVxuICogcmVuZGVyZXIgd2hlbiBnZXR0aW5nIGZlYXR1cmVzIGZyb20gdGhlIHZlY3RvciBzb3VyY2UgZm9yIHRoZSByZW5kZXJpbmcgb3IgaGl0LWRldGVjdGlvbi5cbiAqIFJlY29tbWVuZGVkIHZhbHVlOiB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2VzdCBzeW1ib2wsIGxpbmUgd2lkdGggb3IgbGFiZWwuXG4gKiBAcHJvcGVydHkge1ZlY3RvclNvdXJjZVR5cGV9IFtzb3VyY2VdIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIHtAbGluayBpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdCNhZGRMYXllciBtYXAuYWRkTGF5ZXIoKX0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkZWNsdXR0ZXI9ZmFsc2VdIERlY2x1dHRlciBpbWFnZXMgYW5kIHRleHQuIERlY2x1dHRlcmluZyBpcyBhcHBsaWVkIHRvIGFsbFxuICogaW1hZ2UgYW5kIHRleHQgc3R5bGVzIG9mIGFsbCBWZWN0b3IgYW5kIFZlY3RvclRpbGUgbGF5ZXJzIHRoYXQgaGF2ZSBzZXQgdGhpcyB0byBgdHJ1ZWAuIFRoZSBwcmlvcml0eVxuICogaXMgZGVmaW5lZCBieSB0aGUgei1pbmRleCBvZiB0aGUgbGF5ZXIsIHRoZSBgekluZGV4YCBvZiB0aGUgc3R5bGUgYW5kIHRoZSByZW5kZXIgb3JkZXIgb2YgZmVhdHVyZXMuXG4gKiBIaWdoZXIgei1pbmRleCBtZWFucyBoaWdoZXIgcHJpb3JpdHkuIFdpdGhpbiB0aGUgc2FtZSB6LWluZGV4LCBhIGZlYXR1cmUgcmVuZGVyZWQgYmVmb3JlIGFub3RoZXIgaGFzXG4gKiBoaWdoZXIgcHJpb3JpdHkuXG4gKlxuICogQXMgYW4gb3B0aW1pemF0aW9uIGRlY2x1dHRlcmVkIGZlYXR1cmVzIGZyb20gbGF5ZXJzIHdpdGggdGhlIHNhbWUgYGNsYXNzTmFtZWAgYXJlIHJlbmRlcmVkIGFib3ZlXG4gKiB0aGUgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlcyBvZiBhbGwgb2YgdGhvc2UgbGF5ZXJzIHJlZ2FyZGxlc3Mgb2Ygei1pbmRleC4gIFRvIG9wdCBvdXQgb2YgdGhpc1xuICogYmVoYXZpb3IgYW5kIHBsYWNlIGRlY2x1dHRlcmQgZmVhdHVyZXMgd2l0aCB0aGVpciBvd24gbGF5ZXIgY29uZmlndXJlIHRoZSBsYXllciB3aXRoIGEgYGNsYXNzTmFtZWBcbiAqIG90aGVyIHRoYW4gYG9sLWxheWVyYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9IFtzdHlsZV0gTGF5ZXIgc3R5bGUuIFdoZW4gc2V0IHRvIGBudWxsYCwgb25seVxuICogZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZSB3aWxsIGJlIHJlbmRlcmVkLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5TdHlsZX0gZm9yIHRoZSBkZWZhdWx0IHN0eWxlXG4gKiB3aGljaCB3aWxsIGJlIHVzZWQgaWYgdGhpcyBpcyBub3Qgc2V0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuQmFja2dyb3VuZENvbG9yfSBbYmFja2dyb3VuZF0gQmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGxheWVyLiBJZiBub3Qgc3BlY2lmaWVkLCBubyBiYWNrZ3JvdW5kXG4gKiB3aWxsIGJlIHJlbmRlcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXBkYXRlV2hpbGVBbmltYXRpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGxcbiAqIGJlIHJlY3JlYXRlZCBkdXJpbmcgYW5pbWF0aW9ucy4gVGhpcyBtZWFucyB0aGF0IG5vIHZlY3RvcnMgd2lsbCBiZSBzaG93biBjbGlwcGVkLCBidXQgdGhlXG4gKiBzZXR0aW5nIHdpbGwgaGF2ZSBhIHBlcmZvcm1hbmNlIGltcGFjdCBmb3IgbGFyZ2UgYW1vdW50cyBvZiB2ZWN0b3IgZGF0YS4gV2hlbiBzZXQgdG8gYGZhbHNlYCxcbiAqIGJhdGNoZXMgd2lsbCBiZSByZWNyZWF0ZWQgd2hlbiBubyBhbmltYXRpb24gaXMgYWN0aXZlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXBkYXRlV2hpbGVJbnRlcmFjdGluZz1mYWxzZV0gV2hlbiBzZXQgdG8gYHRydWVgLCBmZWF0dXJlIGJhdGNoZXMgd2lsbFxuICogYmUgcmVjcmVhdGVkIGR1cmluZyBpbnRlcmFjdGlvbnMuIFNlZSBhbHNvIGB1cGRhdGVXaGlsZUFuaW1hdGluZ2AuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gICAgUkVOREVSX09SREVSOiAncmVuZGVyT3JkZXInLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVmVjdG9yIGRhdGEgdGhhdCBpcyByZW5kZXJlZCBjbGllbnQtc2lkZS5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBWZWN0b3JTb3VyY2VUeXBlXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JMYXllci5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JUaWxlTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9ySW1hZ2VMYXllci5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlcmVyL3dlYmdsL1BvaW50c0xheWVyLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyPFZlY3RvclNvdXJjZVR5cGUsIFJlbmRlcmVyVHlwZT59XG4gKiBAYXBpXG4gKi9cbnZhciBCYXNlVmVjdG9yTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VWZWN0b3JMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM8VmVjdG9yU291cmNlVHlwZT59IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVmVjdG9yTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5zdHlsZTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnJlbmRlckJ1ZmZlcjtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnVwZGF0ZVdoaWxlQW5pbWF0aW5nO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZztcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVyXyA9XG4gICAgICAgICAgICBvcHRpb25zLmRlY2x1dHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWNsdXR0ZXIgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJCdWZmZXJfID1cbiAgICAgICAgICAgIG9wdGlvbnMucmVuZGVyQnVmZmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlckJ1ZmZlciA6IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXIgcHJvdmlkZWQgc3R5bGUuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3R5bGUgZnVuY3Rpb24gZm9yIHVzZSB3aXRoaW4gdGhlIGxpYnJhcnkuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0eWxlRnVuY3Rpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5zZXRTdHlsZShvcHRpb25zLnN0eWxlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXBkYXRlV2hpbGVBbmltYXRpbmdfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZ1xuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IERlY2x1dHRlci5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldERlY2x1dHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjbHV0dGVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG9wbW9zdCBmZWF0dXJlIHRoYXQgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgICAqIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy4gVGhlIGFycmF5IHdpbGwgZWl0aGVyIGNvbnRhaW4gdGhlIHRvcG1vc3QgZmVhdHVyZVxuICAgICAqIHdoZW4gYSBoaXQgd2FzIGRldGVjdGVkLCBvciBpdCB3aWxsIGJlIGVtcHR5LlxuICAgICAqXG4gICAgICogVGhlIGhpdCBkZXRlY3Rpb24gYWxnb3JpdGhtIHVzZWQgZm9yIHRoaXMgbWV0aG9kIGlzIG9wdGltaXplZCBmb3IgcGVyZm9ybWFuY2UsIGJ1dCBpcyBsZXNzXG4gICAgICogYWNjdXJhdGUgdGhhbiB0aGUgb25lIHVzZWQgaW4ge0BsaW5rIGltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0I2dldEZlYXR1cmVzQXRQaXhlbH06IFRleHRcbiAgICAgKiBpcyBub3QgY29uc2lkZXJlZCwgYW5kIGljb25zIGFyZSBvbmx5IHJlcHJlc2VudGVkIGJ5IHRoZWlyIGJvdW5kaW5nIGJveCBpbnN0ZWFkIG9mIHRoZSBleGFjdFxuICAgICAqIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLmRlZmF1bHQ+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAocGl4ZWwpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0RmVhdHVyZXMuY2FsbCh0aGlzLCBwaXhlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZW5kZXIgYnVmZmVyLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0UmVuZGVyQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJCdWZmZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBudW1iZXJ8bnVsbHx1bmRlZmluZWR9IFJlbmRlclxuICAgICAqICAgICBvcmRlci5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFJlbmRlck9yZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbnxudWxsfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LlJFTkRFUl9PUkRFUikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHlsZSBmb3IgZmVhdHVyZXMuICBUaGlzIHJldHVybnMgd2hhdGV2ZXIgd2FzIHBhc3NlZCB0byB0aGUgYHN0eWxlYFxuICAgICAqIG9wdGlvbiBhdCBjb25zdHJ1Y3Rpb24gb3IgdG8gdGhlIGBzZXRTdHlsZWAgbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3R5bGUgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9IExheWVyIHN0eWxlIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgICAgKiAgICAgYW5pbWF0aW5nLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlbmRlcmVkIGxheWVyIHNob3VsZCBiZSB1cGRhdGVkIHdoaWxlXG4gICAgICogICAgIGludGVyYWN0aW5nLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgZGVjbHV0dGVyIGl0ZW1zIGZvciB0aGlzIGxheWVyXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLnJlbmRlckRlY2x1dHRlciA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUgPSBuZXcgUkJ1c2goOSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEB0eXBlIHsqfSAqLyAodGhpcy5nZXRSZW5kZXJlcigpKS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufG51bGx8dW5kZWZpbmVkfSByZW5kZXJPcmRlclxuICAgICAqICAgICBSZW5kZXIgb3JkZXIuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5zZXRSZW5kZXJPcmRlciA9IGZ1bmN0aW9uIChyZW5kZXJPcmRlcikge1xuICAgICAgICB0aGlzLnNldChQcm9wZXJ0eS5SRU5ERVJfT1JERVIsIHJlbmRlck9yZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUgZm9yIGZlYXR1cmVzLiAgVGhpcyBjYW4gYmUgYSBzaW5nbGUgc3R5bGUgb2JqZWN0LCBhbiBhcnJheVxuICAgICAqIG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgZmVhdHVyZSBhbmQgcmVzb2x1dGlvbiBhbmQgcmV0dXJuc1xuICAgICAqIGFuIGFycmF5IG9mIHN0eWxlcy4gSWYgc2V0IHRvIGBudWxsYCwgdGhlIGxheWVyIGhhcyBubyBzdHlsZSAoYSBgbnVsbGAgc3R5bGUpLFxuICAgICAqIHNvIG9ubHkgZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZXMgd2lsbCBiZSByZW5kZXJlZCBpbiB0aGUgbGF5ZXIuIENhbGxcbiAgICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgdG8gcmVzZXQgdG8gdGhlIGRlZmF1bHQgc3R5bGUuIFNlZVxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IGZvciBpbmZvcm1hdGlvbiBvbiB0aGUgZGVmYXVsdCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfSBbb3B0X3N0eWxlXSBMYXllciBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChvcHRfc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZV8gPSBvcHRfc3R5bGUgIT09IHVuZGVmaW5lZCA/IG9wdF9zdHlsZSA6IGNyZWF0ZURlZmF1bHRTdHlsZTtcbiAgICAgICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9XG4gICAgICAgICAgICBvcHRfc3R5bGUgPT09IG51bGwgPyB1bmRlZmluZWQgOiB0b1N0eWxlRnVuY3Rpb24odGhpcy5zdHlsZV8pO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlVmVjdG9yTGF5ZXI7XG59KExheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlVmVjdG9yTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlVmVjdG9yLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0luc3RydWN0aW9uXG4gKi9cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xudmFyIEluc3RydWN0aW9uID0ge1xuICAgIEJFR0lOX0dFT01FVFJZOiAwLFxuICAgIEJFR0lOX1BBVEg6IDEsXG4gICAgQ0lSQ0xFOiAyLFxuICAgIENMT1NFX1BBVEg6IDMsXG4gICAgQ1VTVE9NOiA0LFxuICAgIERSQVdfQ0hBUlM6IDUsXG4gICAgRFJBV19JTUFHRTogNixcbiAgICBFTkRfR0VPTUVUUlk6IDcsXG4gICAgRklMTDogOCxcbiAgICBNT1ZFX1RPX0xJTkVfVE86IDksXG4gICAgU0VUX0ZJTExfU1RZTEU6IDEwLFxuICAgIFNFVF9TVFJPS0VfU1RZTEU6IDExLFxuICAgIFNUUk9LRTogMTIsXG59O1xuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGZpbGxJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5GSUxMXTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBzdHJva2VJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5TVFJPS0VdO1xuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGJlZ2luUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkJFR0lOX1BBVEhdO1xuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGNsb3NlUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkNMT1NFX1BBVEhdO1xuZXhwb3J0IGRlZmF1bHQgSW5zdHJ1Y3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnN0cnVjdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL1ZlY3RvckNvbnRleHRcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250ZXh0IGZvciBkcmF3aW5nIGdlb21ldHJpZXMuICBBIHZlY3RvciBjb250ZXh0IGlzIGF2YWlsYWJsZSBvbiByZW5kZXJcbiAqIGV2ZW50cyBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvckNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmVjdG9yQ29udGV4dCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgZ2VvbWV0cnkgd2l0aCBhIGN1c3RvbSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZW5kZXJlciBSZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoaXREZXRlY3Rpb25SZW5kZXJlciBSZW5kZXJlci5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3Q3VzdG9tID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlLCByZW5kZXJlciwgaGl0RGV0ZWN0aW9uUmVuZGVyZXIpIHsgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkgeyB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUsIHN0eWxlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSBHZW9tZXRyeSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIChsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5IE11bHRpTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TXVsdGlMaW5lU3RyaW5nID0gZnVuY3Rpb24gKG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlQb2ludEdlb21ldHJ5IE11bHRpUG9pbnQgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpUG9pbnQgPSBmdW5jdGlvbiAobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpUG9seWdvbiA9IGZ1bmN0aW9uIChtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2ludEdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdQb2ludCA9IGZ1bmN0aW9uIChwb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9seWdvbkdlb21ldHJ5IFBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAocG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gW29wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XSBTaGFyZWQgZGF0YSBmb3IgY29tYmluZWQgZGVjbHV0dGVyaW5nIHdpdGggYSB0ZXh0IHN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldEltYWdlU3R5bGUgPSBmdW5jdGlvbiAoaW1hZ2VTdHlsZSwgb3B0X2RlY2x1dHRlckltYWdlV2l0aFRleHQpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9IFtvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF0gU2hhcmVkIGRhdGEgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZyB3aXRoIGFuIGltYWdlIHN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0U3R5bGUsIG9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KSB7IH07XG4gICAgcmV0dXJuIFZlY3RvckNvbnRleHQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVmVjdG9yQ29udGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckNvbnRleHQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgUmVsYXRpb25zaGlwIGZyb20gJy4uLy4uL2V4dGVudC9SZWxhdGlvbnNoaXAuanMnO1xuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnLi4vVmVjdG9yQ29udGV4dC5qcyc7XG5pbXBvcnQgeyBhc0NvbG9yTGlrZSB9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQgeyBidWZmZXIsIGNsb25lLCBjb250YWluc0Nvb3JkaW5hdGUsIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGRlZmF1bHRGaWxsU3R5bGUsIGRlZmF1bHRMaW5lQ2FwLCBkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFN0cm9rZVN0eWxlLCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMsIHJldmVyc2VTdWJBcnJheSB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGluZmxhdGVDb29yZGluYXRlcywgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXksIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L2luZmxhdGUuanMnO1xudmFyIENhbnZhc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0J1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNCdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b2xlcmFuY2UgPSB0b2xlcmFuY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heEV4dGVudCA9IG1heEV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5zdHJ1Y3Rpb25zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBDb29yZGluYXRlXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBkYXNoQXJyYXkgRGFzaCBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBEYXNoIGFycmF5IHdpdGggcGl4ZWwgcmF0aW8gYXBwbGllZFxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGx5UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIChkYXNoQXJyYXkpIHtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHJldHVybiBwaXhlbFJhdGlvID09IDFcbiAgICAgICAgICAgID8gZGFzaEFycmF5XG4gICAgICAgICAgICA6IGRhc2hBcnJheS5tYXAoZnVuY3Rpb24gKGRhc2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGFzaCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICAgICAgdmFyIHRtcENvb3JkID0gdGhpcy50bXBDb29yZGluYXRlXztcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICAgICAgdmFyIG15RW5kID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB0bXBDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIHRtcENvb3JkWzFdID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCB0bXBDb29yZCkpIHtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IHRtcENvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gdG1wQ29vcmRbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG15RW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlZCBMYXN0IGlucHV0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcEZpcnN0IFNraXAgZmlyc3QgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBNeSBlbmQuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNsb3NlZCwgc2tpcEZpcnN0KSB7XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICAgICAgaWYgKHNraXBGaXJzdCkge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFhDb29yZCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB2YXIgbGFzdFlDb29yZCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgdmFyIG5leHRDb29yZCA9IHRoaXMudG1wQ29vcmRpbmF0ZV87XG4gICAgICAgIHZhciBza2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGksIGxhc3RSZWwsIG5leHRSZWw7XG4gICAgICAgIGZvciAoaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIG5leHRDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIG5leHRDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICBuZXh0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIG5leHRDb29yZCk7XG4gICAgICAgICAgICBpZiAobmV4dFJlbCAhPT0gbGFzdFJlbCkge1xuICAgICAgICAgICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFhDb29yZDtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WUNvb3JkO1xuICAgICAgICAgICAgICAgICAgICBza2lwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmV4dFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORykge1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzFdO1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFhDb29yZCA9IG5leHRDb29yZFswXTtcbiAgICAgICAgICAgIGxhc3RZQ29vcmQgPSBuZXh0Q29vcmRbMV07XG4gICAgICAgICAgICBsYXN0UmVsID0gbmV4dFJlbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBMYXN0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0IG9yIG9ubHkgb25lIHBvaW50IHRvIGFwcGVuZDpcbiAgICAgICAgaWYgKChjbG9zZWQgJiYgc2tpcHBlZCkgfHwgaSA9PT0gb2Zmc2V0ICsgc3RyaWRlKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RYQ29vcmQ7XG4gICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RZQ29vcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG15RW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGJ1aWxkZXJFbmRzIEJ1aWxkZXIgZW5kcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9mZnNldC5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGJ1aWxkZXJFbmRzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBidWlsZGVyRW5kcy5wdXNoKGJ1aWxkZXJFbmQpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGl0RGV0ZWN0aW9uUmVuZGVyZXIgUmVuZGVyZXIuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZHJhd0N1c3RvbSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIsIGhpdERldGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBidWlsZGVyQmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcywgYnVpbGRlckVuZCwgYnVpbGRlckVuZHMsIGJ1aWxkZXJFbmRzcztcbiAgICAgICAgdmFyIG9mZnNldDtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OOlxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBlbmRzcyA9IFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRFbmRzcygpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbXlFbmRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgbXlFbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZHNzLnB1c2gobXlFbmRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kc3MsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzcyxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzID0gW107XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSBHZW9tZXRyeVR5cGUuUE9MWUdPTlxuICAgICAgICAgICAgICAgICAgICAgICAgPyAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgMCwgXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHMoKSwgc3RyaWRlLCBidWlsZGVyRW5kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kcyxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgaGl0RGV0ZWN0aW9uUmVuZGVyZXIgfHwgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlc0FycmF5LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5DSVJDTEU6XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVDpcbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJ1aWxkZXJFbmQgPiBidWlsZGVyQmVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0RGV0ZWN0aW9uUmVuZGVyZXIgfHwgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gICAgICAgICAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeVwiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmJlZ2luR2VvbWV0cnkgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZLFxuICAgICAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaCh0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZLFxuICAgICAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaCh0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogdGhpcy5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnM6IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXMsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIHRoZSBoaXQgZGV0ZWN0aW9uIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnM7XG4gICAgICAgIC8vIHN0ZXAgMSAtIHJldmVyc2UgYXJyYXlcbiAgICAgICAgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnJldmVyc2UoKTtcbiAgICAgICAgLy8gc3RlcCAyIC0gcmV2ZXJzZSBpbnN0cnVjdGlvbnMgd2l0aGluIGdlb21ldHJ5IGJsb2Nrc1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIG4gPSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMubGVuZ3RoO1xuICAgICAgICB2YXIgaW5zdHJ1Y3Rpb247XG4gICAgICAgIHZhciB0eXBlO1xuICAgICAgICB2YXIgYmVnaW4gPSAtMTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnNbaV07XG4gICAgICAgICAgICB0eXBlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0luc3RydWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChpbnN0cnVjdGlvblswXSk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlkpIHtcbiAgICAgICAgICAgICAgICBiZWdpbiA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZKSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMl0gPSBpO1xuICAgICAgICAgICAgICAgIHJldmVyc2VTdWJBcnJheSh0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucywgYmVnaW4sIGkpO1xuICAgICAgICAgICAgICAgIGJlZ2luID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2VTdHlsZSBTdHJva2Ugc3R5bGUuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSkge1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZUNvbG9yID0gZmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgICAgICBzdGF0ZS5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShmaWxsU3R5bGVDb2xvciA/IGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5maWxsU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVDb2xvciA9IHN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSA9IGFzQ29sb3JMaWtlKHN0cm9rZVN0eWxlQ29sb3IgPyBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVDYXAgPSBzdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICBzdGF0ZS5saW5lQ2FwID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZCA/IHN0cm9rZVN0eWxlTGluZUNhcCA6IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgc3RhdGUubGluZURhc2ggPSBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVEYXNoLnNsaWNlKClcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUpvaW4gPSBzdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4gPVxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUpvaW5cbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZUpvaW47XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVXaWR0aCA9IHN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGggPVxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZCA/IHN0cm9rZVN0eWxlV2lkdGggOiBkZWZhdWx0TGluZVdpZHRoO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQgPVxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQ7XG4gICAgICAgICAgICBpZiAoc3RhdGUubGluZVdpZHRoID4gdGhpcy5tYXhMaW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAvLyBpbnZhbGlkYXRlIHRoZSBidWZmZXJlZCBtYXggZXh0ZW50IGNhY2hlXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJlZE1heEV4dGVudF8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5saW5lQ2FwID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubGluZURhc2ggPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5saW5lSm9pbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICogQHJldHVybiB7QXJyYXk8Kj59IEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlRmlsbCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqL1xuICAgICAgICB2YXIgZmlsbEluc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLCBmaWxsU3R5bGVdO1xuICAgICAgICBpZiAodHlwZW9mIGZpbGxTdHlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIEZpbGwgaXMgYSBwYXR0ZXJuIG9yIGdyYWRpZW50IC0gYWxpZ24gaXQhXG4gICAgICAgICAgICBmaWxsSW5zdHJ1Y3Rpb24ucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsbEluc3RydWN0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5hcHBseVN0cm9rZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlU3Ryb2tlKHN0YXRlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PCo+fSBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlU3Ryb2tlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGggKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgdGhpcy5hcHBseVBpeGVsUmF0aW8oc3RhdGUubGluZURhc2gpLFxuICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpDYW52YXNCdWlsZGVyLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlKTpBcnJheTwqPn0gY3JlYXRlRmlsbCBDcmVhdGUgZmlsbC5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS51cGRhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGNyZWF0ZUZpbGwpIHtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxsU3R5bGUgIT09ICdzdHJpbmcnIHx8IHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgIT0gZmlsbFN0eWxlKSB7XG4gICAgICAgICAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGNyZWF0ZUZpbGwuY2FsbCh0aGlzLCBzdGF0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY3VycmVudEZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzQnVpbGRlciwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZSk6IHZvaWR9IGFwcGx5U3Ryb2tlIEFwcGx5IHN0cm9rZS5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS51cGRhdGVTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgYXBwbHlTdHJva2UpIHtcbiAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIHZhciBsaW5lQ2FwID0gc3RhdGUubGluZUNhcDtcbiAgICAgICAgdmFyIGxpbmVEYXNoID0gc3RhdGUubGluZURhc2g7XG4gICAgICAgIHZhciBsaW5lRGFzaE9mZnNldCA9IHN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICB2YXIgbGluZUpvaW4gPSBzdGF0ZS5saW5lSm9pbjtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgdmFyIG1pdGVyTGltaXQgPSBzdGF0ZS5taXRlckxpbWl0O1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudFN0cm9rZVN0eWxlICE9IHN0cm9rZVN0eWxlIHx8XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCAhPSBsaW5lQ2FwIHx8XG4gICAgICAgICAgICAobGluZURhc2ggIT0gc3RhdGUuY3VycmVudExpbmVEYXNoICYmXG4gICAgICAgICAgICAgICAgIWVxdWFscyhzdGF0ZS5jdXJyZW50TGluZURhc2gsIGxpbmVEYXNoKSkgfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lRGFzaE9mZnNldCAhPSBsaW5lRGFzaE9mZnNldCB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVKb2luICE9IGxpbmVKb2luIHx8XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZVdpZHRoICE9IGxpbmVXaWR0aCB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudE1pdGVyTGltaXQgIT0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgaWYgKHN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhcHBseVN0cm9rZS5jYWxsKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVDYXAgPSBsaW5lQ2FwO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoID0gbGluZURhc2g7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgPSBsaW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZW5kR2VvbWV0cnkgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfWzJdID0gdGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gbnVsbDtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yX1syXSA9IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IG51bGw7XG4gICAgICAgIHZhciBlbmRHZW9tZXRyeUluc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLkVORF9HRU9NRVRSWSwgZmVhdHVyZV07XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZW5kR2VvbWV0cnlJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZW5kR2VvbWV0cnlJbnN0cnVjdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJ1ZmZlcmVkIHJlbmRlcmluZyBleHRlbnQuICBSZW5kZXJpbmcgd2lsbCBiZSBjbGlwcGVkIHRvIHRoZSBleHRlbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IuICBUbyBhY2NvdW50IGZvciBzeW1ib2xpemVycyB0aGF0IG1heSBpbnRlcnNlY3RcbiAgICAgKiB0aGlzIGV4dGVudCwgd2UgY2FsY3VsYXRlIGEgYnVmZmVyZWQgZXh0ZW50IChlLmcuIGJhc2VkIG9uIHN0cm9rZSB3aWR0aCkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGJ1ZmZlcmVkIHJlbmRlcmluZyBleHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmdldEJ1ZmZlcmVkTWF4RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IGNsb25lKHRoaXMubWF4RXh0ZW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heExpbmVXaWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSAodGhpcy5yZXNvbHV0aW9uICogKHRoaXMubWF4TGluZVdpZHRoICsgMSkpIC8gMjtcbiAgICAgICAgICAgICAgICBidWZmZXIodGhpcy5idWZmZXJlZE1heEV4dGVudF8sIHdpZHRoLCB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0J1aWxkZXI7XG59KFZlY3RvckNvbnRleHQpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc0J1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWlsZGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbWFnZUJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbnZhciBDYW52YXNJbWFnZUJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0ltYWdlQnVpbGRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0ltYWdlQnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlUGl4ZWxSYXRpb18gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvclhfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JZXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGVpZ2h0XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3BhY2l0eV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnaW5ZXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgc2hhcmVkIHdpdGggYSB0ZXh0IGJ1aWxkZXIgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2ludEdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc0ltYWdlQnVpbGRlci5wcm90b3R5cGUuZHJhd1BvaW50ID0gZnVuY3Rpb24gKHBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShwb2ludEdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHBvaW50R2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBwb2ludEdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICAgICAgbXlCZWdpbixcbiAgICAgICAgICAgIG15RW5kLFxuICAgICAgICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAgICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgICAgICAgdGhpcy5hbmNob3JYXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWV8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICBNYXRoLmNlaWwodGhpcy5oZWlnaHRfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpblhfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5ZXyxcbiAgICAgICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NhbGVfWzBdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgICAgICAodGhpcy5zY2FsZV9bMV0gKiB0aGlzLnBpeGVsUmF0aW8pIC8gdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzLndpZHRoXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyksXG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICAgICAgbXlCZWdpbixcbiAgICAgICAgICAgIG15RW5kLFxuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAgICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgICAgICAgdGhpcy5hbmNob3JYXyxcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWV8sXG4gICAgICAgICAgICB0aGlzLmhlaWdodF8sXG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgICAgICAgdGhpcy5zY2FsZV8sXG4gICAgICAgICAgICB0aGlzLndpZHRoXyxcbiAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc0ltYWdlQnVpbGRlci5wcm90b3R5cGUuZHJhd011bHRpUG9pbnQgPSBmdW5jdGlvbiAobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG11bHRpUG9pbnRHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IG11bHRpUG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIG15RW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLFxuICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICB0aGlzLmFuY2hvcllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXMuaGVpZ2h0XyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyksXG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICh0aGlzLnNjYWxlX1swXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfLFxuICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWF8sXG4gICAgICAgICAgICB0aGlzLmFuY2hvcllfLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHRfLFxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgICAgICAgIHRoaXMuc2NhbGVfLFxuICAgICAgICAgICAgdGhpcy53aWR0aF8sXG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIENhbnZhc0ltYWdlQnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgLy8gRklYTUUgdGhpcyBkb2Vzbid0IHJlYWxseSBwcm90ZWN0IHVzIGFnYWluc3QgZnVydGhlciBjYWxscyB0byBkcmF3Kkdlb21ldHJ5XG4gICAgICAgIHRoaXMuYW5jaG9yWF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYW5jaG9yWV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICB0aGlzLmltYWdlUGl4ZWxSYXRpb18gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGVpZ2h0XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zY2FsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3BhY2l0eV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3JpZ2luWF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3JpZ2luWV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0X3NoYXJlZERhdGFdIFNoYXJlZCBkYXRhLlxuICAgICAqL1xuICAgIENhbnZhc0ltYWdlQnVpbGRlci5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIChpbWFnZVN0eWxlLCBvcHRfc2hhcmVkRGF0YSkge1xuICAgICAgICB2YXIgYW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICAgICAgdmFyIHNpemUgPSBpbWFnZVN0eWxlLmdldFNpemUoKTtcbiAgICAgICAgdmFyIGhpdERldGVjdGlvbkltYWdlID0gaW1hZ2VTdHlsZS5nZXRIaXREZXRlY3Rpb25JbWFnZSgpO1xuICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBvcmlnaW4gPSBpbWFnZVN0eWxlLmdldE9yaWdpbigpO1xuICAgICAgICB0aGlzLmltYWdlUGl4ZWxSYXRpb18gPSBpbWFnZVN0eWxlLmdldFBpeGVsUmF0aW8odGhpcy5waXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5hbmNob3JYXyA9IGFuY2hvclswXTtcbiAgICAgICAgdGhpcy5hbmNob3JZXyA9IGFuY2hvclsxXTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBoaXREZXRlY3Rpb25JbWFnZTtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICAgICAgdGhpcy5oZWlnaHRfID0gc2l6ZVsxXTtcbiAgICAgICAgdGhpcy5vcGFjaXR5XyA9IGltYWdlU3R5bGUuZ2V0T3BhY2l0eSgpO1xuICAgICAgICB0aGlzLm9yaWdpblhfID0gb3JpZ2luWzBdICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fO1xuICAgICAgICB0aGlzLm9yaWdpbllfID0gb3JpZ2luWzFdICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fO1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSBpbWFnZVN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHRoaXMuc2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgICAgIHRoaXMud2lkdGhfID0gc2l6ZVswXTtcbiAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IG9wdF9zaGFyZWREYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0ltYWdlQnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1hZ2VCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VCdWlsZGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9MaW5lU3RyaW5nQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uLCB7IGJlZ2luUGF0aEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbiwgfSBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7IGRlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0IH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbnZhciBDYW52YXNMaW5lU3RyaW5nQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNMaW5lU3RyaW5nQnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZHJhd0ZsYXRDb29yZGluYXRlc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHZhciBtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbiA9IFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLk1PVkVfVE9fTElORV9UTyxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZHJhd0xpbmVTdHJpbmcgPSBmdW5jdGlvbiAobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCB8fCBsaW5lV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICAgICAgZGVmYXVsdExpbmVEYXNoT2Zmc2V0LFxuICAgICAgICBdLCBiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBsaW5lU3RyaW5nR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBsaW5lU3RyaW5nR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHRoaXMuZHJhd0ZsYXRDb29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5IE11bHRpTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZHJhd011bHRpTGluZVN0cmluZyA9IGZ1bmN0aW9uIChtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgaWYgKHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQgfHwgbGluZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgXSwgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB2YXIgZW5kcyA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldEVuZHMoKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0ZsYXRDb29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChlbmRzW2ldKSwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChzdGF0ZS5sYXN0U3Ryb2tlICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgc3RhdGUubGFzdFN0cm9rZSAhPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGx5U3Ryb2tlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZS5sYXN0U3Ryb2tlICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgc3RhdGUubGFzdFN0cm9rZSAhPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0U3Ryb2tlID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubGFzdFN0cm9rZSA9IDA7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYXBwbHlTdHJva2UuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyO1xufShDYW52YXNCdWlsZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNMaW5lU3RyaW5nQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmVTdHJpbmdCdWlsZGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9Qb2x5Z29uQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uLCB7IGJlZ2luUGF0aEluc3RydWN0aW9uLCBjbG9zZVBhdGhJbnN0cnVjdGlvbiwgZmlsbEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbiwgfSBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7IGRlZmF1bHRGaWxsU3R5bGUgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgc25hcCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9zaW1wbGlmeS5qcyc7XG52YXIgQ2FudmFzUG9seWdvbkJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc1BvbHlnb25CdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUG9seWdvbkJ1aWxkZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gICAgICovXG4gICAgQ2FudmFzUG9seWdvbkJ1aWxkZXIucHJvdG90eXBlLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsID0gc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBzdHJva2UgPSBzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbnVtRW5kcyA9IGVuZHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRW5kczsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0cnVlLCAhc3Ryb2tlKTtcbiAgICAgICAgICAgIHZhciBtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbiA9IFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICAgICAgICAgICAgbXlCZWdpbixcbiAgICAgICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogb25seSBjYWxsIGNsb3NlUGF0aCgpIHdoZW4gd2UgaGF2ZSBhIHN0cm9rZS5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgdGhlIHJpbmcgaXMgY2xvc2VkIGFscmVhZHkgKHNlZSBhcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzIGFib3ZlKS5cbiAgICAgICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGNsb3NlUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGNsb3NlUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsbCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChmaWxsSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChmaWxsSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlR2VvbWV0cnkgQ2lyY2xlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzUG9seWdvbkJ1aWxkZXIucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXygpO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGNpcmNsZUdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gY2lyY2xlR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgdmFyIGNpcmNsZUluc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLkNJUkNMRSwgbXlCZWdpbl07XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbiwgY2lyY2xlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIChwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXygpO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkocG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmRzID0gcG9seWdvbkdlb21ldHJ5LmdldEVuZHMoKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHBvbHlnb25HZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gcG9seWdvbkdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChlbmRzKSwgc3RyaWRlKTtcbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gbXVsdGlQb2x5Z29uR2VvbWV0cnkgTXVsdGlQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2x5Z29uID0gZnVuY3Rpb24gKG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmRzcyA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgLy8gV2Ugd2FudCB0byBwcmVzZXJ2ZSB0b3BvbG9neSB3aGVuIGRyYXdpbmcgcG9seWdvbnMuICBQb2x5Z29ucyBhcmVcbiAgICAgICAgLy8gc2ltcGxpZmllZCB1c2luZyBxdWFudGl6YXRpb24gYW5kIHBvaW50IGVsaW1pbmF0aW9uLiBIb3dldmVyLCB3ZSBtaWdodFxuICAgICAgICAvLyBoYXZlIHJlY2VpdmVkIGEgbWl4IG9mIHF1YW50aXplZCBhbmQgbm9uLXF1YW50aXplZCBnZW9tZXRyaWVzLCBzbyBlbnN1cmVcbiAgICAgICAgLy8gdGhhdCBhbGwgYXJlIHF1YW50aXplZCBieSBxdWFudGl6aW5nIGFsbCBjb29yZGluYXRlcyBpbiB0aGUgYmF0Y2guXG4gICAgICAgIHZhciB0b2xlcmFuY2UgPSB0aGlzLnRvbGVyYW5jZTtcbiAgICAgICAgaWYgKHRvbGVyYW5jZSAhPT0gMCkge1xuICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tpXSA9IHNuYXAoY29vcmRpbmF0ZXNbaV0sIHRvbGVyYW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGVzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbGxTdHlsZShzdGF0ZSwgdGhpcy5jcmVhdGVGaWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNQb2x5Z29uQnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzUG9seWdvbkJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2x5Z29uQnVpbGRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3N0cmFpZ2h0Y2h1bmtcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgTWF4aW11bSBhY2NlcHRhYmxlIGFuZ2xlIGRlbHRhIGJldHdlZW4gc2VnbWVudHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gU3RhcnQgYW5kIGVuZCBvZiB0aGUgZmlyc3Qgc3VpdGFibGUgY2h1bmsgb2YgdGhlXG4gKiBnaXZlbiBgZmxhdENvb3JkaW5hdGVzYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoaW5nQ2h1bmsobWF4QW5nbGUsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIHZhciBjaHVua1N0YXJ0ID0gb2Zmc2V0O1xuICAgIHZhciBjaHVua0VuZCA9IG9mZnNldDtcbiAgICB2YXIgY2h1bmtNID0gMDtcbiAgICB2YXIgbSA9IDA7XG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0O1xuICAgIHZhciBhY29zLCBpLCBtMTIsIG0yMywgeDEsIHkxLCB4MTIsIHkxMiwgeDIzLCB5MjM7XG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgIGlmICh4MSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB4MjMgPSB4MiAtIHgxO1xuICAgICAgICAgICAgeTIzID0geTIgLSB5MTtcbiAgICAgICAgICAgIG0yMyA9IE1hdGguc3FydCh4MjMgKiB4MjMgKyB5MjMgKiB5MjMpO1xuICAgICAgICAgICAgaWYgKHgxMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbSArPSBtMTI7XG4gICAgICAgICAgICAgICAgYWNvcyA9IE1hdGguYWNvcygoeDEyICogeDIzICsgeTEyICogeTIzKSAvIChtMTIgKiBtMjMpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNvcyA+IG1heEFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtID4gY2h1bmtNKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua00gPSBtO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtFbmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGkgLSBzdHJpZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbTEyID0gbTIzO1xuICAgICAgICAgICAgeDEyID0geDIzO1xuICAgICAgICAgICAgeTEyID0geTIzO1xuICAgICAgICB9XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIG0gKz0gbTIzO1xuICAgIHJldHVybiBtID4gY2h1bmtNID8gW3N0YXJ0LCBpXSA6IFtjaHVua1N0YXJ0LCBjaHVua0VuZF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJhaWdodGNodW5rLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9UZXh0QnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgVGV4dFBsYWNlbWVudCBmcm9tICcuLi8uLi9zdHlsZS9UZXh0UGxhY2VtZW50LmpzJztcbmltcG9ydCB7IGFzQ29sb3JMaWtlIH0gZnJvbSAnLi4vLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7IGRlZmF1bHRGaWxsU3R5bGUsIGRlZmF1bHRGb250LCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZURhc2hPZmZzZXQsIGRlZmF1bHRMaW5lSm9pbiwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdE1pdGVyTGltaXQsIGRlZmF1bHRQYWRkaW5nLCBkZWZhdWx0U3Ryb2tlU3R5bGUsIGRlZmF1bHRUZXh0QWxpZ24sIGRlZmF1bHRUZXh0QmFzZWxpbmUsIHJlZ2lzdGVyRm9udCwgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IG1hdGNoaW5nQ2h1bmsgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVuay5qcyc7XG4vKipcbiAqIEBjb25zdFxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBURVhUX0FMSUdOID0ge1xuICAgICdsZWZ0JzogMCxcbiAgICAnZW5kJzogMCxcbiAgICAnY2VudGVyJzogMC41LFxuICAgICdyaWdodCc6IDEsXG4gICAgJ3N0YXJ0JzogMSxcbiAgICAndG9wJzogMCxcbiAgICAnbWlkZGxlJzogMC41LFxuICAgICdoYW5naW5nJzogMC4yLFxuICAgICdhbHBoYWJldGljJzogMC44LFxuICAgICdpZGVvZ3JhcGhpYyc6IDAuOCxcbiAgICAnYm90dG9tJzogMSxcbn07XG52YXIgQ2FudmFzVGV4dEJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc1RleHRCdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzVGV4dEJ1aWxkZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8SFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFiZWxzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dF8gPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRPZmZzZXRZXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRSb3RhdGlvbl8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbGxTdGF0ZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJva2VTdGF0ZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0YXRlXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U3RhdGVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dEtleV8gPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsS2V5XyA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cm9rZUtleV8gPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgc2hhcmVkIHdpdGggYW4gaW1hZ2UgYnVpbGRlciBmb3IgY29tYmluZWQgZGVjbHV0dGVyaW5nLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5zdHJ1Y3Rpb25zID0gX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzKTtcbiAgICAgICAgaW5zdHJ1Y3Rpb25zLnRleHRTdGF0ZXMgPSB0aGlzLnRleHRTdGF0ZXM7XG4gICAgICAgIGluc3RydWN0aW9ucy5maWxsU3RhdGVzID0gdGhpcy5maWxsU3RhdGVzO1xuICAgICAgICBpbnN0cnVjdGlvbnMuc3Ryb2tlU3RhdGVzID0gdGhpcy5zdHJva2VTdGF0ZXM7XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc1RleHRCdWlsZGVyLnByb3RvdHlwZS5kcmF3VGV4dCA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgICBpZiAodGhpcy50ZXh0XyA9PT0gJycgfHwgIXRleHRTdGF0ZSB8fCAoIWZpbGxTdGF0ZSAmJiAhc3Ryb2tlU3RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICAgICAgdmFyIGJlZ2luID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgZ2VvbWV0cnlUeXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbnVsbDtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICBpZiAodGV4dFN0YXRlLnBsYWNlbWVudCA9PT0gVGV4dFBsYWNlbWVudC5MSU5FICYmXG4gICAgICAgICAgICAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORyB8fFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkcgfHxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT04gfHxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT04pKSB7XG4gICAgICAgICAgICBpZiAoIWludGVyc2VjdHModGhpcy5nZXRCdWZmZXJlZE1heEV4dGVudCgpLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZW5kcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkcpIHtcbiAgICAgICAgICAgICAgICBlbmRzID0gW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORykge1xuICAgICAgICAgICAgICAgIGVuZHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5QT0xZR09OKSB7XG4gICAgICAgICAgICAgICAgZW5kcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgICAgICAgICAgICAgLmdldEVuZHMoKVxuICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT04pIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5kc3MgPSBcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RW5kc3MoKTtcbiAgICAgICAgICAgICAgICBlbmRzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kc3NbaV1bMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgICAgICB2YXIgdGV4dEFsaWduID0gdGV4dFN0YXRlLnRleHRBbGlnbjtcbiAgICAgICAgICAgIHZhciBmbGF0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBmbGF0RW5kID0gdm9pZCAwO1xuICAgICAgICAgICAgZm9yICh2YXIgbyA9IDAsIG9vID0gZW5kcy5sZW5ndGg7IG8gPCBvbzsgKytvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRBbGlnbiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gbWF0Y2hpbmdDaHVuayh0ZXh0U3RhdGUubWF4QW5nbGUsIGZsYXRDb29yZGluYXRlcywgZmxhdE9mZnNldCwgZW5kc1tvXSwgc3RyaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgZmxhdE9mZnNldCA9IHJhbmdlWzBdO1xuICAgICAgICAgICAgICAgICAgICBmbGF0RW5kID0gcmFuZ2VbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmbGF0RW5kID0gZW5kc1tvXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGZsYXRPZmZzZXQ7IGkgPCBmbGF0RW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1tpXSwgZmxhdENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZmxhdE9mZnNldCA9IGVuZHNbb107XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2hhcnNfKGJlZ2luLCBlbmQpO1xuICAgICAgICAgICAgICAgIGJlZ2luID0gZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeVdpZHRocyA9IHRleHRTdGF0ZS5vdmVyZmxvdyA/IG51bGwgOiBbXTtcbiAgICAgICAgICAgIHN3aXRjaCAoZ2VvbWV0cnlUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkNJUkNMRTpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDZW50ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdE1pZHBvaW50cygpO1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0SW50ZXJpb3JQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHRTdGF0ZS5vdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMl0gLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0cmlkZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmlvclBvaW50cyA9IFxuICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdEludGVyaW9yUG9pbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnRlcmlvclBvaW50cy5sZW5ndGg7IGkgPCBpaTsgaSArPSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHRTdGF0ZS5vdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLnB1c2goaW50ZXJpb3JQb2ludHNbaSArIDJdIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcy5wdXNoKGludGVyaW9yUG9pbnRzW2ldLCBpbnRlcmlvclBvaW50c1tpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlID0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICAgICAgICAgIGlmIChlbmQgPT09IGJlZ2luKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5V2lkdGhzICYmXG4gICAgICAgICAgICAgICAgKGVuZCAtIGJlZ2luKSAvIDIgIT09IGZsYXRDb29yZGluYXRlcy5sZW5ndGggLyBzdHJpZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmVnXzEgPSBiZWdpbiAvIDI7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMgPSBnZW9tZXRyeVdpZHRocy5maWx0ZXIoZnVuY3Rpb24gKHcsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtlZXAgPSBjb29yZGluYXRlc1soYmVnXzEgKyBpKSAqIDJdID09PSBmbGF0Q29vcmRpbmF0ZXNbaSAqIHN0cmlkZV0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzWyhiZWdfMSArIGkpICogMiArIDFdID09PSBmbGF0Q29vcmRpbmF0ZXNbaSAqIHN0cmlkZSArIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWtlZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC0tYmVnXzE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtlZXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNhdmVUZXh0U3RhdGVzXygpO1xuICAgICAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCB8fCB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCwgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGaWxsU3R5bGUodGhpcy5zdGF0ZSwgdGhpcy5jcmVhdGVGaWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZpbGwodGhpcy5zdGF0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVN0cm9rZSh0aGlzLnN0YXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgICAgIC8vIGFkanVzdCBwYWRkaW5nIGZvciBuZWdhdGl2ZSBzY2FsZVxuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0ZXh0U3RhdGUucGFkZGluZztcbiAgICAgICAgICAgIGlmIChwYWRkaW5nICE9IGRlZmF1bHRQYWRkaW5nICYmXG4gICAgICAgICAgICAgICAgKHRleHRTdGF0ZS5zY2FsZVswXSA8IDAgfHwgdGV4dFN0YXRlLnNjYWxlWzFdIDwgMCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcDAgPSB0ZXh0U3RhdGUucGFkZGluZ1swXTtcbiAgICAgICAgICAgICAgICB2YXIgcDEgPSB0ZXh0U3RhdGUucGFkZGluZ1sxXTtcbiAgICAgICAgICAgICAgICB2YXIgcDIgPSB0ZXh0U3RhdGUucGFkZGluZ1syXTtcbiAgICAgICAgICAgICAgICB2YXIgcDMgPSB0ZXh0U3RhdGUucGFkZGluZ1szXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICAgICAgICAgICAgcDMgPSAtcDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHAwID0gLXAwO1xuICAgICAgICAgICAgICAgICAgICBwMiA9IC1wMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IFtwMCwgcDEsIHAyLCBwM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgaW1hZ2UgaXMgdW5rbm93biBhdCB0aGlzIHN0YWdlIHNvIHdlIHBhc3MgbnVsbDsgaXQgd2lsbCBiZSBjb21wdXRlZCBhdCByZW5kZXIgdGltZS5cbiAgICAgICAgICAgIC8vIEZvciBjbGFyaXR5LCB3ZSBwYXNzIE5hTiBmb3Igb2Zmc2V0WCwgb2Zmc2V0WSwgd2lkdGggYW5kIGhlaWdodCwgd2hpY2ggd2lsbCBiZSBjb21wdXRlZCBhdFxuICAgICAgICAgICAgLy8gcmVuZGVyIHRpbWUuXG4gICAgICAgICAgICB2YXIgcGl4ZWxSYXRpb18xID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nID09IGRlZmF1bHRQYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgID8gZGVmYXVsdFBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgOiBwYWRkaW5nLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAgKiBwaXhlbFJhdGlvXzE7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLFxuICAgICAgICAgICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UsXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlS2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFhfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFlfLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSAxIC8gcGl4ZWxSYXRpb18xO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fLFxuICAgICAgICAgICAgICAgIFtzY2FsZSwgc2NhbGVdLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsXG4gICAgICAgICAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8sXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLnNhdmVUZXh0U3RhdGVzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgICB2YXIgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgdmFyIHN0cm9rZUtleSA9IHRoaXMuc3Ryb2tlS2V5XztcbiAgICAgICAgaWYgKHN0cm9rZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoIShzdHJva2VLZXkgaW4gdGhpcy5zdHJva2VTdGF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0S2V5ID0gdGhpcy50ZXh0S2V5XztcbiAgICAgICAgaWYgKCEodGV4dEtleSBpbiB0aGlzLnRleHRTdGF0ZXMpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV0gPSB7XG4gICAgICAgICAgICAgICAgZm9udDogdGV4dFN0YXRlLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8IGRlZmF1bHRUZXh0QmFzZWxpbmUsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHRleHRTdGF0ZS5zY2FsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpbGxLZXkgPSB0aGlzLmZpbGxLZXlfO1xuICAgICAgICBpZiAoZmlsbFN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoIShmaWxsS2V5IGluIHRoaXMuZmlsbFN0YXRlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuZHJhd0NoYXJzXyA9IGZ1bmN0aW9uIChiZWdpbiwgZW5kKSB7XG4gICAgICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgICAgdmFyIHN0cm9rZUtleSA9IHRoaXMuc3Ryb2tlS2V5XztcbiAgICAgICAgdmFyIHRleHRLZXkgPSB0aGlzLnRleHRLZXlfO1xuICAgICAgICB2YXIgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgICAgIHRoaXMuc2F2ZVRleHRTdGF0ZXNfKCk7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmVdO1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IHRoaXMudGV4dE9mZnNldFlfICogcGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLnRleHRfO1xuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHJva2VTdGF0ZVxuICAgICAgICAgICAgPyAoc3Ryb2tlU3RhdGUubGluZVdpZHRoICogTWF0aC5hYnModGV4dFN0YXRlLnNjYWxlWzBdKSkgLyAyXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgICAgICAgIGJlZ2luLFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgYmFzZWxpbmUsXG4gICAgICAgICAgICB0ZXh0U3RhdGUub3ZlcmZsb3csXG4gICAgICAgICAgICBmaWxsS2V5LFxuICAgICAgICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgICBzdHJva2VLZXksXG4gICAgICAgICAgICBzdHJva2VXaWR0aCAqIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgdGV4dEtleSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlMsXG4gICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIGJhc2VsaW5lLFxuICAgICAgICAgICAgdGV4dFN0YXRlLm92ZXJmbG93LFxuICAgICAgICAgICAgZmlsbEtleSxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgICAgc3Ryb2tlS2V5LFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgdGV4dEtleSxcbiAgICAgICAgICAgIDEgLyBwaXhlbFJhdGlvLFxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdF9zaGFyZWREYXRhXSBTaGFyZWQgZGF0YS5cbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuc2V0VGV4dFN0eWxlID0gZnVuY3Rpb24gKHRleHRTdHlsZSwgb3B0X3NoYXJlZERhdGEpIHtcbiAgICAgICAgdmFyIHRleHRTdGF0ZSwgZmlsbFN0YXRlLCBzdHJva2VTdGF0ZTtcbiAgICAgICAgaWYgKCF0ZXh0U3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgICAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICAgICAgICAgIGZpbGxTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IGZpbGxTdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxsU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbFN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfSAqLyAoe30pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gZmlsbFN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWxsU3RhdGUuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UodGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpIHx8IGRlZmF1bHRGaWxsU3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZSA9IHRleHRTdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgICAgICAgIGlmICghdGV4dFN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IHN0cm9rZVN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgICAgICAgICAgICAgaWYgKCFzdHJva2VTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfSAqLyAoe30pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVEYXNoID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVEYXNoT2Zmc2V0ID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHRTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBtaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lQ2FwID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVDYXAoKSB8fCBkZWZhdWx0TGluZUNhcDtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaCA9IGxpbmVEYXNoID8gbGluZURhc2guc2xpY2UoKSA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZURhc2hPZmZzZXQgOiBsaW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lSm9pbiA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpIHx8IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lV2lkdGggPVxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRMaW5lV2lkdGggOiBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9XG4gICAgICAgICAgICAgICAgICAgIG1pdGVyTGltaXQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNaXRlckxpbWl0IDogbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9IGFzQ29sb3JMaWtlKHRleHRTdHJva2VTdHlsZS5nZXRDb2xvcigpIHx8IGRlZmF1bHRTdHJva2VTdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG4gICAgICAgICAgICB2YXIgZm9udCA9IHRleHRTdHlsZS5nZXRGb250KCkgfHwgZGVmYXVsdEZvbnQ7XG4gICAgICAgICAgICByZWdpc3RlckZvbnQoZm9udCk7XG4gICAgICAgICAgICB2YXIgdGV4dFNjYWxlID0gdGV4dFN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyA9IHRleHRTdHlsZS5nZXRPdmVyZmxvdygpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLmZvbnQgPSBmb250O1xuICAgICAgICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlID0gdGV4dFN0eWxlLmdldE1heEFuZ2xlKCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUucGxhY2VtZW50ID0gdGV4dFN0eWxlLmdldFBsYWNlbWVudCgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgPVxuICAgICAgICAgICAgICAgIHRleHRTdHlsZS5nZXRUZXh0QmFzZWxpbmUoKSB8fCBkZWZhdWx0VGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsID0gdGV4dFN0eWxlLmdldEJhY2tncm91bmRGaWxsKCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSA9IHRleHRTdHlsZS5nZXRCYWNrZ3JvdW5kU3Ryb2tlKCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUucGFkZGluZyA9IHRleHRTdHlsZS5nZXRQYWRkaW5nKCkgfHwgZGVmYXVsdFBhZGRpbmc7XG4gICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGUgPSB0ZXh0U2NhbGUgPT09IHVuZGVmaW5lZCA/IFsxLCAxXSA6IHRleHRTY2FsZTtcbiAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WCA9IHRleHRTdHlsZS5nZXRPZmZzZXRYKCk7XG4gICAgICAgICAgICB2YXIgdGV4dE9mZnNldFkgPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WSgpO1xuICAgICAgICAgICAgdmFyIHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgICAgICAgdmFyIHRleHRSb3RhdGlvbiA9IHRleHRTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy50ZXh0XyA9IHRleHRTdHlsZS5nZXRUZXh0KCkgfHwgJyc7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyA9IHRleHRPZmZzZXRYID09PSB1bmRlZmluZWQgPyAwIDogdGV4dE9mZnNldFg7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRZXyA9IHRleHRPZmZzZXRZID09PSB1bmRlZmluZWQgPyAwIDogdGV4dE9mZnNldFk7XG4gICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPVxuICAgICAgICAgICAgICAgIHRleHRSb3RhdGVXaXRoVmlldyA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0ZXh0Um90YXRlV2l0aFZpZXc7XG4gICAgICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0Um90YXRpb247XG4gICAgICAgICAgICB0aGlzLnN0cm9rZUtleV8gPSBzdHJva2VTdGF0ZVxuICAgICAgICAgICAgICAgID8gKHR5cGVvZiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0VWlkKHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKSkgK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lQ2FwICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgK1xuICAgICAgICAgICAgICAgICAgICAnfCcgK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lV2lkdGggK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lSm9pbiArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLm1pdGVyTGltaXQgK1xuICAgICAgICAgICAgICAgICAgICAnWycgK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaC5qb2luKCkgK1xuICAgICAgICAgICAgICAgICAgICAnXSdcbiAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgdGhpcy50ZXh0S2V5XyA9XG4gICAgICAgICAgICAgICAgdGV4dFN0YXRlLmZvbnQgK1xuICAgICAgICAgICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGUgK1xuICAgICAgICAgICAgICAgICAgICAodGV4dFN0YXRlLnRleHRBbGlnbiB8fCAnPycpICtcbiAgICAgICAgICAgICAgICAgICAgKHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgJz8nKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbEtleV8gPSBmaWxsU3RhdGVcbiAgICAgICAgICAgICAgICA/IHR5cGVvZiBmaWxsU3RhdGUuZmlsbFN0eWxlID09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gZmlsbFN0YXRlLmZpbGxTdHlsZVxuICAgICAgICAgICAgICAgICAgICA6ICd8JyArIGdldFVpZChmaWxsU3RhdGUuZmlsbFN0eWxlKVxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IG9wdF9zaGFyZWREYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1RleHRCdWlsZGVyO1xufShDYW52YXNCdWlsZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNUZXh0QnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRCdWlsZGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9UZXh0UGxhY2VtZW50XG4gKi9cbi8qKlxuICogVGV4dCBwbGFjZW1lbnQuIE9uZSBvZiBgJ3BvaW50J2AsIGAnbGluZSdgLiBEZWZhdWx0IGlzIGAncG9pbnQnYC4gTm90ZSB0aGF0XG4gKiBgJ2xpbmUnYCByZXF1aXJlcyB0aGUgdW5kZXJseWluZyBnZW9tZXRyeSB0byBiZSBhIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9MaW5lU3RyaW5nfkxpbmVTdHJpbmd9LFxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL1BvbHlnb25+UG9seWdvbn0sIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9NdWx0aUxpbmVTdHJpbmd+TXVsdGlMaW5lU3RyaW5nfSBvclxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL011bHRpUG9seWdvbn5NdWx0aVBvbHlnb259LlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFBPSU5UOiAncG9pbnQnLFxuICAgIExJTkU6ICdsaW5lJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0UGxhY2VtZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cFxuICovXG5pbXBvcnQgQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IEltYWdlQnVpbGRlciBmcm9tICcuL0ltYWdlQnVpbGRlci5qcyc7XG5pbXBvcnQgTGluZVN0cmluZ0J1aWxkZXIgZnJvbSAnLi9MaW5lU3RyaW5nQnVpbGRlci5qcyc7XG5pbXBvcnQgUG9seWdvbkJ1aWxkZXIgZnJvbSAnLi9Qb2x5Z29uQnVpbGRlci5qcyc7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSAnLi9UZXh0QnVpbGRlci5qcyc7XG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZVwiKS5kZWZhdWx0LCB0eXBlb2YgQnVpbGRlcj59XG4gKi9cbnZhciBCQVRDSF9DT05TVFJVQ1RPUlMgPSB7XG4gICAgJ0NpcmNsZSc6IFBvbHlnb25CdWlsZGVyLFxuICAgICdEZWZhdWx0JzogQnVpbGRlcixcbiAgICAnSW1hZ2UnOiBJbWFnZUJ1aWxkZXIsXG4gICAgJ0xpbmVTdHJpbmcnOiBMaW5lU3RyaW5nQnVpbGRlcixcbiAgICAnUG9seWdvbic6IFBvbHlnb25CdWlsZGVyLFxuICAgICdUZXh0JzogVGV4dEJ1aWxkZXIsXG59O1xudmFyIEJ1aWxkZXJHcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXggZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVpbGRlckdyb3VwKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b2xlcmFuY2VfID0gdG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heEV4dGVudF8gPSBtYXhFeHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZVwiKS5kZWZhdWx0LCBCdWlsZGVyPj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGVcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi9CdWlsZGVyLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgICAqL1xuICAgIEJ1aWxkZXJHcm91cC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVpbGRlckluc3RydWN0aW9ucyA9IHt9O1xuICAgICAgICBmb3IgKHZhciB6S2V5IGluIHRoaXMuYnVpbGRlcnNCeVpJbmRleF8pIHtcbiAgICAgICAgICAgIGJ1aWxkZXJJbnN0cnVjdGlvbnNbektleV0gPSBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldIHx8IHt9O1xuICAgICAgICAgICAgdmFyIGJ1aWxkZXJzID0gdGhpcy5idWlsZGVyc0J5WkluZGV4X1t6S2V5XTtcbiAgICAgICAgICAgIGZvciAodmFyIGJ1aWxkZXJLZXkgaW4gYnVpbGRlcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRlckluc3RydWN0aW9uID0gYnVpbGRlcnNbYnVpbGRlcktleV0uZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgYnVpbGRlckluc3RydWN0aW9uc1t6S2V5XVtidWlsZGVyS2V5XSA9IGJ1aWxkZXJJbnN0cnVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlckluc3RydWN0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gekluZGV4IFogaW5kZXguXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJUeXBlIFJlcGxheSB0eXBlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1ZlY3RvckNvbnRleHQuanNcIikuZGVmYXVsdH0gUmVwbGF5LlxuICAgICAqL1xuICAgIEJ1aWxkZXJHcm91cC5wcm90b3R5cGUuZ2V0QnVpbGRlciA9IGZ1bmN0aW9uICh6SW5kZXgsIGJ1aWxkZXJUeXBlKSB7XG4gICAgICAgIHZhciB6SW5kZXhLZXkgPSB6SW5kZXggIT09IHVuZGVmaW5lZCA/IHpJbmRleC50b1N0cmluZygpIDogJzAnO1xuICAgICAgICB2YXIgcmVwbGF5cyA9IHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICAgICAgaWYgKHJlcGxheXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVwbGF5cyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5idWlsZGVyc0J5WkluZGV4X1t6SW5kZXhLZXldID0gcmVwbGF5cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVwbGF5ID0gcmVwbGF5c1tidWlsZGVyVHlwZV07XG4gICAgICAgIGlmIChyZXBsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gQkFUQ0hfQ09OU1RSVUNUT1JTW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgICAgIHJlcGxheSA9IG5ldyBDb25zdHJ1Y3Rvcih0aGlzLnRvbGVyYW5jZV8sIHRoaXMubWF4RXh0ZW50XywgdGhpcy5yZXNvbHV0aW9uXywgdGhpcy5waXhlbFJhdGlvXyk7XG4gICAgICAgICAgICByZXBsYXlzW2J1aWxkZXJUeXBlXSA9IHJlcGxheTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVwbGF5O1xuICAgIH07XG4gICAgcmV0dXJuIEJ1aWxkZXJHcm91cDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCdWlsZGVyR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWlsZGVyR3JvdXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvQnVpbGRlclR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQ0lSQ0xFOiAnQ2lyY2xlJyxcbiAgICBERUZBVUxUOiAnRGVmYXVsdCcsXG4gICAgSU1BR0U6ICdJbWFnZScsXG4gICAgTElORV9TVFJJTkc6ICdMaW5lU3RyaW5nJyxcbiAgICBQT0xZR09OOiAnUG9seWdvbicsXG4gICAgVEVYVDogJ1RleHQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1aWxkZXJUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdGV4dHBhdGhcbiAqL1xuaW1wb3J0IHsgbGVycCB9IGZyb20gJy4uLy4uL21hdGguanMnO1xuaW1wb3J0IHsgcm90YXRlIH0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBQYXRoIHRvIHB1dCB0ZXh0IG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBTdGFydCBvZmZzZXQgb2YgdGhlIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0IG9mIHRoZSBgZmxhdENvb3JkaW5hdGVzYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dCB0byBwbGFjZSBvbiB0aGUgcGF0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydE0gbSBhbG9uZyB0aGUgcGF0aCB3aGVyZSB0aGUgdGV4dCBzdGFydHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgTWF4IGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcnMgaW4gcmFkaWFucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBUaGUgcHJvZHVjdCBvZiB0aGUgdGV4dCBzY2FsZSBhbmQgdGhlIGRldmljZSBwaXhlbCByYXRpby5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nLCBzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4pOm51bWJlcn0gbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoIE1lYXN1cmUgYW5kIGNhY2hlIHRleHQgd2lkdGguXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBUaGUgZm9udC5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn0gY2FjaGUgQSBjYWNoZSBvZiBtZWFzdXJlZCB3aWR0aHMuXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24gdG8gYXBwbHkgdG8gdGhlIGZsYXRDb29yZGluYXRlcyB0byBkZXRlcm1pbmUgd2hldGhlciB0ZXh0IG5lZWRzIHRvIGJlIHJldmVyc2VkLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8Kj4+fSBUaGUgcmVzdWx0IGFycmF5IChvciBudWxsIGlmIGBtYXhBbmdsZWAgd2FzXG4gKiBleGNlZWRlZCkuIEVudHJpZXMgb2YgdGhlIGFycmF5IGFyZSB4LCB5LCBhbmNob3JYLCBhbmdsZSwgY2h1bmsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3VGV4dE9uUGF0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRleHQsIHN0YXJ0TSwgbWF4QW5nbGUsIHNjYWxlLCBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsIGZvbnQsIGNhY2hlLCByb3RhdGlvbikge1xuICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICB2YXIgeDEgPSAwO1xuICAgIHZhciB5MSA9IDA7XG4gICAgdmFyIHNlZ21lbnRMZW5ndGggPSAwO1xuICAgIHZhciBzZWdtZW50TSA9IDA7XG4gICAgZnVuY3Rpb24gYWR2YW5jZSgpIHtcbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIHNlZ21lbnRNICs9IHNlZ21lbnRMZW5ndGg7XG4gICAgICAgIHNlZ21lbnRMZW5ndGggPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICB9XG4gICAgZG8ge1xuICAgICAgICBhZHZhbmNlKCk7XG4gICAgfSB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlICYmIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IHN0YXJ0TSk7XG4gICAgdmFyIGludGVycG9sYXRlID0gc2VnbWVudExlbmd0aCA9PT0gMCA/IDAgOiAoc3RhcnRNIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgICB2YXIgYmVnaW5YID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgICB2YXIgYmVnaW5ZID0gbGVycCh5MSwgeTIsIGludGVycG9sYXRlKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSBvZmZzZXQgLSBzdHJpZGU7XG4gICAgdmFyIHN0YXJ0TGVuZ3RoID0gc2VnbWVudE07XG4gICAgdmFyIGVuZE0gPSBzdGFydE0gKyBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZSk7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSAmJiBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBlbmRNKSB7XG4gICAgICAgIGFkdmFuY2UoKTtcbiAgICB9XG4gICAgaW50ZXJwb2xhdGUgPSBzZWdtZW50TGVuZ3RoID09PSAwID8gMCA6IChlbmRNIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgICB2YXIgZW5kWCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gICAgdmFyIGVuZFkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgIC8vIEtlZXAgdGV4dCB1cHJpZ2h0XG4gICAgdmFyIHJldmVyc2U7XG4gICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgIHZhciBmbGF0ID0gW2JlZ2luWCwgYmVnaW5ZLCBlbmRYLCBlbmRZXTtcbiAgICAgICAgcm90YXRlKGZsYXQsIDAsIDQsIDIsIHJvdGF0aW9uLCBmbGF0LCBmbGF0KTtcbiAgICAgICAgcmV2ZXJzZSA9IGZsYXRbMF0gPiBmbGF0WzJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV2ZXJzZSA9IGJlZ2luWCA+IGVuZFg7XG4gICAgfVxuICAgIHZhciBQSSA9IE1hdGguUEk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzaW5nbGVTZWdtZW50ID0gc3RhcnRPZmZzZXQgKyBzdHJpZGUgPT09IG9mZnNldDtcbiAgICBvZmZzZXQgPSBzdGFydE9mZnNldDtcbiAgICBzZWdtZW50TGVuZ3RoID0gMDtcbiAgICBzZWdtZW50TSA9IHN0YXJ0TGVuZ3RoO1xuICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIHByZXZpb3VzQW5nbGU7XG4gICAgLy8gQWxsIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgICBpZiAoc2luZ2xlU2VnbWVudCkge1xuICAgICAgICBhZHZhbmNlKCk7XG4gICAgICAgIHByZXZpb3VzQW5nbGUgPSBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpO1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgcHJldmlvdXNBbmdsZSArPSBwcmV2aW91c0FuZ2xlID4gMCA/IC1QSSA6IFBJO1xuICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gKGVuZFggKyBiZWdpblgpIC8gMjtcbiAgICAgICAgdmFyIHkgPSAoZW5kWSArIGJlZ2luWSkgLyAyO1xuICAgICAgICByZXN1bHRbMF0gPSBbeCwgeSwgKGVuZE0gLSBzdGFydE0pIC8gMiwgcHJldmlvdXNBbmdsZSwgdGV4dF07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRleHQubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICAgIGFkdmFuY2UoKTtcbiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGFuZ2xlICs9IGFuZ2xlID4gMCA/IC1QSSA6IFBJO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2aW91c0FuZ2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gcHJldmlvdXNBbmdsZTtcbiAgICAgICAgICAgIGRlbHRhICs9IGRlbHRhID4gUEkgPyAtMiAqIFBJIDogZGVsdGEgPCAtUEkgPyAyICogUEkgOiAwO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IG1heEFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNBbmdsZSA9IGFuZ2xlO1xuICAgICAgICB2YXIgaVN0YXJ0ID0gaTtcbiAgICAgICAgdmFyIGNoYXJMZW5ndGggPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHJldmVyc2UgPyBpaSAtIGkgLSAxIDogaTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0W2luZGV4XSwgY2FjaGUpO1xuICAgICAgICAgICAgaWYgKG9mZnNldCArIHN0cmlkZSA8IGVuZCAmJlxuICAgICAgICAgICAgICAgIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IHN0YXJ0TSArIGNoYXJMZW5ndGggKyBsZW4gLyAyKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFyTGVuZ3RoICs9IGxlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gaVN0YXJ0KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhcnMgPSByZXZlcnNlXG4gICAgICAgICAgICA/IHRleHQuc3Vic3RyaW5nKGlpIC0gaVN0YXJ0LCBpaSAtIGkpXG4gICAgICAgICAgICA6IHRleHQuc3Vic3RyaW5nKGlTdGFydCwgaSk7XG4gICAgICAgIGludGVycG9sYXRlID1cbiAgICAgICAgICAgIHNlZ21lbnRMZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICA6IChzdGFydE0gKyBjaGFyTGVuZ3RoIC8gMiAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gICAgICAgIHZhciB4ID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgICAgICAgdmFyIHkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgICAgICByZXN1bHQucHVzaChbeCwgeSwgY2hhckxlbmd0aCAvIDIsIGFuZ2xlLCBjaGFyc10pO1xuICAgICAgICBzdGFydE0gKz0gY2hhckxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHRwYXRoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvbGVuZ3RoXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ0xlbmd0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICBsZW5ndGggKz0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBlcmltZXRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgdmFyIHBlcmltZXRlciA9IGxpbmVTdHJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICB2YXIgZHggPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXSAtIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciBkeSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXSAtIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBwZXJpbWV0ZXIgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICByZXR1cm4gcGVyaW1ldGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGVuZ3RoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7IFRFWFRfQUxJR04gfSBmcm9tICcuL1RleHRCdWlsZGVyLmpzJztcbmltcG9ydCB7IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIH0gZnJvbSAnLi4vLi4vaGFzLmpzJztcbmltcG9ydCB7IGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXksIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZSwgaW50ZXJzZWN0cyB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0UGFkZGluZywgZGVmYXVsdFRleHRCYXNlbGluZSwgZHJhd0ltYWdlT3JMYWJlbCwgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgZGVmYXVsdFRleHRBbGlnbiwgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLCBtZWFzdXJlVGV4dEhlaWdodCwgbWVhc3VyZVRleHRXaWR0aHMsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGRyYXdUZXh0T25QYXRoIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RleHRwYXRoLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGxpbmVTdHJpbmdMZW5ndGggfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvbGVuZ3RoLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJCb3hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5YIE1pbmltYWwgeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZIE1pbmltYWwgeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhYIE1heGltYWwgeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhZIE1heGltYWwgeVxuICogQHByb3BlcnR5IHsqfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJbWFnZU9yTGFiZWxEaW1lbnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlWCBEcmF3SW1hZ2VYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVkgRHJhd0ltYWdlWS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VXIERyYXdJbWFnZVcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlSCBEcmF3SW1hZ2VILlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9yaWdpblggT3JpZ2luWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpblkuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IHNjYWxlIFNjYWxlLlxuICogQHByb3BlcnR5IHtCQm94fSBkZWNsdXR0ZXJCb3ggRGVjbHV0dGVyQm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBjYW52YXNUcmFuc2Zvcm0gQ2FudmFzVHJhbnNmb3JtLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHt7MDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCAxOiBudW1iZXIsIDI6IGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnQsIDM6IEltYWdlT3JMYWJlbERpbWVuc2lvbnMsIDQ6IG51bWJlciwgNTogQXJyYXk8Kj4sIDY6IEFycmF5PCo+fX0gUmVwbGF5SW1hZ2VPckxhYmVsQXJnc1xuICovXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0KTogVH0gRmVhdHVyZUNhbGxiYWNrXG4gKi9cbi8qKlxuICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbnZhciB0bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG52YXIgcDEgPSBbXTtcbi8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xudmFyIHAyID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbnZhciBwMyA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG52YXIgcDQgPSBbXTtcbi8qKlxuICogQHBhcmFtIHtSZXBsYXlJbWFnZU9yTGFiZWxBcmdzfSByZXBsYXlJbWFnZU9yTGFiZWxBcmdzIEFyZ3VtZW50cyB0byByZXBsYXlJbWFnZU9yTGFiZWxcbiAqIEByZXR1cm4ge0JCb3h9IERlY2x1dHRlciBiYm94LlxuICovXG5mdW5jdGlvbiBnZXREZWNsdXR0ZXJCb3gocmVwbGF5SW1hZ2VPckxhYmVsQXJncykge1xuICAgIHJldHVybiByZXBsYXlJbWFnZU9yTGFiZWxBcmdzWzNdLmRlY2x1dHRlckJveDtcbn1cbnZhciBydGxSZWdFeCA9IG5ldyBSZWdFeHAoXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmV0dGllci9wcmV0dGllciAqL1xuJ1snICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MDA1OTEpICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwOGZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmYjFkKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmRmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmU3MCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZlZmMpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTA4MDApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDEwZmZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDFlODAwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxZWZmZikgK1xuICAgICddJ1xuLyogZXNsaW50LWVuYWJsZSBwcmV0dGllci9wcmV0dGllciAqL1xuKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhbGlnbiBBbGlnbm1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRleHQgYWxpZ25tZW50LlxuICovXG5mdW5jdGlvbiBob3Jpem9udGFsVGV4dEFsaWduKHRleHQsIGFsaWduKSB7XG4gICAgaWYgKChhbGlnbiA9PT0gJ3N0YXJ0JyB8fCBhbGlnbiA9PT0gJ2VuZCcpICYmICFydGxSZWdFeC50ZXN0KHRleHQpKSB7XG4gICAgICAgIGFsaWduID0gYWxpZ24gPT09ICdzdGFydCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIH1cbiAgICByZXR1cm4gVEVYVF9BTElHTlthbGlnbl07XG59XG52YXIgRXhlY3V0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBzIFRoZSByZXBsYXkgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IGluc3RydWN0aW9ucyBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4ZWN1dG9yKHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm92ZXJsYXBzID0gb3ZlcmxhcHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxpZ25GaWxsXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBpbnN0cnVjdGlvbnMuY29vcmRpbmF0ZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxudW1iZXIsaW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb29yZGluYXRlQ2FjaGVfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWxsU3RhdGVzID0gaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0cm9rZVN0YXRlcyA9IGluc3RydWN0aW9ucy5zdHJva2VTdGF0ZXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0U3RhdGVzID0gaW5zdHJ1Y3Rpb25zLnRleHRTdGF0ZXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgT2JqZWN0PHN0cmluZywgbnVtYmVyPj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYWJlbHNfID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRLZXkgVGV4dCBzdHlsZSBrZXkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgRmlsbCBzdHlsZSBrZXkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cm9rZUtleSBTdHJva2Ugc3R5bGUga2V5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbH0gTGFiZWwuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24gKHRleHQsIHRleHRLZXksIGZpbGxLZXksIHN0cm9rZUtleSkge1xuICAgICAgICB2YXIga2V5ID0gdGV4dCArIHRleHRLZXkgKyBmaWxsS2V5ICsgc3Ryb2tlS2V5O1xuICAgICAgICBpZiAodGhpcy5sYWJlbHNfW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsc19ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSBzdHJva2VLZXkgPyB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldIDogbnVsbDtcbiAgICAgICAgdmFyIGZpbGxTdGF0ZSA9IGZpbGxLZXkgPyB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gOiBudWxsO1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHNjYWxlID0gW1xuICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlWzBdICogcGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIHBpeGVsUmF0aW8sXG4gICAgICAgIF07XG4gICAgICAgIHZhciBhbGlnbiA9IGhvcml6b250YWxUZXh0QWxpZ24odGV4dCwgdGV4dFN0YXRlLnRleHRBbGlnbiB8fCBkZWZhdWx0VGV4dEFsaWduKTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3Ryb2tlS2V5ICYmIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA6IDA7XG4gICAgICAgIHZhciBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICB2YXIgbnVtTGluZXMgPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgIHZhciB3aWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aHModGV4dFN0YXRlLmZvbnQsIGxpbmVzLCB3aWR0aHMpO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVUZXh0SGVpZ2h0KHRleHRTdGF0ZS5mb250KTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGxpbmVIZWlnaHQgKiBudW1MaW5lcztcbiAgICAgICAgdmFyIHJlbmRlcldpZHRoID0gd2lkdGggKyBzdHJva2VXaWR0aDtcbiAgICAgICAgdmFyIGNvbnRleHRJbnN0cnVjdGlvbnMgPSBbXTtcbiAgICAgICAgLy8gbWFrZSBjYW52YXMgMiBwaXhlbHMgd2lkZXIgdG8gYWNjb3VudCBmb3IgaXRhbGljIHRleHQgd2lkdGggbWVhc3VyZW1lbnQgZXJyb3JzXG4gICAgICAgIHZhciB3ID0gKHJlbmRlcldpZHRoICsgMikgKiBzY2FsZVswXTtcbiAgICAgICAgdmFyIGggPSAoaGVpZ2h0ICsgc3Ryb2tlV2lkdGgpICogc2NhbGVbMV07XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfSAqL1xuICAgICAgICB2YXIgbGFiZWwgPSB7XG4gICAgICAgICAgICB3aWR0aDogdyA8IDAgPyBNYXRoLmZsb29yKHcpIDogTWF0aC5jZWlsKHcpLFxuICAgICAgICAgICAgaGVpZ2h0OiBoIDwgMCA/IE1hdGguZmxvb3IoaCkgOiBNYXRoLmNlaWwoaCksXG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zOiBjb250ZXh0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc2NhbGVbMF0gIT0gMSB8fCBzY2FsZVsxXSAhPSAxKSB7XG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NjYWxlJywgc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnZm9udCcsIHRleHRTdGF0ZS5mb250KTtcbiAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzdHJva2VTdHlsZScsIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKTtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZVdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lQ2FwJywgc3Ryb2tlU3RhdGUubGluZUNhcCk7XG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVKb2luJywgc3Ryb2tlU3RhdGUubGluZUpvaW4pO1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdtaXRlckxpbWl0Jywgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIHZhciBDb250ZXh0ID0gV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgPyBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgICAgICAgICBpZiAoQ29udGV4dC5wcm90b3R5cGUuc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NldExpbmVEYXNoJywgW3N0cm9rZVN0YXRlLmxpbmVEYXNoXSk7XG4gICAgICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lRGFzaE9mZnNldCcsIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdmaWxsU3R5bGUnLCBmaWxsU3RhdGUuZmlsbFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3RleHRCYXNlbGluZScsICdtaWRkbGUnKTtcbiAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCd0ZXh0QWxpZ24nLCAnY2VudGVyJyk7XG4gICAgICAgIHZhciBsZWZ0UmlnaHQgPSAwLjUgLSBhbGlnbjtcbiAgICAgICAgdmFyIHggPSBhbGlnbiAqIHJlbmRlcldpZHRoICsgbGVmdFJpZ2h0ICogc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnc3Ryb2tlVGV4dCcsIFtcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHggKyBsZWZ0UmlnaHQgKiB3aWR0aHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIDAuNSAqIChzdHJva2VXaWR0aCArIGxpbmVIZWlnaHQpICsgaSAqIGxpbmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1MaW5lczsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdmaWxsVGV4dCcsIFtcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHggKyBsZWZ0UmlnaHQgKiB3aWR0aHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIDAuNSAqIChzdHJva2VXaWR0aCArIGxpbmVIZWlnaHQpICsgaSAqIGxpbmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYWJlbHNfW2tleV0gPSBsYWJlbDtcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDEgMXN0IHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDIgMm5kIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDMgM3JkIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDQgNHRoIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBmaWxsSW5zdHJ1Y3Rpb24gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLnJlcGxheVRleHRCYWNrZ3JvdW5kXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBwMSwgcDIsIHAzLCBwNCwgZmlsbEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbikge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUby5hcHBseShjb250ZXh0LCBwMSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAyKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDMpO1xuICAgICAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwNCk7XG4gICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAxKTtcbiAgICAgICAgaWYgKGZpbGxJbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbGlnbkZpbGxfID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoZmlsbEluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZUluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChzdHJva2VJbnN0cnVjdGlvbikpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2hlZXRXaWR0aCBXaWR0aCBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaGVldEhlaWdodCBIZWlnaHQgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJZIFkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmNob3JYIEFuY2hvciBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmNob3JZIEFuY2hvciBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpbiBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHRvIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcGFkZGluZyBQYWRkaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbFN0cm9rZSBCYWNrZ3JvdW5kIGZpbGwgb3Igc3Ryb2tlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge0ltYWdlT3JMYWJlbERpbWVuc2lvbnN9IERpbWVuc2lvbnMgZm9yIHBvc2l0aW9uaW5nIGFuZCBkZWNsdXR0ZXJpbmcgdGhlIGltYWdlIG9yIGxhYmVsLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyA9IGZ1bmN0aW9uIChzaGVldFdpZHRoLCBzaGVldEhlaWdodCwgY2VudGVyWCwgY2VudGVyWSwgd2lkdGgsIGhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgb3JpZ2luWCwgb3JpZ2luWSwgcm90YXRpb24sIHNjYWxlLCBzbmFwVG9QaXhlbCwgcGFkZGluZywgZmlsbFN0cm9rZSwgZmVhdHVyZSkge1xuICAgICAgICBhbmNob3JYICo9IHNjYWxlWzBdO1xuICAgICAgICBhbmNob3JZICo9IHNjYWxlWzFdO1xuICAgICAgICB2YXIgeCA9IGNlbnRlclggLSBhbmNob3JYO1xuICAgICAgICB2YXIgeSA9IGNlbnRlclkgLSBhbmNob3JZO1xuICAgICAgICB2YXIgdyA9IHdpZHRoICsgb3JpZ2luWCA+IHNoZWV0V2lkdGggPyBzaGVldFdpZHRoIC0gb3JpZ2luWCA6IHdpZHRoO1xuICAgICAgICB2YXIgaCA9IGhlaWdodCArIG9yaWdpblkgPiBzaGVldEhlaWdodCA/IHNoZWV0SGVpZ2h0IC0gb3JpZ2luWSA6IGhlaWdodDtcbiAgICAgICAgdmFyIGJveFcgPSBwYWRkaW5nWzNdICsgdyAqIHNjYWxlWzBdICsgcGFkZGluZ1sxXTtcbiAgICAgICAgdmFyIGJveEggPSBwYWRkaW5nWzBdICsgaCAqIHNjYWxlWzFdICsgcGFkZGluZ1syXTtcbiAgICAgICAgdmFyIGJveFggPSB4IC0gcGFkZGluZ1szXTtcbiAgICAgICAgdmFyIGJveFkgPSB5IC0gcGFkZGluZ1swXTtcbiAgICAgICAgaWYgKGZpbGxTdHJva2UgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHAxWzBdID0gYm94WDtcbiAgICAgICAgICAgIHA0WzBdID0gYm94WDtcbiAgICAgICAgICAgIHAxWzFdID0gYm94WTtcbiAgICAgICAgICAgIHAyWzFdID0gYm94WTtcbiAgICAgICAgICAgIHAyWzBdID0gYm94WCArIGJveFc7XG4gICAgICAgICAgICBwM1swXSA9IHAyWzBdO1xuICAgICAgICAgICAgcDNbMV0gPSBib3hZICsgYm94SDtcbiAgICAgICAgICAgIHA0WzFdID0gcDNbMV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKGNyZWF0ZVRyYW5zZm9ybSgpLCBjZW50ZXJYLCBjZW50ZXJZLCAxLCAxLCByb3RhdGlvbiwgLWNlbnRlclgsIC1jZW50ZXJZKTtcbiAgICAgICAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDEpO1xuICAgICAgICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMik7XG4gICAgICAgICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAzKTtcbiAgICAgICAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDQpO1xuICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4ocDFbMF0sIHAyWzBdLCBwM1swXSwgcDRbMF0pLCBNYXRoLm1pbihwMVsxXSwgcDJbMV0sIHAzWzFdLCBwNFsxXSksIE1hdGgubWF4KHAxWzBdLCBwMlswXSwgcDNbMF0sIHA0WzBdKSwgTWF0aC5tYXgocDFbMV0sIHAyWzFdLCBwM1sxXSwgcDRbMV0pLCB0bXBFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4oYm94WCwgYm94WCArIGJveFcpLCBNYXRoLm1pbihib3hZLCBib3hZICsgYm94SCksIE1hdGgubWF4KGJveFgsIGJveFggKyBib3hXKSwgTWF0aC5tYXgoYm94WSwgYm94WSArIGJveEgpLCB0bXBFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzbmFwVG9QaXhlbCkge1xuICAgICAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgICAgICB5ID0gTWF0aC5yb3VuZCh5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZHJhd0ltYWdlWDogeCxcbiAgICAgICAgICAgIGRyYXdJbWFnZVk6IHksXG4gICAgICAgICAgICBkcmF3SW1hZ2VXOiB3LFxuICAgICAgICAgICAgZHJhd0ltYWdlSDogaCxcbiAgICAgICAgICAgIG9yaWdpblg6IG9yaWdpblgsXG4gICAgICAgICAgICBvcmlnaW5ZOiBvcmlnaW5ZLFxuICAgICAgICAgICAgZGVjbHV0dGVyQm94OiB7XG4gICAgICAgICAgICAgICAgbWluWDogdG1wRXh0ZW50WzBdLFxuICAgICAgICAgICAgICAgIG1pblk6IHRtcEV4dGVudFsxXSxcbiAgICAgICAgICAgICAgICBtYXhYOiB0bXBFeHRlbnRbMl0sXG4gICAgICAgICAgICAgICAgbWF4WTogdG1wRXh0ZW50WzNdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmZWF0dXJlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbnZhc1RyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZU9yTGFiZWwgSW1hZ2UuXG4gICAgICogQHBhcmFtIHtJbWFnZU9yTGFiZWxEaW1lbnNpb25zfSBkaW1lbnNpb25zIERpbWVuc2lvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBmaWxsSW5zdHJ1Y3Rpb24gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIG9yIGxhYmVsIHdhcyByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUucmVwbGF5SW1hZ2VPckxhYmVsXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBjb250ZXh0U2NhbGUsIGltYWdlT3JMYWJlbCwgZGltZW5zaW9ucywgb3BhY2l0eSwgZmlsbEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbikge1xuICAgICAgICB2YXIgZmlsbFN0cm9rZSA9ICEhKGZpbGxJbnN0cnVjdGlvbiB8fCBzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIHZhciBib3ggPSBkaW1lbnNpb25zLmRlY2x1dHRlckJveDtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICB2YXIgc3Ryb2tlUGFkZGluZyA9IHN0cm9rZUluc3RydWN0aW9uXG4gICAgICAgICAgICA/IChzdHJva2VJbnN0cnVjdGlvblsyXSAqIGRpbWVuc2lvbnMuc2NhbGVbMF0pIC8gMlxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB2YXIgaW50ZXJzZWN0cyA9IGJveC5taW5YIC0gc3Ryb2tlUGFkZGluZyA8PSBjYW52YXMud2lkdGggLyBjb250ZXh0U2NhbGUgJiZcbiAgICAgICAgICAgIGJveC5tYXhYICsgc3Ryb2tlUGFkZGluZyA+PSAwICYmXG4gICAgICAgICAgICBib3gubWluWSAtIHN0cm9rZVBhZGRpbmcgPD0gY2FudmFzLmhlaWdodCAvIGNvbnRleHRTY2FsZSAmJlxuICAgICAgICAgICAgYm94Lm1heFkgKyBzdHJva2VQYWRkaW5nID49IDA7XG4gICAgICAgIGlmIChpbnRlcnNlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZmlsbFN0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5VGV4dEJhY2tncm91bmRfKGNvbnRleHQsIHAxLCBwMiwgcDMsIHA0LCBcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoZmlsbEluc3RydWN0aW9uKSwgXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKHN0cm9rZUluc3RydWN0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3SW1hZ2VPckxhYmVsKGNvbnRleHQsIGRpbWVuc2lvbnMuY2FudmFzVHJhbnNmb3JtLCBvcGFjaXR5LCBpbWFnZU9yTGFiZWwsIGRpbWVuc2lvbnMub3JpZ2luWCwgZGltZW5zaW9ucy5vcmlnaW5ZLCBkaW1lbnNpb25zLmRyYXdJbWFnZVcsIGRpbWVuc2lvbnMuZHJhd0ltYWdlSCwgZGltZW5zaW9ucy5kcmF3SW1hZ2VYLCBkaW1lbnNpb25zLmRyYXdJbWFnZVksIGRpbWVuc2lvbnMuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5maWxsXyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLmFsaWduRmlsbF8pIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5fMSA9IGFwcGx5VHJhbnNmb3JtKHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fLCBbMCwgMF0pO1xuICAgICAgICAgICAgdmFyIHJlcGVhdFNpemUgPSA1MTIgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG9yaWdpbl8xWzBdICUgcmVwZWF0U2l6ZSwgb3JpZ2luXzFbMV0gJSByZXBlYXRTaXplKTtcbiAgICAgICAgICAgIGNvbnRleHQucm90YXRlKHRoaXMudmlld1JvdGF0aW9uXyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGlmICh0aGlzLmFsaWduRmlsbF8pIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb24gSW5zdHJ1Y3Rpb24uXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLnNldFN0cm9rZVN0eWxlXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICBjb250ZXh0WydzdHJva2VTdHlsZSddID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKGluc3RydWN0aW9uWzRdKTtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGluc3RydWN0aW9uWzZdKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dEtleSBUaGUga2V5IG9mIHRoZSB0ZXh0IHN0YXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgVGhlIGtleSBmb3IgdGhlIHN0cm9rZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsbEtleSBUaGUga2V5IGZvciB0aGUgZmlsbCBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHt7bGFiZWw6IGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbCwgYW5jaG9yWDogbnVtYmVyLCBhbmNob3JZOiBudW1iZXJ9fSBUaGUgdGV4dCBpbWFnZSBhbmQgaXRzIGFuY2hvci5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50XyA9IGZ1bmN0aW9uICh0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXkpIHtcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbCh0ZXh0LCB0ZXh0S2V5LCBmaWxsS2V5LCBzdHJva2VLZXkpO1xuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGFsaWduID0gaG9yaXpvbnRhbFRleHRBbGlnbih0ZXh0LCB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ24pO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgZGVmYXVsdFRleHRCYXNlbGluZV07XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0cm9rZVN0YXRlICYmIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA6IDA7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgMiBwaXhlbHMgd2UgYWRkZWQgaW4gY3JlYXRlTGFiZWwoKSBmb3IgdGhlIGFuY2hvclxuICAgICAgICB2YXIgd2lkdGggPSBsYWJlbC53aWR0aCAvIHBpeGVsUmF0aW8gLSAyICogdGV4dFN0YXRlLnNjYWxlWzBdO1xuICAgICAgICB2YXIgYW5jaG9yWCA9IGFsaWduICogd2lkdGggKyAyICogKDAuNSAtIGFsaWduKSAqIHN0cm9rZVdpZHRoO1xuICAgICAgICB2YXIgYW5jaG9yWSA9IChiYXNlbGluZSAqIGxhYmVsLmhlaWdodCkgLyBwaXhlbFJhdGlvICtcbiAgICAgICAgICAgIDIgKiAoMC41IC0gYmFzZWxpbmUpICogc3Ryb2tlV2lkdGg7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICBhbmNob3JYOiBhbmNob3JYLFxuICAgICAgICAgICAgYW5jaG9yWTogYW5jaG9yWSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBpbnN0cnVjdGlvbnMgSW5zdHJ1Y3Rpb25zIGFycmF5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0IHRvIGludGVnZXIgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZUNhbGxiYWNrPFQ+fSBbb3B0X2ZlYXR1cmVDYWxsYmFja10gRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtvcHRfaGl0RXh0ZW50XSBPbmx5IGNoZWNrXG4gICAgICogICAgIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IHRoaXMgZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmV4ZWN1dGVfID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCBpbnN0cnVjdGlvbnMsIHNuYXBUb1BpeGVsLCBvcHRfZmVhdHVyZUNhbGxiYWNrLCBvcHRfaGl0RXh0ZW50LCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzO1xuICAgICAgICBpZiAodGhpcy5waXhlbENvb3JkaW5hdGVzXyAmJiBlcXVhbHModHJhbnNmb3JtLCB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXykpIHtcbiAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXMgPSB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKHRoaXMuY29vcmRpbmF0ZXMsIDAsIHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoLCAyLCB0cmFuc2Zvcm0sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICAgICAgdHJhbnNmb3JtU2V0RnJvbUFycmF5KHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fLCB0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gMDsgLy8gaW5zdHJ1Y3Rpb24gaW5kZXhcbiAgICAgICAgdmFyIGlpID0gaW5zdHJ1Y3Rpb25zLmxlbmd0aDsgLy8gZW5kIG9mIGluc3RydWN0aW9uc1xuICAgICAgICB2YXIgZCA9IDA7IC8vIGRhdGEgaW5kZXhcbiAgICAgICAgdmFyIGRkOyAvLyBlbmQgb2YgcGVyLWluc3RydWN0aW9uIGRhdGFcbiAgICAgICAgdmFyIGFuY2hvclgsIGFuY2hvclksIHByZXZYLCBwcmV2WSwgcm91bmRYLCByb3VuZFksIGltYWdlLCB0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXk7XG4gICAgICAgIHZhciBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgIHZhciBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgdmFyIGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFN0cm9rZUluc3RydWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVDYWNoZSA9IHRoaXMuY29vcmRpbmF0ZUNhY2hlXztcbiAgICAgICAgdmFyIHZpZXdSb3RhdGlvbiA9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICAgICAgdmFyIHZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0gPSBNYXRoLnJvdW5kKE1hdGguYXRhbjIoLXRyYW5zZm9ybVsxXSwgdHJhbnNmb3JtWzBdKSAqIDFlMTIpIC8gMWUxMjtcbiAgICAgICAgdmFyIHN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIuanNcIikuU3RhdGV9ICovICh7XG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgcm90YXRpb246IHZpZXdSb3RhdGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdoZW4gdGhlIGJhdGNoIHNpemUgZ2V0cyB0b28gYmlnLCBwZXJmb3JtYW5jZSBkZWNyZWFzZXMuIDIwMCBpcyBhIGdvb2RcbiAgICAgICAgLy8gYmFsYW5jZSBiZXR3ZWVuIGJhdGNoIHNpemUgYW5kIG51bWJlciBvZiBmaWxsL3N0cm9rZSBpbnN0cnVjdGlvbnMuXG4gICAgICAgIHZhciBiYXRjaFNpemUgPSB0aGlzLmluc3RydWN0aW9ucyAhPSBpbnN0cnVjdGlvbnMgfHwgdGhpcy5vdmVybGFwcyA/IDAgOiAyMDA7XG4gICAgICAgIHZhciAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9ICovIGZlYXR1cmU7XG4gICAgICAgIHZhciB4LCB5LCBjdXJyZW50R2VvbWV0cnk7XG4gICAgICAgIHdoaWxlIChpIDwgaWkpIHtcbiAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uc1tpXTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0luc3RydWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChpbnN0cnVjdGlvblswXSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZOlxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R2VvbWV0cnkgPSBpbnN0cnVjdGlvblszXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmZWF0dXJlLmdldEdlb21ldHJ5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRfaGl0RXh0ZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpbnRlcnNlY3RzKG9wdF9oaXRFeHRlbnQsIGN1cnJlbnRHZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9QQVRIOlxuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdGaWxsICYmICFwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlggPSBOYU47XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WSA9IE5hTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0lSQ0xFOlxuICAgICAgICAgICAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDIgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gcGl4ZWxDb29yZGluYXRlc1tkICsgM107XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeSA9IHkyIC0geTE7XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEgKyByLCB5MSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHgxLCB5MSwgciwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0xPU0VfUEFUSDpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTTpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBkZCA9IGluc3RydWN0aW9uWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBcbiAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChpbnN0cnVjdGlvblszXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGluc3RydWN0aW9uWzRdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSBpbnN0cnVjdGlvbi5sZW5ndGggPT0gNiA/IGluc3RydWN0aW9uWzVdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSBpbiBjb29yZGluYXRlQ2FjaGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlQ2FjaGVbaV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRzID0gY29vcmRpbmF0ZUNhY2hlW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuKHBpeGVsQ29vcmRpbmF0ZXMsIGQsIGRkLCAyLCBjb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzWzBdID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkc1sxXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLmxlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIoY29vcmRzLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFOlxuICAgICAgICAgICAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGRkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIGluIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNl0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3BhY2l0eSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOF0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luWSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRlV2l0aFZpZXcgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxMF0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzExXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfSAqLyAoaW5zdHJ1Y3Rpb25bMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxM10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9IFxuICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqLyAoaW5zdHJ1Y3Rpb25bMTRdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZSAmJiBpbnN0cnVjdGlvbi5sZW5ndGggPj0gMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBsYWJlbCBpbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzE4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0S2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxOV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMjFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbFdpdGhBbmNob3IgPSB0aGlzLmRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8odGV4dCwgdGV4dEtleSwgc3Ryb2tlS2V5LCBmaWxsS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gbGFiZWxXaXRoQW5jaG9yLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bM10gPSBpbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclggPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclggLSB0ZXh0T2Zmc2V0WCkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbls0XSA9IGFuY2hvclg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dE9mZnNldFkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzIzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JZID0gKGxhYmVsV2l0aEFuY2hvci5hbmNob3JZIC0gdGV4dE9mZnNldFkpICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNV0gPSBhbmNob3JZO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNl0gPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMTNdID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5V2lkdGhzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24ubGVuZ3RoID4gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyNF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdm9pZCAwLCBiYWNrZ3JvdW5kRmlsbCA9IHZvaWQgMCwgYmFja2dyb3VuZFN0cm9rZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bMTVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWxsID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxN10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZyA9IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocm90YXRlV2l0aFZpZXcgJiYgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FudmFzIGlzIGV4cGVjdGVkIHRvIGJlIHJvdGF0ZWQgdG8gcmV2ZXJzZSB2aWV3IHJvdGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gKz0gdmlld1JvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFyb3RhdGVXaXRoVmlldyAmJiAhdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FudmFzIGlzIG5vdCByb3RhdGVkLCBpbWFnZXMgbmVlZCB0byBiZSByb3RhdGVkIGJhY2sgdG8gYmUgbm9ydGgtdXAuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiAtPSB2aWV3Um90YXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgZCA8IGRkOyBkICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeVdpZHRocyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzW3dpZHRoSW5kZXgrK10gPCB3aWR0aCAvIHRoaXMucGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfKGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIHBpeGVsQ29vcmRpbmF0ZXNbZF0sIHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdLCB3aWR0aCwgaGVpZ2h0LCBhbmNob3JYLCBhbmNob3JZLCBvcmlnaW5YLCBvcmlnaW5ZLCByb3RhdGlvbiwgc2NhbGUsIHNuYXBUb1BpeGVsLCBwYWRkaW5nLCBiYWNrZ3JvdW5kRmlsbCB8fCBiYWNrZ3JvdW5kU3Ryb2tlLCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7UmVwbGF5SW1hZ2VPckxhYmVsQXJnc30gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0RmlsbEluc3RydWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VBcmdzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlRGVjbHV0dGVyQm94ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlICYmIGRlY2x1dHRlckltYWdlV2l0aFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBkZCAtIGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSB0aGUgaW1hZ2UgZm9yIGFuIGltYWdlK3RleHQgY29tYmluYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVuZGVyIGFueXRoaW5nIGZvciBub3csIHdhaXQgZm9yIHRoZSB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VBcmdzID0gZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGVjbHV0dGVyQm94ID0gZ2V0RGVjbHV0dGVyQm94KGltYWdlQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGltYWdlRGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZUFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSBpbWFnZSBhbmQgdGV4dCBmb3IgYW4gaW1hZ2UrdGV4dCBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuaW5zZXJ0KGltYWdlRGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBpbWFnZSBiZWZvcmUgd2UgcmVuZGVyIHRoZSB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuaW5zZXJ0KGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlZ2luID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VsaW5lID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblszXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdmVyZmxvdyA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgICAgICAgICAgICBmaWxsS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhBbmdsZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNl0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVhc3VyZVBpeGVsUmF0aW8gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldFkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvbls5XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW9TY2FsZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRTY2FsZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVswXSAqIG1lYXN1cmVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlWzFdICogbWVhc3VyZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZWRXaWR0aHMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb250IGluIHRoaXMud2lkdGhzXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0gdGhpcy53aWR0aHNfW2ZvbnRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoc19bZm9udF0gPSBjYWNoZWRXaWR0aHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGhMZW5ndGggPSBsaW5lU3RyaW5nTGVuZ3RoKHBpeGVsQ29vcmRpbmF0ZXMsIGJlZ2luLCBlbmQsIDIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dExlbmd0aCA9IE1hdGguYWJzKHRleHRTY2FsZVswXSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlZFdpZHRocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvdyB8fCB0ZXh0TGVuZ3RoIDw9IHBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0QWxpZ24gPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV0udGV4dEFsaWduO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0TSA9IChwYXRoTGVuZ3RoIC0gdGV4dExlbmd0aCkgKiBURVhUX0FMSUdOW3RleHRBbGlnbl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBkcmF3VGV4dE9uUGF0aChwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyLCB0ZXh0LCBzdGFydE0sIG1heEFuZ2xlLCBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pLCBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsIGZvbnQsIGNhY2hlZFdpZHRocywgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSA/IDAgOiB0aGlzLnZpZXdSb3RhdGlvbl8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0NoYXJzOiBpZiAocGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PFJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBsYXlJbWFnZU9yTGFiZWxBcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDAsIGNjID0gdm9pZCAwLCBjaGFycyA9IHZvaWQgMCwgbGFiZWwgPSB2b2lkIDAsIHBhcnQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGMgPSAwLCBjYyA9IHBhcnRzLmxlbmd0aDsgYyA8IGNjOyArK2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tjXTsgLy8geCwgeSwgYW5jaG9yWCwgcm90YXRpb24sIGNodW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFycyA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGFydFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwoY2hhcnMsIHRleHRLZXksICcnLCBzdHJva2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzJdKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ZXh0U2NhbGVbMF0gPCAwID8gLXN0cm9rZVdpZHRoIDogc3Ryb2tlV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKDAuNSAtIGJhc2VsaW5lKSAqIDIgKiBzdHJva2VXaWR0aCAqIHRleHRTY2FsZVsxXSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNjYWxlWzBdIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhsYWJlbC53aWR0aCwgbGFiZWwuaGVpZ2h0LCBwYXJ0WzBdLCBwYXJ0WzFdLCBsYWJlbC53aWR0aCwgbGFiZWwuaGVpZ2h0LCBhbmNob3JYLCBhbmNob3JZLCAwLCAwLCBwYXJ0WzNdLCBwaXhlbFJhdGlvU2NhbGUsIGZhbHNlLCBkZWZhdWx0UGFkZGluZywgZmFsc2UsIGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgZHJhd0NoYXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGNoYXJzLCB0ZXh0S2V5LCBmaWxsS2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSBiYXNlbGluZSAqIGxhYmVsLmhlaWdodCAtIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18obGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgcGFydFswXSwgcGFydFsxXSwgbGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgMCwgMCwgcGFydFszXSwgcGl4ZWxSYXRpb1NjYWxlLCBmYWxzZSwgZGVmYXVsdFBhZGRpbmcsIGZhbHNlLCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVjbHV0dGVyVHJlZS5sb2FkKHJlcGxheUltYWdlT3JMYWJlbEFyZ3MubWFwKGdldERlY2x1dHRlckJveCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwLCBpaV8xID0gcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5sZW5ndGg7IGlfMSA8IGlpXzE7ICsraV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCByZXBsYXlJbWFnZU9yTGFiZWxBcmdzW2lfMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZOlxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2ZlYXR1cmVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9wdF9mZWF0dXJlQ2FsbGJhY2soZmVhdHVyZSwgY3VycmVudEdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5GSUxMOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRmlsbCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPOlxuICAgICAgICAgICAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGRkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIHggPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJvdW5kWSA9ICh5ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3VuZFggIT09IHByZXZYIHx8IHJvdW5kWSAhPT0gcHJldlkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlggPSByb3VuZFg7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WSA9IHJvdW5kWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGQgKz0gMjsgZCA8IGRkOyBkICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91bmRYID0gKHggKyAwLjUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kWSA9ICh5ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSBkZCAtIDIgfHwgcm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlggPSByb3VuZFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFOlxuICAgICAgICAgICAgICAgICAgICBsYXN0RmlsbEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25GaWxsXyA9IGluc3RydWN0aW9uWzJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRTpcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0cm9rZUluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZV8oY29udGV4dCwgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGluc3RydWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TVFJPS0U6XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICArK2k7IC8vIGNvbnN1bWUgdGhlIGluc3RydWN0aW9uIGFueXdheSwgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGVuZGluZ0ZpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0IHRvIGludGVnZXIgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBjb250ZXh0U2NhbGUsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBzbmFwVG9QaXhlbCwgb3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgdGhpcy52aWV3Um90YXRpb25fID0gdmlld1JvdGF0aW9uO1xuICAgICAgICB0aGlzLmV4ZWN1dGVfKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCB0aGlzLmluc3RydWN0aW9ucywgc25hcFRvUGl4ZWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRfZGVjbHV0dGVyVHJlZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtGZWF0dXJlQ2FsbGJhY2s8VD59IFtvcHRfZmVhdHVyZUNhbGxiYWNrXSBGZWF0dXJlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW29wdF9oaXRFeHRlbnRdIE9ubHkgY2hlY2tcbiAgICAgKiAgICAgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpcyBleHRlbnQuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5leGVjdXRlSGl0RGV0ZWN0aW9uID0gZnVuY3Rpb24gKGNvbnRleHQsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBvcHRfZmVhdHVyZUNhbGxiYWNrLCBvcHRfaGl0RXh0ZW50KSB7XG4gICAgICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZV8oY29udGV4dCwgMSwgdHJhbnNmb3JtLCB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucywgdHJ1ZSwgb3B0X2ZlYXR1cmVDYWxsYmFjaywgb3B0X2hpdEV4dGVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gRXhlY3V0b3I7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRXhlY3V0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeGVjdXRvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXG4gKi9cbmltcG9ydCBCdWlsZGVyVHlwZSBmcm9tICcuL0J1aWxkZXJUeXBlLmpzJztcbmltcG9ydCBFeGVjdXRvciBmcm9tICcuL0V4ZWN1dG9yLmpzJztcbmltcG9ydCB7IGJ1ZmZlciwgY3JlYXRlRW1wdHksIGV4dGVuZENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtMkQgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xudmFyIE9SREVSID0gW1xuICAgIEJ1aWxkZXJUeXBlLlBPTFlHT04sXG4gICAgQnVpbGRlclR5cGUuQ0lSQ0xFLFxuICAgIEJ1aWxkZXJUeXBlLkxJTkVfU1RSSU5HLFxuICAgIEJ1aWxkZXJUeXBlLklNQUdFLFxuICAgIEJ1aWxkZXJUeXBlLlRFWFQsXG4gICAgQnVpbGRlclR5cGUuREVGQVVMVCxcbl07XG52YXIgRXhlY3V0b3JHcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXggZXh0ZW50IGZvciBjbGlwcGluZy4gV2hlbiBhXG4gICAgICogYG1heEV4dGVudGAgd2FzIHNldCBvbiB0aGUgQnVpbGRlciBmb3IgdGhpcyBleGVjdXRvciBncm91cCwgdGhlIHNhbWUgYG1heEV4dGVudGBcbiAgICAgKiBzaG91bGQgYmUgc2V0IGhlcmUsIHVubGVzcyB0aGUgdGFyZ2V0IGNvbnRleHQgZG9lcyBub3QgZXhjZWVkIHRoYXQgZXh0ZW50ICh3aGljaFxuICAgICAqIGNhbiBiZSB0aGUgY2FzZSB3aGVuIHJlbmRlcmluZyB0byB0aWxlcykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBzIFRoZSBleGVjdXRvciBncm91cCBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IGFsbEluc3RydWN0aW9uc1xuICAgICAqIFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3JlbmRlckJ1ZmZlcl0gT3B0aW9uYWwgcmVuZGVyaW5nIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeGVjdXRvckdyb3VwKG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgb3ZlcmxhcHMsIGFsbEluc3RydWN0aW9ucywgb3B0X3JlbmRlckJ1ZmZlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heEV4dGVudF8gPSBtYXhFeHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3ZlcmxhcHNfID0gb3ZlcmxhcHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyQnVmZmVyXyA9IG9wdF9yZW5kZXJCdWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuL0V4ZWN1dG9yXCIpLmRlZmF1bHQ+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUV4ZWN1dG9yc18oYWxsSW5zdHJ1Y3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuY2xpcCA9IGZ1bmN0aW9uIChjb250ZXh0LCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGZsYXRDbGlwQ29vcmRzID0gdGhpcy5nZXRDbGlwQ29vcmRzKHRyYW5zZm9ybSk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKGZsYXRDbGlwQ29vcmRzWzBdLCBmbGF0Q2xpcENvb3Jkc1sxXSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzJdLCBmbGF0Q2xpcENvb3Jkc1szXSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzRdLCBmbGF0Q2xpcENvb3Jkc1s1XSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzZdLCBmbGF0Q2xpcENvb3Jkc1s3XSk7XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGV4ZWN1dG9ycyBhbmQgcG9wdWxhdGUgdGhlbSB1c2luZyB0aGUgcHJvdmlkZWQgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gYWxsSW5zdHJ1Y3Rpb25zIFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuY3JlYXRlRXhlY3V0b3JzXyA9IGZ1bmN0aW9uIChhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgekluZGV4IGluIGFsbEluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgdmFyIGV4ZWN1dG9ycyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleF07XG4gICAgICAgICAgICBpZiAoZXhlY3V0b3JzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRvcnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdID0gZXhlY3V0b3JzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluc3RydWN0aW9uQnlaaW5kZXggPSBhbGxJbnN0cnVjdGlvbnNbekluZGV4XTtcbiAgICAgICAgICAgIGZvciAodmFyIGJ1aWxkZXJUeXBlIGluIGluc3RydWN0aW9uQnlaaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25CeVppbmRleFtidWlsZGVyVHlwZV07XG4gICAgICAgICAgICAgICAgZXhlY3V0b3JzW2J1aWxkZXJUeXBlXSA9IG5ldyBFeGVjdXRvcih0aGlzLnJlc29sdXRpb25fLCB0aGlzLnBpeGVsUmF0aW9fLCB0aGlzLm92ZXJsYXBzXywgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQ+fSBleGVjdXRvcnMgRXhlY3V0b3JzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBleGVjdXRvcnMgb2YgdGhlIHByb3ZpZGVkIHR5cGVzLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmhhc0V4ZWN1dG9ycyA9IGZ1bmN0aW9uIChleGVjdXRvcnMpIHtcbiAgICAgICAgZm9yICh2YXIgekluZGV4IGluIHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKSB7XG4gICAgICAgICAgICB2YXIgY2FuZGlkYXRlcyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleF07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleGVjdXRvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChleGVjdXRvcnNbaV0gaW4gY2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0LCBudW1iZXIpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IGRlY2x1dHRlcmVkRmVhdHVyZXMgRGVjbHV0dGVyZWQgZmVhdHVyZXMuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBkZWNsdXR0ZXJlZEZlYXR1cmVzKSB7XG4gICAgICAgIGhpdFRvbGVyYW5jZSA9IE1hdGgucm91bmQoaGl0VG9sZXJhbmNlKTtcbiAgICAgICAgdmFyIGNvbnRleHRTaXplID0gaGl0VG9sZXJhbmNlICogMiArIDE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXywgaGl0VG9sZXJhbmNlICsgMC41LCBoaXRUb2xlcmFuY2UgKyAwLjUsIDEgLyByZXNvbHV0aW9uLCAtMSAvIHJlc29sdXRpb24sIC1yb3RhdGlvbiwgLWNvb3JkaW5hdGVbMF0sIC1jb29yZGluYXRlWzFdKTtcbiAgICAgICAgdmFyIG5ld0NvbnRleHQgPSAhdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XztcbiAgICAgICAgaWYgKG5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF8gPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoY29udGV4dFNpemUsIGNvbnRleHRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF87XG4gICAgICAgIGlmIChjb250ZXh0LmNhbnZhcy53aWR0aCAhPT0gY29udGV4dFNpemUgfHxcbiAgICAgICAgICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCAhPT0gY29udGV4dFNpemUpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2FudmFzLndpZHRoID0gY29udGV4dFNpemU7XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBjb250ZXh0U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbmV3Q29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dFNpemUsIGNvbnRleHRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGl0RXh0ZW50O1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJCdWZmZXJfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhpdEV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICAgICAgICBleHRlbmRDb29yZGluYXRlKGhpdEV4dGVudCwgY29vcmRpbmF0ZSk7XG4gICAgICAgICAgICBidWZmZXIoaGl0RXh0ZW50LCByZXNvbHV0aW9uICogKHRoaXMucmVuZGVyQnVmZmVyXyArIGhpdFRvbGVyYW5jZSksIGhpdEV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ZXMgPSBnZXRQaXhlbEluZGV4QXJyYXkoaGl0VG9sZXJhbmNlKTtcbiAgICAgICAgdmFyIGJ1aWxkZXJUeXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZlYXR1cmVDYWxsYmFjayhmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgICAgICAgICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSkuZGF0YTtcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDAsIGlpID0gaW5kZXhlcy5sZW5ndGg7IGlfMSA8IGlpOyBpXzErKykge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZURhdGFbaW5kZXhlc1tpXzFdXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWNsdXR0ZXJlZEZlYXR1cmVzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVpbGRlclR5cGUgIT09IEJ1aWxkZXJUeXBlLklNQUdFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRlclR5cGUgIT09IEJ1aWxkZXJUeXBlLlRFWFQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzLmluZGV4T2YoZmVhdHVyZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gKGluZGV4ZXNbaV8xXSAtIDMpIC8gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gaGl0VG9sZXJhbmNlIC0gKGlkeCAlIGNvbnRleHRTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ID0gaGl0VG9sZXJhbmNlIC0gKChpZHggLyBjb250ZXh0U2l6ZSkgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IGNhbGxiYWNrKGZlYXR1cmUsIGdlb21ldHJ5LCB4ICogeCArIHkgKiB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICAgICAgdmFyIHpzID0gT2JqZWN0LmtleXModGhpcy5leGVjdXRvcnNCeVpJbmRleF8pLm1hcChOdW1iZXIpO1xuICAgICAgICB6cy5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICAgICAgICB2YXIgaSwgaiwgZXhlY3V0b3JzLCBleGVjdXRvciwgcmVzdWx0O1xuICAgICAgICBmb3IgKGkgPSB6cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBleGVjdXRvcnMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhLZXldO1xuICAgICAgICAgICAgZm9yIChqID0gT1JERVIubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyVHlwZSA9IE9SREVSW2pdO1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yID0gZXhlY3V0b3JzW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhlY3V0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBleGVjdXRvci5leGVjdXRlSGl0RGV0ZWN0aW9uKGNvbnRleHQsIHRyYW5zZm9ybSwgcm90YXRpb24sIGZlYXR1cmVDYWxsYmFjaywgaGl0RXh0ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IENsaXAgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuZ2V0Q2xpcENvb3JkcyA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIG1heEV4dGVudCA9IHRoaXMubWF4RXh0ZW50XztcbiAgICAgICAgaWYgKCFtYXhFeHRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaW5YID0gbWF4RXh0ZW50WzBdO1xuICAgICAgICB2YXIgbWluWSA9IG1heEV4dGVudFsxXTtcbiAgICAgICAgdmFyIG1heFggPSBtYXhFeHRlbnRbMl07XG4gICAgICAgIHZhciBtYXhZID0gbWF4RXh0ZW50WzNdO1xuICAgICAgICB2YXIgZmxhdENsaXBDb29yZHMgPSBbbWluWCwgbWluWSwgbWluWCwgbWF4WSwgbWF4WCwgbWF4WSwgbWF4WCwgbWluWV07XG4gICAgICAgIHRyYW5zZm9ybTJEKGZsYXRDbGlwQ29vcmRzLCAwLCA4LCAyLCB0cmFuc2Zvcm0sIGZsYXRDbGlwQ29vcmRzKTtcbiAgICAgICAgcmV0dXJuIGZsYXRDbGlwQ29vcmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW1wdHkodGhpcy5leGVjdXRvcnNCeVpJbmRleF8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHBvaW50IHN5bWJvbHMgYW5kIHRlc3QgdG8gaW50ZWdlciBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdD59IFtvcHRfYnVpbGRlclR5cGVzXSBPcmRlcmVkIHJlcGxheSB0eXBlcyB0byByZXBsYXkuXG4gICAgICogICAgIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvcmVwbGF5fk9SREVSfVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIHNuYXBUb1BpeGVsLCBvcHRfYnVpbGRlclR5cGVzLCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICAgICAgLy8gc2V0dXAgY2xpcHBpbmcgc28gdGhhdCB0aGUgcGFydHMgb2Ygb3Zlci1zaW1wbGlmaWVkIGdlb21ldHJpZXMgYXJlIG5vdFxuICAgICAgICAvLyB2aXNpYmxlIG91dHNpZGUgdGhlIGN1cnJlbnQgZXh0ZW50IHdoZW4gcGFubmluZ1xuICAgICAgICBpZiAodGhpcy5tYXhFeHRlbnRfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xpcChjb250ZXh0LCB0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWlsZGVyVHlwZXMgPSBvcHRfYnVpbGRlclR5cGVzID8gb3B0X2J1aWxkZXJUeXBlcyA6IE9SREVSO1xuICAgICAgICB2YXIgaSwgaWksIGosIGpqLCByZXBsYXlzLCByZXBsYXk7XG4gICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgenMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0genMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXBsYXlzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gYnVpbGRlclR5cGVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRlclR5cGUgPSBidWlsZGVyVHlwZXNbal07XG4gICAgICAgICAgICAgICAgcmVwbGF5ID0gcmVwbGF5c1tidWlsZGVyVHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxheS5leGVjdXRlKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIHNuYXBUb1BpeGVsLCBvcHRfZGVjbHV0dGVyVHJlZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heEV4dGVudF8pIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXhlY3V0b3JHcm91cDtcbn0oKSk7XG4vKipcbiAqIFRoaXMgY2FjaGUgaXMgdXNlZCB0byBzdG9yZSBhcnJheXMgb2YgaW5kZXhlcyBmb3IgY2FsY3VsYXRlZCBwaXhlbCBjaXJjbGVzXG4gKiB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZS5cbiAqIEl0IGlzIGEgc3RhdGljIHByb3BlcnR5IHRvIGFsbG93IGVhY2ggUmVwbGF5Z3JvdXAgdG8gYWNjZXNzIGl0LlxuICogQHR5cGUge09iamVjdDxudW1iZXIsIEFycmF5PG51bWJlcj4+fVxuICovXG52YXIgY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGUgPSB7fTtcbi8qKlxuICogVGhpcyBtZXRob2RzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBpbmRleGVzIG9mIGFsbCBwaXhlbHMgd2l0aGluIGEgY2lyY2xlLFxuICogb3JkZXJlZCBieSBob3cgY2xvc2UgdGhleSBhcmUgdG8gdGhlIGNlbnRlci5cbiAqIEEgY2FjaGUgaXMgdXNlZCB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW4gYXJyYXkgd2l0aCBpbmRleGVzIHdpdGhpbiBhIGNpcmNsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBpeGVsSW5kZXhBcnJheShyYWRpdXMpIHtcbiAgICBpZiAoY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdO1xuICAgIH1cbiAgICB2YXIgc2l6ZSA9IHJhZGl1cyAqIDIgKyAxO1xuICAgIHZhciBtYXhEaXN0YW5jZVNxID0gcmFkaXVzICogcmFkaXVzO1xuICAgIHZhciBkaXN0YW5jZXMgPSBuZXcgQXJyYXkobWF4RGlzdGFuY2VTcSArIDEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHJhZGl1czsgKytpKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDw9IHJhZGl1czsgKytqKSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2VTcSA9IGkgKiBpICsgaiAqIGo7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2VTcSA+IG1heERpc3RhbmNlU3EpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IGRpc3RhbmNlc1tkaXN0YW5jZVNxXTtcbiAgICAgICAgICAgIGlmICghZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IFtdO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlc1tkaXN0YW5jZVNxXSA9IGRpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyArIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzIC0gaSkgKiBzaXplICsgKHJhZGl1cyArIGopKSAqIDQgKyAzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgKyBpKSAqIHNpemUgKyAocmFkaXVzIC0gaikpICogNCArIDMpO1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzIC0gaSkgKiBzaXplICsgKHJhZGl1cyAtIGopKSAqIDQgKyAzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBpeGVsSW5kZXggPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkaXN0YW5jZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoZGlzdGFuY2VzW2ldKSB7XG4gICAgICAgICAgICBwaXhlbEluZGV4LnB1c2guYXBwbHkocGl4ZWxJbmRleCwgZGlzdGFuY2VzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdID0gcGl4ZWxJbmRleDtcbiAgICByZXR1cm4gcGl4ZWxJbmRleDtcbn1cbmV4cG9ydCBkZWZhdWx0IEV4ZWN1dG9yR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeGVjdXRvckdyb3VwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZVxuICovXG4vLyBGSVhNRSB0ZXN0LCBlc3BlY2lhbGx5IHBvbHlnb25zIHdpdGggaG9sZXMgYW5kIG11bHRpcG9seWdvbnNcbi8vIEZJWE1FIG5lZWQgdG8gaGFuZGxlIGxhcmdlIHRoaWNrIGZlYXR1cmVzICh3aGVyZSBwaXhlbCBzaXplIG1hdHRlcnMpXG4vLyBGSVhNRSBhZGQgb2Zmc2V0IGFuZCBlbmQgdG8gb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybX50cmFuc2Zvcm0yRD9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uLy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHsgYXNDb2xvckxpa2UgfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHsgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0Rm9udCwgZGVmYXVsdExpbmVDYXAsIGRlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0LCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRMaW5lV2lkdGgsIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0U3Ryb2tlU3R5bGUsIGRlZmF1bHRUZXh0QWxpZ24sIGRlZmF1bHRUZXh0QmFzZWxpbmUsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGludGVyc2VjdHMgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtMkQgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybUdlb20yRCB9IGZyb20gJy4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbmNyZXRlIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL1ZlY3RvckNvbnRleHQgVmVjdG9yQ29udGV4dH0gdGhhdCBpbXBsZW1lbnRzXG4gKiBkaXJlY3QgcmVuZGVyaW5nIG9mIGZlYXR1cmVzIGFuZCBnZW9tZXRyaWVzIHRvIGFuIEhUTUw1IENhbnZhcyBjb250ZXh0LlxuICogSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIGNyZWF0ZWQgaW50ZXJuYWxseSBieSB0aGUgbGlicmFyeSBhbmRcbiAqIHByb3ZpZGVkIHRvIGFwcGxpY2F0aW9uIGNvZGUgYXMgdmVjdG9yQ29udGV4dCBtZW1iZXIgb2YgdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCBSZW5kZXJFdmVudH0gb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBwb3N0Y29tcG9zZSwgcHJlY29tcG9zZSBhbmRcbiAqIHJlbmRlciBldmVudHMgZW1pdHRlZCBieSBsYXllcnMgYW5kIG1hcHMuXG4gKi9cbnZhciBDYW52YXNJbW1lZGlhdGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9zcXVhcmVkVG9sZXJhbmNlXSBPcHRpb25hbCBzcXVhcmVkIHRvbGVyYW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3VzZXJUcmFuc2Zvcm1dIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIHBpeGVsUmF0aW8sIGV4dGVudCwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIG9wdF9zcXVhcmVkVG9sZXJhbmNlLCBvcHRfdXNlclRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRfID0gY29udGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudF8gPSBleHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyA9IG9wdF9zcXVhcmVkVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VyVHJhbnNmb3JtXyA9IG9wdF91c2VyVHJhbnNmb3JtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRUZXh0U3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VBbmNob3JYXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VBbmNob3JZXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VIZWlnaHRfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZU9wYWNpdHlfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZU9yaWdpblhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZU9yaWdpbllfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVJvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VTY2FsZV8gPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VXaWR0aF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dE9mZnNldFhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0T2Zmc2V0WV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFJvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFNjYWxlXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxDb29yZGluYXRlc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wTG9jYWxUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3SW1hZ2VzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0aGlzLnRyYW5zZm9ybV8sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBsb2NhbFRyYW5zZm9ybSA9IHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fO1xuICAgICAgICB2YXIgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgICAgICBpZiAodGhpcy5pbWFnZU9wYWNpdHlfICE9IDEpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYSAqIHRoaXMuaW1hZ2VPcGFjaXR5XztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLmltYWdlUm90YXRpb25fO1xuICAgICAgICBpZiAodGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3Xykge1xuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSBwaXhlbENvb3JkaW5hdGVzW2ldIC0gdGhpcy5pbWFnZUFuY2hvclhfO1xuICAgICAgICAgICAgdmFyIHkgPSBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSAtIHRoaXMuaW1hZ2VBbmNob3JZXztcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV9bMV0gIT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXJYID0geCArIHRoaXMuaW1hZ2VBbmNob3JYXztcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyWSA9IHkgKyB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICAgICAgICAgICAgY29tcG9zZVRyYW5zZm9ybShsb2NhbFRyYW5zZm9ybSwgY2VudGVyWCwgY2VudGVyWSwgMSwgMSwgcm90YXRpb24sIC1jZW50ZXJYLCAtY2VudGVyWSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5pbWFnZVNjYWxlX1swXSwgdGhpcy5pbWFnZVNjYWxlX1sxXSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaW1hZ2VPcmlnaW5YXywgdGhpcy5pbWFnZU9yaWdpbllfLCB0aGlzLmltYWdlV2lkdGhfLCB0aGlzLmltYWdlSGVpZ2h0XywgLXRoaXMuaW1hZ2VBbmNob3JYXywgLXRoaXMuaW1hZ2VBbmNob3JZXywgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaW1hZ2VPcmlnaW5YXywgdGhpcy5pbWFnZU9yaWdpbllfLCB0aGlzLmltYWdlV2lkdGhfLCB0aGlzLmltYWdlSGVpZ2h0XywgeCwgeSwgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmltYWdlT3BhY2l0eV8gIT0gMSkge1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdUZXh0XyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRleHRTdGF0ZV8gfHwgdGhpcy50ZXh0XyA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLnRleHRGaWxsU3RhdGVfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0U3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy50ZXh0U3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldENvbnRleHRUZXh0U3RhdGVfKHRoaXMudGV4dFN0YXRlXyk7XG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0aGlzLnRyYW5zZm9ybV8sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMudGV4dFJvdGF0aW9uXztcbiAgICAgICAgaWYgKHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3Xykge1xuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGl4ZWxDb29yZGluYXRlc1tvZmZzZXRdICsgdGhpcy50ZXh0T2Zmc2V0WF87XG4gICAgICAgICAgICB2YXIgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gKyB0aGlzLnRleHRPZmZzZXRZXztcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCB8fFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFNjYWxlX1swXSAhPSAxIHx8XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0U2NhbGVfWzFdICE9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxUcmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fLCB4LCB5LCAxLCAxLCByb3RhdGlvbiwgLXgsIC15KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBsb2NhbFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnRleHRTY2FsZV9bMF0sIHRoaXMudGV4dFNjYWxlX1sxXSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0XywgMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgQ2xvc2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLm1vdmVUb0xpbmVUb18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0aGlzLnRyYW5zZm9ybV8sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwaXhlbENvb3JkaW5hdGVzWzBdLCBwaXhlbENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGxlbmd0aCAtPSAyO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBpeGVsQ29vcmRpbmF0ZXNbaV0sIHBpeGVsQ29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd1JpbmdzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBjaXJjbGUgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgICAqIHRoZSBjdXJyZW50IGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXyB8fCB0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybUdlb20yRChnZW9tZXRyeSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgICAgIHZhciBkeCA9IHBpeGVsQ29vcmRpbmF0ZXNbMl0gLSBwaXhlbENvb3JkaW5hdGVzWzBdO1xuICAgICAgICAgICAgdmFyIGR5ID0gcGl4ZWxDb29yZGluYXRlc1szXSAtIHBpeGVsQ29vcmRpbmF0ZXNbMV07XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhwaXhlbENvb3JkaW5hdGVzWzBdLCBwaXhlbENvb3JkaW5hdGVzWzFdLCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhnZW9tZXRyeS5nZXRDZW50ZXIoKSwgMCwgMiwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLiAgTm90ZSB0aGF0IHNpbmNlIHRoaXMgaXMgYW4gaW1tZWRpYXRlIHJlbmRlcmluZyBBUEksXG4gICAgICogYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZCBzdHlsZSB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZShzdHlsZS5nZXRGaWxsKCksIHN0eWxlLmdldFN0cm9rZSgpKTtcbiAgICAgICAgdGhpcy5zZXRJbWFnZVN0eWxlKHN0eWxlLmdldEltYWdlKCkpO1xuICAgICAgICB0aGlzLnNldFRleHRTdHlsZShzdHlsZS5nZXRUZXh0KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtXyA9IHRyYW5zZm9ybTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIENhbGxcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlfkNhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyI3NldFN0eWxlIHJlbmRlcmVyLnNldFN0eWxlKCl9IGZpcnN0IHRvIHNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0dlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIHZhciB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1BvaW50KFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xpbmVTdHJpbmcoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1BvbHlnb24oXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVDpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNdWx0aVBvaW50KFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TXVsdGlMaW5lU3RyaW5nKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd011bHRpUG9seWdvbihcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdHZW9tZXRyeUNvbGxlY3Rpb24oXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkNJUkNMRTpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaXJjbGUoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGZlYXR1cmUgaW50byB0aGUgY2FudmFzLiAgTm90ZSB0aGF0IGFueSBgekluZGV4YCBvbiB0aGUgcHJvdmlkZWRcbiAgICAgKiBzdHlsZSB3aWxsIGJlIGlnbm9yZWQgLSBmZWF0dXJlcyBhcmUgcmVuZGVyZWQgaW1tZWRpYXRlbHkgaW4gdGhlIG9yZGVyIHRoYXRcbiAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQuICBJZiB5b3UgbmVlZCBgekluZGV4YCBzdXBwb3J0LCB5b3Ugc2hvdWxkIGJlIHVzaW5nIGFuXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9sYXllci9WZWN0b3J+VmVjdG9yTGF5ZXIgVmVjdG9yTGF5ZXJ9IGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3RmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlLCBzdHlsZSkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBzdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gICAgICAgIGlmICghZ2VvbWV0cnkgfHwgIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0eWxlKHN0eWxlKTtcbiAgICAgICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgR2VvbWV0cnlDb2xsZWN0aW9uIHRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGVzIGFwcHJvcHJpYXRlIGZvciBlYWNoIGdlb21ldHJ5IGluIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeSBjb2xsZWN0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIHZhciBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cmllc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIFBvaW50IGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdQb2ludCA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBNdWx0aVBvaW50IGdlb21ldHJ5ICBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd011bHRpUG9pbnQgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBMaW5lU3RyaW5nIGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvTGluZVRvXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIGdlb21ldHJ5LmdldFN0cmlkZSgpLCBmYWxzZSk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdmFyIGZsYXRNaWRwb2ludCA9IGdlb21ldHJ5LmdldEZsYXRNaWRwb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50LCAwLCAyLCAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGVcbiAgICAgKiBhbmQgdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IE11bHRpTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd011bHRpTGluZVN0cmluZyA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPVxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9tZXRyeUV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeUV4dGVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKTtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLm1vdmVUb0xpbmVUb18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbaV0sIHN0cmlkZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0TWlkcG9pbnRzID0gZ2VvbWV0cnkuZ2V0RmxhdE1pZHBvaW50cygpO1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50cywgMCwgZmxhdE1pZHBvaW50cy5sZW5ndGgsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfIHx8IHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3UmluZ3NfKGdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKSwgZ2VvbWV0cnkuZ2V0U3RyaWRlKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0SW50ZXJpb3JQb2ludCA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0SW50ZXJpb3JQb2ludCwgMCwgMiwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBNdWx0aVBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2x5Z29uID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXyB8fCB0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3UmluZ3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0SW50ZXJpb3JQb2ludHMgPSBnZW9tZXRyeS5nZXRGbGF0SW50ZXJpb3JQb2ludHMoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRJbnRlcmlvclBvaW50cywgMCwgZmxhdEludGVyaW9yUG9pbnRzLmxlbmd0aCwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gZmlsbFN0YXRlIEZpbGwgc3RhdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0Q29udGV4dEZpbGxTdGF0ZV8gPSBmdW5jdGlvbiAoZmlsbFN0YXRlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgdmFyIGNvbnRleHRGaWxsU3RhdGUgPSB0aGlzLmNvbnRleHRGaWxsU3RhdGVfO1xuICAgICAgICBpZiAoIWNvbnRleHRGaWxsU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBmaWxsU3RhdGUuZmlsbFN0eWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0RmlsbFN0YXRlLmZpbGxTdHlsZSAhPSBmaWxsU3RhdGUuZmlsbFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9IHN0cm9rZVN0YXRlIFN0cm9rZSBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfID0gZnVuY3Rpb24gKHN0cm9rZVN0YXRlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgdmFyIGNvbnRleHRTdHJva2VTdGF0ZSA9IHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgaWYgKCFjb250ZXh0U3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3RhdGUubGluZURhc2gpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdGF0ZS5saW5lSm9pbjtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZUNhcCAhPSBzdHJva2VTdGF0ZS5saW5lQ2FwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGlmICghZXF1YWxzKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaCwgc3Ryb2tlU3RhdGUubGluZURhc2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgIT0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luICE9IHN0cm9rZVN0YXRlLmxpbmVKb2luKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0cm9rZVN0YXRlLmxpbmVKb2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lV2lkdGggIT0gc3Ryb2tlU3RhdGUubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCAhPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLm1pdGVyTGltaXQgPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlICE9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9IHRleHRTdGF0ZSBUZXh0IHN0YXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldENvbnRleHRUZXh0U3RhdGVfID0gZnVuY3Rpb24gKHRleHRTdGF0ZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBjb250ZXh0VGV4dFN0YXRlID0gdGhpcy5jb250ZXh0VGV4dFN0YXRlXztcbiAgICAgICAgdmFyIHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ25cbiAgICAgICAgICAgID8gdGV4dFN0YXRlLnRleHRBbGlnblxuICAgICAgICAgICAgOiBkZWZhdWx0VGV4dEFsaWduO1xuICAgICAgICBpZiAoIWNvbnRleHRUZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAvKiogQHR5cGUge0NhbnZhc1RleHRBbGlnbn0gKi8gKHRleHRBbGlnbik7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEJhc2VsaW5lfSAqLyAodGV4dFN0YXRlLnRleHRCYXNlbGluZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRUZXh0U3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dEFsaWduLFxuICAgICAgICAgICAgICAgIHRleHRCYXNlbGluZTogdGV4dFN0YXRlLnRleHRCYXNlbGluZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS5mb250ICE9IHRleHRTdGF0ZS5mb250KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFRleHRTdGF0ZS5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QWxpZ24gIT0gdGV4dEFsaWduKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFRleHRTdGF0ZS50ZXh0QWxpZ24gPSAvKiogQHR5cGUge0NhbnZhc1RleHRBbGlnbn0gKi8gKHRleHRBbGlnbik7XG4gICAgICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAvKiogQHR5cGUge0NhbnZhc1RleHRBbGlnbn0gKi8gKHRleHRBbGlnbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgIT0gdGV4dFN0YXRlLnRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEJhc2VsaW5lfSAqLyAodGV4dFN0YXRlLnRleHRCYXNlbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFRvIGNsZWFyXG4gICAgICogZWl0aGVyIGZpbGwgb3Igc3Ryb2tlIHN0eWxlcywgcGFzcyBudWxsIGZvciB0aGUgYXBwcm9wcmlhdGUgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFmaWxsU3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IGFzQ29sb3JMaWtlKGZpbGxTdHlsZUNvbG9yID8gZmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlQ29sb3IgPSBzdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUNhcCA9IHN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVKb2luID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZVdpZHRoID0gc3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZU1pdGVyTGltaXQgPSBzdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICB2YXIgbGluZURhc2ggPSBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUNhcFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lQ2FwLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoOiB0aGlzLnBpeGVsUmF0aW9fID09PSAxXG4gICAgICAgICAgICAgICAgICAgID8gbGluZURhc2hcbiAgICAgICAgICAgICAgICAgICAgOiBsaW5lRGFzaC5tYXAoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gKiBfdGhpcy5waXhlbFJhdGlvXzsgfSksXG4gICAgICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IChzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCkgKiB0aGlzLnBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgIGxpbmVKb2luOiBzdHJva2VTdHlsZUxpbmVKb2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogKHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZVdpZHRoKSAqIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgICAgICAgICAgbWl0ZXJMaW1pdDogc3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2Uoc3Ryb2tlU3R5bGVDb2xvciA/IHN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBpbWFnZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBQYXNzIG51bGwgdG8gcmVtb3ZlXG4gICAgICogdGhlIGltYWdlIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRJbWFnZVN0eWxlID0gZnVuY3Rpb24gKGltYWdlU3R5bGUpIHtcbiAgICAgICAgdmFyIGltYWdlU2l6ZTtcbiAgICAgICAgaWYgKCFpbWFnZVN0eWxlIHx8ICEoaW1hZ2VTaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCkpKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltYWdlQW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICAgICAgdmFyIGltYWdlT3JpZ2luID0gaW1hZ2VTdHlsZS5nZXRPcmlnaW4oKTtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpb18pO1xuICAgICAgICB0aGlzLmltYWdlQW5jaG9yWF8gPSBpbWFnZUFuY2hvclswXSAqIHRoaXMucGl4ZWxSYXRpb187XG4gICAgICAgIHRoaXMuaW1hZ2VBbmNob3JZXyA9IGltYWdlQW5jaG9yWzFdICogdGhpcy5waXhlbFJhdGlvXztcbiAgICAgICAgdGhpcy5pbWFnZUhlaWdodF8gPSBpbWFnZVNpemVbMV0gKiB0aGlzLnBpeGVsUmF0aW9fO1xuICAgICAgICB0aGlzLmltYWdlT3BhY2l0eV8gPSBpbWFnZVN0eWxlLmdldE9wYWNpdHkoKTtcbiAgICAgICAgdGhpcy5pbWFnZU9yaWdpblhfID0gaW1hZ2VPcmlnaW5bMF07XG4gICAgICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IGltYWdlT3JpZ2luWzFdO1xuICAgICAgICB0aGlzLmltYWdlUm90YXRlV2l0aFZpZXdfID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgICB0aGlzLmltYWdlUm90YXRpb25fID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgICB0aGlzLmltYWdlU2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8gPSBpbWFnZVNpemVbMF0gKiB0aGlzLnBpeGVsUmF0aW9fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0IHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFBhc3MgbnVsbCB0b1xuICAgICAqIHJlbW92ZSB0aGUgdGV4dCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0VGV4dFN0eWxlID0gZnVuY3Rpb24gKHRleHRTdHlsZSkge1xuICAgICAgICBpZiAoIXRleHRTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0XyA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRleHRGaWxsU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0RmlsbFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dEZpbGxTdHlsZUNvbG9yID0gdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogYXNDb2xvckxpa2UodGV4dEZpbGxTdHlsZUNvbG9yID8gdGV4dEZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICAgICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlQ29sb3IgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlTGluZUNhcCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVKb2luID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZVdpZHRoID0gdGV4dFN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGluZUNhcDogdGV4dFN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVDYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoOiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2gsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVKb2luOiB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZVdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRNaXRlckxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2UodGV4dFN0cm9rZVN0eWxlQ29sb3IgPyB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0Rm9udCA9IHRleHRTdHlsZS5nZXRGb250KCk7XG4gICAgICAgICAgICB2YXIgdGV4dE9mZnNldFggPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WCgpO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRlV2l0aFZpZXcgPSB0ZXh0U3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRpb24gPSB0ZXh0U3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgIHZhciB0ZXh0U2NhbGUgPSB0ZXh0U3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICAgICAgdmFyIHRleHRUZXh0ID0gdGV4dFN0eWxlLmdldFRleHQoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0VGV4dEFsaWduID0gdGV4dFN0eWxlLmdldFRleHRBbGlnbigpO1xuICAgICAgICAgICAgdmFyIHRleHRUZXh0QmFzZWxpbmUgPSB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCk7XG4gICAgICAgICAgICB0aGlzLnRleHRTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgZm9udDogdGV4dEZvbnQgIT09IHVuZGVmaW5lZCA/IHRleHRGb250IDogZGVmYXVsdEZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0ZXh0VGV4dEFsaWduICE9PSB1bmRlZmluZWQgPyB0ZXh0VGV4dEFsaWduIDogZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAgICAgICAgICB0ZXh0QmFzZWxpbmU6IHRleHRUZXh0QmFzZWxpbmUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHRleHRUZXh0QmFzZWxpbmVcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSB0ZXh0VGV4dCAhPT0gdW5kZWZpbmVkID8gdGV4dFRleHQgOiAnJztcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFhfID1cbiAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gdGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRYIDogMDtcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFlfID1cbiAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0WSAhPT0gdW5kZWZpbmVkID8gdGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRZIDogMDtcbiAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9XG4gICAgICAgICAgICAgICAgdGV4dFJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyB0ZXh0Um90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyA9IHRleHRSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0aW9uIDogMDtcbiAgICAgICAgICAgIHRoaXMudGV4dFNjYWxlXyA9IFtcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzBdLFxuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0U2NhbGVbMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXI7XG59KFZlY3RvckNvbnRleHQpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1tZWRpYXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uQW5jaG9yVW5pdHNcbiAqL1xuLyoqXG4gKiBJY29uIGFuY2hvciB1bml0cy4gT25lIG9mICdmcmFjdGlvbicsICdwaXhlbHMnLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIEFuY2hvciBpcyBhIGZyYWN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZSQUNUSU9OOiAnZnJhY3Rpb24nLFxuICAgIC8qKlxuICAgICAqIEFuY2hvciBpcyBpbiBwaXhlbHNcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUElYRUxTOiAncGl4ZWxzJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uQW5jaG9yVW5pdHMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ljb25PcmlnaW5cbiAqL1xuLyoqXG4gKiBJY29uIG9yaWdpbi4gT25lIG9mICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnLCAndG9wLWxlZnQnLCAndG9wLXJpZ2h0Jy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBPcmlnaW4gaXMgYXQgYm90dG9tIGxlZnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9UVE9NX0xFRlQ6ICdib3R0b20tbGVmdCcsXG4gICAgLyoqXG4gICAgICogT3JpZ2luIGlzIGF0IGJvdHRvbSByaWdodFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbiBpcyBhdCB0b3AgbGVmdFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUT1BfTEVGVDogJ3RvcC1sZWZ0JyxcbiAgICAvKipcbiAgICAgKiBPcmlnaW4gaXMgYXQgdG9wIHJpZ2h0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRPUF9SSUdIVDogJ3RvcC1yaWdodCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbk9yaWdpbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkltYWdlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc1N0cmluZyB9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBzaGFyZWQgYXMgaWNvbkltYWdlQ2FjaGUgfSBmcm9tICcuL0ljb25JbWFnZUNhY2hlLmpzJztcbmltcG9ydCB7IGxpc3RlbkltYWdlIH0gZnJvbSAnLi4vSW1hZ2UuanMnO1xuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG52YXIgdGFpbnRlZFRlc3RDb250ZXh0ID0gbnVsbDtcbnZhciBJY29uSW1hZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEljb25JbWFnZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gc3JjIFNyYy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0YXRlIEltYWdlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEljb25JbWFnZShpbWFnZSwgc3JjLCBzaXplLCBjcm9zc09yaWdpbiwgaW1hZ2VTdGF0ZSwgY29sb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gIWltYWdlID8gbmV3IEltYWdlKCkgOiBpbWFnZTtcbiAgICAgICAgaWYgKGNyb3NzT3JpZ2luICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovIChfdGhpcy5pbWFnZV8pLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVN0YXRlXyA9IGltYWdlU3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZV8gPSBzaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcmNfID0gc3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhaW50ZWRfO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIGNhbnZhcyBpcyB0YWludGVkLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuaXNUYWludGVkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGFpbnRlZF8gPT09IHVuZGVmaW5lZCAmJiB0aGlzLmltYWdlU3RhdGVfID09PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgaWYgKCF0YWludGVkVGVzdENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0YWludGVkVGVzdENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWludGVkVGVzdENvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCAwLCAwKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhaW50ZWRfID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50YWludGVkXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGFpbnRlZF8gPT09IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZGlzcGF0Y2hDaGFuZ2VFdmVudF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUVycm9yXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuRVJST1I7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZUV2ZW50XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLndpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLmhlaWdodCA9IHRoaXMuc2l6ZV9bMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpemVfID0gW3RoaXMuaW1hZ2VfLndpZHRoLCB0aGlzLmltYWdlXy5oZWlnaHRdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZUV2ZW50XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHRoaXMucmVwbGFjZUNvbG9yXyhwaXhlbFJhdGlvKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA/IHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA6IHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBJbWFnZSBvciBDYW52YXMgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPyBwaXhlbFJhdGlvIDogMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZVN0YXRlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkltYWdlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUYWludGVkXygpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5zaXplX1sxXTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IHRoaXMuaW1hZ2VfO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkltYWdlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IEltYWdlIHNyYy5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmdldFNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VTdGF0ZV8gPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5MT0FESU5HO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovICh0aGlzLmltYWdlXykuc3JjID0gdGhpcy5zcmNfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUltYWdlRXJyb3JfKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLnJlcGxhY2VDb2xvcl8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICBpZiAoIXRoaXMuY29sb3JfIHx8XG4gICAgICAgICAgICB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gfHxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VTdGF0ZV8gIT09IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPSBjYW52YXM7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLmltYWdlXy53aWR0aCAqIHBpeGVsUmF0aW8pO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuaW1hZ2VfLmhlaWdodCAqIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuICAgICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlciAxMSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBtdWx0aXBseSBvcGVyYXRpb24uXG4gICAgICAgIC8vIElmIHRoZSBjYW52YXMgaXMgdGFpbnRlZCBpbiBJbnRlcm5ldCBFeHBsb3JlciB0aGlzIHN0aWxsIHByb2R1Y2VzXG4gICAgICAgIC8vIGEgc29saWQgY29sb3IgaW1hZ2Ugd2l0aCB0aGUgc2hhcGUgb2YgdGhlIGljb24uXG4gICAgICAgIGlmIChjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID09PSAnbXVsdGlwbHknIHx8IHRoaXMuaXNUYWludGVkXygpKSB7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5jb2xvcl8pO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCAvIHBpeGVsUmF0aW8sIGNhbnZhcy5oZWlnaHQgLyBwaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW1nRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gaW1nRGF0YS5kYXRhO1xuICAgICAgICAgICAgdmFyIHIgPSB0aGlzLmNvbG9yX1swXSAvIDI1NS4wO1xuICAgICAgICAgICAgdmFyIGcgPSB0aGlzLmNvbG9yX1sxXSAvIDI1NS4wO1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLmNvbG9yX1syXSAvIDI1NS4wO1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmNvbG9yX1szXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRhdGEubGVuZ3RoOyBpIDwgaWk7IGkgKz0gNCkge1xuICAgICAgICAgICAgICAgIGRhdGFbaV0gKj0gcjtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAxXSAqPSBnO1xuICAgICAgICAgICAgICAgIGRhdGFbaSArIDJdICo9IGI7XG4gICAgICAgICAgICAgICAgZGF0YVtpICsgM10gKj0gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1nRGF0YSwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSWNvbkltYWdlO1xufShFdmVudFRhcmdldCkpO1xuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gaW1hZ2VTdGF0ZSBJbWFnZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7SWNvbkltYWdlfSBJY29uIGltYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcikge1xuICAgIHZhciBpY29uSW1hZ2UgPSBpY29uSW1hZ2VDYWNoZS5nZXQoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgIGlmICghaWNvbkltYWdlKSB7XG4gICAgICAgIGljb25JbWFnZSA9IG5ldyBJY29uSW1hZ2UoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKTtcbiAgICAgICAgaWNvbkltYWdlQ2FjaGUuc2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbkltYWdlO1xufVxuZXhwb3J0IGRlZmF1bHQgSWNvbkltYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbkltYWdlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEljb25BbmNob3JVbml0cyBmcm9tICcuL0ljb25BbmNob3JVbml0cy5qcyc7XG5pbXBvcnQgSWNvbk9yaWdpbiBmcm9tICcuL0ljb25PcmlnaW4uanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdHlsZSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGdldCBhcyBnZXRJY29uSW1hZ2UgfSBmcm9tICcuL0ljb25JbWFnZS5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbYW5jaG9yPVswLjUsIDAuNV1dIEFuY2hvci4gRGVmYXVsdCB2YWx1ZSBpcyB0aGUgaWNvbiBjZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fSBbYW5jaG9yT3JpZ2luPSd0b3AtbGVmdCddIE9yaWdpbiBvZiB0aGUgYW5jaG9yOiBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YCxcbiAqIGB0b3AtbGVmdGAgb3IgYHRvcC1yaWdodGAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9IFthbmNob3JYVW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB4IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeCB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeCB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9IFthbmNob3JZVW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB5IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeSB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeSB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfHN0cmluZ30gW2NvbG9yXSBDb2xvciB0byB0aW50IHRoZSBpY29uLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogdGhlIGljb24gd2lsbCBiZSBsZWZ0IGFzIGlzLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuIE5vdGUgdGhhdCB5b3UgbXVzdCBwcm92aWRlIGFcbiAqIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gW2ltZ10gSW1hZ2Ugb2JqZWN0IGZvciB0aGUgaWNvbi4gSWYgdGhlIGBzcmNgIG9wdGlvbiBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGVcbiAqIHByb3ZpZGVkIGltYWdlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQuIEFuZCBpbiB0aGF0IGNhc2UsIGl0IGlzIHJlcXVpcmVkXG4gKiB0byBwcm92aWRlIHRoZSBzaXplIG9mIHRoZSBpbWFnZSwgd2l0aCB0aGUgYGltZ1NpemVgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW29mZnNldD1bMCwgMF1dIE9mZnNldCwgd2hpY2gsIHRvZ2V0aGVyIHdpdGggdGhlIHNpemUgYW5kIHRoZSBvZmZzZXQgb3JpZ2luLCBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW5hbCBpY29uIGltYWdlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLDBdXSBEaXNwbGFjZW1lbnQgb2YgdGhlIGljb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fSBbb2Zmc2V0T3JpZ2luPSd0b3AtbGVmdCddIE9yaWdpbiBvZiB0aGUgb2Zmc2V0OiBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YCxcbiAqIGB0b3AtbGVmdGAgb3IgYHRvcC1yaWdodGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSBvZiB0aGUgaWNvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlPTFdIFNjYWxlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBpY29uIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIEljb24gc2l6ZSBpbiBwaXhlbC4gQ2FuIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgb2Zmc2V0YCB0byBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW4gKHNwcml0ZSkgaWNvbiBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbaW1nU2l6ZV0gSW1hZ2Ugc2l6ZSBpbiBwaXhlbHMuIE9ubHkgcmVxdWlyZWQgaWYgYGltZ2AgaXMgc2V0IGFuZCBgc3JjYCBpcyBub3QsIGFuZFxuICogZm9yIFNWRyBpbWFnZXMgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTEuIFRoZSBwcm92aWRlZCBgaW1nU2l6ZWAgbmVlZHMgdG8gbWF0Y2ggdGhlIGFjdHVhbCBzaXplIG9mIHRoZSBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc3JjXSBJbWFnZSBzb3VyY2UgVVJJLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBpY29uIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBJY29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJY29uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdF9vcHRpb25zXSBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEljb24ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgb3BhY2l0eSA9IG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcm90YXRpb24gPSBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNjYWxlID0gb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciByb3RhdGVXaXRoVmlldyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvcl8gPSBvcHRpb25zLmFuY2hvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmNob3IgOiBbMC41LCAwLjVdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uT3JpZ2luLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JPcmlnaW5fID1cbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yT3JpZ2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYW5jaG9yT3JpZ2luXG4gICAgICAgICAgICAgICAgOiBJY29uT3JpZ2luLlRPUF9MRUZUO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JYVW5pdHNfID1cbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yWFVuaXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYW5jaG9yWFVuaXRzXG4gICAgICAgICAgICAgICAgOiBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uQW5jaG9yVW5pdHMuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvcllVbml0c18gPVxuICAgICAgICAgICAgb3B0aW9ucy5hbmNob3JZVW5pdHMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5hbmNob3JZVW5pdHNcbiAgICAgICAgICAgICAgICA6IEljb25BbmNob3JVbml0cy5GUkFDVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Jvc3NPcmlnaW5fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaW1hZ2UgPSBvcHRpb25zLmltZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWcgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBpbWdTaXplID0gb3B0aW9ucy5pbWdTaXplICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltZ1NpemUgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gICAgICAgIGFzc2VydCghKHNyYyAhPT0gdW5kZWZpbmVkICYmIGltYWdlKSwgNCk7IC8vIGBpbWFnZWAgYW5kIGBzcmNgIGNhbm5vdCBiZSBwcm92aWRlZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICAgIGFzc2VydCghaW1hZ2UgfHwgKGltYWdlICYmIGltZ1NpemUpLCA1KTsgLy8gYGltZ1NpemVgIG11c3QgYmUgc2V0IHdoZW4gYGltYWdlYCBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoKHNyYyA9PT0gdW5kZWZpbmVkIHx8IHNyYy5sZW5ndGggPT09IDApICYmIGltYWdlKSB7XG4gICAgICAgICAgICBzcmMgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovIChpbWFnZSkuc3JjIHx8IGdldFVpZChpbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KHNyYyAhPT0gdW5kZWZpbmVkICYmIHNyYy5sZW5ndGggPiAwLCA2KTsgLy8gQSBkZWZpbmVkIGFuZCBub24tZW1wdHkgYHNyY2Agb3IgYGltYWdlYCBtdXN0IGJlIHByb3ZpZGVkXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGltYWdlU3RhdGUgPSBvcHRpb25zLnNyYyAhPT0gdW5kZWZpbmVkID8gSW1hZ2VTdGF0ZS5JRExFIDogSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBhc0FycmF5KG9wdGlvbnMuY29sb3IpIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWNvbkltYWdlXyA9IGdldEljb25JbWFnZShpbWFnZSwgXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc3JjKSwgaW1nU2l6ZSwgX3RoaXMuY3Jvc3NPcmlnaW5fLCBpbWFnZVN0YXRlLCBfdGhpcy5jb2xvcl8pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vZmZzZXRfID0gb3B0aW9ucy5vZmZzZXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub2Zmc2V0IDogWzAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub2Zmc2V0T3JpZ2luXyA9XG4gICAgICAgICAgICBvcHRpb25zLm9mZnNldE9yaWdpbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLm9mZnNldE9yaWdpblxuICAgICAgICAgICAgICAgIDogSWNvbk9yaWdpbi5UT1BfTEVGVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZV8gPSBvcHRpb25zLnNpemUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2l6ZSA6IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS4gVGhlIHVuZGVybHlpbmcgSW1hZ2UvSFRNTENhbnZhc0VsZW1lbnQgaXMgbm90IGNsb25lZC5cbiAgICAgKiBAcmV0dXJuIHtJY29ufSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICByZXR1cm4gbmV3IEljb24oe1xuICAgICAgICAgICAgYW5jaG9yOiB0aGlzLmFuY2hvcl8uc2xpY2UoKSxcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjogdGhpcy5hbmNob3JPcmlnaW5fLFxuICAgICAgICAgICAgYW5jaG9yWFVuaXRzOiB0aGlzLmFuY2hvclhVbml0c18sXG4gICAgICAgICAgICBhbmNob3JZVW5pdHM6IHRoaXMuYW5jaG9yWVVuaXRzXyxcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luXyxcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXyAmJiB0aGlzLmNvbG9yXy5zbGljZVxuICAgICAgICAgICAgICAgID8gdGhpcy5jb2xvcl8uc2xpY2UoKVxuICAgICAgICAgICAgICAgIDogdGhpcy5jb2xvcl8gfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3JjOiB0aGlzLmdldFNyYygpLFxuICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldF8uc2xpY2UoKSxcbiAgICAgICAgICAgIG9mZnNldE9yaWdpbjogdGhpcy5vZmZzZXRPcmlnaW5fLFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplXyAhPT0gbnVsbCA/IHRoaXMuc2l6ZV8uc2xpY2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eSgpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAgICogc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldEFuY2hvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMubm9ybWFsaXplZEFuY2hvcl87XG4gICAgICAgIGlmICghYW5jaG9yKSB7XG4gICAgICAgICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl87XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yWFVuaXRzXyA9PSBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT04gfHxcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvcllVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl8uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmNob3JYVW5pdHNfID09IEljb25BbmNob3JVbml0cy5GUkFDVElPTikge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JbMF0gKj0gc2l6ZVswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yWVVuaXRzXyA9PSBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWzFdICo9IHNpemVbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yT3JpZ2luXyAhPSBJY29uT3JpZ2luLlRPUF9MRUZUKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yID09PSB0aGlzLmFuY2hvcl8pIHtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gPT0gSWNvbk9yaWdpbi5UT1BfUklHSFQgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclswXSA9IC1hbmNob3JbMF0gKyBzaXplWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmNob3JPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX0xFRlQgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclsxXSA9IC1hbmNob3JbMV0gKyBzaXplWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBhbmNob3I7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgICAgIHJldHVybiBbYW5jaG9yWzBdIC0gZGlzcGxhY2VtZW50WzBdLCBhbmNob3JbMV0gKyBkaXNwbGFjZW1lbnRbMV1dO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgQW5jaG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5zZXRBbmNob3IgPSBmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IGFuY2hvcjtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGljb24gY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IENvbG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBpY29uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SW1hZ2UocGl4ZWxSYXRpbyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBpeGVsIHJhdGlvIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRJbWFnZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0U2l6ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEltYWdlU3RhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcmlnaW5fKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLm9mZnNldF87XG4gICAgICAgIGlmICh0aGlzLm9mZnNldE9yaWdpbl8gIT0gSWNvbk9yaWdpbi5UT1BfTEVGVCkge1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgICAgIHZhciBpY29uSW1hZ2VTaXplID0gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgICAgICAgICAgIGlmICghc2l6ZSB8fCAhaWNvbkltYWdlU2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0LnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uVE9QX1JJR0hUIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WzBdID0gaWNvbkltYWdlU2l6ZVswXSAtIHNpemVbMF0gLSBvZmZzZXRbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX0xFRlQgfHxcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldE9yaWdpbl8gPT0gSWNvbk9yaWdpbi5CT1RUT01fUklHSFQpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXRbMV0gPSBpY29uSW1hZ2VTaXplWzFdIC0gc2l6ZVsxXSAtIG9mZnNldFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9yaWdpbl8gPSBvZmZzZXQ7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIFVSTC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBJbWFnZSBzcmMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldFNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRTcmMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5zaXplXyA/IHRoaXMuaWNvbkltYWdlXy5nZXRTaXplKCkgOiB0aGlzLnNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaWNvbkltYWdlXy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIFdoZW4gcmVuZGVyaW5nIGEgZmVhdHVyZSB3aXRoIGFuIGljb24gc3R5bGUsIHRoZSB2ZWN0b3IgcmVuZGVyZXIgd2lsbFxuICAgICAqIGF1dG9tYXRpY2FsbHkgY2FsbCB0aGlzIG1ldGhvZC4gSG93ZXZlciwgeW91IG1pZ2h0IHdhbnQgdG8gY2FsbCB0aGlzXG4gICAgICogbWV0aG9kIHlvdXJzZWxmIGZvciBwcmVsb2FkaW5nIG9yIG90aGVyIHB1cnBvc2VzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmljb25JbWFnZV8ubG9hZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLnVubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5pY29uSW1hZ2VfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgbGlzdGVuZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIEljb247XG59KEltYWdlU3R5bGUpKTtcbmV4cG9ydCBkZWZhdWx0IEljb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL2hpdGRldGVjdFxuICovXG5pbXBvcnQgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgZnJvbSAnLi9JbW1lZGlhdGUuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgSWNvbkFuY2hvclVuaXRzIGZyb20gJy4uLy4uL3N0eWxlL0ljb25BbmNob3JVbml0cy5qcyc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vLi4vc3R5bGUuanMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5leHBvcnQgdmFyIEhJVF9ERVRFQ1RfUkVTT0xVVElPTiA9IDAuNTtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQ2FudmFzIHNpemUgaW4gY3NzIHBpeGVscy5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybT59IHRyYW5zZm9ybXMgVHJhbnNmb3Jtc1xuICogZm9yIHJlbmRlcmluZyBmZWF0dXJlcyB0byBhbGwgd29ybGRzIG9mIHRoZSB2aWV3cG9ydCwgZnJvbSBjb29yZGluYXRlcyB0byBjc3NcbiAqIHBpeGVscy5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IGZlYXR1cmVzXG4gKiBGZWF0dXJlcyB0byBjb25zaWRlciBmb3IgaGl0IGRldGVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9IHN0eWxlRnVuY3Rpb25cbiAqIExheWVyIHN0eWxlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge0ltYWdlRGF0YX0gSGl0IGRldGVjdGlvbiBpbWFnZSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKHNpemUsIHRyYW5zZm9ybXMsIGZlYXR1cmVzLCBzdHlsZUZ1bmN0aW9uLCBleHRlbnQsIHJlc29sdXRpb24sIHJvdGF0aW9uKSB7XG4gICAgdmFyIHdpZHRoID0gc2l6ZVswXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTjtcbiAgICB2YXIgaGVpZ2h0ID0gc2l6ZVsxXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTjtcbiAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICB2YXIgcmVuZGVyZXIgPSBuZXcgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIoY29udGV4dCwgSElUX0RFVEVDVF9SRVNPTFVUSU9OLCBleHRlbnQsIG51bGwsIHJvdGF0aW9uKTtcbiAgICB2YXIgZmVhdHVyZUNvdW50ID0gZmVhdHVyZXMubGVuZ3RoO1xuICAgIC8vIFN0cmV0Y2ggaGl0IGRldGVjdGlvbiBpbmRleCB0byB1c2UgdGhlIHdob2xlIGF2YWlsYWJsZSBjb2xvciByYW5nZVxuICAgIHZhciBpbmRleEZhY3RvciA9IE1hdGguZmxvb3IoKDI1NiAqIDI1NiAqIDI1NiAtIDEpIC8gZmVhdHVyZUNvdW50KTtcbiAgICB2YXIgZmVhdHVyZXNCeVpJbmRleCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGZlYXR1cmVDb3VudDsgKytpKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gZmVhdHVyZXNbaSAtIDFdO1xuICAgICAgICB2YXIgZmVhdHVyZVN0eWxlRnVuY3Rpb24gPSBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCBzdHlsZUZ1bmN0aW9uO1xuICAgICAgICBpZiAoIXN0eWxlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZXMgPSBmZWF0dXJlU3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgICAgICBzdHlsZXMgPSBbc3R5bGVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBpICogaW5kZXhGYWN0b3I7XG4gICAgICAgIHZhciBjb2xvciA9ICcjJyArICgnMDAwMDAwJyArIGluZGV4LnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBzdHlsZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3R5bGUgPSBzdHlsZXNbal07XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBvcmlnaW5hbFN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnkgfHwgIWludGVyc2VjdHMoZXh0ZW50LCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IG9yaWdpbmFsU3R5bGUuY2xvbmUoKTtcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgICAgICBmaWxsLnNldENvbG9yKGNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHJva2UgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgICAgICBzdHJva2Uuc2V0Q29sb3IoY29sb3IpO1xuICAgICAgICAgICAgICAgIHN0cm9rZS5zZXRMaW5lRGFzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlLnNldFRleHQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG9yaWdpbmFsU3R5bGUuZ2V0SW1hZ2UoKTtcbiAgICAgICAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5nZXRPcGFjaXR5KCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nU2l6ZSA9IGltYWdlLmdldEltYWdlU2l6ZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaW1nU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGltZ0NvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoaW1nU2l6ZVswXSwgaW1nU2l6ZVsxXSwgdW5kZWZpbmVkLCB7IGFscGhhOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gaW1nQ29udGV4dC5jYW52YXM7XG4gICAgICAgICAgICAgICAgaW1nQ29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICBpbWdDb250ZXh0LmZpbGxSZWN0KDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0SW1hZ2UobmV3IEljb24oe1xuICAgICAgICAgICAgICAgICAgICBpbWc6IGltZyxcbiAgICAgICAgICAgICAgICAgICAgaW1nU2l6ZTogaW1nU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBpbWFnZS5nZXRBbmNob3IoKSxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWFVuaXRzOiBJY29uQW5jaG9yVW5pdHMuUElYRUxTLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3JZVW5pdHM6IEljb25BbmNob3JVbml0cy5QSVhFTFMsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogaW1hZ2UuZ2V0T3JpZ2luKCksXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGltYWdlLmdldFNpemUoKSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGltYWdlLmdldFNjYWxlKCksXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBpbWFnZS5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoVmlldzogaW1hZ2UuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgekluZGV4ID0gc3R5bGUuZ2V0WkluZGV4KCkgfHwgMDtcbiAgICAgICAgICAgIHZhciBieUdlb21ldHJ5VHlwZSA9IGZlYXR1cmVzQnlaSW5kZXhbekluZGV4XTtcbiAgICAgICAgICAgIGlmICghYnlHZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZSA9IHt9O1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzQnlaSW5kZXhbekluZGV4XSA9IGJ5R2VvbWV0cnlUeXBlO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5QT0xZR09OXSA9IFtdO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5DSVJDTEVdID0gW107XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGVbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSA9IFtdO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5QT0lOVF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW2dlb21ldHJ5LmdldFR5cGUoKS5yZXBsYWNlKCdNdWx0aScsICcnKV0ucHVzaChnZW9tZXRyeSwgc3R5bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB6SW5kZXhLZXlzID0gT2JqZWN0LmtleXMoZmVhdHVyZXNCeVpJbmRleClcbiAgICAgICAgLm1hcChOdW1iZXIpXG4gICAgICAgIC5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHpJbmRleEtleXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgYnlHZW9tZXRyeVR5cGUgPSBmZWF0dXJlc0J5WkluZGV4W3pJbmRleEtleXNbaV1dO1xuICAgICAgICBmb3IgKHZhciB0eXBlIGluIGJ5R2VvbWV0cnlUeXBlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbUFuZFN0eWxlID0gYnlHZW9tZXRyeVR5cGVbdHlwZV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBnZW9tQW5kU3R5bGUubGVuZ3RoOyBqIDwgamo7IGogKz0gMikge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKGdlb21BbmRTdHlsZVtqICsgMV0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IHRyYW5zZm9ybXMubGVuZ3RoOyBrIDwga2s7ICsraykge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRUcmFuc2Zvcm0odHJhbnNmb3Jtc1trXSk7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmRyYXdHZW9tZXRyeShnZW9tQW5kU3R5bGVbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwgY29vcmRpbmF0ZSBvbiB0aGUgaGl0XG4gKiBkZXRlY3Rpb24gY2FudmFzIGluIGNzcyBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmVcIikuRmVhdHVyZUxpa2U+fSBmZWF0dXJlcyBGZWF0dXJlcy4gSGFzIHRvXG4gKiBtYXRjaCB0aGUgYGZlYXR1cmVzYCBhcnJheSB0aGF0IHdhcyBwYXNzZWQgdG8gYGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSgpYC5cbiAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBpbWFnZURhdGEgSGl0IGRldGVjdGlvbiBpbWFnZSBkYXRhIGdlbmVyYXRlZCBieVxuICogYGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSgpYC5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmVcIikuRmVhdHVyZUxpa2U+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpdERldGVjdChwaXhlbCwgZmVhdHVyZXMsIGltYWdlRGF0YSkge1xuICAgIHZhciByZXN1bHRGZWF0dXJlcyA9IFtdO1xuICAgIGlmIChpbWFnZURhdGEpIHtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucm91bmQocGl4ZWxbMF0pICogSElUX0RFVEVDVF9SRVNPTFVUSU9OKTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucm91bmQocGl4ZWxbMV0pICogSElUX0RFVEVDVF9SRVNPTFVUSU9OKTtcbiAgICAgICAgLy8gVGhlIHBpeGVsIGNvb3JkaW5hdGUgaXMgY2xhbXBlZCBkb3duIHRvIHRoZSBoaXQtZGV0ZWN0IGNhbnZhcycgc2l6ZSB0byBhY2NvdW50XG4gICAgICAgIC8vIGZvciBicm93c2VycyByZXR1cm5pbmcgY29vcmRpbmF0ZXMgc2xpZ2h0bHkgbGFyZ2VyIHRoYW4gdGhlIGFjdHVhbCBjYW52YXMgc2l6ZVxuICAgICAgICAvLyBkdWUgdG8gYSBub24taW50ZWdlciBwaXhlbCByYXRpby5cbiAgICAgICAgdmFyIGluZGV4ID0gKGNsYW1wKHgsIDAsIGltYWdlRGF0YS53aWR0aCAtIDEpICtcbiAgICAgICAgICAgIGNsYW1wKHksIDAsIGltYWdlRGF0YS5oZWlnaHQgLSAxKSAqIGltYWdlRGF0YS53aWR0aCkgKlxuICAgICAgICAgICAgNDtcbiAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpbmRleF07XG4gICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAxXTtcbiAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpbmRleCArIDJdO1xuICAgICAgICB2YXIgaSA9IGIgKyAyNTYgKiAoZyArIDI1NiAqIHIpO1xuICAgICAgICB2YXIgaW5kZXhGYWN0b3IgPSBNYXRoLmZsb29yKCgyNTYgKiAyNTYgKiAyNTYgLSAxKSAvIGZlYXR1cmVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChpICYmIGkgJSBpbmRleEZhY3RvciA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0RmVhdHVyZXMucHVzaChmZWF0dXJlc1tpIC8gaW5kZXhGYWN0b3IgLSAxXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdEZlYXR1cmVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGl0ZGV0ZWN0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci92ZWN0b3JcbiAqL1xuaW1wb3J0IEJ1aWxkZXJUeXBlIGZyb20gJy4uL3JlbmRlci9jYW52YXMvQnVpbGRlclR5cGUuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aHJlZSBhcmd1bWVudHMuIFRoZSBmaXJzdFxuICogYXJndW1lbnQgaXMgb25lIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZSBmZWF0dXJlfSBvciB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlIHJlbmRlciBmZWF0dXJlfVxuICogYXQgdGhlIHBpeGVsLCB0aGUgc2Vjb25kIGlzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyIGxheWVyfSBvZiB0aGUgZmVhdHVyZSBhbmQgd2lsbCBiZSBudWxsIGZvclxuICogdW5tYW5hZ2VkIGxheWVycy4gVGhlIHRoaXJkIGlzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vU2ltcGxlR2VvbWV0cnl9IG9mIHRoZSBmZWF0dXJlLiBGb3IgZmVhdHVyZXNcbiAqIHdpdGggYSBHZW9tZXRyeUNvbGxlY3Rpb24gZ2VvbWV0cnksIGl0IHdpbGwgYmUgdGhlIGZpcnN0IGRldGVjdGVkIGdlb21ldHJ5IGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0KTogVH0gRmVhdHVyZUNhbGxiYWNrXG4gKi9cbi8qKlxuICogVG9sZXJhbmNlIGZvciBnZW9tZXRyeSBzaW1wbGlmaWNhdGlvbiBpbiBkZXZpY2UgcGl4ZWxzLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIFNJTVBMSUZZX1RPTEVSQU5DRSA9IDAuNTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlUeXBlLmpzXCIpLmRlZmF1bHQsXG4gKiAgICAgICAgICAgICAgICBmdW5jdGlvbihpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0LCBPYmplY3QpOiB2b2lkPn1cbiAqL1xudmFyIEdFT01FVFJZX1JFTkRFUkVSUyA9IHtcbiAgICAnUG9pbnQnOiByZW5kZXJQb2ludEdlb21ldHJ5LFxuICAgICdMaW5lU3RyaW5nJzogcmVuZGVyTGluZVN0cmluZ0dlb21ldHJ5LFxuICAgICdQb2x5Z29uJzogcmVuZGVyUG9seWdvbkdlb21ldHJ5LFxuICAgICdNdWx0aVBvaW50JzogcmVuZGVyTXVsdGlQb2ludEdlb21ldHJ5LFxuICAgICdNdWx0aUxpbmVTdHJpbmcnOiByZW5kZXJNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSxcbiAgICAnTXVsdGlQb2x5Z29uJzogcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnksXG4gICAgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IHJlbmRlckdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5LFxuICAgICdDaXJjbGUnOiByZW5kZXJDaXJjbGVHZW9tZXRyeSxcbn07XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZTEgRmVhdHVyZSAxLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlMiBGZWF0dXJlIDIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE9yZGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE9yZGVyKGZlYXR1cmUxLCBmZWF0dXJlMikge1xuICAgIHJldHVybiBwYXJzZUludChnZXRVaWQoZmVhdHVyZTEpLCAxMCkgLSBwYXJzZUludChnZXRVaWQoZmVhdHVyZTIpLCAxMCk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBwaXhlbCB0b2xlcmFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcXVhcmVkVG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICB2YXIgdG9sZXJhbmNlID0gZ2V0VG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICAgIHJldHVybiB0b2xlcmFuY2UgKiB0b2xlcmFuY2U7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEByZXR1cm4ge251bWJlcn0gUGl4ZWwgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gKFNJTVBMSUZZX1RPTEVSQU5DRSAqIHJlc29sdXRpb24pIC8gcGl4ZWxSYXRpbztcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgQnVpbGRlciBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIGNpcmNsZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5DSVJDTEUpO1xuICAgICAgICBjaXJjbGVSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBjaXJjbGVSZXBsYXkuZHJhd0NpcmNsZShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gVHJhbnNmb3JtIGZyb20gdXNlciB0byB2aWV3IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc3R5bGUgaXMgbG9hZGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckZlYXR1cmUocmVwbGF5R3JvdXAsIGZlYXR1cmUsIHN0eWxlLCBzcXVhcmVkVG9sZXJhbmNlLCBsaXN0ZW5lciwgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBsb2FkaW5nID0gZmFsc2U7XG4gICAgdmFyIGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICAgIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCk7XG4gICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEIHx8IGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZS51bmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIGltYWdlU3R5bGUubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpO1xuICAgICAgICAgICAgaW1hZ2VTdHlsZS5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcik7XG4gICAgICAgICAgICBsb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJGZWF0dXJlSW50ZXJuYWwocmVwbGF5R3JvdXAsIGZlYXR1cmUsIHN0eWxlLCBzcXVhcmVkVG9sZXJhbmNlLCBvcHRfdHJhbnNmb3JtLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICByZXR1cm4gbG9hZGluZztcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW29wdF90cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRmVhdHVyZUludGVybmFsKHJlcGxheUdyb3VwLCBmZWF0dXJlLCBzdHlsZSwgc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNpbXBsaWZpZWRHZW9tZXRyeSA9IGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSk7XG4gICAgdmFyIHJlbmRlcmVyID0gc3R5bGUuZ2V0UmVuZGVyZXIoKTtcbiAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIHNpbXBsaWZpZWRHZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5UmVuZGVyZXIgPSBHRU9NRVRSWV9SRU5ERVJFUlNbc2ltcGxpZmllZEdlb21ldHJ5LmdldFR5cGUoKV07XG4gICAgICAgIGdlb21ldHJ5UmVuZGVyZXIocmVwbGF5R3JvdXAsIHNpbXBsaWZpZWRHZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICAgIGlmIChnZW9tZXRyeS5nZXRUeXBlKCkgPT0gR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT04pIHtcbiAgICAgICAgdmFyIGdlb21ldHJpZXMgPSBcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEdlb21ldHJpZXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICByZW5kZXJHZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cmllc1tpXSwgc3R5bGUsIGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJlcGxheSA9IHJlcGxheUdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLkRFRkFVTFQpO1xuICAgIHJlcGxheS5kcmF3Q3VzdG9tKFxuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLCBmZWF0dXJlLCBzdHlsZS5nZXRSZW5kZXJlcigpLCBzdHlsZS5nZXRIaXREZXRlY3Rpb25SZW5kZXJlcigpKTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgIHZhciBpLCBpaTtcbiAgICBmb3IgKGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZ2VvbWV0cnlSZW5kZXJlciA9IEdFT01FVFJZX1JFTkRFUkVSU1tnZW9tZXRyaWVzW2ldLmdldFR5cGUoKV07XG4gICAgICAgIGdlb21ldHJ5UmVuZGVyZXIocmVwbGF5R3JvdXAsIGdlb21ldHJpZXNbaV0sIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckxpbmVTdHJpbmdHZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChzdHJva2VTdHlsZSkge1xuICAgICAgICB2YXIgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5MSU5FX1NUUklORyk7XG4gICAgICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgbGluZVN0cmluZ1JlcGxheS5kcmF3TGluZVN0cmluZyhnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBsaW5lU3RyaW5nUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLkxJTkVfU1RSSU5HKTtcbiAgICAgICAgbGluZVN0cmluZ1JlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUobnVsbCwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdNdWx0aUxpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aVBvbHlnb25HZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgaWYgKHN0cm9rZVN0eWxlIHx8IGZpbGxTdHlsZSkge1xuICAgICAgICB2YXIgcG9seWdvblJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5QT0xZR09OKTtcbiAgICAgICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgICAgIHBvbHlnb25SZXBsYXkuZHJhd011bHRpUG9seWdvbihnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUG9pbnRHZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICAgIHZhciBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0O1xuICAgIGlmIChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICAgIGJ1aWxkZXJHcm91cCA9IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPVxuICAgICAgICAgICAgaW1hZ2VTdHlsZSAmJiB0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSA/IHt9IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaW1hZ2VTdHlsZSkge1xuICAgICAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW1hZ2VSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuSU1BR0UpO1xuICAgICAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICBpbWFnZVJlcGxheS5kcmF3UG9pbnQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW29wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTXVsdGlQb2ludEdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9ICovXG4gICAgdmFyIGRlY2x1dHRlckltYWdlV2l0aFRleHQ7XG4gICAgaWYgKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgICAgYnVpbGRlckdyb3VwID0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9XG4gICAgICAgICAgICBpbWFnZVN0eWxlICYmIHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpID8ge30gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIGlmIChpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKSAhPSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWFnZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5JTUFHRSk7XG4gICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgIGltYWdlUmVwbGF5LmRyYXdNdWx0aVBvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJQb2x5Z29uR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIHBvbHlnb25SZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuUE9MWUdPTik7XG4gICAgICAgIHBvbHlnb25SZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBwb2x5Z29uUmVwbGF5LmRyYXdQb2x5Z29uKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXJHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qcyc7XG5pbXBvcnQgQ2FudmFzTGF5ZXJSZW5kZXJlciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBFeGVjdXRvckdyb3VwIGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cC5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHsgSElUX0RFVEVDVF9SRVNPTFVUSU9OLCBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEsIGhpdERldGVjdCwgfSBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL2hpdGRldGVjdC5qcyc7XG5pbXBvcnQgeyBhcHBseSwgbWFrZUludmVyc2UsIG1ha2VTY2FsZSwgdG9TdHJpbmcgYXMgdHJhbnNmb3JtVG9TdHJpbmcsIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGJ1ZmZlciwgY29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBnZXRXaWR0aCwgaW50ZXJzZWN0cyBhcyBpbnRlcnNlY3RzRXh0ZW50LCB3cmFwWCBhcyB3cmFwRXh0ZW50WCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3NzT3BhY2l0eSB9IGZyb20gJy4uLy4uL2Nzcy5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0T3JkZXIgYXMgZGVmYXVsdFJlbmRlck9yZGVyLCBnZXRUb2xlcmFuY2UgYXMgZ2V0UmVuZGVyVG9sZXJhbmNlLCBnZXRTcXVhcmVkVG9sZXJhbmNlIGFzIGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UsIHJlbmRlckZlYXR1cmUsIH0gZnJvbSAnLi4vdmVjdG9yLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGZyb21Vc2VyRXh0ZW50LCBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMsIGdldFVzZXJQcm9qZWN0aW9uLCB0b1VzZXJFeHRlbnQsIHRvVXNlclJlc29sdXRpb24sIH0gZnJvbSAnLi4vLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7IHdyYXBYIGFzIHdyYXBDb29yZGluYXRlWCB9IGZyb20gJy4uLy4uL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgcmVuZGVyZXIgZm9yIHZlY3RvciBsYXllcnMuXG4gKiBAYXBpXG4gKi9cbnZhciBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0fSB2ZWN0b3JMYXllciBWZWN0b3IgbGF5ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcih2ZWN0b3JMYXllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB2ZWN0b3JMYXllcikgfHwgdGhpcztcbiAgICAgICAgLyoqIEBwcml2YXRlICovXG4gICAgICAgIF90aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8gPSBfdGhpcy5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXy5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ187XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5XyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0ltYWdlRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEZlYXR1cmVzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXZpc2lvbl8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fID0gTmFOO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwcGVkUmVuZGVyZWRFeHRlbnRfID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJvdGF0aW9uXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZENlbnRlcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvblwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRQcm9qZWN0aW9uXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBudW1iZXJ8bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUmVuZGVyT3JkZXJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcGxheUdyb3VwXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG5ldyByZXBsYXkgZ3JvdXAgaGFkIHRvIGJlIGNyZWF0ZWQgYnkgYHByZXBhcmVGcmFtZSgpYFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcGxheUdyb3VwQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsaXBwaW5nIHRvIGJlIHBlcmZvcm1lZCBieSBgcmVuZGVyRnJhbWUoKWBcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGlwcGluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFeGVjdXRvckdyb3VwfSBleGVjdXRvckdyb3VwIEV4ZWN1dG9yIGdyb3VwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCJyYnVzaFwiKS5kZWZhdWx0fSBbb3B0X2RlY2x1dHRlclRyZWVdIERlY2x1dHRlciB0cmVlLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlcldvcmxkcyA9IGZ1bmN0aW9uIChleGVjdXRvckdyb3VwLCBmcmFtZVN0YXRlLCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gZnJhbWVTdGF0ZS5leHRlbnQ7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICB2YXIgdmVjdG9yU291cmNlID0gdGhpcy5nZXRMYXllcigpLmdldFNvdXJjZSgpO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgICB2YXIgc25hcFRvUGl4ZWwgPSAhKHZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IHZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBtdWx0aVdvcmxkID0gdmVjdG9yU291cmNlLmdldFdyYXBYKCkgJiYgcHJvamVjdGlvbi5jYW5XcmFwWCgpO1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IG11bHRpV29ybGQgPyBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KSA6IG51bGw7XG4gICAgICAgIHZhciBlbmRXb3JsZCA9IG11bHRpV29ybGRcbiAgICAgICAgICAgID8gTWF0aC5jZWlsKChleHRlbnRbMl0gLSBwcm9qZWN0aW9uRXh0ZW50WzJdKSAvIHdvcmxkV2lkdGgpICsgMVxuICAgICAgICAgICAgOiAxO1xuICAgICAgICB2YXIgd29ybGQgPSBtdWx0aVdvcmxkXG4gICAgICAgICAgICA/IE1hdGguZmxvb3IoKGV4dGVudFswXSAtIHByb2plY3Rpb25FeHRlbnRbMF0pIC8gd29ybGRXaWR0aClcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHBpeGVsUmF0aW8sIHdpZHRoLCBoZWlnaHQsIHdvcmxkICogd29ybGRXaWR0aCk7XG4gICAgICAgICAgICBleGVjdXRvckdyb3VwLmV4ZWN1dGUoY29udGV4dCwgMSwgdHJhbnNmb3JtLCByb3RhdGlvbiwgc25hcFRvUGl4ZWwsIHVuZGVmaW5lZCwgb3B0X2RlY2x1dHRlclRyZWUpO1xuICAgICAgICB9IHdoaWxlICgrK3dvcmxkIDwgZW5kV29ybGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGRlY2x1dHRlciBpdGVtcyBmb3IgdGhpcyBsYXllclxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRGVjbHV0dGVyID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJXb3JsZHModGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwLCBmcmFtZVN0YXRlLCBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgICAgIC8vIHNldCBmb3J3YXJkIGFuZCBpbnZlcnNlIHBpeGVsIHRyYW5zZm9ybXNcbiAgICAgICAgbWFrZVNjYWxlKHRoaXMucGl4ZWxUcmFuc2Zvcm0sIDEgLyBwaXhlbFJhdGlvLCAxIC8gcGl4ZWxSYXRpbyk7XG4gICAgICAgIG1ha2VJbnZlcnNlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCB0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdmFyIGNhbnZhc1RyYW5zZm9ybSA9IHRyYW5zZm9ybVRvU3RyaW5nKHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnVzZUNvbnRhaW5lcih0YXJnZXQsIGNhbnZhc1RyYW5zZm9ybSwgbGF5ZXJTdGF0ZS5vcGFjaXR5LCB0aGlzLmdldEJhY2tncm91bmQoZnJhbWVTdGF0ZSkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICB2YXIgcmVwbGF5R3JvdXAgPSB0aGlzLnJlcGxheUdyb3VwXztcbiAgICAgICAgdmFyIGRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSB0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXA7XG4gICAgICAgIGlmICgoIXJlcGxheUdyb3VwIHx8IHJlcGxheUdyb3VwLmlzRW1wdHkoKSkgJiZcbiAgICAgICAgICAgICghZGVjbHV0dGVyRXhlY3V0b3JHcm91cCB8fCBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwLmlzRW1wdHkoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc2l6ZSBhbmQgY2xlYXJcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGlmIChjYW52YXMuc3R5bGUudHJhbnNmb3JtICE9PSBjYW52YXNUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuc3R5bGUudHJhbnNmb3JtID0gY2FudmFzVHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgLy8gY2xpcHBlZCByZW5kZXJpbmcgaWYgbGF5ZXIgZXh0ZW50IGlzIHNldFxuICAgICAgICB2YXIgY2xpcHBlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50ICYmIHRoaXMuY2xpcHBpbmcpIHtcbiAgICAgICAgICAgIHZhciBsYXllckV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHJlbmRlciA9IGludGVyc2VjdHNFeHRlbnQobGF5ZXJFeHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KTtcbiAgICAgICAgICAgIGNsaXBwZWQgPSByZW5kZXIgJiYgIWNvbnRhaW5zRXh0ZW50KGxheWVyRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCk7XG4gICAgICAgICAgICBpZiAoY2xpcHBlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllckV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJXb3JsZHMocmVwbGF5R3JvdXAsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGlwcGVkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvc3RSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIHZhciBvcGFjaXR5ID0gY3NzT3BhY2l0eShsYXllclN0YXRlLm9wYWNpdHkpO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGlmIChvcGFjaXR5ICE9PSBjb250YWluZXIuc3R5bGUub3BhY2l0eSkge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkUm90YXRpb25fICE9PSB2aWV3U3RhdGUucm90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRSb3RhdGlvbl8gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzeW5jaHJvbm91cyBsYXllciBsZXZlbCBoaXQgZGV0ZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZVwiKS5kZWZhdWx0Pj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZVwiKS5kZWZhdWx0fGltcG9ydChcIi4uLy4uL3JlbmRlci9GZWF0dXJlXCIpLmRlZmF1bHQ+KTogdm9pZH0gcmVzb2x2ZSBSZXNvbHZlciBmdW5jdGlvbi5cbiAgICAgICAgICogQHRoaXMge0NhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gJiYgIXRoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ18pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IFt0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoLCB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodF07XG4gICAgICAgICAgICAgICAgYXBwbHkodGhpcy5waXhlbFRyYW5zZm9ybSwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMucmVuZGVyZWRDZW50ZXJfO1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMucmVuZGVyZWRSb3RhdGlvbl87XG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLnJlbmRlcmVkUHJvamVjdGlvbl87XG4gICAgICAgICAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMud3JhcHBlZFJlbmRlcmVkRXh0ZW50XztcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzaXplWzBdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzaXplWzFdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0aGlzLmdldFJlbmRlclRyYW5zZm9ybShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBISVRfREVURUNUX1JFU09MVVRJT04sIHdpZHRoLCBoZWlnaHQsIDApLnNsaWNlKCkpO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5nZXRXcmFwWCgpICYmXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgICAgICAgICAhY29udGFpbnNFeHRlbnQocHJvamVjdGlvbkV4dGVudCwgZXh0ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRYID0gZXh0ZW50WzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd29ybGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0WCA8IHByb2plY3Rpb25FeHRlbnRbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC0td29ybGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRYID0gd29ybGRXaWR0aCAqIHdvcmxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIEhJVF9ERVRFQ1RfUkVTT0xVVElPTiwgd2lkdGgsIGhlaWdodCwgb2Zmc2V0WCkuc2xpY2UoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFggKz0gd29ybGRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3b3JsZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IGV4dGVudFsyXTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0WCA+IHByb2plY3Rpb25FeHRlbnRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrd29ybGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRYID0gd29ybGRXaWR0aCAqIHdvcmxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIEhJVF9ERVRFQ1RfUkVTT0xVVElPTiwgd2lkdGgsIGhlaWdodCwgb2Zmc2V0WCkuc2xpY2UoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFggLT0gd29ybGRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gPSBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoc2l6ZSwgdHJhbnNmb3JtcywgdGhpcy5yZW5kZXJlZEZlYXR1cmVzXywgbGF5ZXIuZ2V0U3R5bGVGdW5jdGlvbigpLCBleHRlbnQsIHJlc29sdXRpb24sIHJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoaGl0RGV0ZWN0KHBpeGVsLCB0aGlzLnJlbmRlcmVkRmVhdHVyZXNfLCB0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8pKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL01hcC5qc1wiKS5IaXRNYXRjaDxUPj59IG1hdGNoZXMgVGhlIGhpdCBkZXRlY3RlZCBtYXRjaGVzIHdpdGggdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBtYXRjaGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5yZXBsYXlHcm91cF8pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9NYXAuanNcIikuSGl0TWF0Y2g8VD58dHJ1ZT59ICovXG4gICAgICAgIHZhciBmZWF0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlU3EgVGhlIHNxdWFyZWQgZGlzdGFuY2UgdG8gdGhlIGNsaWNrIHBvc2l0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZmVhdHVyZUNhbGxiYWNrID0gZnVuY3Rpb24gKGZlYXR1cmUsIGdlb21ldHJ5LCBkaXN0YW5jZVNxKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gZmVhdHVyZXNba2V5XTtcbiAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VTcSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCgoZmVhdHVyZXNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IGxheWVyLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlU3E6IGRpc3RhbmNlU3EsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXRjaCAhPT0gdHJ1ZSAmJiBkaXN0YW5jZVNxIDwgbWF0Y2guZGlzdGFuY2VTcSkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVNxID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnNwbGljZShtYXRjaGVzLmxhc3RJbmRleE9mKG1hdGNoKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXRjaC5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICAgICAgICAgIG1hdGNoLmRpc3RhbmNlU3EgPSBkaXN0YW5jZVNxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGV4ZWN1dG9yR3JvdXBzID0gW3RoaXMucmVwbGF5R3JvdXBfXTtcbiAgICAgICAgaWYgKHRoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCkge1xuICAgICAgICAgICAgZXhlY3V0b3JHcm91cHMucHVzaCh0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGV4ZWN1dG9yR3JvdXBzLnNvbWUoZnVuY3Rpb24gKGV4ZWN1dG9yR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0ID0gZXhlY3V0b3JHcm91cC5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgaGl0VG9sZXJhbmNlLCBmZWF0dXJlQ2FsbGJhY2ssIGV4ZWN1dG9yR3JvdXAgPT09IF90aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgJiZcbiAgICAgICAgICAgICAgICBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWVcbiAgICAgICAgICAgICAgICA/IGZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZS5hbGwoKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udmFsdWU7IH0pXG4gICAgICAgICAgICAgICAgOiBudWxsKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlRm9udHNDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIGlmIChsYXllci5nZXRWaXNpYmxlKCkgJiYgdGhpcy5yZXBsYXlHcm91cF8pIHtcbiAgICAgICAgICAgIGxheWVyLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNoYW5nZXMgaW4gaW1hZ2Ugc3R5bGUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgSW1hZ2Ugc3R5bGUgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgcmVuZGVyIHNob3VsZCBiZSBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllciBpcyByZWFkeSB0byBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wcmVwYXJlRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgdmVjdG9yTGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIHZhciB2ZWN0b3JTb3VyY2UgPSB2ZWN0b3JMYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgaWYgKCF2ZWN0b3JTb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5pbWF0aW5nID0gZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuQU5JTUFUSU5HXTtcbiAgICAgICAgdmFyIGludGVyYWN0aW5nID0gZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddO1xuICAgICAgICB2YXIgdXBkYXRlV2hpbGVBbmltYXRpbmcgPSB2ZWN0b3JMYXllci5nZXRVcGRhdGVXaGlsZUFuaW1hdGluZygpO1xuICAgICAgICB2YXIgdXBkYXRlV2hpbGVJbnRlcmFjdGluZyA9IHZlY3RvckxheWVyLmdldFVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcoKTtcbiAgICAgICAgaWYgKCghdGhpcy5kaXJ0eV8gJiYgIXVwZGF0ZVdoaWxlQW5pbWF0aW5nICYmIGFuaW1hdGluZykgfHxcbiAgICAgICAgICAgICghdXBkYXRlV2hpbGVJbnRlcmFjdGluZyAmJiBpbnRlcmFjdGluZykpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ18gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpbmdPckludGVyYWN0aW5nXyA9IGZhbHNlO1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZUV4dGVudCA9IGZyYW1lU3RhdGUuZXh0ZW50O1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgdmVjdG9yTGF5ZXJSZXZpc2lvbiA9IHZlY3RvckxheWVyLmdldFJldmlzaW9uKCk7XG4gICAgICAgIHZhciB2ZWN0b3JMYXllclJlbmRlckJ1ZmZlciA9IHZlY3RvckxheWVyLmdldFJlbmRlckJ1ZmZlcigpO1xuICAgICAgICB2YXIgdmVjdG9yTGF5ZXJSZW5kZXJPcmRlciA9IHZlY3RvckxheWVyLmdldFJlbmRlck9yZGVyKCk7XG4gICAgICAgIGlmICh2ZWN0b3JMYXllclJlbmRlck9yZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZlY3RvckxheWVyUmVuZGVyT3JkZXIgPSBkZWZhdWx0UmVuZGVyT3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXIuc2xpY2UoKTtcbiAgICAgICAgdmFyIGV4dGVudCA9IGJ1ZmZlcihmcmFtZVN0YXRlRXh0ZW50LCB2ZWN0b3JMYXllclJlbmRlckJ1ZmZlciAqIHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgcmVuZGVyZWRFeHRlbnQgPSBleHRlbnQuc2xpY2UoKTtcbiAgICAgICAgdmFyIGxvYWRFeHRlbnRzID0gW2V4dGVudC5zbGljZSgpXTtcbiAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICBpZiAodmVjdG9yU291cmNlLmdldFdyYXBYKCkgJiZcbiAgICAgICAgICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgIWNvbnRhaW5zRXh0ZW50KHByb2plY3Rpb25FeHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KSkge1xuICAgICAgICAgICAgLy8gRm9yIHRoZSByZXBsYXkgZ3JvdXAsIHdlIG5lZWQgYW4gZXh0ZW50IHRoYXQgaW50ZXJzZWN0cyB0aGUgcmVhbCB3b3JsZFxuICAgICAgICAgICAgLy8gKC0xODDCsCB0byArMTgwwrApLiBUbyBzdXBwb3J0IGdlb21ldHJpZXMgaW4gYSBjb29yZGluYXRlIHJhbmdlIGZyb20gLTU0MMKwXG4gICAgICAgICAgICAvLyB0byArNTQwwrAsIHdlIGFkZCBhdCBsZWFzdCAxIHdvcmxkIHdpZHRoIG9uIGVhY2ggc2lkZSBvZiB0aGUgcHJvamVjdGlvblxuICAgICAgICAgICAgLy8gZXh0ZW50LiBJZiB0aGUgdmlld3BvcnQgaXMgd2lkZXIgdGhhbiB0aGUgd29ybGQsIHdlIG5lZWQgdG8gYWRkIGhhbGYgb2ZcbiAgICAgICAgICAgIC8vIHRoZSB2aWV3cG9ydCB3aWR0aCB0byBtYWtlIHN1cmUgd2UgY292ZXIgdGhlIHdob2xlIHZpZXdwb3J0LlxuICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgIHZhciBndXR0ZXIgPSBNYXRoLm1heChnZXRXaWR0aChleHRlbnQpIC8gMiwgd29ybGRXaWR0aCk7XG4gICAgICAgICAgICBleHRlbnRbMF0gPSBwcm9qZWN0aW9uRXh0ZW50WzBdIC0gZ3V0dGVyO1xuICAgICAgICAgICAgZXh0ZW50WzJdID0gcHJvamVjdGlvbkV4dGVudFsyXSArIGd1dHRlcjtcbiAgICAgICAgICAgIHdyYXBDb29yZGluYXRlWChjZW50ZXIsIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGxvYWRFeHRlbnQgPSB3cmFwRXh0ZW50WChsb2FkRXh0ZW50c1swXSwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZXh0ZW50IGNyb3NzZXMgdGhlIGRhdGUgbGluZSwgd2UgbG9hZCBkYXRhIGZvciBib3RoIGVkZ2VzIG9mIHRoZSB3b3JsZHNcbiAgICAgICAgICAgIGlmIChsb2FkRXh0ZW50WzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSAmJlxuICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMl0gPCBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAgICAgICAgICAgbG9hZEV4dGVudHMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMF0gKyB3b3JsZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzJdICsgd29ybGRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFszXSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRFeHRlbnRbMF0gPiBwcm9qZWN0aW9uRXh0ZW50WzBdICYmXG4gICAgICAgICAgICAgICAgbG9hZEV4dGVudFsyXSA+IHByb2plY3Rpb25FeHRlbnRbMl0pIHtcbiAgICAgICAgICAgICAgICBsb2FkRXh0ZW50cy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFswXSAtIHdvcmxkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMl0gLSB3b3JsZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzNdLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eV8gJiZcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uXyA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID09IHZlY3RvckxheWVyUmV2aXNpb24gJiZcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRSZW5kZXJPcmRlcl8gPT0gdmVjdG9yTGF5ZXJSZW5kZXJPcmRlciAmJlxuICAgICAgICAgICAgY29udGFpbnNFeHRlbnQodGhpcy53cmFwcGVkUmVuZGVyZWRFeHRlbnRfLCBleHRlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIWVxdWFscyh0aGlzLnJlbmRlcmVkRXh0ZW50XywgcmVuZGVyZWRFeHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkRXh0ZW50XyA9IHJlbmRlcmVkRXh0ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLnJlcGxheUdyb3VwQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBsYXlHcm91cF8gPSBudWxsO1xuICAgICAgICB0aGlzLmRpcnR5XyA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVwbGF5R3JvdXAgPSBuZXcgQ2FudmFzQnVpbGRlckdyb3VwKGdldFJlbmRlclRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSwgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGRlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0TGF5ZXIoKS5nZXREZWNsdXR0ZXIoKSkge1xuICAgICAgICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwID0gbmV3IENhbnZhc0J1aWxkZXJHcm91cChnZXRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyksIGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZXJQcm9qZWN0aW9uID0gZ2V0VXNlclByb2plY3Rpb24oKTtcbiAgICAgICAgdmFyIHVzZXJUcmFuc2Zvcm07XG4gICAgICAgIGlmICh1c2VyUHJvamVjdGlvbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbG9hZEV4dGVudHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBleHRlbnRfMSA9IGxvYWRFeHRlbnRzW2ldO1xuICAgICAgICAgICAgICAgIHZhciB1c2VyRXh0ZW50XzEgPSB0b1VzZXJFeHRlbnQoZXh0ZW50XzEsIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZlY3RvclNvdXJjZS5sb2FkRmVhdHVyZXModXNlckV4dGVudF8xLCB0b1VzZXJSZXNvbHV0aW9uKHJlc29sdXRpb24sIHByb2plY3Rpb24pLCB1c2VyUHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1c2VyVHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKHVzZXJQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxvYWRFeHRlbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZWN0b3JTb3VyY2UubG9hZEZlYXR1cmVzKGxvYWRFeHRlbnRzW2ldLCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc3F1YXJlZFRvbGVyYW5jZSA9IGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciByZW5kZXIgPSBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZXM7XG4gICAgICAgICAgICB2YXIgc3R5bGVGdW5jdGlvbiA9IGZlYXR1cmUuZ2V0U3R5bGVGdW5jdGlvbigpIHx8IHZlY3RvckxheWVyLmdldFN0eWxlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzID0gc3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlydHkgPSB0aGlzLnJlbmRlckZlYXR1cmUoZmVhdHVyZSwgc3F1YXJlZFRvbGVyYW5jZSwgc3R5bGVzLCByZXBsYXlHcm91cCwgdXNlclRyYW5zZm9ybSwgZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5XyA9IHRoaXMuZGlydHlfIHx8IGRpcnR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIHZhciB1c2VyRXh0ZW50ID0gdG9Vc2VyRXh0ZW50KGV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgICAgICAgdmFyIGZlYXR1cmVzID0gdmVjdG9yU291cmNlLmdldEZlYXR1cmVzSW5FeHRlbnQodXNlckV4dGVudCk7XG4gICAgICAgIGlmICh2ZWN0b3JMYXllclJlbmRlck9yZGVyKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5zb3J0KHZlY3RvckxheWVyUmVuZGVyT3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZlYXR1cmVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHJlbmRlcihmZWF0dXJlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZEZlYXR1cmVzXyA9IGZlYXR1cmVzO1xuICAgICAgICB2YXIgcmVwbGF5R3JvdXBJbnN0cnVjdGlvbnMgPSByZXBsYXlHcm91cC5maW5pc2goKTtcbiAgICAgICAgdmFyIGV4ZWN1dG9yR3JvdXAgPSBuZXcgRXhlY3V0b3JHcm91cChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHZlY3RvclNvdXJjZS5nZXRPdmVybGFwcygpLCByZXBsYXlHcm91cEluc3RydWN0aW9ucywgdmVjdG9yTGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKCkpO1xuICAgICAgICBpZiAoZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSBuZXcgRXhlY3V0b3JHcm91cChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHZlY3RvclNvdXJjZS5nZXRPdmVybGFwcygpLCBkZWNsdXR0ZXJCdWlsZGVyR3JvdXAuZmluaXNoKCksIHZlY3RvckxheWVyLmdldFJlbmRlckJ1ZmZlcigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gdmVjdG9yTGF5ZXJSZXZpc2lvbjtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFJlbmRlck9yZGVyXyA9IHZlY3RvckxheWVyUmVuZGVyT3JkZXI7XG4gICAgICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gcmVuZGVyZWRFeHRlbnQ7XG4gICAgICAgIHRoaXMud3JhcHBlZFJlbmRlcmVkRXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgdGhpcy5yZW5kZXJlZENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uXyA9IHByb2plY3Rpb247XG4gICAgICAgIHRoaXMucmVwbGF5R3JvdXBfID0gZXhlY3V0b3JHcm91cDtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXBsYXlHcm91cENoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCByZW5kZXIgdG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdHxBcnJheTxpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0Pn0gc3R5bGVzIFRoZSBzdHlsZSBvciBhcnJheSBvZiBzdHlsZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgQnVpbGRlciBncm91cC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFtvcHRfdHJhbnNmb3JtXSBUcmFuc2Zvcm0gZnJvbSB1c2VyIHRvIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGFuIGltYWdlIGlzIGxvYWRpbmcuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlLCBzcXVhcmVkVG9sZXJhbmNlLCBzdHlsZXMsIGJ1aWxkZXJHcm91cCwgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICBpZiAoIXN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHN0eWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgbG9hZGluZyA9XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckZlYXR1cmUoYnVpbGRlckdyb3VwLCBmZWF0dXJlLCBzdHlsZXNbaV0sIHNxdWFyZWRUb2xlcmFuY2UsIHRoaXMuYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXywgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkgfHwgbG9hZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYWRpbmcgPSByZW5kZXJGZWF0dXJlKGJ1aWxkZXJHcm91cCwgZmVhdHVyZSwgc3R5bGVzLCBzcXVhcmVkVG9sZXJhbmNlLCB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2FkaW5nO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXI7XG59KENhbnZhc0xheWVyUmVuZGVyZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JMYXllci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1ZlY3RvclxuICovXG5pbXBvcnQgQmFzZVZlY3RvckxheWVyIGZyb20gJy4vQmFzZVZlY3Rvci5qcyc7XG5pbXBvcnQgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBWZWN0b3IgZGF0YSB0aGF0IGlzIHJlbmRlcmVkIGNsaWVudC1zaWRlLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fSBWZWN0b3JTb3VyY2VUeXBlXG4gKiBAZXh0ZW5kcyB7QmFzZVZlY3RvckxheWVyPFZlY3RvclNvdXJjZVR5cGUsIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXI+fVxuICogQGFwaVxuICovXG52YXIgVmVjdG9yTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZlY3RvckxheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlVmVjdG9yLmpzXCIpLk9wdGlvbnM8VmVjdG9yU291cmNlVHlwZT59IFtvcHRfb3B0aW9uc10gT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWZWN0b3JMYXllcihvcHRfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0X29wdGlvbnMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFZlY3RvckxheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFZlY3RvckxheWVyO1xufShCYXNlVmVjdG9yTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFZlY3RvckxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yLmpzLm1hcCIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvbWFya2VyLnBuZ1wiOyIsImltcG9ydCAnc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhb2wvb2wuY3NzJztcclxuaW1wb3J0IHtNYXAsVmlld30gZnJvbSAnb2wnO1xyXG5pbXBvcnQgVGlsZUxheWVyIGZyb20gJ29sL2xheWVyL1RpbGUnO1xyXG5pbXBvcnQgWFlaIGZyb20gJ29sL3NvdXJjZS9YWVonO1xyXG5pbXBvcnQgV01UUyBmcm9tICdvbC9zb3VyY2UvV01UUydcclxuaW1wb3J0IFdNVFNUaWxlR3JpZCBmcm9tICdvbC90aWxlZ3JpZC9XTVRTJztcclxuaW1wb3J0IHtmcm9tTG9uTGF0LCBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgUHJvamVjdGlvbn0gZnJvbSAnb2wvcHJvaic7XHJcbmltcG9ydCB7Z2V0VG9wTGVmdCxnZXRXaWR0aH0gZnJvbSAnb2wvZXh0ZW50JztcclxuaW1wb3J0IEZlYXR1cmUgZnJvbSAnb2wvRmVhdHVyZSc7XHJcbmltcG9ydCBQb2ludCBmcm9tICdvbC9nZW9tL1BvaW50JztcclxuaW1wb3J0IFZlY3RvclNvdXJjZSBmcm9tICdvbC9zb3VyY2UvVmVjdG9yJztcclxuaW1wb3J0IFZlY3RvckxheWVyIGZyb20gJ29sL2xheWVyL1ZlY3Rvcic7XHJcbmltcG9ydCB7SWNvbiwgU3R5bGV9IGZyb20gJ29sL3N0eWxlJztcclxuaW1wb3J0IGpzb24gZnJvbSAnLi9qc29uL2RhbmdlckxldmVsSW5mby5qc29uJztcclxuaW1wb3J0IG1hcmtlciBmcm9tICcuL2ltYWdlcy9tYXJrZXIucG5nJztcclxuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQnO1xyXG5cclxuXHJcbi8veHl65Yqg6L295aSp5Zyw5Zu+XHJcbi8vIGNvbnN0IG1hcF94eXogPSBuZXcgTWFwKHtcclxuLy8gICAgIHRhcmdldDogXCJtYXBcIixcclxuLy8gICAgIGxheWVyczpbXHJcbi8vICAgICAgICAgbmV3IFRpbGVMYXllcih7XHJcbi8vICAgICAgICAgICAgIHNvdXJjZTogbmV3IFhZWih7XHJcbi8vICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL3QwLnRpYW5kaXR1LmNvbS9EYXRhU2VydmVyP1Q9dmVjX3cmeD17eH0meT17eX0mbD17en0mdGs9MWI1YzcwYjBiMDA2ZWZkZDAyMGI0ZTM3NGM3M2IxYjlcIlxyXG4vLyAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xyXG4vLyAgICAgICAgICAgICBzb3VyY2U6IG5ldyBYWVooe1xyXG4vLyAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly90MC50aWFuZGl0dS5jb20vRGF0YVNlcnZlcj9UPWN2YV93Jng9e3h9Jnk9e3l9Jmw9e3p9JnRrPTFiNWM3MGIwYjAwNmVmZGQwMjBiNGUzNzRjNzNiMWI5XCJcclxuLy8gICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgXSxcclxuLy8gICAgIHZpZXc6IG5ldyBWaWV3KHtcclxuLy8gICAgICAgICBjZW50ZXI6IFswLDBdLFxyXG4vLyAgICAgICAgIHpvb206IDJcclxuLy8gICAgIH0pXHJcbi8vIH0pXHJcblxyXG4vL3dtdHPliqDovb3lpKnlnLDlm75cclxuY29uc3QgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24oXCJFUFNHOjM4NTdcIik7XHJcbmNvbnN0IHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xyXG5jb25zdCBzaXplID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCkvMjU2O1xyXG5jb25zdCByZXNvbHV0aW9ucyA9IG5ldyBBcnJheSgxOSk7XHJcbmNvbnN0IG1hdHJpeElkcyA9IG5ldyBBcnJheSgxOSk7XHJcbmZvciAobGV0IHo9MDt6PD0xOTsrK3ope1xyXG4gICAgcmVzb2x1dGlvbnNbel0gPSBzaXplIC8gTWF0aC5wb3coMix6KTtcclxuICAgIG1hdHJpeElkc1t6XSA9IHpcclxufVxyXG5cclxubGV0IG1hcF93bXRzID0gbmV3IE1hcCh7XHJcbiAgICB0YXJnZXQ6IFwibWFwXCIsXHJcbiAgICBsYXllcnM6W1xyXG4gICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgIHNvdXJjZTogbmV3IFdNVFMoe1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25zOlxyXG4gICAgICAgICAgICAgICAgICAnVGlsZXMgwqkgPGEgaHJlZj1cImh0dHBzOi8vbXJkYXRhLnVzZ3MuZ292L2dlb2xvZ3kvc3RhdGUvXCInICtcclxuICAgICAgICAgICAgICAgICAgJyB0YXJnZXQ9XCJfYmxhbmtcIj5VU0dTPC9hPicsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL3QwLnRpYW5kaXR1Lmdvdi5jbi92ZWNfdy93bXRzP3RrPTFiNWM3MGIwYjAwNmVmZGQwMjBiNGUzNzRjNzNiMWI5XCIsXHJcbiAgICAgICAgICAgICAgICBsYXllcjogXCJ2ZWNcIixcclxuICAgICAgICAgICAgICAgIG1hdHJpeFNldDogXCJ3XCIsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwidGlsZXNcIixcclxuICAgICAgICAgICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXHJcbiAgICAgICAgICAgICAgICB0aWxlR3JpZDogbmV3IFdNVFNUaWxlR3JpZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBnZXRUb3BMZWZ0KHByb2plY3Rpb25FeHRlbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXhJZHM6IG1hdHJpeElkc1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBzdHlsZTogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgICB3cmFwWDogdHJ1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICBdLFxyXG4gICAgdmlldzogbmV3IFZpZXcoe1xyXG4gICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXHJcbiAgICAgICAgY2VudGVyOiBmcm9tTG9uTGF0KFsxMjAuNjIsIDMxLjMxXSksXHJcbiAgICAgICAgem9vbTogMTJcclxuICAgIH0pXHJcbn0pXHJcblxyXG5cclxudmFyIGpzb25fYWxsID0gW11cclxuZm9yICh2YXIgaT0gMDtpPGpzb24uZGF0YS5sZW5ndGg7aSsrKXtcclxuICAgIGlmIChqc29uLmRhdGFbaV0uZGFuZ2VyTGV2ZWwgPT0gMil7XHJcbiAgICAgICAgdmFyIGpzb25fYWxsXzEgPSBqc29uLmRhdGFbaV1cclxuICAgICAgICBqc29uX2FsbF8xID0ganNvbl9hbGxfMS5kYW5nZXJQcm9zXHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7ajxqc29uX2FsbF8xLmxlbmd0aDtqKyspe1xyXG4gICAgICAgICAgICBpZiAoanNvbl9hbGxfMVtqXS5wcm92aW5jZVNob3J0TmFtZSA9PSBcIuaxn+iLj1wiKXtcclxuICAgICAgICAgICAgICAgIGpzb25fYWxsXzEgPSBqc29uX2FsbF8xW2pdXHJcbiAgICAgICAgICAgICAgICBqc29uX2FsbF8xID0ganNvbl9hbGxfMS5kYW5nZXJBcmVhc1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0wO2s8anNvbl9hbGxfMS5sZW5ndGg7aysrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbl9hbGxfMVtrXS5jaXR5TmFtZSA9PSBcIuiLj+W3nlwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ganNvbl9hbGxfMSA9IGpzb25fYWxsXzFba11cclxuICAgICAgICAgICAgICAgICAgICAgICAganNvbl9hbGwucHVzaChqc29uX2FsbF8xW2tdKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxudmFyIGpzb25fYWxsX3h5ID0ganNvbl9hbGxbMF1cclxuXHJcbi8vIHZhciBtYXJrZXIgPSByZXF1aXJlKCcuL2ltYWdlcy9tYXJrZXIucG5nJylcclxuXHJcblxyXG5cclxuICAgIGNvbnN0IGljb25TdHlsZSA9IG5ldyBTdHlsZSh7XHJcbiAgICAgICAgaW1hZ2U6IG5ldyBJY29uKHtcclxuICAgICAgICAgICAgYW5jaG9yOiBbMC41LCA0Nl0sXHJcbiAgICAgICAgICAgIGFuY2hvclhVbml0czogXCJmcmFjdGlvblwiLFxyXG4gICAgICAgICAgICBhbmNob3JZVW5pdHM6IFwicGl4ZWxzXCIsXHJcbiAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgc3JjOiBtYXJrZXJcclxuICAgICAgICB9KSxcclxuICAgICAgfSlcclxuXHJcbiAgICB2YXIgZmVhdHVyZSA9IG5ldyBGZWF0dXJlKHtcclxuICAgICAgICBnZW9tZXRyeTogbmV3IFBvaW50KGZyb21Mb25MYXQoWzEyMC42MiwzMS4zMV0pKVxyXG4gICAgICAgIC8vIGltZzogbmV3IEljb24oe1xyXG4gICAgICAgIC8vICAgICBhbmNob3I6IFswLjUsIDQ2XSxcclxuICAgICAgICAvLyAgICAgc3JjOiAnaHR0cHM6Ly9pbWFnZXMueGlhb3podWFubGFuLmNvbS9waG90by8yMDIwL2FmNGQ3MjYzOWYwZmY3ZTA1OTljOWQzOTM1YjEyM2FmLnBuZydcclxuICAgICAgICAvLyB9KVxyXG4gICAgfSlcclxuICAgIGZlYXR1cmUuc2V0U3R5bGUoaWNvblN0eWxlKVxyXG4gICAgdmFyIHNvdXJjZSA9IG5ldyBWZWN0b3JTb3VyY2Uoe1xyXG4gICAgICAgIGZlYXR1cmVzOiBbZmVhdHVyZV1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIHZhciBsYXllciA9IG5ldyBWZWN0b3JMYXllcih7XHJcbiAgICAgICAgc291cmNlOiBzb3VyY2VcclxuICAgIH0pXHJcbiAgICBtYXBfd210cy5hZGRMYXllcihsYXllcilcclxuXHJcblxyXG5cclxuXHJcbi8vIGNyZWF0ZUxhYmVsU3R5bGUoZmVhdHVyZSkge1xyXG4vLyAgICAgLy/ov5Tlm57kuIDkuKrmoLflvI9cclxuLy8gICAgIHJldHVybiBuZXcgT2xTdHlsZVN0eWxlKHtcclxuLy8gICAgICAgICAvL+Wbvuagh+agt+W8j1xyXG4vLyAgICAgICAgIGltYWdlOiBuZXcgT2xTdHlsZUljb24oeyAgICAgICAgXHJcbi8vICAgICAgICAgICAgIGFuY2hvcjogWzEwLCAxOF0sICAgICAgLy/orr7nva7lm77moIflgY/np7tcclxuLy8gICAgICAgICAgICAgc2NhbGU6IDAuNiwgICAgICAvLyDlm77moIfnvKnlsI/mmL7npLpcclxuLy8gICAgICAgICAgICAgYW5jaG9yT3JpZ2luOiAndG9wLXJpZ2h0JywgICAgIC8v5qCH5rOo5qC35byP55qE6LW354K55L2N572uXHJcbi8vICAgICAgICAgICAgIGFuY2hvclhVbml0czogJ3BpeGVscycsICAgIC8vWOaWueWQkeWNleS9je+8muWIhuaVsFxyXG4vLyAgICAgICAgICAgICBhbmNob3JZVW5pdHM6ICdwaXhlbHMnLCAgICAgLy9Z5pa55ZCR5Y2V5L2N77ya5YOP57SgXHJcbi8vICAgICAgICAgICAgIG9mZnNldE9yaWdpbjogJ2JvdHRvbS1sZWZ0JywgICAvL+WBj+enu+i1t+eCueS9jee9rueahOaWueWQkVxyXG4vLyAgICAgICAgICAgICBvcGFjaXR5OiAwLjksICAgIC8v6YCP5piO5bqmXHJcbi8vICAgICAgICAgICAgIHNyYzogZmVhdHVyZS5nZXQoJ2ltZycpICAgICAvL+WbvueJh+i3r+W+hFxyXG4vLyAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgIC8v5paH5pys5qC35byPXHJcbi8vICAgICAgICAgdGV4dDogbmV3IFRleHQoe1xyXG4vLyAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsICAgICAvL+Wvuem9kOaWueW8j1xyXG4vLyAgICAgICAgIHRleHRCYXNlbGluZTogJ21pZGRsZScsICAgIC8v5paH5pys5Z+657q/XHJcbi8vICAgICAgICAgZm9udDogJ25vcm1hbCAxMnB4IOW+rui9r+mbhem7kScsICAgICAvL+Wtl+S9k+agt+W8j1xyXG4vLyAgICAgICAgIHRleHQ6IGZlYXR1cmUuZ2V0KCduYW1lJyksICAgIC8v5paH5pys5YaF5a65XHJcbi8vICAgICAgICAgb2Zmc2V0WTogLTI1LCAgICAvLyBZ6L205YGP572uXHJcbi8vICAgICAgICAgZmlsbDogbmV3IEZpbGwoeyAgICAgICAgLy/loavlhYXmoLflvI9cclxuLy8gICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbi8vICAgICAgICAgfSksXHJcbi8vICAgICAgICAgcGFkZGluZzogWzIsIDUsIDIsIDVdLFxyXG4vLyAgICAgfSksXHJcbi8vICAgICAgICAvLyDorr7nva7lsYLnuqdcclxuLy8gICAgIHpJbmRleDogMTk5ICAgICAgICAgIFxyXG4vLyAgIH0pO1xyXG4vLyB9XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInQiLCJyIiwiZSIsImEiLCJoIiwibiIsIm8iLCJzIiwibCIsIk1hdGgiLCJsb2ciLCJmIiwiZXhwIiwidSIsInNxcnQiLCJtYXgiLCJmbG9vciIsIm1pbiIsInAiLCJkIiwieCIsIl9tYXhFbnRyaWVzIiwiX21pbkVudHJpZXMiLCJjZWlsIiwiY2xlYXIiLCJpbmRleE9mIiwiY2hpbGRyZW4iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwibGVhZiIsIm0iLCJjIiwiaGVpZ2h0IiwicG9wIiwicHJvdG90eXBlIiwiYWxsIiwiX2FsbCIsInNlYXJjaCIsInRvQkJveCIsImNvbGxpZGVzIiwibG9hZCIsImluc2VydCIsIl9idWlsZCIsInNsaWNlIiwiX3NwbGl0Um9vdCIsIl9pbnNlcnQiLCJyZW1vdmUiLCJzcGxpY2UiLCJfY29uZGVuc2UiLCJjb21wYXJlTWluWCIsImNvbXBhcmVNaW5ZIiwidG9KU09OIiwiZnJvbUpTT04iLCJhcHBseSIsInBvdyIsIl9jaG9vc2VTdWJ0cmVlIiwiX3NwbGl0IiwiX2FkanVzdFBhcmVudEJCb3hlcyIsIl9jaG9vc2VTcGxpdEF4aXMiLCJfY2hvb3NlU3BsaXRJbmRleCIsInYiLCJNIiwiX2FsbERpc3RNYXJnaW4iLCJzb3J0Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwia2V5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJyZXBsYWNlIiwiRGlzcG9zYWJsZSIsImRpc3Bvc2VkIiwiZGlzcG9zZSIsImRpc3Bvc2VJbnRlcm5hbCIsIm51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24iLCJiIiwibGluZWFyRmluZE5lYXJlc3QiLCJhcnIiLCJkaXJlY3Rpb24iLCJyZXZlcnNlU3ViQXJyYXkiLCJiZWdpbiIsImVuZCIsInRtcCIsImV4dGVuc2lvbiIsIkFycmF5IiwiaXNBcnJheSIsImVxdWFscyIsImFycjEiLCJhcnIyIiwibGVuMSIsIlRSVUUiLCJWT0lEIiwidWlkQ291bnRlcl8iLCJnZXRVaWQiLCJvbF91aWQiLCJTdHJpbmciLCJleHRlbmRTdGF0aWNzIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsIkZJUkVGT1giLCJXRUJLSVQiLCJERVZJQ0VfUElYRUxfUkFUSU8iLCJkZXZpY2VQaXhlbFJhdGlvIiwiV09SS0VSX09GRlNDUkVFTl9DQU5WQVMiLCJXb3JrZXJHbG9iYWxTY29wZSIsIk9mZnNjcmVlbkNhbnZhcyIsInNlbGYiLCJJTUFHRV9ERUNPREUiLCJJbWFnZSIsImRlY29kZSIsIlBBU1NJVkVfRVZFTlRfTElTVEVORVJTIiwicGFzc2l2ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXJyb3IiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIlR5cGVFcnJvciIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfc3VwZXIiLCJBc3NlcnRpb25FcnJvciIsImNvZGUiLCJfdGhpcyIsIm1lc3NhZ2UiLCJzcGxpdCIsIm5hbWUiLCJhc3NlcnRpb24iLCJlcnJvckNvZGUiLCJ0cmFuc2Zvcm1TdHJpbmdEaXYiLCJ0cmFuc2Zvcm0iLCJjb29yZGluYXRlIiwieSIsImNvbXBvc2UiLCJkeDEiLCJkeTEiLCJzeCIsInN5IiwiYW5nbGUiLCJkeDIiLCJkeTIiLCJzaW4iLCJjb3MiLCJtYWtlSW52ZXJzZSIsIm1hdCIsImRldCIsInRyYW5zZm9ybVN0cmluZyIsIm5vZGUiLCJib3VuZGluZ0V4dGVudCIsImNvb3JkaW5hdGVzIiwiZXh0ZW50IiwiSW5maW5pdHkiLCJpaSIsImV4dGVuZENvb3JkaW5hdGUiLCJidWZmZXIiLCJ2YWx1ZSIsIm9wdF9leHRlbnQiLCJjbG9uZSIsImNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSIsImR4IiwiZHkiLCJjb250YWluc0Nvb3JkaW5hdGUiLCJjb250YWluc1hZIiwiZXh0ZW50MSIsImV4dGVudDIiLCJjb29yZGluYXRlUmVsYXRpb25zaGlwIiwicmVsYXRpb25zaGlwIiwiY3JlYXRlT3JVcGRhdGUiLCJjcmVhdGVPclVwZGF0ZUVtcHR5IiwiZXh0ZW5kRmxhdENvb3JkaW5hdGVzIiwiZmxhdENvb3JkaW5hdGVzIiwib2Zmc2V0Iiwic3RyaWRlIiwiZXh0ZW5kWFkiLCJmb3JFYWNoQ29ybmVyIiwiY2FsbGJhY2siLCJ2YWwiLCJnZXRCb3R0b21MZWZ0IiwiZ2V0Qm90dG9tUmlnaHQiLCJnZXRUb3BSaWdodCIsImdldFRvcExlZnQiLCJnZXRBcmVhIiwiYXJlYSIsImdldEhlaWdodCIsImdldENlbnRlciIsImdldENvcm5lciIsImNvcm5lciIsIkNvcm5lciIsImdldEZvclZpZXdBbmRTaXplIiwiY2VudGVyIiwicmVzb2x1dGlvbiIsInJvdGF0aW9uIiwic2l6ZSIsImNvc1JvdGF0aW9uIiwic2luUm90YXRpb24iLCJ4Q29zIiwieFNpbiIsInlDb3MiLCJ5U2luIiwieDAiLCJ4MSIsIngyIiwieDMiLCJ5MCIsInkxIiwieTIiLCJ5MyIsImdldEludGVyc2VjdGlvbiIsImludGVyc2VjdGlvbiIsImludGVyc2VjdHMiLCJjb3NoIiwibG9nMiIsIkxPRzJFIiwic3F1YXJlZFNlZ21lbnREaXN0YW5jZSIsImFuZ2xlSW5EZWdyZWVzIiwiUEkiLCJsZXJwIiwidG9GaXhlZCIsImRlY2ltYWxzIiwiZmFjdG9yIiwicm91bmQiLCJIRVhfQ09MT1JfUkVfIiwiTkFNRURfQ09MT1JfUkVfIiwiYXNTdHJpbmciLCJjb2xvciIsImZyb21TdHJpbmciLCJjYWNoZSIsImNhY2hlU2l6ZSIsImV4ZWMiLCJlbCIsImJvZHkiLCJyZ2IiLCJnZXRDb21wdXRlZFN0eWxlIiwiZnJvbU5hbWVkIiwiaGFzQWxwaGEiLCJwYXJzZUludCIsInN1YnN0ciIsIm5vcm1hbGl6ZSIsIk51bWJlciIsImZyb21TdHJpbmdJbnRlcm5hbF8iLCJhc0FycmF5IiwiSWNvbkltYWdlQ2FjaGUiLCJjYWNoZV8iLCJjYWNoZVNpemVfIiwibWF4Q2FjaGVTaXplXyIsImNhbkV4cGlyZUNhY2hlIiwiZXhwaXJlIiwiaWNvbkltYWdlIiwiaGFzTGlzdGVuZXIiLCJjcm9zc09yaWdpbiIsImdldEtleSIsInNldCIsInNldFNpemUiLCJtYXhDYWNoZVNpemUiLCJzaGFyZWQiLCJCYXNlRXZlbnQiLCJ0eXBlIiwicHJvcGFnYXRpb25TdG9wcGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYXNzaWduIiwidmFyX3NvdXJjZXMiLCJvdXRwdXQiLCJhcmd1bWVudHMiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImdldFZhbHVlcyIsInZhbHVlcyIsIlRhcmdldCIsIm9wdF90YXJnZXQiLCJldmVudFRhcmdldF8iLCJwZW5kaW5nUmVtb3ZhbHNfIiwiZGlzcGF0Y2hpbmdfIiwibGlzdGVuZXJzXyIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwibGlzdGVuZXJzRm9yVHlwZSIsImRpc3BhdGNoRXZlbnQiLCJldmVudCIsImV2dCIsIkV2ZW50IiwicHJvcGFnYXRlIiwiZGlzcGF0Y2hpbmciLCJwZW5kaW5nUmVtb3ZhbHMiLCJoYW5kbGVFdmVudCIsInByIiwiZ2V0TGlzdGVuZXJzIiwib3B0X3R5cGUiLCJrZXlzIiwibGlzdGVuIiwib3B0X3RoaXMiLCJvcHRfb25jZSIsImJpbmQiLCJvcmlnaW5hbExpc3RlbmVyXzEiLCJldmVudHNLZXkiLCJsaXN0ZW5PbmNlIiwidW5saXN0ZW5CeUtleSIsIk9ic2VydmFibGUiLCJvbiIsIm9uY2UiLCJ1biIsInJldmlzaW9uXyIsImNoYW5nZWQiLCJFdmVudFR5cGUiLCJnZXRSZXZpc2lvbiIsIm9uSW50ZXJuYWwiLCJsZW4iLCJvbmNlSW50ZXJuYWwiLCJvbF9rZXkiLCJ1bkludGVybmFsIiwidW5CeUtleSIsIk9iamVjdEV2ZW50Iiwib2xkVmFsdWUiLCJCYXNlT2JqZWN0Iiwib3B0X3ZhbHVlcyIsInZhbHVlc18iLCJzZXRQcm9wZXJ0aWVzIiwiZ2V0S2V5cyIsImdldFByb3BlcnRpZXMiLCJoYXNQcm9wZXJ0aWVzIiwibm90aWZ5IiwiZXZlbnRUeXBlIiwiT2JqZWN0RXZlbnRUeXBlIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJyZW1vdmVDaGFuZ2VMaXN0ZW5lciIsIm9wdF9zaWxlbnQiLCJhcHBseVByb3BlcnRpZXMiLCJ1bnNldCIsIkJhc2VMYXllciIsImJhY2tncm91bmRfIiwiYmFja2dyb3VuZCIsInByb3BlcnRpZXMiLCJvcGFjaXR5IiwidmlzaWJsZSIsInpJbmRleCIsIm1heFJlc29sdXRpb24iLCJtaW5SZXNvbHV0aW9uIiwibWluWm9vbSIsIm1heFpvb20iLCJjbGFzc05hbWVfIiwiY2xhc3NOYW1lIiwic3RhdGVfIiwiZ2V0QmFja2dyb3VuZCIsImdldENsYXNzTmFtZSIsImdldExheWVyU3RhdGUiLCJvcHRfbWFuYWdlZCIsInN0YXRlIiwibWFuYWdlZCIsImdldFpJbmRleCIsImdldE9wYWNpdHkiLCJzb3VyY2VTdGF0ZSIsImdldFNvdXJjZVN0YXRlIiwiZ2V0VmlzaWJsZSIsImdldEV4dGVudCIsImdldE1heFJlc29sdXRpb24iLCJnZXRNaW5SZXNvbHV0aW9uIiwiZ2V0TWluWm9vbSIsImdldE1heFpvb20iLCJnZXRMYXllcnNBcnJheSIsIm9wdF9hcnJheSIsImdldExheWVyU3RhdGVzQXJyYXkiLCJvcHRfc3RhdGVzIiwic2V0QmFja2dyb3VuZCIsIm9wdF9iYWNrZ3JvdW5kIiwic2V0RXh0ZW50Iiwic2V0TWF4UmVzb2x1dGlvbiIsInNldE1pblJlc29sdXRpb24iLCJzZXRNYXhab29tIiwic2V0TWluWm9vbSIsInNldE9wYWNpdHkiLCJzZXRWaXNpYmxlIiwic2V0WkluZGV4IiwiemluZGV4IiwiTGF5ZXIiLCJiYXNlT3B0aW9ucyIsIm1hcFByZWNvbXBvc2VLZXlfIiwibWFwUmVuZGVyS2V5XyIsInNvdXJjZUNoYW5nZUtleV8iLCJyZW5kZXJlcl8iLCJyZW5kZXIiLCJzZXRNYXAiLCJoYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8iLCJzZXRTb3VyY2UiLCJhcnJheSIsInN0YXRlcyIsImdldFNvdXJjZSIsImdldFN0YXRlIiwiaGFuZGxlU291cmNlQ2hhbmdlXyIsImdldEZlYXR1cmVzIiwicGl4ZWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsImZyYW1lU3RhdGUiLCJsYXllclJlbmRlcmVyIiwiZ2V0UmVuZGVyZXIiLCJwcmVwYXJlRnJhbWUiLCJyZW5kZXJGcmFtZSIsInNldE1hcEludGVybmFsIiwiZ2V0TWFwSW50ZXJuYWwiLCJsYXllclN0YXRlc0FycmF5IiwibGF5ZXJTdGF0ZSIsInNvbWUiLCJhcnJheUxheWVyU3RhdGUiLCJjcmVhdGVSZW5kZXJlciIsImhhc1JlbmRlcmVyIiwiQmFzZSIsImluVmlldyIsInZpZXdTdGF0ZSIsInpvb20iLCJjb29yZGluYXRlMSIsImNvb3JkaW5hdGUyIiwiY29zQW5nbGUiLCJzaW5BbmdsZSIsInByb2plY3Rpb24iLCJjYW5XcmFwWCIsIndvcmxkV2lkdGgiLCJ3b3JsZHNBd2F5Iiwib3B0X3NvdXJjZUV4dGVudFdpZHRoIiwicHJvamVjdGlvbkV4dGVudCIsInNvdXJjZUV4dGVudFdpZHRoIiwiTWFwUmVuZGVyZXIiLCJtYXBfIiwiZGlzcGF0Y2hSZW5kZXJFdmVudCIsImNhbGN1bGF0ZU1hdHJpY2VzMkQiLCJjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSIsInBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUiLCJoaXRUb2xlcmFuY2UiLCJjaGVja1dyYXBwZWQiLCJ0aGlzQXJnIiwibGF5ZXJGaWx0ZXIiLCJ0aGlzQXJnMiIsImZlYXR1cmUiLCJnZW9tZXRyeSIsInRyYW5zbGF0ZWRDb29yZGluYXRlIiwib2Zmc2V0cyIsImxheWVyU3RhdGVzIiwibnVtTGF5ZXJzIiwibWF0Y2hlcyIsInRtcENvb3JkIiwiaiIsImdldFdyYXBYIiwiY2FsbGJhY2tfMSIsIm9yZGVyIiwiZm9yRWFjaCIsImRpc3RhbmNlU3EiLCJmb3JFYWNoTGF5ZXJBdFBpeGVsIiwiaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImdldE1hcCIsInNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlIiwicG9zdFJlbmRlckZ1bmN0aW9ucyIsImV4cGlyZUljb25DYWNoZSIsIlJlbmRlckV2ZW50Iiwib3B0X2ludmVyc2VQaXhlbFRyYW5zZm9ybSIsIm9wdF9mcmFtZVN0YXRlIiwib3B0X2NvbnRleHQiLCJpbnZlcnNlUGl4ZWxUcmFuc2Zvcm0iLCJjb250ZXh0IiwiQ0xBU1NfSElEREVOIiwiQ0xBU1NfQ09OVFJPTCIsImZvbnRSZWdFeCIsIlJlZ0V4cCIsImZvbnRSZWdFeE1hdGNoSW5kZXgiLCJnZXRGb250UGFyYW1ldGVycyIsImZvbnRTcGVjIiwibWF0Y2giLCJsaW5lSGVpZ2h0Iiwid2VpZ2h0IiwidmFyaWFudCIsImZhbWlsaWVzIiwiZmFtaWx5IiwiY3NzT3BhY2l0eSIsImNyZWF0ZUNhbnZhc0NvbnRleHQyRCIsIm9wdF93aWR0aCIsIm9wdF9oZWlnaHQiLCJvcHRfY2FudmFzUG9vbCIsIm9wdF9Db250ZXh0MkRTZXR0aW5ncyIsImNhbnZhcyIsInNoaWZ0Iiwid2lkdGgiLCJnZXRDb250ZXh0IiwicmVwbGFjZU5vZGUiLCJuZXdOb2RlIiwib2xkTm9kZSIsInBhcmVudCIsInJlcGxhY2VDaGlsZCIsInJlbW92ZU5vZGUiLCJkZWZhdWx0Rm9udCIsImRlZmF1bHRGaWxsU3R5bGUiLCJkZWZhdWx0TGluZUNhcCIsImRlZmF1bHRMaW5lRGFzaCIsImRlZmF1bHRMaW5lSm9pbiIsImRlZmF1bHRTdHJva2VTdHlsZSIsImRlZmF1bHRUZXh0QWxpZ24iLCJkZWZhdWx0VGV4dEJhc2VsaW5lIiwiZGVmYXVsdFBhZGRpbmciLCJjaGVja2VkRm9udHMiLCJjb25zb2xlIiwid2FybiIsIm1lYXN1cmVGb250IiwibWVhc3VyZUVsZW1lbnQiLCJtZWFzdXJlQ29udGV4dCIsInRleHRIZWlnaHRzIiwicmVnaXN0ZXJGb250IiwiaW50ZXJ2YWwiLCJyZWZlcmVuY2VXaWR0aCIsInJlZmVyZW5jZUZvbnRzIiwidGV4dCIsImlzQXZhaWxhYmxlIiwiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsImZvbnRGYW1pbHkiLCJhdmFpbGFibGUiLCJyZWZlcmVuY2VGb250IiwibWVhc3VyZVRleHRXaWR0aCIsImNoZWNrIiwiZG9uZSIsImZvbnRzIiwiZm9udCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm1lYXN1cmVUZXh0IiwibWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoIiwiQ29tcG9zaXRlTWFwUmVuZGVyZXIiLCJmb250Q2hhbmdlTGlzdGVuZXJLZXlfIiwicmVkcmF3VGV4dCIsImVsZW1lbnRfIiwicG9zaXRpb24iLCJDTEFTU19VTlNFTEVDVEFCTEUiLCJjb250YWluZXIiLCJnZXRWaWV3cG9ydCIsImluc2VydEJlZm9yZSIsImNoaWxkcmVuXyIsInJlbmRlcmVkVmlzaWJsZV8iLCJldmVudF8xIiwiZGVjbHV0dGVyTGF5ZXJzIiwicHJldmlvdXNFbGVtZW50IiwibGF5ZXJJbmRleCIsInJlbmRlckRlY2x1dHRlciIsIm9sZENoaWxkcmVuIiwiY2hpbGROb2RlcyIsIm9sZENoaWxkIiwibmV3Q2hpbGQiLCJyZXBsYWNlQ2hpbGRyZW4iLCJkaXNwbGF5IiwiZ2V0RGF0YUF0UGl4ZWwiLCJNYXAiLCJDb2xsZWN0aW9uRXZlbnQiLCJvcHRfZWxlbWVudCIsIm9wdF9pbmRleCIsIkNvbGxlY3Rpb24iLCJvcHRfb3B0aW9ucyIsInVuaXF1ZV8iLCJ1bmlxdWUiLCJhcnJheV8iLCJhc3NlcnRVbmlxdWVfIiwidXBkYXRlTGVuZ3RoXyIsImdldExlbmd0aCIsImV4dGVuZCIsImdldEFycmF5IiwiaW5zZXJ0QXQiLCJlbGVtIiwiQ29sbGVjdGlvbkV2ZW50VHlwZSIsInJlbW92ZUF0IiwicHJldiIsInNldEF0Iiwib3B0X2V4Y2VwdCIsIkdyb3VwRXZlbnQiLCJMYXllckdyb3VwIiwibGF5ZXJzIiwibGF5ZXJzTGlzdGVuZXJLZXlzXyIsImxpc3RlbmVyS2V5c18iLCJoYW5kbGVMYXllcnNDaGFuZ2VkXyIsInNldExheWVycyIsImhhbmRsZUxheWVyQ2hhbmdlXyIsImdldExheWVycyIsImhhbmRsZUxheWVyc0FkZF8iLCJoYW5kbGVMYXllcnNSZW1vdmVfIiwibGF5ZXJzQXJyYXkiLCJyZWdpc3RlckxheWVyTGlzdGVuZXJzXyIsImxpc3RlbmVyS2V5cyIsImhhbmRsZUxheWVyR3JvdXBBZGRfIiwiaGFuZGxlTGF5ZXJHcm91cFJlbW92ZV8iLCJjb2xsZWN0aW9uRXZlbnQiLCJjb2xsZWN0aW9uIiwiY3VycmVudExheWVycyIsInBvcyIsIm93bkxheWVyU3RhdGUiLCJkZWZhdWx0WkluZGV4IiwiTWFwRXZlbnQiLCJNYXBCcm93c2VyRXZlbnQiLCJvcmlnaW5hbEV2ZW50Iiwib3B0X2RyYWdnaW5nIiwicGl4ZWxfIiwiY29vcmRpbmF0ZV8iLCJkcmFnZ2luZyIsImdldEV2ZW50UGl4ZWwiLCJjb25maWd1cmFibGUiLCJnZXRDb29yZGluYXRlRnJvbVBpeGVsIiwiU0lOR0xFQ0xJQ0siLCJDTElDSyIsIkRCTENMSUNLIiwiUE9JTlRFUkRSQUciLCJQT0lOVEVSTU9WRSIsIlBPSU5URVJET1dOIiwiUE9JTlRFUlVQIiwiUE9JTlRFUk9WRVIiLCJQT0lOVEVST1VUIiwiUE9JTlRFUkVOVEVSIiwiUE9JTlRFUkxFQVZFIiwiUE9JTlRFUkNBTkNFTCIsIk1hcEJyb3dzZXJFdmVudEhhbmRsZXIiLCJtb3ZlVG9sZXJhbmNlIiwiY2xpY2tUaW1lb3V0SWRfIiwiZW11bGF0ZUNsaWNrc18iLCJkcmFnZ2luZ18iLCJkcmFnTGlzdGVuZXJLZXlzXyIsIm1vdmVUb2xlcmFuY2VfIiwiZG93bl8iLCJhY3RpdmVQb2ludGVyc18iLCJ0cmFja2VkVG91Y2hlc18iLCJwb2ludGVyZG93bkxpc3RlbmVyS2V5XyIsImhhbmRsZVBvaW50ZXJEb3duXyIsIm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8iLCJyZWxheWVkTGlzdGVuZXJLZXlfIiwicmVsYXlFdmVudF8iLCJib3VuZEhhbmRsZVRvdWNoTW92ZV8iLCJoYW5kbGVUb3VjaE1vdmVfIiwiZW11bGF0ZUNsaWNrXyIsInBvaW50ZXJFdmVudCIsIm5ld0V2ZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVwZGF0ZUFjdGl2ZVBvaW50ZXJzXyIsInBvaW50ZXJJZCIsImhhbmRsZVBvaW50ZXJVcF8iLCJpc01vdXNlQWN0aW9uQnV0dG9uXyIsImJ1dHRvbiIsImRvYyIsImdldE93bmVyRG9jdW1lbnQiLCJoYW5kbGVQb2ludGVyTW92ZV8iLCJnZXRSb290Tm9kZSIsImlzTW92aW5nXyIsImNhbmNlbGFibGUiLCJhYnMiLCJjbGllbnRYIiwiY2xpZW50WSIsIkRST1AiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHlGdW5jdGlvbiIsImtleUZ1bmN0aW9uIiwicHJpb3JpdHlGdW5jdGlvbl8iLCJrZXlGdW5jdGlvbl8iLCJlbGVtZW50c18iLCJwcmlvcml0aWVzXyIsInF1ZXVlZEVsZW1lbnRzXyIsImRlcXVldWUiLCJlbGVtZW50cyIsInByaW9yaXRpZXMiLCJzaWZ0VXBfIiwiZWxlbWVudEtleSIsImVucXVldWUiLCJwcmlvcml0eSIsInNpZnREb3duXyIsImdldENvdW50IiwiZ2V0TGVmdENoaWxkSW5kZXhfIiwiZ2V0UmlnaHRDaGlsZEluZGV4XyIsImdldFBhcmVudEluZGV4XyIsImhlYXBpZnlfIiwiaXNFbXB0eSIsImlzS2V5UXVldWVkIiwiaXNRdWV1ZWQiLCJzdGFydEluZGV4IiwibEluZGV4IiwickluZGV4Iiwic21hbGxlckNoaWxkSW5kZXgiLCJwYXJlbnRJbmRleCIsInJlcHJpb3JpdGl6ZSIsIlRpbGVRdWV1ZSIsInRpbGVQcmlvcml0eUZ1bmN0aW9uIiwidGlsZUNoYW5nZUNhbGxiYWNrIiwiYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyIsImhhbmRsZVRpbGVDaGFuZ2UiLCJ0aWxlQ2hhbmdlQ2FsbGJhY2tfIiwidGlsZXNMb2FkaW5nXyIsInRpbGVzTG9hZGluZ0tleXNfIiwiYWRkZWQiLCJnZXRUaWxlc0xvYWRpbmciLCJ0aWxlIiwidGlsZUtleSIsImxvYWRNb3JlVGlsZXMiLCJtYXhUb3RhbExvYWRpbmciLCJtYXhOZXdMb2FkcyIsIm5ld0xvYWRzIiwiVW5pdHMiLCJSQURJQU5TIiwiREVHUkVFUyIsIkZFRVQiLCJNRVRFUlMiLCJQSVhFTFMiLCJUSUxFX1BJWEVMUyIsIlVTRkVFVCIsIkNFTlRFUiIsIlJFU09MVVRJT04iLCJST1RBVElPTiIsIkRFRkFVTFRfVElMRV9TSVpFIiwiUHJvamVjdGlvbiIsImNvZGVfIiwidW5pdHNfIiwiZXh0ZW50XyIsIndvcmxkRXh0ZW50XyIsIndvcmxkRXh0ZW50IiwiYXhpc09yaWVudGF0aW9uXyIsImF4aXNPcmllbnRhdGlvbiIsImdsb2JhbF8iLCJnbG9iYWwiLCJjYW5XcmFwWF8iLCJnZXRQb2ludFJlc29sdXRpb25GdW5jXyIsImdldFBvaW50UmVzb2x1dGlvbiIsImRlZmF1bHRUaWxlR3JpZF8iLCJtZXRlcnNQZXJVbml0XyIsIm1ldGVyc1BlclVuaXQiLCJnZXRDb2RlIiwiZ2V0VW5pdHMiLCJnZXRNZXRlcnNQZXJVbml0IiwiZ2V0V29ybGRFeHRlbnQiLCJnZXRBeGlzT3JpZW50YXRpb24iLCJpc0dsb2JhbCIsInNldEdsb2JhbCIsImdldERlZmF1bHRUaWxlR3JpZCIsInNldERlZmF1bHRUaWxlR3JpZCIsInRpbGVHcmlkIiwic2V0V29ybGRFeHRlbnQiLCJzZXRHZXRQb2ludFJlc29sdXRpb24iLCJmdW5jIiwiZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYyIsIlJBRElVUyIsIkhBTEZfU0laRSIsIkVYVEVOVCIsIldPUkxEX0VYVEVOVCIsIk1BWF9TQUZFX1kiLCJ0YW4iLCJFUFNHMzg1N1Byb2plY3Rpb24iLCJ1bml0cyIsInBvaW50IiwiUFJPSkVDVElPTlMiLCJFUFNHNDMyNlByb2plY3Rpb24iLCJvcHRfYXhpc09yaWVudGF0aW9uIiwidHJhbnNmb3JtcyIsImRlc3RpbmF0aW9uIiwidHJhbnNmb3JtRm4iLCJzb3VyY2VDb2RlIiwiZGVzdGluYXRpb25Db2RlIiwiZ2V0RGlzdGFuY2UiLCJjMSIsImMyIiwib3B0X3JhZGl1cyIsInJhZGl1cyIsImxhdDEiLCJsYXQyIiwiZGVsdGFMYXRCeTIiLCJkZWx0YUxvbkJ5MiIsImF0YW4yIiwiY2xvbmVUcmFuc2Zvcm0iLCJpbnB1dCIsIm9wdF9vdXRwdXQiLCJvcHRfZGltZW5zaW9uIiwiaWRlbnRpdHlUcmFuc2Zvcm0iLCJhZGRQcm9qZWN0aW9uIiwicHJvamVjdGlvbkxpa2UiLCJvcHRfdW5pdHMiLCJwb2ludFJlc29sdXRpb24iLCJ0b0VQU0c0MzI2XzEiLCJnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMiLCJ2ZXJ0aWNlcyIsImFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyIsInByb2plY3Rpb25zIiwiYWRkUHJvamVjdGlvbnMiLCJjcmVhdGVQcm9qZWN0aW9uIiwiZGVmYXVsdENvZGUiLCJmcm9tTG9uTGF0Iiwib3B0X3Byb2plY3Rpb24iLCJwcm9qZWN0aW9uMSIsInByb2plY3Rpb24yIiwiZXF1YWxVbml0cyIsInNvdXJjZVByb2plY3Rpb24iLCJkZXN0aW5hdGlvblByb2plY3Rpb24iLCJ0cmFuc2Zvcm1GdW5jIiwiZ2V0VHJhbnNmb3JtIiwicHJvamVjdGlvbnMyIiwiZm9yd2FyZFRyYW5zZm9ybSIsImludmVyc2VUcmFuc2Zvcm0iLCJ1c2VyUHJvamVjdGlvbiIsImdldFVzZXJQcm9qZWN0aW9uIiwidG9Vc2VyQ29vcmRpbmF0ZSIsImZyb21Vc2VyQ29vcmRpbmF0ZSIsImRlc3RQcm9qZWN0aW9uIiwidG9Vc2VyUmVzb2x1dGlvbiIsImNyZWF0ZUV4dGVudCIsIm9ubHlDZW50ZXIiLCJzbW9vdGgiLCJvcHRfaXNNb3ZpbmciLCJvcHRfY2VudGVyU2hpZnQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0Iiwic2hpZnRYIiwic2hpZnRZIiwicmF0aW8iLCJub25lIiwiZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbiIsIm1heEV4dGVudCIsInZpZXdwb3J0U2l6ZSIsInNob3dGdWxsRXh0ZW50IiwieFJlc29sdXRpb24iLCJ5UmVzb2x1dGlvbiIsImdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uIiwiY3JlYXRlTWluTWF4UmVzb2x1dGlvbiIsIm9wdF9zbW9vdGgiLCJvcHRfbWF4RXh0ZW50Iiwib3B0X3Nob3dGdWxsRXh0ZW50IiwiY2FwcGVkTWF4UmVzIiwiZGlzYWJsZSIsImVhc2VJbiIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImRpbWVuc2lvbiIsImF0YW4iLCJ0cmFuc2Zvcm0yRCIsIm9wdF9kZXN0IiwiZGVzdCIsImFuY2hvciIsImFuY2hvclgiLCJhbmNob3JZIiwiZGVsdGFYIiwiZGVsdGFZIiwidG1wVHJhbnNmb3JtIiwiR2VvbWV0cnkiLCJmbiIsImxhc3RSZXN1bHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiY2FsbGVkIiwiZXh0ZW50UmV2aXNpb25fIiwic2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSIsInNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uIiwic2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsIiwicmV2aXNpb24iLCJzcXVhcmVkVG9sZXJhbmNlIiwib3B0X3RyYW5zZm9ybSIsImdldFNpbXBsaWZpZWRHZW9tZXRyeSIsImFwcGx5VHJhbnNmb3JtIiwibmV4dEFyZ3MiLCJzaW1wbGlmeVRyYW5zZm9ybWVkIiwiY2xvc2VzdFBvaW50WFkiLCJjbG9zZXN0UG9pbnQiLCJtaW5TcXVhcmVkRGlzdGFuY2UiLCJjb29yZCIsImdldENsb3Nlc3RQb2ludCIsIm9wdF9jbG9zZXN0UG9pbnQiLCJOYU4iLCJpbnRlcnNlY3RzQ29vcmRpbmF0ZSIsImNvbXB1dGVFeHRlbnQiLCJpc05hTiIsInJldHVybk9yVXBkYXRlIiwicm90YXRlIiwic2NhbGUiLCJvcHRfc3kiLCJvcHRfYW5jaG9yIiwic2ltcGxpZnkiLCJ0b2xlcmFuY2UiLCJnZXRUeXBlIiwiaW50ZXJzZWN0c0V4dGVudCIsInRyYW5zbGF0ZSIsInNvdXJjZVByb2oiLCJpbkNvb3JkaW5hdGVzIiwib3V0Q29vcmRpbmF0ZXMiLCJwaXhlbEV4dGVudCIsInByb2plY3RlZEV4dGVudCIsIlNpbXBsZUdlb21ldHJ5IiwibGF5b3V0IiwiZ2V0Q29vcmRpbmF0ZXMiLCJnZXRGaXJzdENvb3JkaW5hdGUiLCJnZXRGbGF0Q29vcmRpbmF0ZXMiLCJnZXRMYXN0Q29vcmRpbmF0ZSIsImdldExheW91dCIsInNpbXBsaWZpZWRHZW9tZXRyeSIsImdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsIiwiZ2V0U3RyaWRlIiwic2V0RmxhdENvb3JkaW5hdGVzIiwiZ2V0U3RyaWRlRm9yTGF5b3V0Iiwic2V0Q29vcmRpbmF0ZXMiLCJvcHRfbGF5b3V0Iiwic2V0TGF5b3V0IiwibmVzdGluZyIsImdldExheW91dEZvclN0cmlkZSIsImFzc2lnbkNsb3Nlc3QiLCJvZmZzZXQxIiwib2Zmc2V0MiIsIm1heFNxdWFyZWREZWx0YSIsInNxdWFyZWREZWx0YSIsImFzc2lnbkNsb3Nlc3RQb2ludCIsIm1heERlbHRhIiwiaXNSaW5nIiwib3B0X3RtcFBvaW50Iiwic3F1YXJlZERpc3RhbmNlIiwidG1wUG9pbnQiLCJkZWZsYXRlQ29vcmRpbmF0ZXMiLCJzbmFwIiwicXVhbnRpemUiLCJzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIiwic2ltcGxpZmllZE9mZnNldCIsImluZmxhdGVDb29yZGluYXRlcyIsIm9wdF9jb29yZGluYXRlcyIsImluZmxhdGVDb29yZGluYXRlc0FycmF5IiwiZW5kcyIsIm9wdF9jb29yZGluYXRlc3MiLCJjb29yZGluYXRlc3MiLCJqaiIsImluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkiLCJlbmRzcyIsIm9wdF9jb29yZGluYXRlc3NzIiwiY29vcmRpbmF0ZXNzcyIsImxpbmVhclJpbmciLCJ0d2ljZUFyZWEiLCJMaW5lYXJSaW5nIiwibWF4RGVsdGFfIiwibWF4RGVsdGFSZXZpc2lvbl8iLCJtYXJrZXJzIiwic3RhY2siLCJsYXN0IiwiZmlyc3QiLCJtYXhTcXVhcmVkRGlzdGFuY2UiLCJzcXVhcmVkRGlzdGFuY2VfMSIsImRvdWdsYXNQZXVja2VyIiwiUG9pbnQiLCJkZWZsYXRlQ29vcmRpbmF0ZSIsImxpbmVhclJpbmdDb250YWluc0V4dGVudCIsImxpbmVhclJpbmdDb250YWluc1hZIiwid24iLCJsaW5lYXJSaW5nc0NvbnRhaW5zWFkiLCJpbnRlcnNlY3RzTGluZVN0cmluZyIsImNvb3JkaW5hdGVzRXh0ZW50IiwicmV0IiwicG9pbnQxIiwicG9pbnQyIiwic3RhcnQiLCJzdGFydFJlbCIsImVuZFJlbCIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwic2xvcGUiLCJpbnRlcnNlY3RzU2VnbWVudCIsImxpbmVhclJpbmdJc0Nsb2Nrd2lzZSIsImVkZ2UiLCJvcmllbnRMaW5lYXJSaW5ncyIsIm9wdF9yaWdodCIsInJpZ2h0IiwiaXNDbG9ja3dpc2UiLCJQb2x5Z29uIiwib3B0X2VuZHMiLCJlbmRzXyIsImZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fIiwiZmxhdEludGVyaW9yUG9pbnRfIiwib3JpZW50ZWRSZXZpc2lvbl8iLCJvcmllbnRlZEZsYXRDb29yZGluYXRlc18iLCJhcHBlbmRMaW5lYXJSaW5nIiwicG9seWdvbiIsImFycmF5TWF4U3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQiLCJnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyIsImxpbmVhclJpbmdzIiwiZ2V0RW5kcyIsImdldEZsYXRJbnRlcmlvclBvaW50IiwiZmxhdENlbnRlciIsImZsYXRDZW50ZXJzIiwiZmxhdENlbnRlcnNPZmZzZXQiLCJpbnRlcnNlY3Rpb25zIiwicnIiLCJwb2ludFgiLCJtYXhTZWdtZW50TGVuZ3RoIiwic2VnbWVudExlbmd0aCIsImdldEludGVyaW9yUG9pbnRPZkFycmF5IiwiZ2V0SW50ZXJpb3JQb2ludCIsImdldExpbmVhclJpbmdDb3VudCIsImdldExpbmVhclJpbmciLCJnZXRMaW5lYXJSaW5ncyIsImxpbmVhclJpbmdzQXJlT3JpZW50ZWQiLCJzaW1wbGlmaWVkRW5kcyIsInF1YW50aXplQXJyYXkiLCJpbnRlcnNlY3RzTGluZWFyUmluZyIsImludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkiLCJkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSIsImZyb21FeHRlbnQiLCJWaWV3IiwiaGludHNfIiwiYW5pbWF0aW9uc18iLCJ1cGRhdGVBbmltYXRpb25LZXlfIiwicHJvamVjdGlvbl8iLCJ2aWV3cG9ydFNpemVfIiwidGFyZ2V0Q2VudGVyXyIsInRhcmdldFJlc29sdXRpb25fIiwidGFyZ2V0Um90YXRpb25fIiwibmV4dENlbnRlcl8iLCJuZXh0UmVzb2x1dGlvbl8iLCJuZXh0Um90YXRpb25fIiwiY2FuY2VsQW5jaG9yXyIsImFwcGx5T3B0aW9uc18iLCJWaWV3UHJvcGVydHkiLCJyZXNvbHV0aW9uQ29uc3RyYWludEluZm8iLCJyZXNvbHV0aW9uQ29uc3RyYWludCIsInpvb21GYWN0b3IiLCJtdWx0aVdvcmxkIiwic21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJwcm9qRXh0ZW50IiwiY29uc3RyYWluT25seUNlbnRlciIsInJlc29sdXRpb25zIiwiY29uc3RyYWluUmVzb2x1dGlvbiIsImNhcHBlZCIsInoiLCJjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyIsImRlZmF1bHRNYXhSZXNvbHV0aW9uIiwiZGVmYXVsdE1pblJlc29sdXRpb24iLCJkZWZhdWx0TWF4Wm9vbSIsInBvd2VyIiwib3B0X21pblJlc29sdXRpb24iLCJtaW5ab29tTGV2ZWwiLCJjYXBwZWRab29tTGV2ZWwiLCJ6b29tTGV2ZWwiLCJjcmVhdGVTbmFwVG9Qb3dlciIsImNvbnN0cmFpbnQiLCJjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludCIsIm1heFJlc29sdXRpb25fIiwibWluUmVzb2x1dGlvbl8iLCJ6b29tRmFjdG9yXyIsInJlc29sdXRpb25zXyIsInBhZGRpbmdfIiwicGFkZGluZyIsIm1pblpvb21fIiwiY2VudGVyQ29uc3RyYWludCIsInNtb290aEV4dGVudENvbnN0cmFpbnQiLCJjcmVhdGVDZW50ZXJDb25zdHJhaW50Iiwicm90YXRpb25Db25zdHJhaW50IiwiZW5hYmxlUm90YXRpb24iLCJjb25zdHJhaW5Sb3RhdGlvbiIsInRoZXRhIiwiY3JlYXRlUm90YXRpb25Db25zdHJhaW50IiwiY29uc3RyYWludHNfIiwic2V0Um90YXRpb24iLCJzZXRDZW50ZXJJbnRlcm5hbCIsInNldFJlc29sdXRpb24iLCJzZXRab29tIiwib2xkUGFkZGluZyIsIm5ld1BhZGRpbmciLCJnZXRSZXNvbHV0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiZ2V0Wm9vbSIsImdldENlbnRlckludGVybmFsIiwiZ2V0Um90YXRpb24iLCJhbmltYXRlIiwidmFyX2FyZ3MiLCJpc0RlZiIsImdldEFuaW1hdGluZyIsInJlc29sdmVDb25zdHJhaW50cyIsImFyZ3MiLCJnZXRQcm9qZWN0aW9uIiwiYW5pbWF0ZUludGVybmFsIiwiYW5pbWF0aW9uQ291bnQiLCJEYXRlIiwibm93Iiwic2VyaWVzIiwiYW5pbWF0aW9uIiwiY29tcGxldGUiLCJkdXJhdGlvbiIsImVhc2luZyIsInNvdXJjZUNlbnRlciIsInRhcmdldENlbnRlciIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRSZXNvbHV0aW9uIiwiZ2V0UmVzb2x1dGlvbkZvclpvb20iLCJzb3VyY2VSb3RhdGlvbiIsImRlbHRhIiwidGFyZ2V0Um90YXRpb24iLCJpc05vb3BBbmltYXRpb24iLCJzZXRIaW50IiwidXBkYXRlQW5pbWF0aW9uc18iLCJhbmltYXRpb25DYWxsYmFjayIsImdldEludGVyYWN0aW5nIiwiY2FuY2VsQW5pbWF0aW9ucyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW9yZSIsInNlcmllc0NvbXBsZXRlIiwiZWxhcHNlZCIsImZyYWN0aW9uIiwicHJvZ3Jlc3MiLCJnZXRWaWV3cG9ydFNpemVfIiwiY29uc3RyYWluZWRSZXNvbHV0aW9uIiwiY2FsY3VsYXRlQ2VudGVyWm9vbSIsImFwcGx5VGFyZ2V0U3RhdGVfIiwiY29uc3RyYWluZWRSb3RhdGlvbiIsImNhbGN1bGF0ZUNlbnRlclJvdGF0ZSIsImZpbHRlciIsIkJvb2xlYW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50Q2VudGVyIiwiY3VycmVudFJlc29sdXRpb24iLCJvcHRfcm90YXRpb24iLCJ3Iiwic2V0Vmlld3BvcnRTaXplIiwib3B0X3NpemUiLCJnZXRDb25zdHJhaW50cyIsImdldENvbnN0cmFpblJlc29sdXRpb24iLCJnZXRIaW50cyIsIm9wdF9oaW50cyIsImNhbGN1bGF0ZUV4dGVudCIsImNhbGN1bGF0ZUV4dGVudEludGVybmFsIiwiZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXyIsImdldFpvb21Gb3JSZXNvbHV0aW9uIiwic2V0Q29uc3RyYWluUmVzb2x1dGlvbiIsImVuYWJsZWQiLCJnZXRSZXNvbHV0aW9ucyIsImdldFJlc29sdXRpb25Gb3JFeHRlbnQiLCJnZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwiLCJnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiIsIm9wdF9wb3dlciIsImdldENvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uIiwibG9nUG93ZXIiLCJyZWR1Y2VkU2l6ZSIsImNhbGN1bGF0ZUNlbnRlck9uIiwibmV4dENlbnRlciIsIm5leHRSZXNvbHV0aW9uIiwibmV4dFJvdGF0aW9uIiwibmVhcmVzdCIsImJhc2VMZXZlbCIsImZpdCIsImdlb21ldHJ5T3JFeHRlbnQiLCJmaXRJbnRlcm5hbCIsInJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeSIsImNvb3JkcyIsIm1pblJvdFgiLCJtaW5Sb3RZIiwibWF4Um90WCIsIm1heFJvdFkiLCJyb3RYIiwicm90WSIsInJvdGF0ZWRFeHRlbnQiLCJjZW50ZXJSb3QiLCJjZW50ZXJYIiwiY2VudGVyWSIsImdldENvbnN0cmFpbmVkQ2VudGVyIiwiY2VudGVyT24iLCJjZW50ZXJPbkludGVybmFsIiwiY2FsY3VsYXRlQ2VudGVyU2hpZnQiLCJjZW50ZXJTaGlmdCIsInNoaWZ0ZWRDZW50ZXIiLCJhZGp1c3RDZW50ZXIiLCJkZWx0YUNvb3JkaW5hdGVzIiwic2V0Q2VudGVyIiwiYWRqdXN0Q2VudGVySW50ZXJuYWwiLCJhZGp1c3RSZXNvbHV0aW9uIiwiYWRqdXN0UmVzb2x1dGlvbkludGVybmFsIiwiaXNNb3ZpbmciLCJuZXdSZXNvbHV0aW9uIiwiYWRqdXN0Wm9vbSIsImFkanVzdFJvdGF0aW9uIiwiYWRqdXN0Um90YXRpb25JbnRlcm5hbCIsIm5ld1JvdGF0aW9uIiwiaGludCIsIm9wdF9kb05vdENhbmNlbEFuaW1zIiwib3B0X2ZvcmNlTW92aW5nIiwibmV3Q2VudGVyIiwib3B0X2R1cmF0aW9uIiwib3B0X3Jlc29sdXRpb25EaXJlY3Rpb24iLCJiZWdpbkludGVyYWN0aW9uIiwiZW5kSW50ZXJhY3Rpb24iLCJlbmRJbnRlcmFjdGlvbkludGVybmFsIiwib3B0X3RhcmdldFJlc29sdXRpb24iLCJnZXRDb25zdHJhaW5lZFpvb20iLCJ0YXJnZXRab29tIiwib3B0X2RpcmVjdGlvbiIsInRhcmdldFJlcyIsInJldHVyblZhbHVlIiwiaGFzQXJlYSIsInRvU2l6ZSIsInJlbW92ZUxheWVyTWFwUHJvcGVydHkiLCJzZXRMYXllck1hcFByb3BlcnR5IiwiUGx1Z2dhYmxlTWFwIiwib3B0aW9uc0ludGVybmFsIiwia2V5Ym9hcmRFdmVudFRhcmdldCIsImdldEVsZW1lbnRCeUlkIiwiY29udHJvbHMiLCJpbnRlcmFjdGlvbnMiLCJvdmVybGF5cyIsImxheWVyR3JvdXAiLCJ2aWV3IiwiY3JlYXRlT3B0aW9uc0ludGVybmFsIiwicmVuZGVyQ29tcGxldGVfIiwiYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfIiwiaGFuZGxlQnJvd3NlckV2ZW50IiwibWF4VGlsZXNMb2FkaW5nXyIsIm1heFRpbGVzTG9hZGluZyIsInBpeGVsUmF0aW9fIiwicGl4ZWxSYXRpbyIsInBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyIsImFuaW1hdGlvbkRlbGF5S2V5XyIsImFuaW1hdGlvbkRlbGF5XyIsInJlbmRlckZyYW1lXyIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyIsInBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyIsImZyYW1lSW5kZXhfIiwiZnJhbWVTdGF0ZV8iLCJwcmV2aW91c0V4dGVudF8iLCJ2aWV3UHJvcGVydHlMaXN0ZW5lcktleV8iLCJ2aWV3Q2hhbmdlTGlzdGVuZXJLZXlfIiwibGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyIsInZpZXdwb3J0XyIsIm92ZXJmbG93Iiwib3ZlcmxheUNvbnRhaW5lcl8iLCJwb2ludGVyRXZlbnRzIiwib3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8iLCJtYXBCcm93c2VyRXZlbnRIYW5kbGVyXyIsImtleWJvYXJkRXZlbnRUYXJnZXRfIiwidGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfIiwib3ZlcmxheXNfIiwib3ZlcmxheUlkSW5kZXhfIiwicG9zdFJlbmRlckZ1bmN0aW9uc18iLCJ0aWxlUXVldWVfIiwiZ2V0VGlsZVByaW9yaXR5IiwiaGFuZGxlVGlsZUNoYW5nZV8iLCJNYXBQcm9wZXJ0eSIsImhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyIsImhhbmRsZVZpZXdDaGFuZ2VkXyIsImhhbmRsZVNpemVDaGFuZ2VkXyIsImhhbmRsZVRhcmdldENoYW5nZWRfIiwidGhlbiIsInZpZXdPcHRpb25zIiwic2V0VmlldyIsImFkZE92ZXJsYXlJbnRlcm5hbF8iLCJnZXRJZCIsImNvbnRyb2wiLCJpbnRlcmFjdGlvbiIsImFkZENvbnRyb2wiLCJnZXRDb250cm9scyIsImFkZEludGVyYWN0aW9uIiwiZ2V0SW50ZXJhY3Rpb25zIiwiYWRkTGF5ZXIiLCJnZXRMYXllckdyb3VwIiwiaGFuZGxlTGF5ZXJBZGRfIiwiYWRkT3ZlcmxheSIsIm92ZXJsYXkiLCJnZXRPdmVybGF5cyIsInNldFRhcmdldCIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsImdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbCIsImdldEZlYXR1cmVzQXRQaXhlbCIsImZlYXR1cmVzIiwiZ2V0QWxsTGF5ZXJzIiwiYWRkTGF5ZXJzRnJvbSIsImhhc0ZlYXR1cmVBdFBpeGVsIiwiZ2V0RXZlbnRDb29yZGluYXRlIiwiZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwiLCJ2aWV3cG9ydFBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZXZlbnRQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwibGVmdCIsInRvcCIsImdldFRhcmdldEVsZW1lbnQiLCJnZXRWaWV3IiwiZ2V0T3ZlcmxheUJ5SWQiLCJncm91cCIsImdldExvYWRpbmciLCJsb2FkaW5nIiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSIsInZpZXdDb29yZGluYXRlIiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsIiwiZ2V0U2l6ZSIsImdldE92ZXJsYXlDb250YWluZXIiLCJnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50IiwidGFyZ2V0RWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJ0aWxlU291cmNlS2V5IiwidGlsZUNlbnRlciIsInRpbGVSZXNvbHV0aW9uIiwid2FudGVkVGlsZXMiLCJicm93c2VyRXZlbnQiLCJtYXBCcm93c2VyRXZlbnQiLCJoYW5kbGVNYXBCcm93c2VyRXZlbnQiLCJyb290Tm9kZSIsImNvbnRhaW5zIiwiZG9jdW1lbnRFbGVtZW50IiwiaW50ZXJhY3Rpb25zQXJyYXkiLCJnZXRBY3RpdmUiLCJoYW5kbGVQb3N0UmVuZGVyIiwidGlsZVF1ZXVlIiwiaGludHMiLCJ2aWV3SGludHMiLCJsb3dPbkZyYW1lQnVkZ2V0IiwidGltZSIsImRlZmF1bHRWaWV3IiwidXBkYXRlU2l6ZSIsImhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfIiwidXBkYXRlVmlld3BvcnRTaXplXyIsImhhbmRsZUxheWVyUmVtb3ZlXyIsImlzUmVuZGVyZWQiLCJyZW5kZXJTeW5jIiwiaGFuZGxlRm9udHNDaGFuZ2VkIiwicmVtb3ZlQ29udHJvbCIsInJlbW92ZUludGVyYWN0aW9uIiwicmVtb3ZlTGF5ZXIiLCJyZW1vdmVPdmVybGF5IiwicHJldmlvdXNGcmFtZVN0YXRlIiwiZGVjbHV0dGVyVHJlZSIsInVzZWRUaWxlcyIsIm1hcElkIiwicmVuZGVyVGFyZ2V0cyIsIm5leHRFeHRlbnQiLCJNYXBFdmVudFR5cGUiLCJzZXRMYXllckdyb3VwIiwib2xkTGF5ZXJHcm91cCIsImNvbXB1dGVkU3R5bGUiLCJvZmZzZXRXaWR0aCIsInBhcnNlRmxvYXQiLCJvZmZzZXRIZWlnaHQiLCJnZXRDbGllbnRSZWN0cyIsIkNvbnRyb2wiLCJ0YXJnZXRfIiwibWFwRXZlbnQiLCJBdHRyaWJ1dGlvbiIsInVsRWxlbWVudF8iLCJjb2xsYXBzZWRfIiwiY29sbGFwc2VkIiwidXNlckNvbGxhcHNlZF8iLCJvdmVycmlkZUNvbGxhcHNpYmxlXyIsImNvbGxhcHNpYmxlIiwiY29sbGFwc2libGVfIiwidGlwTGFiZWwiLCJleHBhbmRDbGFzc05hbWUiLCJjb2xsYXBzZUxhYmVsIiwiY29sbGFwc2VDbGFzc05hbWUiLCJjb2xsYXBzZUxhYmVsXyIsInRleHRDb250ZW50IiwibGFiZWwiLCJsYWJlbF8iLCJhY3RpdmVMYWJlbCIsInRvZ2dsZUJ1dHRvbl8iLCJ0aXRsZSIsImhhbmRsZUNsaWNrXyIsImNzc0NsYXNzZXMiLCJyZW5kZXJlZEF0dHJpYnV0aW9uc18iLCJjb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyIsImxvb2t1cCIsInZpc2libGVBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkdldHRlciIsImdldEF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9ucyIsImdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwic2V0Q29sbGFwc2libGUiLCJ1cGRhdGVFbGVtZW50XyIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkcmVuIiwiaW5uZXJIVE1MIiwiaGFuZGxlVG9nZ2xlXyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImdldENvbGxhcHNpYmxlIiwic2V0Q29sbGFwc2VkIiwiZ2V0Q29sbGFwc2VkIiwiUm90YXRlIiwiY29tcGFzc0NsYXNzTmFtZSIsImFkZCIsImNhbGxSZXNldE5vcnRoXyIsInJlc2V0Tm9ydGgiLCJkdXJhdGlvbl8iLCJhdXRvSGlkZV8iLCJhdXRvSGlkZSIsInJvdGF0aW9uXyIsInJlc2V0Tm9ydGhfIiwiWm9vbSIsInpvb21JbkNsYXNzTmFtZSIsInpvb21PdXRDbGFzc05hbWUiLCJ6b29tSW5MYWJlbCIsInpvb21PdXRMYWJlbCIsInpvb21JblRpcExhYmVsIiwiem9vbU91dFRpcExhYmVsIiwiaW5FbGVtZW50Iiwib3V0RWxlbWVudCIsInpvb21CeURlbHRhXyIsImN1cnJlbnRab29tIiwibmV3Wm9vbSIsInpvb21CeURlbHRhIiwiSW50ZXJhY3Rpb24iLCJzZXRBY3RpdmUiLCJhY3RpdmUiLCJEb3VibGVDbGlja1pvb20iLCJkZWx0YV8iLCJzdG9wRXZlbnQiLCJzaGlmdEtleSIsIlBvaW50ZXJJbnRlcmFjdGlvbiIsImhhbmRsZURvd25FdmVudCIsImhhbmRsZURyYWdFdmVudCIsImhhbmRsZU1vdmVFdmVudCIsImhhbmRsZVVwRXZlbnQiLCJzdG9wRG93biIsImhhbmRsaW5nRG93blVwU2VxdWVuY2UiLCJ0cmFja2VkUG9pbnRlcnNfIiwidGFyZ2V0UG9pbnRlcnMiLCJnZXRQb2ludGVyQ291bnQiLCJ1cGRhdGVUcmFja2VkUG9pbnRlcnNfIiwiaGFuZGxlZFVwIiwiaGFuZGxlZCIsImlzUG9pbnRlckRyYWdnaW5nRXZlbnQiLCJjb25kaXRpb25zIiwicGFzcyIsImFsdFNoaWZ0S2V5c09ubHkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiY3RybEtleSIsImZvY3VzV2l0aFRhYmluZGV4IiwiaGFzQXR0cmlidXRlIiwiYWN0aXZlRWxlbWVudCIsImFsd2F5cyIsIm1vdXNlQWN0aW9uQnV0dG9uIiwibm9Nb2RpZmllcktleXMiLCJzaGlmdEtleU9ubHkiLCJ0YXJnZXROb3RFZGl0YWJsZSIsInRhZ05hbWUiLCJtb3VzZU9ubHkiLCJwb2ludGVyVHlwZSIsInByaW1hcnlBY3Rpb24iLCJpc1ByaW1hcnkiLCJEcmFnUGFuIiwia2luZXRpY18iLCJraW5ldGljIiwibGFzdENlbnRyb2lkIiwibGFzdFBvaW50ZXJzQ291bnRfIiwicGFubmluZ18iLCJjb25kaXRpb24iLCJjb25kaXRpb25fIiwib25Gb2N1c09ubHkiLCJub0tpbmV0aWNfIiwiY2VudHJvaWQiLCJkaXN0YW5jZSIsImdldEFuZ2xlIiwiY2VudGVycHgiLCJQb2ludGVyIiwiRHJhZ1JvdGF0ZSIsImxhc3RBbmdsZV8iLCJSZW5kZXJCb3giLCJnZW9tZXRyeV8iLCJzdGFydFBpeGVsXyIsImVuZFBpeGVsXyIsInJlbmRlcl8iLCJzdGFydFBpeGVsIiwiZW5kUGl4ZWwiLCJweCIsInNldFBpeGVscyIsImNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkiLCJnZXRHZW9tZXRyeSIsIkRyYWdCb3hFdmVudCIsIkRyYWdCb3giLCJib3hfIiwibWluQXJlYV8iLCJtaW5BcmVhIiwib25Cb3hFbmQiLCJib3hFbmRDb25kaXRpb25fIiwiYm94RW5kQ29uZGl0aW9uIiwiZGVmYXVsdEJveEVuZENvbmRpdGlvbiIsImNvbXBsZXRlQm94IiwiRHJhZ1pvb20iLCJvdXRfIiwib3V0IiwiS2V5Ym9hcmRQYW4iLCJkZWZhdWx0Q29uZGl0aW9uXyIsInBpeGVsRGVsdGFfIiwicGl4ZWxEZWx0YSIsImtleUV2ZW50Iiwia2V5Q29kZSIsIm1hcFVuaXRzRGVsdGEiLCJwYW4iLCJLZXlib2FyZFpvb20iLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJLaW5ldGljIiwiZGVjYXkiLCJtaW5WZWxvY2l0eSIsImRlbGF5IiwiZGVjYXlfIiwibWluVmVsb2NpdHlfIiwiZGVsYXlfIiwicG9pbnRzXyIsImFuZ2xlXyIsImluaXRpYWxWZWxvY2l0eV8iLCJsYXN0SW5kZXgiLCJmaXJzdEluZGV4IiwiTW9kZSIsIk1vdXNlV2hlZWxab29tIiwidG90YWxEZWx0YV8iLCJsYXN0RGVsdGFfIiwidGltZW91dF8iLCJ0aW1lb3V0IiwidXNlQW5jaG9yXyIsInVzZUFuY2hvciIsImNvbnN0cmFpblJlc29sdXRpb25fIiwibGFzdEFuY2hvcl8iLCJzdGFydFRpbWVfIiwidGltZW91dElkXyIsIm1vZGVfIiwidHJhY2twYWRFdmVudEdhcF8iLCJ0cmFja3BhZFRpbWVvdXRJZF8iLCJkZWx0YVBlclpvb21fIiwiZW5kSW50ZXJhY3Rpb25fIiwid2hlZWxFdmVudCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfUElYRUwiLCJET01fREVMVEFfTElORSIsInRpbWVMZWZ0IiwiaGFuZGxlV2hlZWxab29tXyIsInNldE1vdXNlQW5jaG9yIiwiUGluY2hSb3RhdGUiLCJwb2ludGVyT3B0aW9ucyIsImFuY2hvcl8iLCJyb3RhdGluZ18iLCJyb3RhdGlvbkRlbHRhXyIsInRocmVzaG9sZF8iLCJ0aHJlc2hvbGQiLCJyb3RhdGlvbkRlbHRhIiwidG91Y2gwIiwidG91Y2gxIiwiUGluY2hab29tIiwibGFzdERpc3RhbmNlXyIsImxhc3RTY2FsZURlbHRhXyIsInNjYWxlRGVsdGEiLCJ6b29tT3B0aW9ucyIsInJvdGF0ZU9wdGlvbnMiLCJhdHRyaWJ1dGlvbiIsImF0dHJpYnV0aW9uT3B0aW9ucyIsImFsdFNoaWZ0RHJhZ1JvdGF0ZSIsImRvdWJsZUNsaWNrWm9vbSIsInpvb21EZWx0YSIsInpvb21EdXJhdGlvbiIsImRyYWdQYW4iLCJwaW5jaFJvdGF0ZSIsInBpbmNoWm9vbSIsImtleWJvYXJkIiwibW91c2VXaGVlbFpvb20iLCJzaGlmdERyYWdab29tIiwiQ29tcG9zaXRlIiwiQmFzZVRpbGVMYXllciIsInByZWxvYWQiLCJ1c2VJbnRlcmltVGlsZXNPbkVycm9yIiwic2V0UHJlbG9hZCIsInNldFVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJnZXRQcmVsb2FkIiwiVGlsZVByb3BlcnR5IiwiZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciIsIkxheWVyUmVuZGVyZXIiLCJib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyIsImhhbmRsZUltYWdlQ2hhbmdlXyIsImxheWVyXyIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXAiLCJsb2FkZWRUaWxlQ2FsbGJhY2siLCJ0aWxlcyIsInRpbGVDb29yZCIsImNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIiLCJ0aWxlUmFuZ2UiLCJmb3JFYWNoTG9hZGVkVGlsZSIsImdldExheWVyIiwicmVuZGVySWZSZWFkeUFuZFZpc2libGUiLCJsb2FkSW1hZ2UiLCJpbWFnZSIsImltYWdlU3RhdGUiLCJDYW52YXNMYXllclJlbmRlcmVyIiwicmVuZGVyZWRSZXNvbHV0aW9uIiwidGVtcFRyYW5zZm9ybSIsInBpeGVsVHJhbnNmb3JtIiwiY29udGFpbmVyUmV1c2VkIiwicGl4ZWxDb250ZXh0XyIsInVzZUNvbnRhaW5lciIsIm9wdF9iYWNrZ3JvdW5kQ29sb3IiLCJsYXllckNsYXNzTmFtZSIsImJhY2tncm91bmRDb2xvciIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjbGlwVW5yb3RhdGVkIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0IiwiaW52ZXJ0ZWQiLCJzYXZlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xpcCIsImRpc3BhdGNoUmVuZGVyRXZlbnRfIiwicHJlUmVuZGVyIiwicG9zdFJlbmRlciIsImdldFJlbmRlclRyYW5zZm9ybSIsInJlbmRlclBpeGVsIiwibGF5ZXJFeHRlbnQiLCJwaXhlbENvbnRleHQiLCJwaXhlbENhbnZhcyIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImdldEltYWdlRGF0YSIsImVyciIsIlVpbnQ4QXJyYXkiLCJUaWxlUmFuZ2UiLCJjb250YWluc1RpbGVSYW5nZSIsImdldFdpZHRoIiwiSU1BR0VfU01PT1RISU5HX0RJU0FCTEVEIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJJTUFHRV9TTU9PVEhJTkdfRU5BQkxFRCIsIkNhbnZhc1RpbGVMYXllclJlbmRlcmVyIiwidGlsZUxheWVyIiwiZXh0ZW50Q2hhbmdlZCIsInJlbmRlcmVkRXh0ZW50XyIsInJlbmRlcmVkUGl4ZWxSYXRpbyIsInJlbmRlcmVkUHJvamVjdGlvbiIsInJlbmRlcmVkUmV2aXNpb24iLCJyZW5kZXJlZFRpbGVzIiwibmV3VGlsZXNfIiwidG1wRXh0ZW50IiwidG1wVGlsZVJhbmdlXyIsImlzRHJhd2FibGVUaWxlIiwidGlsZVN0YXRlIiwiZ2V0VGlsZSIsInNldFN0YXRlIiwiZ2V0SW50ZXJpbVRpbGUiLCJ2aWV3UmVzb2x1dGlvbiIsInZpZXdDZW50ZXIiLCJ0aWxlU291cmNlIiwic291cmNlUmV2aXNpb24iLCJnZXRUaWxlR3JpZEZvclByb2plY3Rpb24iLCJnZXRaRm9yUmVzb2x1dGlvbiIsInpEaXJlY3Rpb24iLCJ0aWxlUGl4ZWxSYXRpbyIsImdldFRpbGVQaXhlbFJhdGlvIiwiY2FudmFzRXh0ZW50IiwiZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWiIsInRpbGVzVG9EcmF3QnlaIiwiZmluZExvYWRlZFRpbGVzIiwidG1wVGlsZVJhbmdlIiwidWlkIiwiaW5UcmFuc2l0aW9uIiwiZ2V0QWxwaGEiLCJjaGlsZFRpbGVSYW5nZSIsImdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlIiwiY292ZXJlZCIsImZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UiLCJjYW52YXNTY2FsZSIsImNhbnZhc1RyYW5zZm9ybSIsImdldEludGVycG9sYXRlIiwiY2xpcHMiLCJjbGlwWnMiLCJjdXJyZW50Q2xpcCIsInpzIiwiZ2V0T3BhcXVlIiwicmV2ZXJzZSIsImN1cnJlbnRaIiwiY3VycmVudFRpbGVQaXhlbFNpemUiLCJnZXRUaWxlUGl4ZWxTaXplIiwiY3VycmVudFNjYWxlIiwiZHhfMSIsImR5XzEiLCJvcmlnaW5UaWxlQ29vcmQiLCJnZXRUaWxlQ29vcmRGb3JDb29yZEFuZFoiLCJvcmlnaW5UaWxlRXh0ZW50IiwiZ2V0VGlsZUNvb3JkRXh0ZW50Iiwib3JpZ2luXzEiLCJ0aWxlR3V0dGVyIiwiZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiIsInRpbGVzVG9EcmF3IiwidGlsZUNvb3JkS2V5IiwieEluZGV4IiwibmV4dFgiLCJ5SW5kZXgiLCJuZXh0WSIsInRyYW5zaXRpb24iLCJpXzEiLCJkcmF3VGlsZUltYWdlIiwicmVzdG9yZSIsInVuc2hpZnQiLCJ1cGRhdGVVc2VkVGlsZXMiLCJtYW5hZ2VUaWxlUHlyYW1pZCIsInNjaGVkdWxlRXhwaXJlQ2FjaGUiLCJndXR0ZXIiLCJnZXRUaWxlSW1hZ2UiLCJhbHBoYSIsImFscGhhQ2hhbmdlZCIsImdsb2JhbEFscGhhIiwiZW5kVHJhbnNpdGlvbiIsImdldEltYWdlIiwicG9zdFJlbmRlckZ1bmN0aW9uIiwiZXhwaXJlQ2FjaGUiLCJvcHRfdGlsZUNhbGxiYWNrIiwidGlsZUNvdW50IiwiZ2V0VGlsZUNvb3JkQ2VudGVyIiwidXNlVGlsZSIsInVwZGF0ZUNhY2hlU2l6ZSIsIlRpbGVMYXllciIsIkJhc2VUaWxlIiwiVGlsZSIsImludGVyaW1UaWxlIiwidHJhbnNpdGlvbl8iLCJ0cmFuc2l0aW9uU3RhcnRzXyIsImludGVycG9sYXRlIiwicmVsZWFzZSIsInJlZnJlc2hJbnRlcmltQ2hhaW4iLCJnZXRUaWxlQ29vcmQiLCJJbWFnZUJhc2UiLCJnZXRQaXhlbFJhdGlvIiwibGlzdGVuSW1hZ2UiLCJsb2FkSGFuZGxlciIsImVycm9ySGFuZGxlciIsImltZyIsImxpc3RlbmluZyIsImRlY29kaW5nIiwibG9hZGVkIiwiY2F0Y2giLCJJbWFnZVdyYXBwZXIiLCJpbWFnZUxvYWRGdW5jdGlvbiIsInNyY18iLCJpbWFnZV8iLCJ1bmxpc3Rlbl8iLCJpbWFnZUxvYWRGdW5jdGlvbl8iLCJoYW5kbGVJbWFnZUVycm9yXyIsInVubGlzdGVuSW1hZ2VfIiwiaGFuZGxlSW1hZ2VMb2FkXyIsInNldEltYWdlIiwiSW1hZ2VUaWxlIiwidGlsZUxvYWRGdW5jdGlvbiIsImNyb3NzT3JpZ2luXyIsInRpbGVMb2FkRnVuY3Rpb25fIiwiY3R4IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiVHJpYW5ndWxhdGlvbiIsInRhcmdldFByb2oiLCJ0YXJnZXRFeHRlbnQiLCJtYXhTb3VyY2VFeHRlbnQiLCJlcnJvclRocmVzaG9sZCIsIm9wdF9kZXN0aW5hdGlvblJlc29sdXRpb24iLCJzb3VyY2VQcm9qXyIsInRhcmdldFByb2pfIiwidHJhbnNmb3JtSW52Q2FjaGUiLCJ0cmFuc2Zvcm1JbnYiLCJ0cmFuc2Zvcm1JbnZfIiwibWF4U291cmNlRXh0ZW50XyIsImVycm9yVGhyZXNob2xkU3F1YXJlZF8iLCJ0cmlhbmdsZXNfIiwid3JhcHNYSW5Tb3VyY2VfIiwiY2FuV3JhcFhJblNvdXJjZV8iLCJzb3VyY2VXb3JsZFdpZHRoXyIsInRhcmdldFdvcmxkV2lkdGhfIiwiZGVzdGluYXRpb25Ub3BMZWZ0IiwiZGVzdGluYXRpb25Ub3BSaWdodCIsImRlc3RpbmF0aW9uQm90dG9tUmlnaHQiLCJkZXN0aW5hdGlvbkJvdHRvbUxlZnQiLCJzb3VyY2VUb3BMZWZ0Iiwic291cmNlVG9wUmlnaHQiLCJzb3VyY2VCb3R0b21SaWdodCIsInNvdXJjZUJvdHRvbUxlZnQiLCJtYXhTdWJkaXZpc2lvbiIsImFkZFF1YWRfIiwibGVmdEJvdW5kXzEiLCJ0cmlhbmdsZSIsIm5ld1RyaWFuZ2xlIiwiYWRkVHJpYW5nbGVfIiwiYVNyYyIsImJTcmMiLCJjU3JjIiwiZFNyYyIsInNvdXJjZVF1YWRFeHRlbnQiLCJzb3VyY2VDb3ZlcmFnZVgiLCJzb3VyY2VXb3JsZFdpZHRoIiwid3JhcHNYIiwibmVlZHNTdWJkaXZpc2lvbiIsImlzRmluaXRlIiwiaXNOb3RGaW5pdGUiLCJjZW50ZXJTcmMiLCJiYyIsImJjU3JjIiwiZGEiLCJkYVNyYyIsImFiIiwiYWJTcmMiLCJjZCIsImNkU3JjIiwiY2FsY3VsYXRlU291cmNlRXh0ZW50IiwiZ2V0VHJpYW5nbGVzIiwiYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfIiwiZHJhd1Rlc3RUcmlhbmdsZSIsInUxIiwidjEiLCJ1MiIsInYyIiwiY2xvc2VQYXRoIiwidmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmciLCJjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uIiwidGFyZ2V0TWV0ZXJzUGVyVW5pdCIsInNvdXJjZU1ldGVyc1BlclVuaXQiLCJzb3VyY2VFeHRlbnQiLCJjb21wZW5zYXRpb25GYWN0b3IiLCJSZXByb2pUaWxlIiwic291cmNlVGlsZUdyaWQiLCJ0YXJnZXRUaWxlR3JpZCIsIndyYXBwZWRUaWxlQ29vcmQiLCJnZXRUaWxlRnVuY3Rpb24iLCJvcHRfZXJyb3JUaHJlc2hvbGQiLCJvcHRfcmVuZGVyRWRnZXMiLCJvcHRfaW50ZXJwb2xhdGUiLCJyZW5kZXJFZGdlc18iLCJndXR0ZXJfIiwiY2FudmFzXyIsInNvdXJjZVRpbGVHcmlkXyIsInRhcmdldFRpbGVHcmlkXyIsIndyYXBwZWRUaWxlQ29vcmRfIiwic291cmNlVGlsZXNfIiwic291cmNlc0xpc3RlbmVyS2V5c18iLCJzb3VyY2VaXyIsIm1heFRhcmdldEV4dGVudCIsImxpbWl0ZWRUYXJnZXRFeHRlbnQiLCJzb3VyY2VQcm9qRXh0ZW50IiwiY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbiIsImVycm9yVGhyZXNob2xkSW5QaXhlbHMiLCJ0cmlhbmd1bGF0aW9uXyIsInNvdXJjZVJhbmdlIiwic3JjWCIsInNyY1kiLCJyZXByb2plY3RfIiwiZ2V0VGlsZVNpemUiLCJ0cmlhbmd1bGF0aW9uIiwicGl4ZWxSb3VuZCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInNvdXJjZURhdGFFeHRlbnQiLCJjYW52YXNXaWR0aEluVW5pdHMiLCJjYW52YXNIZWlnaHRJblVuaXRzIiwic3RpdGNoQ29udGV4dCIsInN0aXRjaFNjYWxlIiwieFBvcyIsInlQb3MiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsInRhcmdldFRvcExlZnQiLCJ1MCIsInYwIiwic291cmNlTnVtZXJpY2FsU2hpZnRYIiwic291cmNlTnVtZXJpY2FsU2hpZnRZIiwiYWZmaW5lQ29lZnMiLCJtYXhSb3ciLCJtYXhFbCIsImFic1ZhbHVlIiwiY29lZiIsInNvbHZlTGluZWFyU3lzdGVtIiwiaXNCcm9rZW5EaWFnb25hbFJlbmRlcmluZyIsInVkIiwidmQiLCJzdGVwIiwic3RlcHMiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImxlZnRUb0xvYWRfMSIsInNvdXJjZUxpc3RlbktleV8xIiwidW5saXN0ZW5Tb3VyY2VzXyIsIkxSVUNhY2hlIiwib3B0X2hpZ2hXYXRlck1hcmsiLCJoaWdoV2F0ZXJNYXJrIiwiY291bnRfIiwiZW50cmllc18iLCJvbGRlc3RfIiwibmV3ZXN0XyIsImNvbnRhaW5zS2V5IiwiZW50cnkiLCJ2YWx1ZV8iLCJrZXlfIiwibmV3ZXIiLCJvbGRlciIsInBlZWtMYXN0IiwicGVla0xhc3RLZXkiLCJwZWVrRmlyc3RLZXkiLCJvcHRfdGlsZUNvb3JkIiwiZ2V0S2V5WlhZIiwiVGlsZUNhY2hlIiwicHJ1bmVFeGNlcHROZXdlc3RaIiwiU291cmNlIiwiYXR0cmlidXRpb25zXyIsImFkYXB0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGVfIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJ3cmFwWF8iLCJ3cmFwWCIsImludGVycG9sYXRlXyIsInZpZXdSZXNvbHZlciIsInZpZXdSZWplY3RvciIsInZpZXdQcm9taXNlXyIsInJlamVjdCIsInJlZnJlc2giLCJzZXRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkxpa2UiLCJ0bXBUaWxlQ29vcmQiLCJUaWxlR3JpZCIsImNvbXBhcmUiLCJldmVyeSIsImN1cnJlbnRWYWwiLCJyZXMiLCJvcmlnaW5zIiwib3JpZ2luXyIsIm9yaWdpbiIsIm9yaWdpbnNfIiwidGlsZVNpemVzXyIsInRpbGVTaXplcyIsInRpbGVTaXplXyIsInRpbGVTaXplIiwiZnVsbFRpbGVSYW5nZXNfIiwidG1wU2l6ZV8iLCJ0bXBFeHRlbnRfIiwic2l6ZXMiLCJyZXN0cmljdGVkVGlsZVJhbmdlIiwiY2FsY3VsYXRlVGlsZVJhbmdlc18iLCJmb3JFYWNoVGlsZUNvb3JkIiwib3B0X3RpbGVSYW5nZSIsInRpbGVDb29yZEV4dGVudCIsImdldE9yaWdpbiIsImdldFRpbGVSYW5nZUZvclRpbGVDb29yZEFuZFoiLCJ0aWxlQ29vcmRaIiwidGlsZUNvb3JkWCIsInRpbGVDb29yZFkiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIiwiZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyIsInJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kiLCJnZXRUaWxlQ29vcmRSZXNvbHV0aW9uIiwiZ2V0RnVsbFRpbGVSYW5nZSIsImZ1bGxUaWxlUmFuZ2VzIiwiZ2V0Rm9yUHJvamVjdGlvbiIsIm9wdF9tYXhab29tIiwib3B0X3RpbGVTaXplIiwib3B0X2Nvcm5lciIsIm9wdF9tYXhSZXNvbHV0aW9uIiwicmVzb2x1dGlvbnNGcm9tRXh0ZW50IiwiY3JlYXRlRm9yRXh0ZW50IiwiZXh0ZW50RnJvbVByb2plY3Rpb24iLCJjcmVhdGVGb3JQcm9qZWN0aW9uIiwiaGFsZiIsIlRpbGVTb3VyY2UiLCJvcGFxdWVfIiwib3BhcXVlIiwidGlsZVBpeGVsUmF0aW9fIiwidGlsZUNhY2hlIiwidG1wU2l6ZSIsInRpbGVPcHRpb25zIiwiZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInNldEtleSIsImdldFRpbGVHcmlkIiwiZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uIiwid2l0aGluRXh0ZW50QW5kWiIsIlRpbGVTb3VyY2VFdmVudCIsImNyZWF0ZUZyb21UZW1wbGF0ZSIsInRlbXBsYXRlIiwielJlZ0V4IiwieFJlZ0V4IiwieVJlZ0V4IiwiZGFzaFlSZWdFeCIsInJhbmdlIiwiY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnMiLCJ0aWxlVXJsRnVuY3Rpb25zIiwiZXhwYW5kVXJsIiwidXJsIiwidXJscyIsInN0YXJ0Q2hhckNvZGUiLCJzdG9wQ2hhckNvZGUiLCJmcm9tQ2hhckNvZGUiLCJzdG9wXzEiLCJVcmxUaWxlIiwiZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fIiwidGlsZVVybEZ1bmN0aW9uIiwic2V0VXJscyIsInNldFVybCIsInRpbGVMb2FkaW5nS2V5c18iLCJnZXRUaWxlTG9hZEZ1bmN0aW9uIiwiZ2V0VGlsZVVybEZ1bmN0aW9uIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRVcmxzIiwic2V0VGlsZUxvYWRGdW5jdGlvbiIsInNldFRpbGVVcmxGdW5jdGlvbiIsInRlbXBsYXRlcyIsImNyZWF0ZUZyb21UZW1wbGF0ZXMiLCJUaWxlSW1hZ2UiLCJpbWFnZVNtb290aGluZyIsImRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uIiwidGlsZUNsYXNzIiwidGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkIiwicmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfIiwidXNlZFRpbGVDYWNoZSIsImdldEd1dHRlciIsInRoaXNQcm9qIiwicHJvaktleSIsImNyZWF0ZVRpbGVfIiwidXJsVGlsZUNvb3JkIiwidGlsZVVybCIsIm5ld1RpbGUiLCJnZXRUaWxlSW50ZXJuYWwiLCJzZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyIsInNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVncmlkIiwicHJvaiIsImltYWdlVGlsZSIsImFwcGVuZFBhcmFtcyIsInVyaSIsInBhcmFtcyIsImtleVBhcmFtcyIsInFzIiwiV01UUyIsInJlcXVlc3RFbmNvZGluZyIsInZlcnNpb25fIiwidmVyc2lvbiIsImZvcm1hdF8iLCJmb3JtYXQiLCJkaW1lbnNpb25zXyIsImRpbWVuc2lvbnMiLCJtYXRyaXhTZXRfIiwibWF0cml4U2V0Iiwic3R5bGVfIiwicmVxdWVzdEVuY29kaW5nXyIsImdldEtleUZvckRpbWVuc2lvbnNfIiwiY3JlYXRlRnJvbVdNVFNUZW1wbGF0ZSIsImdldERpbWVuc2lvbnMiLCJnZXRGb3JtYXQiLCJnZXRNYXRyaXhTZXQiLCJnZXRSZXF1ZXN0RW5jb2RpbmciLCJnZXRTdHlsZSIsImdldFZlcnNpb24iLCJ1cGRhdGVEaW1lbnNpb25zIiwibG9jYWxDb250ZXh0XzEiLCJnZXRNYXRyaXhJZCIsIldNVFNUaWxlR3JpZCIsIm1hdHJpeElkc18iLCJtYXRyaXhJZHMiLCJnZXRNYXRyaXhJZHMiLCJGZWF0dXJlIiwib3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzIiwiaWRfIiwiZ2VvbWV0cnlOYW1lXyIsInN0eWxlRnVuY3Rpb25fIiwiZ2VvbWV0cnlDaGFuZ2VLZXlfIiwiaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXyIsInNldEdlb21ldHJ5Iiwic2V0R2VvbWV0cnlOYW1lIiwiZ2V0R2VvbWV0cnlOYW1lIiwic2V0U3R5bGUiLCJnZXRTdHlsZUZ1bmN0aW9uIiwiaGFuZGxlR2VvbWV0cnlDaGFuZ2VfIiwib3B0X3N0eWxlIiwic3R5bGVzXzEiLCJzZXRJZCIsIlJCdXNoIiwib3B0X21heEVudHJpZXMiLCJyYnVzaF8iLCJpdGVtc18iLCJleHRlbnRzIiwiaXRlbXMiLCJnZXRBbGwiLCJnZXRJbkV4dGVudCIsImJib3giLCJmb3JFYWNoXyIsImZvckVhY2hJbkV4dGVudCIsInJidXNoIiwieGhyIiwic3VjY2VzcyIsImZhaWx1cmUiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJGb3JtYXRUeXBlIiwicmVzcG9uc2VUeXBlIiwid2l0aENyZWRlbnRpYWxzIiwib25sb2FkIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VYTUwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJyZWFkRmVhdHVyZXMiLCJmZWF0dXJlUHJvamVjdGlvbiIsInJlYWRQcm9qZWN0aW9uIiwib25lcnJvciIsInNlbmQiLCJsb2FkRmVhdHVyZXNYaHIiLCJkYXRhUHJvamVjdGlvbiIsImFkZEZlYXR1cmVzIiwiVmVjdG9yU291cmNlRXZlbnQiLCJvcHRfZmVhdHVyZSIsIm9wdF9mZWF0dXJlcyIsIlZlY3RvclNvdXJjZSIsImxvYWRlcl8iLCJvdmVybGFwc18iLCJvdmVybGFwcyIsInVybF8iLCJsb2FkZXIiLCJzdHJhdGVneV8iLCJzdHJhdGVneSIsInVzZVNwYXRpYWxJbmRleCIsImZlYXR1cmVzUnRyZWVfIiwibG9hZGVkRXh0ZW50c1J0cmVlXyIsImxvYWRpbmdFeHRlbnRzQ291bnRfIiwibnVsbEdlb21ldHJ5RmVhdHVyZXNfIiwiaWRJbmRleF8iLCJ1aWRJbmRleF8iLCJmZWF0dXJlQ2hhbmdlS2V5c18iLCJmZWF0dXJlc0NvbGxlY3Rpb25fIiwiYWRkRmVhdHVyZXNJbnRlcm5hbCIsImJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fIiwiYWRkRmVhdHVyZSIsImFkZEZlYXR1cmVJbnRlcm5hbCIsImZlYXR1cmVLZXkiLCJhZGRUb0luZGV4XyIsInNldHVwQ2hhbmdlRXZlbnRzXyIsIlZlY3RvckV2ZW50VHlwZSIsImhhbmRsZUZlYXR1cmVDaGFuZ2VfIiwidmFsaWQiLCJuZXdGZWF0dXJlcyIsImdlb21ldHJ5RmVhdHVyZXMiLCJsZW5ndGhfMSIsImxlbmd0aF8yIiwibGVuZ3RoXzMiLCJtb2RpZnlpbmdDb2xsZWN0aW9uIiwicmVtb3ZlRmVhdHVyZSIsIm9wdF9mYXN0IiwiZmVhdHVyZUlkIiwicmVtb3ZlQW5kSWdub3JlUmV0dXJuIiwicmVtb3ZlRmVhdHVyZUludGVybmFsIiwiY2xlYXJFdmVudCIsImZvckVhY2hGZWF0dXJlIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QiLCJmb3JFYWNoRmVhdHVyZUluRXh0ZW50IiwiZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQiLCJnZXRGZWF0dXJlc0NvbGxlY3Rpb24iLCJnZXRGZWF0dXJlc0F0Q29vcmRpbmF0ZSIsImdldEZlYXR1cmVzSW5FeHRlbnQiLCJnZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSIsIm9wdF9maWx0ZXIiLCJjbG9zZXN0RmVhdHVyZSIsInByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlIiwibWluRGlzdGFuY2UiLCJnZXRGZWF0dXJlQnlJZCIsImdldEZlYXR1cmVCeVVpZCIsImdldE92ZXJsYXBzIiwiZ2V0VXJsIiwic2lkIiwicmVtb3ZlRnJvbUlkSW5kZXhfIiwiaGFzRmVhdHVyZSIsImxvYWRGZWF0dXJlcyIsImxvYWRlZEV4dGVudHNSdHJlZSIsImV4dGVudHNUb0xvYWQiLCJfbG9vcF8xIiwiZXh0ZW50VG9Mb2FkIiwidGhpc18xIiwicmVtb3ZlTG9hZGVkRXh0ZW50IiwiZmVhdHVyZUNoYW5nZUtleXMiLCJyZW1vdmVkIiwic2V0TG9hZGVyIiwiSW1hZ2VTdHlsZSIsIm9wYWNpdHlfIiwicm90YXRlV2l0aFZpZXdfIiwicm90YXRlV2l0aFZpZXciLCJzY2FsZV8iLCJzY2FsZUFycmF5XyIsImRpc3BsYWNlbWVudF8iLCJkaXNwbGFjZW1lbnQiLCJnZXRTY2FsZSIsImdldFJvdGF0ZVdpdGhWaWV3IiwiZ2V0RGlzcGxhY2VtZW50IiwiZ2V0U2NhbGVBcnJheSIsImdldEFuY2hvciIsImdldEhpdERldGVjdGlvbkltYWdlIiwiZ2V0SW1hZ2VTdGF0ZSIsImdldEltYWdlU2l6ZSIsInNldERpc3BsYWNlbWVudCIsInNldFJvdGF0ZVdpdGhWaWV3Iiwic2V0U2NhbGUiLCJsaXN0ZW5JbWFnZUNoYW5nZSIsInVubGlzdGVuSW1hZ2VDaGFuZ2UiLCJhc0NvbG9yTGlrZSIsIlJlZ3VsYXJTaGFwZSIsImhpdERldGVjdGlvbkNhbnZhc18iLCJmaWxsXyIsImZpbGwiLCJwb2ludHMiLCJyYWRpdXNfIiwicmFkaXVzMSIsInJhZGl1czJfIiwicmFkaXVzMiIsInN0cm9rZV8iLCJzaXplXyIsInJlbmRlck9wdGlvbnNfIiwiZ2V0RmlsbCIsImdldFBvaW50cyIsImdldFJhZGl1cyIsImdldFJhZGl1czIiLCJnZXRTdHJva2UiLCJjcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfIiwicmVuZGVyT3B0aW9ucyIsImRyYXdfIiwiY2FsY3VsYXRlTGluZUpvaW5TaXplXyIsImxpbmVKb2luIiwic3Ryb2tlV2lkdGgiLCJtaXRlckxpbWl0IiwicjEiLCJyMiIsIm1pdGVyUmF0aW8iLCJiZXZlbEFkZCIsImFhIiwiZGQiLCJpbm5lck1pdGVyUmF0aW8iLCJpbm5lckxlbmd0aCIsImNyZWF0ZVJlbmRlck9wdGlvbnMiLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0IiwiZ2V0Q29sb3IiLCJnZXRMaW5lRGFzaCIsImdldExpbmVEYXNoT2Zmc2V0IiwiZ2V0TGluZUpvaW4iLCJnZXRNaXRlckxpbWl0IiwibWF4UmFkaXVzIiwiY3JlYXRlUGF0aF8iLCJzZXRMaW5lRGFzaCIsImRyYXdIaXREZXRlY3Rpb25DYW52YXNfIiwiYXJjIiwic3RhcnRBbmdsZSIsImFuZ2xlMCIsInJhZGl1c0MiLCJDaXJjbGVTdHlsZSIsInNldFJhZGl1cyIsIkZpbGwiLCJjb2xvcl8iLCJzZXRDb2xvciIsIlN0cm9rZSIsImxpbmVDYXBfIiwibGluZUNhcCIsImxpbmVEYXNoXyIsImxpbmVEYXNoT2Zmc2V0XyIsImxpbmVKb2luXyIsIm1pdGVyTGltaXRfIiwid2lkdGhfIiwiZ2V0TGluZUNhcCIsInNldExpbmVDYXAiLCJzZXRMaW5lRGFzaE9mZnNldCIsInNldExpbmVKb2luIiwic2V0TWl0ZXJMaW1pdCIsInNldFdpZHRoIiwiU3R5bGUiLCJnZW9tZXRyeUZ1bmN0aW9uXyIsImRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uIiwicmVuZGVyZXIiLCJoaXREZXRlY3Rpb25SZW5kZXJlcl8iLCJoaXREZXRlY3Rpb25SZW5kZXJlciIsInRleHRfIiwiekluZGV4XyIsImdldFRleHQiLCJzZXRSZW5kZXJlciIsInNldEhpdERldGVjdGlvblJlbmRlcmVyIiwiZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIiLCJnZXRHZW9tZXRyeUZ1bmN0aW9uIiwic2V0RmlsbCIsInNldFN0cm9rZSIsInNldFRleHQiLCJkZWZhdWx0U3R5bGVzIiwiY3JlYXRlRGVmYXVsdFN0eWxlIiwiQ2lyY2xlIiwiQmFzZVZlY3RvckxheWVyIiwicmVuZGVyQnVmZmVyIiwidXBkYXRlV2hpbGVBbmltYXRpbmciLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nIiwiZGVjbHV0dGVyXyIsImRlY2x1dHRlciIsInJlbmRlckJ1ZmZlcl8iLCJ1cGRhdGVXaGlsZUFuaW1hdGluZ18iLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nXyIsImdldERlY2x1dHRlciIsImdldFJlbmRlckJ1ZmZlciIsImdldFJlbmRlck9yZGVyIiwiZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmciLCJnZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nIiwic2V0UmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlciIsInN0eWxlRnVuY3Rpb24iLCJJbnN0cnVjdGlvbiIsIkJFR0lOX0dFT01FVFJZIiwiQkVHSU5fUEFUSCIsIkNJUkNMRSIsIkNMT1NFX1BBVEgiLCJDVVNUT00iLCJEUkFXX0NIQVJTIiwiRFJBV19JTUFHRSIsIkVORF9HRU9NRVRSWSIsIkZJTEwiLCJNT1ZFX1RPX0xJTkVfVE8iLCJTRVRfRklMTF9TVFlMRSIsIlNFVF9TVFJPS0VfU1RZTEUiLCJTVFJPS0UiLCJmaWxsSW5zdHJ1Y3Rpb24iLCJzdHJva2VJbnN0cnVjdGlvbiIsImJlZ2luUGF0aEluc3RydWN0aW9uIiwiY2xvc2VQYXRoSW5zdHJ1Y3Rpb24iLCJWZWN0b3JDb250ZXh0IiwiZHJhd0N1c3RvbSIsImRyYXdHZW9tZXRyeSIsImRyYXdDaXJjbGUiLCJjaXJjbGVHZW9tZXRyeSIsImRyYXdGZWF0dXJlIiwiZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiIsImdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5IiwiZHJhd0xpbmVTdHJpbmciLCJsaW5lU3RyaW5nR2VvbWV0cnkiLCJkcmF3TXVsdGlMaW5lU3RyaW5nIiwibXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkiLCJkcmF3TXVsdGlQb2ludCIsIm11bHRpUG9pbnRHZW9tZXRyeSIsImRyYXdNdWx0aVBvbHlnb24iLCJtdWx0aVBvbHlnb25HZW9tZXRyeSIsImRyYXdQb2ludCIsInBvaW50R2VvbWV0cnkiLCJkcmF3UG9seWdvbiIsInBvbHlnb25HZW9tZXRyeSIsImRyYXdUZXh0Iiwic2V0RmlsbFN0cm9rZVN0eWxlIiwic2V0SW1hZ2VTdHlsZSIsImltYWdlU3R5bGUiLCJvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCIsInNldFRleHRTdHlsZSIsInRleHRTdHlsZSIsIkNhbnZhc0J1aWxkZXIiLCJtYXhMaW5lV2lkdGgiLCJiZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyIsImJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfIiwiYnVmZmVyZWRNYXhFeHRlbnRfIiwiaW5zdHJ1Y3Rpb25zIiwidG1wQ29vcmRpbmF0ZV8iLCJoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJhcHBseVBpeGVsUmF0aW8iLCJkYXNoQXJyYXkiLCJkYXNoIiwiYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMiLCJnZXRCdWZmZXJlZE1heEV4dGVudCIsIm15RW5kIiwiYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyIsImNsb3NlZCIsInNraXBGaXJzdCIsImxhc3RSZWwiLCJuZXh0UmVsIiwibGFzdFhDb29yZCIsImxhc3RZQ29vcmQiLCJuZXh0Q29vcmQiLCJza2lwcGVkIiwiZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyIsImJ1aWxkZXJFbmRzIiwiYnVpbGRlckVuZCIsImJlZ2luR2VvbWV0cnkiLCJidWlsZGVyRW5kc3MiLCJidWlsZGVyQmVnaW4iLCJnZXRFbmRzcyIsIm15RW5kcyIsImVuZEdlb21ldHJ5IiwiZmluaXNoIiwicmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucyIsImluc3RydWN0aW9uIiwiZmlsbFN0eWxlQ29sb3IiLCJzdHJva2VTdHlsZUNvbG9yIiwic3Ryb2tlU3R5bGVMaW5lQ2FwIiwic3Ryb2tlU3R5bGVMaW5lRGFzaCIsInN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQiLCJzdHJva2VTdHlsZUxpbmVKb2luIiwic3Ryb2tlU3R5bGVXaWR0aCIsInN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsImNyZWF0ZUZpbGwiLCJhcHBseVN0cm9rZSIsImNyZWF0ZVN0cm9rZSIsInVwZGF0ZUZpbGxTdHlsZSIsImN1cnJlbnRGaWxsU3R5bGUiLCJ1cGRhdGVTdHJva2VTdHlsZSIsImN1cnJlbnRTdHJva2VTdHlsZSIsImN1cnJlbnRMaW5lQ2FwIiwiY3VycmVudExpbmVEYXNoIiwiY3VycmVudExpbmVEYXNoT2Zmc2V0IiwiY3VycmVudExpbmVKb2luIiwiY3VycmVudExpbmVXaWR0aCIsImN1cnJlbnRNaXRlckxpbWl0IiwiZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiIsIkNhbnZhc0ltYWdlQnVpbGRlciIsImhpdERldGVjdGlvbkltYWdlXyIsImltYWdlUGl4ZWxSYXRpb18iLCJhbmNob3JYXyIsImFuY2hvcllfIiwiaGVpZ2h0XyIsIm9yaWdpblhfIiwib3JpZ2luWV8iLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyIsIm15QmVnaW4iLCJvcHRfc2hhcmVkRGF0YSIsImhpdERldGVjdGlvbkltYWdlIiwiQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIiLCJkcmF3RmxhdENvb3JkaW5hdGVzXyIsIm1vdmVUb0xpbmVUb0luc3RydWN0aW9uIiwibGFzdFN0cm9rZSIsIkNhbnZhc1BvbHlnb25CdWlsZGVyIiwiZHJhd0ZsYXRDb29yZGluYXRlc3NfIiwibnVtRW5kcyIsInNldEZpbGxTdHJva2VTdHlsZXNfIiwiY2lyY2xlSW5zdHJ1Y3Rpb24iLCJtYXRjaGluZ0NodW5rIiwibWF4QW5nbGUiLCJtMTIiLCJtMjMiLCJ4MTIiLCJ5MTIiLCJ4MjMiLCJ5MjMiLCJjaHVua1N0YXJ0IiwiY2h1bmtFbmQiLCJjaHVua00iLCJhY29zIiwiVEVYVF9BTElHTiIsIkNhbnZhc1RleHRCdWlsZGVyIiwibGFiZWxzXyIsInRleHRPZmZzZXRYXyIsInRleHRPZmZzZXRZXyIsInRleHRSb3RhdGVXaXRoVmlld18iLCJ0ZXh0Um90YXRpb25fIiwidGV4dEZpbGxTdGF0ZV8iLCJmaWxsU3RhdGVzIiwidGV4dFN0cm9rZVN0YXRlXyIsInN0cm9rZVN0YXRlcyIsInRleHRTdGF0ZV8iLCJ0ZXh0U3RhdGVzIiwidGV4dEtleV8iLCJmaWxsS2V5XyIsInN0cm9rZUtleV8iLCJmaWxsU3RhdGUiLCJzdHJva2VTdGF0ZSIsInRleHRTdGF0ZSIsImdlb21ldHJ5VHlwZSIsInBsYWNlbWVudCIsImdlb21ldHJ5V2lkdGhzIiwiZ2V0RmxhdE1pZHBvaW50IiwiZ2V0RmxhdE1pZHBvaW50cyIsImludGVyaW9yUG9pbnRzIiwiZ2V0RmxhdEludGVyaW9yUG9pbnRzIiwiYmVnXzEiLCJrZWVwIiwic2F2ZVRleHRTdGF0ZXNfIiwiYmFja2dyb3VuZEZpbGwiLCJiYWNrZ3JvdW5kU3Ryb2tlIiwicDAiLCJwMSIsInAyIiwicDMiLCJwaXhlbFJhdGlvXzEiLCJ0ZXh0QWxpZ24iLCJmbGF0T2Zmc2V0IiwiZmxhdEVuZCIsIm9vIiwiZHJhd0NoYXJzXyIsInN0cm9rZUtleSIsInRleHRLZXkiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsS2V5IiwiYmFzZWxpbmUiLCJ0ZXh0RmlsbFN0eWxlIiwidGV4dFN0cm9rZVN0eWxlIiwiZ2V0Rm9udCIsInRleHRTY2FsZSIsImdldE92ZXJmbG93IiwiZ2V0TWF4QW5nbGUiLCJnZXRQbGFjZW1lbnQiLCJnZXRUZXh0QWxpZ24iLCJnZXRUZXh0QmFzZWxpbmUiLCJnZXRCYWNrZ3JvdW5kRmlsbCIsImdldEJhY2tncm91bmRTdHJva2UiLCJnZXRQYWRkaW5nIiwidGV4dE9mZnNldFgiLCJnZXRPZmZzZXRYIiwidGV4dE9mZnNldFkiLCJnZXRPZmZzZXRZIiwidGV4dFJvdGF0ZVdpdGhWaWV3IiwidGV4dFJvdGF0aW9uIiwiQkFUQ0hfQ09OU1RSVUNUT1JTIiwiUG9seWdvbkJ1aWxkZXIiLCJCdWlsZGVyIiwiSW1hZ2VCdWlsZGVyIiwiTGluZVN0cmluZ0J1aWxkZXIiLCJCdWlsZGVyR3JvdXAiLCJ0b2xlcmFuY2VfIiwibWF4RXh0ZW50XyIsInJlc29sdXRpb25fIiwiYnVpbGRlcnNCeVpJbmRleF8iLCJidWlsZGVySW5zdHJ1Y3Rpb25zIiwiektleSIsImJ1aWxkZXJzIiwiYnVpbGRlcktleSIsImJ1aWxkZXJJbnN0cnVjdGlvbiIsImdldEJ1aWxkZXIiLCJidWlsZGVyVHlwZSIsInpJbmRleEtleSIsInJlcGxheXMiLCJyZXBsYXkiLCJDb25zdHJ1Y3RvciIsImRyYXdUZXh0T25QYXRoIiwic3RhcnRNIiwic2VnbWVudE0iLCJhZHZhbmNlIiwiYmVnaW5YIiwiYmVnaW5ZIiwic3RhcnRPZmZzZXQiLCJzdGFydExlbmd0aCIsImVuZE0iLCJmbGF0IiwicHJldmlvdXNBbmdsZSIsInNpbmdsZVNlZ21lbnQiLCJpU3RhcnQiLCJjaGFyTGVuZ3RoIiwiY2hhcnMiLCJzdWJzdHJpbmciLCJsaW5lU3RyaW5nTGVuZ3RoIiwicDQiLCJnZXREZWNsdXR0ZXJCb3giLCJyZXBsYXlJbWFnZU9yTGFiZWxBcmdzIiwiZGVjbHV0dGVyQm94IiwicnRsUmVnRXgiLCJob3Jpem9udGFsVGV4dEFsaWduIiwiYWxpZ24iLCJ0ZXN0IiwiRXhlY3V0b3IiLCJhbGlnbkZpbGxfIiwiY29vcmRpbmF0ZUNhY2hlXyIsInJlbmRlcmVkVHJhbnNmb3JtXyIsInBpeGVsQ29vcmRpbmF0ZXNfIiwidmlld1JvdGF0aW9uXyIsIndpZHRoc18iLCJjcmVhdGVMYWJlbCIsImxpbmVzIiwibnVtTGluZXMiLCJ3aWR0aHMiLCJjdXJyZW50V2lkdGgiLCJtZWFzdXJlVGV4dFdpZHRocyIsIm1ldHJpY3MiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsImFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImJvcmRlciIsIm1lYXN1cmVUZXh0SGVpZ2h0IiwicmVuZGVyV2lkdGgiLCJjb250ZXh0SW5zdHJ1Y3Rpb25zIiwiT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwibGVmdFJpZ2h0IiwicmVwbGF5VGV4dEJhY2tncm91bmRfIiwic2V0U3Ryb2tlU3R5bGVfIiwiY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18iLCJzaGVldFdpZHRoIiwic2hlZXRIZWlnaHQiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNuYXBUb1BpeGVsIiwiZmlsbFN0cm9rZSIsImJveFciLCJib3hIIiwiYm94WCIsImJveFkiLCJkcmF3SW1hZ2VYIiwiZHJhd0ltYWdlWSIsImRyYXdJbWFnZVciLCJkcmF3SW1hZ2VIIiwicmVwbGF5SW1hZ2VPckxhYmVsXyIsImNvbnRleHRTY2FsZSIsImltYWdlT3JMYWJlbCIsImJveCIsInN0cm9rZVBhZGRpbmciLCJsYWJlbE9ySW1hZ2UiLCJzZXRUcmFuc2Zvcm0iLCJleGVjdXRlTGFiZWxJbnN0cnVjdGlvbnMiLCJkcmF3SW1hZ2VPckxhYmVsIiwicmVwZWF0U2l6ZSIsImRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8iLCJleGVjdXRlXyIsIm9wdF9mZWF0dXJlQ2FsbGJhY2siLCJvcHRfaGl0RXh0ZW50Iiwib3B0X2RlY2x1dHRlclRyZWUiLCJwaXhlbENvb3JkaW5hdGVzIiwidHJhbnNmb3JtMSIsInRyYW5zZm9ybTIiLCJwcmV2WCIsInByZXZZIiwicm91bmRYIiwicm91bmRZIiwiY3VycmVudEdlb21ldHJ5IiwicGVuZGluZ0ZpbGwiLCJwZW5kaW5nU3Ryb2tlIiwibGFzdEZpbGxJbnN0cnVjdGlvbiIsImxhc3RTdHJva2VJbnN0cnVjdGlvbiIsImNvb3JkaW5hdGVDYWNoZSIsInZpZXdSb3RhdGlvbiIsInZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0iLCJiYXRjaFNpemUiLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0IiwibGFiZWxXaXRoQW5jaG9yIiwid2lkdGhJbmRleCIsImltYWdlQXJncyIsImltYWdlRGVjbHV0dGVyQm94IiwibWVhc3VyZVBpeGVsUmF0aW8iLCJwaXhlbFJhdGlvU2NhbGUiLCJjYWNoZWRXaWR0aHMiLCJwYXRoTGVuZ3RoIiwidGV4dExlbmd0aCIsInBhcnRzIiwiZHJhd0NoYXJzIiwiY2MiLCJwYXJ0IiwiaWlfMSIsImV4ZWN1dGUiLCJleGVjdXRlSGl0RGV0ZWN0aW9uIiwiT1JERVIiLCJCdWlsZGVyVHlwZSIsIkV4ZWN1dG9yR3JvdXAiLCJhbGxJbnN0cnVjdGlvbnMiLCJvcHRfcmVuZGVyQnVmZmVyIiwiZXhlY3V0b3JzQnlaSW5kZXhfIiwiaGl0RGV0ZWN0aW9uQ29udGV4dF8iLCJoaXREZXRlY3Rpb25UcmFuc2Zvcm1fIiwiY3JlYXRlRXhlY3V0b3JzXyIsImZsYXRDbGlwQ29vcmRzIiwiZ2V0Q2xpcENvb3JkcyIsImV4ZWN1dG9ycyIsImluc3RydWN0aW9uQnlaaW5kZXgiLCJoYXNFeGVjdXRvcnMiLCJjYW5kaWRhdGVzIiwiZGVjbHV0dGVyZWRGZWF0dXJlcyIsImNvbnRleHRTaXplIiwibmV3Q29udGV4dCIsImhpdEV4dGVudCIsImluZGV4ZXMiLCJjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZSIsIm1heERpc3RhbmNlU3EiLCJkaXN0YW5jZXMiLCJwaXhlbEluZGV4IiwiZ2V0UGl4ZWxJbmRleEFycmF5IiwiZmVhdHVyZUNhbGxiYWNrIiwiaW1hZ2VEYXRhIiwiaWR4IiwicmVzdWx0XzEiLCJleGVjdXRvciIsIm9wdF9idWlsZGVyVHlwZXMiLCJidWlsZGVyVHlwZXMiLCJDYW52YXNJbW1lZGlhdGVSZW5kZXJlciIsIm9wdF9zcXVhcmVkVG9sZXJhbmNlIiwib3B0X3VzZXJUcmFuc2Zvcm0iLCJjb250ZXh0XyIsInRyYW5zZm9ybV8iLCJzcXVhcmVkVG9sZXJhbmNlXyIsInVzZXJUcmFuc2Zvcm1fIiwiY29udGV4dEZpbGxTdGF0ZV8iLCJjb250ZXh0U3Ryb2tlU3RhdGVfIiwiY29udGV4dFRleHRTdGF0ZV8iLCJmaWxsU3RhdGVfIiwic3Ryb2tlU3RhdGVfIiwiaW1hZ2VBbmNob3JYXyIsImltYWdlQW5jaG9yWV8iLCJpbWFnZUhlaWdodF8iLCJpbWFnZU9wYWNpdHlfIiwiaW1hZ2VPcmlnaW5YXyIsImltYWdlT3JpZ2luWV8iLCJpbWFnZVJvdGF0ZVdpdGhWaWV3XyIsImltYWdlUm90YXRpb25fIiwiaW1hZ2VTY2FsZV8iLCJpbWFnZVdpZHRoXyIsInRleHRTY2FsZV8iLCJ0bXBMb2NhbFRyYW5zZm9ybV8iLCJkcmF3SW1hZ2VzXyIsImxvY2FsVHJhbnNmb3JtIiwiZHJhd1RleHRfIiwic2V0Q29udGV4dEZpbGxTdGF0ZV8iLCJzZXRDb250ZXh0U3Ryb2tlU3RhdGVfIiwic2V0Q29udGV4dFRleHRTdGF0ZV8iLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJtb3ZlVG9MaW5lVG9fIiwiY2xvc2UiLCJkcmF3UmluZ3NfIiwic2ltcGxlR2VvbWV0cnkiLCJ0cmFuc2Zvcm1HZW9tMkQiLCJnZW9tZXRyaWVzIiwiZ2V0R2VvbWV0cmllc0FycmF5IiwiZmxhdE1pZHBvaW50IiwiZ2VvbWV0cnlFeHRlbnQiLCJmbGF0TWlkcG9pbnRzIiwiZmxhdEludGVyaW9yUG9pbnQiLCJmbGF0SW50ZXJpb3JQb2ludHMiLCJjb250ZXh0RmlsbFN0YXRlIiwiY29udGV4dFN0cm9rZVN0YXRlIiwiY29udGV4dFRleHRTdGF0ZSIsImltYWdlU2l6ZSIsImltYWdlQW5jaG9yIiwiaW1hZ2VPcmlnaW4iLCJ0ZXh0RmlsbFN0eWxlQ29sb3IiLCJ0ZXh0U3Ryb2tlU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUxpbmVDYXAiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwidGV4dFN0cm9rZVN0eWxlTGluZUpvaW4iLCJ0ZXh0U3Ryb2tlU3R5bGVXaWR0aCIsInRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQiLCJ0ZXh0Rm9udCIsInRleHRUZXh0IiwidGV4dFRleHRBbGlnbiIsInRleHRUZXh0QmFzZWxpbmUiLCJ0YWludGVkVGVzdENvbnRleHQiLCJJY29uSW1hZ2UiLCJpbWFnZVN0YXRlXyIsInRhaW50ZWRfIiwiaXNUYWludGVkXyIsImRpc3BhdGNoQ2hhbmdlRXZlbnRfIiwicmVwbGFjZUNvbG9yXyIsImdldFNyYyIsImltZ0RhdGEiLCJwdXRJbWFnZURhdGEiLCJJY29uIiwibm9ybWFsaXplZEFuY2hvcl8iLCJhbmNob3JPcmlnaW5fIiwiYW5jaG9yT3JpZ2luIiwiSWNvbk9yaWdpbiIsImFuY2hvclhVbml0c18iLCJhbmNob3JYVW5pdHMiLCJJY29uQW5jaG9yVW5pdHMiLCJhbmNob3JZVW5pdHNfIiwiYW5jaG9yWVVuaXRzIiwiaW1nU2l6ZSIsImljb25JbWFnZV8iLCJvZmZzZXRfIiwib2Zmc2V0T3JpZ2luXyIsIm9mZnNldE9yaWdpbiIsInNldEFuY2hvciIsImljb25JbWFnZVNpemUiLCJISVRfREVURUNUX1JFU09MVVRJT04iLCJHRU9NRVRSWV9SRU5ERVJFUlMiLCJidWlsZGVyR3JvdXAiLCJvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIiwiaW1hZ2VSZXBsYXkiLCJ0ZXh0UmVwbGF5IiwibGluZVN0cmluZ1JlcGxheSIsInBvbHlnb25SZXBsYXkiLCJyZXBsYXlHcm91cCIsImdlb21ldHJ5UmVuZGVyZXIiLCJjaXJjbGVSZXBsYXkiLCJkZWZhdWx0T3JkZXIiLCJmZWF0dXJlMSIsImZlYXR1cmUyIiwiZ2V0VG9sZXJhbmNlIiwicmVuZGVyRmVhdHVyZSIsInJlbmRlckdlb21ldHJ5IiwicmVuZGVyRmVhdHVyZUludGVybmFsIiwiZ2V0R2VvbWV0cmllcyIsIkNhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIiLCJ2ZWN0b3JMYXllciIsImJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsImFuaW1hdGluZ09ySW50ZXJhY3RpbmdfIiwiZGlydHlfIiwiaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXyIsInJlbmRlcmVkRmVhdHVyZXNfIiwicmVuZGVyZWRSZXZpc2lvbl8iLCJyZW5kZXJlZFJlc29sdXRpb25fIiwid3JhcHBlZFJlbmRlcmVkRXh0ZW50XyIsInJlbmRlcmVkUm90YXRpb25fIiwicmVuZGVyZWRDZW50ZXJfIiwicmVuZGVyZWRQcm9qZWN0aW9uXyIsInJlbmRlcmVkUmVuZGVyT3JkZXJfIiwicmVwbGF5R3JvdXBfIiwicmVwbGF5R3JvdXBDaGFuZ2VkIiwiY2xpcHBpbmciLCJyZW5kZXJXb3JsZHMiLCJleGVjdXRvckdyb3VwIiwidmVjdG9yU291cmNlIiwiZW5kV29ybGQiLCJ3b3JsZCIsIm1ha2VTY2FsZSIsImNsaXBwZWQiLCJmZWF0dXJlQ291bnQiLCJpbmRleEZhY3RvciIsImZlYXR1cmVzQnlaSW5kZXgiLCJmZWF0dXJlU3R5bGVGdW5jdGlvbiIsInN0eWxlcyIsIm9yaWdpbmFsU3R5bGUiLCJpbWdDb250ZXh0IiwiYnlHZW9tZXRyeVR5cGUiLCJ6SW5kZXhLZXlzIiwiZ2VvbUFuZFN0eWxlIiwia2siLCJjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEiLCJyZXN1bHRGZWF0dXJlcyIsImhpdERldGVjdCIsImxhc3RJbmRleE9mIiwiZXhlY3V0b3JHcm91cHMiLCJhbmltYXRpbmciLCJpbnRlcmFjdGluZyIsImZyYW1lU3RhdGVFeHRlbnQiLCJ2ZWN0b3JMYXllclJldmlzaW9uIiwidmVjdG9yTGF5ZXJSZW5kZXJCdWZmZXIiLCJ2ZWN0b3JMYXllclJlbmRlck9yZGVyIiwicmVuZGVyZWRFeHRlbnQiLCJsb2FkRXh0ZW50cyIsImxvYWRFeHRlbnQiLCJkZWNsdXR0ZXJCdWlsZGVyR3JvdXAiLCJ1c2VyVHJhbnNmb3JtIiwidXNlckV4dGVudF8xIiwiZGlydHkiLCJ1c2VyRXh0ZW50IiwicmVwbGF5R3JvdXBJbnN0cnVjdGlvbnMiLCJWZWN0b3JMYXllciIsIkJhc2VWZWN0b3IiLCJtYXBfd210cyIsImpzb25fYWxsIiwiZGFuZ2VyTGV2ZWwiLCJqc29uX2FsbF8xIiwiZGFuZ2VyUHJvcyIsInByb3ZpbmNlU2hvcnROYW1lIiwiZGFuZ2VyQXJlYXMiLCJjaXR5TmFtZSIsImljb25TdHlsZSIsIm1hcmtlciIsIlZlY3RvciJdLCJzb3VyY2VSb290IjoiIn0=